var kte=Object.defineProperty;var pO=r=>{throw TypeError(r)};var Lte=(r,e,t)=>e in r?kte(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Ce=(r,e,t)=>Lte(r,typeof e!="symbol"?e+"":e,t),dI=(r,e,t)=>e.has(r)||pO("Cannot "+t);var d=(r,e,t)=>(dI(r,e,"read from private field"),t?t.call(r):e.get(r)),V=(r,e,t)=>e.has(r)?pO("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),M=(r,e,t,n)=>(dI(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),z=(r,e,t)=>(dI(r,e,"access private method"),t);var Hi=(r,e,t,n)=>({set _(i){M(r,e,i,t)},get _(){return d(r,e,n)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var Pte=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dj(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var pj={exports:{}},HF={},gj={exports:{}},Fr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QE=Symbol.for("react.element"),Rte=Symbol.for("react.portal"),Dte=Symbol.for("react.fragment"),Nte=Symbol.for("react.strict_mode"),Ute=Symbol.for("react.profiler"),Mte=Symbol.for("react.provider"),Ote=Symbol.for("react.context"),Qte=Symbol.for("react.forward_ref"),Hte=Symbol.for("react.suspense"),Vte=Symbol.for("react.memo"),jte=Symbol.for("react.lazy"),gO=Symbol.iterator;function Kte(r){return r===null||typeof r!="object"?null:(r=gO&&r[gO]||r["@@iterator"],typeof r=="function"?r:null)}var mj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vj=Object.assign,wj={};function Sy(r,e,t){this.props=r,this.context=e,this.refs=wj,this.updater=t||mj}Sy.prototype.isReactComponent={};Sy.prototype.setState=function(r,e){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,r,e,"setState")};Sy.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function yj(){}yj.prototype=Sy.prototype;function TD(r,e,t){this.props=r,this.context=e,this.refs=wj,this.updater=t||mj}var FD=TD.prototype=new yj;FD.constructor=TD;vj(FD,Sy.prototype);FD.isPureReactComponent=!0;var mO=Array.isArray,xj=Object.prototype.hasOwnProperty,ID={current:null},_j={key:!0,ref:!0,__self:!0,__source:!0};function bj(r,e,t){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)xj.call(e,n)&&!_j.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=t;else if(1<o){for(var l=Array(o),A=0;A<o;A++)l[A]=arguments[A+2];i.children=l}if(r&&r.defaultProps)for(n in o=r.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:QE,type:r,key:s,ref:a,props:i,_owner:ID.current}}function zte(r,e){return{$$typeof:QE,type:r.type,key:e,ref:r.ref,props:r.props,_owner:r._owner}}function kD(r){return typeof r=="object"&&r!==null&&r.$$typeof===QE}function Wte(r){var e={"=":"=0",":":"=2"};return"$"+r.replace(/[=:]/g,function(t){return e[t]})}var vO=/\/+/g;function pI(r,e){return typeof r=="object"&&r!==null&&r.key!=null?Wte(""+r.key):e.toString(36)}function yS(r,e,t,n,i){var s=typeof r;(s==="undefined"||s==="boolean")&&(r=null);var a=!1;if(r===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(r.$$typeof){case QE:case Rte:a=!0}}if(a)return a=r,i=i(a),r=n===""?"."+pI(a,0):n,mO(i)?(t="",r!=null&&(t=r.replace(vO,"$&/")+"/"),yS(i,e,t,"",function(A){return A})):i!=null&&(kD(i)&&(i=zte(i,t+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(vO,"$&/")+"/")+r)),e.push(i)),1;if(a=0,n=n===""?".":n+":",mO(r))for(var o=0;o<r.length;o++){s=r[o];var l=n+pI(s,o);a+=yS(s,e,t,l,i)}else if(l=Kte(r),typeof l=="function")for(r=l.call(r),o=0;!(s=r.next()).done;)s=s.value,l=n+pI(s,o++),a+=yS(s,e,t,l,i);else if(s==="object")throw e=String(r),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function HC(r,e,t){if(r==null)return r;var n=[],i=0;return yS(r,n,"","",function(s){return e.call(t,s,i++)}),n}function Gte(r){if(r._status===-1){var e=r._result;e=e(),e.then(function(t){(r._status===0||r._status===-1)&&(r._status=1,r._result=t)},function(t){(r._status===0||r._status===-1)&&(r._status=2,r._result=t)}),r._status===-1&&(r._status=0,r._result=e)}if(r._status===1)return r._result.default;throw r._result}var Eo={current:null},xS={transition:null},$te={ReactCurrentDispatcher:Eo,ReactCurrentBatchConfig:xS,ReactCurrentOwner:ID};function Ej(){throw Error("act(...) is not supported in production builds of React.")}Fr.Children={map:HC,forEach:function(r,e,t){HC(r,function(){e.apply(this,arguments)},t)},count:function(r){var e=0;return HC(r,function(){e++}),e},toArray:function(r){return HC(r,function(e){return e})||[]},only:function(r){if(!kD(r))throw Error("React.Children.only expected to receive a single React element child.");return r}};Fr.Component=Sy;Fr.Fragment=Dte;Fr.Profiler=Ute;Fr.PureComponent=TD;Fr.StrictMode=Nte;Fr.Suspense=Hte;Fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$te;Fr.act=Ej;Fr.cloneElement=function(r,e,t){if(r==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+r+".");var n=vj({},r.props),i=r.key,s=r.ref,a=r._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=ID.current),e.key!==void 0&&(i=""+e.key),r.type&&r.type.defaultProps)var o=r.type.defaultProps;for(l in e)xj.call(e,l)&&!_j.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=t;else if(1<l){o=Array(l);for(var A=0;A<l;A++)o[A]=arguments[A+2];n.children=o}return{$$typeof:QE,type:r.type,key:i,ref:s,props:n,_owner:a}};Fr.createContext=function(r){return r={$$typeof:Ote,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},r.Provider={$$typeof:Mte,_context:r},r.Consumer=r};Fr.createElement=bj;Fr.createFactory=function(r){var e=bj.bind(null,r);return e.type=r,e};Fr.createRef=function(){return{current:null}};Fr.forwardRef=function(r){return{$$typeof:Qte,render:r}};Fr.isValidElement=kD;Fr.lazy=function(r){return{$$typeof:jte,_payload:{_status:-1,_result:r},_init:Gte}};Fr.memo=function(r,e){return{$$typeof:Vte,type:r,compare:e===void 0?null:e}};Fr.startTransition=function(r){var e=xS.transition;xS.transition={};try{r()}finally{xS.transition=e}};Fr.unstable_act=Ej;Fr.useCallback=function(r,e){return Eo.current.useCallback(r,e)};Fr.useContext=function(r){return Eo.current.useContext(r)};Fr.useDebugValue=function(){};Fr.useDeferredValue=function(r){return Eo.current.useDeferredValue(r)};Fr.useEffect=function(r,e){return Eo.current.useEffect(r,e)};Fr.useId=function(){return Eo.current.useId()};Fr.useImperativeHandle=function(r,e,t){return Eo.current.useImperativeHandle(r,e,t)};Fr.useInsertionEffect=function(r,e){return Eo.current.useInsertionEffect(r,e)};Fr.useLayoutEffect=function(r,e){return Eo.current.useLayoutEffect(r,e)};Fr.useMemo=function(r,e){return Eo.current.useMemo(r,e)};Fr.useReducer=function(r,e,t){return Eo.current.useReducer(r,e,t)};Fr.useRef=function(r){return Eo.current.useRef(r)};Fr.useState=function(r){return Eo.current.useState(r)};Fr.useSyncExternalStore=function(r,e,t){return Eo.current.useSyncExternalStore(r,e,t)};Fr.useTransition=function(){return Eo.current.useTransition()};Fr.version="18.3.1";gj.exports=Fr;var nr=gj.exports;const qte=dj(nr);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xte=nr,Yte=Symbol.for("react.element"),Jte=Symbol.for("react.fragment"),Zte=Object.prototype.hasOwnProperty,ere=Xte.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tre={key:!0,ref:!0,__self:!0,__source:!0};function Cj(r,e,t){var n,i={},s=null,a=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)Zte.call(e,n)&&!tre.hasOwnProperty(n)&&(i[n]=e[n]);if(r&&r.defaultProps)for(n in e=r.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:Yte,type:r,key:s,ref:a,props:i,_owner:ere.current}}HF.Fragment=Jte;HF.jsx=Cj;HF.jsxs=Cj;pj.exports=HF;var Ze=pj.exports,C3={},Bj={exports:{}},ql={},Sj={exports:{}},Tj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(r){function e(re,W){var pe=re.length;re.push(W);e:for(;0<pe;){var _e=pe-1>>>1,P=re[_e];if(0<i(P,W))re[_e]=W,re[pe]=P,pe=_e;else break e}}function t(re){return re.length===0?null:re[0]}function n(re){if(re.length===0)return null;var W=re[0],pe=re.pop();if(pe!==W){re[0]=pe;e:for(var _e=0,P=re.length,O=P>>>1;_e<O;){var H=2*(_e+1)-1,K=re[H],Z=H+1,he=re[Z];if(0>i(K,pe))Z<P&&0>i(he,K)?(re[_e]=he,re[Z]=pe,_e=Z):(re[_e]=K,re[H]=pe,_e=H);else if(Z<P&&0>i(he,pe))re[_e]=he,re[Z]=pe,_e=Z;else break e}}return W}function i(re,W){var pe=re.sortIndex-W.sortIndex;return pe!==0?pe:re.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();r.unstable_now=function(){return a.now()-o}}var l=[],A=[],c=1,u=null,h=3,f=!1,g=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(re){for(var W=t(A);W!==null;){if(W.callback===null)n(A);else if(W.startTime<=re)n(A),W.sortIndex=W.expirationTime,e(l,W);else break;W=t(A)}}function S(re){if(p=!1,_(re),!g)if(t(l)!==null)g=!0,oe(k);else{var W=t(A);W!==null&&te(S,W.startTime-re)}}function k(re,W){g=!1,p&&(p=!1,m(E),E=-1),f=!0;var pe=h;try{for(_(W),u=t(l);u!==null&&(!(u.expirationTime>W)||re&&!T());){var _e=u.callback;if(typeof _e=="function"){u.callback=null,h=u.priorityLevel;var P=_e(u.expirationTime<=W);W=r.unstable_now(),typeof P=="function"?u.callback=P:u===t(l)&&n(l),_(W)}else n(l);u=t(l)}if(u!==null)var O=!0;else{var H=t(A);H!==null&&te(S,H.startTime-W),O=!1}return O}finally{u=null,h=pe,f=!1}}var R=!1,B=null,E=-1,b=5,I=-1;function T(){return!(r.unstable_now()-I<b)}function F(){if(B!==null){var re=r.unstable_now();I=re;var W=!0;try{W=B(!0,re)}finally{W?D():(R=!1,B=null)}}else R=!1}var D;if(typeof x=="function")D=function(){x(F)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,ie=q.port2;q.port1.onmessage=F,D=function(){ie.postMessage(null)}}else D=function(){v(F,0)};function oe(re){B=re,R||(R=!0,D())}function te(re,W){E=v(function(){re(r.unstable_now())},W)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(re){re.callback=null},r.unstable_continueExecution=function(){g||f||(g=!0,oe(k))},r.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<re?Math.floor(1e3/re):5},r.unstable_getCurrentPriorityLevel=function(){return h},r.unstable_getFirstCallbackNode=function(){return t(l)},r.unstable_next=function(re){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var pe=h;h=W;try{return re()}finally{h=pe}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(re,W){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var pe=h;h=re;try{return W()}finally{h=pe}},r.unstable_scheduleCallback=function(re,W,pe){var _e=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?_e+pe:_e):pe=_e,re){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=pe+P,re={id:c++,callback:W,priorityLevel:re,startTime:pe,expirationTime:P,sortIndex:-1},pe>_e?(re.sortIndex=pe,e(A,re),t(l)===null&&re===t(A)&&(p?(m(E),E=-1):p=!0,te(S,pe-_e))):(re.sortIndex=P,e(l,re),g||f||(g=!0,oe(k))),re},r.unstable_shouldYield=T,r.unstable_wrapCallback=function(re){var W=h;return function(){var pe=h;h=W;try{return re.apply(this,arguments)}finally{h=pe}}}})(Tj);Sj.exports=Tj;var rre=Sj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nre=nr,Gl=rre;function st(r){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+r,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+r+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Fj=new Set,a_={};function qm(r,e){oy(r,e),oy(r+"Capture",e)}function oy(r,e){for(a_[r]=e,r=0;r<e.length;r++)Fj.add(e[r])}var _f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),B3=Object.prototype.hasOwnProperty,ire=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wO={},yO={};function sre(r){return B3.call(yO,r)?!0:B3.call(wO,r)?!1:ire.test(r)?yO[r]=!0:(wO[r]=!0,!1)}function are(r,e,t,n){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:t!==null?!t.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function ore(r,e,t,n){if(e===null||typeof e>"u"||are(r,e,t,n))return!0;if(n)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Co(r,e,t,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=r,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var ma={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){ma[r]=new Co(r,0,!1,r,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var e=r[0];ma[e]=new Co(e,1,!1,r[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(r){ma[r]=new Co(r,2,!1,r.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){ma[r]=new Co(r,2,!1,r,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){ma[r]=new Co(r,3,!1,r.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(r){ma[r]=new Co(r,3,!0,r,null,!1,!1)});["capture","download"].forEach(function(r){ma[r]=new Co(r,4,!1,r,null,!1,!1)});["cols","rows","size","span"].forEach(function(r){ma[r]=new Co(r,6,!1,r,null,!1,!1)});["rowSpan","start"].forEach(function(r){ma[r]=new Co(r,5,!1,r.toLowerCase(),null,!1,!1)});var LD=/[\-:]([a-z])/g;function PD(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var e=r.replace(LD,PD);ma[e]=new Co(e,1,!1,r,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var e=r.replace(LD,PD);ma[e]=new Co(e,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(r){var e=r.replace(LD,PD);ma[e]=new Co(e,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(r){ma[r]=new Co(r,1,!1,r.toLowerCase(),null,!1,!1)});ma.xlinkHref=new Co("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(r){ma[r]=new Co(r,1,!1,r.toLowerCase(),null,!0,!0)});function RD(r,e,t,n){var i=ma.hasOwnProperty(e)?ma[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ore(e,t,i,n)&&(t=null),n||i===null?sre(e)&&(t===null?r.removeAttribute(e):r.setAttribute(e,""+t)):i.mustUseProperty?r[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,n=i.attributeNamespace,t===null?r.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,n?r.setAttributeNS(n,e,t):r.setAttribute(e,t))))}var Nf=nre.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,VC=Symbol.for("react.element"),G1=Symbol.for("react.portal"),$1=Symbol.for("react.fragment"),DD=Symbol.for("react.strict_mode"),S3=Symbol.for("react.profiler"),Ij=Symbol.for("react.provider"),kj=Symbol.for("react.context"),ND=Symbol.for("react.forward_ref"),T3=Symbol.for("react.suspense"),F3=Symbol.for("react.suspense_list"),UD=Symbol.for("react.memo"),hd=Symbol.for("react.lazy"),Lj=Symbol.for("react.offscreen"),xO=Symbol.iterator;function l2(r){return r===null||typeof r!="object"?null:(r=xO&&r[xO]||r["@@iterator"],typeof r=="function"?r:null)}var wi=Object.assign,gI;function L2(r){if(gI===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);gI=e&&e[1]||""}return`
`+gI+r}var mI=!1;function vI(r,e){if(!r||mI)return"";mI=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(A){var n=A}Reflect.construct(r,[],e)}else{try{e.call()}catch(A){n=A}r.call(e.prototype)}else{try{throw Error()}catch(A){n=A}r()}}catch(A){if(A&&n&&typeof A.stack=="string"){for(var i=A.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return r.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",r.displayName)),l}while(1<=a&&0<=o);break}}}finally{mI=!1,Error.prepareStackTrace=t}return(r=r?r.displayName||r.name:"")?L2(r):""}function lre(r){switch(r.tag){case 5:return L2(r.type);case 16:return L2("Lazy");case 13:return L2("Suspense");case 19:return L2("SuspenseList");case 0:case 2:case 15:return r=vI(r.type,!1),r;case 11:return r=vI(r.type.render,!1),r;case 1:return r=vI(r.type,!0),r;default:return""}}function I3(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case $1:return"Fragment";case G1:return"Portal";case S3:return"Profiler";case DD:return"StrictMode";case T3:return"Suspense";case F3:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case kj:return(r.displayName||"Context")+".Consumer";case Ij:return(r._context.displayName||"Context")+".Provider";case ND:var e=r.render;return r=r.displayName,r||(r=e.displayName||e.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case UD:return e=r.displayName||null,e!==null?e:I3(r.type)||"Memo";case hd:e=r._payload,r=r._init;try{return I3(r(e))}catch{}}return null}function Are(r){var e=r.type;switch(r.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=e.render,r=r.displayName||r.name||"",e.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return I3(e);case 8:return e===DD?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $0(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Pj(r){var e=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function cre(r){var e=Pj(r)?"checked":"value",t=Object.getOwnPropertyDescriptor(r.constructor.prototype,e),n=""+r[e];if(!r.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(r,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(r,e,{enumerable:t.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){r._valueTracker=null,delete r[e]}}}}function jC(r){r._valueTracker||(r._valueTracker=cre(r))}function Rj(r){if(!r)return!1;var e=r._valueTracker;if(!e)return!0;var t=e.getValue(),n="";return r&&(n=Pj(r)?r.checked?"true":"false":r.value),r=n,r!==t?(e.setValue(r),!0):!1}function O5(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function k3(r,e){var t=e.checked;return wi({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??r._wrapperState.initialChecked})}function _O(r,e){var t=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;t=$0(e.value!=null?e.value:t),r._wrapperState={initialChecked:n,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Dj(r,e){e=e.checked,e!=null&&RD(r,"checked",e,!1)}function L3(r,e){Dj(r,e);var t=$0(e.value),n=e.type;if(t!=null)n==="number"?(t===0&&r.value===""||r.value!=t)&&(r.value=""+t):r.value!==""+t&&(r.value=""+t);else if(n==="submit"||n==="reset"){r.removeAttribute("value");return}e.hasOwnProperty("value")?P3(r,e.type,t):e.hasOwnProperty("defaultValue")&&P3(r,e.type,$0(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(r.defaultChecked=!!e.defaultChecked)}function bO(r,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+r._wrapperState.initialValue,t||e===r.value||(r.value=e),r.defaultValue=e}t=r.name,t!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,t!==""&&(r.name=t)}function P3(r,e,t){(e!=="number"||O5(r.ownerDocument)!==r)&&(t==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+t&&(r.defaultValue=""+t))}var P2=Array.isArray;function dv(r,e,t,n){if(r=r.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<r.length;t++)i=e.hasOwnProperty("$"+r[t].value),r[t].selected!==i&&(r[t].selected=i),i&&n&&(r[t].defaultSelected=!0)}else{for(t=""+$0(t),e=null,i=0;i<r.length;i++){if(r[i].value===t){r[i].selected=!0,n&&(r[i].defaultSelected=!0);return}e!==null||r[i].disabled||(e=r[i])}e!==null&&(e.selected=!0)}}function R3(r,e){if(e.dangerouslySetInnerHTML!=null)throw Error(st(91));return wi({},e,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function EO(r,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(st(92));if(P2(t)){if(1<t.length)throw Error(st(93));t=t[0]}e=t}e==null&&(e=""),t=e}r._wrapperState={initialValue:$0(t)}}function Nj(r,e){var t=$0(e.value),n=$0(e.defaultValue);t!=null&&(t=""+t,t!==r.value&&(r.value=t),e.defaultValue==null&&r.defaultValue!==t&&(r.defaultValue=t)),n!=null&&(r.defaultValue=""+n)}function CO(r){var e=r.textContent;e===r._wrapperState.initialValue&&e!==""&&e!==null&&(r.value=e)}function Uj(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function D3(r,e){return r==null||r==="http://www.w3.org/1999/xhtml"?Uj(e):r==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var KC,Mj=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction(function(){return r(e,t,n,i)})}:r}(function(r,e){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=e;else{for(KC=KC||document.createElement("div"),KC.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=KC.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;e.firstChild;)r.appendChild(e.firstChild)}});function o_(r,e){if(e){var t=r.firstChild;if(t&&t===r.lastChild&&t.nodeType===3){t.nodeValue=e;return}}r.textContent=e}var Ex={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ure=["Webkit","ms","Moz","O"];Object.keys(Ex).forEach(function(r){ure.forEach(function(e){e=e+r.charAt(0).toUpperCase()+r.substring(1),Ex[e]=Ex[r]})});function Oj(r,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Ex.hasOwnProperty(r)&&Ex[r]?(""+e).trim():e+"px"}function Qj(r,e){r=r.style;for(var t in e)if(e.hasOwnProperty(t)){var n=t.indexOf("--")===0,i=Oj(t,e[t],n);t==="float"&&(t="cssFloat"),n?r.setProperty(t,i):r[t]=i}}var hre=wi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function N3(r,e){if(e){if(hre[r]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(st(137,r));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(st(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(st(61))}if(e.style!=null&&typeof e.style!="object")throw Error(st(62))}}function U3(r,e){if(r.indexOf("-")===-1)return typeof e.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var M3=null;function MD(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var O3=null,pv=null,gv=null;function BO(r){if(r=jE(r)){if(typeof O3!="function")throw Error(st(280));var e=r.stateNode;e&&(e=WF(e),O3(r.stateNode,r.type,e))}}function Hj(r){pv?gv?gv.push(r):gv=[r]:pv=r}function Vj(){if(pv){var r=pv,e=gv;if(gv=pv=null,BO(r),e)for(r=0;r<e.length;r++)BO(e[r])}}function jj(r,e){return r(e)}function Kj(){}var wI=!1;function zj(r,e,t){if(wI)return r(e,t);wI=!0;try{return jj(r,e,t)}finally{wI=!1,(pv!==null||gv!==null)&&(Kj(),Vj())}}function l_(r,e){var t=r.stateNode;if(t===null)return null;var n=WF(t);if(n===null)return null;t=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(r=r.type,n=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!n;break e;default:r=!1}if(r)return null;if(t&&typeof t!="function")throw Error(st(231,e,typeof t));return t}var Q3=!1;if(_f)try{var A2={};Object.defineProperty(A2,"passive",{get:function(){Q3=!0}}),window.addEventListener("test",A2,A2),window.removeEventListener("test",A2,A2)}catch{Q3=!1}function fre(r,e,t,n,i,s,a,o,l){var A=Array.prototype.slice.call(arguments,3);try{e.apply(t,A)}catch(c){this.onError(c)}}var Cx=!1,Q5=null,H5=!1,H3=null,dre={onError:function(r){Cx=!0,Q5=r}};function pre(r,e,t,n,i,s,a,o,l){Cx=!1,Q5=null,fre.apply(dre,arguments)}function gre(r,e,t,n,i,s,a,o,l){if(pre.apply(this,arguments),Cx){if(Cx){var A=Q5;Cx=!1,Q5=null}else throw Error(st(198));H5||(H5=!0,H3=A)}}function Xm(r){var e=r,t=r;if(r.alternate)for(;e.return;)e=e.return;else{r=e;do e=r,e.flags&4098&&(t=e.return),r=e.return;while(r)}return e.tag===3?t:null}function Wj(r){if(r.tag===13){var e=r.memoizedState;if(e===null&&(r=r.alternate,r!==null&&(e=r.memoizedState)),e!==null)return e.dehydrated}return null}function SO(r){if(Xm(r)!==r)throw Error(st(188))}function mre(r){var e=r.alternate;if(!e){if(e=Xm(r),e===null)throw Error(st(188));return e!==r?null:r}for(var t=r,n=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){t=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return SO(i),r;if(s===n)return SO(i),e;s=s.sibling}throw Error(st(188))}if(t.return!==n.return)t=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===t){a=!0,t=i,n=s;break}if(o===n){a=!0,n=i,t=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===t){a=!0,t=s,n=i;break}if(o===n){a=!0,n=s,t=i;break}o=o.sibling}if(!a)throw Error(st(189))}}if(t.alternate!==n)throw Error(st(190))}if(t.tag!==3)throw Error(st(188));return t.stateNode.current===t?r:e}function Gj(r){return r=mre(r),r!==null?$j(r):null}function $j(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var e=$j(r);if(e!==null)return e;r=r.sibling}return null}var qj=Gl.unstable_scheduleCallback,TO=Gl.unstable_cancelCallback,vre=Gl.unstable_shouldYield,wre=Gl.unstable_requestPaint,$i=Gl.unstable_now,yre=Gl.unstable_getCurrentPriorityLevel,OD=Gl.unstable_ImmediatePriority,Xj=Gl.unstable_UserBlockingPriority,V5=Gl.unstable_NormalPriority,xre=Gl.unstable_LowPriority,Yj=Gl.unstable_IdlePriority,VF=null,Fu=null;function _re(r){if(Fu&&typeof Fu.onCommitFiberRoot=="function")try{Fu.onCommitFiberRoot(VF,r,void 0,(r.current.flags&128)===128)}catch{}}var xc=Math.clz32?Math.clz32:Cre,bre=Math.log,Ere=Math.LN2;function Cre(r){return r>>>=0,r===0?32:31-(bre(r)/Ere|0)|0}var zC=64,WC=4194304;function R2(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function j5(r,e){var t=r.pendingLanes;if(t===0)return 0;var n=0,i=r.suspendedLanes,s=r.pingedLanes,a=t&268435455;if(a!==0){var o=a&~i;o!==0?n=R2(o):(s&=a,s!==0&&(n=R2(s)))}else a=t&~i,a!==0?n=R2(a):s!==0&&(n=R2(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=t&16),e=r.entangledLanes,e!==0)for(r=r.entanglements,e&=n;0<e;)t=31-xc(e),i=1<<t,n|=r[t],e&=~i;return n}function Bre(r,e){switch(r){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sre(r,e){for(var t=r.suspendedLanes,n=r.pingedLanes,i=r.expirationTimes,s=r.pendingLanes;0<s;){var a=31-xc(s),o=1<<a,l=i[a];l===-1?(!(o&t)||o&n)&&(i[a]=Bre(o,e)):l<=e&&(r.expiredLanes|=o),s&=~o}}function V3(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Jj(){var r=zC;return zC<<=1,!(zC&4194240)&&(zC=64),r}function yI(r){for(var e=[],t=0;31>t;t++)e.push(r);return e}function HE(r,e,t){r.pendingLanes|=e,e!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,e=31-xc(e),r[e]=t}function Tre(r,e){var t=r.pendingLanes&~e;r.pendingLanes=e,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=e,r.mutableReadLanes&=e,r.entangledLanes&=e,e=r.entanglements;var n=r.eventTimes;for(r=r.expirationTimes;0<t;){var i=31-xc(t),s=1<<i;e[i]=0,n[i]=-1,r[i]=-1,t&=~s}}function QD(r,e){var t=r.entangledLanes|=e;for(r=r.entanglements;t;){var n=31-xc(t),i=1<<n;i&e|r[n]&e&&(r[n]|=e),t&=~i}}var gn=0;function Zj(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var eK,HD,tK,rK,nK,j3=!1,GC=[],L0=null,P0=null,R0=null,A_=new Map,c_=new Map,pd=[],Fre="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function FO(r,e){switch(r){case"focusin":case"focusout":L0=null;break;case"dragenter":case"dragleave":P0=null;break;case"mouseover":case"mouseout":R0=null;break;case"pointerover":case"pointerout":A_.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":c_.delete(e.pointerId)}}function c2(r,e,t,n,i,s){return r===null||r.nativeEvent!==s?(r={blockedOn:e,domEventName:t,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=jE(e),e!==null&&HD(e)),r):(r.eventSystemFlags|=n,e=r.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),r)}function Ire(r,e,t,n,i){switch(e){case"focusin":return L0=c2(L0,r,e,t,n,i),!0;case"dragenter":return P0=c2(P0,r,e,t,n,i),!0;case"mouseover":return R0=c2(R0,r,e,t,n,i),!0;case"pointerover":var s=i.pointerId;return A_.set(s,c2(A_.get(s)||null,r,e,t,n,i)),!0;case"gotpointercapture":return s=i.pointerId,c_.set(s,c2(c_.get(s)||null,r,e,t,n,i)),!0}return!1}function iK(r){var e=Jp(r.target);if(e!==null){var t=Xm(e);if(t!==null){if(e=t.tag,e===13){if(e=Wj(t),e!==null){r.blockedOn=e,nK(r.priority,function(){tK(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){r.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}r.blockedOn=null}function _S(r){if(r.blockedOn!==null)return!1;for(var e=r.targetContainers;0<e.length;){var t=K3(r.domEventName,r.eventSystemFlags,e[0],r.nativeEvent);if(t===null){t=r.nativeEvent;var n=new t.constructor(t.type,t);M3=n,t.target.dispatchEvent(n),M3=null}else return e=jE(t),e!==null&&HD(e),r.blockedOn=t,!1;e.shift()}return!0}function IO(r,e,t){_S(r)&&t.delete(e)}function kre(){j3=!1,L0!==null&&_S(L0)&&(L0=null),P0!==null&&_S(P0)&&(P0=null),R0!==null&&_S(R0)&&(R0=null),A_.forEach(IO),c_.forEach(IO)}function u2(r,e){r.blockedOn===e&&(r.blockedOn=null,j3||(j3=!0,Gl.unstable_scheduleCallback(Gl.unstable_NormalPriority,kre)))}function u_(r){function e(i){return u2(i,r)}if(0<GC.length){u2(GC[0],r);for(var t=1;t<GC.length;t++){var n=GC[t];n.blockedOn===r&&(n.blockedOn=null)}}for(L0!==null&&u2(L0,r),P0!==null&&u2(P0,r),R0!==null&&u2(R0,r),A_.forEach(e),c_.forEach(e),t=0;t<pd.length;t++)n=pd[t],n.blockedOn===r&&(n.blockedOn=null);for(;0<pd.length&&(t=pd[0],t.blockedOn===null);)iK(t),t.blockedOn===null&&pd.shift()}var mv=Nf.ReactCurrentBatchConfig,K5=!0;function Lre(r,e,t,n){var i=gn,s=mv.transition;mv.transition=null;try{gn=1,VD(r,e,t,n)}finally{gn=i,mv.transition=s}}function Pre(r,e,t,n){var i=gn,s=mv.transition;mv.transition=null;try{gn=4,VD(r,e,t,n)}finally{gn=i,mv.transition=s}}function VD(r,e,t,n){if(K5){var i=K3(r,e,t,n);if(i===null)II(r,e,n,z5,t),FO(r,n);else if(Ire(i,r,e,t,n))n.stopPropagation();else if(FO(r,n),e&4&&-1<Fre.indexOf(r)){for(;i!==null;){var s=jE(i);if(s!==null&&eK(s),s=K3(r,e,t,n),s===null&&II(r,e,n,z5,t),s===i)break;i=s}i!==null&&n.stopPropagation()}else II(r,e,n,null,t)}}var z5=null;function K3(r,e,t,n){if(z5=null,r=MD(n),r=Jp(r),r!==null)if(e=Xm(r),e===null)r=null;else if(t=e.tag,t===13){if(r=Wj(e),r!==null)return r;r=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;r=null}else e!==r&&(r=null);return z5=r,null}function sK(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yre()){case OD:return 1;case Xj:return 4;case V5:case xre:return 16;case Yj:return 536870912;default:return 16}default:return 16}}var m0=null,jD=null,bS=null;function aK(){if(bS)return bS;var r,e=jD,t=e.length,n,i="value"in m0?m0.value:m0.textContent,s=i.length;for(r=0;r<t&&e[r]===i[r];r++);var a=t-r;for(n=1;n<=a&&e[t-n]===i[s-n];n++);return bS=i.slice(r,1<n?1-n:void 0)}function ES(r){var e=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&e===13&&(r=13)):r=e,r===10&&(r=13),32<=r||r===13?r:0}function $C(){return!0}function kO(){return!1}function Xl(r){function e(t,n,i,s,a){this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in r)r.hasOwnProperty(o)&&(t=r[o],this[o]=t?t(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?$C:kO,this.isPropagationStopped=kO,this}return wi(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=$C)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=$C)},persist:function(){},isPersistent:$C}),e}var Ty={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},KD=Xl(Ty),VE=wi({},Ty,{view:0,detail:0}),Rre=Xl(VE),xI,_I,h2,jF=wi({},VE,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zD,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==h2&&(h2&&r.type==="mousemove"?(xI=r.screenX-h2.screenX,_I=r.screenY-h2.screenY):_I=xI=0,h2=r),xI)},movementY:function(r){return"movementY"in r?r.movementY:_I}}),LO=Xl(jF),Dre=wi({},jF,{dataTransfer:0}),Nre=Xl(Dre),Ure=wi({},VE,{relatedTarget:0}),bI=Xl(Ure),Mre=wi({},Ty,{animationName:0,elapsedTime:0,pseudoElement:0}),Ore=Xl(Mre),Qre=wi({},Ty,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Hre=Xl(Qre),Vre=wi({},Ty,{data:0}),PO=Xl(Vre),jre={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kre={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zre={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wre(r){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(r):(r=zre[r])?!!e[r]:!1}function zD(){return Wre}var Gre=wi({},VE,{key:function(r){if(r.key){var e=jre[r.key]||r.key;if(e!=="Unidentified")return e}return r.type==="keypress"?(r=ES(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Kre[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zD,charCode:function(r){return r.type==="keypress"?ES(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ES(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),$re=Xl(Gre),qre=wi({},jF,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),RO=Xl(qre),Xre=wi({},VE,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zD}),Yre=Xl(Xre),Jre=wi({},Ty,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zre=Xl(Jre),ene=wi({},jF,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),tne=Xl(ene),rne=[9,13,27,32],WD=_f&&"CompositionEvent"in window,Bx=null;_f&&"documentMode"in document&&(Bx=document.documentMode);var nne=_f&&"TextEvent"in window&&!Bx,oK=_f&&(!WD||Bx&&8<Bx&&11>=Bx),DO=" ",NO=!1;function lK(r,e){switch(r){case"keyup":return rne.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function AK(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var q1=!1;function ine(r,e){switch(r){case"compositionend":return AK(e);case"keypress":return e.which!==32?null:(NO=!0,DO);case"textInput":return r=e.data,r===DO&&NO?null:r;default:return null}}function sne(r,e){if(q1)return r==="compositionend"||!WD&&lK(r,e)?(r=aK(),bS=jD=m0=null,q1=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return oK&&e.locale!=="ko"?null:e.data;default:return null}}var ane={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function UO(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e==="input"?!!ane[r.type]:e==="textarea"}function cK(r,e,t,n){Hj(n),e=W5(e,"onChange"),0<e.length&&(t=new KD("onChange","change",null,t,n),r.push({event:t,listeners:e}))}var Sx=null,h_=null;function one(r){xK(r,0)}function KF(r){var e=J1(r);if(Rj(e))return r}function lne(r,e){if(r==="change")return e}var uK=!1;if(_f){var EI;if(_f){var CI="oninput"in document;if(!CI){var MO=document.createElement("div");MO.setAttribute("oninput","return;"),CI=typeof MO.oninput=="function"}EI=CI}else EI=!1;uK=EI&&(!document.documentMode||9<document.documentMode)}function OO(){Sx&&(Sx.detachEvent("onpropertychange",hK),h_=Sx=null)}function hK(r){if(r.propertyName==="value"&&KF(h_)){var e=[];cK(e,h_,r,MD(r)),zj(one,e)}}function Ane(r,e,t){r==="focusin"?(OO(),Sx=e,h_=t,Sx.attachEvent("onpropertychange",hK)):r==="focusout"&&OO()}function cne(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return KF(h_)}function une(r,e){if(r==="click")return KF(e)}function hne(r,e){if(r==="input"||r==="change")return KF(e)}function fne(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var Cc=typeof Object.is=="function"?Object.is:fne;function f_(r,e){if(Cc(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;var t=Object.keys(r),n=Object.keys(e);if(t.length!==n.length)return!1;for(n=0;n<t.length;n++){var i=t[n];if(!B3.call(e,i)||!Cc(r[i],e[i]))return!1}return!0}function QO(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function HO(r,e){var t=QO(r);r=0;for(var n;t;){if(t.nodeType===3){if(n=r+t.textContent.length,r<=e&&n>=e)return{node:t,offset:e-r};r=n}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=QO(t)}}function fK(r,e){return r&&e?r===e?!0:r&&r.nodeType===3?!1:e&&e.nodeType===3?fK(r,e.parentNode):"contains"in r?r.contains(e):r.compareDocumentPosition?!!(r.compareDocumentPosition(e)&16):!1:!1}function dK(){for(var r=window,e=O5();e instanceof r.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)r=e.contentWindow;else break;e=O5(r.document)}return e}function GD(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e&&(e==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||e==="textarea"||r.contentEditable==="true")}function dne(r){var e=dK(),t=r.focusedElem,n=r.selectionRange;if(e!==t&&t&&t.ownerDocument&&fK(t.ownerDocument.documentElement,t)){if(n!==null&&GD(t)){if(e=n.start,r=n.end,r===void 0&&(r=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(r,t.value.length);else if(r=(e=t.ownerDocument||document)&&e.defaultView||window,r.getSelection){r=r.getSelection();var i=t.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!r.extend&&s>n&&(i=n,n=s,s=i),i=HO(t,s);var a=HO(t,n);i&&a&&(r.rangeCount!==1||r.anchorNode!==i.node||r.anchorOffset!==i.offset||r.focusNode!==a.node||r.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),r.removeAllRanges(),s>n?(r.addRange(e),r.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),r.addRange(e)))}}for(e=[],r=t;r=r.parentNode;)r.nodeType===1&&e.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)r=e[t],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var pne=_f&&"documentMode"in document&&11>=document.documentMode,X1=null,z3=null,Tx=null,W3=!1;function VO(r,e,t){var n=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;W3||X1==null||X1!==O5(n)||(n=X1,"selectionStart"in n&&GD(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Tx&&f_(Tx,n)||(Tx=n,n=W5(z3,"onSelect"),0<n.length&&(e=new KD("onSelect","select",null,e,t),r.push({event:e,listeners:n}),e.target=X1)))}function qC(r,e){var t={};return t[r.toLowerCase()]=e.toLowerCase(),t["Webkit"+r]="webkit"+e,t["Moz"+r]="moz"+e,t}var Y1={animationend:qC("Animation","AnimationEnd"),animationiteration:qC("Animation","AnimationIteration"),animationstart:qC("Animation","AnimationStart"),transitionend:qC("Transition","TransitionEnd")},BI={},pK={};_f&&(pK=document.createElement("div").style,"AnimationEvent"in window||(delete Y1.animationend.animation,delete Y1.animationiteration.animation,delete Y1.animationstart.animation),"TransitionEvent"in window||delete Y1.transitionend.transition);function zF(r){if(BI[r])return BI[r];if(!Y1[r])return r;var e=Y1[r],t;for(t in e)if(e.hasOwnProperty(t)&&t in pK)return BI[r]=e[t];return r}var gK=zF("animationend"),mK=zF("animationiteration"),vK=zF("animationstart"),wK=zF("transitionend"),yK=new Map,jO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function up(r,e){yK.set(r,e),qm(e,[r])}for(var SI=0;SI<jO.length;SI++){var TI=jO[SI],gne=TI.toLowerCase(),mne=TI[0].toUpperCase()+TI.slice(1);up(gne,"on"+mne)}up(gK,"onAnimationEnd");up(mK,"onAnimationIteration");up(vK,"onAnimationStart");up("dblclick","onDoubleClick");up("focusin","onFocus");up("focusout","onBlur");up(wK,"onTransitionEnd");oy("onMouseEnter",["mouseout","mouseover"]);oy("onMouseLeave",["mouseout","mouseover"]);oy("onPointerEnter",["pointerout","pointerover"]);oy("onPointerLeave",["pointerout","pointerover"]);qm("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qm("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qm("onBeforeInput",["compositionend","keypress","textInput","paste"]);qm("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qm("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qm("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var D2="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vne=new Set("cancel close invalid load scroll toggle".split(" ").concat(D2));function KO(r,e,t){var n=r.type||"unknown-event";r.currentTarget=t,gre(n,e,void 0,r),r.currentTarget=null}function xK(r,e){e=(e&4)!==0;for(var t=0;t<r.length;t++){var n=r[t],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,A=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;KO(i,o,A),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,A=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;KO(i,o,A),s=l}}}if(H5)throw r=H3,H5=!1,H3=null,r}function Gn(r,e){var t=e[Y3];t===void 0&&(t=e[Y3]=new Set);var n=r+"__bubble";t.has(n)||(_K(e,r,2,!1),t.add(n))}function FI(r,e,t){var n=0;e&&(n|=4),_K(t,r,n,e)}var XC="_reactListening"+Math.random().toString(36).slice(2);function d_(r){if(!r[XC]){r[XC]=!0,Fj.forEach(function(t){t!=="selectionchange"&&(vne.has(t)||FI(t,!1,r),FI(t,!0,r))});var e=r.nodeType===9?r:r.ownerDocument;e===null||e[XC]||(e[XC]=!0,FI("selectionchange",!1,e))}}function _K(r,e,t,n){switch(sK(e)){case 1:var i=Lre;break;case 4:i=Pre;break;default:i=VD}t=i.bind(null,e,t,r),i=void 0,!Q3||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?r.addEventListener(e,t,{capture:!0,passive:i}):r.addEventListener(e,t,!0):i!==void 0?r.addEventListener(e,t,{passive:i}):r.addEventListener(e,t,!1)}function II(r,e,t,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Jp(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}zj(function(){var A=s,c=MD(t),u=[];e:{var h=yK.get(r);if(h!==void 0){var f=KD,g=r;switch(r){case"keypress":if(ES(t)===0)break e;case"keydown":case"keyup":f=$re;break;case"focusin":g="focus",f=bI;break;case"focusout":g="blur",f=bI;break;case"beforeblur":case"afterblur":f=bI;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=LO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Nre;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Yre;break;case gK:case mK:case vK:f=Ore;break;case wK:f=Zre;break;case"scroll":f=Rre;break;case"wheel":f=tne;break;case"copy":case"cut":case"paste":f=Hre;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=RO}var p=(e&4)!==0,v=!p&&r==="scroll",m=p?h!==null?h+"Capture":null:h;p=[];for(var x=A,_;x!==null;){_=x;var S=_.stateNode;if(_.tag===5&&S!==null&&(_=S,m!==null&&(S=l_(x,m),S!=null&&p.push(p_(x,S,_)))),v)break;x=x.return}0<p.length&&(h=new f(h,g,null,t,c),u.push({event:h,listeners:p}))}}if(!(e&7)){e:{if(h=r==="mouseover"||r==="pointerover",f=r==="mouseout"||r==="pointerout",h&&t!==M3&&(g=t.relatedTarget||t.fromElement)&&(Jp(g)||g[bf]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(g=t.relatedTarget||t.toElement,f=A,g=g?Jp(g):null,g!==null&&(v=Xm(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=A),f!==g)){if(p=LO,S="onMouseLeave",m="onMouseEnter",x="mouse",(r==="pointerout"||r==="pointerover")&&(p=RO,S="onPointerLeave",m="onPointerEnter",x="pointer"),v=f==null?h:J1(f),_=g==null?h:J1(g),h=new p(S,x+"leave",f,t,c),h.target=v,h.relatedTarget=_,S=null,Jp(c)===A&&(p=new p(m,x+"enter",g,t,c),p.target=_,p.relatedTarget=v,S=p),v=S,f&&g)t:{for(p=f,m=g,x=0,_=p;_;_=g1(_))x++;for(_=0,S=m;S;S=g1(S))_++;for(;0<x-_;)p=g1(p),x--;for(;0<_-x;)m=g1(m),_--;for(;x--;){if(p===m||m!==null&&p===m.alternate)break t;p=g1(p),m=g1(m)}p=null}else p=null;f!==null&&zO(u,h,f,p,!1),g!==null&&v!==null&&zO(u,v,g,p,!0)}}e:{if(h=A?J1(A):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var k=lne;else if(UO(h))if(uK)k=hne;else{k=cne;var R=Ane}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=une);if(k&&(k=k(r,A))){cK(u,k,t,c);break e}R&&R(r,h,A),r==="focusout"&&(R=h._wrapperState)&&R.controlled&&h.type==="number"&&P3(h,"number",h.value)}switch(R=A?J1(A):window,r){case"focusin":(UO(R)||R.contentEditable==="true")&&(X1=R,z3=A,Tx=null);break;case"focusout":Tx=z3=X1=null;break;case"mousedown":W3=!0;break;case"contextmenu":case"mouseup":case"dragend":W3=!1,VO(u,t,c);break;case"selectionchange":if(pne)break;case"keydown":case"keyup":VO(u,t,c)}var B;if(WD)e:{switch(r){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else q1?lK(r,t)&&(E="onCompositionEnd"):r==="keydown"&&t.keyCode===229&&(E="onCompositionStart");E&&(oK&&t.locale!=="ko"&&(q1||E!=="onCompositionStart"?E==="onCompositionEnd"&&q1&&(B=aK()):(m0=c,jD="value"in m0?m0.value:m0.textContent,q1=!0)),R=W5(A,E),0<R.length&&(E=new PO(E,r,null,t,c),u.push({event:E,listeners:R}),B?E.data=B:(B=AK(t),B!==null&&(E.data=B)))),(B=nne?ine(r,t):sne(r,t))&&(A=W5(A,"onBeforeInput"),0<A.length&&(c=new PO("onBeforeInput","beforeinput",null,t,c),u.push({event:c,listeners:A}),c.data=B))}xK(u,e)})}function p_(r,e,t){return{instance:r,listener:e,currentTarget:t}}function W5(r,e){for(var t=e+"Capture",n=[];r!==null;){var i=r,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=l_(r,t),s!=null&&n.unshift(p_(r,s,i)),s=l_(r,e),s!=null&&n.push(p_(r,s,i))),r=r.return}return n}function g1(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function zO(r,e,t,n,i){for(var s=e._reactName,a=[];t!==null&&t!==n;){var o=t,l=o.alternate,A=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&A!==null&&(o=A,i?(l=l_(t,s),l!=null&&a.unshift(p_(t,l,o))):i||(l=l_(t,s),l!=null&&a.push(p_(t,l,o)))),t=t.return}a.length!==0&&r.push({event:e,listeners:a})}var wne=/\r\n?/g,yne=/\u0000|\uFFFD/g;function WO(r){return(typeof r=="string"?r:""+r).replace(wne,`
`).replace(yne,"")}function YC(r,e,t){if(e=WO(e),WO(r)!==e&&t)throw Error(st(425))}function G5(){}var G3=null,$3=null;function q3(r,e){return r==="textarea"||r==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var X3=typeof setTimeout=="function"?setTimeout:void 0,xne=typeof clearTimeout=="function"?clearTimeout:void 0,GO=typeof Promise=="function"?Promise:void 0,_ne=typeof queueMicrotask=="function"?queueMicrotask:typeof GO<"u"?function(r){return GO.resolve(null).then(r).catch(bne)}:X3;function bne(r){setTimeout(function(){throw r})}function kI(r,e){var t=e,n=0;do{var i=t.nextSibling;if(r.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(n===0){r.removeChild(i),u_(e);return}n--}else t!=="$"&&t!=="$?"&&t!=="$!"||n++;t=i}while(t);u_(e)}function D0(r){for(;r!=null;r=r.nextSibling){var e=r.nodeType;if(e===1||e===3)break;if(e===8){if(e=r.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return r}function $O(r){r=r.previousSibling;for(var e=0;r;){if(r.nodeType===8){var t=r.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return r;e--}else t==="/$"&&e++}r=r.previousSibling}return null}var Fy=Math.random().toString(36).slice(2),Bu="__reactFiber$"+Fy,g_="__reactProps$"+Fy,bf="__reactContainer$"+Fy,Y3="__reactEvents$"+Fy,Ene="__reactListeners$"+Fy,Cne="__reactHandles$"+Fy;function Jp(r){var e=r[Bu];if(e)return e;for(var t=r.parentNode;t;){if(e=t[bf]||t[Bu]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(r=$O(r);r!==null;){if(t=r[Bu])return t;r=$O(r)}return e}r=t,t=r.parentNode}return null}function jE(r){return r=r[Bu]||r[bf],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function J1(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(st(33))}function WF(r){return r[g_]||null}var J3=[],Z1=-1;function hp(r){return{current:r}}function Jn(r){0>Z1||(r.current=J3[Z1],J3[Z1]=null,Z1--)}function jn(r,e){Z1++,J3[Z1]=r.current,r.current=e}var q0={},$a=hp(q0),Yo=hp(!1),Fm=q0;function ly(r,e){var t=r.type.contextTypes;if(!t)return q0;var n=r.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=e,r.__reactInternalMemoizedMaskedChildContext=i),i}function Jo(r){return r=r.childContextTypes,r!=null}function $5(){Jn(Yo),Jn($a)}function qO(r,e,t){if($a.current!==q0)throw Error(st(168));jn($a,e),jn(Yo,t)}function bK(r,e,t){var n=r.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return t;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(st(108,Are(r)||"Unknown",i));return wi({},t,n)}function q5(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||q0,Fm=$a.current,jn($a,r),jn(Yo,Yo.current),!0}function XO(r,e,t){var n=r.stateNode;if(!n)throw Error(st(169));t?(r=bK(r,e,Fm),n.__reactInternalMemoizedMergedChildContext=r,Jn(Yo),Jn($a),jn($a,r)):Jn(Yo),jn(Yo,t)}var wh=null,GF=!1,LI=!1;function EK(r){wh===null?wh=[r]:wh.push(r)}function Bne(r){GF=!0,EK(r)}function fp(){if(!LI&&wh!==null){LI=!0;var r=0,e=gn;try{var t=wh;for(gn=1;r<t.length;r++){var n=t[r];do n=n(!0);while(n!==null)}wh=null,GF=!1}catch(i){throw wh!==null&&(wh=wh.slice(r+1)),qj(OD,fp),i}finally{gn=e,LI=!1}}return null}var ev=[],tv=0,X5=null,Y5=0,_A=[],bA=0,Im=null,nf=1,sf="";function Up(r,e){ev[tv++]=Y5,ev[tv++]=X5,X5=r,Y5=e}function CK(r,e,t){_A[bA++]=nf,_A[bA++]=sf,_A[bA++]=Im,Im=r;var n=nf;r=sf;var i=32-xc(n)-1;n&=~(1<<i),t+=1;var s=32-xc(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,nf=1<<32-xc(e)+i|t<<i|n,sf=s+r}else nf=1<<s|t<<i|n,sf=r}function $D(r){r.return!==null&&(Up(r,1),CK(r,1,0))}function qD(r){for(;r===X5;)X5=ev[--tv],ev[tv]=null,Y5=ev[--tv],ev[tv]=null;for(;r===Im;)Im=_A[--bA],_A[bA]=null,sf=_A[--bA],_A[bA]=null,nf=_A[--bA],_A[bA]=null}var zl=null,jl=null,ai=!1,dc=null;function BK(r,e){var t=SA(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=r,e=r.deletions,e===null?(r.deletions=[t],r.flags|=16):e.push(t)}function YO(r,e){switch(r.tag){case 5:var t=r.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(r.stateNode=e,zl=r,jl=D0(e.firstChild),!0):!1;case 6:return e=r.pendingProps===""||e.nodeType!==3?null:e,e!==null?(r.stateNode=e,zl=r,jl=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Im!==null?{id:nf,overflow:sf}:null,r.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=SA(18,null,null,0),t.stateNode=e,t.return=r,r.child=t,zl=r,jl=null,!0):!1;default:return!1}}function Z3(r){return(r.mode&1)!==0&&(r.flags&128)===0}function eL(r){if(ai){var e=jl;if(e){var t=e;if(!YO(r,e)){if(Z3(r))throw Error(st(418));e=D0(t.nextSibling);var n=zl;e&&YO(r,e)?BK(n,t):(r.flags=r.flags&-4097|2,ai=!1,zl=r)}}else{if(Z3(r))throw Error(st(418));r.flags=r.flags&-4097|2,ai=!1,zl=r}}}function JO(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;zl=r}function JC(r){if(r!==zl)return!1;if(!ai)return JO(r),ai=!0,!1;var e;if((e=r.tag!==3)&&!(e=r.tag!==5)&&(e=r.type,e=e!=="head"&&e!=="body"&&!q3(r.type,r.memoizedProps)),e&&(e=jl)){if(Z3(r))throw SK(),Error(st(418));for(;e;)BK(r,e),e=D0(e.nextSibling)}if(JO(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(st(317));e:{for(r=r.nextSibling,e=0;r;){if(r.nodeType===8){var t=r.data;if(t==="/$"){if(e===0){jl=D0(r.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}r=r.nextSibling}jl=null}}else jl=zl?D0(r.stateNode.nextSibling):null;return!0}function SK(){for(var r=jl;r;)r=D0(r.nextSibling)}function Ay(){jl=zl=null,ai=!1}function XD(r){dc===null?dc=[r]:dc.push(r)}var Sne=Nf.ReactCurrentBatchConfig;function f2(r,e,t){if(r=t.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(st(309));var n=t.stateNode}if(!n)throw Error(st(147,r));var i=n,s=""+r;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof r!="string")throw Error(st(284));if(!t._owner)throw Error(st(290,r))}return r}function ZC(r,e){throw r=Object.prototype.toString.call(e),Error(st(31,r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r))}function ZO(r){var e=r._init;return e(r._payload)}function TK(r){function e(m,x){if(r){var _=m.deletions;_===null?(m.deletions=[x],m.flags|=16):_.push(x)}}function t(m,x){if(!r)return null;for(;x!==null;)e(m,x),x=x.sibling;return null}function n(m,x){for(m=new Map;x!==null;)x.key!==null?m.set(x.key,x):m.set(x.index,x),x=x.sibling;return m}function i(m,x){return m=O0(m,x),m.index=0,m.sibling=null,m}function s(m,x,_){return m.index=_,r?(_=m.alternate,_!==null?(_=_.index,_<x?(m.flags|=2,x):_):(m.flags|=2,x)):(m.flags|=1048576,x)}function a(m){return r&&m.alternate===null&&(m.flags|=2),m}function o(m,x,_,S){return x===null||x.tag!==6?(x=OI(_,m.mode,S),x.return=m,x):(x=i(x,_),x.return=m,x)}function l(m,x,_,S){var k=_.type;return k===$1?c(m,x,_.props.children,S,_.key):x!==null&&(x.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===hd&&ZO(k)===x.type)?(S=i(x,_.props),S.ref=f2(m,x,_),S.return=m,S):(S=kS(_.type,_.key,_.props,null,m.mode,S),S.ref=f2(m,x,_),S.return=m,S)}function A(m,x,_,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==_.containerInfo||x.stateNode.implementation!==_.implementation?(x=QI(_,m.mode,S),x.return=m,x):(x=i(x,_.children||[]),x.return=m,x)}function c(m,x,_,S,k){return x===null||x.tag!==7?(x=ym(_,m.mode,S,k),x.return=m,x):(x=i(x,_),x.return=m,x)}function u(m,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return x=OI(""+x,m.mode,_),x.return=m,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case VC:return _=kS(x.type,x.key,x.props,null,m.mode,_),_.ref=f2(m,null,x),_.return=m,_;case G1:return x=QI(x,m.mode,_),x.return=m,x;case hd:var S=x._init;return u(m,S(x._payload),_)}if(P2(x)||l2(x))return x=ym(x,m.mode,_,null),x.return=m,x;ZC(m,x)}return null}function h(m,x,_,S){var k=x!==null?x.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return k!==null?null:o(m,x,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case VC:return _.key===k?l(m,x,_,S):null;case G1:return _.key===k?A(m,x,_,S):null;case hd:return k=_._init,h(m,x,k(_._payload),S)}if(P2(_)||l2(_))return k!==null?null:c(m,x,_,S,null);ZC(m,_)}return null}function f(m,x,_,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return m=m.get(_)||null,o(x,m,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case VC:return m=m.get(S.key===null?_:S.key)||null,l(x,m,S,k);case G1:return m=m.get(S.key===null?_:S.key)||null,A(x,m,S,k);case hd:var R=S._init;return f(m,x,_,R(S._payload),k)}if(P2(S)||l2(S))return m=m.get(_)||null,c(x,m,S,k,null);ZC(x,S)}return null}function g(m,x,_,S){for(var k=null,R=null,B=x,E=x=0,b=null;B!==null&&E<_.length;E++){B.index>E?(b=B,B=null):b=B.sibling;var I=h(m,B,_[E],S);if(I===null){B===null&&(B=b);break}r&&B&&I.alternate===null&&e(m,B),x=s(I,x,E),R===null?k=I:R.sibling=I,R=I,B=b}if(E===_.length)return t(m,B),ai&&Up(m,E),k;if(B===null){for(;E<_.length;E++)B=u(m,_[E],S),B!==null&&(x=s(B,x,E),R===null?k=B:R.sibling=B,R=B);return ai&&Up(m,E),k}for(B=n(m,B);E<_.length;E++)b=f(B,m,E,_[E],S),b!==null&&(r&&b.alternate!==null&&B.delete(b.key===null?E:b.key),x=s(b,x,E),R===null?k=b:R.sibling=b,R=b);return r&&B.forEach(function(T){return e(m,T)}),ai&&Up(m,E),k}function p(m,x,_,S){var k=l2(_);if(typeof k!="function")throw Error(st(150));if(_=k.call(_),_==null)throw Error(st(151));for(var R=k=null,B=x,E=x=0,b=null,I=_.next();B!==null&&!I.done;E++,I=_.next()){B.index>E?(b=B,B=null):b=B.sibling;var T=h(m,B,I.value,S);if(T===null){B===null&&(B=b);break}r&&B&&T.alternate===null&&e(m,B),x=s(T,x,E),R===null?k=T:R.sibling=T,R=T,B=b}if(I.done)return t(m,B),ai&&Up(m,E),k;if(B===null){for(;!I.done;E++,I=_.next())I=u(m,I.value,S),I!==null&&(x=s(I,x,E),R===null?k=I:R.sibling=I,R=I);return ai&&Up(m,E),k}for(B=n(m,B);!I.done;E++,I=_.next())I=f(B,m,E,I.value,S),I!==null&&(r&&I.alternate!==null&&B.delete(I.key===null?E:I.key),x=s(I,x,E),R===null?k=I:R.sibling=I,R=I);return r&&B.forEach(function(F){return e(m,F)}),ai&&Up(m,E),k}function v(m,x,_,S){if(typeof _=="object"&&_!==null&&_.type===$1&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case VC:e:{for(var k=_.key,R=x;R!==null;){if(R.key===k){if(k=_.type,k===$1){if(R.tag===7){t(m,R.sibling),x=i(R,_.props.children),x.return=m,m=x;break e}}else if(R.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===hd&&ZO(k)===R.type){t(m,R.sibling),x=i(R,_.props),x.ref=f2(m,R,_),x.return=m,m=x;break e}t(m,R);break}else e(m,R);R=R.sibling}_.type===$1?(x=ym(_.props.children,m.mode,S,_.key),x.return=m,m=x):(S=kS(_.type,_.key,_.props,null,m.mode,S),S.ref=f2(m,x,_),S.return=m,m=S)}return a(m);case G1:e:{for(R=_.key;x!==null;){if(x.key===R)if(x.tag===4&&x.stateNode.containerInfo===_.containerInfo&&x.stateNode.implementation===_.implementation){t(m,x.sibling),x=i(x,_.children||[]),x.return=m,m=x;break e}else{t(m,x);break}else e(m,x);x=x.sibling}x=QI(_,m.mode,S),x.return=m,m=x}return a(m);case hd:return R=_._init,v(m,x,R(_._payload),S)}if(P2(_))return g(m,x,_,S);if(l2(_))return p(m,x,_,S);ZC(m,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,x!==null&&x.tag===6?(t(m,x.sibling),x=i(x,_),x.return=m,m=x):(t(m,x),x=OI(_,m.mode,S),x.return=m,m=x),a(m)):t(m,x)}return v}var cy=TK(!0),FK=TK(!1),J5=hp(null),Z5=null,rv=null,YD=null;function JD(){YD=rv=Z5=null}function ZD(r){var e=J5.current;Jn(J5),r._currentValue=e}function tL(r,e,t){for(;r!==null;){var n=r.alternate;if((r.childLanes&e)!==e?(r.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),r===t)break;r=r.return}}function vv(r,e){Z5=r,YD=rv=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&e&&(Xo=!0),r.firstContext=null)}function LA(r){var e=r._currentValue;if(YD!==r)if(r={context:r,memoizedValue:e,next:null},rv===null){if(Z5===null)throw Error(st(308));rv=r,Z5.dependencies={lanes:0,firstContext:r}}else rv=rv.next=r;return e}var Zp=null;function eN(r){Zp===null?Zp=[r]:Zp.push(r)}function IK(r,e,t,n){var i=e.interleaved;return i===null?(t.next=t,eN(e)):(t.next=i.next,i.next=t),e.interleaved=t,Ef(r,n)}function Ef(r,e){r.lanes|=e;var t=r.alternate;for(t!==null&&(t.lanes|=e),t=r,r=r.return;r!==null;)r.childLanes|=e,t=r.alternate,t!==null&&(t.childLanes|=e),t=r,r=r.return;return t.tag===3?t.stateNode:null}var fd=!1;function tN(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kK(r,e){r=r.updateQueue,e.updateQueue===r&&(e.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function pf(r,e){return{eventTime:r,lane:e,tag:0,payload:null,callback:null,next:null}}function N0(r,e,t){var n=r.updateQueue;if(n===null)return null;if(n=n.shared,Gr&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Ef(r,t)}return i=n.interleaved,i===null?(e.next=e,eN(n)):(e.next=i.next,i.next=e),n.interleaved=e,Ef(r,t)}function CS(r,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var n=e.lanes;n&=r.pendingLanes,t|=n,e.lanes=t,QD(r,t)}}function e6(r,e){var t=r.updateQueue,n=r.alternate;if(n!==null&&(n=n.updateQueue,t===n)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=a:s=s.next=a,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},r.updateQueue=t;return}r=t.lastBaseUpdate,r===null?t.firstBaseUpdate=e:r.next=e,t.lastBaseUpdate=e}function eT(r,e,t,n){var i=r.updateQueue;fd=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,A=l.next;l.next=null,a===null?s=A:a.next=A,a=l;var c=r.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=A:o.next=A,c.lastBaseUpdate=l))}if(s!==null){var u=i.baseState;a=0,c=A=l=null,o=s;do{var h=o.lane,f=o.eventTime;if((n&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=r,p=o;switch(h=e,f=t,p.tag){case 1:if(g=p.payload,typeof g=="function"){u=g.call(f,u,h);break e}u=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,h=typeof g=="function"?g.call(f,u,h):g,h==null)break e;u=wi({},u,h);break e;case 2:fd=!0}}o.callback!==null&&o.lane!==0&&(r.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(A=c=f,l=u):c=c.next=f,a|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=u),i.baseState=l,i.firstBaseUpdate=A,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Lm|=a,r.lanes=a,r.memoizedState=u}}function t6(r,e,t){if(r=e.effects,e.effects=null,r!==null)for(e=0;e<r.length;e++){var n=r[e],i=n.callback;if(i!==null){if(n.callback=null,n=t,typeof i!="function")throw Error(st(191,i));i.call(n)}}}var KE={},Iu=hp(KE),m_=hp(KE),v_=hp(KE);function eg(r){if(r===KE)throw Error(st(174));return r}function rN(r,e){switch(jn(v_,e),jn(m_,r),jn(Iu,KE),r=e.nodeType,r){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:D3(null,"");break;default:r=r===8?e.parentNode:e,e=r.namespaceURI||null,r=r.tagName,e=D3(e,r)}Jn(Iu),jn(Iu,e)}function uy(){Jn(Iu),Jn(m_),Jn(v_)}function LK(r){eg(v_.current);var e=eg(Iu.current),t=D3(e,r.type);e!==t&&(jn(m_,r),jn(Iu,t))}function nN(r){m_.current===r&&(Jn(Iu),Jn(m_))}var gi=hp(0);function tT(r){for(var e=r;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var PI=[];function iN(){for(var r=0;r<PI.length;r++)PI[r]._workInProgressVersionPrimary=null;PI.length=0}var BS=Nf.ReactCurrentDispatcher,RI=Nf.ReactCurrentBatchConfig,km=0,mi=null,xs=null,Hs=null,rT=!1,Fx=!1,w_=0,Tne=0;function xa(){throw Error(st(321))}function sN(r,e){if(e===null)return!1;for(var t=0;t<e.length&&t<r.length;t++)if(!Cc(r[t],e[t]))return!1;return!0}function aN(r,e,t,n,i,s){if(km=s,mi=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,BS.current=r===null||r.memoizedState===null?Lne:Pne,r=t(n,i),Fx){s=0;do{if(Fx=!1,w_=0,25<=s)throw Error(st(301));s+=1,Hs=xs=null,e.updateQueue=null,BS.current=Rne,r=t(n,i)}while(Fx)}if(BS.current=nT,e=xs!==null&&xs.next!==null,km=0,Hs=xs=mi=null,rT=!1,e)throw Error(st(300));return r}function oN(){var r=w_!==0;return w_=0,r}function eu(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hs===null?mi.memoizedState=Hs=r:Hs=Hs.next=r,Hs}function PA(){if(xs===null){var r=mi.alternate;r=r!==null?r.memoizedState:null}else r=xs.next;var e=Hs===null?mi.memoizedState:Hs.next;if(e!==null)Hs=e,xs=r;else{if(r===null)throw Error(st(310));xs=r,r={memoizedState:xs.memoizedState,baseState:xs.baseState,baseQueue:xs.baseQueue,queue:xs.queue,next:null},Hs===null?mi.memoizedState=Hs=r:Hs=Hs.next=r}return Hs}function y_(r,e){return typeof e=="function"?e(r):e}function DI(r){var e=PA(),t=e.queue;if(t===null)throw Error(st(311));t.lastRenderedReducer=r;var n=xs,i=n.baseQueue,s=t.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,A=s;do{var c=A.lane;if((km&c)===c)l!==null&&(l=l.next={lane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),n=A.hasEagerState?A.eagerState:r(n,A.action);else{var u={lane:c,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null};l===null?(o=l=u,a=n):l=l.next=u,mi.lanes|=c,Lm|=c}A=A.next}while(A!==null&&A!==s);l===null?a=n:l.next=o,Cc(n,e.memoizedState)||(Xo=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,t.lastRenderedState=n}if(r=t.interleaved,r!==null){i=r;do s=i.lane,mi.lanes|=s,Lm|=s,i=i.next;while(i!==r)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function NI(r){var e=PA(),t=e.queue;if(t===null)throw Error(st(311));t.lastRenderedReducer=r;var n=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var a=i=i.next;do s=r(s,a.action),a=a.next;while(a!==i);Cc(s,e.memoizedState)||(Xo=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,n]}function PK(){}function RK(r,e){var t=mi,n=PA(),i=e(),s=!Cc(n.memoizedState,i);if(s&&(n.memoizedState=i,Xo=!0),n=n.queue,lN(UK.bind(null,t,n,r),[r]),n.getSnapshot!==e||s||Hs!==null&&Hs.memoizedState.tag&1){if(t.flags|=2048,x_(9,NK.bind(null,t,n,i,e),void 0,null),Ks===null)throw Error(st(349));km&30||DK(t,e,i)}return i}function DK(r,e,t){r.flags|=16384,r={getSnapshot:e,value:t},e=mi.updateQueue,e===null?(e={lastEffect:null,stores:null},mi.updateQueue=e,e.stores=[r]):(t=e.stores,t===null?e.stores=[r]:t.push(r))}function NK(r,e,t,n){e.value=t,e.getSnapshot=n,MK(e)&&OK(r)}function UK(r,e,t){return t(function(){MK(e)&&OK(r)})}function MK(r){var e=r.getSnapshot;r=r.value;try{var t=e();return!Cc(r,t)}catch{return!0}}function OK(r){var e=Ef(r,1);e!==null&&_c(e,r,1,-1)}function r6(r){var e=eu();return typeof r=="function"&&(r=r()),e.memoizedState=e.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:y_,lastRenderedState:r},e.queue=r,r=r.dispatch=kne.bind(null,mi,r),[e.memoizedState,r]}function x_(r,e,t,n){return r={tag:r,create:e,destroy:t,deps:n,next:null},e=mi.updateQueue,e===null?(e={lastEffect:null,stores:null},mi.updateQueue=e,e.lastEffect=r.next=r):(t=e.lastEffect,t===null?e.lastEffect=r.next=r:(n=t.next,t.next=r,r.next=n,e.lastEffect=r)),r}function QK(){return PA().memoizedState}function SS(r,e,t,n){var i=eu();mi.flags|=r,i.memoizedState=x_(1|e,t,void 0,n===void 0?null:n)}function $F(r,e,t,n){var i=PA();n=n===void 0?null:n;var s=void 0;if(xs!==null){var a=xs.memoizedState;if(s=a.destroy,n!==null&&sN(n,a.deps)){i.memoizedState=x_(e,t,s,n);return}}mi.flags|=r,i.memoizedState=x_(1|e,t,s,n)}function n6(r,e){return SS(8390656,8,r,e)}function lN(r,e){return $F(2048,8,r,e)}function HK(r,e){return $F(4,2,r,e)}function VK(r,e){return $F(4,4,r,e)}function jK(r,e){if(typeof e=="function")return r=r(),e(r),function(){e(null)};if(e!=null)return r=r(),e.current=r,function(){e.current=null}}function KK(r,e,t){return t=t!=null?t.concat([r]):null,$F(4,4,jK.bind(null,e,r),t)}function AN(){}function zK(r,e){var t=PA();e=e===void 0?null:e;var n=t.memoizedState;return n!==null&&e!==null&&sN(e,n[1])?n[0]:(t.memoizedState=[r,e],r)}function WK(r,e){var t=PA();e=e===void 0?null:e;var n=t.memoizedState;return n!==null&&e!==null&&sN(e,n[1])?n[0]:(r=r(),t.memoizedState=[r,e],r)}function GK(r,e,t){return km&21?(Cc(t,e)||(t=Jj(),mi.lanes|=t,Lm|=t,r.baseState=!0),e):(r.baseState&&(r.baseState=!1,Xo=!0),r.memoizedState=t)}function Fne(r,e){var t=gn;gn=t!==0&&4>t?t:4,r(!0);var n=RI.transition;RI.transition={};try{r(!1),e()}finally{gn=t,RI.transition=n}}function $K(){return PA().memoizedState}function Ine(r,e,t){var n=M0(r);if(t={lane:n,action:t,hasEagerState:!1,eagerState:null,next:null},qK(r))XK(e,t);else if(t=IK(r,e,t,n),t!==null){var i=wo();_c(t,r,n,i),YK(t,e,n)}}function kne(r,e,t){var n=M0(r),i={lane:n,action:t,hasEagerState:!1,eagerState:null,next:null};if(qK(r))XK(e,i);else{var s=r.alternate;if(r.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,t);if(i.hasEagerState=!0,i.eagerState=o,Cc(o,a)){var l=e.interleaved;l===null?(i.next=i,eN(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=IK(r,e,i,n),t!==null&&(i=wo(),_c(t,r,n,i),YK(t,e,n))}}function qK(r){var e=r.alternate;return r===mi||e!==null&&e===mi}function XK(r,e){Fx=rT=!0;var t=r.pending;t===null?e.next=e:(e.next=t.next,t.next=e),r.pending=e}function YK(r,e,t){if(t&4194240){var n=e.lanes;n&=r.pendingLanes,t|=n,e.lanes=t,QD(r,t)}}var nT={readContext:LA,useCallback:xa,useContext:xa,useEffect:xa,useImperativeHandle:xa,useInsertionEffect:xa,useLayoutEffect:xa,useMemo:xa,useReducer:xa,useRef:xa,useState:xa,useDebugValue:xa,useDeferredValue:xa,useTransition:xa,useMutableSource:xa,useSyncExternalStore:xa,useId:xa,unstable_isNewReconciler:!1},Lne={readContext:LA,useCallback:function(r,e){return eu().memoizedState=[r,e===void 0?null:e],r},useContext:LA,useEffect:n6,useImperativeHandle:function(r,e,t){return t=t!=null?t.concat([r]):null,SS(4194308,4,jK.bind(null,e,r),t)},useLayoutEffect:function(r,e){return SS(4194308,4,r,e)},useInsertionEffect:function(r,e){return SS(4,2,r,e)},useMemo:function(r,e){var t=eu();return e=e===void 0?null:e,r=r(),t.memoizedState=[r,e],r},useReducer:function(r,e,t){var n=eu();return e=t!==void 0?t(e):e,n.memoizedState=n.baseState=e,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:e},n.queue=r,r=r.dispatch=Ine.bind(null,mi,r),[n.memoizedState,r]},useRef:function(r){var e=eu();return r={current:r},e.memoizedState=r},useState:r6,useDebugValue:AN,useDeferredValue:function(r){return eu().memoizedState=r},useTransition:function(){var r=r6(!1),e=r[0];return r=Fne.bind(null,r[1]),eu().memoizedState=r,[e,r]},useMutableSource:function(){},useSyncExternalStore:function(r,e,t){var n=mi,i=eu();if(ai){if(t===void 0)throw Error(st(407));t=t()}else{if(t=e(),Ks===null)throw Error(st(349));km&30||DK(n,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,n6(UK.bind(null,n,s,r),[r]),n.flags|=2048,x_(9,NK.bind(null,n,s,t,e),void 0,null),t},useId:function(){var r=eu(),e=Ks.identifierPrefix;if(ai){var t=sf,n=nf;t=(n&~(1<<32-xc(n)-1)).toString(32)+t,e=":"+e+"R"+t,t=w_++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=Tne++,e=":"+e+"r"+t.toString(32)+":";return r.memoizedState=e},unstable_isNewReconciler:!1},Pne={readContext:LA,useCallback:zK,useContext:LA,useEffect:lN,useImperativeHandle:KK,useInsertionEffect:HK,useLayoutEffect:VK,useMemo:WK,useReducer:DI,useRef:QK,useState:function(){return DI(y_)},useDebugValue:AN,useDeferredValue:function(r){var e=PA();return GK(e,xs.memoizedState,r)},useTransition:function(){var r=DI(y_)[0],e=PA().memoizedState;return[r,e]},useMutableSource:PK,useSyncExternalStore:RK,useId:$K,unstable_isNewReconciler:!1},Rne={readContext:LA,useCallback:zK,useContext:LA,useEffect:lN,useImperativeHandle:KK,useInsertionEffect:HK,useLayoutEffect:VK,useMemo:WK,useReducer:NI,useRef:QK,useState:function(){return NI(y_)},useDebugValue:AN,useDeferredValue:function(r){var e=PA();return xs===null?e.memoizedState=r:GK(e,xs.memoizedState,r)},useTransition:function(){var r=NI(y_)[0],e=PA().memoizedState;return[r,e]},useMutableSource:PK,useSyncExternalStore:RK,useId:$K,unstable_isNewReconciler:!1};function ec(r,e){if(r&&r.defaultProps){e=wi({},e),r=r.defaultProps;for(var t in r)e[t]===void 0&&(e[t]=r[t]);return e}return e}function rL(r,e,t,n){e=r.memoizedState,t=t(n,e),t=t==null?e:wi({},e,t),r.memoizedState=t,r.lanes===0&&(r.updateQueue.baseState=t)}var qF={isMounted:function(r){return(r=r._reactInternals)?Xm(r)===r:!1},enqueueSetState:function(r,e,t){r=r._reactInternals;var n=wo(),i=M0(r),s=pf(n,i);s.payload=e,t!=null&&(s.callback=t),e=N0(r,s,i),e!==null&&(_c(e,r,i,n),CS(e,r,i))},enqueueReplaceState:function(r,e,t){r=r._reactInternals;var n=wo(),i=M0(r),s=pf(n,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=N0(r,s,i),e!==null&&(_c(e,r,i,n),CS(e,r,i))},enqueueForceUpdate:function(r,e){r=r._reactInternals;var t=wo(),n=M0(r),i=pf(t,n);i.tag=2,e!=null&&(i.callback=e),e=N0(r,i,n),e!==null&&(_c(e,r,n,t),CS(e,r,n))}};function i6(r,e,t,n,i,s,a){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!f_(t,n)||!f_(i,s):!0}function JK(r,e,t){var n=!1,i=q0,s=e.contextType;return typeof s=="object"&&s!==null?s=LA(s):(i=Jo(e)?Fm:$a.current,n=e.contextTypes,s=(n=n!=null)?ly(r,i):q0),e=new e(t,s),r.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=qF,r.stateNode=e,e._reactInternals=r,n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=s),e}function s6(r,e,t,n){r=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,n),e.state!==r&&qF.enqueueReplaceState(e,e.state,null)}function nL(r,e,t,n){var i=r.stateNode;i.props=t,i.state=r.memoizedState,i.refs={},tN(r);var s=e.contextType;typeof s=="object"&&s!==null?i.context=LA(s):(s=Jo(e)?Fm:$a.current,i.context=ly(r,s)),i.state=r.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(rL(r,e,s,t),i.state=r.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&qF.enqueueReplaceState(i,i.state,null),eT(r,t,i,n),i.state=r.memoizedState),typeof i.componentDidMount=="function"&&(r.flags|=4194308)}function hy(r,e){try{var t="",n=e;do t+=lre(n),n=n.return;while(n);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:r,source:e,stack:i,digest:null}}function UI(r,e,t){return{value:r,source:null,stack:t??null,digest:e??null}}function iL(r,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var Dne=typeof WeakMap=="function"?WeakMap:Map;function ZK(r,e,t){t=pf(-1,t),t.tag=3,t.payload={element:null};var n=e.value;return t.callback=function(){sT||(sT=!0,dL=n),iL(r,e)},t}function ez(r,e,t){t=pf(-1,t),t.tag=3;var n=r.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;t.payload=function(){return n(i)},t.callback=function(){iL(r,e)}}var s=r.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){iL(r,e),typeof n!="function"&&(U0===null?U0=new Set([this]):U0.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),t}function a6(r,e,t){var n=r.pingCache;if(n===null){n=r.pingCache=new Dne;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(t)||(i.add(t),r=qne.bind(null,r,e,t),e.then(r,r))}function o6(r){do{var e;if((e=r.tag===13)&&(e=r.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return r;r=r.return}while(r!==null);return null}function l6(r,e,t,n,i){return r.mode&1?(r.flags|=65536,r.lanes=i,r):(r===e?r.flags|=65536:(r.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=pf(-1,1),e.tag=2,N0(t,e,1))),t.lanes|=1),r)}var Nne=Nf.ReactCurrentOwner,Xo=!1;function fo(r,e,t,n){e.child=r===null?FK(e,null,t,n):cy(e,r.child,t,n)}function A6(r,e,t,n,i){t=t.render;var s=e.ref;return vv(e,i),n=aN(r,e,t,n,s,i),t=oN(),r!==null&&!Xo?(e.updateQueue=r.updateQueue,e.flags&=-2053,r.lanes&=~i,Cf(r,e,i)):(ai&&t&&$D(e),e.flags|=1,fo(r,e,n,i),e.child)}function c6(r,e,t,n,i){if(r===null){var s=t.type;return typeof s=="function"&&!mN(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,tz(r,e,s,n,i)):(r=kS(t.type,null,n,e,e.mode,i),r.ref=e.ref,r.return=e,e.child=r)}if(s=r.child,!(r.lanes&i)){var a=s.memoizedProps;if(t=t.compare,t=t!==null?t:f_,t(a,n)&&r.ref===e.ref)return Cf(r,e,i)}return e.flags|=1,r=O0(s,n),r.ref=e.ref,r.return=e,e.child=r}function tz(r,e,t,n,i){if(r!==null){var s=r.memoizedProps;if(f_(s,n)&&r.ref===e.ref)if(Xo=!1,e.pendingProps=n=s,(r.lanes&i)!==0)r.flags&131072&&(Xo=!0);else return e.lanes=r.lanes,Cf(r,e,i)}return sL(r,e,t,n,i)}function rz(r,e,t){var n=e.pendingProps,i=n.children,s=r!==null?r.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},jn(iv,Ml),Ml|=t;else{if(!(t&1073741824))return r=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:r,cachePool:null,transitions:null},e.updateQueue=null,jn(iv,Ml),Ml|=r,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:t,jn(iv,Ml),Ml|=n}else s!==null?(n=s.baseLanes|t,e.memoizedState=null):n=t,jn(iv,Ml),Ml|=n;return fo(r,e,i,t),e.child}function nz(r,e){var t=e.ref;(r===null&&t!==null||r!==null&&r.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function sL(r,e,t,n,i){var s=Jo(t)?Fm:$a.current;return s=ly(e,s),vv(e,i),t=aN(r,e,t,n,s,i),n=oN(),r!==null&&!Xo?(e.updateQueue=r.updateQueue,e.flags&=-2053,r.lanes&=~i,Cf(r,e,i)):(ai&&n&&$D(e),e.flags|=1,fo(r,e,t,i),e.child)}function u6(r,e,t,n,i){if(Jo(t)){var s=!0;q5(e)}else s=!1;if(vv(e,i),e.stateNode===null)TS(r,e),JK(e,t,n),nL(e,t,n,i),n=!0;else if(r===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,A=t.contextType;typeof A=="object"&&A!==null?A=LA(A):(A=Jo(t)?Fm:$a.current,A=ly(e,A));var c=t.getDerivedStateFromProps,u=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";u||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==A)&&s6(e,a,n,A),fd=!1;var h=e.memoizedState;a.state=h,eT(e,n,a,i),l=e.memoizedState,o!==n||h!==l||Yo.current||fd?(typeof c=="function"&&(rL(e,t,c,n),l=e.memoizedState),(o=fd||i6(e,t,o,n,h,l,A))?(u||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=A,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,kK(r,e),o=e.memoizedProps,A=e.type===e.elementType?o:ec(e.type,o),a.props=A,u=e.pendingProps,h=a.context,l=t.contextType,typeof l=="object"&&l!==null?l=LA(l):(l=Jo(t)?Fm:$a.current,l=ly(e,l));var f=t.getDerivedStateFromProps;(c=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==u||h!==l)&&s6(e,a,n,l),fd=!1,h=e.memoizedState,a.state=h,eT(e,n,a,i);var g=e.memoizedState;o!==u||h!==g||Yo.current||fd?(typeof f=="function"&&(rL(e,t,f,n),g=e.memoizedState),(A=fd||i6(e,t,A,n,h,g,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===r.memoizedProps&&h===r.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===r.memoizedProps&&h===r.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),a.props=n,a.state=g,a.context=l,n=A):(typeof a.componentDidUpdate!="function"||o===r.memoizedProps&&h===r.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===r.memoizedProps&&h===r.memoizedState||(e.flags|=1024),n=!1)}return aL(r,e,t,n,s,i)}function aL(r,e,t,n,i,s){nz(r,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&XO(e,t,!1),Cf(r,e,s);n=e.stateNode,Nne.current=e;var o=a&&typeof t.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,r!==null&&a?(e.child=cy(e,r.child,null,s),e.child=cy(e,null,o,s)):fo(r,e,o,s),e.memoizedState=n.state,i&&XO(e,t,!0),e.child}function iz(r){var e=r.stateNode;e.pendingContext?qO(r,e.pendingContext,e.pendingContext!==e.context):e.context&&qO(r,e.context,!1),rN(r,e.containerInfo)}function h6(r,e,t,n,i){return Ay(),XD(i),e.flags|=256,fo(r,e,t,n),e.child}var oL={dehydrated:null,treeContext:null,retryLane:0};function lL(r){return{baseLanes:r,cachePool:null,transitions:null}}function sz(r,e,t){var n=e.pendingProps,i=gi.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=r!==null&&r.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(r===null||r.memoizedState!==null)&&(i|=1),jn(gi,i&1),r===null)return eL(e),r=e.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(e.mode&1?r.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,r=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=JF(a,n,0,null),r=ym(r,n,t,null),s.return=e,r.return=e,s.sibling=r,e.child=s,e.child.memoizedState=lL(t),e.memoizedState=oL,r):cN(e,a));if(i=r.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return Une(r,e,a,n,o,i,t);if(s){s=n.fallback,a=e.mode,i=r.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=O0(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=O0(o,s):(s=ym(s,a,t,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=r.child.memoizedState,a=a===null?lL(t):{baseLanes:a.baseLanes|t,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=r.childLanes&~t,e.memoizedState=oL,n}return s=r.child,r=s.sibling,n=O0(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=t),n.return=e,n.sibling=null,r!==null&&(t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)),e.child=n,e.memoizedState=null,n}function cN(r,e){return e=JF({mode:"visible",children:e},r.mode,0,null),e.return=r,r.child=e}function eB(r,e,t,n){return n!==null&&XD(n),cy(e,r.child,null,t),r=cN(e,e.pendingProps.children),r.flags|=2,e.memoizedState=null,r}function Une(r,e,t,n,i,s,a){if(t)return e.flags&256?(e.flags&=-257,n=UI(Error(st(422))),eB(r,e,a,n)):e.memoizedState!==null?(e.child=r.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=JF({mode:"visible",children:n.children},i,0,null),s=ym(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&cy(e,r.child,null,a),e.child.memoizedState=lL(a),e.memoizedState=oL,s);if(!(e.mode&1))return eB(r,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(st(419)),n=UI(s,n,void 0),eB(r,e,a,n)}if(o=(a&r.childLanes)!==0,Xo||o){if(n=Ks,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ef(r,i),_c(n,r,i,-1))}return gN(),n=UI(Error(st(421))),eB(r,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=r.child,e=Xne.bind(null,r),i._reactRetry=e,null):(r=s.treeContext,jl=D0(i.nextSibling),zl=e,ai=!0,dc=null,r!==null&&(_A[bA++]=nf,_A[bA++]=sf,_A[bA++]=Im,nf=r.id,sf=r.overflow,Im=e),e=cN(e,n.children),e.flags|=4096,e)}function f6(r,e,t){r.lanes|=e;var n=r.alternate;n!==null&&(n.lanes|=e),tL(r.return,e,t)}function MI(r,e,t,n,i){var s=r.memoizedState;s===null?r.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=t,s.tailMode=i)}function az(r,e,t){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(fo(r,e,n.children,t),n=gi.current,n&2)n=n&1|2,e.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=e.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&f6(r,t,e);else if(r.tag===19)f6(r,t,e);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}n&=1}if(jn(gi,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)r=t.alternate,r!==null&&tT(r)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),MI(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(r=i.alternate,r!==null&&tT(r)===null){e.child=i;break}r=i.sibling,i.sibling=t,t=i,i=r}MI(e,!0,t,null,s);break;case"together":MI(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function TS(r,e){!(e.mode&1)&&r!==null&&(r.alternate=null,e.alternate=null,e.flags|=2)}function Cf(r,e,t){if(r!==null&&(e.dependencies=r.dependencies),Lm|=e.lanes,!(t&e.childLanes))return null;if(r!==null&&e.child!==r.child)throw Error(st(153));if(e.child!==null){for(r=e.child,t=O0(r,r.pendingProps),e.child=t,t.return=e;r.sibling!==null;)r=r.sibling,t=t.sibling=O0(r,r.pendingProps),t.return=e;t.sibling=null}return e.child}function Mne(r,e,t){switch(e.tag){case 3:iz(e),Ay();break;case 5:LK(e);break;case 1:Jo(e.type)&&q5(e);break;case 4:rN(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;jn(J5,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(jn(gi,gi.current&1),e.flags|=128,null):t&e.child.childLanes?sz(r,e,t):(jn(gi,gi.current&1),r=Cf(r,e,t),r!==null?r.sibling:null);jn(gi,gi.current&1);break;case 19:if(n=(t&e.childLanes)!==0,r.flags&128){if(n)return az(r,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),jn(gi,gi.current),n)break;return null;case 22:case 23:return e.lanes=0,rz(r,e,t)}return Cf(r,e,t)}var oz,AL,lz,Az;oz=function(r,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)r.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};AL=function(){};lz=function(r,e,t,n){var i=r.memoizedProps;if(i!==n){r=e.stateNode,eg(Iu.current);var s=null;switch(t){case"input":i=k3(r,i),n=k3(r,n),s=[];break;case"select":i=wi({},i,{value:void 0}),n=wi({},n,{value:void 0}),s=[];break;case"textarea":i=R3(r,i),n=R3(r,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(r.onclick=G5)}N3(t,n);var a;t=null;for(A in i)if(!n.hasOwnProperty(A)&&i.hasOwnProperty(A)&&i[A]!=null)if(A==="style"){var o=i[A];for(a in o)o.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else A!=="dangerouslySetInnerHTML"&&A!=="children"&&A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(a_.hasOwnProperty(A)?s||(s=[]):(s=s||[]).push(A,null));for(A in n){var l=n[A];if(o=i!=null?i[A]:void 0,n.hasOwnProperty(A)&&l!==o&&(l!=null||o!=null))if(A==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(t||(t={}),t[a]=l[a])}else t||(s||(s=[]),s.push(A,t)),t=l;else A==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(A,l)):A==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(A,""+l):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&(a_.hasOwnProperty(A)?(l!=null&&A==="onScroll"&&Gn("scroll",r),s||o===l||(s=[])):(s=s||[]).push(A,l))}t&&(s=s||[]).push("style",t);var A=s;(e.updateQueue=A)&&(e.flags|=4)}};Az=function(r,e,t,n){t!==n&&(e.flags|=4)};function d2(r,e){if(!ai)switch(r.tailMode){case"hidden":e=r.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?r.tail=null:t.sibling=null;break;case"collapsed":t=r.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e||r.tail===null?r.tail=null:r.tail.sibling=null:n.sibling=null}}function _a(r){var e=r.alternate!==null&&r.alternate.child===r.child,t=0,n=0;if(e)for(var i=r.child;i!==null;)t|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=r,i=i.sibling;else for(i=r.child;i!==null;)t|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=r,i=i.sibling;return r.subtreeFlags|=n,r.childLanes=t,e}function One(r,e,t){var n=e.pendingProps;switch(qD(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _a(e),null;case 1:return Jo(e.type)&&$5(),_a(e),null;case 3:return n=e.stateNode,uy(),Jn(Yo),Jn($a),iN(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(r===null||r.child===null)&&(JC(e)?e.flags|=4:r===null||r.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,dc!==null&&(mL(dc),dc=null))),AL(r,e),_a(e),null;case 5:nN(e);var i=eg(v_.current);if(t=e.type,r!==null&&e.stateNode!=null)lz(r,e,t,n,i),r.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(st(166));return _a(e),null}if(r=eg(Iu.current),JC(e)){n=e.stateNode,t=e.type;var s=e.memoizedProps;switch(n[Bu]=e,n[g_]=s,r=(e.mode&1)!==0,t){case"dialog":Gn("cancel",n),Gn("close",n);break;case"iframe":case"object":case"embed":Gn("load",n);break;case"video":case"audio":for(i=0;i<D2.length;i++)Gn(D2[i],n);break;case"source":Gn("error",n);break;case"img":case"image":case"link":Gn("error",n),Gn("load",n);break;case"details":Gn("toggle",n);break;case"input":_O(n,s),Gn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Gn("invalid",n);break;case"textarea":EO(n,s),Gn("invalid",n)}N3(t,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&YC(n.textContent,o,r),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&YC(n.textContent,o,r),i=["children",""+o]):a_.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Gn("scroll",n)}switch(t){case"input":jC(n),bO(n,s,!0);break;case"textarea":jC(n),CO(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=G5)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Uj(t)),r==="http://www.w3.org/1999/xhtml"?t==="script"?(r=a.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof n.is=="string"?r=a.createElement(t,{is:n.is}):(r=a.createElement(t),t==="select"&&(a=r,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):r=a.createElementNS(r,t),r[Bu]=e,r[g_]=n,oz(r,e,!1,!1),e.stateNode=r;e:{switch(a=U3(t,n),t){case"dialog":Gn("cancel",r),Gn("close",r),i=n;break;case"iframe":case"object":case"embed":Gn("load",r),i=n;break;case"video":case"audio":for(i=0;i<D2.length;i++)Gn(D2[i],r);i=n;break;case"source":Gn("error",r),i=n;break;case"img":case"image":case"link":Gn("error",r),Gn("load",r),i=n;break;case"details":Gn("toggle",r),i=n;break;case"input":_O(r,n),i=k3(r,n),Gn("invalid",r);break;case"option":i=n;break;case"select":r._wrapperState={wasMultiple:!!n.multiple},i=wi({},n,{value:void 0}),Gn("invalid",r);break;case"textarea":EO(r,n),i=R3(r,n),Gn("invalid",r);break;default:i=n}N3(t,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?Qj(r,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Mj(r,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&o_(r,l):typeof l=="number"&&o_(r,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(a_.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Gn("scroll",r):l!=null&&RD(r,s,l,a))}switch(t){case"input":jC(r),bO(r,n,!1);break;case"textarea":jC(r),CO(r);break;case"option":n.value!=null&&r.setAttribute("value",""+$0(n.value));break;case"select":r.multiple=!!n.multiple,s=n.value,s!=null?dv(r,!!n.multiple,s,!1):n.defaultValue!=null&&dv(r,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(r.onclick=G5)}switch(t){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _a(e),null;case 6:if(r&&e.stateNode!=null)Az(r,e,r.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(st(166));if(t=eg(v_.current),eg(Iu.current),JC(e)){if(n=e.stateNode,t=e.memoizedProps,n[Bu]=e,(s=n.nodeValue!==t)&&(r=zl,r!==null))switch(r.tag){case 3:YC(n.nodeValue,t,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&YC(n.nodeValue,t,(r.mode&1)!==0)}s&&(e.flags|=4)}else n=(t.nodeType===9?t:t.ownerDocument).createTextNode(n),n[Bu]=e,e.stateNode=n}return _a(e),null;case 13:if(Jn(gi),n=e.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(ai&&jl!==null&&e.mode&1&&!(e.flags&128))SK(),Ay(),e.flags|=98560,s=!1;else if(s=JC(e),n!==null&&n.dehydrated!==null){if(r===null){if(!s)throw Error(st(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(st(317));s[Bu]=e}else Ay(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_a(e),s=!1}else dc!==null&&(mL(dc),dc=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(n=n!==null,n!==(r!==null&&r.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(r===null||gi.current&1?bs===0&&(bs=3):gN())),e.updateQueue!==null&&(e.flags|=4),_a(e),null);case 4:return uy(),AL(r,e),r===null&&d_(e.stateNode.containerInfo),_a(e),null;case 10:return ZD(e.type._context),_a(e),null;case 17:return Jo(e.type)&&$5(),_a(e),null;case 19:if(Jn(gi),s=e.memoizedState,s===null)return _a(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)d2(s,!1);else{if(bs!==0||r!==null&&r.flags&128)for(r=e.child;r!==null;){if(a=tT(r),a!==null){for(e.flags|=128,d2(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=t,t=e.child;t!==null;)s=t,r=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,r=a.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t=t.sibling;return jn(gi,gi.current&1|2),e.child}r=r.sibling}s.tail!==null&&$i()>fy&&(e.flags|=128,n=!0,d2(s,!1),e.lanes=4194304)}else{if(!n)if(r=tT(a),r!==null){if(e.flags|=128,n=!0,t=r.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),d2(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!ai)return _a(e),null}else 2*$i()-s.renderingStartTime>fy&&t!==1073741824&&(e.flags|=128,n=!0,d2(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(t=s.last,t!==null?t.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=$i(),e.sibling=null,t=gi.current,jn(gi,n?t&1|2:t&1),e):(_a(e),null);case 22:case 23:return pN(),n=e.memoizedState!==null,r!==null&&r.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ml&1073741824&&(_a(e),e.subtreeFlags&6&&(e.flags|=8192)):_a(e),null;case 24:return null;case 25:return null}throw Error(st(156,e.tag))}function Qne(r,e){switch(qD(e),e.tag){case 1:return Jo(e.type)&&$5(),r=e.flags,r&65536?(e.flags=r&-65537|128,e):null;case 3:return uy(),Jn(Yo),Jn($a),iN(),r=e.flags,r&65536&&!(r&128)?(e.flags=r&-65537|128,e):null;case 5:return nN(e),null;case 13:if(Jn(gi),r=e.memoizedState,r!==null&&r.dehydrated!==null){if(e.alternate===null)throw Error(st(340));Ay()}return r=e.flags,r&65536?(e.flags=r&-65537|128,e):null;case 19:return Jn(gi),null;case 4:return uy(),null;case 10:return ZD(e.type._context),null;case 22:case 23:return pN(),null;case 24:return null;default:return null}}var tB=!1,Va=!1,Hne=typeof WeakSet=="function"?WeakSet:Set,St=null;function nv(r,e){var t=r.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(n){Li(r,e,n)}else t.current=null}function cL(r,e,t){try{t()}catch(n){Li(r,e,n)}}var d6=!1;function Vne(r,e){if(G3=K5,r=dK(),GD(r)){if("selectionStart"in r)var t={start:r.selectionStart,end:r.selectionEnd};else e:{t=(t=r.ownerDocument)&&t.defaultView||window;var n=t.getSelection&&t.getSelection();if(n&&n.rangeCount!==0){t=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var a=0,o=-1,l=-1,A=0,c=0,u=r,h=null;t:for(;;){for(var f;u!==t||i!==0&&u.nodeType!==3||(o=a+i),u!==s||n!==0&&u.nodeType!==3||(l=a+n),u.nodeType===3&&(a+=u.nodeValue.length),(f=u.firstChild)!==null;)h=u,u=f;for(;;){if(u===r)break t;if(h===t&&++A===i&&(o=a),h===s&&++c===n&&(l=a),(f=u.nextSibling)!==null)break;u=h,h=u.parentNode}u=f}t=o===-1||l===-1?null:{start:o,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for($3={focusedElem:r,selectionRange:t},K5=!1,St=e;St!==null;)if(e=St,r=e.child,(e.subtreeFlags&1028)!==0&&r!==null)r.return=e,St=r;else for(;St!==null;){e=St;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,v=g.memoizedState,m=e.stateNode,x=m.getSnapshotBeforeUpdate(e.elementType===e.type?p:ec(e.type,p),v);m.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(st(163))}}catch(S){Li(e,e.return,S)}if(r=e.sibling,r!==null){r.return=e.return,St=r;break}St=e.return}return g=d6,d6=!1,g}function Ix(r,e,t){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&r)===r){var s=i.destroy;i.destroy=void 0,s!==void 0&&cL(e,t,s)}i=i.next}while(i!==n)}}function XF(r,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&r)===r){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}}function uL(r){var e=r.ref;if(e!==null){var t=r.stateNode;switch(r.tag){case 5:r=t;break;default:r=t}typeof e=="function"?e(r):e.current=r}}function cz(r){var e=r.alternate;e!==null&&(r.alternate=null,cz(e)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(e=r.stateNode,e!==null&&(delete e[Bu],delete e[g_],delete e[Y3],delete e[Ene],delete e[Cne])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function uz(r){return r.tag===5||r.tag===3||r.tag===4}function p6(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||uz(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function hL(r,e,t){var n=r.tag;if(n===5||n===6)r=r.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(r,e):t.insertBefore(r,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(r,t)):(e=t,e.appendChild(r)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=G5));else if(n!==4&&(r=r.child,r!==null))for(hL(r,e,t),r=r.sibling;r!==null;)hL(r,e,t),r=r.sibling}function fL(r,e,t){var n=r.tag;if(n===5||n===6)r=r.stateNode,e?t.insertBefore(r,e):t.appendChild(r);else if(n!==4&&(r=r.child,r!==null))for(fL(r,e,t),r=r.sibling;r!==null;)fL(r,e,t),r=r.sibling}var na=null,fc=!1;function id(r,e,t){for(t=t.child;t!==null;)hz(r,e,t),t=t.sibling}function hz(r,e,t){if(Fu&&typeof Fu.onCommitFiberUnmount=="function")try{Fu.onCommitFiberUnmount(VF,t)}catch{}switch(t.tag){case 5:Va||nv(t,e);case 6:var n=na,i=fc;na=null,id(r,e,t),na=n,fc=i,na!==null&&(fc?(r=na,t=t.stateNode,r.nodeType===8?r.parentNode.removeChild(t):r.removeChild(t)):na.removeChild(t.stateNode));break;case 18:na!==null&&(fc?(r=na,t=t.stateNode,r.nodeType===8?kI(r.parentNode,t):r.nodeType===1&&kI(r,t),u_(r)):kI(na,t.stateNode));break;case 4:n=na,i=fc,na=t.stateNode.containerInfo,fc=!0,id(r,e,t),na=n,fc=i;break;case 0:case 11:case 14:case 15:if(!Va&&(n=t.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&cL(t,e,a),i=i.next}while(i!==n)}id(r,e,t);break;case 1:if(!Va&&(nv(t,e),n=t.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=t.memoizedProps,n.state=t.memoizedState,n.componentWillUnmount()}catch(o){Li(t,e,o)}id(r,e,t);break;case 21:id(r,e,t);break;case 22:t.mode&1?(Va=(n=Va)||t.memoizedState!==null,id(r,e,t),Va=n):id(r,e,t);break;default:id(r,e,t)}}function g6(r){var e=r.updateQueue;if(e!==null){r.updateQueue=null;var t=r.stateNode;t===null&&(t=r.stateNode=new Hne),e.forEach(function(n){var i=Yne.bind(null,r,n);t.has(n)||(t.add(n),n.then(i,i))})}}function GA(r,e){var t=e.deletions;if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];try{var s=r,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:na=o.stateNode,fc=!1;break e;case 3:na=o.stateNode.containerInfo,fc=!0;break e;case 4:na=o.stateNode.containerInfo,fc=!0;break e}o=o.return}if(na===null)throw Error(st(160));hz(s,a,i),na=null,fc=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(A){Li(i,e,A)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)fz(e,r),e=e.sibling}function fz(r,e){var t=r.alternate,n=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(GA(e,r),Kc(r),n&4){try{Ix(3,r,r.return),XF(3,r)}catch(p){Li(r,r.return,p)}try{Ix(5,r,r.return)}catch(p){Li(r,r.return,p)}}break;case 1:GA(e,r),Kc(r),n&512&&t!==null&&nv(t,t.return);break;case 5:if(GA(e,r),Kc(r),n&512&&t!==null&&nv(t,t.return),r.flags&32){var i=r.stateNode;try{o_(i,"")}catch(p){Li(r,r.return,p)}}if(n&4&&(i=r.stateNode,i!=null)){var s=r.memoizedProps,a=t!==null?t.memoizedProps:s,o=r.type,l=r.updateQueue;if(r.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&Dj(i,s),U3(o,a);var A=U3(o,s);for(a=0;a<l.length;a+=2){var c=l[a],u=l[a+1];c==="style"?Qj(i,u):c==="dangerouslySetInnerHTML"?Mj(i,u):c==="children"?o_(i,u):RD(i,c,u,A)}switch(o){case"input":L3(i,s);break;case"textarea":Nj(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?dv(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?dv(i,!!s.multiple,s.defaultValue,!0):dv(i,!!s.multiple,s.multiple?[]:"",!1))}i[g_]=s}catch(p){Li(r,r.return,p)}}break;case 6:if(GA(e,r),Kc(r),n&4){if(r.stateNode===null)throw Error(st(162));i=r.stateNode,s=r.memoizedProps;try{i.nodeValue=s}catch(p){Li(r,r.return,p)}}break;case 3:if(GA(e,r),Kc(r),n&4&&t!==null&&t.memoizedState.isDehydrated)try{u_(e.containerInfo)}catch(p){Li(r,r.return,p)}break;case 4:GA(e,r),Kc(r);break;case 13:GA(e,r),Kc(r),i=r.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(fN=$i())),n&4&&g6(r);break;case 22:if(c=t!==null&&t.memoizedState!==null,r.mode&1?(Va=(A=Va)||c,GA(e,r),Va=A):GA(e,r),Kc(r),n&8192){if(A=r.memoizedState!==null,(r.stateNode.isHidden=A)&&!c&&r.mode&1)for(St=r,c=r.child;c!==null;){for(u=St=c;St!==null;){switch(h=St,f=h.child,h.tag){case 0:case 11:case 14:case 15:Ix(4,h,h.return);break;case 1:nv(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,t=h.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(p){Li(n,t,p)}}break;case 5:nv(h,h.return);break;case 22:if(h.memoizedState!==null){v6(u);continue}}f!==null?(f.return=h,St=f):v6(u)}c=c.sibling}e:for(c=null,u=r;;){if(u.tag===5){if(c===null){c=u;try{i=u.stateNode,A?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=u.stateNode,l=u.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Oj("display",a))}catch(p){Li(r,r.return,p)}}}else if(u.tag===6){if(c===null)try{u.stateNode.nodeValue=A?"":u.memoizedProps}catch(p){Li(r,r.return,p)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===r)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===r)break e;for(;u.sibling===null;){if(u.return===null||u.return===r)break e;c===u&&(c=null),u=u.return}c===u&&(c=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:GA(e,r),Kc(r),n&4&&g6(r);break;case 21:break;default:GA(e,r),Kc(r)}}function Kc(r){var e=r.flags;if(e&2){try{e:{for(var t=r.return;t!==null;){if(uz(t)){var n=t;break e}t=t.return}throw Error(st(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(o_(i,""),n.flags&=-33);var s=p6(r);fL(r,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=p6(r);hL(r,o,a);break;default:throw Error(st(161))}}catch(l){Li(r,r.return,l)}r.flags&=-3}e&4096&&(r.flags&=-4097)}function jne(r,e,t){St=r,dz(r)}function dz(r,e,t){for(var n=(r.mode&1)!==0;St!==null;){var i=St,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||tB;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Va;o=tB;var A=Va;if(tB=a,(Va=l)&&!A)for(St=i;St!==null;)a=St,l=a.child,a.tag===22&&a.memoizedState!==null?w6(i):l!==null?(l.return=a,St=l):w6(i);for(;s!==null;)St=s,dz(s),s=s.sibling;St=i,tB=o,Va=A}m6(r)}else i.subtreeFlags&8772&&s!==null?(s.return=i,St=s):m6(r)}}function m6(r){for(;St!==null;){var e=St;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Va||XF(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Va)if(t===null)n.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:ec(e.type,t.memoizedProps);n.componentDidUpdate(i,t.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&t6(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}t6(e,a,t)}break;case 5:var o=e.stateNode;if(t===null&&e.flags&4){t=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var A=e.alternate;if(A!==null){var c=A.memoizedState;if(c!==null){var u=c.dehydrated;u!==null&&u_(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(st(163))}Va||e.flags&512&&uL(e)}catch(h){Li(e,e.return,h)}}if(e===r){St=null;break}if(t=e.sibling,t!==null){t.return=e.return,St=t;break}St=e.return}}function v6(r){for(;St!==null;){var e=St;if(e===r){St=null;break}var t=e.sibling;if(t!==null){t.return=e.return,St=t;break}St=e.return}}function w6(r){for(;St!==null;){var e=St;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{XF(4,e)}catch(l){Li(e,t,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Li(e,i,l)}}var s=e.return;try{uL(e)}catch(l){Li(e,s,l)}break;case 5:var a=e.return;try{uL(e)}catch(l){Li(e,a,l)}}}catch(l){Li(e,e.return,l)}if(e===r){St=null;break}var o=e.sibling;if(o!==null){o.return=e.return,St=o;break}St=e.return}}var Kne=Math.ceil,iT=Nf.ReactCurrentDispatcher,uN=Nf.ReactCurrentOwner,IA=Nf.ReactCurrentBatchConfig,Gr=0,Ks=null,As=null,ha=0,Ml=0,iv=hp(0),bs=0,__=null,Lm=0,YF=0,hN=0,kx=null,$o=null,fN=0,fy=1/0,gh=null,sT=!1,dL=null,U0=null,rB=!1,v0=null,aT=0,Lx=0,pL=null,FS=-1,IS=0;function wo(){return Gr&6?$i():FS!==-1?FS:FS=$i()}function M0(r){return r.mode&1?Gr&2&&ha!==0?ha&-ha:Sne.transition!==null?(IS===0&&(IS=Jj()),IS):(r=gn,r!==0||(r=window.event,r=r===void 0?16:sK(r.type)),r):1}function _c(r,e,t,n){if(50<Lx)throw Lx=0,pL=null,Error(st(185));HE(r,t,n),(!(Gr&2)||r!==Ks)&&(r===Ks&&(!(Gr&2)&&(YF|=t),bs===4&&gd(r,ha)),Zo(r,n),t===1&&Gr===0&&!(e.mode&1)&&(fy=$i()+500,GF&&fp()))}function Zo(r,e){var t=r.callbackNode;Sre(r,e);var n=j5(r,r===Ks?ha:0);if(n===0)t!==null&&TO(t),r.callbackNode=null,r.callbackPriority=0;else if(e=n&-n,r.callbackPriority!==e){if(t!=null&&TO(t),e===1)r.tag===0?Bne(y6.bind(null,r)):EK(y6.bind(null,r)),_ne(function(){!(Gr&6)&&fp()}),t=null;else{switch(Zj(n)){case 1:t=OD;break;case 4:t=Xj;break;case 16:t=V5;break;case 536870912:t=Yj;break;default:t=V5}t=_z(t,pz.bind(null,r))}r.callbackPriority=e,r.callbackNode=t}}function pz(r,e){if(FS=-1,IS=0,Gr&6)throw Error(st(327));var t=r.callbackNode;if(wv()&&r.callbackNode!==t)return null;var n=j5(r,r===Ks?ha:0);if(n===0)return null;if(n&30||n&r.expiredLanes||e)e=oT(r,n);else{e=n;var i=Gr;Gr|=2;var s=mz();(Ks!==r||ha!==e)&&(gh=null,fy=$i()+500,wm(r,e));do try{Gne();break}catch(o){gz(r,o)}while(!0);JD(),iT.current=s,Gr=i,As!==null?e=0:(Ks=null,ha=0,e=bs)}if(e!==0){if(e===2&&(i=V3(r),i!==0&&(n=i,e=gL(r,i))),e===1)throw t=__,wm(r,0),gd(r,n),Zo(r,$i()),t;if(e===6)gd(r,n);else{if(i=r.current.alternate,!(n&30)&&!zne(i)&&(e=oT(r,n),e===2&&(s=V3(r),s!==0&&(n=s,e=gL(r,s))),e===1))throw t=__,wm(r,0),gd(r,n),Zo(r,$i()),t;switch(r.finishedWork=i,r.finishedLanes=n,e){case 0:case 1:throw Error(st(345));case 2:Mp(r,$o,gh);break;case 3:if(gd(r,n),(n&130023424)===n&&(e=fN+500-$i(),10<e)){if(j5(r,0)!==0)break;if(i=r.suspendedLanes,(i&n)!==n){wo(),r.pingedLanes|=r.suspendedLanes&i;break}r.timeoutHandle=X3(Mp.bind(null,r,$o,gh),e);break}Mp(r,$o,gh);break;case 4:if(gd(r,n),(n&4194240)===n)break;for(e=r.eventTimes,i=-1;0<n;){var a=31-xc(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=$i()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Kne(n/1960))-n,10<n){r.timeoutHandle=X3(Mp.bind(null,r,$o,gh),n);break}Mp(r,$o,gh);break;case 5:Mp(r,$o,gh);break;default:throw Error(st(329))}}}return Zo(r,$i()),r.callbackNode===t?pz.bind(null,r):null}function gL(r,e){var t=kx;return r.current.memoizedState.isDehydrated&&(wm(r,e).flags|=256),r=oT(r,e),r!==2&&(e=$o,$o=t,e!==null&&mL(e)),r}function mL(r){$o===null?$o=r:$o.push.apply($o,r)}function zne(r){for(var e=r;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var n=0;n<t.length;n++){var i=t[n],s=i.getSnapshot;i=i.value;try{if(!Cc(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function gd(r,e){for(e&=~hN,e&=~YF,r.suspendedLanes|=e,r.pingedLanes&=~e,r=r.expirationTimes;0<e;){var t=31-xc(e),n=1<<t;r[t]=-1,e&=~n}}function y6(r){if(Gr&6)throw Error(st(327));wv();var e=j5(r,0);if(!(e&1))return Zo(r,$i()),null;var t=oT(r,e);if(r.tag!==0&&t===2){var n=V3(r);n!==0&&(e=n,t=gL(r,n))}if(t===1)throw t=__,wm(r,0),gd(r,e),Zo(r,$i()),t;if(t===6)throw Error(st(345));return r.finishedWork=r.current.alternate,r.finishedLanes=e,Mp(r,$o,gh),Zo(r,$i()),null}function dN(r,e){var t=Gr;Gr|=1;try{return r(e)}finally{Gr=t,Gr===0&&(fy=$i()+500,GF&&fp())}}function Pm(r){v0!==null&&v0.tag===0&&!(Gr&6)&&wv();var e=Gr;Gr|=1;var t=IA.transition,n=gn;try{if(IA.transition=null,gn=1,r)return r()}finally{gn=n,IA.transition=t,Gr=e,!(Gr&6)&&fp()}}function pN(){Ml=iv.current,Jn(iv)}function wm(r,e){r.finishedWork=null,r.finishedLanes=0;var t=r.timeoutHandle;if(t!==-1&&(r.timeoutHandle=-1,xne(t)),As!==null)for(t=As.return;t!==null;){var n=t;switch(qD(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&$5();break;case 3:uy(),Jn(Yo),Jn($a),iN();break;case 5:nN(n);break;case 4:uy();break;case 13:Jn(gi);break;case 19:Jn(gi);break;case 10:ZD(n.type._context);break;case 22:case 23:pN()}t=t.return}if(Ks=r,As=r=O0(r.current,null),ha=Ml=e,bs=0,__=null,hN=YF=Lm=0,$o=kx=null,Zp!==null){for(e=0;e<Zp.length;e++)if(t=Zp[e],n=t.interleaved,n!==null){t.interleaved=null;var i=n.next,s=t.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}t.pending=n}Zp=null}return r}function gz(r,e){do{var t=As;try{if(JD(),BS.current=nT,rT){for(var n=mi.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}rT=!1}if(km=0,Hs=xs=mi=null,Fx=!1,w_=0,uN.current=null,t===null||t.return===null){bs=1,__=e,As=null;break}e:{var s=r,a=t.return,o=t,l=e;if(e=ha,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var A=l,c=o,u=c.tag;if(!(c.mode&1)&&(u===0||u===11||u===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=o6(a);if(f!==null){f.flags&=-257,l6(f,a,o,s,e),f.mode&1&&a6(s,A,e),e=f,l=A;var g=e.updateQueue;if(g===null){var p=new Set;p.add(l),e.updateQueue=p}else g.add(l);break e}else{if(!(e&1)){a6(s,A,e),gN();break e}l=Error(st(426))}}else if(ai&&o.mode&1){var v=o6(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),l6(v,a,o,s,e),XD(hy(l,o));break e}}s=l=hy(l,o),bs!==4&&(bs=2),kx===null?kx=[s]:kx.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=ZK(s,l,e);e6(s,m);break e;case 1:o=l;var x=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(U0===null||!U0.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=ez(s,o,e);e6(s,S);break e}}s=s.return}while(s!==null)}wz(t)}catch(k){e=k,As===t&&t!==null&&(As=t=t.return);continue}break}while(!0)}function mz(){var r=iT.current;return iT.current=nT,r===null?nT:r}function gN(){(bs===0||bs===3||bs===2)&&(bs=4),Ks===null||!(Lm&268435455)&&!(YF&268435455)||gd(Ks,ha)}function oT(r,e){var t=Gr;Gr|=2;var n=mz();(Ks!==r||ha!==e)&&(gh=null,wm(r,e));do try{Wne();break}catch(i){gz(r,i)}while(!0);if(JD(),Gr=t,iT.current=n,As!==null)throw Error(st(261));return Ks=null,ha=0,bs}function Wne(){for(;As!==null;)vz(As)}function Gne(){for(;As!==null&&!vre();)vz(As)}function vz(r){var e=xz(r.alternate,r,Ml);r.memoizedProps=r.pendingProps,e===null?wz(r):As=e,uN.current=null}function wz(r){var e=r;do{var t=e.alternate;if(r=e.return,e.flags&32768){if(t=Qne(t,e),t!==null){t.flags&=32767,As=t;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{bs=6,As=null;return}}else if(t=One(t,e,Ml),t!==null){As=t;return}if(e=e.sibling,e!==null){As=e;return}As=e=r}while(e!==null);bs===0&&(bs=5)}function Mp(r,e,t){var n=gn,i=IA.transition;try{IA.transition=null,gn=1,$ne(r,e,t,n)}finally{IA.transition=i,gn=n}return null}function $ne(r,e,t,n){do wv();while(v0!==null);if(Gr&6)throw Error(st(327));t=r.finishedWork;var i=r.finishedLanes;if(t===null)return null;if(r.finishedWork=null,r.finishedLanes=0,t===r.current)throw Error(st(177));r.callbackNode=null,r.callbackPriority=0;var s=t.lanes|t.childLanes;if(Tre(r,s),r===Ks&&(As=Ks=null,ha=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||rB||(rB=!0,_z(V5,function(){return wv(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=IA.transition,IA.transition=null;var a=gn;gn=1;var o=Gr;Gr|=4,uN.current=null,Vne(r,t),fz(t,r),dne($3),K5=!!G3,$3=G3=null,r.current=t,jne(t),wre(),Gr=o,gn=a,IA.transition=s}else r.current=t;if(rB&&(rB=!1,v0=r,aT=i),s=r.pendingLanes,s===0&&(U0=null),_re(t.stateNode),Zo(r,$i()),e!==null)for(n=r.onRecoverableError,t=0;t<e.length;t++)i=e[t],n(i.value,{componentStack:i.stack,digest:i.digest});if(sT)throw sT=!1,r=dL,dL=null,r;return aT&1&&r.tag!==0&&wv(),s=r.pendingLanes,s&1?r===pL?Lx++:(Lx=0,pL=r):Lx=0,fp(),null}function wv(){if(v0!==null){var r=Zj(aT),e=IA.transition,t=gn;try{if(IA.transition=null,gn=16>r?16:r,v0===null)var n=!1;else{if(r=v0,v0=null,aT=0,Gr&6)throw Error(st(331));var i=Gr;for(Gr|=4,St=r.current;St!==null;){var s=St,a=s.child;if(St.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var A=o[l];for(St=A;St!==null;){var c=St;switch(c.tag){case 0:case 11:case 15:Ix(8,c,s)}var u=c.child;if(u!==null)u.return=c,St=u;else for(;St!==null;){c=St;var h=c.sibling,f=c.return;if(cz(c),c===A){St=null;break}if(h!==null){h.return=f,St=h;break}St=f}}}var g=s.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}St=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,St=a;else e:for(;St!==null;){if(s=St,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ix(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,St=m;break e}St=s.return}}var x=r.current;for(St=x;St!==null;){a=St;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,St=_;else e:for(a=x;St!==null;){if(o=St,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:XF(9,o)}}catch(k){Li(o,o.return,k)}if(o===a){St=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,St=S;break e}St=o.return}}if(Gr=i,fp(),Fu&&typeof Fu.onPostCommitFiberRoot=="function")try{Fu.onPostCommitFiberRoot(VF,r)}catch{}n=!0}return n}finally{gn=t,IA.transition=e}}return!1}function x6(r,e,t){e=hy(t,e),e=ZK(r,e,1),r=N0(r,e,1),e=wo(),r!==null&&(HE(r,1,e),Zo(r,e))}function Li(r,e,t){if(r.tag===3)x6(r,r,t);else for(;e!==null;){if(e.tag===3){x6(e,r,t);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(U0===null||!U0.has(n))){r=hy(t,r),r=ez(e,r,1),e=N0(e,r,1),r=wo(),e!==null&&(HE(e,1,r),Zo(e,r));break}}e=e.return}}function qne(r,e,t){var n=r.pingCache;n!==null&&n.delete(e),e=wo(),r.pingedLanes|=r.suspendedLanes&t,Ks===r&&(ha&t)===t&&(bs===4||bs===3&&(ha&130023424)===ha&&500>$i()-fN?wm(r,0):hN|=t),Zo(r,e)}function yz(r,e){e===0&&(r.mode&1?(e=WC,WC<<=1,!(WC&130023424)&&(WC=4194304)):e=1);var t=wo();r=Ef(r,e),r!==null&&(HE(r,e,t),Zo(r,t))}function Xne(r){var e=r.memoizedState,t=0;e!==null&&(t=e.retryLane),yz(r,t)}function Yne(r,e){var t=0;switch(r.tag){case 13:var n=r.stateNode,i=r.memoizedState;i!==null&&(t=i.retryLane);break;case 19:n=r.stateNode;break;default:throw Error(st(314))}n!==null&&n.delete(e),yz(r,t)}var xz;xz=function(r,e,t){if(r!==null)if(r.memoizedProps!==e.pendingProps||Yo.current)Xo=!0;else{if(!(r.lanes&t)&&!(e.flags&128))return Xo=!1,Mne(r,e,t);Xo=!!(r.flags&131072)}else Xo=!1,ai&&e.flags&1048576&&CK(e,Y5,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;TS(r,e),r=e.pendingProps;var i=ly(e,$a.current);vv(e,t),i=aN(null,e,n,r,i,t);var s=oN();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Jo(n)?(s=!0,q5(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,tN(e),i.updater=qF,e.stateNode=i,i._reactInternals=e,nL(e,n,r,t),e=aL(null,e,n,!0,s,t)):(e.tag=0,ai&&s&&$D(e),fo(null,e,i,t),e=e.child),e;case 16:n=e.elementType;e:{switch(TS(r,e),r=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=Zne(n),r=ec(n,r),i){case 0:e=sL(null,e,n,r,t);break e;case 1:e=u6(null,e,n,r,t);break e;case 11:e=A6(null,e,n,r,t);break e;case 14:e=c6(null,e,n,ec(n.type,r),t);break e}throw Error(st(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ec(n,i),sL(r,e,n,i,t);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ec(n,i),u6(r,e,n,i,t);case 3:e:{if(iz(e),r===null)throw Error(st(387));n=e.pendingProps,s=e.memoizedState,i=s.element,kK(r,e),eT(e,n,null,t);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=hy(Error(st(423)),e),e=h6(r,e,n,t,i);break e}else if(n!==i){i=hy(Error(st(424)),e),e=h6(r,e,n,t,i);break e}else for(jl=D0(e.stateNode.containerInfo.firstChild),zl=e,ai=!0,dc=null,t=FK(e,null,n,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Ay(),n===i){e=Cf(r,e,t);break e}fo(r,e,n,t)}e=e.child}return e;case 5:return LK(e),r===null&&eL(e),n=e.type,i=e.pendingProps,s=r!==null?r.memoizedProps:null,a=i.children,q3(n,i)?a=null:s!==null&&q3(n,s)&&(e.flags|=32),nz(r,e),fo(r,e,a,t),e.child;case 6:return r===null&&eL(e),null;case 13:return sz(r,e,t);case 4:return rN(e,e.stateNode.containerInfo),n=e.pendingProps,r===null?e.child=cy(e,null,n,t):fo(r,e,n,t),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ec(n,i),A6(r,e,n,i,t);case 7:return fo(r,e,e.pendingProps,t),e.child;case 8:return fo(r,e,e.pendingProps.children,t),e.child;case 12:return fo(r,e,e.pendingProps.children,t),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,jn(J5,n._currentValue),n._currentValue=a,s!==null)if(Cc(s.value,a)){if(s.children===i.children&&!Yo.current){e=Cf(r,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=pf(-1,t&-t),l.tag=2;var A=s.updateQueue;if(A!==null){A=A.shared;var c=A.pending;c===null?l.next=l:(l.next=c.next,c.next=l),A.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),tL(s.return,t,e),o.lanes|=t;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(st(341));a.lanes|=t,o=a.alternate,o!==null&&(o.lanes|=t),tL(a,t,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}fo(r,e,i.children,t),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,vv(e,t),i=LA(i),n=n(i),e.flags|=1,fo(r,e,n,t),e.child;case 14:return n=e.type,i=ec(n,e.pendingProps),i=ec(n.type,i),c6(r,e,n,i,t);case 15:return tz(r,e,e.type,e.pendingProps,t);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ec(n,i),TS(r,e),e.tag=1,Jo(n)?(r=!0,q5(e)):r=!1,vv(e,t),JK(e,n,i),nL(e,n,i,t),aL(null,e,n,!0,r,t);case 19:return az(r,e,t);case 22:return rz(r,e,t)}throw Error(st(156,e.tag))};function _z(r,e){return qj(r,e)}function Jne(r,e,t,n){this.tag=r,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function SA(r,e,t,n){return new Jne(r,e,t,n)}function mN(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Zne(r){if(typeof r=="function")return mN(r)?1:0;if(r!=null){if(r=r.$$typeof,r===ND)return 11;if(r===UD)return 14}return 2}function O0(r,e){var t=r.alternate;return t===null?(t=SA(r.tag,e,r.key,r.mode),t.elementType=r.elementType,t.type=r.type,t.stateNode=r.stateNode,t.alternate=r,r.alternate=t):(t.pendingProps=e,t.type=r.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=r.flags&14680064,t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,e=r.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=r.sibling,t.index=r.index,t.ref=r.ref,t}function kS(r,e,t,n,i,s){var a=2;if(n=r,typeof r=="function")mN(r)&&(a=1);else if(typeof r=="string")a=5;else e:switch(r){case $1:return ym(t.children,i,s,e);case DD:a=8,i|=8;break;case S3:return r=SA(12,t,e,i|2),r.elementType=S3,r.lanes=s,r;case T3:return r=SA(13,t,e,i),r.elementType=T3,r.lanes=s,r;case F3:return r=SA(19,t,e,i),r.elementType=F3,r.lanes=s,r;case Lj:return JF(t,i,s,e);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Ij:a=10;break e;case kj:a=9;break e;case ND:a=11;break e;case UD:a=14;break e;case hd:a=16,n=null;break e}throw Error(st(130,r==null?r:typeof r,""))}return e=SA(a,t,e,i),e.elementType=r,e.type=n,e.lanes=s,e}function ym(r,e,t,n){return r=SA(7,r,n,e),r.lanes=t,r}function JF(r,e,t,n){return r=SA(22,r,n,e),r.elementType=Lj,r.lanes=t,r.stateNode={isHidden:!1},r}function OI(r,e,t){return r=SA(6,r,null,e),r.lanes=t,r}function QI(r,e,t){return e=SA(4,r.children!==null?r.children:[],r.key,e),e.lanes=t,e.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},e}function eie(r,e,t,n,i){this.tag=e,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yI(0),this.expirationTimes=yI(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yI(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function vN(r,e,t,n,i,s,a,o,l){return r=new eie(r,e,t,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=SA(3,null,null,e),r.current=s,s.stateNode=r,s.memoizedState={element:n,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},tN(s),r}function tie(r,e,t){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G1,key:n==null?null:""+n,children:r,containerInfo:e,implementation:t}}function bz(r){if(!r)return q0;r=r._reactInternals;e:{if(Xm(r)!==r||r.tag!==1)throw Error(st(170));var e=r;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Jo(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(st(171))}if(r.tag===1){var t=r.type;if(Jo(t))return bK(r,t,e)}return e}function Ez(r,e,t,n,i,s,a,o,l){return r=vN(t,n,!0,r,i,s,a,o,l),r.context=bz(null),t=r.current,n=wo(),i=M0(t),s=pf(n,i),s.callback=e??null,N0(t,s,i),r.current.lanes=i,HE(r,i,n),Zo(r,n),r}function ZF(r,e,t,n){var i=e.current,s=wo(),a=M0(i);return t=bz(t),e.context===null?e.context=t:e.pendingContext=t,e=pf(s,a),e.payload={element:r},n=n===void 0?null:n,n!==null&&(e.callback=n),r=N0(i,e,a),r!==null&&(_c(r,i,a,s),CS(r,i,a)),a}function lT(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function _6(r,e){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var t=r.retryLane;r.retryLane=t!==0&&t<e?t:e}}function wN(r,e){_6(r,e),(r=r.alternate)&&_6(r,e)}function rie(){return null}var Cz=typeof reportError=="function"?reportError:function(r){console.error(r)};function yN(r){this._internalRoot=r}e4.prototype.render=yN.prototype.render=function(r){var e=this._internalRoot;if(e===null)throw Error(st(409));ZF(r,e,null,null)};e4.prototype.unmount=yN.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var e=r.containerInfo;Pm(function(){ZF(null,r,null,null)}),e[bf]=null}};function e4(r){this._internalRoot=r}e4.prototype.unstable_scheduleHydration=function(r){if(r){var e=rK();r={blockedOn:null,target:r,priority:e};for(var t=0;t<pd.length&&e!==0&&e<pd[t].priority;t++);pd.splice(t,0,r),t===0&&iK(r)}};function xN(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function t4(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function b6(){}function nie(r,e,t,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var A=lT(a);s.call(A)}}var a=Ez(e,n,r,0,null,!1,!1,"",b6);return r._reactRootContainer=a,r[bf]=a.current,d_(r.nodeType===8?r.parentNode:r),Pm(),a}for(;i=r.lastChild;)r.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var A=lT(l);o.call(A)}}var l=vN(r,0,!1,null,null,!1,!1,"",b6);return r._reactRootContainer=l,r[bf]=l.current,d_(r.nodeType===8?r.parentNode:r),Pm(function(){ZF(e,l,t,n)}),l}function r4(r,e,t,n,i){var s=t._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=lT(a);o.call(l)}}ZF(e,a,r,i)}else a=nie(t,e,r,i,n);return lT(a)}eK=function(r){switch(r.tag){case 3:var e=r.stateNode;if(e.current.memoizedState.isDehydrated){var t=R2(e.pendingLanes);t!==0&&(QD(e,t|1),Zo(e,$i()),!(Gr&6)&&(fy=$i()+500,fp()))}break;case 13:Pm(function(){var n=Ef(r,1);if(n!==null){var i=wo();_c(n,r,1,i)}}),wN(r,1)}};HD=function(r){if(r.tag===13){var e=Ef(r,134217728);if(e!==null){var t=wo();_c(e,r,134217728,t)}wN(r,134217728)}};tK=function(r){if(r.tag===13){var e=M0(r),t=Ef(r,e);if(t!==null){var n=wo();_c(t,r,e,n)}wN(r,e)}};rK=function(){return gn};nK=function(r,e){var t=gn;try{return gn=r,e()}finally{gn=t}};O3=function(r,e,t){switch(e){case"input":if(L3(r,t),e=t.name,t.type==="radio"&&e!=null){for(t=r;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var n=t[e];if(n!==r&&n.form===r.form){var i=WF(n);if(!i)throw Error(st(90));Rj(n),L3(n,i)}}}break;case"textarea":Nj(r,t);break;case"select":e=t.value,e!=null&&dv(r,!!t.multiple,e,!1)}};jj=dN;Kj=Pm;var iie={usingClientEntryPoint:!1,Events:[jE,J1,WF,Hj,Vj,dN]},p2={findFiberByHostInstance:Jp,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sie={bundleType:p2.bundleType,version:p2.version,rendererPackageName:p2.rendererPackageName,rendererConfig:p2.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nf.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Gj(r),r===null?null:r.stateNode},findFiberByHostInstance:p2.findFiberByHostInstance||rie,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nB=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nB.isDisabled&&nB.supportsFiber)try{VF=nB.inject(sie),Fu=nB}catch{}}ql.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iie;ql.createPortal=function(r,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xN(e))throw Error(st(200));return tie(r,e,null,t)};ql.createRoot=function(r,e){if(!xN(r))throw Error(st(299));var t=!1,n="",i=Cz;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=vN(r,1,!1,null,null,t,!1,n,i),r[bf]=e.current,d_(r.nodeType===8?r.parentNode:r),new yN(e)};ql.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var e=r._reactInternals;if(e===void 0)throw typeof r.render=="function"?Error(st(188)):(r=Object.keys(r).join(","),Error(st(268,r)));return r=Gj(e),r=r===null?null:r.stateNode,r};ql.flushSync=function(r){return Pm(r)};ql.hydrate=function(r,e,t){if(!t4(e))throw Error(st(200));return r4(null,r,e,!0,t)};ql.hydrateRoot=function(r,e,t){if(!xN(r))throw Error(st(405));var n=t!=null&&t.hydratedSources||null,i=!1,s="",a=Cz;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),e=Ez(e,null,r,1,t??null,i,!1,s,a),r[bf]=e.current,d_(r),n)for(r=0;r<n.length;r++)t=n[r],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new e4(e)};ql.render=function(r,e,t){if(!t4(e))throw Error(st(200));return r4(null,r,e,!1,t)};ql.unmountComponentAtNode=function(r){if(!t4(r))throw Error(st(40));return r._reactRootContainer?(Pm(function(){r4(null,null,r,!1,function(){r._reactRootContainer=null,r[bf]=null})}),!0):!1};ql.unstable_batchedUpdates=dN;ql.unstable_renderSubtreeIntoContainer=function(r,e,t,n){if(!t4(t))throw Error(st(200));if(r==null||r._reactInternals===void 0)throw Error(st(38));return r4(r,e,t,!1,n)};ql.version="18.3.1-next-f1338f8080-20240426";function Bz(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bz)}catch(r){console.error(r)}}Bz(),Bj.exports=ql;var aie=Bj.exports,E6=aie;C3.createRoot=E6.createRoot,C3.hydrateRoot=E6.hydrateRoot;const Sz=nr.createContext(),Ic=()=>nr.useContext(Sz),oie=({children:r})=>{const[e,t]=nr.useState({}),[n,i]=nr.useState("page1"),[s,a]=nr.useState(""),[o,l]=nr.useState(""),[A,c]=nr.useState(""),[u,h]=nr.useState(null),[f,g]=nr.useState(!1),[p,v]=nr.useState(!1),[m,x]=nr.useState(!1),[_,S]=nr.useState(""),[k,R]=nr.useState(null),[B,E]=nr.useState(""),[b,I]=nr.useState(null),[T,F]=nr.useState(1),D=ie=>i(ie),q=nr.useMemo(()=>({testData:e,setTestData:t,currentPage:n,setCurrentPage:i,showPage:D,uploadDate:s,setUploadDate:a,selectedClass:o,setSelectedClass:l,selectedDate:A,setSelectedDate:c,selectedStudent:u,setSelectedStudent:h,errorMessage:_,setErrorMessage:S,currentTeacher:k,setCurrentTeacher:R,initialLoading:f,setInitialLoading:g,processing:p,setProcessing:v,aiLoading:m,setAiLoading:x,reportHTML:B,setReportHTML:E,activeChart:b,setActiveChart:I,reportCurrentPage:T,setReportCurrentPage:F}),[e,n,s,o,A,u,_,k,f,p,m,B,b,T]);return Ze.jsx(Sz.Provider,{value:q,children:r})};var C6={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tz=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},lie=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const i=r[t++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=r[t++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=r[t++],a=r[t++],o=r[t++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const s=r[t++],a=r[t++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},Fz={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<r.length;i+=3){const s=r[i],a=i+1<r.length,o=a?r[i+1]:0,l=i+2<r.length,A=l?r[i+2]:0,c=s>>2,u=(s&3)<<4|o>>4;let h=(o&15)<<2|A>>6,f=A&63;l||(f=64,a||(h=64)),n.push(t[c],t[u],t[h],t[f])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Tz(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):lie(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<r.length;){const s=t[r.charAt(i++)],o=i<r.length?t[r.charAt(i)]:0;++i;const A=i<r.length?t[r.charAt(i)]:64;++i;const u=i<r.length?t[r.charAt(i)]:64;if(++i,s==null||o==null||A==null||u==null)throw new Aie;const h=s<<2|o>>4;if(n.push(h),A!==64){const f=o<<4&240|A>>2;if(n.push(f),u!==64){const g=A<<6&192|u;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Aie extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cie=function(r){const e=Tz(r);return Fz.encodeByteArray(e,!0)},AT=function(r){return cie(r).replace(/\./g,"")},Iz=function(r){try{return Fz.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uie(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hie=()=>uie().__FIREBASE_DEFAULTS__,fie=()=>{if(typeof process>"u"||typeof C6>"u")return;const r=C6.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},die=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Iz(r[1]);return e&&JSON.parse(e)},n4=()=>{try{return hie()||fie()||die()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},kz=r=>{var e,t;return(t=(e=n4())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},Lz=r=>{const e=kz(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},Pz=()=>{var r;return(r=n4())===null||r===void 0?void 0:r.config},Rz=r=>{var e;return(e=n4())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pie{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gie(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",i=r.iat||0,s=r.sub||r.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},r);return[AT(JSON.stringify(t)),AT(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mie(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qa())}function vie(){var r;const e=(r=n4())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wie(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yie(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function xie(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _ie(){const r=qa();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function bie(){return!vie()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Eie(){try{return typeof indexedDB=="object"}catch{return!1}}function Cie(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bie="FirebaseError";class Vu extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=Bie,Object.setPrototypeOf(this,Vu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zE.prototype.create)}}class zE{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?Sie(s,n):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new Vu(i,o,n)}}function Sie(r,e){return r.replace(Tie,(t,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const Tie=/\{\$([^}]+)}/g;function Fie(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function cT(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const i of t){if(!n.includes(i))return!1;const s=r[i],a=e[i];if(B6(s)&&B6(a)){if(!cT(s,a))return!1}else if(s!==a)return!1}for(const i of n)if(!t.includes(i))return!1;return!0}function B6(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Iie(r,e){const t=new kie(r,e);return t.subscribe.bind(t)}class kie{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let i;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");Lie(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:n},i.next===void 0&&(i.next=HI),i.error===void 0&&(i.error=HI),i.complete===void 0&&(i.complete=HI);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Lie(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function HI(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(r){return r&&r._delegate?r._delegate:r}let uT=class{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pie{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new pie;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Die(e))try{this.getOrInitializeService({instanceIdentifier:Op})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=Op){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Op){return this.instances.has(e)}getOptions(e=Op){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);n===o&&a.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Rie(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Op){return this.component?this.component.multipleInstances?e:Op:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Rie(r){return r===Op?void 0:r}function Die(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nie{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Pie(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qn;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(qn||(qn={}));const Uie={debug:qn.DEBUG,verbose:qn.VERBOSE,info:qn.INFO,warn:qn.WARN,error:qn.ERROR,silent:qn.SILENT},Mie=qn.INFO,Oie={[qn.DEBUG]:"log",[qn.VERBOSE]:"log",[qn.INFO]:"info",[qn.WARN]:"warn",[qn.ERROR]:"error"},Qie=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),i=Oie[e];if(i)console[i](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let Hie=class{constructor(e){this.name=e,this._logLevel=Mie,this._logHandler=Qie,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Uie[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qn.DEBUG,...e),this._logHandler(this,qn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qn.VERBOSE,...e),this._logHandler(this,qn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qn.INFO,...e),this._logHandler(this,qn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qn.WARN,...e),this._logHandler(this,qn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qn.ERROR,...e),this._logHandler(this,qn.ERROR,...e)}};const Vie=(r,e)=>e.some(t=>r instanceof t);let S6,T6;function jie(){return S6||(S6=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Kie(){return T6||(T6=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Dz=new WeakMap,vL=new WeakMap,Nz=new WeakMap,VI=new WeakMap,_N=new WeakMap;function zie(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",s),r.removeEventListener("error",a)},s=()=>{t(Q0(r.result)),i()},a=()=>{n(r.error),i()};r.addEventListener("success",s),r.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&Dz.set(t,r)}).catch(()=>{}),_N.set(e,r),e}function Wie(r){if(vL.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",s),r.removeEventListener("error",a),r.removeEventListener("abort",a)},s=()=>{t(),i()},a=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",s),r.addEventListener("error",a),r.addEventListener("abort",a)});vL.set(r,e)}let wL={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return vL.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Nz.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Q0(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Gie(r){wL=r(wL)}function $ie(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(jI(this),e,...t);return Nz.set(n,e.sort?e.sort():[e]),Q0(n)}:Kie().includes(r)?function(...e){return r.apply(jI(this),e),Q0(Dz.get(this))}:function(...e){return Q0(r.apply(jI(this),e))}}function qie(r){return typeof r=="function"?$ie(r):(r instanceof IDBTransaction&&Wie(r),Vie(r,jie())?new Proxy(r,wL):r)}function Q0(r){if(r instanceof IDBRequest)return zie(r);if(VI.has(r))return VI.get(r);const e=qie(r);return e!==r&&(VI.set(r,e),_N.set(e,r)),e}const jI=r=>_N.get(r);function Xie(r,e,{blocked:t,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(r,e),o=Q0(a);return n&&a.addEventListener("upgradeneeded",l=>{n(Q0(a.result),l.oldVersion,l.newVersion,Q0(a.transaction),l)}),t&&a.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",A=>i(A.oldVersion,A.newVersion,A))}).catch(()=>{}),o}const Yie=["get","getKey","getAll","getAllKeys","count"],Jie=["put","add","delete","clear"],KI=new Map;function F6(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(KI.get(e))return KI.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,i=Jie.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(i||Yie.includes(t)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let A=l.store;return n&&(A=A.index(o.shift())),(await Promise.all([A[t](...o),i&&l.done]))[0]};return KI.set(e,s),s}Gie(r=>({...r,get:(e,t,n)=>F6(e,t)||r.get(e,t,n),has:(e,t)=>!!F6(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zie{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(ese(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function ese(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yL="@firebase/app",I6="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf=new Hie("@firebase/app"),tse="@firebase/app-compat",rse="@firebase/analytics-compat",nse="@firebase/analytics",ise="@firebase/app-check-compat",sse="@firebase/app-check",ase="@firebase/auth",ose="@firebase/auth-compat",lse="@firebase/database",Ase="@firebase/data-connect",cse="@firebase/database-compat",use="@firebase/functions",hse="@firebase/functions-compat",fse="@firebase/installations",dse="@firebase/installations-compat",pse="@firebase/messaging",gse="@firebase/messaging-compat",mse="@firebase/performance",vse="@firebase/performance-compat",wse="@firebase/remote-config",yse="@firebase/remote-config-compat",xse="@firebase/storage",_se="@firebase/storage-compat",bse="@firebase/firestore",Ese="@firebase/vertexai-preview",Cse="@firebase/firestore-compat",Bse="firebase",Sse="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL="[DEFAULT]",Tse={[yL]:"fire-core",[tse]:"fire-core-compat",[nse]:"fire-analytics",[rse]:"fire-analytics-compat",[sse]:"fire-app-check",[ise]:"fire-app-check-compat",[ase]:"fire-auth",[ose]:"fire-auth-compat",[lse]:"fire-rtdb",[Ase]:"fire-data-connect",[cse]:"fire-rtdb-compat",[use]:"fire-fn",[hse]:"fire-fn-compat",[fse]:"fire-iid",[dse]:"fire-iid-compat",[pse]:"fire-fcm",[gse]:"fire-fcm-compat",[mse]:"fire-perf",[vse]:"fire-perf-compat",[wse]:"fire-rc",[yse]:"fire-rc-compat",[xse]:"fire-gcs",[_se]:"fire-gcs-compat",[bse]:"fire-fst",[Cse]:"fire-fst-compat",[Ese]:"fire-vertex","fire-js":"fire-js",[Bse]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_=new Map,Fse=new Map,_L=new Map;function k6(r,e){try{r.container.addComponent(e)}catch(t){Bf.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Rm(r){const e=r.name;if(_L.has(e))return Bf.debug(`There were multiple attempts to register component ${e}.`),!1;_L.set(e,r);for(const t of b_.values())k6(t,r);for(const t of Fse.values())k6(t,r);return!0}function i4(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function af(r){return r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ise={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},H0=new zE("app","Firebase",Ise);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kse{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new uT("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw H0.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy=Sse;function Uz(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n=Object.assign({name:xL,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw H0.create("bad-app-name",{appName:String(i)});if(t||(t=Pz()),!t)throw H0.create("no-options");const s=b_.get(i);if(s){if(cT(t,s.options)&&cT(n,s.config))return s;throw H0.create("duplicate-app",{appName:i})}const a=new Nie(i);for(const l of _L.values())a.addComponent(l);const o=new kse(t,n,a);return b_.set(i,o),o}function s4(r=xL){const e=b_.get(r);if(!e&&r===xL&&Pz())return Uz();if(!e)throw H0.create("no-app",{appName:r});return e}function Lse(){return Array.from(b_.values())}function ku(r,e,t){var n;let i=(n=Tse[r])!==null&&n!==void 0?n:r;t&&(i+=`-${t}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bf.warn(o.join(" "));return}Rm(new uT(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pse="firebase-heartbeat-database",Rse=1,E_="firebase-heartbeat-store";let zI=null;function Mz(){return zI||(zI=Xie(Pse,Rse,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(E_)}catch(t){console.warn(t)}}}}).catch(r=>{throw H0.create("idb-open",{originalErrorMessage:r.message})})),zI}async function Dse(r){try{const t=(await Mz()).transaction(E_),n=await t.objectStore(E_).get(Oz(r));return await t.done,n}catch(e){if(e instanceof Vu)Bf.warn(e.message);else{const t=H0.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Bf.warn(t.message)}}}async function L6(r,e){try{const n=(await Mz()).transaction(E_,"readwrite");await n.objectStore(E_).put(e,Oz(r)),await n.done}catch(t){if(t instanceof Vu)Bf.warn(t.message);else{const n=H0.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Bf.warn(n.message)}}}function Oz(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nse=1024,Use=30*24*60*60*1e3;class Mse{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Qse(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=P6();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=Use}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Bf.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=P6(),{heartbeatsToSend:n,unsentEntries:i}=Ose(this._heartbeatsCache.heartbeats),s=AT(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Bf.warn(t),""}}}function P6(){return new Date().toISOString().substring(0,10)}function Ose(r,e=Nse){const t=[];let n=r.slice();for(const i of r){const s=t.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),R6(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),R6(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class Qse{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Eie()?Cie().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Dse(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return L6(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return L6(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function R6(r){return AT(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hse(r){Rm(new uT("platform-logger",e=>new Zie(e),"PRIVATE")),Rm(new uT("heartbeat",e=>new Mse(e),"PRIVATE")),ku(yL,I6,r),ku(yL,I6,"esm2017"),ku("fire-js","")}Hse("");let Vse=class{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wr;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Wr||(Wr={}));const jse={debug:Wr.DEBUG,verbose:Wr.VERBOSE,info:Wr.INFO,warn:Wr.WARN,error:Wr.ERROR,silent:Wr.SILENT},Kse=Wr.INFO,zse={[Wr.DEBUG]:"log",[Wr.VERBOSE]:"log",[Wr.INFO]:"info",[Wr.WARN]:"warn",[Wr.ERROR]:"error"},Wse=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),i=zse[e];if(i)console[i](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let Gse=class{constructor(e){this.name=e,this._logLevel=Kse,this._logHandler=Wse,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Wr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jse[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Wr.DEBUG,...e),this._logHandler(this,Wr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Wr.VERBOSE,...e),this._logHandler(this,Wr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Wr.INFO,...e),this._logHandler(this,Wr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Wr.WARN,...e),this._logHandler(this,Wr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Wr.ERROR,...e),this._logHandler(this,Wr.ERROR,...e)}};var D6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xm,Qz;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(B,E){function b(){}b.prototype=E.prototype,B.D=E.prototype,B.prototype=new b,B.prototype.constructor=B,B.C=function(I,T,F){for(var D=Array(arguments.length-2),q=2;q<arguments.length;q++)D[q-2]=arguments[q];return E.prototype[T].apply(I,D)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(B,E,b){b||(b=0);var I=Array(16);if(typeof E=="string")for(var T=0;16>T;++T)I[T]=E.charCodeAt(b++)|E.charCodeAt(b++)<<8|E.charCodeAt(b++)<<16|E.charCodeAt(b++)<<24;else for(T=0;16>T;++T)I[T]=E[b++]|E[b++]<<8|E[b++]<<16|E[b++]<<24;E=B.g[0],b=B.g[1],T=B.g[2];var F=B.g[3],D=E+(F^b&(T^F))+I[0]+3614090360&4294967295;E=b+(D<<7&4294967295|D>>>25),D=F+(T^E&(b^T))+I[1]+3905402710&4294967295,F=E+(D<<12&4294967295|D>>>20),D=T+(b^F&(E^b))+I[2]+606105819&4294967295,T=F+(D<<17&4294967295|D>>>15),D=b+(E^T&(F^E))+I[3]+3250441966&4294967295,b=T+(D<<22&4294967295|D>>>10),D=E+(F^b&(T^F))+I[4]+4118548399&4294967295,E=b+(D<<7&4294967295|D>>>25),D=F+(T^E&(b^T))+I[5]+1200080426&4294967295,F=E+(D<<12&4294967295|D>>>20),D=T+(b^F&(E^b))+I[6]+2821735955&4294967295,T=F+(D<<17&4294967295|D>>>15),D=b+(E^T&(F^E))+I[7]+4249261313&4294967295,b=T+(D<<22&4294967295|D>>>10),D=E+(F^b&(T^F))+I[8]+1770035416&4294967295,E=b+(D<<7&4294967295|D>>>25),D=F+(T^E&(b^T))+I[9]+2336552879&4294967295,F=E+(D<<12&4294967295|D>>>20),D=T+(b^F&(E^b))+I[10]+4294925233&4294967295,T=F+(D<<17&4294967295|D>>>15),D=b+(E^T&(F^E))+I[11]+2304563134&4294967295,b=T+(D<<22&4294967295|D>>>10),D=E+(F^b&(T^F))+I[12]+1804603682&4294967295,E=b+(D<<7&4294967295|D>>>25),D=F+(T^E&(b^T))+I[13]+4254626195&4294967295,F=E+(D<<12&4294967295|D>>>20),D=T+(b^F&(E^b))+I[14]+2792965006&4294967295,T=F+(D<<17&4294967295|D>>>15),D=b+(E^T&(F^E))+I[15]+1236535329&4294967295,b=T+(D<<22&4294967295|D>>>10),D=E+(T^F&(b^T))+I[1]+4129170786&4294967295,E=b+(D<<5&4294967295|D>>>27),D=F+(b^T&(E^b))+I[6]+3225465664&4294967295,F=E+(D<<9&4294967295|D>>>23),D=T+(E^b&(F^E))+I[11]+643717713&4294967295,T=F+(D<<14&4294967295|D>>>18),D=b+(F^E&(T^F))+I[0]+3921069994&4294967295,b=T+(D<<20&4294967295|D>>>12),D=E+(T^F&(b^T))+I[5]+3593408605&4294967295,E=b+(D<<5&4294967295|D>>>27),D=F+(b^T&(E^b))+I[10]+38016083&4294967295,F=E+(D<<9&4294967295|D>>>23),D=T+(E^b&(F^E))+I[15]+3634488961&4294967295,T=F+(D<<14&4294967295|D>>>18),D=b+(F^E&(T^F))+I[4]+3889429448&4294967295,b=T+(D<<20&4294967295|D>>>12),D=E+(T^F&(b^T))+I[9]+568446438&4294967295,E=b+(D<<5&4294967295|D>>>27),D=F+(b^T&(E^b))+I[14]+3275163606&4294967295,F=E+(D<<9&4294967295|D>>>23),D=T+(E^b&(F^E))+I[3]+4107603335&4294967295,T=F+(D<<14&4294967295|D>>>18),D=b+(F^E&(T^F))+I[8]+1163531501&4294967295,b=T+(D<<20&4294967295|D>>>12),D=E+(T^F&(b^T))+I[13]+2850285829&4294967295,E=b+(D<<5&4294967295|D>>>27),D=F+(b^T&(E^b))+I[2]+4243563512&4294967295,F=E+(D<<9&4294967295|D>>>23),D=T+(E^b&(F^E))+I[7]+1735328473&4294967295,T=F+(D<<14&4294967295|D>>>18),D=b+(F^E&(T^F))+I[12]+2368359562&4294967295,b=T+(D<<20&4294967295|D>>>12),D=E+(b^T^F)+I[5]+4294588738&4294967295,E=b+(D<<4&4294967295|D>>>28),D=F+(E^b^T)+I[8]+2272392833&4294967295,F=E+(D<<11&4294967295|D>>>21),D=T+(F^E^b)+I[11]+1839030562&4294967295,T=F+(D<<16&4294967295|D>>>16),D=b+(T^F^E)+I[14]+4259657740&4294967295,b=T+(D<<23&4294967295|D>>>9),D=E+(b^T^F)+I[1]+2763975236&4294967295,E=b+(D<<4&4294967295|D>>>28),D=F+(E^b^T)+I[4]+1272893353&4294967295,F=E+(D<<11&4294967295|D>>>21),D=T+(F^E^b)+I[7]+4139469664&4294967295,T=F+(D<<16&4294967295|D>>>16),D=b+(T^F^E)+I[10]+3200236656&4294967295,b=T+(D<<23&4294967295|D>>>9),D=E+(b^T^F)+I[13]+681279174&4294967295,E=b+(D<<4&4294967295|D>>>28),D=F+(E^b^T)+I[0]+3936430074&4294967295,F=E+(D<<11&4294967295|D>>>21),D=T+(F^E^b)+I[3]+3572445317&4294967295,T=F+(D<<16&4294967295|D>>>16),D=b+(T^F^E)+I[6]+76029189&4294967295,b=T+(D<<23&4294967295|D>>>9),D=E+(b^T^F)+I[9]+3654602809&4294967295,E=b+(D<<4&4294967295|D>>>28),D=F+(E^b^T)+I[12]+3873151461&4294967295,F=E+(D<<11&4294967295|D>>>21),D=T+(F^E^b)+I[15]+530742520&4294967295,T=F+(D<<16&4294967295|D>>>16),D=b+(T^F^E)+I[2]+3299628645&4294967295,b=T+(D<<23&4294967295|D>>>9),D=E+(T^(b|~F))+I[0]+4096336452&4294967295,E=b+(D<<6&4294967295|D>>>26),D=F+(b^(E|~T))+I[7]+1126891415&4294967295,F=E+(D<<10&4294967295|D>>>22),D=T+(E^(F|~b))+I[14]+2878612391&4294967295,T=F+(D<<15&4294967295|D>>>17),D=b+(F^(T|~E))+I[5]+4237533241&4294967295,b=T+(D<<21&4294967295|D>>>11),D=E+(T^(b|~F))+I[12]+1700485571&4294967295,E=b+(D<<6&4294967295|D>>>26),D=F+(b^(E|~T))+I[3]+2399980690&4294967295,F=E+(D<<10&4294967295|D>>>22),D=T+(E^(F|~b))+I[10]+4293915773&4294967295,T=F+(D<<15&4294967295|D>>>17),D=b+(F^(T|~E))+I[1]+2240044497&4294967295,b=T+(D<<21&4294967295|D>>>11),D=E+(T^(b|~F))+I[8]+1873313359&4294967295,E=b+(D<<6&4294967295|D>>>26),D=F+(b^(E|~T))+I[15]+4264355552&4294967295,F=E+(D<<10&4294967295|D>>>22),D=T+(E^(F|~b))+I[6]+2734768916&4294967295,T=F+(D<<15&4294967295|D>>>17),D=b+(F^(T|~E))+I[13]+1309151649&4294967295,b=T+(D<<21&4294967295|D>>>11),D=E+(T^(b|~F))+I[4]+4149444226&4294967295,E=b+(D<<6&4294967295|D>>>26),D=F+(b^(E|~T))+I[11]+3174756917&4294967295,F=E+(D<<10&4294967295|D>>>22),D=T+(E^(F|~b))+I[2]+718787259&4294967295,T=F+(D<<15&4294967295|D>>>17),D=b+(F^(T|~E))+I[9]+3951481745&4294967295,B.g[0]=B.g[0]+E&4294967295,B.g[1]=B.g[1]+(T+(D<<21&4294967295|D>>>11))&4294967295,B.g[2]=B.g[2]+T&4294967295,B.g[3]=B.g[3]+F&4294967295}n.prototype.u=function(B,E){E===void 0&&(E=B.length);for(var b=E-this.blockSize,I=this.B,T=this.h,F=0;F<E;){if(T==0)for(;F<=b;)i(this,B,F),F+=this.blockSize;if(typeof B=="string"){for(;F<E;)if(I[T++]=B.charCodeAt(F++),T==this.blockSize){i(this,I),T=0;break}}else for(;F<E;)if(I[T++]=B[F++],T==this.blockSize){i(this,I),T=0;break}}this.h=T,this.o+=E},n.prototype.v=function(){var B=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);B[0]=128;for(var E=1;E<B.length-8;++E)B[E]=0;var b=8*this.o;for(E=B.length-8;E<B.length;++E)B[E]=b&255,b/=256;for(this.u(B),B=Array(16),E=b=0;4>E;++E)for(var I=0;32>I;I+=8)B[b++]=this.g[E]>>>I&255;return B};function s(B,E){var b=o;return Object.prototype.hasOwnProperty.call(b,B)?b[B]:b[B]=E(B)}function a(B,E){this.h=E;for(var b=[],I=!0,T=B.length-1;0<=T;T--){var F=B[T]|0;I&&F==E||(b[T]=F,I=!1)}this.g=b}var o={};function l(B){return-128<=B&&128>B?s(B,function(E){return new a([E|0],0>E?-1:0)}):new a([B|0],0>B?-1:0)}function A(B){if(isNaN(B)||!isFinite(B))return u;if(0>B)return v(A(-B));for(var E=[],b=1,I=0;B>=b;I++)E[I]=B/b|0,b*=4294967296;return new a(E,0)}function c(B,E){if(B.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(B.charAt(0)=="-")return v(c(B.substring(1),E));if(0<=B.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=A(Math.pow(E,8)),I=u,T=0;T<B.length;T+=8){var F=Math.min(8,B.length-T),D=parseInt(B.substring(T,T+F),E);8>F?(F=A(Math.pow(E,F)),I=I.j(F).add(A(D))):(I=I.j(b),I=I.add(A(D)))}return I}var u=l(0),h=l(1),f=l(16777216);r=a.prototype,r.m=function(){if(p(this))return-v(this).m();for(var B=0,E=1,b=0;b<this.g.length;b++){var I=this.i(b);B+=(0<=I?I:4294967296+I)*E,E*=4294967296}return B},r.toString=function(B){if(B=B||10,2>B||36<B)throw Error("radix out of range: "+B);if(g(this))return"0";if(p(this))return"-"+v(this).toString(B);for(var E=A(Math.pow(B,6)),b=this,I="";;){var T=S(b,E).g;b=m(b,T.j(E));var F=((0<b.g.length?b.g[0]:b.h)>>>0).toString(B);if(b=T,g(b))return F+I;for(;6>F.length;)F="0"+F;I=F+I}},r.i=function(B){return 0>B?0:B<this.g.length?this.g[B]:this.h};function g(B){if(B.h!=0)return!1;for(var E=0;E<B.g.length;E++)if(B.g[E]!=0)return!1;return!0}function p(B){return B.h==-1}r.l=function(B){return B=m(this,B),p(B)?-1:g(B)?0:1};function v(B){for(var E=B.g.length,b=[],I=0;I<E;I++)b[I]=~B.g[I];return new a(b,~B.h).add(h)}r.abs=function(){return p(this)?v(this):this},r.add=function(B){for(var E=Math.max(this.g.length,B.g.length),b=[],I=0,T=0;T<=E;T++){var F=I+(this.i(T)&65535)+(B.i(T)&65535),D=(F>>>16)+(this.i(T)>>>16)+(B.i(T)>>>16);I=D>>>16,F&=65535,D&=65535,b[T]=D<<16|F}return new a(b,b[b.length-1]&-2147483648?-1:0)};function m(B,E){return B.add(v(E))}r.j=function(B){if(g(this)||g(B))return u;if(p(this))return p(B)?v(this).j(v(B)):v(v(this).j(B));if(p(B))return v(this.j(v(B)));if(0>this.l(f)&&0>B.l(f))return A(this.m()*B.m());for(var E=this.g.length+B.g.length,b=[],I=0;I<2*E;I++)b[I]=0;for(I=0;I<this.g.length;I++)for(var T=0;T<B.g.length;T++){var F=this.i(I)>>>16,D=this.i(I)&65535,q=B.i(T)>>>16,ie=B.i(T)&65535;b[2*I+2*T]+=D*ie,x(b,2*I+2*T),b[2*I+2*T+1]+=F*ie,x(b,2*I+2*T+1),b[2*I+2*T+1]+=D*q,x(b,2*I+2*T+1),b[2*I+2*T+2]+=F*q,x(b,2*I+2*T+2)}for(I=0;I<E;I++)b[I]=b[2*I+1]<<16|b[2*I];for(I=E;I<2*E;I++)b[I]=0;return new a(b,0)};function x(B,E){for(;(B[E]&65535)!=B[E];)B[E+1]+=B[E]>>>16,B[E]&=65535,E++}function _(B,E){this.g=B,this.h=E}function S(B,E){if(g(E))throw Error("division by zero");if(g(B))return new _(u,u);if(p(B))return E=S(v(B),E),new _(v(E.g),v(E.h));if(p(E))return E=S(B,v(E)),new _(v(E.g),E.h);if(30<B.g.length){if(p(B)||p(E))throw Error("slowDivide_ only works with positive integers.");for(var b=h,I=E;0>=I.l(B);)b=k(b),I=k(I);var T=R(b,1),F=R(I,1);for(I=R(I,2),b=R(b,2);!g(I);){var D=F.add(I);0>=D.l(B)&&(T=T.add(b),F=D),I=R(I,1),b=R(b,1)}return E=m(B,T.j(E)),new _(T,E)}for(T=u;0<=B.l(E);){for(b=Math.max(1,Math.floor(B.m()/E.m())),I=Math.ceil(Math.log(b)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),F=A(b),D=F.j(E);p(D)||0<D.l(B);)b-=I,F=A(b),D=F.j(E);g(F)&&(F=h),T=T.add(F),B=m(B,D)}return new _(T,B)}r.A=function(B){return S(this,B).h},r.and=function(B){for(var E=Math.max(this.g.length,B.g.length),b=[],I=0;I<E;I++)b[I]=this.i(I)&B.i(I);return new a(b,this.h&B.h)},r.or=function(B){for(var E=Math.max(this.g.length,B.g.length),b=[],I=0;I<E;I++)b[I]=this.i(I)|B.i(I);return new a(b,this.h|B.h)},r.xor=function(B){for(var E=Math.max(this.g.length,B.g.length),b=[],I=0;I<E;I++)b[I]=this.i(I)^B.i(I);return new a(b,this.h^B.h)};function k(B){for(var E=B.g.length+1,b=[],I=0;I<E;I++)b[I]=B.i(I)<<1|B.i(I-1)>>>31;return new a(b,B.h)}function R(B,E){var b=E>>5;E%=32;for(var I=B.g.length-b,T=[],F=0;F<I;F++)T[F]=0<E?B.i(F+b)>>>E|B.i(F+b+1)<<32-E:B.i(F+b);return new a(T,B.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,Qz=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=A,a.fromString=c,xm=a}).apply(typeof D6<"u"?D6:typeof self<"u"?self:typeof window<"u"?window:{});var iB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hz,N2,Vz,LS,bL,jz,Kz,zz;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(y,U,j){return y==Array.prototype||y==Object.prototype||(y[U]=j.value),y};function t(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof iB=="object"&&iB];for(var U=0;U<y.length;++U){var j=y[U];if(j&&j.Math==Math)return j}throw Error("Cannot find global object")}var n=t(this);function i(y,U){if(U)e:{var j=n;y=y.split(".");for(var ae=0;ae<y.length-1;ae++){var ke=y[ae];if(!(ke in j))break e;j=j[ke]}y=y[y.length-1],ae=j[y],U=U(ae),U!=ae&&U!=null&&e(j,y,{configurable:!0,writable:!0,value:U})}}function s(y,U){y instanceof String&&(y+="");var j=0,ae=!1,ke={next:function(){if(!ae&&j<y.length){var Oe=j++;return{value:U(Oe,y[Oe]),done:!1}}return ae=!0,{done:!0,value:void 0}}};return ke[Symbol.iterator]=function(){return ke},ke}i("Array.prototype.values",function(y){return y||function(){return s(this,function(U,j){return j})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(y){var U=typeof y;return U=U!="object"?U:y?Array.isArray(y)?"array":U:"null",U=="array"||U=="object"&&typeof y.length=="number"}function A(y){var U=typeof y;return U=="object"&&y!=null||U=="function"}function c(y,U,j){return y.call.apply(y.bind,arguments)}function u(y,U,j){if(!y)throw Error();if(2<arguments.length){var ae=Array.prototype.slice.call(arguments,2);return function(){var ke=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ke,ae),y.apply(U,ke)}}return function(){return y.apply(U,arguments)}}function h(y,U,j){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:u,h.apply(null,arguments)}function f(y,U){var j=Array.prototype.slice.call(arguments,1);return function(){var ae=j.slice();return ae.push.apply(ae,arguments),y.apply(this,ae)}}function g(y,U){function j(){}j.prototype=U.prototype,y.aa=U.prototype,y.prototype=new j,y.prototype.constructor=y,y.Qb=function(ae,ke,Oe){for(var ot=Array(arguments.length-2),Rr=2;Rr<arguments.length;Rr++)ot[Rr-2]=arguments[Rr];return U.prototype[ke].apply(ae,ot)}}function p(y){const U=y.length;if(0<U){const j=Array(U);for(let ae=0;ae<U;ae++)j[ae]=y[ae];return j}return[]}function v(y,U){for(let j=1;j<arguments.length;j++){const ae=arguments[j];if(l(ae)){const ke=y.length||0,Oe=ae.length||0;y.length=ke+Oe;for(let ot=0;ot<Oe;ot++)y[ke+ot]=ae[ot]}else y.push(ae)}}class m{constructor(U,j){this.i=U,this.j=j,this.h=0,this.g=null}get(){let U;return 0<this.h?(this.h--,U=this.g,this.g=U.next,U.next=null):U=this.i(),U}}function x(y){return/^[\s\xa0]*$/.test(y)}function _(){var y=o.navigator;return y&&(y=y.userAgent)?y:""}function S(y){return S[" "](y),y}S[" "]=function(){};var k=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function R(y,U,j){for(const ae in y)U.call(j,y[ae],ae,y)}function B(y,U){for(const j in y)U.call(void 0,y[j],j,y)}function E(y){const U={};for(const j in y)U[j]=y[j];return U}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(y,U){let j,ae;for(let ke=1;ke<arguments.length;ke++){ae=arguments[ke];for(j in ae)y[j]=ae[j];for(let Oe=0;Oe<b.length;Oe++)j=b[Oe],Object.prototype.hasOwnProperty.call(ae,j)&&(y[j]=ae[j])}}function T(y){var U=1;y=y.split(":");const j=[];for(;0<U&&y.length;)j.push(y.shift()),U--;return y.length&&j.push(y.join(":")),j}function F(y){o.setTimeout(()=>{throw y},0)}function D(){var y=W;let U=null;return y.g&&(U=y.g,y.g=y.g.next,y.g||(y.h=null),U.next=null),U}class q{constructor(){this.h=this.g=null}add(U,j){const ae=ie.get();ae.set(U,j),this.h?this.h.next=ae:this.g=ae,this.h=ae}}var ie=new m(()=>new oe,y=>y.reset());class oe{constructor(){this.next=this.g=this.h=null}set(U,j){this.h=U,this.g=j,this.next=null}reset(){this.next=this.g=this.h=null}}let te,re=!1,W=new q,pe=()=>{const y=o.Promise.resolve(void 0);te=()=>{y.then(_e)}};var _e=()=>{for(var y;y=D();){try{y.h.call(y.g)}catch(j){F(j)}var U=ie;U.j(y),100>U.h&&(U.h++,y.next=U.g,U.g=y)}re=!1};function P(){this.s=this.s,this.C=this.C}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(y,U){this.type=y,this.g=this.target=U,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var H=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var y=!1,U=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const j=()=>{};o.addEventListener("test",j,U),o.removeEventListener("test",j,U)}catch{}return y}();function K(y,U){if(O.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y){var j=this.type=y.type,ae=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;if(this.target=y.target||y.srcElement,this.g=U,U=y.relatedTarget){if(k){e:{try{S(U.nodeName);var ke=!0;break e}catch{}ke=!1}ke||(U=null)}}else j=="mouseover"?U=y.fromElement:j=="mouseout"&&(U=y.toElement);this.relatedTarget=U,ae?(this.clientX=ae.clientX!==void 0?ae.clientX:ae.pageX,this.clientY=ae.clientY!==void 0?ae.clientY:ae.pageY,this.screenX=ae.screenX||0,this.screenY=ae.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=typeof y.pointerType=="string"?y.pointerType:Z[y.pointerType]||"",this.state=y.state,this.i=y,y.defaultPrevented&&K.aa.h.call(this)}}g(K,O);var Z={2:"touch",3:"pen",4:"mouse"};K.prototype.h=function(){K.aa.h.call(this);var y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),xe=0;function ye(y,U,j,ae,ke){this.listener=y,this.proxy=null,this.src=U,this.type=j,this.capture=!!ae,this.ha=ke,this.key=++xe,this.da=this.fa=!1}function be(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function Fe(y){this.src=y,this.g={},this.h=0}Fe.prototype.add=function(y,U,j,ae,ke){var Oe=y.toString();y=this.g[Oe],y||(y=this.g[Oe]=[],this.h++);var ot=We(y,U,ae,ke);return-1<ot?(U=y[ot],j||(U.fa=!1)):(U=new ye(U,this.src,Oe,!!ae,ke),U.fa=j,y.push(U)),U};function ne(y,U){var j=U.type;if(j in y.g){var ae=y.g[j],ke=Array.prototype.indexOf.call(ae,U,void 0),Oe;(Oe=0<=ke)&&Array.prototype.splice.call(ae,ke,1),Oe&&(be(U),y.g[j].length==0&&(delete y.g[j],y.h--))}}function We(y,U,j,ae){for(var ke=0;ke<y.length;++ke){var Oe=y[ke];if(!Oe.da&&Oe.listener==U&&Oe.capture==!!j&&Oe.ha==ae)return ke}return-1}var Se="closure_lm_"+(1e6*Math.random()|0),ce={};function qe(y,U,j,ae,ke){if(Array.isArray(U)){for(var Oe=0;Oe<U.length;Oe++)qe(y,U[Oe],j,ae,ke);return null}return j=bt(j),y&&y[he]?y.K(U,j,A(ae)?!!ae.capture:!1,ke):Ve(y,U,j,!1,ae,ke)}function Ve(y,U,j,ae,ke,Oe){if(!U)throw Error("Invalid event type");var ot=A(ke)?!!ke.capture:!!ke,Rr=gt(y);if(Rr||(y[Se]=Rr=new Fe(y)),j=Rr.add(U,j,ae,ot,Oe),j.proxy)return j;if(ae=$e(),j.proxy=ae,ae.src=y,ae.listener=j,y.addEventListener)H||(ke=ot),ke===void 0&&(ke=!1),y.addEventListener(U.toString(),ae,ke);else if(y.attachEvent)y.attachEvent(nt(U.toString()),ae);else if(y.addListener&&y.removeListener)y.addListener(ae);else throw Error("addEventListener and attachEvent are unavailable.");return j}function $e(){function y(j){return U.call(y.src,y.listener,j)}const U=Nt;return y}function He(y,U,j,ae,ke){if(Array.isArray(U))for(var Oe=0;Oe<U.length;Oe++)He(y,U[Oe],j,ae,ke);else ae=A(ae)?!!ae.capture:!!ae,j=bt(j),y&&y[he]?(y=y.i,U=String(U).toString(),U in y.g&&(Oe=y.g[U],j=We(Oe,j,ae,ke),-1<j&&(be(Oe[j]),Array.prototype.splice.call(Oe,j,1),Oe.length==0&&(delete y.g[U],y.h--)))):y&&(y=gt(y))&&(U=y.g[U.toString()],y=-1,U&&(y=We(U,j,ae,ke)),(j=-1<y?U[y]:null)&&ht(j))}function ht(y){if(typeof y!="number"&&y&&!y.da){var U=y.src;if(U&&U[he])ne(U.i,y);else{var j=y.type,ae=y.proxy;U.removeEventListener?U.removeEventListener(j,ae,y.capture):U.detachEvent?U.detachEvent(nt(j),ae):U.addListener&&U.removeListener&&U.removeListener(ae),(j=gt(U))?(ne(j,y),j.h==0&&(j.src=null,U[Se]=null)):be(y)}}}function nt(y){return y in ce?ce[y]:ce[y]="on"+y}function Nt(y,U){if(y.da)y=!0;else{U=new K(U,this);var j=y.listener,ae=y.ha||y.src;y.fa&&ht(y),y=j.call(ae,U)}return y}function gt(y){return y=y[Se],y instanceof Fe?y:null}var Bt="__closure_events_fn_"+(1e9*Math.random()>>>0);function bt(y){return typeof y=="function"?y:(y[Bt]||(y[Bt]=function(U){return y.handleEvent(U)}),y[Bt])}function lt(){P.call(this),this.i=new Fe(this),this.M=this,this.F=null}g(lt,P),lt.prototype[he]=!0,lt.prototype.removeEventListener=function(y,U,j,ae){He(this,y,U,j,ae)};function Ft(y,U){var j,ae=y.F;if(ae)for(j=[];ae;ae=ae.F)j.push(ae);if(y=y.M,ae=U.type||U,typeof U=="string")U=new O(U,y);else if(U instanceof O)U.target=U.target||y;else{var ke=U;U=new O(ae,y),I(U,ke)}if(ke=!0,j)for(var Oe=j.length-1;0<=Oe;Oe--){var ot=U.g=j[Oe];ke=mt(ot,ae,!0,U)&&ke}if(ot=U.g=y,ke=mt(ot,ae,!0,U)&&ke,ke=mt(ot,ae,!1,U)&&ke,j)for(Oe=0;Oe<j.length;Oe++)ot=U.g=j[Oe],ke=mt(ot,ae,!1,U)&&ke}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var y=this.i,U;for(U in y.g){for(var j=y.g[U],ae=0;ae<j.length;ae++)be(j[ae]);delete y.g[U],y.h--}}this.F=null},lt.prototype.K=function(y,U,j,ae){return this.i.add(String(y),U,!1,j,ae)},lt.prototype.L=function(y,U,j,ae){return this.i.add(String(y),U,!0,j,ae)};function mt(y,U,j,ae){if(U=y.i.g[String(U)],!U)return!0;U=U.concat();for(var ke=!0,Oe=0;Oe<U.length;++Oe){var ot=U[Oe];if(ot&&!ot.da&&ot.capture==j){var Rr=ot.listener,fi=ot.ha||ot.src;ot.fa&&ne(y.i,ot),ke=Rr.call(fi,ae)!==!1&&ke}}return ke&&!ae.defaultPrevented}function vt(y,U,j){if(typeof y=="function")j&&(y=h(y,j));else if(y&&typeof y.handleEvent=="function")y=h(y.handleEvent,y);else throw Error("Invalid listener argument");return 2147483647<Number(U)?-1:o.setTimeout(y,U||0)}function at(y){y.g=vt(()=>{y.g=null,y.i&&(y.i=!1,at(y))},y.l);const U=y.h;y.h=null,y.m.apply(null,U)}class ct extends P{constructor(U,j){super(),this.m=U,this.l=j,this.h=null,this.i=!1,this.g=null}j(U){this.h=arguments,this.g?this.i=!0:at(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jt(y){P.call(this),this.h=y,this.g={}}g(jt,P);var Qt=[];function wt(y){R(y.g,function(U,j){this.g.hasOwnProperty(j)&&ht(U)},y),y.g={}}jt.prototype.N=function(){jt.aa.N.call(this),wt(this)},jt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yt=o.JSON.stringify,en=o.JSON.parse,zt=class{stringify(y){return o.JSON.stringify(y,void 0)}parse(y){return o.JSON.parse(y,void 0)}};function pr(){}pr.prototype.h=null;function Jt(y){return y.h||(y.h=y.i())}function Cn(){}var Bn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kr(){O.call(this,"d")}g(Kr,O);function Wt(){O.call(this,"c")}g(Wt,O);var br={},Yl=null;function Ai(){return Yl=Yl||new lt}br.La="serverreachability";function Bo(y){O.call(this,br.La,y)}g(Bo,O);function Fs(y){const U=Ai();Ft(U,new Bo(U))}br.STAT_EVENT="statevent";function Kt(y,U){O.call(this,br.STAT_EVENT,y),this.stat=U}g(Kt,O);function Sn(y){const U=Ai();Ft(U,new Kt(U,y))}br.Ma="timingevent";function So(y,U){O.call(this,br.Ma,y),this.size=U}g(So,O);function xi(y,U){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){y()},U)}function Zi(){this.g=!0}Zi.prototype.xa=function(){this.g=!1};function Nn(y,U,j,ae,ke,Oe){y.info(function(){if(y.g)if(Oe)for(var ot="",Rr=Oe.split("&"),fi=0;fi<Rr.length;fi++){var Br=Rr[fi].split("=");if(1<Br.length){var Cr=Br[0];Br=Br[1];var Mn=Cr.split("_");ot=2<=Mn.length&&Mn[1]=="type"?ot+(Cr+"="+Br+"&"):ot+(Cr+"=redacted&")}}else ot=null;else ot=Oe;return"XMLHTTP REQ ("+ae+") [attempt "+ke+"]: "+U+`
`+j+`
`+ot})}function _i(y,U,j,ae,ke,Oe,ot){y.info(function(){return"XMLHTTP RESP ("+ae+") [ attempt "+ke+"]: "+U+`
`+j+`
`+Oe+" "+ot})}function Y(y,U,j,ae){y.info(function(){return"XMLHTTP TEXT ("+U+"): "+le(y,j)+(ae?" "+ae:"")})}function ge(y,U){y.info(function(){return"TIMEOUT: "+U})}Zi.prototype.info=function(){};function le(y,U){if(!y.g)return U;if(!U)return null;try{var j=JSON.parse(U);if(j){for(y=0;y<j.length;y++)if(Array.isArray(j[y])){var ae=j[y];if(!(2>ae.length)){var ke=ae[1];if(Array.isArray(ke)&&!(1>ke.length)){var Oe=ke[0];if(Oe!="noop"&&Oe!="stop"&&Oe!="close")for(var ot=1;ot<ke.length;ot++)ke[ot]=""}}}}return Yt(j)}catch{return U}}var ue={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},we;function Pe(){}g(Pe,pr),Pe.prototype.g=function(){return new XMLHttpRequest},Pe.prototype.i=function(){return{}},we=new Pe;function Qe(y,U,j,ae){this.j=y,this.i=U,this.l=j,this.R=ae||1,this.U=new jt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Re}function Re(){this.i=null,this.g="",this.h=!1}var De={},Ue={};function et(y,U,j){y.L=1,y.v=qu(eo(U)),y.m=j,y.P=!0,At(y,null)}function At(y,U){y.F=Date.now(),ut(y),y.A=eo(y.v);var j=y.A,ae=y.R;Array.isArray(ae)||(ae=[String(ae)]),Zt(j.i,"t",ae),y.C=0,j=y.j.J,y.h=new Re,y.g=bi(y.j,j?U:null,!y.m),0<y.O&&(y.M=new ct(h(y.Y,y,y.g),y.O)),U=y.U,j=y.g,ae=y.ca;var ke="readystatechange";Array.isArray(ke)||(ke&&(Qt[0]=ke.toString()),ke=Qt);for(var Oe=0;Oe<ke.length;Oe++){var ot=qe(j,ke[Oe],ae||U.handleEvent,!1,U.h||U);if(!ot)break;U.g[ot.key]=ot}U=y.H?E(y.H):{},y.m?(y.u||(y.u="POST"),U["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.A,y.u,y.m,U)):(y.u="GET",y.g.ea(y.A,y.u,null,U)),Fs(),Nn(y.i,y.u,y.A,y.l,y.R,y.m)}Qe.prototype.ca=function(y){y=y.target;const U=this.M;U&&Lo(y)==3?U.j():this.Y(y)},Qe.prototype.Y=function(y){try{if(y==this.g)e:{const Mn=Lo(this.g);var U=this.g.Ba();const al=this.g.Z();if(!(3>Mn)&&(Mn!=3||this.g&&(this.h.h||this.g.oa()||bp(this.g)))){this.J||Mn!=4||U==7||(U==8||0>=al?Fs(3):Fs(2)),Yr(this);var j=this.g.Z();this.X=j;t:if(pt(this)){var ae=bp(this.g);y="";var ke=ae.length,Oe=Lo(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nn(this),gr(this);var ot="";break t}this.h.i=new o.TextDecoder}for(U=0;U<ke;U++)this.h.h=!0,y+=this.h.i.decode(ae[U],{stream:!(Oe&&U==ke-1)});ae.length=0,this.h.g+=y,this.C=0,ot=this.h.g}else ot=this.g.oa();if(this.o=j==200,_i(this.i,this.u,this.A,this.l,this.R,Mn,j),this.o){if(this.T&&!this.K){t:{if(this.g){var Rr,fi=this.g;if((Rr=fi.g?fi.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(Rr)){var Br=Rr;break t}}Br=null}if(j=Br)Y(this.i,this.l,j,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,To(this,j);else{this.o=!1,this.s=3,Sn(12),nn(this),gr(this);break e}}if(this.P){j=!0;let wa;for(;!this.J&&this.C<ot.length;)if(wa=it(this,ot),wa==Ue){Mn==4&&(this.s=4,Sn(14),j=!1),Y(this.i,this.l,null,"[Incomplete Response]");break}else if(wa==De){this.s=4,Sn(15),Y(this.i,this.l,ot,"[Invalid Chunk]"),j=!1;break}else Y(this.i,this.l,wa,null),To(this,wa);if(pt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mn!=4||ot.length!=0||this.h.h||(this.s=1,Sn(16),j=!1),this.o=this.o&&j,!j)Y(this.i,this.l,ot,"[Invalid Chunked Response]"),nn(this),gr(this);else if(0<ot.length&&!this.W){this.W=!0;var Cr=this.j;Cr.g==this&&Cr.ba&&!Cr.M&&(Cr.j.info("Great, no buffering proxy detected. Bytes received: "+ot.length),Et(Cr),Cr.M=!0,Sn(11))}}else Y(this.i,this.l,ot,null),To(this,ot);Mn==4&&nn(this),this.o&&!this.J&&(Mn==4?tr(this.j,this):(this.o=!1,ut(this)))}else VA(this.g),j==400&&0<ot.indexOf("Unknown SID")?(this.s=3,Sn(12)):(this.s=0,Sn(13)),nn(this),gr(this)}}}catch{}finally{}};function pt(y){return y.g?y.u=="GET"&&y.L!=2&&y.j.Ca:!1}function it(y,U){var j=y.C,ae=U.indexOf(`
`,j);return ae==-1?Ue:(j=Number(U.substring(j,ae)),isNaN(j)?De:(ae+=1,ae+j>U.length?Ue:(U=U.slice(ae,ae+j),y.C=ae+j,U)))}Qe.prototype.cancel=function(){this.J=!0,nn(this)};function ut(y){y.S=Date.now()+y.I,$t(y,y.I)}function $t(y,U){if(y.B!=null)throw Error("WatchDog timer not null");y.B=xi(h(y.ba,y),U)}function Yr(y){y.B&&(o.clearTimeout(y.B),y.B=null)}Qe.prototype.ba=function(){this.B=null;const y=Date.now();0<=y-this.S?(ge(this.i,this.A),this.L!=2&&(Fs(),Sn(17)),nn(this),this.s=2,gr(this)):$t(this,this.S-y)};function gr(y){y.j.G==0||y.J||tr(y.j,y)}function nn(y){Yr(y);var U=y.M;U&&typeof U.ma=="function"&&U.ma(),y.M=null,wt(y.U),y.g&&(U=y.g,y.g=null,U.abort(),U.ma())}function To(y,U){try{var j=y.j;if(j.G!=0&&(j.g==y||es(j.h,y))){if(!y.K&&es(j.h,y)&&j.G==3){try{var ae=j.Da.g.parse(U)}catch{ae=null}if(Array.isArray(ae)&&ae.length==3){var ke=ae;if(ke[0]==0){e:if(!j.u){if(j.g)if(j.g.F+3e3<y.F)qt(j),eA(j);else break e;Xe(j),Sn(18)}}else j.za=ke[1],0<j.za-j.T&&37500>ke[2]&&j.F&&j.v==0&&!j.C&&(j.C=xi(h(j.Za,j),6e3));if(1>=MA(j.h)&&j.ca){try{j.ca()}catch{}j.ca=void 0}}else tn(j,11)}else if((y.K||j.g==y)&&qt(j),!x(U))for(ke=j.Da.g.parse(U),U=0;U<ke.length;U++){let Br=ke[U];if(j.T=Br[0],Br=Br[1],j.G==2)if(Br[0]=="c"){j.K=Br[1],j.ia=Br[2];const Cr=Br[3];Cr!=null&&(j.la=Cr,j.j.info("VER="+j.la));const Mn=Br[4];Mn!=null&&(j.Aa=Mn,j.j.info("SVER="+j.Aa));const al=Br[5];al!=null&&typeof al=="number"&&0<al&&(ae=1.5*al,j.L=ae,j.j.info("backChannelRequestTimeoutMs_="+ae)),ae=j;const wa=y.g;if(wa){const Gs=wa.g?wa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gs){var Oe=ae.h;Oe.g||Gs.indexOf("spdy")==-1&&Gs.indexOf("quic")==-1&&Gs.indexOf("h2")==-1||(Oe.j=Oe.l,Oe.g=new Set,Oe.h&&(mp(Oe,Oe.h),Oe.h=null))}if(ae.D){const jA=wa.g?wa.g.getResponseHeader("X-HTTP-Session-Id"):null;jA&&(ae.ya=jA,Ir(ae.I,ae.D,jA))}}j.G=3,j.l&&j.l.ua(),j.ba&&(j.R=Date.now()-y.F,j.j.info("Handshake RTT: "+j.R+"ms")),ae=j;var ot=y;if(ae.qa=An(ae,ae.J?ae.ia:null,ae.W),ot.K){ci(ae.h,ot);var Rr=ot,fi=ae.L;fi&&(Rr.I=fi),Rr.B&&(Yr(Rr),ut(Rr)),ae.g=ot}else Ke(ae);0<j.i.length&&L(j)}else Br[0]!="stop"&&Br[0]!="close"||tn(j,7);else j.G==3&&(Br[0]=="stop"||Br[0]=="close"?Br[0]=="stop"?tn(j,7):Kf(j):Br[0]!="noop"&&j.l&&j.l.ta(Br),j.v=0)}}Fs(4)}catch{}}var rl=class{constructor(y,U){this.g=y,this.map=U}};function nl(y){this.l=y||10,o.PerformanceNavigationTiming?(y=o.performance.getEntriesByType("navigation"),y=0<y.length&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Za(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function MA(y){return y.h?1:y.g?y.g.size:0}function es(y,U){return y.h?y.h==U:y.g?y.g.has(U):!1}function mp(y,U){y.g?y.g.add(U):y.h=U}function ci(y,U){y.h&&y.h==U?y.h=null:y.g&&y.g.has(U)&&y.g.delete(U)}nl.prototype.cancel=function(){if(this.i=vp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function vp(y){if(y.h!=null)return y.i.concat(y.h.D);if(y.g!=null&&y.g.size!==0){let U=y.i;for(const j of y.g.values())U=U.concat(j.D);return U}return p(y.i)}function c1(y){if(y.V&&typeof y.V=="function")return y.V();if(typeof Map<"u"&&y instanceof Map||typeof Set<"u"&&y instanceof Set)return Array.from(y.values());if(typeof y=="string")return y.split("");if(l(y)){for(var U=[],j=y.length,ae=0;ae<j;ae++)U.push(y[ae]);return U}U=[],j=0;for(ae in y)U[j++]=y[ae];return U}function OA(y){if(y.na&&typeof y.na=="function")return y.na();if(!y.V||typeof y.V!="function"){if(typeof Map<"u"&&y instanceof Map)return Array.from(y.keys());if(!(typeof Set<"u"&&y instanceof Set)){if(l(y)||typeof y=="string"){var U=[];y=y.length;for(var j=0;j<y;j++)U.push(j);return U}U=[],j=0;for(const ae in y)U[j++]=ae;return U}}}function Rc(y,U){if(y.forEach&&typeof y.forEach=="function")y.forEach(U,void 0);else if(l(y)||typeof y=="string")Array.prototype.forEach.call(y,U,void 0);else for(var j=OA(y),ae=c1(y),ke=ae.length,Oe=0;Oe<ke;Oe++)U.call(void 0,ae[Oe],j&&j[Oe],y)}var Fo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $u(y,U){if(y){y=y.split("&");for(var j=0;j<y.length;j++){var ae=y[j].indexOf("="),ke=null;if(0<=ae){var Oe=y[j].substring(0,ae);ke=y[j].substring(ae+1)}else Oe=y[j];U(Oe,ke?decodeURIComponent(ke.replace(/\+/g," ")):"")}}}function ln(y){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,y instanceof ln){this.h=y.h,Mf(this,y.j),this.o=y.o,this.g=y.g,Of(this,y.s),this.l=y.l;var U=y.i,j=new ko;j.i=U.i,U.g&&(j.g=new Map(U.g),j.h=U.h),u1(this,j),this.m=y.m}else y&&(U=String(y).match(Fo))?(this.h=!1,Mf(this,U[1]||"",!0),this.o=Dc(U[2]||""),this.g=Dc(U[3]||"",!0),Of(this,U[4]),this.l=Dc(U[5]||"",!0),u1(this,U[6]||"",!0),this.m=Dc(U[7]||"")):(this.h=!1,this.i=new ko(null,this.h))}ln.prototype.toString=function(){var y=[],U=this.j;U&&y.push(Io(U,h1,!0),":");var j=this.g;return(j||U=="file")&&(y.push("//"),(U=this.o)&&y.push(Io(U,h1,!0),"@"),y.push(encodeURIComponent(String(j)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),j=this.s,j!=null&&y.push(":",String(j))),(j=this.l)&&(this.g&&j.charAt(0)!="/"&&y.push("/"),y.push(Io(j,j.charAt(0)=="/"?jy:Vy,!0))),(j=this.i.toString())&&y.push("?",j),(j=this.m)&&y.push("#",Io(j,Xu)),y.join("")};function eo(y){return new ln(y)}function Mf(y,U,j){y.j=j?Dc(U,!0):U,y.j&&(y.j=y.j.replace(/:$/,""))}function Of(y,U){if(U){if(U=Number(U),isNaN(U)||0>U)throw Error("Bad port number "+U);y.s=U}else y.s=null}function u1(y,U,j){U instanceof ko?(y.i=U,Ky(y.i,y.h)):(j||(U=Io(U,yp)),y.i=new ko(U,y.h))}function Ir(y,U,j){y.i.set(U,j)}function qu(y){return Ir(y,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),y}function Dc(y,U){return y?U?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function Io(y,U,j){return typeof y=="string"?(y=encodeURI(y).replace(U,wp),j&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function wp(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var h1=/[#\/\?@]/g,Vy=/[#\?:]/g,jy=/[#\?]/g,yp=/[#\?@]/g,Xu=/#/g;function ko(y,U){this.h=this.g=null,this.i=y||null,this.j=!!U}function Jl(y){y.g||(y.g=new Map,y.h=0,y.i&&$u(y.i,function(U,j){y.add(decodeURIComponent(U.replace(/\+/g," ")),j)}))}r=ko.prototype,r.add=function(y,U){Jl(this),this.i=null,y=Uc(this,y);var j=this.g.get(y);return j||this.g.set(y,j=[]),j.push(U),this.h+=1,this};function Nc(y,U){Jl(y),U=Uc(y,U),y.g.has(U)&&(y.i=null,y.h-=y.g.get(U).length,y.g.delete(U))}function Qf(y,U){return Jl(y),U=Uc(y,U),y.g.has(U)}r.forEach=function(y,U){Jl(this),this.g.forEach(function(j,ae){j.forEach(function(ke){y.call(U,ke,ae,this)},this)},this)},r.na=function(){Jl(this);const y=Array.from(this.g.values()),U=Array.from(this.g.keys()),j=[];for(let ae=0;ae<U.length;ae++){const ke=y[ae];for(let Oe=0;Oe<ke.length;Oe++)j.push(U[ae])}return j},r.V=function(y){Jl(this);let U=[];if(typeof y=="string")Qf(this,y)&&(U=U.concat(this.g.get(Uc(this,y))));else{y=Array.from(this.g.values());for(let j=0;j<y.length;j++)U=U.concat(y[j])}return U},r.set=function(y,U){return Jl(this),this.i=null,y=Uc(this,y),Qf(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[U]),this.h+=1,this},r.get=function(y,U){return y?(y=this.V(y),0<y.length?String(y[0]):U):U};function Zt(y,U,j){Nc(y,U),0<j.length&&(y.i=null,y.g.set(Uc(y,U),p(j)),y.h+=j.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],U=Array.from(this.g.keys());for(var j=0;j<U.length;j++){var ae=U[j];const Oe=encodeURIComponent(String(ae)),ot=this.V(ae);for(ae=0;ae<ot.length;ae++){var ke=Oe;ot[ae]!==""&&(ke+="="+encodeURIComponent(String(ot[ae]))),y.push(ke)}}return this.i=y.join("&")};function Uc(y,U){return U=String(U),y.j&&(U=U.toLowerCase()),U}function Ky(y,U){U&&!y.j&&(Jl(y),y.i=null,y.g.forEach(function(j,ae){var ke=ae.toLowerCase();ae!=ke&&(Nc(this,ae),Zt(this,ke,j))},y)),y.j=U}function zy(y,U){const j=new Zi;if(o.Image){const ae=new Image;ae.onload=f(Is,j,"TestLoadImage: loaded",!0,U,ae),ae.onerror=f(Is,j,"TestLoadImage: error",!1,U,ae),ae.onabort=f(Is,j,"TestLoadImage: abort",!1,U,ae),ae.ontimeout=f(Is,j,"TestLoadImage: timeout",!1,U,ae),o.setTimeout(function(){ae.ontimeout&&ae.ontimeout()},1e4),ae.src=y}else U(!1)}function Wy(y,U){const j=new Zi,ae=new AbortController,ke=setTimeout(()=>{ae.abort(),Is(j,"TestPingServer: timeout",!1,U)},1e4);fetch(y,{signal:ae.signal}).then(Oe=>{clearTimeout(ke),Oe.ok?Is(j,"TestPingServer: ok",!0,U):Is(j,"TestPingServer: server error",!1,U)}).catch(()=>{clearTimeout(ke),Is(j,"TestPingServer: error",!1,U)})}function Is(y,U,j,ae,ke){try{ke&&(ke.onload=null,ke.onerror=null,ke.onabort=null,ke.ontimeout=null),ae(j)}catch{}}function QA(){this.g=new zt}function Gy(y,U,j){const ae=j||"";try{Rc(y,function(ke,Oe){let ot=ke;A(ke)&&(ot=Yt(ke)),U.push(ae+Oe+"="+encodeURIComponent(ot))})}catch(ke){throw U.push(ae+"type="+encodeURIComponent("_badmap")),ke}}function Hf(y){this.l=y.Ub||null,this.j=y.eb||!1}g(Hf,pr),Hf.prototype.g=function(){return new HA(this.l,this.j)},Hf.prototype.i=function(y){return function(){return y}}({});function HA(y,U){lt.call(this),this.D=y,this.o=U,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(HA,lt),r=HA.prototype,r.open=function(y,U){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=y,this.A=U,this.readyState=1,Zl(this)},r.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const U={headers:this.u,method:this.B,credentials:this.m,cache:void 0};y&&(U.body=y),(this.D||o).fetch(new Request(this.A,U)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,il(this)),this.readyState=0},r.Sa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,Zl(this)),this.g&&(this.readyState=3,Zl(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vf(this)}else y.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vf(y){y.j.read().then(y.Pa.bind(y)).catch(y.ga.bind(y))}r.Pa=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var U=y.value?y.value:new Uint8Array(0);(U=this.v.decode(U,{stream:!y.done}))&&(this.response=this.responseText+=U)}y.done?il(this):Zl(this),this.readyState==3&&Vf(this)}},r.Ra=function(y){this.g&&(this.response=this.responseText=y,il(this))},r.Qa=function(y){this.g&&(this.response=y,il(this))},r.ga=function(){this.g&&il(this)};function il(y){y.readyState=4,y.l=null,y.j=null,y.v=null,Zl(y)}r.setRequestHeader=function(y,U){this.u.append(y,U)},r.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],U=this.h.entries();for(var j=U.next();!j.done;)j=j.value,y.push(j[0]+": "+j[1]),j=U.next();return y.join(`\r
`)};function Zl(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(HA.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function Yu(y){let U="";return R(y,function(j,ae){U+=ae,U+=":",U+=j,U+=`\r
`}),U}function xp(y,U,j){e:{for(ae in j){var ae=!1;break e}ae=!0}ae||(j=Yu(j),typeof y=="string"?j!=null&&encodeURIComponent(String(j)):Ir(y,U,j))}function vn(y){lt.call(this),this.headers=new Map,this.o=y||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(vn,lt);var _p=/^https?$/i,Ju=["POST","PUT"];r=vn.prototype,r.Ha=function(y){this.J=y},r.ea=function(y,U,j,ae){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);U=U?U.toUpperCase():"GET",this.D=y,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():we.g(),this.v=this.o?Jt(this.o):Jt(we),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(U,String(y),!0),this.B=!1}catch(Oe){Mc(this,Oe);return}if(y=j||"",j=new Map(this.headers),ae)if(Object.getPrototypeOf(ae)===Object.prototype)for(var ke in ae)j.set(ke,ae[ke]);else if(typeof ae.keys=="function"&&typeof ae.get=="function")for(const Oe of ae.keys())j.set(Oe,ae.get(Oe));else throw Error("Unknown input type for opt_headers: "+String(ae));ae=Array.from(j.keys()).find(Oe=>Oe.toLowerCase()=="content-type"),ke=o.FormData&&y instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Ju,U,void 0))||ae||ke||j.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Oe,ot]of j)this.g.setRequestHeader(Oe,ot);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qc(this),this.u=!0,this.g.send(y),this.u=!1}catch(Oe){Mc(this,Oe)}};function Mc(y,U){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=U,y.m=5,jf(y),Oc(y)}function jf(y){y.A||(y.A=!0,Ft(y,"complete"),Ft(y,"error"))}r.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=y||7,Ft(this,"complete"),Ft(this,"abort"),Oc(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oc(this,!0)),vn.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Zu(this):this.bb())},r.bb=function(){Zu(this)};function Zu(y){if(y.h&&typeof a<"u"&&(!y.v[1]||Lo(y)!=4||y.Z()!=2)){if(y.u&&Lo(y)==4)vt(y.Ea,0,y);else if(Ft(y,"readystatechange"),Lo(y)==4){y.h=!1;try{const ot=y.Z();e:switch(ot){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var U=!0;break e;default:U=!1}var j;if(!(j=U)){var ae;if(ae=ot===0){var ke=String(y.D).match(Fo)[1]||null;!ke&&o.self&&o.self.location&&(ke=o.self.location.protocol.slice(0,-1)),ae=!_p.test(ke?ke.toLowerCase():"")}j=ae}if(j)Ft(y,"complete"),Ft(y,"success");else{y.m=6;try{var Oe=2<Lo(y)?y.g.statusText:""}catch{Oe=""}y.l=Oe+" ["+y.Z()+"]",jf(y)}}finally{Oc(y)}}}}function Oc(y,U){if(y.g){Qc(y);const j=y.g,ae=y.v[0]?()=>{}:null;y.g=null,y.v=null,U||Ft(y,"ready");try{j.onreadystatechange=ae}catch{}}}function Qc(y){y.I&&(o.clearTimeout(y.I),y.I=null)}r.isActive=function(){return!!this.g};function Lo(y){return y.g?y.g.readyState:0}r.Z=function(){try{return 2<Lo(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(y){if(this.g){var U=this.g.responseText;return y&&U.indexOf(y)==0&&(U=U.substring(y.length)),en(U)}};function bp(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.H){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function VA(y){const U={};y=(y.g&&2<=Lo(y)&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let ae=0;ae<y.length;ae++){if(x(y[ae]))continue;var j=T(y[ae]);const ke=j[0];if(j=j[1],typeof j!="string")continue;j=j.trim();const Oe=U[ke]||[];U[ke]=Oe,Oe.push(j)}B(U,function(ae){return ae.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function to(y,U,j){return j&&j.internalChannelParams&&j.internalChannelParams[y]||U}function Ep(y){this.Aa=0,this.i=[],this.j=new Zi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=to("failFast",!1,y),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=to("baseRetryDelayMs",5e3,y),this.cb=to("retryDelaySeedMs",1e4,y),this.Wa=to("forwardChannelMaxRetries",2,y),this.wa=to("forwardChannelRequestTimeoutMs",2e4,y),this.pa=y&&y.xmlHttpFactory||void 0,this.Xa=y&&y.Tb||void 0,this.Ca=y&&y.useFetchStreams||!1,this.L=void 0,this.J=y&&y.supportsCrossDomainXhr||!1,this.K="",this.h=new nl(y&&y.concurrentRequestLimit),this.Da=new QA,this.P=y&&y.fastHandshake||!1,this.O=y&&y.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=y&&y.Rb||!1,y&&y.xa&&this.j.xa(),y&&y.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&y&&y.detectBufferingProxy||!1,this.ja=void 0,y&&y.longPollingTimeout&&0<y.longPollingTimeout&&(this.ja=y.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ep.prototype,r.la=8,r.G=1,r.connect=function(y,U,j,ae){Sn(0),this.W=y,this.H=U||{},j&&ae!==void 0&&(this.H.OSID=j,this.H.OAID=ae),this.F=this.X,this.I=An(this,null,this.W),L(this)};function Kf(y){if(Cp(y),y.G==3){var U=y.U++,j=eo(y.I);if(Ir(j,"SID",y.K),Ir(j,"RID",U),Ir(j,"TYPE","terminate"),Ee(y,j),U=new Qe(y,y.j,U),U.L=2,U.v=qu(eo(j)),j=!1,o.navigator&&o.navigator.sendBeacon)try{j=o.navigator.sendBeacon(U.v.toString(),"")}catch{}!j&&o.Image&&(new Image().src=U.v,j=!0),j||(U.g=bi(U.j,null),U.g.ea(U.v)),U.F=Date.now(),ut(U)}ui(y)}function eA(y){y.g&&(Et(y),y.g.cancel(),y.g=null)}function Cp(y){eA(y),y.u&&(o.clearTimeout(y.u),y.u=null),qt(y),y.h.cancel(),y.s&&(typeof y.s=="number"&&o.clearTimeout(y.s),y.s=null)}function L(y){if(!Za(y.h)&&!y.s){y.s=!0;var U=y.Ga;te||pe(),re||(te(),re=!0),W.add(U,y),y.B=0}}function G(y,U){return MA(y.h)>=y.h.j-(y.s?1:0)?!1:y.s?(y.i=U.D.concat(y.i),!0):y.G==1||y.G==2||y.B>=(y.Va?0:y.Wa)?!1:(y.s=xi(h(y.Ga,y,U),Or(y,y.B)),y.B++,!0)}r.Ga=function(y){if(this.s)if(this.s=null,this.G==1){if(!y){this.U=Math.floor(1e5*Math.random()),y=this.U++;const ke=new Qe(this,this.j,y);let Oe=this.o;if(this.S&&(Oe?(Oe=E(Oe),I(Oe,this.S)):Oe=this.S),this.m!==null||this.O||(ke.H=Oe,Oe=null),this.P)e:{for(var U=0,j=0;j<this.i.length;j++){t:{var ae=this.i[j];if("__data__"in ae.map&&(ae=ae.map.__data__,typeof ae=="string")){ae=ae.length;break t}ae=void 0}if(ae===void 0)break;if(U+=ae,4096<U){U=j;break e}if(U===4096||j===this.i.length-1){U=j+1;break e}}U=1e3}else U=1e3;U=Ie(this,ke,U),j=eo(this.I),Ir(j,"RID",y),Ir(j,"CVER",22),this.D&&Ir(j,"X-HTTP-Session-Id",this.D),Ee(this,j),Oe&&(this.O?U="headers="+encodeURIComponent(String(Yu(Oe)))+"&"+U:this.m&&xp(j,this.m,Oe)),mp(this.h,ke),this.Ua&&Ir(j,"TYPE","init"),this.P?(Ir(j,"$req",U),Ir(j,"SID","null"),ke.T=!0,et(ke,j,null)):et(ke,j,U),this.G=2}}else this.G==3&&(y?de(this,y):this.i.length==0||Za(this.h)||de(this))};function de(y,U){var j;U?j=U.l:j=y.U++;const ae=eo(y.I);Ir(ae,"SID",y.K),Ir(ae,"RID",j),Ir(ae,"AID",y.T),Ee(y,ae),y.m&&y.o&&xp(ae,y.m,y.o),j=new Qe(y,y.j,j,y.B+1),y.m===null&&(j.H=y.o),U&&(y.i=U.D.concat(y.i)),U=Ie(y,j,1e3),j.I=Math.round(.5*y.wa)+Math.round(.5*y.wa*Math.random()),mp(y.h,j),et(j,ae,U)}function Ee(y,U){y.H&&R(y.H,function(j,ae){Ir(U,ae,j)}),y.l&&Rc({},function(j,ae){Ir(U,ae,j)})}function Ie(y,U,j){j=Math.min(y.i.length,j);var ae=y.l?h(y.l.Na,y.l,y):null;e:{var ke=y.i;let Oe=-1;for(;;){const ot=["count="+j];Oe==-1?0<j?(Oe=ke[0].g,ot.push("ofs="+Oe)):Oe=0:ot.push("ofs="+Oe);let Rr=!0;for(let fi=0;fi<j;fi++){let Br=ke[fi].g;const Cr=ke[fi].map;if(Br-=Oe,0>Br)Oe=Math.max(0,ke[fi].g-100),Rr=!1;else try{Gy(Cr,ot,"req"+Br+"_")}catch{ae&&ae(Cr)}}if(Rr){ae=ot.join("&");break e}}}return y=y.i.splice(0,j),U.D=y,ae}function Ke(y){if(!y.g&&!y.u){y.Y=1;var U=y.Fa;te||pe(),re||(te(),re=!0),W.add(U,y),y.v=0}}function Xe(y){return y.g||y.u||3<=y.v?!1:(y.Y++,y.u=xi(h(y.Fa,y),Or(y,y.v)),y.v++,!0)}r.Fa=function(){if(this.u=null,Rt(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var y=2*this.R;this.j.info("BP detection timer enabled: "+y),this.A=xi(h(this.ab,this),y)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Sn(10),eA(this),Rt(this))};function Et(y){y.A!=null&&(o.clearTimeout(y.A),y.A=null)}function Rt(y){y.g=new Qe(y,y.j,"rpc",y.Y),y.m===null&&(y.g.H=y.o),y.g.O=0;var U=eo(y.qa);Ir(U,"RID","rpc"),Ir(U,"SID",y.K),Ir(U,"AID",y.T),Ir(U,"CI",y.F?"0":"1"),!y.F&&y.ja&&Ir(U,"TO",y.ja),Ir(U,"TYPE","xmlhttp"),Ee(y,U),y.m&&y.o&&xp(U,y.m,y.o),y.L&&(y.g.I=y.L);var j=y.g;y=y.ia,j.L=1,j.v=qu(eo(U)),j.m=null,j.P=!0,At(j,y)}r.Za=function(){this.C!=null&&(this.C=null,eA(this),Xe(this),Sn(19))};function qt(y){y.C!=null&&(o.clearTimeout(y.C),y.C=null)}function tr(y,U){var j=null;if(y.g==U){qt(y),Et(y),y.g=null;var ae=2}else if(es(y.h,U))j=U.D,ci(y.h,U),ae=1;else return;if(y.G!=0){if(U.o)if(ae==1){j=U.m?U.m.length:0,U=Date.now()-U.F;var ke=y.B;ae=Ai(),Ft(ae,new So(ae,j)),L(y)}else Ke(y);else if(ke=U.s,ke==3||ke==0&&0<U.X||!(ae==1&&G(y,U)||ae==2&&Xe(y)))switch(j&&0<j.length&&(U=y.h,U.i=U.i.concat(j)),ke){case 1:tn(y,5);break;case 4:tn(y,10);break;case 3:tn(y,6);break;default:tn(y,2)}}}function Or(y,U){let j=y.Ta+Math.floor(Math.random()*y.cb);return y.isActive()||(j*=2),j*U}function tn(y,U){if(y.j.info("Error code "+U),U==2){var j=h(y.fb,y),ae=y.Xa;const ke=!ae;ae=new ln(ae||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Mf(ae,"https"),qu(ae),ke?zy(ae.toString(),j):Wy(ae.toString(),j)}else Sn(2);y.G=0,y.l&&y.l.sa(U),ui(y),Cp(y)}r.fb=function(y){y?(this.j.info("Successfully pinged google.com"),Sn(2)):(this.j.info("Failed to ping google.com"),Sn(1))};function ui(y){if(y.G=0,y.ka=[],y.l){const U=vp(y.h);(U.length!=0||y.i.length!=0)&&(v(y.ka,U),v(y.ka,y.i),y.h.i.length=0,p(y.i),y.i.length=0),y.l.ra()}}function An(y,U,j){var ae=j instanceof ln?eo(j):new ln(j);if(ae.g!="")U&&(ae.g=U+"."+ae.g),Of(ae,ae.s);else{var ke=o.location;ae=ke.protocol,U=U?U+"."+ke.hostname:ke.hostname,ke=+ke.port;var Oe=new ln(null);ae&&Mf(Oe,ae),U&&(Oe.g=U),ke&&Of(Oe,ke),j&&(Oe.l=j),ae=Oe}return j=y.D,U=y.ya,j&&U&&Ir(ae,j,U),Ir(ae,"VER",y.la),Ee(y,ae),ae}function bi(y,U,j){if(U&&!y.J)throw Error("Can't create secondary domain capable XhrIo object.");return U=y.Ca&&!y.pa?new vn(new Hf({eb:j})):new vn(y.pa),U.Ha(y.J),U}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function hi(){}r=hi.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ei(){}Ei.prototype.g=function(y,U){return new Un(y,U)};function Un(y,U){lt.call(this),this.g=new Ep(U),this.l=y,this.h=U&&U.messageUrlParams||null,y=U&&U.messageHeaders||null,U&&U.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=U&&U.initMessageHeaders||null,U&&U.messageContentType&&(y?y["X-WebChannel-Content-Type"]=U.messageContentType:y={"X-WebChannel-Content-Type":U.messageContentType}),U&&U.va&&(y?y["X-WebChannel-Client-Profile"]=U.va:y={"X-WebChannel-Client-Profile":U.va}),this.g.S=y,(y=U&&U.Sb)&&!x(y)&&(this.g.m=y),this.v=U&&U.supportsCrossDomainXhr||!1,this.u=U&&U.sendRawJson||!1,(U=U&&U.httpSessionIdParam)&&!x(U)&&(this.g.D=U,y=this.h,y!==null&&U in y&&(y=this.h,U in y&&delete y[U])),this.j=new sl(this)}g(Un,lt),Un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Un.prototype.close=function(){Kf(this.g)},Un.prototype.o=function(y){var U=this.g;if(typeof y=="string"){var j={};j.__data__=y,y=j}else this.u&&(j={},j.__data__=Yt(y),y=j);U.i.push(new rl(U.Ya++,y)),U.G==3&&L(U)},Un.prototype.N=function(){this.g.l=null,delete this.j,Kf(this.g),delete this.g,Un.aa.N.call(this)};function Ws(y){Kr.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var U=y.__sm__;if(U){e:{for(const j in U){y=j;break e}y=void 0}(this.i=y)&&(y=this.i,U=U!==null&&y in U?U[y]:void 0),this.data=U}else this.data=y}g(Ws,Kr);function Bp(){Wt.call(this),this.status=1}g(Bp,Wt);function sl(y){this.g=y}g(sl,hi),sl.prototype.ua=function(){Ft(this.g,"a")},sl.prototype.ta=function(y){Ft(this.g,new Ws(y))},sl.prototype.sa=function(y){Ft(this.g,new Bp)},sl.prototype.ra=function(){Ft(this.g,"b")},Ei.prototype.createWebChannel=Ei.prototype.g,Un.prototype.send=Un.prototype.o,Un.prototype.open=Un.prototype.m,Un.prototype.close=Un.prototype.close,zz=function(){return new Ei},Kz=function(){return Ai()},jz=br,bL={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ue.NO_ERROR=0,ue.TIMEOUT=8,ue.HTTP_ERROR=6,LS=ue,fe.COMPLETE="complete",Vz=fe,Cn.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",lt.prototype.listen=lt.prototype.K,N2=Cn,vn.prototype.listenOnce=vn.prototype.L,vn.prototype.getLastError=vn.prototype.Ka,vn.prototype.getLastErrorCode=vn.prototype.Ba,vn.prototype.getStatus=vn.prototype.Z,vn.prototype.getResponseJson=vn.prototype.Oa,vn.prototype.getResponseText=vn.prototype.oa,vn.prototype.send=vn.prototype.ea,vn.prototype.setWithCredentials=vn.prototype.Ha,Hz=vn}).apply(typeof iB<"u"?iB:typeof self<"u"?self:typeof window<"u"?window:{});const N6="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ma=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ma.UNAUTHENTICATED=new Ma(null),Ma.GOOGLE_CREDENTIALS=new Ma("google-credentials-uid"),Ma.FIRST_PARTY=new Ma("first-party-uid"),Ma.MOCK_USER=new Ma("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ky="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm=new Gse("@firebase/firestore");function g2(){return Dm.logLevel}function Dt(r,...e){if(Dm.logLevel<=Wr.DEBUG){const t=e.map(bN);Dm.debug(`Firestore (${ky}): ${r}`,...t)}}function Sf(r,...e){if(Dm.logLevel<=Wr.ERROR){const t=e.map(bN);Dm.error(`Firestore (${ky}): ${r}`,...t)}}function dy(r,...e){if(Dm.logLevel<=Wr.WARN){const t=e.map(bN);Dm.warn(`Firestore (${ky}): ${r}`,...t)}}function bN(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(r="Unexpected state"){const e=`FIRESTORE (${ky}) INTERNAL ASSERTION FAILED: `+r;throw Sf(e),new Error(e)}function mn(r,e){r||sr()}function ur(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Lt extends Vu{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wz{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $se{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ma.UNAUTHENTICATED))}shutdown(){}}class qse{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Xse{constructor(e){this.t=e,this.currentUser=Ma.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){mn(this.o===void 0);let n=this.i;const i=l=>this.i!==n?(n=this.i,t(l)):Promise.resolve();let s=new gf;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new gf,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{Dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(Dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new gf)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(Dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(mn(typeof n.accessToken=="string"),new Wz(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return mn(e===null||typeof e=="string"),new Ma(e)}}class Yse{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Ma.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Jse{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Yse(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ma.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Zse{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eae{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){mn(this.o===void 0);const n=s=>{s.error!=null&&Dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,Dt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const i=s=>{Dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(mn(typeof t.token=="string"),this.R=t.token,new Zse(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tae(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=tae(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<t&&(n+=e.charAt(i[s]%e.length))}return n}}function Jr(r,e){return r<e?-1:r>e?1:0}function py(r,e,t){return r.length===e.length&&r.every((n,i)=>t(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Lt(Ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Lt(Ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Lt(Ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Lt(Ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ss.fromMillis(Date.now())}static fromDate(e){return Ss.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Ss(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Jr(this.nanoseconds,e.nanoseconds):Jr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.timestamp=e}static fromTimestamp(e){return new or(e)}static min(){return new or(new Ss(0,0))}static max(){return new or(new Ss(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e,t,n){t===void 0?t=0:t>e.length&&sr(),n===void 0?n=e.length-t:n>e.length-t&&sr(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return C_.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof C_?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const s=e.get(i),a=t.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Xn extends C_{construct(e,t,n){return new Xn(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Lt(Ye.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(i=>i.length>0))}return new Xn(t)}static emptyPath(){return new Xn([])}}const rae=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Aa extends C_{construct(e,t,n){return new Aa(e,t,n)}static isValidIdentifier(e){return rae.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Aa.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Aa(["__name__"])}static fromServerFormat(e){const t=[];let n="",i=0;const s=()=>{if(n.length===0)throw new Lt(Ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new Lt(Ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Lt(Ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(n+=o,i++):(s(),i++)}if(s(),a)throw new Lt(Ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Aa(t)}static emptyPath(){return new Aa([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.path=e}static fromPath(e){return new Gt(Xn.fromString(e))}static fromName(e){return new Gt(Xn.fromString(e).popFirst(5))}static empty(){return new Gt(Xn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Xn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Gt(new Xn(e.slice()))}}function nae(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,i=or.fromTimestamp(n===1e9?new Ss(t+1,0):new Ss(t,n));return new X0(i,Gt.empty(),e)}function iae(r){return new X0(r.readTime,r.key,-1)}class X0{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new X0(or.min(),Gt.empty(),-1)}static max(){return new X0(or.max(),Gt.empty(),-1)}}function sae(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Gt.comparator(r.documentKey,e.documentKey),t!==0?t:Jr(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aae="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oae{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GE(r){if(r.code!==Ye.FAILED_PRECONDITION||r.message!==aae)throw r;Dt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&sr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new tt((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(n,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof tt?t:tt.resolve(t)}catch(t){return tt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):tt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):tt.reject(t)}static resolve(e){return new tt((t,n)=>{t(e)})}static reject(e){return new tt((t,n)=>{n(e)})}static waitFor(e){return new tt((t,n)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&t()},l=>n(l))}),a=!0,s===i&&t()})}static or(e){let t=tt.resolve(!1);for(const n of e)t=t.next(i=>i?tt.resolve(i):n());return t}static forEach(e,t){const n=[];return e.forEach((i,s)=>{n.push(t.call(this,i,s))}),this.waitFor(n)}static mapArray(e,t){return new tt((n,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const A=l;t(e[A]).next(c=>{a[A]=c,++o,o===s&&n(a)},c=>i(c))}})}static doWhile(e,t){return new tt((n,i)=>{const s=()=>{e()===!0?t().next(()=>{s()},i):n()};s()})}}function lae(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function $E(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ie(n),this.se=n=>t.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}EN.oe=-1;function a4(r){return r==null}function hT(r){return r===0&&1/r==-1/0}function Aae(r){return typeof r=="number"&&Number.isInteger(r)&&!hT(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U6(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Ly(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function $z(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,t){this.comparator=e,this.root=t||sa.EMPTY}insert(e,t){return new yi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,sa.BLACK,null,null))}remove(e){return new yi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sa.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sB(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sB(this.root,e,this.comparator,!1)}getReverseIterator(){return new sB(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sB(this.root,e,this.comparator,!0)}}class sB{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sa{constructor(e,t,n,i,s){this.key=e,this.value=t,this.color=n??sa.RED,this.left=i??sa.EMPTY,this.right=s??sa.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,s){return new sa(e??this.key,t??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,n),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return sa.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return sa.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sa.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw sr();const e=this.left.check();if(e!==this.right.check())throw sr();return e+(this.isRed()?0:1)}}sa.EMPTY=null,sa.RED=!0,sa.BLACK=!1;sa.EMPTY=new class{constructor(){this.size=0}get key(){throw sr()}get value(){throw sr()}get color(){throw sr()}get left(){throw sr()}get right(){throw sr()}copy(e,t,n,i,s){return this}insert(e,t,n){return new sa(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.comparator=e,this.data=new yi(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new M6(this.data.getIterator())}getIteratorFrom(e){return new M6(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof fa)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new fa(this.comparator);return t.data=e,t}}class M6{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e){this.fields=e,e.sort(Aa.comparator)}static empty(){return new gc([])}unionWith(e){let t=new fa(Aa.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new gc(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return py(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new qz("Invalid base64 string: "+s):s}}(e);return new va(t)}static fromUint8Array(e){const t=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new va(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Jr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}va.EMPTY_BYTE_STRING=new va("");const cae=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Y0(r){if(mn(!!r),typeof r=="string"){let e=0;const t=cae.exec(r);if(mn(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Gi(r.seconds),nanos:Gi(r.nanos)}}function Gi(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Nm(r){return typeof r=="string"?va.fromBase64String(r):va.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function BN(r){const e=r.mapValue.fields.__previous_value__;return CN(e)?BN(e):e}function B_(r){const e=Y0(r.mapValue.fields.__local_write_time__.timestampValue);return new Ss(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uae{constructor(e,t,n,i,s,a,o,l,A){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=A}}class S_{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new S_("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof S_&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aB={mapValue:{}};function Um(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?CN(r)?4:fae(r)?9007199254740991:hae(r)?10:11:sr()}function Mu(r,e){if(r===e)return!0;const t=Um(r);if(t!==Um(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return B_(r).isEqual(B_(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Y0(i.timestampValue),o=Y0(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(i,s){return Nm(i.bytesValue).isEqual(Nm(s.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(i,s){return Gi(i.geoPointValue.latitude)===Gi(s.geoPointValue.latitude)&&Gi(i.geoPointValue.longitude)===Gi(s.geoPointValue.longitude)}(r,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Gi(i.integerValue)===Gi(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Gi(i.doubleValue),o=Gi(s.doubleValue);return a===o?hT(a)===hT(o):isNaN(a)&&isNaN(o)}return!1}(r,e);case 9:return py(r.arrayValue.values||[],e.arrayValue.values||[],Mu);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(U6(a)!==U6(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Mu(a[l],o[l])))return!1;return!0}(r,e);default:return sr()}}function T_(r,e){return(r.values||[]).find(t=>Mu(t,e))!==void 0}function gy(r,e){if(r===e)return 0;const t=Um(r),n=Um(e);if(t!==n)return Jr(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return Jr(r.booleanValue,e.booleanValue);case 2:return function(s,a){const o=Gi(s.integerValue||s.doubleValue),l=Gi(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(r,e);case 3:return O6(r.timestampValue,e.timestampValue);case 4:return O6(B_(r),B_(e));case 5:return Jr(r.stringValue,e.stringValue);case 6:return function(s,a){const o=Nm(s),l=Nm(a);return o.compareTo(l)}(r.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),l=a.split("/");for(let A=0;A<o.length&&A<l.length;A++){const c=Jr(o[A],l[A]);if(c!==0)return c}return Jr(o.length,l.length)}(r.referenceValue,e.referenceValue);case 8:return function(s,a){const o=Jr(Gi(s.latitude),Gi(a.latitude));return o!==0?o:Jr(Gi(s.longitude),Gi(a.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Q6(r.arrayValue,e.arrayValue);case 10:return function(s,a){var o,l,A,c;const u=s.fields||{},h=a.fields||{},f=(o=u.value)===null||o===void 0?void 0:o.arrayValue,g=(l=h.value)===null||l===void 0?void 0:l.arrayValue,p=Jr(((A=f==null?void 0:f.values)===null||A===void 0?void 0:A.length)||0,((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0);return p!==0?p:Q6(f,g)}(r.mapValue,e.mapValue);case 11:return function(s,a){if(s===aB.mapValue&&a===aB.mapValue)return 0;if(s===aB.mapValue)return 1;if(a===aB.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),A=a.fields||{},c=Object.keys(A);l.sort(),c.sort();for(let u=0;u<l.length&&u<c.length;++u){const h=Jr(l[u],c[u]);if(h!==0)return h;const f=gy(o[l[u]],A[c[u]]);if(f!==0)return f}return Jr(l.length,c.length)}(r.mapValue,e.mapValue);default:throw sr()}}function O6(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Jr(r,e);const t=Y0(r),n=Y0(e),i=Jr(t.seconds,n.seconds);return i!==0?i:Jr(t.nanos,n.nanos)}function Q6(r,e){const t=r.values||[],n=e.values||[];for(let i=0;i<t.length&&i<n.length;++i){const s=gy(t[i],n[i]);if(s)return s}return Jr(t.length,n.length)}function my(r){return EL(r)}function EL(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const n=Y0(t);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Nm(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Gt.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let n="[",i=!0;for(const s of t.values||[])i?i=!1:n+=",",n+=EL(s);return n+"]"}(r.arrayValue):"mapValue"in r?function(t){const n=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const a of n)s?s=!1:i+=",",i+=`${a}:${EL(t.fields[a])}`;return i+"}"}(r.mapValue):sr()}function H6(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function CL(r){return!!r&&"integerValue"in r}function SN(r){return!!r&&"arrayValue"in r}function V6(r){return!!r&&"nullValue"in r}function j6(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function PS(r){return!!r&&"mapValue"in r}function hae(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Px(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Ly(r.mapValue.fields,(t,n)=>e.mapValue.fields[t]=Px(n)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Px(r.arrayValue.values[t]);return e}return Object.assign({},r)}function fae(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e){this.value=e}static empty(){return new CA({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!PS(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Px(t)}setAll(e){let t=Aa.emptyPath(),n={},i=[];e.forEach((a,o)=>{if(!t.isImmediateParentOf(o)){const l=this.getFieldsMap(t);this.applyChanges(l,n,i),n={},i=[],t=o.popLast()}a?n[o.lastSegment()]=Px(a):i.push(o.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,n,i)}delete(e){const t=this.field(e.popLast());PS(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Mu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];PS(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){Ly(t,(i,s)=>e[i]=s);for(const i of n)delete e[i]}clone(){return new CA(Px(this.value))}}function Xz(r){const e=[];return Ly(r.fields,(t,n)=>{const i=new Aa([t]);if(PS(n)){const s=Xz(n.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new gc(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,t,n,i,s,a,o){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new ja(e,0,or.min(),or.min(),or.min(),CA.empty(),0)}static newFoundDocument(e,t,n,i){return new ja(e,1,t,or.min(),n,i,0)}static newNoDocument(e,t){return new ja(e,2,t,or.min(),or.min(),CA.empty(),0)}static newUnknownDocument(e,t){return new ja(e,3,t,or.min(),or.min(),CA.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(or.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=CA.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=CA.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=or.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ja&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ja(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e,t){this.position=e,this.inclusive=t}}function K6(r,e,t){let n=0;for(let i=0;i<r.position.length;i++){const s=e[i],a=r.position[i];if(s.field.isKeyField()?n=Gt.comparator(Gt.fromName(a.referenceValue),t.key):n=gy(a,t.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function z6(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Mu(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,t="asc"){this.field=e,this.dir=t}}function dae(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz{}class cs extends Yz{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new gae(e,t,n):t==="array-contains"?new wae(e,n):t==="in"?new yae(e,n):t==="not-in"?new xae(e,n):t==="array-contains-any"?new _ae(e,n):new cs(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new mae(e,n):new vae(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(gy(t,this.value)):t!==null&&Um(this.value)===Um(t)&&this.matchesComparison(gy(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return sr()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bc extends Yz{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Bc(e,t)}matches(e){return Jz(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Jz(r){return r.op==="and"}function Zz(r){return pae(r)&&Jz(r)}function pae(r){for(const e of r.filters)if(e instanceof Bc)return!1;return!0}function BL(r){if(r instanceof cs)return r.field.canonicalString()+r.op.toString()+my(r.value);if(Zz(r))return r.filters.map(e=>BL(e)).join(",");{const e=r.filters.map(t=>BL(t)).join(",");return`${r.op}(${e})`}}function eW(r,e){return r instanceof cs?function(n,i){return i instanceof cs&&n.op===i.op&&n.field.isEqual(i.field)&&Mu(n.value,i.value)}(r,e):r instanceof Bc?function(n,i){return i instanceof Bc&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,a,o)=>s&&eW(a,i.filters[o]),!0):!1}(r,e):void sr()}function tW(r){return r instanceof cs?function(t){return`${t.field.canonicalString()} ${t.op} ${my(t.value)}`}(r):r instanceof Bc?function(t){return t.op.toString()+" {"+t.getFilters().map(tW).join(" ,")+"}"}(r):"Filter"}class gae extends cs{constructor(e,t,n){super(e,t,n),this.key=Gt.fromName(n.referenceValue)}matches(e){const t=Gt.comparator(e.key,this.key);return this.matchesComparison(t)}}class mae extends cs{constructor(e,t){super(e,"in",t),this.keys=rW("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class vae extends cs{constructor(e,t){super(e,"not-in",t),this.keys=rW("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function rW(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(n=>Gt.fromName(n.referenceValue))}class wae extends cs{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return SN(t)&&T_(t.arrayValue,this.value)}}class yae extends cs{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&T_(this.value.arrayValue,t)}}class xae extends cs{constructor(e,t){super(e,"not-in",t)}matches(e){if(T_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!T_(this.value.arrayValue,t)}}class _ae extends cs{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!SN(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>T_(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bae{constructor(e,t=null,n=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.ue=null}}function W6(r,e=null,t=[],n=[],i=null,s=null,a=null){return new bae(r,e,t,n,i,s,a)}function TN(r){const e=ur(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>BL(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),a4(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>my(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>my(n)).join(",")),e.ue=t}return e.ue}function FN(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!dae(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!eW(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!z6(r.startAt,e.startAt)&&z6(r.endAt,e.endAt)}function SL(r){return Gt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,t=null,n=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Eae(r,e,t,n,i,s,a,o){return new qE(r,e,t,n,i,s,a,o)}function IN(r){return new qE(r)}function G6(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function nW(r){return r.collectionGroup!==null}function Rx(r){const e=ur(r);if(e.ce===null){e.ce=[];const t=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new fa(Aa.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(A=>{A.isInequality()&&(o=o.add(A.field))})}),o})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new dT(s,n))}),t.has(Aa.keyField().canonicalString())||e.ce.push(new dT(Aa.keyField(),n))}return e.ce}function Lu(r){const e=ur(r);return e.le||(e.le=Cae(e,Rx(r))),e.le}function Cae(r,e){if(r.limitType==="F")return W6(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new dT(i.field,s)});const t=r.endAt?new fT(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new fT(r.startAt.position,r.startAt.inclusive):null;return W6(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function TL(r,e){const t=r.filters.concat([e]);return new qE(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function FL(r,e,t){return new qE(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function o4(r,e){return FN(Lu(r),Lu(e))&&r.limitType===e.limitType}function iW(r){return`${TN(Lu(r))}|lt:${r.limitType}`}function k1(r){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(i=>tW(i)).join(", ")}]`),a4(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>my(i)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>my(i)).join(",")),`Target(${n})`}(Lu(r))}; limitType=${r.limitType})`}function l4(r,e){return e.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):Gt.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(r,e)&&function(n,i){for(const s of Rx(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(r,e)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(r,e)&&function(n,i){return!(n.startAt&&!function(a,o,l){const A=K6(a,o,l);return a.inclusive?A<=0:A<0}(n.startAt,Rx(n),i)||n.endAt&&!function(a,o,l){const A=K6(a,o,l);return a.inclusive?A>=0:A>0}(n.endAt,Rx(n),i))}(r,e)}function Bae(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function sW(r){return(e,t)=>{let n=!1;for(const i of Rx(r)){const s=Sae(i,e,t);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function Sae(r,e,t){const n=r.field.isKeyField()?Gt.comparator(e.key,t.key):function(s,a,o){const l=a.data.field(s),A=o.data.field(s);return l!==null&&A!==null?gy(l,A):sr()}(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return sr()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ly(this.inner,(t,n)=>{for(const[i,s]of n)e(i,s)})}isEmpty(){return $z(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tae=new yi(Gt.comparator);function Tf(){return Tae}const aW=new yi(Gt.comparator);function U2(...r){let e=aW;for(const t of r)e=e.insert(t.key,t);return e}function oW(r){let e=aW;return r.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function tg(){return Dx()}function lW(){return Dx()}function Dx(){return new Py(r=>r.toString(),(r,e)=>r.isEqual(e))}const Fae=new yi(Gt.comparator),Iae=new fa(Gt.comparator);function Lr(...r){let e=Iae;for(const t of r)e=e.add(t);return e}const kae=new fa(Jr);function Lae(){return kae}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hT(e)?"-0":e}}function AW(r){return{integerValue:""+r}}function Pae(r,e){return Aae(e)?AW(e):kN(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(){this._=void 0}}function Rae(r,e,t){return r instanceof F_?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&CN(s)&&(s=BN(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(t,e):r instanceof I_?uW(r,e):r instanceof k_?hW(r,e):function(i,s){const a=cW(i,s),o=$6(a)+$6(i.Pe);return CL(a)&&CL(i.Pe)?AW(o):kN(i.serializer,o)}(r,e)}function Dae(r,e,t){return r instanceof I_?uW(r,e):r instanceof k_?hW(r,e):t}function cW(r,e){return r instanceof pT?function(n){return CL(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class F_ extends A4{}class I_ extends A4{constructor(e){super(),this.elements=e}}function uW(r,e){const t=fW(e);for(const n of r.elements)t.some(i=>Mu(i,n))||t.push(n);return{arrayValue:{values:t}}}class k_ extends A4{constructor(e){super(),this.elements=e}}function hW(r,e){let t=fW(e);for(const n of r.elements)t=t.filter(i=>!Mu(i,n));return{arrayValue:{values:t}}}class pT extends A4{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function $6(r){return Gi(r.integerValue||r.doubleValue)}function fW(r){return SN(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nae{constructor(e,t){this.field=e,this.transform=t}}function Uae(r,e){return r.field.isEqual(e.field)&&function(n,i){return n instanceof I_&&i instanceof I_||n instanceof k_&&i instanceof k_?py(n.elements,i.elements,Mu):n instanceof pT&&i instanceof pT?Mu(n.Pe,i.Pe):n instanceof F_&&i instanceof F_}(r.transform,e.transform)}class Mae{constructor(e,t){this.version=e,this.transformResults=t}}class Pu{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Pu}static exists(e){return new Pu(void 0,e)}static updateTime(e){return new Pu(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function RS(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class c4{}function dW(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new gW(r.key,Pu.none()):new XE(r.key,r.data,Pu.none());{const t=r.data,n=CA.empty();let i=new fa(Aa.comparator);for(let s of e.fields)if(!i.has(s)){let a=t.field(s);a===null&&s.length>1&&(s=s.popLast(),a=t.field(s)),a===null?n.delete(s):n.set(s,a),i=i.add(s)}return new Ym(r.key,n,new gc(i.toArray()),Pu.none())}}function Oae(r,e,t){r instanceof XE?function(i,s,a){const o=i.value.clone(),l=X6(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(r,e,t):r instanceof Ym?function(i,s,a){if(!RS(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=X6(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(pW(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(r,e,t):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,t)}function Nx(r,e,t,n){return r instanceof XE?function(s,a,o,l){if(!RS(s.precondition,a))return o;const A=s.value.clone(),c=Y6(s.fieldTransforms,l,a);return A.setAll(c),a.convertToFoundDocument(a.version,A).setHasLocalMutations(),null}(r,e,t,n):r instanceof Ym?function(s,a,o,l){if(!RS(s.precondition,a))return o;const A=Y6(s.fieldTransforms,l,a),c=a.data;return c.setAll(pW(s)),c.setAll(A),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(u=>u.field))}(r,e,t,n):function(s,a,o){return RS(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(r,e,t)}function Qae(r,e){let t=null;for(const n of r.fieldTransforms){const i=e.data.field(n.field),s=cW(n.transform,i||null);s!=null&&(t===null&&(t=CA.empty()),t.set(n.field,s))}return t||null}function q6(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&py(n,i,(s,a)=>Uae(s,a))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class XE extends c4{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ym extends c4{constructor(e,t,n,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function pW(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}}),e}function X6(r,e,t){const n=new Map;mn(r.length===t.length);for(let i=0;i<t.length;i++){const s=r[i],a=s.transform,o=e.data.field(s.field);n.set(s.field,Dae(a,o,t[i]))}return n}function Y6(r,e,t){const n=new Map;for(const i of r){const s=i.transform,a=t.data.field(i.field);n.set(i.field,Rae(s,a,e))}return n}class gW extends c4{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Hae extends c4{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vae{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Oae(s,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Nx(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Nx(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=lW();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=t.has(i.key)?null:o;const l=dW(a,o);l!==null&&n.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(or.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Lr())}isEqual(e){return this.batchId===e.batchId&&py(this.mutations,e.mutations,(t,n)=>q6(t,n))&&py(this.baseMutations,e.baseMutations,(t,n)=>q6(t,n))}}class LN{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){mn(e.mutations.length===n.length);let i=function(){return Fae}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,n[a].version);return new LN(e,t,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jae{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kae{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var is,Hr;function zae(r){switch(r){default:return sr();case Ye.CANCELLED:case Ye.UNKNOWN:case Ye.DEADLINE_EXCEEDED:case Ye.RESOURCE_EXHAUSTED:case Ye.INTERNAL:case Ye.UNAVAILABLE:case Ye.UNAUTHENTICATED:return!1;case Ye.INVALID_ARGUMENT:case Ye.NOT_FOUND:case Ye.ALREADY_EXISTS:case Ye.PERMISSION_DENIED:case Ye.FAILED_PRECONDITION:case Ye.ABORTED:case Ye.OUT_OF_RANGE:case Ye.UNIMPLEMENTED:case Ye.DATA_LOSS:return!0}}function mW(r){if(r===void 0)return Sf("GRPC error has no .code"),Ye.UNKNOWN;switch(r){case is.OK:return Ye.OK;case is.CANCELLED:return Ye.CANCELLED;case is.UNKNOWN:return Ye.UNKNOWN;case is.DEADLINE_EXCEEDED:return Ye.DEADLINE_EXCEEDED;case is.RESOURCE_EXHAUSTED:return Ye.RESOURCE_EXHAUSTED;case is.INTERNAL:return Ye.INTERNAL;case is.UNAVAILABLE:return Ye.UNAVAILABLE;case is.UNAUTHENTICATED:return Ye.UNAUTHENTICATED;case is.INVALID_ARGUMENT:return Ye.INVALID_ARGUMENT;case is.NOT_FOUND:return Ye.NOT_FOUND;case is.ALREADY_EXISTS:return Ye.ALREADY_EXISTS;case is.PERMISSION_DENIED:return Ye.PERMISSION_DENIED;case is.FAILED_PRECONDITION:return Ye.FAILED_PRECONDITION;case is.ABORTED:return Ye.ABORTED;case is.OUT_OF_RANGE:return Ye.OUT_OF_RANGE;case is.UNIMPLEMENTED:return Ye.UNIMPLEMENTED;case is.DATA_LOSS:return Ye.DATA_LOSS;default:return sr()}}(Hr=is||(is={}))[Hr.OK=0]="OK",Hr[Hr.CANCELLED=1]="CANCELLED",Hr[Hr.UNKNOWN=2]="UNKNOWN",Hr[Hr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Hr[Hr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Hr[Hr.NOT_FOUND=5]="NOT_FOUND",Hr[Hr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Hr[Hr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Hr[Hr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Hr[Hr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Hr[Hr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Hr[Hr.ABORTED=10]="ABORTED",Hr[Hr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Hr[Hr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Hr[Hr.INTERNAL=13]="INTERNAL",Hr[Hr.UNAVAILABLE=14]="UNAVAILABLE",Hr[Hr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wae(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gae=new xm([4294967295,4294967295],0);function J6(r){const e=Wae().encode(r),t=new Qz;return t.update(e),new Uint8Array(t.digest())}function Z6(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new xm([t,n],0),new xm([i,s],0)]}class PN{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new M2(`Invalid padding: ${t}`);if(n<0)throw new M2(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new M2(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new M2(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=xm.fromNumber(this.Ie)}Ee(e,t,n){let i=e.add(t.multiply(xm.fromNumber(n)));return i.compare(Gae)===1&&(i=new xm([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=J6(e),[n,i]=Z6(t);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);if(!this.de(a))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new PN(s,i,t);return n.forEach(o=>a.insert(o)),a}insert(e){if(this.Ie===0)return;const t=J6(e),[n,i]=Z6(t);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);this.Ae(a)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class M2 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e,t,n,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,YE.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new u4(or.min(),i,new yi(Jr),Tf(),Lr())}}class YE{constructor(e,t,n,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new YE(n,t,Lr(),Lr(),Lr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,t,n,i){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=i}}class vW{constructor(e,t){this.targetId=e,this.me=t}}class wW{constructor(e,t,n=va.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class e8{constructor(){this.fe=0,this.ge=r8(),this.pe=va.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Lr(),t=Lr(),n=Lr();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:sr()}}),new YE(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=r8()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,mn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class $ae{constructor(e){this.Le=e,this.Be=new Map,this.ke=Tf(),this.qe=t8(),this.Qe=new yi(Jr)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:sr()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((n,i)=>{this.ze(i)&&t(i)})}He(e){const t=e.targetId,n=e.me.count,i=this.Je(t);if(i){const s=i.target;if(SL(s))if(n===0){const a=new Gt(s.path);this.Ue(t,a,ja.newNoDocument(a,or.min()))}else mn(n===1);else{const a=this.Ye(t);if(a!==n){const o=this.Ze(e),l=o?this.Xe(o,e,a):1;if(l!==0){this.je(t);const A=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,A)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=t;let a,o;try{a=Nm(n).toUint8Array()}catch(l){if(l instanceof qz)return dy("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new PN(a,i,s)}catch(l){return dy(l instanceof M2?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Ie===0?null:o}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let i=0;return n.forEach(s=>{const a=this.Le.tt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.Ue(t,s,null),i++)}),i}rt(e){const t=new Map;this.Be.forEach((s,a)=>{const o=this.Je(a);if(o){if(s.current&&SL(o.target)){const l=new Gt(o.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,ja.newNoDocument(l,e))}s.be&&(t.set(a,s.ve()),s.Ce())}});let n=Lr();this.qe.forEach((s,a)=>{let o=!0;a.forEachWhile(l=>{const A=this.Je(l);return!A||A.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));const i=new u4(e,t,this.Qe,this.ke,n);return this.ke=Tf(),this.qe=t8(),this.Qe=new yi(Jr),i}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new e8,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new fa(Jr),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||Dt("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new e8),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function t8(){return new yi(Gt.comparator)}function r8(){return new yi(Gt.comparator)}const qae={asc:"ASCENDING",desc:"DESCENDING"},Xae={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yae={and:"AND",or:"OR"};class Jae{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function IL(r,e){return r.useProto3Json||a4(e)?e:{value:e}}function gT(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yW(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Zae(r,e){return gT(r,e.toTimestamp())}function Ru(r){return mn(!!r),or.fromTimestamp(function(t){const n=Y0(t);return new Ss(n.seconds,n.nanos)}(r))}function RN(r,e){return kL(r,e).canonicalString()}function kL(r,e){const t=function(i){return new Xn(["projects",i.projectId,"databases",i.database])}(r).child("documents");return e===void 0?t:t.child(e)}function xW(r){const e=Xn.fromString(r);return mn(BW(e)),e}function LL(r,e){return RN(r.databaseId,e.path)}function WI(r,e){const t=xW(e);if(t.get(1)!==r.databaseId.projectId)throw new Lt(Ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Lt(Ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Gt(bW(t))}function _W(r,e){return RN(r.databaseId,e)}function eoe(r){const e=xW(r);return e.length===4?Xn.emptyPath():bW(e)}function PL(r){return new Xn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function bW(r){return mn(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function n8(r,e,t){return{name:LL(r,e),fields:t.value.mapValue.fields}}function toe(r,e){let t;if("targetChange"in e){e.targetChange;const n=function(A){return A==="NO_CHANGE"?0:A==="ADD"?1:A==="REMOVE"?2:A==="CURRENT"?3:A==="RESET"?4:sr()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(A,c){return A.useProto3Json?(mn(c===void 0||typeof c=="string"),va.fromBase64String(c||"")):(mn(c===void 0||c instanceof Buffer||c instanceof Uint8Array),va.fromUint8Array(c||new Uint8Array))}(r,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(A){const c=A.code===void 0?Ye.UNKNOWN:mW(A.code);return new Lt(c,A.message||"")}(a);t=new wW(n,i,s,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=WI(r,n.document.name),s=Ru(n.document.updateTime),a=n.document.createTime?Ru(n.document.createTime):or.min(),o=new CA({mapValue:{fields:n.document.fields}}),l=ja.newFoundDocument(i,s,a,o),A=n.targetIds||[],c=n.removedTargetIds||[];t=new DS(A,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=WI(r,n.document),s=n.readTime?Ru(n.readTime):or.min(),a=ja.newNoDocument(i,s),o=n.removedTargetIds||[];t=new DS([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=WI(r,n.document),s=n.removedTargetIds||[];t=new DS([],s,i,null)}else{if(!("filter"in e))return sr();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,a=new Kae(i,s),o=n.targetId;t=new vW(o,a)}}return t}function roe(r,e){let t;if(e instanceof XE)t={update:n8(r,e.key,e.value)};else if(e instanceof gW)t={delete:LL(r,e.key)};else if(e instanceof Ym)t={update:n8(r,e.key,e.data),updateMask:uoe(e.fieldMask)};else{if(!(e instanceof Hae))return sr();t={verify:LL(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(s,a){const o=a.transform;if(o instanceof F_)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof I_)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof k_)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof pT)return{fieldPath:a.field.canonicalString(),increment:o.Pe};throw sr()}(0,n))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Zae(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:sr()}(r,e.precondition)),t}function noe(r,e){return r&&r.length>0?(mn(e!==void 0),r.map(t=>function(i,s){let a=i.updateTime?Ru(i.updateTime):Ru(s);return a.isEqual(or.min())&&(a=Ru(s)),new Mae(a,i.transformResults||[])}(t,e))):[]}function ioe(r,e){return{documents:[_W(r,e.path)]}}function soe(r,e){const t={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=_W(r,i);const s=function(A){if(A.length!==0)return CW(Bc.create(A,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const a=function(A){if(A.length!==0)return A.map(c=>function(h){return{field:L1(h.field),direction:loe(h.dir)}}(c))}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const o=IL(r,e.limit);return o!==null&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt=function(A){return{before:A.inclusive,values:A.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(A){return{before:!A.inclusive,values:A.position}}(e.endAt)),{_t:t,parent:i}}function aoe(r){let e=eoe(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let i=null;if(n>0){mn(n===1);const c=t.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];t.where&&(s=function(u){const h=EW(u);return h instanceof Bc&&Zz(h)?h.getFilters():[h]}(t.where));let a=[];t.orderBy&&(a=function(u){return u.map(h=>function(g){return new dT(P1(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(t.orderBy));let o=null;t.limit&&(o=function(u){let h;return h=typeof u=="object"?u.value:u,a4(h)?null:h}(t.limit));let l=null;t.startAt&&(l=function(u){const h=!!u.before,f=u.values||[];return new fT(f,h)}(t.startAt));let A=null;return t.endAt&&(A=function(u){const h=!u.before,f=u.values||[];return new fT(f,h)}(t.endAt)),Eae(e,i,a,s,o,"F",l,A)}function ooe(r,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return sr()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function EW(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=P1(t.unaryFilter.field);return cs.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=P1(t.unaryFilter.field);return cs.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=P1(t.unaryFilter.field);return cs.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=P1(t.unaryFilter.field);return cs.create(a,"!=",{nullValue:"NULL_VALUE"});default:return sr()}}(r):r.fieldFilter!==void 0?function(t){return cs.create(P1(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return sr()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Bc.create(t.compositeFilter.filters.map(n=>EW(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return sr()}}(t.compositeFilter.op))}(r):sr()}function loe(r){return qae[r]}function Aoe(r){return Xae[r]}function coe(r){return Yae[r]}function L1(r){return{fieldPath:r.canonicalString()}}function P1(r){return Aa.fromServerFormat(r.fieldPath)}function CW(r){return r instanceof cs?function(t){if(t.op==="=="){if(j6(t.value))return{unaryFilter:{field:L1(t.field),op:"IS_NAN"}};if(V6(t.value))return{unaryFilter:{field:L1(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(j6(t.value))return{unaryFilter:{field:L1(t.field),op:"IS_NOT_NAN"}};if(V6(t.value))return{unaryFilter:{field:L1(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:L1(t.field),op:Aoe(t.op),value:t.value}}}(r):r instanceof Bc?function(t){const n=t.getFilters().map(i=>CW(i));return n.length===1?n[0]:{compositeFilter:{op:coe(t.op),filters:n}}}(r):sr()}function uoe(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function BW(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,t,n,i,s=or.min(),a=or.min(),o=va.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new w0(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new w0(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new w0(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new w0(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hoe{constructor(e){this.ct=e}}function foe(r){const e=aoe({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?FL(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class doe{constructor(){this.un=new poe}addToCollectionParentIndex(e,t){return this.un.add(t),tt.resolve()}getCollectionParents(e,t){return tt.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return tt.resolve()}deleteFieldIndex(e,t){return tt.resolve()}deleteAllFieldIndexes(e){return tt.resolve()}createTargetIndexes(e,t){return tt.resolve()}getDocumentsMatchingTarget(e,t){return tt.resolve(null)}getIndexType(e,t){return tt.resolve(0)}getFieldIndexes(e,t){return tt.resolve([])}getNextCollectionGroupToUpdate(e){return tt.resolve(null)}getMinOffset(e,t){return tt.resolve(X0.min())}getMinOffsetFromCollectionGroup(e,t){return tt.resolve(X0.min())}updateCollectionGroup(e,t,n){return tt.resolve()}updateIndexEntries(e,t){return tt.resolve()}}class poe{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new fa(Xn.comparator),s=!i.has(n);return this.index[t]=i.add(n),s}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new fa(Xn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new vy(0)}static kn(){return new vy(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class goe{constructor(){this.changes=new Py(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ja.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?tt.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class moe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class voe{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(n!==null&&Nx(n.mutation,i,gc.empty(),Ss.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,Lr()).next(()=>n))}getLocalViewOfDocuments(e,t,n=Lr()){const i=tg();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,n).next(s=>{let a=U2();return s.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,t){const n=tg();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Lr()))}populateOverlays(e,t,n){const i=[];return n.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{t.set(a,o)})})}computeViews(e,t,n,i){let s=Tf();const a=Dx(),o=function(){return Dx()}();return t.forEach((l,A)=>{const c=n.get(A.key);i.has(A.key)&&(c===void 0||c.mutation instanceof Ym)?s=s.insert(A.key,A):c!==void 0?(a.set(A.key,c.mutation.getFieldMask()),Nx(c.mutation,A,c.mutation.getFieldMask(),Ss.now())):a.set(A.key,gc.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((A,c)=>a.set(A,c)),t.forEach((A,c)=>{var u;return o.set(A,new moe(c,(u=a.get(A))!==null&&u!==void 0?u:null))}),o))}recalculateAndSaveOverlays(e,t){const n=Dx();let i=new yi((a,o)=>a-o),s=Lr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>{for(const o of a)o.keys().forEach(l=>{const A=t.get(l);if(A===null)return;let c=n.get(l)||gc.empty();c=o.applyToLocalView(A,c),n.set(l,c);const u=(i.get(o.batchId)||Lr()).add(l);i=i.insert(o.batchId,u)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),A=l.key,c=l.value,u=lW();c.forEach(h=>{if(!s.has(h)){const f=dW(t.get(h),n.get(h));f!==null&&u.set(h,f),s=s.add(h)}}),a.push(this.documentOverlayCache.saveOverlays(e,A,u))}return tt.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,i){return function(a){return Gt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):nW(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-s.size):tt.resolve(tg());let o=-1,l=s;return a.next(A=>tt.forEach(A,(c,u)=>(o<u.largestBatchId&&(o=u.largestBatchId),s.get(c)?tt.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,A,s)).next(()=>this.computeViews(e,l,A,Lr())).next(c=>({batchId:o,changes:oW(c)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Gt(t)).next(n=>{let i=U2();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const s=t.collectionGroup;let a=U2();return this.indexManager.getCollectionParents(e,s).next(o=>tt.forEach(o,l=>{const A=function(u,h){return new qE(h,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(t,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,A,n,i).next(c=>{c.forEach((u,h)=>{a=a.insert(u,h)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,s,i))).next(a=>{s.forEach((l,A)=>{const c=A.getKey();a.get(c)===null&&(a=a.insert(c,ja.newInvalidDocument(c)))});let o=U2();return a.forEach((l,A)=>{const c=s.get(l);c!==void 0&&Nx(c.mutation,A,gc.empty(),Ss.now()),l4(t,A)&&(o=o.insert(l,A))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class woe{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return tt.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Ru(i.createTime)}}(t)),tt.resolve()}getNamedQuery(e,t){return tt.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:foe(i.bundledQuery),readTime:Ru(i.readTime)}}(t)),tt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yoe{constructor(){this.overlays=new yi(Gt.comparator),this.Ir=new Map}getOverlay(e,t){return tt.resolve(this.overlays.get(t))}getOverlays(e,t){const n=tg();return tt.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((i,s)=>{this.ht(e,t,s)}),tt.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(n)),tt.resolve()}getOverlaysForCollection(e,t,n){const i=tg(),s=t.length+1,a=new Gt(t.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,A=l.getKey();if(!t.isPrefixOf(A.path))break;A.path.length===s&&l.largestBatchId>n&&i.set(l.getKey(),l)}return tt.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let s=new yi((A,c)=>A-c);const a=this.overlays.getIterator();for(;a.hasNext();){const A=a.getNext().value;if(A.getKey().getCollectionGroup()===t&&A.largestBatchId>n){let c=s.get(A.largestBatchId);c===null&&(c=tg(),s=s.insert(A.largestBatchId,c)),c.set(A.getKey(),A)}}const o=tg(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((A,c)=>o.set(A,c)),!(o.size()>=i)););return tt.resolve(o)}ht(e,t,n){const i=this.overlays.get(n.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new jae(t,n));let s=this.Ir.get(t);s===void 0&&(s=Lr(),this.Ir.set(t,s)),this.Ir.set(t,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xoe{constructor(){this.sessionToken=va.EMPTY_BYTE_STRING}getSessionToken(e){return tt.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,tt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(){this.Tr=new fa(Os.Er),this.dr=new fa(Os.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new Os(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.Vr(new Os(e,t))}mr(e,t){e.forEach(n=>this.removeReference(n,t))}gr(e){const t=new Gt(new Xn([])),n=new Os(t,e),i=new Os(t,e+1),s=[];return this.dr.forEachInRange([n,i],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Gt(new Xn([])),n=new Os(t,e),i=new Os(t,e+1);let s=Lr();return this.dr.forEachInRange([n,i],a=>{s=s.add(a.key)}),s}containsKey(e){const t=new Os(e,0),n=this.Tr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class Os{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Gt.comparator(e.key,t.key)||Jr(e.wr,t.wr)}static Ar(e,t){return Jr(e.wr,t.wr)||Gt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _oe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new fa(Os.Er)}checkEmpty(e){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Vae(s,t,n,i);this.mutationQueue.push(a);for(const o of i)this.br=this.br.add(new Os(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return tt.resolve(a)}lookupMutationBatch(e,t){return tt.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.vr(n),s=i<0?0:i;return tt.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Os(t,0),i=new Os(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([n,i],a=>{const o=this.Dr(a.wr);s.push(o)}),tt.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new fa(Jr);return t.forEach(i=>{const s=new Os(i,0),a=new Os(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],o=>{n=n.add(o.wr)})}),tt.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let s=n;Gt.isDocumentKey(s)||(s=s.child(""));const a=new Os(new Gt(s),0);let o=new fa(Jr);return this.br.forEachWhile(l=>{const A=l.key.path;return!!n.isPrefixOf(A)&&(A.length===i&&(o=o.add(l.wr)),!0)},a),tt.resolve(this.Cr(o))}Cr(e){const t=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){mn(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return tt.forEach(t.mutations,i=>{const s=new Os(i.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,t){const n=new Os(t,0),i=this.br.firstAfterOrEqual(n);return tt.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,tt.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class boe{constructor(e){this.Mr=e,this.docs=function(){return new yi(Gt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),s=i?i.size:0,a=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return tt.resolve(n?n.document.mutableCopy():ja.newInvalidDocument(t))}getEntries(e,t){let n=Tf();return t.forEach(i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():ja.newInvalidDocument(i))}),tt.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let s=Tf();const a=t.path,o=new Gt(a.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:A,value:{document:c}}=l.getNext();if(!a.isPrefixOf(A.path))break;A.path.length>a.length+1||sae(iae(c),n)<=0||(i.has(c.key)||l4(t,c))&&(s=s.insert(c.key,c.mutableCopy()))}return tt.resolve(s)}getAllFromCollectionGroup(e,t,n,i){sr()}Or(e,t){return tt.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new Eoe(this)}getSize(e){return tt.resolve(this.size)}}class Eoe extends goe{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),tt.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Coe{constructor(e){this.persistence=e,this.Nr=new Py(t=>TN(t),FN),this.lastRemoteSnapshotVersion=or.min(),this.highestTargetId=0,this.Lr=0,this.Br=new DN,this.targetCount=0,this.kr=vy.Bn()}forEachTarget(e,t){return this.Nr.forEach((n,i)=>t(i)),tt.resolve()}getLastRemoteSnapshotVersion(e){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return tt.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),tt.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new vy(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,tt.resolve()}updateTargetData(e,t){return this.Kn(t),tt.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,tt.resolve()}removeTargets(e,t,n){let i=0;const s=[];return this.Nr.forEach((a,o)=>{o.sequenceNumber<=t&&n.get(o.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),tt.waitFor(s).next(()=>i)}getTargetCount(e){return tt.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return tt.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),tt.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),tt.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),tt.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return tt.resolve(n)}containsKey(e,t){return tt.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Boe{constructor(e,t){this.qr={},this.overlays={},this.Qr=new EN(0),this.Kr=!1,this.Kr=!0,this.$r=new xoe,this.referenceDelegate=e(this),this.Ur=new Coe(this),this.indexManager=new doe,this.remoteDocumentCache=function(i){return new boe(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new hoe(t),this.Gr=new woe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new yoe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new _oe(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){Dt("MemoryPersistence","Starting transaction:",e);const i=new Soe(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,t){return tt.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,t)))}}class Soe extends oae{constructor(e){super(),this.currentSequenceNumber=e}}class NN{constructor(e){this.persistence=e,this.Jr=new DN,this.Yr=null}static Zr(e){return new NN(e)}get Xr(){if(this.Yr)return this.Yr;throw sr()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),tt.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),tt.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),tt.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>n.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.Xr,n=>{const i=Gt.fromPath(n);return this.ei(e,i).next(s=>{s||t.removeEntry(i,or.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(n=>{n?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return tt.or([()=>tt.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=i}static Wi(e,t){let n=Lr(),i=Lr();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new UN(e,t.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Toe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Foe{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return bie()?8:lae(qa())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,i){const s={result:null};return this.Yi(e,t).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(e,t,i,n).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new Toe;return this.Xi(e,t,a).next(o=>{if(s.result=o,this.zi)return this.es(e,t,a,o.size)})}).next(()=>s.result)}es(e,t,n,i){return n.documentReadCount<this.ji?(g2()<=Wr.DEBUG&&Dt("QueryEngine","SDK will not create cache indexes for query:",k1(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),tt.resolve()):(g2()<=Wr.DEBUG&&Dt("QueryEngine","Query:",k1(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(g2()<=Wr.DEBUG&&Dt("QueryEngine","The SDK decides to create cache indexes for query:",k1(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Lu(t))):tt.resolve())}Yi(e,t){if(G6(t))return tt.resolve(null);let n=Lu(t);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=FL(t,null,"F"),n=Lu(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const a=Lr(...s);return this.Ji.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,n).next(l=>{const A=this.ts(t,o);return this.ns(t,A,a,l.readTime)?this.Yi(e,FL(t,null,"F")):this.rs(e,A,t,l)}))})))}Zi(e,t,n,i){return G6(t)||i.isEqual(or.min())?tt.resolve(null):this.Ji.getDocuments(e,n).next(s=>{const a=this.ts(t,s);return this.ns(t,a,n,i)?tt.resolve(null):(g2()<=Wr.DEBUG&&Dt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),k1(t)),this.rs(e,a,t,nae(i,-1)).next(o=>o))})}ts(e,t){let n=new fa(sW(e));return t.forEach((i,s)=>{l4(e,s)&&(n=n.add(s))}),n}ns(e,t,n,i){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,t,n){return g2()<=Wr.DEBUG&&Dt("QueryEngine","Using full collection scan to execute query:",k1(t)),this.Ji.getDocumentsMatchingQuery(e,t,X0.min(),n)}rs(e,t,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(s=>(t.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ioe{constructor(e,t,n,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new yi(Jr),this._s=new Py(s=>TN(s),FN),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new voe(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function koe(r,e,t,n){return new Ioe(r,e,t,n)}async function SW(r,e){const t=ur(r);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let i;return t.mutationQueue.getAllMutationBatches(n).next(s=>(i=s,t.ls(e),t.mutationQueue.getAllMutationBatches(n))).next(s=>{const a=[],o=[];let l=Lr();for(const A of i){a.push(A.batchId);for(const c of A.mutations)l=l.add(c.key)}for(const A of s){o.push(A.batchId);for(const c of A.mutations)l=l.add(c.key)}return t.localDocuments.getDocuments(n,l).next(A=>({hs:A,removedBatchIds:a,addedBatchIds:o}))})})}function Loe(r,e){const t=ur(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),s=t.cs.newChangeBuffer({trackRemovals:!0});return function(o,l,A,c){const u=A.batch,h=u.keys();let f=tt.resolve();return h.forEach(g=>{f=f.next(()=>c.getEntry(l,g)).next(p=>{const v=A.docVersions.get(g);mn(v!==null),p.version.compareTo(v)<0&&(u.applyToRemoteDocument(p,A),p.isValidDocument()&&(p.setReadTime(A.commitVersion),c.addEntry(p)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(l,u))}(t,n,e,s).next(()=>s.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=Lr();for(let A=0;A<o.mutationResults.length;++A)o.mutationResults[A].transformResults.length>0&&(l=l.add(o.batch.mutations[A].key));return l}(e))).next(()=>t.localDocuments.getDocuments(n,i))})}function TW(r){const e=ur(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function Poe(r,e){const t=ur(r),n=e.snapshotVersion;let i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;const o=[];e.targetChanges.forEach((c,u)=>{const h=i.get(u);if(!h)return;o.push(t.Ur.removeMatchingKeys(s,c.removedDocuments,u).next(()=>t.Ur.addMatchingKeys(s,c.addedDocuments,u)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(u)!==null?f=f.withResumeToken(va.EMPTY_BYTE_STRING,or.min()).withLastLimboFreeSnapshotVersion(or.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,n)),i=i.insert(u,f),function(p,v,m){return p.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(h,f,c)&&o.push(t.Ur.updateTargetData(s,f))});let l=Tf(),A=Lr();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&o.push(t.persistence.referenceDelegate.updateLimboDocument(s,c))}),o.push(Roe(s,a,e.documentUpdates).next(c=>{l=c.Ps,A=c.Is})),!n.isEqual(or.min())){const c=t.Ur.getLastRemoteSnapshotVersion(s).next(u=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,n));o.push(c)}return tt.waitFor(o).next(()=>a.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,A)).next(()=>l)}).then(s=>(t.os=i,s))}function Roe(r,e,t){let n=Lr(),i=Lr();return t.forEach(s=>n=n.add(s)),e.getEntries(r,n).next(s=>{let a=Tf();return t.forEach((o,l)=>{const A=s.get(o);l.isFoundDocument()!==A.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(or.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!A.isValidDocument()||l.version.compareTo(A.version)>0||l.version.compareTo(A.version)===0&&A.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):Dt("LocalStore","Ignoring outdated watch update for ",o,". Current version:",A.version," Watch version:",l.version)}),{Ps:a,Is:i}})}function Doe(r,e){const t=ur(r);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function Noe(r,e){const t=ur(r);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return t.Ur.getTargetData(n,e).next(s=>s?(i=s,tt.resolve(i)):t.Ur.allocateTargetId(n).next(a=>(i=new w0(e,a,"TargetPurposeListen",n.currentSequenceNumber),t.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=t.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(n.targetId,n),t._s.set(e,n.targetId)),n})}async function RL(r,e,t){const n=ur(r),i=n.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",s,a=>n.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!$E(a))throw a;Dt("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function i8(r,e,t){const n=ur(r);let i=or.min(),s=Lr();return n.persistence.runTransaction("Execute query","readwrite",a=>function(l,A,c){const u=ur(l),h=u._s.get(c);return h!==void 0?tt.resolve(u.os.get(h)):u.Ur.getTargetData(A,c)}(n,a,Lu(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(a,o.targetId).next(l=>{s=l})}).next(()=>n.ss.getDocumentsMatchingQuery(a,e,t?i:or.min(),t?s:Lr())).next(o=>(Uoe(n,Bae(e),o),{documents:o,Ts:s})))}function Uoe(r,e,t){let n=r.us.get(e)||or.min();t.forEach((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),r.us.set(e,n)}class s8{constructor(){this.activeTargetIds=Lae()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Moe{constructor(){this.so=new s8,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new s8,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ooe{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Dt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Dt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oB=null;function GI(){return oB===null?oB=function(){return 268435456+Math.round(2147483648*Math.random())}():oB++,"0x"+oB.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qoe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hoe{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="WebChannelConnection";class Voe extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+t.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(t,n,i,s,a){const o=GI(),l=this.xo(t,n.toUriEncodedString());Dt("RestConnection",`Sending RPC '${t}' ${o}:`,l,i);const A={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(A,s,a),this.No(t,l,A,i).then(c=>(Dt("RestConnection",`Received RPC '${t}' ${o}: `,c),c),c=>{throw dy("RestConnection",`RPC '${t}' ${o} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(t,n,i,s,a,o){return this.Mo(t,n,i,s,a)}Oo(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ky}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>t[a]=s),i&&i.headers.forEach((s,a)=>t[a]=s)}xo(t,n){const i=Qoe[t];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,i){const s=GI();return new Promise((a,o)=>{const l=new Hz;l.setWithCredentials(!0),l.listenOnce(Vz.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case LS.NO_ERROR:const c=l.getResponseJson();Dt(ba,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),a(c);break;case LS.TIMEOUT:Dt(ba,`RPC '${e}' ${s} timed out`),o(new Lt(Ye.DEADLINE_EXCEEDED,"Request time out"));break;case LS.HTTP_ERROR:const u=l.getStatus();if(Dt(ba,`RPC '${e}' ${s} failed with status:`,u,"response text:",l.getResponseText()),u>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const g=function(v){const m=v.toLowerCase().replace(/_/g,"-");return Object.values(Ye).indexOf(m)>=0?m:Ye.UNKNOWN}(f.status);o(new Lt(g,f.message))}else o(new Lt(Ye.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new Lt(Ye.UNAVAILABLE,"Connection failed."));break;default:sr()}}finally{Dt(ba,`RPC '${e}' ${s} completed.`)}});const A=JSON.stringify(i);Dt(ba,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",A,n,15)})}Bo(e,t,n){const i=GI(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=zz(),o=Kz(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},A=this.longPollingOptions.timeoutSeconds;A!==void 0&&(l.longPollingTimeout=Math.round(1e3*A)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,t,n),l.encodeInitMessageHeaders=!0;const c=s.join("");Dt(ba,`Creating RPC '${e}' stream ${i}: ${c}`,l);const u=a.createWebChannel(c,l);let h=!1,f=!1;const g=new Hoe({Io:v=>{f?Dt(ba,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(Dt(ba,`Opening RPC '${e}' stream ${i} transport.`),u.open(),h=!0),Dt(ba,`RPC '${e}' stream ${i} sending:`,v),u.send(v))},To:()=>u.close()}),p=(v,m,x)=>{v.listen(m,_=>{try{x(_)}catch(S){setTimeout(()=>{throw S},0)}})};return p(u,N2.EventType.OPEN,()=>{f||(Dt(ba,`RPC '${e}' stream ${i} transport opened.`),g.yo())}),p(u,N2.EventType.CLOSE,()=>{f||(f=!0,Dt(ba,`RPC '${e}' stream ${i} transport closed`),g.So())}),p(u,N2.EventType.ERROR,v=>{f||(f=!0,dy(ba,`RPC '${e}' stream ${i} transport errored:`,v),g.So(new Lt(Ye.UNAVAILABLE,"The operation could not be completed")))}),p(u,N2.EventType.MESSAGE,v=>{var m;if(!f){const x=v.data[0];mn(!!x);const _=x,S=_.error||((m=_[0])===null||m===void 0?void 0:m.error);if(S){Dt(ba,`RPC '${e}' stream ${i} received error:`,S);const k=S.status;let R=function(b){const I=is[b];if(I!==void 0)return mW(I)}(k),B=S.message;R===void 0&&(R=Ye.INTERNAL,B="Unknown error status: "+k+" with message "+S.message),f=!0,g.So(new Lt(R,B)),u.close()}else Dt(ba,`RPC '${e}' stream ${i} received:`,x),g.bo(x)}}),p(o,jz.STAT_EVENT,v=>{v.stat===bL.PROXY?Dt(ba,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===bL.NOPROXY&&Dt(ba,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function $I(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(r){return new Jae(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FW{constructor(e,t,n=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=n,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-n);i>0&&Dt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IW{constructor(e,t,n,i,s,a,o,l){this.ui=e,this.Ho=n,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new FW(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===Ye.RESOURCE_EXHAUSTED?(Sf(t.toString()),Sf("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===Ye.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===t&&this.P_(n,i)},n=>{e(()=>{const i=new Lt(Ye.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Dt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(Dt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class joe extends IW{constructor(e,t,n,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,a),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=toe(this.serializer,e),n=function(s){if(!("targetChange"in s))return or.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?or.min():a.readTime?Ru(a.readTime):or.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=PL(this.serializer),t.addTarget=function(s,a){let o;const l=a.target;if(o=SL(l)?{documents:ioe(s,l)}:{query:soe(s,l)._t},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=yW(s,a.resumeToken);const A=IL(s,a.expectedCount);A!==null&&(o.expectedCount=A)}else if(a.snapshotVersion.compareTo(or.min())>0){o.readTime=gT(s,a.snapshotVersion.toTimestamp());const A=IL(s,a.expectedCount);A!==null&&(o.expectedCount=A)}return o}(this.serializer,e);const n=ooe(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=PL(this.serializer),t.removeTarget=e,this.a_(t)}}class Koe extends IW{constructor(e,t,n,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return mn(!!e.streamToken),this.lastStreamToken=e.streamToken,mn(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){mn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=noe(e.writeResults,e.commitTime),n=Ru(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=PL(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>roe(this.serializer,n))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zoe extends class{}{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Lt(Ye.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,kL(t,n),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Lt(Ye.UNKNOWN,s.toString())})}Lo(e,t,n,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Lo(e,kL(t,n),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Lt(Ye.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Woe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Sf(t),this.D_=!1):Dt("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Goe{constructor(e,t,n,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{n.enqueueAndForget(async()=>{Jm(this)&&(Dt("RemoteStore","Restarting streams for network reachability change."),await async function(l){const A=ur(l);A.L_.add(4),await JE(A),A.q_.set("Unknown"),A.L_.delete(4),await f4(A)}(this))})}),this.q_=new Woe(n,i)}}async function f4(r){if(Jm(r))for(const e of r.B_)await e(!0)}async function JE(r){for(const e of r.B_)await e(!1)}function kW(r,e){const t=ur(r);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),HN(t)?QN(t):Ry(t).r_()&&ON(t,e))}function MN(r,e){const t=ur(r),n=Ry(t);t.N_.delete(e),n.r_()&&LW(t,e),t.N_.size===0&&(n.r_()?n.o_():Jm(t)&&t.q_.set("Unknown"))}function ON(r,e){if(r.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(or.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ry(r).A_(e)}function LW(r,e){r.Q_.xe(e),Ry(r).R_(e)}function QN(r){r.Q_=new $ae({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>r.N_.get(e)||null,tt:()=>r.datastore.serializer.databaseId}),Ry(r).start(),r.q_.v_()}function HN(r){return Jm(r)&&!Ry(r).n_()&&r.N_.size>0}function Jm(r){return ur(r).L_.size===0}function PW(r){r.Q_=void 0}async function $oe(r){r.q_.set("Online")}async function qoe(r){r.N_.forEach((e,t)=>{ON(r,e)})}async function Xoe(r,e){PW(r),HN(r)?(r.q_.M_(e),QN(r)):r.q_.set("Unknown")}async function Yoe(r,e,t){if(r.q_.set("Online"),e instanceof wW&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.N_.delete(o),i.Q_.removeTarget(o))}(r,e)}catch(n){Dt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await mT(r,n)}else if(e instanceof DS?r.Q_.Ke(e):e instanceof vW?r.Q_.He(e):r.Q_.We(e),!t.isEqual(or.min()))try{const n=await TW(r.localStore);t.compareTo(n)>=0&&await function(s,a){const o=s.Q_.rt(a);return o.targetChanges.forEach((l,A)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.N_.get(A);c&&s.N_.set(A,c.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,A)=>{const c=s.N_.get(l);if(!c)return;s.N_.set(l,c.withResumeToken(va.EMPTY_BYTE_STRING,c.snapshotVersion)),LW(s,l);const u=new w0(c.target,l,A,c.sequenceNumber);ON(s,u)}),s.remoteSyncer.applyRemoteEvent(o)}(r,t)}catch(n){Dt("RemoteStore","Failed to raise snapshot:",n),await mT(r,n)}}async function mT(r,e,t){if(!$E(e))throw e;r.L_.add(1),await JE(r),r.q_.set("Offline"),t||(t=()=>TW(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{Dt("RemoteStore","Retrying IndexedDB access"),await t(),r.L_.delete(1),await f4(r)})}function RW(r,e){return e().catch(t=>mT(r,t,e))}async function d4(r){const e=ur(r),t=J0(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Joe(e);)try{const i=await Doe(e.localStore,n);if(i===null){e.O_.length===0&&t.o_();break}n=i.batchId,Zoe(e,i)}catch(i){await mT(e,i)}DW(e)&&NW(e)}function Joe(r){return Jm(r)&&r.O_.length<10}function Zoe(r,e){r.O_.push(e);const t=J0(r);t.r_()&&t.V_&&t.m_(e.mutations)}function DW(r){return Jm(r)&&!J0(r).n_()&&r.O_.length>0}function NW(r){J0(r).start()}async function ele(r){J0(r).p_()}async function tle(r){const e=J0(r);for(const t of r.O_)e.m_(t.mutations)}async function rle(r,e,t){const n=r.O_.shift(),i=LN.from(n,e,t);await RW(r,()=>r.remoteSyncer.applySuccessfulWrite(i)),await d4(r)}async function nle(r,e){e&&J0(r).V_&&await async function(n,i){if(function(a){return zae(a)&&a!==Ye.ABORTED}(i.code)){const s=n.O_.shift();J0(n).s_(),await RW(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await d4(n)}}(r,e),DW(r)&&NW(r)}async function o8(r,e){const t=ur(r);t.asyncQueue.verifyOperationInProgress(),Dt("RemoteStore","RemoteStore received new credentials");const n=Jm(t);t.L_.add(3),await JE(t),n&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await f4(t)}async function ile(r,e){const t=ur(r);e?(t.L_.delete(2),await f4(t)):e||(t.L_.add(2),await JE(t),t.q_.set("Unknown"))}function Ry(r){return r.K_||(r.K_=function(t,n,i){const s=ur(t);return s.w_(),new joe(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(r.datastore,r.asyncQueue,{Eo:$oe.bind(null,r),Ro:qoe.bind(null,r),mo:Xoe.bind(null,r),d_:Yoe.bind(null,r)}),r.B_.push(async e=>{e?(r.K_.s_(),HN(r)?QN(r):r.q_.set("Unknown")):(await r.K_.stop(),PW(r))})),r.K_}function J0(r){return r.U_||(r.U_=function(t,n,i){const s=ur(t);return s.w_(),new Koe(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:ele.bind(null,r),mo:nle.bind(null,r),f_:tle.bind(null,r),g_:rle.bind(null,r)}),r.B_.push(async e=>{e?(r.U_.s_(),await d4(r)):(await r.U_.stop(),r.O_.length>0&&(Dt("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))})),r.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,t,n,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new gf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,s){const a=Date.now()+n,o=new VN(e,t,a,i,s);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Lt(Ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jN(r,e){if(Sf("AsyncQueue",`${e}: ${r}`),$E(r))return new Lt(Ye.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Gt.comparator(t.key,n.key):(t,n)=>Gt.comparator(t.key,n.key),this.keyedMap=U2(),this.sortedSet=new yi(this.comparator)}static emptySet(e){return new yv(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof yv)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new yv;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{constructor(){this.W_=new yi(Gt.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(t,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(t):e.type===1&&n.type===2?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):sr():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,n)=>{e.push(n)}),e}}class wy{constructor(e,t,n,i,s,a,o,l,A){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=A}static fromInitialDocuments(e,t,n,i,s){const a=[];return t.forEach(o=>{a.push({type:0,doc:o})}),new wy(e,t,yv.emptySet(t),a,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&o4(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sle{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class ale{constructor(){this.queries=A8(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,n){const i=ur(t),s=i.queries;i.queries=A8(),s.forEach((a,o)=>{for(const l of o.j_)l.onError(n)})})(this,new Lt(Ye.ABORTED,"Firestore shutting down"))}}function A8(){return new Py(r=>iW(r),o4)}async function UW(r,e){const t=ur(r);let n=3;const i=e.query;let s=t.queries.get(i);s?!s.H_()&&e.J_()&&(n=2):(s=new sle,n=e.J_()?0:1);try{switch(n){case 0:s.z_=await t.onListen(i,!0);break;case 1:s.z_=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(a){const o=jN(a,`Initialization of query '${k1(e.query)}' failed`);return void e.onError(o)}t.queries.set(i,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&KN(t)}async function MW(r,e){const t=ur(r),n=e.query;let i=3;const s=t.queries.get(n);if(s){const a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function ole(r,e){const t=ur(r);let n=!1;for(const i of e){const s=i.query,a=t.queries.get(s);if(a){for(const o of a.j_)o.X_(i)&&(n=!0);a.z_=i}}n&&KN(t)}function lle(r,e,t){const n=ur(r),i=n.queries.get(e);if(i)for(const s of i.j_)s.onError(t);n.queries.delete(e)}function KN(r){r.Y_.forEach(e=>{e.next()})}var DL,c8;(c8=DL||(DL={})).ea="default",c8.Cache="cache";class OW{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new wy(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const n=t!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=wy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==DL.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QW{constructor(e){this.key=e}}class HW{constructor(e){this.key=e}}class Ale{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Lr(),this.mutatedKeys=Lr(),this.Aa=sW(e),this.Ra=new yv(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new l8,i=t?t.Ra:this.Ra;let s=t?t.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,A=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,u)=>{const h=i.get(c),f=l4(this.query,u)?u:null,g=!!h&&this.mutatedKeys.has(h.key),p=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let v=!1;h&&f?h.data.isEqual(f.data)?g!==p&&(n.track({type:3,doc:f}),v=!0):this.ga(h,f)||(n.track({type:2,doc:f}),v=!0,(l&&this.Aa(f,l)>0||A&&this.Aa(f,A)<0)&&(o=!0)):!h&&f?(n.track({type:0,doc:f}),v=!0):h&&!f&&(n.track({type:1,doc:h}),v=!0,(l||A)&&(o=!0)),v&&(f?(a=a.add(f),s=p?s.add(c):s.delete(c)):(a=a.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const c=this.query.limitType==="F"?a.last():a.first();a=a.delete(c.key),s=s.delete(c.key),n.track({type:1,doc:c})}return{Ra:a,fa:n,ns:o,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((c,u)=>function(f,g){const p=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return sr()}};return p(f)-p(g)}(c.type,u.type)||this.Aa(c.doc,u.doc)),this.pa(n),i=i!=null&&i;const o=t&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,A=l!==this.Ea;return this.Ea=l,a.length!==0||A?{snapshot:new wy(this.query,e.Ra,s,a,e.mutatedKeys,l===0,A,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new l8,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Lr(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const t=[];return e.forEach(n=>{this.da.has(n)||t.push(new HW(n))}),this.da.forEach(n=>{e.has(n)||t.push(new QW(n))}),t}ba(e){this.Ta=e.Ts,this.da=Lr();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return wy.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class cle{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class ule{constructor(e){this.key=e,this.va=!1}}class hle{constructor(e,t,n,i,s,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new Py(o=>iW(o),o4),this.Ma=new Map,this.xa=new Set,this.Oa=new yi(Gt.comparator),this.Na=new Map,this.La=new DN,this.Ba={},this.ka=new Map,this.qa=vy.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function fle(r,e,t=!0){const n=GW(r);let i;const s=n.Fa.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await VW(n,e,t,!0),i}async function dle(r,e){const t=GW(r);await VW(t,e,!0,!1)}async function VW(r,e,t,n){const i=await Noe(r.localStore,Lu(e)),s=i.targetId,a=r.sharedClientState.addLocalQueryTarget(s,t);let o;return n&&(o=await ple(r,e,s,a==="current",i.resumeToken)),r.isPrimaryClient&&t&&kW(r.remoteStore,i),o}async function ple(r,e,t,n,i){r.Ka=(u,h,f)=>async function(p,v,m,x){let _=v.view.ma(m);_.ns&&(_=await i8(p.localStore,v.query,!1).then(({documents:B})=>v.view.ma(B,_)));const S=x&&x.targetChanges.get(v.targetId),k=x&&x.targetMismatches.get(v.targetId)!=null,R=v.view.applyChanges(_,p.isPrimaryClient,S,k);return h8(p,v.targetId,R.wa),R.snapshot}(r,u,h,f);const s=await i8(r.localStore,e,!0),a=new Ale(e,s.Ts),o=a.ma(s.documents),l=YE.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",i),A=a.applyChanges(o,r.isPrimaryClient,l);h8(r,t,A.wa);const c=new cle(e,t,a);return r.Fa.set(e,c),r.Ma.has(t)?r.Ma.get(t).push(e):r.Ma.set(t,[e]),A.snapshot}async function gle(r,e,t){const n=ur(r),i=n.Fa.get(e),s=n.Ma.get(i.targetId);if(s.length>1)return n.Ma.set(i.targetId,s.filter(a=>!o4(a,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await RL(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),t&&MN(n.remoteStore,i.targetId),NL(n,i.targetId)}).catch(GE)):(NL(n,i.targetId),await RL(n.localStore,i.targetId,!0))}async function mle(r,e){const t=ur(r),n=t.Fa.get(e),i=t.Ma.get(n.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),MN(t.remoteStore,n.targetId))}async function vle(r,e,t){const n=Cle(r);try{const i=await function(a,o){const l=ur(a),A=Ss.now(),c=o.reduce((f,g)=>f.add(g.key),Lr());let u,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let g=Tf(),p=Lr();return l.cs.getEntries(f,c).next(v=>{g=v,g.forEach((m,x)=>{x.isValidDocument()||(p=p.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,g)).next(v=>{u=v;const m=[];for(const x of o){const _=Qae(x,u.get(x.key).overlayedDocument);_!=null&&m.push(new Ym(x.key,_,Xz(_.value.mapValue),Pu.exists(!0)))}return l.mutationQueue.addMutationBatch(f,A,m,o)}).next(v=>{h=v;const m=v.applyToLocalDocumentSet(u,p);return l.documentOverlayCache.saveOverlays(f,v.batchId,m)})}).then(()=>({batchId:h.batchId,changes:oW(u)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(a,o,l){let A=a.Ba[a.currentUser.toKey()];A||(A=new yi(Jr)),A=A.insert(o,l),a.Ba[a.currentUser.toKey()]=A}(n,i.batchId,t),await ZE(n,i.changes),await d4(n.remoteStore)}catch(i){const s=jN(i,"Failed to persist write");t.reject(s)}}async function jW(r,e){const t=ur(r);try{const n=await Poe(t.localStore,e);e.targetChanges.forEach((i,s)=>{const a=t.Na.get(s);a&&(mn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?mn(a.va):i.removedDocuments.size>0&&(mn(a.va),a.va=!1))}),await ZE(t,n,e)}catch(n){await GE(n)}}function u8(r,e,t){const n=ur(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const i=[];n.Fa.forEach((s,a)=>{const o=a.view.Z_(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const l=ur(a);l.onlineState=o;let A=!1;l.queries.forEach((c,u)=>{for(const h of u.j_)h.Z_(o)&&(A=!0)}),A&&KN(l)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function wle(r,e,t){const n=ur(r);n.sharedClientState.updateQueryState(e,"rejected",t);const i=n.Na.get(e),s=i&&i.key;if(s){let a=new yi(Gt.comparator);a=a.insert(s,ja.newNoDocument(s,or.min()));const o=Lr().add(s),l=new u4(or.min(),new Map,new yi(Jr),a,o);await jW(n,l),n.Oa=n.Oa.remove(s),n.Na.delete(e),zN(n)}else await RL(n.localStore,e,!1).then(()=>NL(n,e,t)).catch(GE)}async function yle(r,e){const t=ur(r),n=e.batch.batchId;try{const i=await Loe(t.localStore,e);zW(t,n,null),KW(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await ZE(t,i)}catch(i){await GE(i)}}async function xle(r,e,t){const n=ur(r);try{const i=await function(a,o){const l=ur(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",A=>{let c;return l.mutationQueue.lookupMutationBatch(A,o).next(u=>(mn(u!==null),c=u.keys(),l.mutationQueue.removeMutationBatch(A,u))).next(()=>l.mutationQueue.performConsistencyCheck(A)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(A,c,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(A,c)).next(()=>l.localDocuments.getDocuments(A,c))})}(n.localStore,e);zW(n,e,t),KW(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await ZE(n,i)}catch(i){await GE(i)}}function KW(r,e){(r.ka.get(e)||[]).forEach(t=>{t.resolve()}),r.ka.delete(e)}function zW(r,e,t){const n=ur(r);let i=n.Ba[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function NL(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Ma.get(e))r.Fa.delete(n),t&&r.Ca.$a(n,t);r.Ma.delete(e),r.isPrimaryClient&&r.La.gr(e).forEach(n=>{r.La.containsKey(n)||WW(r,n)})}function WW(r,e){r.xa.delete(e.path.canonicalString());const t=r.Oa.get(e);t!==null&&(MN(r.remoteStore,t),r.Oa=r.Oa.remove(e),r.Na.delete(t),zN(r))}function h8(r,e,t){for(const n of t)n instanceof QW?(r.La.addReference(n.key,e),_le(r,n)):n instanceof HW?(Dt("SyncEngine","Document no longer in limbo: "+n.key),r.La.removeReference(n.key,e),r.La.containsKey(n.key)||WW(r,n.key)):sr()}function _le(r,e){const t=e.key,n=t.path.canonicalString();r.Oa.get(t)||r.xa.has(n)||(Dt("SyncEngine","New document in limbo: "+t),r.xa.add(n),zN(r))}function zN(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const e=r.xa.values().next().value;r.xa.delete(e);const t=new Gt(Xn.fromString(e)),n=r.qa.next();r.Na.set(n,new ule(t)),r.Oa=r.Oa.insert(t,n),kW(r.remoteStore,new w0(Lu(IN(t.path)),n,"TargetPurposeLimboResolution",EN.oe))}}async function ZE(r,e,t){const n=ur(r),i=[],s=[],a=[];n.Fa.isEmpty()||(n.Fa.forEach((o,l)=>{a.push(n.Ka(l,e,t).then(A=>{var c;if((A||t)&&n.isPrimaryClient){const u=A?!A.fromCache:(c=t==null?void 0:t.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;n.sharedClientState.updateQueryState(l.targetId,u?"current":"not-current")}if(A){i.push(A);const u=UN.Wi(l.targetId,A);s.push(u)}}))}),await Promise.all(a),n.Ca.d_(i),await async function(l,A){const c=ur(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>tt.forEach(A,h=>tt.forEach(h.$i,f=>c.persistence.referenceDelegate.addReference(u,h.targetId,f)).next(()=>tt.forEach(h.Ui,f=>c.persistence.referenceDelegate.removeReference(u,h.targetId,f)))))}catch(u){if(!$E(u))throw u;Dt("LocalStore","Failed to update sequence numbers: "+u)}for(const u of A){const h=u.targetId;if(!u.fromCache){const f=c.os.get(h),g=f.snapshotVersion,p=f.withLastLimboFreeSnapshotVersion(g);c.os=c.os.insert(h,p)}}}(n.localStore,s))}async function ble(r,e){const t=ur(r);if(!t.currentUser.isEqual(e)){Dt("SyncEngine","User change. New user:",e.toKey());const n=await SW(t.localStore,e);t.currentUser=e,function(s,a){s.ka.forEach(o=>{o.forEach(l=>{l.reject(new Lt(Ye.CANCELLED,a))})}),s.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await ZE(t,n.hs)}}function Ele(r,e){const t=ur(r),n=t.Na.get(e);if(n&&n.va)return Lr().add(n.key);{let i=Lr();const s=t.Ma.get(e);if(!s)return i;for(const a of s){const o=t.Fa.get(a);i=i.unionWith(o.view.Va)}return i}}function GW(r){const e=ur(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=jW.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ele.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wle.bind(null,e),e.Ca.d_=ole.bind(null,e.eventManager),e.Ca.$a=lle.bind(null,e.eventManager),e}function Cle(r){const e=ur(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yle.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xle.bind(null,e),e}class vT{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=h4(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return koe(this.persistence,new Foe,e.initialUser,this.serializer)}Ga(e){return new Boe(NN.Zr,this.serializer)}Wa(e){return new Moe}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vT.provider={build:()=>new vT};class UL{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>u8(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=ble.bind(null,this.syncEngine),await ile(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ale}()}createDatastore(e){const t=h4(e.databaseInfo.databaseId),n=function(s){return new Voe(s)}(e.databaseInfo);return function(s,a,o,l){return new zoe(s,a,o,l)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,i,s,a,o){return new Goe(n,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,t=>u8(this.syncEngine,t,0),function(){return a8.D()?new a8:new Ooe}())}createSyncEngine(e,t){return function(i,s,a,o,l,A,c){const u=new hle(i,s,a,o,l,A);return c&&(u.Qa=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const s=ur(i);Dt("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await JE(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}UL.provider={build:()=>new UL};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $W{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Sf("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ble{constructor(e,t,n,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=Ma.UNAUTHENTICATED,this.clientId=Gz.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async a=>{Dt("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(n,a=>(Dt("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=jN(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function qI(r,e){r.asyncQueue.verifyOperationInProgress(),Dt("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener(async i=>{n.isEqual(i)||(await SW(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function f8(r,e){r.asyncQueue.verifyOperationInProgress();const t=await Sle(r);Dt("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(n=>o8(e.remoteStore,n)),r.setAppCheckTokenChangeListener((n,i)=>o8(e.remoteStore,i)),r._onlineComponents=e}async function Sle(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Dt("FirestoreClient","Using user provided OfflineComponentProvider");try{await qI(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===Ye.FAILED_PRECONDITION||i.code===Ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;dy("Error using user provided cache. Falling back to memory cache: "+t),await qI(r,new vT)}}else Dt("FirestoreClient","Using default OfflineComponentProvider"),await qI(r,new vT);return r._offlineComponents}async function qW(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Dt("FirestoreClient","Using user provided OnlineComponentProvider"),await f8(r,r._uninitializedComponentsProvider._online)):(Dt("FirestoreClient","Using default OnlineComponentProvider"),await f8(r,new UL))),r._onlineComponents}function Tle(r){return qW(r).then(e=>e.syncEngine)}async function XW(r){const e=await qW(r),t=e.eventManager;return t.onListen=fle.bind(null,e.syncEngine),t.onUnlisten=gle.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=dle.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=mle.bind(null,e.syncEngine),t}function Fle(r,e,t={}){const n=new gf;return r.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,A){const c=new $W({next:h=>{c.Za(),a.enqueueAndForget(()=>MW(s,u));const f=h.docs.has(o);!f&&h.fromCache?A.reject(new Lt(Ye.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&l&&l.source==="server"?A.reject(new Lt(Ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):A.resolve(h)},error:h=>A.reject(h)}),u=new OW(IN(o.path),c,{includeMetadataChanges:!0,_a:!0});return UW(s,u)}(await XW(r),r.asyncQueue,e,t,n)),n.promise}function Ile(r,e,t={}){const n=new gf;return r.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,A){const c=new $W({next:h=>{c.Za(),a.enqueueAndForget(()=>MW(s,u)),h.fromCache&&l.source==="server"?A.reject(new Lt(Ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):A.resolve(h)},error:h=>A.reject(h)}),u=new OW(o,c,{includeMetadataChanges:!0,_a:!0});return UW(s,u)}(await XW(r),r.asyncQueue,e,t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YW(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JW(r,e,t){if(!t)throw new Lt(Ye.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function kle(r,e,t,n){if(e===!0&&n===!0)throw new Lt(Ye.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function p8(r){if(!Gt.isDocumentKey(r))throw new Lt(Ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function g8(r){if(Gt.isDocumentKey(r))throw new Lt(Ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function p4(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":sr()}function Z0(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Lt(Ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=p4(r);throw new Lt(Ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Lt(Ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Lt(Ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kle("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YW((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Lt(Ye.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Lt(Ye.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Lt(Ye.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class g4{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new m8({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Lt(Ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Lt(Ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new m8(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new $se;switch(n.type){case"firstParty":return new Jse(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Lt(Ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=d8.get(t);n&&(Dt("ComponentProvider","Removing Datastore"),d8.delete(t),n.terminate())}(this),Promise.resolve()}}function Lle(r,e,t,n={}){var i;const s=(r=Z0(r,g4))._getSettings(),a=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&dy("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),n.mockUserToken){let o,l;if(typeof n.mockUserToken=="string")o=n.mockUserToken,l=Ma.MOCK_USER;else{o=gie(n.mockUserToken,(i=r._app)===null||i===void 0?void 0:i.options.projectId);const A=n.mockUserToken.sub||n.mockUserToken.user_id;if(!A)throw new Lt(Ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ma(A)}r._authCredentials=new qse(new Wz(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Dy(this.firestore,e,this._query)}}class el{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new V0(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new el(this.firestore,e,this._key)}}class V0 extends Dy{constructor(e,t,n){super(e,t,IN(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new el(this.firestore,null,new Gt(e))}withConverter(e){return new V0(this.firestore,e,this._path)}}function ZW(r,e,...t){if(r=_o(r),JW("collection","path",e),r instanceof g4){const n=Xn.fromString(e,...t);return g8(n),new V0(r,null,n)}{if(!(r instanceof el||r instanceof V0))throw new Lt(Ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Xn.fromString(e,...t));return g8(n),new V0(r.firestore,null,n)}}function WN(r,e,...t){if(r=_o(r),arguments.length===1&&(e=Gz.newId()),JW("doc","path",e),r instanceof g4){const n=Xn.fromString(e,...t);return p8(n),new el(r,null,new Gt(n))}{if(!(r instanceof el||r instanceof V0))throw new Lt(Ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Xn.fromString(e,...t));return p8(n),new el(r.firestore,r instanceof V0?r.converter:null,new Gt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new FW(this,"async_queue_retry"),this.Vu=()=>{const n=$I();n&&Dt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const t=$I();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=$I();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new gf;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!$E(e))throw e;Dt("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(a){let o=a.message||"";return a.stack&&(o=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),o}(n);throw Sf("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const i=VN.createAndSchedule(this,e,t,n,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&sr()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class eC extends g4{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new v8,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new v8(e),this._firestoreClient=void 0,await e}}}function Ple(r,e){const t=typeof r=="object"?r:s4(),n=typeof r=="string"?r:"(default)",i=i4(t,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=Lz("firestore");s&&Lle(i,...s)}return i}function GN(r){if(r._terminated)throw new Lt(Ye.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Rle(r),r._firestoreClient}function Rle(r){var e,t,n;const i=r._freezeSettings(),s=function(o,l,A,c){return new uae(o,l,A,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,YW(c.experimentalLongPollingOptions),c.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,i);r._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),r._firestoreClient=new Ble(r._authCredentials,r._appCheckCredentials,r._queue,s,r._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yy(va.fromBase64String(e))}catch(t){throw new Lt(Ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new yy(va.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Lt(Ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Aa(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Lt(Ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Lt(Ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Jr(this._lat,e._lat)||Jr(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dle=/^__.*__$/;class Nle{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new Ym(e,this.data,this.fieldMask,t,this.fieldTransforms):new XE(e,this.data,t,this.fieldTransforms)}}function eG(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw sr()}}class JN{constructor(e,t,n,i,s,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new JN(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return wT(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(eG(this.Cu)&&Dle.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Ule{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||h4(e)}Qu(e,t,n,i=!1){return new JN({Cu:e,methodName:t,qu:n,path:Aa.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ZN(r){const e=r._freezeSettings(),t=h4(r._databaseId);return new Ule(r._databaseId,!!e.ignoreUndefinedProperties,t)}function tG(r,e,t,n,i,s={}){const a=r.Qu(s.merge||s.mergeFields?2:0,e,t,i);iG("Data must be an object, but it was:",a,n);const o=rG(n,a);let l,A;if(s.merge)l=new gc(a.fieldMask),A=a.fieldTransforms;else if(s.mergeFields){const c=[];for(const u of s.mergeFields){const h=Ole(e,u,t);if(!a.contains(h))throw new Lt(Ye.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Hle(c,h)||c.push(h)}l=new gc(c),A=a.fieldTransforms.filter(u=>l.covers(u.field))}else l=null,A=a.fieldTransforms;return new Nle(new CA(o),l,A)}class eU extends qN{_toFieldTransform(e){return new Nae(e.path,new F_)}isEqual(e){return e instanceof eU}}function Mle(r,e,t,n=!1){return tU(t,r.Qu(n?4:3,e))}function tU(r,e){if(nG(r=_o(r)))return iG("Unsupported field value:",e,r),rG(r,e);if(r instanceof qN)return function(n,i){if(!eG(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const s=[];let a=0;for(const o of n){let l=tU(o,i.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}}(r,e)}return function(n,i){if((n=_o(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Pae(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Ss.fromDate(n);return{timestampValue:gT(i.serializer,s)}}if(n instanceof Ss){const s=new Ss(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:gT(i.serializer,s)}}if(n instanceof XN)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof yy)return{bytesValue:yW(i.serializer,n._byteString)};if(n instanceof el){const s=i.databaseId,a=n.firestore._databaseId;if(!a.isEqual(s))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:RN(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof YN)return function(a,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw o.Bu("VectorValues must only contain numeric values.");return kN(o.serializer,l)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${p4(n)}`)}(r,e)}function rG(r,e){const t={};return $z(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ly(r,(n,i)=>{const s=tU(i,e.Mu(n));s!=null&&(t[n]=s)}),{mapValue:{fields:t}}}function nG(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ss||r instanceof XN||r instanceof yy||r instanceof el||r instanceof qN||r instanceof YN)}function iG(r,e,t){if(!nG(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const n=p4(t);throw n==="an object"?e.Bu(r+" a custom object"):e.Bu(r+" "+n)}}function Ole(r,e,t){if((e=_o(e))instanceof $N)return e._internalPath;if(typeof e=="string")return sG(r,e);throw wT("Field path arguments must be of type string or ",r,!1,void 0,t)}const Qle=new RegExp("[~\\*/\\[\\]]");function sG(r,e,t){if(e.search(Qle)>=0)throw wT(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new $N(...e.split("."))._internalPath}catch{throw wT(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function wT(r,e,t,n,i){const s=n&&!n.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;t&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${n}`),a&&(l+=` in document ${i}`),l+=")"),new Lt(Ye.INVALID_ARGUMENT,o+r+l)}function Hle(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aG{constructor(e,t,n,i,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new el(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Vle(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(rU("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Vle extends aG{data(){return super.data()}}function rU(r,e){return typeof e=="string"?sG(r,e):e instanceof $N?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jle(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Lt(Ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nU{}class Kle extends nU{}function oG(r,e,...t){let n=[];e instanceof nU&&n.push(e),n=n.concat(t),function(s){const a=s.filter(l=>l instanceof iU).length,o=s.filter(l=>l instanceof m4).length;if(a>1||a>0&&o>0)throw new Lt(Ye.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)r=i._apply(r);return r}class m4 extends Kle{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new m4(e,t,n)}_apply(e){const t=this._parse(e);return lG(e._query,t),new Dy(e.firestore,e.converter,TL(e._query,t))}_parse(e){const t=ZN(e.firestore);return function(s,a,o,l,A,c,u){let h;if(A.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Lt(Ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){y8(u,c);const f=[];for(const g of u)f.push(w8(l,s,g));h={arrayValue:{values:f}}}else h=w8(l,s,u)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||y8(u,c),h=Mle(o,a,u,c==="in"||c==="not-in");return cs.create(A,c,h)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function yT(r,e,t){const n=e,i=rU("where",r);return m4._create(i,n,t)}class iU extends nU{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new iU(e,t)}_parse(e){const t=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return t.length===1?t[0]:Bc.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let a=i;const o=s.getFlattenedFilters();for(const l of o)lG(a,l),a=TL(a,l)}(e._query,t),new Dy(e.firestore,e.converter,TL(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function w8(r,e,t){if(typeof(t=_o(t))=="string"){if(t==="")throw new Lt(Ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nW(e)&&t.indexOf("/")!==-1)throw new Lt(Ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(Xn.fromString(t));if(!Gt.isDocumentKey(n))throw new Lt(Ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return H6(r,new Gt(n))}if(t instanceof el)return H6(r,t._key);throw new Lt(Ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${p4(t)}.`)}function y8(r,e){if(!Array.isArray(r)||r.length===0)throw new Lt(Ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lG(r,e){const t=function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(r.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Lt(Ye.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Lt(Ye.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class zle{convertValue(e,t="none"){switch(Um(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Nm(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw sr()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Ly(e,(i,s)=>{n[i]=this.convertValue(s,t)}),n}convertVectorValue(e){var t,n,i;const s=(i=(n=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(a=>Gi(a.doubleValue));return new YN(s)}convertGeoPoint(e){return new XN(Gi(e.latitude),Gi(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=BN(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(B_(e));default:return null}}convertTimestamp(e){const t=Y0(e);return new Ss(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Xn.fromString(e);mn(BW(n));const i=new S_(n.get(1),n.get(3)),s=new Gt(n.popFirst(5));return i.isEqual(t)||Sf(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AG(r,e,t){let n;return n=r?r.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cG extends aG{constructor(e,t,n,i,s,a){super(e,t,n,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new NS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(rU("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class NS extends cG{data(e={}){return super.data(e)}}class Wle{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new O2(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new NS(this._firestore,this._userDataWriter,n.key,n,new O2(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Lt(Ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const l=new NS(i._firestore,i._userDataWriter,o.doc.key,o.doc,new O2(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new NS(i._firestore,i._userDataWriter,o.doc.key,o.doc,new O2(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let A=-1,c=-1;return o.type!==0&&(A=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),c=a.indexOf(o.doc.key)),{type:Gle(o.type),doc:l,oldIndex:A,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Gle(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return sr()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uG(r){r=Z0(r,el);const e=Z0(r.firestore,eC);return Fle(GN(e),r._key).then(t=>Xle(e,r,t))}class hG extends zle{constructor(e){super(),this.firestore=e}convertBytes(e){return new yy(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new el(this.firestore,null,t)}}function fG(r){r=Z0(r,Dy);const e=Z0(r.firestore,eC),t=GN(e),n=new hG(e);return jle(r._query),Ile(t,r._query).then(i=>new Wle(e,n,r,i))}function $le(r,e,t){r=Z0(r,el);const n=Z0(r.firestore,eC),i=AG(r.converter,e);return dG(n,[tG(ZN(n),"setDoc",r._key,i,r.converter!==null,t).toMutation(r._key,Pu.none())])}function qle(r,e){const t=Z0(r.firestore,eC),n=WN(r),i=AG(r.converter,e);return dG(t,[tG(ZN(r.firestore),"addDoc",n._key,i,r.converter!==null,{}).toMutation(n._key,Pu.exists(!1))]).then(()=>n)}function dG(r,e){return function(n,i){const s=new gf;return n.asyncQueue.enqueueAndForget(async()=>vle(await Tle(n),i,s)),s.promise}(GN(r),e)}function Xle(r,e,t){const n=t.docs.get(e._key),i=new hG(r);return new cG(r,i,e._key,n,new O2(t.hasPendingWrites,t.fromCache),e.converter)}function pG(){return new eU("serverTimestamp")}(function(e,t=!0){(function(i){ky=i})(Iy),Rm(new Vse("firestore",(n,{instanceIdentifier:i,options:s})=>{const a=n.getProvider("app").getImmediate(),o=new eC(new Xse(n.getProvider("auth-internal")),new eae(n.getProvider("app-check-internal")),function(A,c){if(!Object.prototype.hasOwnProperty.apply(A.options,["projectId"]))throw new Lt(Ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new S_(A.options.projectId,c)}(a,i),a);return s=Object.assign({useFetchStreams:t},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),ku(N6,"4.7.3",e),ku(N6,"4.7.3","esm2017")})();var Yle="firebase",Jle="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ku(Yle,Jle,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pn;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pn||(Pn={}));const Zle={debug:Pn.DEBUG,verbose:Pn.VERBOSE,info:Pn.INFO,warn:Pn.WARN,error:Pn.ERROR,silent:Pn.SILENT},eAe=Pn.INFO,tAe={[Pn.DEBUG]:"log",[Pn.VERBOSE]:"log",[Pn.INFO]:"info",[Pn.WARN]:"warn",[Pn.ERROR]:"error"},rAe=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),i=tAe[e];if(i)console[i](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let nAe=class{constructor(e){this.name=e,this._logLevel=eAe,this._logHandler=rAe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Zle[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pn.DEBUG,...e),this._logHandler(this,Pn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pn.VERBOSE,...e),this._logHandler(this,Pn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pn.INFO,...e),this._logHandler(this,Pn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pn.WARN,...e),this._logHandler(this,Pn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pn.ERROR,...e),this._logHandler(this,Pn.ERROR,...e)}};function sU(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}let x8=class{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};function gG(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iAe=gG,mG=new zE("auth","Firebase",gG());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT=new nAe("@firebase/auth");function sAe(r,...e){xT.logLevel<=Pn.WARN&&xT.warn(`Auth (${Iy}): ${r}`,...e)}function US(r,...e){xT.logLevel<=Pn.ERROR&&xT.error(`Auth (${Iy}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(r,...e){throw aU(r,...e)}function Du(r,...e){return aU(r,...e)}function vG(r,e,t){const n=Object.assign(Object.assign({},iAe()),{[e]:t});return new zE("auth","Firebase",n).create(e,{appName:r.name})}function j0(r){return vG(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function aU(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return mG.create(r,...e)}function ir(r,e,...t){if(!r)throw aU(e,...t)}function of(r){const e="INTERNAL ASSERTION FAILED: "+r;throw US(e),new Error(e)}function If(r,e){r||of(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ML(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function aAe(){return _8()==="http:"||_8()==="https:"}function _8(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oAe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aAe()||yie()||"connection"in navigator)?navigator.onLine:!0}function lAe(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,t){this.shortDelay=e,this.longDelay=t,If(t>e,"Short delay should be less than long delay!"),this.isMobile=mie()||xie()}get(){return oAe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oU(r,e){If(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wG{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;of("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;of("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;of("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AAe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cAe=new tC(3e4,6e4);function v4(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Ny(r,e,t,n,i={}){return yG(r,i,async()=>{let s={},a={};n&&(e==="GET"?a=n:s={body:JSON.stringify(n)});const o=WE(Object.assign({key:r.config.apiKey},a)).slice(1),l=await r._getAdditionalHeaders();l["Content-Type"]="application/json",r.languageCode&&(l["X-Firebase-Locale"]=r.languageCode);const A=Object.assign({method:e,headers:l},s);return wie()||(A.referrerPolicy="no-referrer"),wG.fetch()(_G(r,r.config.apiHost,t,o),A)})}async function yG(r,e,t){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},AAe),e);try{const i=new uAe(r),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw lB(r,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,A]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw lB(r,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw lB(r,"email-already-in-use",a);if(l==="USER_DISABLED")throw lB(r,"user-disabled",a);const c=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(A)throw vG(r,c,A);Ff(r,c)}}catch(i){if(i instanceof Vu)throw i;Ff(r,"network-request-failed",{message:String(i)})}}async function xG(r,e,t,n,i={}){const s=await Ny(r,e,t,n,i);return"mfaPendingCredential"in s&&Ff(r,"multi-factor-auth-required",{_serverResponse:s}),s}function _G(r,e,t,n){const i=`${e}${t}?${n}`;return r.config.emulator?oU(r.config,i):`${r.config.apiScheme}://${i}`}class uAe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(Du(this.auth,"network-request-failed")),cAe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function lB(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const i=Du(r,e,n);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hAe(r,e){return Ny(r,"POST","/v1/accounts:delete",e)}async function bG(r,e){return Ny(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fAe(r,e=!1){const t=_o(r),n=await t.getIdToken(e),i=lU(n);ir(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:Ux(XI(i.auth_time)),issuedAtTime:Ux(XI(i.iat)),expirationTime:Ux(XI(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function XI(r){return Number(r)*1e3}function lU(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return US("JWT malformed, contained fewer than 3 sections"),null;try{const i=Iz(t);return i?JSON.parse(i):(US("Failed to decode base64 JWT payload"),null)}catch(i){return US("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function b8(r){const e=lU(r);return ir(e,"internal-error"),ir(typeof e.exp<"u","internal-error"),ir(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L_(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof Vu&&dAe(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function dAe({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pAe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ux(this.lastLoginAt),this.creationTime=Ux(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _T(r){var e;const t=r.auth,n=await r.getIdToken(),i=await L_(r,bG(t,{idToken:n}));ir(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];r._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?EG(s.providerUserInfo):[],o=mAe(r.providerData,a),l=r.isAnonymous,A=!(r.email&&s.passwordHash)&&!(o!=null&&o.length),c=l?A:!1,u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new OL(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(r,u)}async function gAe(r){const e=_o(r);await _T(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mAe(r,e){return[...r.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function EG(r){return r.map(e=>{var{providerId:t}=e,n=sU(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vAe(r,e){const t=await yG(r,{},async()=>{const n=WE({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=r.config,a=_G(r,i,"/v1/token",`key=${s}`),o=await r._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",wG.fetch()(a,{method:"POST",headers:o,body:n})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function wAe(r,e){return Ny(r,"POST","/v2/accounts:revokeToken",v4(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ir(e.idToken,"internal-error"),ir(typeof e.idToken<"u","internal-error"),ir(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):b8(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ir(e.length!==0,"internal-error");const t=b8(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ir(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:s}=await vAe(e,t);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:s}=t,a=new xv;return n&&(ir(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),i&&(ir(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(ir(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xv,this.toJSON())}_performRefresh(){return of("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(r,e){ir(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class lf{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,s=sU(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pAe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new OL(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await L_(this,this.stsTokenManager.getToken(this.auth,e));return ir(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return fAe(this,e)}reload(){return gAe(this)}_assign(e){this!==e&&(ir(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new lf(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ir(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await _T(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(af(this.auth.app))return Promise.reject(j0(this.auth));const e=await this.getIdToken();return await L_(this,hAe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,s,a,o,l,A,c;const u=(n=t.displayName)!==null&&n!==void 0?n:void 0,h=(i=t.email)!==null&&i!==void 0?i:void 0,f=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,g=(a=t.photoURL)!==null&&a!==void 0?a:void 0,p=(o=t.tenantId)!==null&&o!==void 0?o:void 0,v=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,m=(A=t.createdAt)!==null&&A!==void 0?A:void 0,x=(c=t.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:_,emailVerified:S,isAnonymous:k,providerData:R,stsTokenManager:B}=t;ir(_&&B,e,"internal-error");const E=xv.fromJSON(this.name,B);ir(typeof _=="string",e,"internal-error"),sd(u,e.name),sd(h,e.name),ir(typeof S=="boolean",e,"internal-error"),ir(typeof k=="boolean",e,"internal-error"),sd(f,e.name),sd(g,e.name),sd(p,e.name),sd(v,e.name),sd(m,e.name),sd(x,e.name);const b=new lf({uid:_,auth:e,email:h,emailVerified:S,displayName:u,isAnonymous:k,photoURL:g,phoneNumber:f,tenantId:p,stsTokenManager:E,createdAt:m,lastLoginAt:x});return R&&Array.isArray(R)&&(b.providerData=R.map(I=>Object.assign({},I))),v&&(b._redirectEventId=v),b}static async _fromIdTokenResponse(e,t,n=!1){const i=new xv;i.updateFromServerResponse(t);const s=new lf({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await _T(s),s}static async _fromGetAccountInfoResponse(e,t,n){const i=t.users[0];ir(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?EG(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new xv;o.updateFromIdToken(n);const l=new lf({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),A={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new OL(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,A),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E8=new Map;function Af(r){If(r instanceof Function,"Expected a class definition");let e=E8.get(r);return e?(If(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,E8.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CG{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}CG.type="NONE";const C8=CG;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(r,e,t){return`firebase:${r}:${e}:${t}`}class _v{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=MS(this.userKey,i.apiKey,s),this.fullPersistenceKey=MS("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?lf._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new _v(Af(C8),e,n);const i=(await Promise.all(t.map(async A=>{if(await A._isAvailable())return A}))).filter(A=>A);let s=i[0]||Af(C8);const a=MS(n,e.config.apiKey,e.name);let o=null;for(const A of t)try{const c=await A._get(a);if(c){const u=lf._fromJSON(e,c);A!==s&&(o=u),s=A;break}}catch{}const l=i.filter(A=>A._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new _v(s,e,n):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(t.map(async A=>{if(A!==s)try{await A._remove(a)}catch{}})),new _v(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B8(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FG(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(BG(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kG(e))return"Blackberry";if(LG(e))return"Webos";if(SG(e))return"Safari";if((e.includes("chrome/")||TG(e))&&!e.includes("edge/"))return"Chrome";if(IG(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function BG(r=qa()){return/firefox\//i.test(r)}function SG(r=qa()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TG(r=qa()){return/crios\//i.test(r)}function FG(r=qa()){return/iemobile/i.test(r)}function IG(r=qa()){return/android/i.test(r)}function kG(r=qa()){return/blackberry/i.test(r)}function LG(r=qa()){return/webos/i.test(r)}function AU(r=qa()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function yAe(r=qa()){var e;return AU(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function xAe(){return _ie()&&document.documentMode===10}function PG(r=qa()){return AU(r)||IG(r)||LG(r)||kG(r)||/windows phone/i.test(r)||FG(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RG(r,e=[]){let t;switch(r){case"Browser":t=B8(qa());break;case"Worker":t=`${B8(qa())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Iy}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Ae{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bAe(r,e={}){return Ny(r,"GET","/v2/passwordPolicy",v4(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EAe=6;class CAe{constructor(e){var t,n,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=a.minPasswordLength)!==null&&t!==void 0?t:EAe,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,i,s,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BAe{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new S8(this),this.idTokenSubscription=new S8(this),this.beforeStateQueue=new _Ae(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mG,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Af(t)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await _v.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await bG(this,{idToken:e}),n=await lf._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(af(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ir(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await _T(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lAe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(af(this.app))return Promise.reject(j0(this));const t=e?_o(e):null;return t&&ir(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ir(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return af(this.app)?Promise.reject(j0(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return af(this.app)?Promise.reject(j0(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Af(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bAe(this),t=new CAe(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new zE("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await wAe(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Af(e)||this._popupRedirectResolver;ir(t,this,"argument-error"),this.redirectPersistenceManager=await _v.create(this,[Af(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(ir(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,n,i);return()=>{a=!0,l()}}else{const l=e.addObserver(t);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ir(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RG(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&sAe(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function w4(r){return _o(r)}class S8{constructor(e){this.auth=e,this.observer=null,this.addObserver=Iie(t=>this.observer=t)}get next(){return ir(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cU={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SAe(r){cU=r}function TAe(r){return cU.loadJS(r)}function FAe(){return cU.gapiScript}function IAe(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kAe(r,e){const t=i4(r,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(cT(s,e??{}))return i;Ff(i,"already-initialized")}return t.initialize({options:e})}function LAe(r,e){const t=(e==null?void 0:e.persistence)||[],n=(Array.isArray(t)?t:[t]).map(Af);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function PAe(r,e,t){const n=w4(r);ir(n._canInitEmulator,n,"emulator-config-failed"),ir(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=DG(e),{host:a,port:o}=RAe(e),l=o===null?"":`:${o}`;n.config.emulator={url:`${s}//${a}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),DAe()}function DG(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function RAe(r){const e=DG(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:T8(n.substr(s.length+1))}}else{const[s,a]=n.split(":");return{host:s,port:T8(a)}}}function T8(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function DAe(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NG{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return of("not implemented")}_getIdTokenResponse(e){return of("not implemented")}_linkToIdToken(e,t){return of("not implemented")}_getReauthenticationResolver(e){return of("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bv(r,e){return xG(r,"POST","/v1/accounts:signInWithIdp",v4(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NAe="http://localhost";class Mm extends NG{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Mm(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ff("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,s=sU(t,["providerId","signInMethod"]);if(!n||!i)return null;const a=new Mm(n,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const t=this.buildRequest();return bv(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,bv(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,bv(e,t)}buildRequest(){const e={requestUri:NAe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=WE(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UG{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC extends UG{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md extends rC{constructor(){super("facebook.com")}static credential(e){return Mm._fromParams({providerId:md.PROVIDER_ID,signInMethod:md.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return md.credentialFromTaggedObject(e)}static credentialFromError(e){return md.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return md.credential(e.oauthAccessToken)}catch{return null}}}md.FACEBOOK_SIGN_IN_METHOD="facebook.com";md.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd extends rC{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Mm._fromParams({providerId:vd.PROVIDER_ID,signInMethod:vd.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return vd.credentialFromTaggedObject(e)}static credentialFromError(e){return vd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return vd.credential(t,n)}catch{return null}}}vd.GOOGLE_SIGN_IN_METHOD="google.com";vd.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd extends rC{constructor(){super("github.com")}static credential(e){return Mm._fromParams({providerId:wd.PROVIDER_ID,signInMethod:wd.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wd.credentialFromTaggedObject(e)}static credentialFromError(e){return wd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wd.credential(e.oauthAccessToken)}catch{return null}}}wd.GITHUB_SIGN_IN_METHOD="github.com";wd.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd extends rC{constructor(){super("twitter.com")}static credential(e,t){return Mm._fromParams({providerId:yd.PROVIDER_ID,signInMethod:yd.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return yd.credentialFromTaggedObject(e)}static credentialFromError(e){return yd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return yd.credential(t,n)}catch{return null}}}yd.TWITTER_SIGN_IN_METHOD="twitter.com";yd.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UAe(r,e){return xG(r,"POST","/v1/accounts:signUp",v4(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const s=await lf._fromIdTokenResponse(e,n,i),a=F8(n);return new ep({user:s,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=F8(n);return new ep({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function F8(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MAe(r){var e;if(af(r.app))return Promise.reject(j0(r));const t=w4(r);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new ep({user:t.currentUser,providerId:null,operationType:"signIn"});const n=await UAe(t,{returnSecureToken:!0}),i=await ep._fromIdTokenResponse(t,"signIn",n,!0);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT extends Vu{constructor(e,t,n,i){var s;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,bT.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new bT(e,t,n,i)}}function MG(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?bT._fromErrorAndOperation(r,s,e,n):s})}async function OAe(r,e,t=!1){const n=await L_(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return ep._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QAe(r,e,t=!1){const{auth:n}=r;if(af(n.app))return Promise.reject(j0(n));const i="reauthenticate";try{const s=await L_(r,MG(n,i,e,r),t);ir(s.idToken,n,"internal-error");const a=lU(s.idToken);ir(a,n,"internal-error");const{sub:o}=a;return ir(r.uid===o,n,"user-mismatch"),ep._forOperation(r,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ff(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HAe(r,e,t=!1){if(af(r.app))return Promise.reject(j0(r));const n="signIn",i=await MG(r,n,e),s=await ep._fromIdTokenResponse(r,n,i);return t||await r._updateCurrentUser(s.user),s}function VAe(r,e,t,n){return _o(r).onIdTokenChanged(e,t,n)}function jAe(r,e,t){return _o(r).beforeAuthStateChanged(e,t)}const ET="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OG{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ET,"1"),this.storage.removeItem(ET),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KAe=1e3,zAe=10;class QG extends OG{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PG(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const n=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(n);!t&&this.localCache[n]===a||this.notifyListeners(n,a)},s=this.storage.getItem(n);xAe()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,zAe):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},KAe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}QG.type="LOCAL";const WAe=QG;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HG extends OG{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}HG.type="SESSION";const VG=HG;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GAe(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const n=new y4(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:s}=t.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(a).map(async A=>A(t.origin,s)),l=await GAe(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}y4.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uU(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Ae{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const A=uU("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},n);a={messageChannel:i,onMessage(u){const h=u;if(h.data.eventId===A)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:A,data:t},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(){return window}function qAe(r){Nu().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jG(){return typeof Nu().WorkerGlobalScope<"u"&&typeof Nu().importScripts=="function"}async function XAe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YAe(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function JAe(){return jG()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KG="firebaseLocalStorageDb",ZAe=1,CT="firebaseLocalStorage",zG="fbase_key";class nC{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function x4(r,e){return r.transaction([CT],e?"readwrite":"readonly").objectStore(CT)}function ece(){const r=indexedDB.deleteDatabase(KG);return new nC(r).toPromise()}function QL(){const r=indexedDB.open(KG,ZAe);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(CT,{keyPath:zG})}catch(i){t(i)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(CT)?e(n):(n.close(),await ece(),e(await QL()))})})}async function I8(r,e,t){const n=x4(r,!0).put({[zG]:e,value:t});return new nC(n).toPromise()}async function tce(r,e){const t=x4(r,!1).get(e),n=await new nC(t).toPromise();return n===void 0?null:n.value}function k8(r,e){const t=x4(r,!0).delete(e);return new nC(t).toPromise()}const rce=800,nce=3;class WG{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await QL(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>nce)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jG()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=y4._getInstance(JAe()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await XAe(),!this.activeServiceWorker)return;this.sender=new $Ae(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((t=n[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||YAe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await QL();return await I8(e,ET,"1"),await k8(e,ET),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>I8(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>tce(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>k8(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=x4(i,!1).getAll();return new nC(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rce)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WG.type="LOCAL";const ice=WG;new tC(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sce(r,e){return e?Af(e):(ir(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU extends NG{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bv(e,this._buildIdpRequest())}_linkToIdToken(e,t){return bv(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return bv(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ace(r){return HAe(r.auth,new hU(r),r.bypassAuthState)}function oce(r){const{auth:e,user:t}=r;return ir(t,e,"internal-error"),QAe(t,new hU(r),r.bypassAuthState)}async function lce(r){const{auth:e,user:t}=r;return ir(t,e,"internal-error"),OAe(t,new hU(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GG{constructor(e,t,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:t,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(A){this.reject(A)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ace;case"linkViaPopup":case"linkViaRedirect":return lce;case"reauthViaPopup":case"reauthViaRedirect":return oce;default:Ff(this.auth,"internal-error")}}resolve(e){If(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){If(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ace=new tC(2e3,1e4);class sv extends GG{constructor(e,t,n,i,s){super(e,t,i,s),this.provider=n,this.authWindow=null,this.pollId=null,sv.currentPopupAction&&sv.currentPopupAction.cancel(),sv.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ir(e,this.auth,"internal-error"),e}async onExecution(){If(this.filter.length===1,"Popup operations only handle one event");const e=uU();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Du(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Du(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sv.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if(!((n=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Du(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Ace.get())};e()}}sv.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cce="pendingRedirect",OS=new Map;class uce extends GG{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=OS.get(this.auth._key());if(!e){try{const n=await hce(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}OS.set(this.auth._key(),e)}return this.bypassAuthState||OS.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hce(r,e){const t=pce(e),n=dce(r);if(!await n._isAvailable())return!1;const i=await n._get(t)==="true";return await n._remove(t),i}function fce(r,e){OS.set(r._key(),e)}function dce(r){return Af(r._redirectPersistence)}function pce(r){return MS(cce,r.config.apiKey,r.name)}async function gce(r,e,t=!1){if(af(r.app))return Promise.reject(j0(r));const n=w4(r),i=sce(n,e),a=await new uce(n,i,t).execute();return a&&!t&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mce=10*60*1e3;class vce{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wce(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!$G(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";t.onError(Du(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mce&&this.cachedEventUids.clear(),this.cachedEventUids.has(L8(e))}saveEventToCache(e){this.cachedEventUids.add(L8(e)),this.lastProcessedEventTime=Date.now()}}function L8(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function $G({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function wce(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $G(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yce(r,e={}){return Ny(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xce=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_ce=/^https?/;async function bce(r){if(r.config.emulator)return;const{authorizedDomains:e}=await yce(r);for(const t of e)try{if(Ece(t))return}catch{}Ff(r,"unauthorized-domain")}function Ece(r){const e=ML(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const a=new URL(r);return a.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===n}if(!_ce.test(t))return!1;if(xce.test(r))return n===r;const i=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cce=new tC(3e4,6e4);function P8(){const r=Nu().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function Bce(r){return new Promise((e,t)=>{var n,i,s;function a(){P8(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{P8(),t(Du(r,"network-request-failed"))},timeout:Cce.get()})}if(!((i=(n=Nu().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Nu().gapi)===null||s===void 0)&&s.load)a();else{const o=IAe("iframefcb");return Nu()[o]=()=>{gapi.load?a():t(Du(r,"network-request-failed"))},TAe(`${FAe()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw QS=null,e})}let QS=null;function Sce(r){return QS=QS||Bce(r),QS}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tce=new tC(5e3,15e3),Fce="__/auth/iframe",Ice="emulator/auth/iframe",kce={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Lce=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pce(r){const e=r.config;ir(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?oU(e,Ice):`https://${r.config.authDomain}/${Fce}`,n={apiKey:e.apiKey,appName:r.name,v:Iy},i=Lce.get(r.config.apiHost);i&&(n.eid=i);const s=r._getFrameworks();return s.length&&(n.fw=s.join(",")),`${t}?${WE(n).slice(1)}`}async function Rce(r){const e=await Sce(r),t=Nu().gapi;return ir(t,r,"internal-error"),e.open({where:document.body,url:Pce(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kce,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const a=Du(r,"network-request-failed"),o=Nu().setTimeout(()=>{s(a)},Tce.get());function l(){Nu().clearTimeout(o),i(n)}n.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dce={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Nce=500,Uce=600,Mce="_blank",Oce="http://localhost";class R8{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Qce(r,e,t,n=Nce,i=Uce){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Dce),{width:n.toString(),height:i.toString(),top:s,left:a}),A=qa().toLowerCase();t&&(o=TG(A)?Mce:t),BG(A)&&(e=e||Oce,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,g])=>`${h}${f}=${g},`,"");if(yAe(A)&&o!=="_self")return Hce(e||"",o),new R8(null);const u=window.open(e||"",o,c);ir(u,r,"popup-blocked");try{u.focus()}catch{}return new R8(u)}function Hce(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vce="__/auth/handler",jce="emulator/auth/handler",Kce=encodeURIComponent("fac");async function D8(r,e,t,n,i,s){ir(r.config.authDomain,r,"auth-domain-config-required"),ir(r.config.apiKey,r,"invalid-api-key");const a={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:Iy,eventId:i};if(e instanceof UG){e.setDefaultLanguage(r.languageCode),a.providerId=e.providerId||"",Fie(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,u]of Object.entries({}))a[c]=u}if(e instanceof rC){const c=e.getScopes().filter(u=>u!=="");c.length>0&&(a.scopes=c.join(","))}r.tenantId&&(a.tid=r.tenantId);const o=a;for(const c of Object.keys(o))o[c]===void 0&&delete o[c];const l=await r._getAppCheckToken(),A=l?`#${Kce}=${encodeURIComponent(l)}`:"";return`${zce(r)}?${WE(o).slice(1)}${A}`}function zce({config:r}){return r.emulator?oU(r,jce):`https://${r.authDomain}/${Vce}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI="webStorageSupport";class Wce{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VG,this._completeRedirectFn=gce,this._overrideRedirectResult=fce}async _openPopup(e,t,n,i){var s;If((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await D8(e,t,n,ML(),i);return Qce(e,a,uU())}async _openRedirect(e,t,n,i){await this._originValidation(e);const s=await D8(e,t,n,ML(),i);return qAe(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(If(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Rce(e),n=new vce(e);return t.register("authEvent",i=>(ir(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(YI,{type:YI},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[YI];a!==void 0&&t(!!a),Ff(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=bce(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return PG()||SG()||AU()}}const Gce=Wce;var N8="@firebase/auth",U8="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ce{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ir(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qce(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Xce(r){Rm(new x8("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=n.options;ir(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:a,authDomain:o,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RG(r)},A=new BAe(n,i,s,l);return LAe(A,t),A},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Rm(new x8("auth-internal",e=>{const t=w4(e.getProvider("auth").getImmediate());return(n=>new $ce(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ku(N8,U8,qce(r)),ku(N8,U8,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yce=5*60,Jce=Rz("authIdTokenMaxAge")||Yce;let M8=null;const Zce=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Jce)return;const i=t==null?void 0:t.token;M8!==i&&(M8=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function eue(r=s4()){const e=i4(r,"auth");if(e.isInitialized())return e.getImmediate();const t=kAe(r,{popupRedirectResolver:Gce,persistence:[ice,WAe,VG]}),n=Rz("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const a=Zce(s.toString());jAe(t,a,()=>a(t.currentUser)),VAe(t,o=>a(o))}}const i=kz("auth");return i&&PAe(t,`http://${i}`),t}function tue(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}SAe({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=i=>{const s=Du("internal-error");s.customData=i,t(s)},n.type="text/javascript",n.charset="UTF-8",tue().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Xce("Browser");const qG={apiKey:"AIzaSyCE4e23T5uHUg8HevbOV0Opl-upgUeIG-g",authDomain:"spra-v1.firebaseapp.com",projectId:"spra-v1",storageBucket:"spra-v1.firebasestorage.app",messagingSenderId:"735477807243",appId:"1:735477807243:web:6c7fdd347a498780997c8e"},rue=qG.appId;let BT;Lse().length===0?BT=Uz(qG):BT=s4(rue);const AB=eue(BT),iC=Ple(BT),nue=async(r,e)=>{try{const t=ZW(iC,"teachers"),n=oG(t,yT("name","==",r),yT("phone","==",e)),i=await fG(n);if(i.empty)return console.log("   "),null;const s=i.docs[0];return{id:s.id,...s.data()}}catch(t){throw console.error("  Firestore :",t),new Error("   .")}},iue=async(r,e)=>{try{const t=ZW(iC,"teachers"),n=oG(t,yT("name","==",r),yT("phone","==",e));if(!(await fG(n)).empty)throw new Error("     .");const s=await qle(t,{name:r,phone:e,createdAt:pG()});return console.log("  :",s.id),{id:s.id,name:r,phone:e}}catch(t){throw console.error("  Firestore :",t),t}},sue=async()=>{const r=WN(iC,"academyReports","sharedData");try{const e=await uG(r);return e.exists()?(console.log("   :",e.data().testData),e.data().testData||{}):(console.log("  .   ."),{})}catch(e){throw console.error("   Firestore :",e),new Error("    : "+e.message)}},aue=async r=>{const e=WN(iC,"academyReports","sharedData");try{const t=await uG(e),n=t.exists()?t.data().testData:{},i=JSON.parse(JSON.stringify(n));Object.keys(r).forEach(s=>{const a=Object.keys(r[s])[0];i[s]||(i[s]={}),i[s][a]=r[s][a]}),await $le(e,{testData:i,lastUpdated:pG()}),console.log("     ")}catch(t){throw console.error("   Firestore :",t),new Error("    : "+t.message)}};var XG={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(r,e){((t,n)=>{r.exports=n()})(Pte,function t(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},i,s=!n.document&&!!n.postMessage,a=n.IS_PAPA_WORKER||!1,o={},l=0,A={};function c(E){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(b){var I=k(b);I.chunkSize=parseInt(I.chunkSize),b.step||b.chunk||(I.chunkSize=null),this._handle=new p(I),(this._handle.streamer=this)._config=I}).call(this,E),this.parseChunk=function(b,I){var T=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<T){let D=this._config.newline;D||(F=this._config.quoteChar||'"',D=this._handle.guessLineEndings(b,F)),b=[...b.split(D).slice(T)].join(D)}this.isFirstChunk&&B(this._config.beforeFirstChunk)&&(F=this._config.beforeFirstChunk(b))!==void 0&&(b=F),this.isFirstChunk=!1,this._halted=!1;var T=this._partialLine+b,F=(this._partialLine="",this._handle.parse(T,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(b=F.meta.cursor,T=(this._finished||(this._partialLine=T.substring(b-this._baseIndex),this._baseIndex=b),F&&F.data&&(this._rowCount+=F.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),a)n.postMessage({results:F,workerId:A.WORKER_ID,finished:T});else if(B(this._config.chunk)&&!I){if(this._config.chunk(F,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=F=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(F.data),this._completeResults.errors=this._completeResults.errors.concat(F.errors),this._completeResults.meta=F.meta),this._completed||!T||!B(this._config.complete)||F&&F.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),T||F&&F.meta.paused||this._nextChunk(),F}this._halted=!0},this._sendError=function(b){B(this._config.error)?this._config.error(b):a&&this._config.error&&n.postMessage({workerId:A.WORKER_ID,error:b,finished:!1})}}function u(E){var b;(E=E||{}).chunkSize||(E.chunkSize=A.RemoteChunkSize),c.call(this,E),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(I){this._input=I,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(b=new XMLHttpRequest,this._config.withCredentials&&(b.withCredentials=this._config.withCredentials),s||(b.onload=R(this._chunkLoaded,this),b.onerror=R(this._chunkError,this)),b.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var I,T=this._config.downloadRequestHeaders;for(I in T)b.setRequestHeader(I,T[I])}var F;this._config.chunkSize&&(F=this._start+this._config.chunkSize-1,b.setRequestHeader("Range","bytes="+this._start+"-"+F));try{b.send(this._config.downloadRequestBody)}catch(D){this._chunkError(D.message)}s&&b.status===0&&this._chunkError()}},this._chunkLoaded=function(){b.readyState===4&&(b.status<200||400<=b.status?this._chunkError():(this._start+=this._config.chunkSize||b.responseText.length,this._finished=!this._config.chunkSize||this._start>=(I=>(I=I.getResponseHeader("Content-Range"))!==null?parseInt(I.substring(I.lastIndexOf("/")+1)):-1)(b),this.parseChunk(b.responseText)))},this._chunkError=function(I){I=b.statusText||I,this._sendError(new Error(I))}}function h(E){(E=E||{}).chunkSize||(E.chunkSize=A.LocalChunkSize),c.call(this,E);var b,I,T=typeof FileReader<"u";this.stream=function(F){this._input=F,I=F.slice||F.webkitSlice||F.mozSlice,T?((b=new FileReader).onload=R(this._chunkLoaded,this),b.onerror=R(this._chunkError,this)):b=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var F=this._input,D=(this._config.chunkSize&&(D=Math.min(this._start+this._config.chunkSize,this._input.size),F=I.call(F,this._start,D)),b.readAsText(F,this._config.encoding));T||this._chunkLoaded({target:{result:D}})},this._chunkLoaded=function(F){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(F.target.result)},this._chunkError=function(){this._sendError(b.error)}}function f(E){var b;c.call(this,E=E||{}),this.stream=function(I){return b=I,this._nextChunk()},this._nextChunk=function(){var I,T;if(!this._finished)return I=this._config.chunkSize,b=I?(T=b.substring(0,I),b.substring(I)):(T=b,""),this._finished=!b,this.parseChunk(T)}}function g(E){c.call(this,E=E||{});var b=[],I=!0,T=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(F){this._input=F,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){T&&b.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),b.length?this.parseChunk(b.shift()):I=!0},this._streamData=R(function(F){try{b.push(typeof F=="string"?F:F.toString(this._config.encoding)),I&&(I=!1,this._checkIsFinished(),this.parseChunk(b.shift()))}catch(D){this._streamError(D)}},this),this._streamError=R(function(F){this._streamCleanUp(),this._sendError(F)},this),this._streamEnd=R(function(){this._streamCleanUp(),T=!0,this._streamData("")},this),this._streamCleanUp=R(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function p(E){var b,I,T,F,D=Math.pow(2,53),q=-D,ie=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,oe=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,te=this,re=0,W=0,pe=!1,_e=!1,P=[],O={data:[],errors:[],meta:{}};function H(xe){return E.skipEmptyLines==="greedy"?xe.join("").trim()==="":xe.length===1&&xe[0].length===0}function K(){if(O&&T&&(he("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+A.DefaultDelimiter+"'"),T=!1),E.skipEmptyLines&&(O.data=O.data.filter(function(Fe){return!H(Fe)})),Z()){let Fe=function(ne,We){B(E.transformHeader)&&(ne=E.transformHeader(ne,We)),P.push(ne)};if(O)if(Array.isArray(O.data[0])){for(var xe=0;Z()&&xe<O.data.length;xe++)O.data[xe].forEach(Fe);O.data.splice(0,1)}else O.data.forEach(Fe)}function ye(Fe,ne){for(var We=E.header?{}:[],Se=0;Se<Fe.length;Se++){var ce=Se,qe=Fe[Se],qe=((Ve,$e)=>(He=>(E.dynamicTypingFunction&&E.dynamicTyping[He]===void 0&&(E.dynamicTyping[He]=E.dynamicTypingFunction(He)),(E.dynamicTyping[He]||E.dynamicTyping)===!0))(Ve)?$e==="true"||$e==="TRUE"||$e!=="false"&&$e!=="FALSE"&&((He=>{if(ie.test(He)&&(He=parseFloat(He),q<He&&He<D))return 1})($e)?parseFloat($e):oe.test($e)?new Date($e):$e===""?null:$e):$e)(ce=E.header?Se>=P.length?"__parsed_extra":P[Se]:ce,qe=E.transform?E.transform(qe,ce):qe);ce==="__parsed_extra"?(We[ce]=We[ce]||[],We[ce].push(qe)):We[ce]=qe}return E.header&&(Se>P.length?he("FieldMismatch","TooManyFields","Too many fields: expected "+P.length+" fields but parsed "+Se,W+ne):Se<P.length&&he("FieldMismatch","TooFewFields","Too few fields: expected "+P.length+" fields but parsed "+Se,W+ne)),We}var be;O&&(E.header||E.dynamicTyping||E.transform)&&(be=1,!O.data.length||Array.isArray(O.data[0])?(O.data=O.data.map(ye),be=O.data.length):O.data=ye(O.data,0),E.header&&O.meta&&(O.meta.fields=P),W+=be)}function Z(){return E.header&&P.length===0}function he(xe,ye,be,Fe){xe={type:xe,code:ye,message:be},Fe!==void 0&&(xe.row=Fe),O.errors.push(xe)}B(E.step)&&(F=E.step,E.step=function(xe){O=xe,Z()?K():(K(),O.data.length!==0&&(re+=xe.data.length,E.preview&&re>E.preview?I.abort():(O.data=O.data[0],F(O,te))))}),this.parse=function(xe,ye,be){var Fe=E.quoteChar||'"',Fe=(E.newline||(E.newline=this.guessLineEndings(xe,Fe)),T=!1,E.delimiter?B(E.delimiter)&&(E.delimiter=E.delimiter(xe),O.meta.delimiter=E.delimiter):((Fe=((ne,We,Se,ce,qe)=>{var Ve,$e,He,ht;qe=qe||[",","	","|",";",A.RECORD_SEP,A.UNIT_SEP];for(var nt=0;nt<qe.length;nt++){for(var Nt,gt=qe[nt],Bt=0,bt=0,lt=0,Ft=(He=void 0,new m({comments:ce,delimiter:gt,newline:We,preview:10}).parse(ne)),mt=0;mt<Ft.data.length;mt++)Se&&H(Ft.data[mt])?lt++:(Nt=Ft.data[mt].length,bt+=Nt,He===void 0?He=Nt:0<Nt&&(Bt+=Math.abs(Nt-He),He=Nt));0<Ft.data.length&&(bt/=Ft.data.length-lt),($e===void 0||Bt<=$e)&&(ht===void 0||ht<bt)&&1.99<bt&&($e=Bt,Ve=gt,ht=bt)}return{successful:!!(E.delimiter=Ve),bestDelimiter:Ve}})(xe,E.newline,E.skipEmptyLines,E.comments,E.delimitersToGuess)).successful?E.delimiter=Fe.bestDelimiter:(T=!0,E.delimiter=A.DefaultDelimiter),O.meta.delimiter=E.delimiter),k(E));return E.preview&&E.header&&Fe.preview++,b=xe,I=new m(Fe),O=I.parse(b,ye,be),K(),pe?{meta:{paused:!0}}:O||{meta:{paused:!1}}},this.paused=function(){return pe},this.pause=function(){pe=!0,I.abort(),b=B(E.chunk)?"":b.substring(I.getCharIndex())},this.resume=function(){te.streamer._halted?(pe=!1,te.streamer.parseChunk(b,!0)):setTimeout(te.resume,3)},this.aborted=function(){return _e},this.abort=function(){_e=!0,I.abort(),O.meta.aborted=!0,B(E.complete)&&E.complete(O),b=""},this.guessLineEndings=function(ne,Fe){ne=ne.substring(0,1048576);var Fe=new RegExp(v(Fe)+"([^]*?)"+v(Fe),"gm"),be=(ne=ne.replace(Fe,"")).split("\r"),Fe=ne.split(`
`),ne=1<Fe.length&&Fe[0].length<be[0].length;if(be.length===1||ne)return`
`;for(var We=0,Se=0;Se<be.length;Se++)be[Se][0]===`
`&&We++;return We>=be.length/2?`\r
`:"\r"}}function v(E){return E.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(E){var b=(E=E||{}).delimiter,I=E.newline,T=E.comments,F=E.step,D=E.preview,q=E.fastMode,ie=null,oe=!1,te=E.quoteChar==null?'"':E.quoteChar,re=te;if(E.escapeChar!==void 0&&(re=E.escapeChar),(typeof b!="string"||-1<A.BAD_DELIMITERS.indexOf(b))&&(b=","),T===b)throw new Error("Comment character same as delimiter");T===!0?T="#":(typeof T!="string"||-1<A.BAD_DELIMITERS.indexOf(T))&&(T=!1),I!==`
`&&I!=="\r"&&I!==`\r
`&&(I=`
`);var W=0,pe=!1;this.parse=function(_e,P,O){if(typeof _e!="string")throw new Error("Input must be a string");var H=_e.length,K=b.length,Z=I.length,he=T.length,xe=B(F),ye=[],be=[],Fe=[],ne=W=0;if(!_e)return Bt();if(q||q!==!1&&_e.indexOf(te)===-1){for(var We=_e.split(I),Se=0;Se<We.length;Se++){if(Fe=We[Se],W+=Fe.length,Se!==We.length-1)W+=I.length;else if(O)return Bt();if(!T||Fe.substring(0,he)!==T){if(xe){if(ye=[],ht(Fe.split(b)),bt(),pe)return Bt()}else ht(Fe.split(b));if(D&&D<=Se)return ye=ye.slice(0,D),Bt(!0)}}return Bt()}for(var ce=_e.indexOf(b,W),qe=_e.indexOf(I,W),Ve=new RegExp(v(re)+v(te),"g"),$e=_e.indexOf(te,W);;)if(_e[W]===te)for($e=W,W++;;){if(($e=_e.indexOf(te,$e+1))===-1)return O||be.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ye.length,index:W}),Nt();if($e===H-1)return Nt(_e.substring(W,$e).replace(Ve,te));if(te===re&&_e[$e+1]===re)$e++;else if(te===re||$e===0||_e[$e-1]!==re){ce!==-1&&ce<$e+1&&(ce=_e.indexOf(b,$e+1));var He=nt((qe=qe!==-1&&qe<$e+1?_e.indexOf(I,$e+1):qe)===-1?ce:Math.min(ce,qe));if(_e.substr($e+1+He,K)===b){Fe.push(_e.substring(W,$e).replace(Ve,te)),_e[W=$e+1+He+K]!==te&&($e=_e.indexOf(te,W)),ce=_e.indexOf(b,W),qe=_e.indexOf(I,W);break}if(He=nt(qe),_e.substring($e+1+He,$e+1+He+Z)===I){if(Fe.push(_e.substring(W,$e).replace(Ve,te)),gt($e+1+He+Z),ce=_e.indexOf(b,W),$e=_e.indexOf(te,W),xe&&(bt(),pe))return Bt();if(D&&ye.length>=D)return Bt(!0);break}be.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ye.length,index:W}),$e++}}else if(T&&Fe.length===0&&_e.substring(W,W+he)===T){if(qe===-1)return Bt();W=qe+Z,qe=_e.indexOf(I,W),ce=_e.indexOf(b,W)}else if(ce!==-1&&(ce<qe||qe===-1))Fe.push(_e.substring(W,ce)),W=ce+K,ce=_e.indexOf(b,W);else{if(qe===-1)break;if(Fe.push(_e.substring(W,qe)),gt(qe+Z),xe&&(bt(),pe))return Bt();if(D&&ye.length>=D)return Bt(!0)}return Nt();function ht(lt){ye.push(lt),ne=W}function nt(lt){var Ft=0;return Ft=lt!==-1&&(lt=_e.substring($e+1,lt))&&lt.trim()===""?lt.length:Ft}function Nt(lt){return O||(lt===void 0&&(lt=_e.substring(W)),Fe.push(lt),W=H,ht(Fe),xe&&bt()),Bt()}function gt(lt){W=lt,ht(Fe),Fe=[],qe=_e.indexOf(I,W)}function Bt(lt){if(E.header&&!P&&ye.length&&!oe){var Ft=ye[0],mt=Object.create(null),vt=new Set(Ft);let at=!1;for(let ct=0;ct<Ft.length;ct++){let jt=Ft[ct];if(mt[jt=B(E.transformHeader)?E.transformHeader(jt,ct):jt]){let Qt,wt=mt[jt];for(;Qt=jt+"_"+wt,wt++,vt.has(Qt););vt.add(Qt),Ft[ct]=Qt,mt[jt]++,at=!0,(ie=ie===null?{}:ie)[Qt]=jt}else mt[jt]=1,Ft[ct]=jt;vt.add(jt)}at&&console.warn("Duplicate headers found and renamed."),oe=!0}return{data:ye,errors:be,meta:{delimiter:b,linebreak:I,aborted:pe,truncated:!!lt,cursor:ne+(P||0),renamedHeaders:ie}}}function bt(){F(Bt()),ye=[],be=[]}},this.abort=function(){pe=!0},this.getCharIndex=function(){return W}}function x(E){var b=E.data,I=o[b.workerId],T=!1;if(b.error)I.userError(b.error,b.file);else if(b.results&&b.results.data){var F={abort:function(){T=!0,_(b.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:S,resume:S};if(B(I.userStep)){for(var D=0;D<b.results.data.length&&(I.userStep({data:b.results.data[D],errors:b.results.errors,meta:b.results.meta},F),!T);D++);delete b.results}else B(I.userChunk)&&(I.userChunk(b.results,F,b.file),delete b.results)}b.finished&&!T&&_(b.workerId,b.results)}function _(E,b){var I=o[E];B(I.userComplete)&&I.userComplete(b),I.terminate(),delete o[E]}function S(){throw new Error("Not implemented.")}function k(E){if(typeof E!="object"||E===null)return E;var b,I=Array.isArray(E)?[]:{};for(b in E)I[b]=k(E[b]);return I}function R(E,b){return function(){E.apply(b,arguments)}}function B(E){return typeof E=="function"}return A.parse=function(E,b){var I=(b=b||{}).dynamicTyping||!1;if(B(I)&&(b.dynamicTypingFunction=I,I={}),b.dynamicTyping=I,b.transform=!!B(b.transform)&&b.transform,!b.worker||!A.WORKERS_SUPPORTED)return I=null,A.NODE_STREAM_INPUT,typeof E=="string"?(E=(T=>T.charCodeAt(0)!==65279?T:T.slice(1))(E),I=new(b.download?u:f)(b)):E.readable===!0&&B(E.read)&&B(E.on)?I=new g(b):(n.File&&E instanceof File||E instanceof Object)&&(I=new h(b)),I.stream(E);(I=(()=>{var T;return!!A.WORKERS_SUPPORTED&&(T=(()=>{var F=n.URL||n.webkitURL||null,D=t.toString();return A.BLOB_URL||(A.BLOB_URL=F.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",D,")();"],{type:"text/javascript"})))})(),(T=new n.Worker(T)).onmessage=x,T.id=l++,o[T.id]=T)})()).userStep=b.step,I.userChunk=b.chunk,I.userComplete=b.complete,I.userError=b.error,b.step=B(b.step),b.chunk=B(b.chunk),b.complete=B(b.complete),b.error=B(b.error),delete b.worker,I.postMessage({input:E,config:b,workerId:I.id})},A.unparse=function(E,b){var I=!1,T=!0,F=",",D=`\r
`,q='"',ie=q+q,oe=!1,te=null,re=!1,W=((()=>{if(typeof b=="object"){if(typeof b.delimiter!="string"||A.BAD_DELIMITERS.filter(function(P){return b.delimiter.indexOf(P)!==-1}).length||(F=b.delimiter),typeof b.quotes!="boolean"&&typeof b.quotes!="function"&&!Array.isArray(b.quotes)||(I=b.quotes),typeof b.skipEmptyLines!="boolean"&&typeof b.skipEmptyLines!="string"||(oe=b.skipEmptyLines),typeof b.newline=="string"&&(D=b.newline),typeof b.quoteChar=="string"&&(q=b.quoteChar),typeof b.header=="boolean"&&(T=b.header),Array.isArray(b.columns)){if(b.columns.length===0)throw new Error("Option columns is empty");te=b.columns}b.escapeChar!==void 0&&(ie=b.escapeChar+q),b.escapeFormulae instanceof RegExp?re=b.escapeFormulae:typeof b.escapeFormulae=="boolean"&&b.escapeFormulae&&(re=/^[=+\-@\t\r].*$/)}})(),new RegExp(v(q),"g"));if(typeof E=="string"&&(E=JSON.parse(E)),Array.isArray(E)){if(!E.length||Array.isArray(E[0]))return pe(null,E,oe);if(typeof E[0]=="object")return pe(te||Object.keys(E[0]),E,oe)}else if(typeof E=="object")return typeof E.data=="string"&&(E.data=JSON.parse(E.data)),Array.isArray(E.data)&&(E.fields||(E.fields=E.meta&&E.meta.fields||te),E.fields||(E.fields=Array.isArray(E.data[0])?E.fields:typeof E.data[0]=="object"?Object.keys(E.data[0]):[]),Array.isArray(E.data[0])||typeof E.data[0]=="object"||(E.data=[E.data])),pe(E.fields||[],E.data||[],oe);throw new Error("Unable to serialize unrecognized input");function pe(P,O,H){var K="",Z=(typeof P=="string"&&(P=JSON.parse(P)),typeof O=="string"&&(O=JSON.parse(O)),Array.isArray(P)&&0<P.length),he=!Array.isArray(O[0]);if(Z&&T){for(var xe=0;xe<P.length;xe++)0<xe&&(K+=F),K+=_e(P[xe],xe);0<O.length&&(K+=D)}for(var ye=0;ye<O.length;ye++){var be=(Z?P:O[ye]).length,Fe=!1,ne=Z?Object.keys(O[ye]).length===0:O[ye].length===0;if(H&&!Z&&(Fe=H==="greedy"?O[ye].join("").trim()==="":O[ye].length===1&&O[ye][0].length===0),H==="greedy"&&Z){for(var We=[],Se=0;Se<be;Se++){var ce=he?P[Se]:Se;We.push(O[ye][ce])}Fe=We.join("").trim()===""}if(!Fe){for(var qe=0;qe<be;qe++){0<qe&&!ne&&(K+=F);var Ve=Z&&he?P[qe]:qe;K+=_e(O[ye][Ve],qe)}ye<O.length-1&&(!H||0<be&&!ne)&&(K+=D)}}return K}function _e(P,O){var H,K;return P==null?"":P.constructor===Date?JSON.stringify(P).slice(1,25):(K=!1,re&&typeof P=="string"&&re.test(P)&&(P="'"+P,K=!0),H=P.toString().replace(W,ie),(K=K||I===!0||typeof I=="function"&&I(P,O)||Array.isArray(I)&&I[O]||((Z,he)=>{for(var xe=0;xe<he.length;xe++)if(-1<Z.indexOf(he[xe]))return!0;return!1})(H,A.BAD_DELIMITERS)||-1<H.indexOf(F)||H.charAt(0)===" "||H.charAt(H.length-1)===" ")?q+H+q:H)}},A.RECORD_SEP="",A.UNIT_SEP="",A.BYTE_ORDER_MARK="\uFEFF",A.BAD_DELIMITERS=["\r",`
`,'"',A.BYTE_ORDER_MARK],A.WORKERS_SUPPORTED=!s&&!!n.Worker,A.NODE_STREAM_INPUT=1,A.LocalChunkSize=10485760,A.RemoteChunkSize=5242880,A.DefaultDelimiter=",",A.Parser=m,A.ParserHandle=p,A.NetworkStreamer=u,A.FileStreamer=h,A.StringStreamer=f,A.ReadableStreamStreamer=g,n.jQuery&&((i=n.jQuery).fn.parse=function(E){var b=E.config||{},I=[];return this.each(function(D){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var q=0;q<this.files.length;q++)I.push({file:this.files[q],inputElem:this,instanceConfig:i.extend({},b)})}),T(),this;function T(){if(I.length===0)B(E.complete)&&E.complete();else{var D,q,ie,oe,te=I[0];if(B(E.before)){var re=E.before(te.file,te.inputElem);if(typeof re=="object"){if(re.action==="abort")return D="AbortError",q=te.file,ie=te.inputElem,oe=re.reason,void(B(E.error)&&E.error({name:D},q,ie,oe));if(re.action==="skip")return void F();typeof re.config=="object"&&(te.instanceConfig=i.extend(te.instanceConfig,re.config))}else if(re==="skip")return void F()}var W=te.instanceConfig.complete;te.instanceConfig.complete=function(pe){B(W)&&W(pe,te.file,te.inputElem),F()},A.parse(te.file,te.instanceConfig)}}function F(){I.splice(0,1),T()}}),a&&(n.onmessage=function(E){E=E.data,A.WORKER_ID===void 0&&E&&(A.WORKER_ID=E.workerId),typeof E.input=="string"?n.postMessage({workerId:A.WORKER_ID,results:A.parse(E.input,E.config),finished:!0}):(n.File&&E.input instanceof File||E.input instanceof Object)&&(E=A.parse(E.input,E.config))&&n.postMessage({workerId:A.WORKER_ID,results:E,finished:!0})}),(u.prototype=Object.create(c.prototype)).constructor=u,(h.prototype=Object.create(c.prototype)).constructor=h,(f.prototype=Object.create(f.prototype)).constructor=f,(g.prototype=Object.create(c.prototype)).constructor=g,A})})(XG);var oue=XG.exports;const lue=dj(oue);/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var YG=1252,Aue=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],fU={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},dU=function(r){Aue.indexOf(r)!=-1&&(YG=fU[0]=r)};function cue(){dU(1252)}var mc=function(r){dU(r)};function JG(){mc(1200),cue()}function O8(r){for(var e=[],t=0,n=r.length;t<n;++t)e[t]=r.charCodeAt(t);return e}function uue(r){for(var e=[],t=0;t<r.length>>1;++t)e[t]=String.fromCharCode(r.charCodeAt(2*t)+(r.charCodeAt(2*t+1)<<8));return e.join("")}function ZG(r){for(var e=[],t=0;t<r.length>>1;++t)e[t]=String.fromCharCode(r.charCodeAt(2*t+1)+(r.charCodeAt(2*t)<<8));return e.join("")}var Q2=function(r){var e=r.charCodeAt(0),t=r.charCodeAt(1);return e==255&&t==254?uue(r.slice(2)):e==254&&t==255?ZG(r.slice(2)):e==65279?r.slice(1):r},cB=function(e){return String.fromCharCode(e)},Q8=function(e){return String.fromCharCode(e)},P_,y0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function H8(r){for(var e="",t=0,n=0,i=0,s=0,a=0,o=0,l=0,A=0;A<r.length;)t=r.charCodeAt(A++),s=t>>2,n=r.charCodeAt(A++),a=(t&3)<<4|n>>4,i=r.charCodeAt(A++),o=(n&15)<<2|i>>6,l=i&63,isNaN(n)?o=l=64:isNaN(i)&&(l=64),e+=y0.charAt(s)+y0.charAt(a)+y0.charAt(o)+y0.charAt(l);return e}function $l(r){var e="",t=0,n=0,i=0,s=0,a=0,o=0,l=0;r=r.replace(/[^\w\+\/\=]/g,"");for(var A=0;A<r.length;)s=y0.indexOf(r.charAt(A++)),a=y0.indexOf(r.charAt(A++)),t=s<<2|a>>4,e+=String.fromCharCode(t),o=y0.indexOf(r.charAt(A++)),n=(a&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(n)),l=y0.indexOf(r.charAt(A++)),i=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var Mr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Zm=function(){if(typeof Buffer<"u"){var r=!Buffer.from;if(!r)try{Buffer.from("foo","utf8")}catch{r=!0}return r?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function tp(r){return Mr?Buffer.alloc?Buffer.alloc(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}function V8(r){return Mr?Buffer.allocUnsafe?Buffer.allocUnsafe(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}var pc=function(e){return Mr?Zm(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function e1(r){if(Array.isArray(r))return r.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],t=0;t<r.length;++t)e[t]=String.fromCharCode(r[t]);return e.join("")}function pU(r){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(r instanceof ArrayBuffer)return pU(new Uint8Array(r));for(var e=new Array(r.length),t=0;t<r.length;++t)e[t]=r[t];return e}var xd=Mr?function(r){return Buffer.concat(r.map(function(e){return Buffer.isBuffer(e)?e:Zm(e)}))}:function(r){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<r.length;++e)t+=r[e].length;var n=new Uint8Array(t),i=0;for(e=0,t=0;e<r.length;t+=i,++e)if(i=r[e].length,r[e]instanceof Uint8Array)n.set(r[e],t);else{if(typeof r[e]=="string")throw"wtf";n.set(new Uint8Array(r[e]),t)}return n}return[].concat.apply([],r.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function hue(r){for(var e=[],t=0,n=r.length+250,i=tp(r.length+255),s=0;s<r.length;++s){var a=r.charCodeAt(s);if(a<128)i[t++]=a;else if(a<2048)i[t++]=192|a>>6&31,i[t++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=r.charCodeAt(++s)&1023;i[t++]=240|a>>8&7,i[t++]=128|a>>2&63,i[t++]=128|o>>6&15|(a&3)<<4,i[t++]=128|o&63}else i[t++]=224|a>>12&15,i[t++]=128|a>>6&63,i[t++]=128|a&63;t>n&&(e.push(i.slice(0,t)),t=0,i=tp(65535),n=65530)}return e.push(i.slice(0,t)),xd(e)}var yo=/\u0000/g,H2=/[\u0001-\u0006]/g;function Ev(r){for(var e="",t=r.length-1;t>=0;)e+=r.charAt(t--);return e}function vc(r,e){var t=""+r;return t.length>=e?t:Pi("0",e-t.length)+t}function gU(r,e){var t=""+r;return t.length>=e?t:Pi(" ",e-t.length)+t}function ST(r,e){var t=""+r;return t.length>=e?t:t+Pi(" ",e-t.length)}function fue(r,e){var t=""+Math.round(r);return t.length>=e?t:Pi("0",e-t.length)+t}function due(r,e){var t=""+r;return t.length>=e?t:Pi("0",e-t.length)+t}var j8=Math.pow(2,32);function m1(r,e){if(r>j8||r<-j8)return fue(r,e);var t=Math.round(r);return due(t,e)}function TT(r,e){return e=e||0,r.length>=7+e&&(r.charCodeAt(e)|32)===103&&(r.charCodeAt(e+1)|32)===101&&(r.charCodeAt(e+2)|32)===110&&(r.charCodeAt(e+3)|32)===101&&(r.charCodeAt(e+4)|32)===114&&(r.charCodeAt(e+5)|32)===97&&(r.charCodeAt(e+6)|32)===108}var K8=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],JI=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function pue(r){return r||(r={}),r[0]="General",r[1]="0",r[2]="0.00",r[3]="#,##0",r[4]="#,##0.00",r[9]="0%",r[10]="0.00%",r[11]="0.00E+00",r[12]="# ?/?",r[13]="# ??/??",r[14]="m/d/yy",r[15]="d-mmm-yy",r[16]="d-mmm",r[17]="mmm-yy",r[18]="h:mm AM/PM",r[19]="h:mm:ss AM/PM",r[20]="h:mm",r[21]="h:mm:ss",r[22]="m/d/yy h:mm",r[37]="#,##0 ;(#,##0)",r[38]="#,##0 ;[Red](#,##0)",r[39]="#,##0.00;(#,##0.00)",r[40]="#,##0.00;[Red](#,##0.00)",r[45]="mm:ss",r[46]="[h]:mm:ss",r[47]="mmss.0",r[48]="##0.0E+0",r[49]="@",r[56]='"/ "hh""mm""ss" "',r}var vr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},z8={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},gue={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function FT(r,e,t){for(var n=r<0?-1:1,i=r*n,s=0,a=1,o=0,l=1,A=0,c=0,u=Math.floor(i);A<e&&(u=Math.floor(i),o=u*a+s,c=u*A+l,!(i-u<5e-8));)i=1/(i-u),s=a,a=o,l=A,A=c;if(c>e&&(A>e?(c=l,o=s):(c=A,o=a)),!t)return[0,n*o,c];var h=Math.floor(n*o/c);return[h,n*o-h*c,c]}function rg(r,e,t){if(r>2958465||r<0)return null;var n=r|0,i=Math.floor(86400*(r-n)),s=0,a=[],o={D:n,T:i,u:86400*(r-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++n,++o.D)),n===60)a=t?[1317,10,29]:[1900,2,29],s=3;else if(n===0)a=t?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),a=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),n<60&&(s=(s+6)%7),t&&(s=_ue(l,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=s,o}var e$=new Date(1899,11,31,0,0,0),mue=e$.getTime(),vue=new Date(1900,2,1,0,0,0);function t$(r,e){var t=r.getTime();return e?t-=1461*24*60*60*1e3:r>=vue&&(t+=24*60*60*1e3),(t-(mue+(r.getTimezoneOffset()-e$.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function mU(r){return r.indexOf(".")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function wue(r){return r.indexOf("E")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function yue(r){var e=r<0?12:11,t=mU(r.toFixed(12));return t.length<=e||(t=r.toPrecision(10),t.length<=e)?t:r.toExponential(5)}function xue(r){var e=mU(r.toFixed(11));return e.length>(r<0?12:11)||e==="0"||e==="-0"?r.toPrecision(6):e}function R_(r){var e=Math.floor(Math.log(Math.abs(r))*Math.LOG10E),t;return e>=-4&&e<=-1?t=r.toPrecision(10+e):Math.abs(e)<=9?t=yue(r):e===10?t=r.toFixed(10).substr(0,12):t=xue(r),mU(wue(t.toUpperCase()))}function Om(r,e){switch(typeof r){case"string":return r;case"boolean":return r?"TRUE":"FALSE";case"number":return(r|0)===r?r.toString(10):R_(r);case"undefined":return"";case"object":if(r==null)return"";if(r instanceof Date)return RA(14,t$(r,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+r)}function _ue(r,e){e[0]-=581;var t=r.getDay();return r<60&&(t=(t+6)%7),t}function bue(r,e,t,n){var i="",s=0,a=0,o=t.y,l,A=0;switch(r){case 98:o=t.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,A=2;break;default:l=o%1e4,A=4;break}break;case 109:switch(e.length){case 1:case 2:l=t.m,A=e.length;break;case 3:return JI[t.m-1][1];case 5:return JI[t.m-1][0];default:return JI[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=t.d,A=e.length;break;case 3:return K8[t.q][0];default:return K8[t.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(t.H+11)%12,A=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=t.H,A=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=t.M,A=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?vc(t.S,e.length):(n>=2?a=n===3?1e3:100:a=n===1?10:1,s=Math.round(a*(t.S+t.u)),s>=60*a&&(s=0),e==="s"?s===0?"0":""+s/a:(i=vc(s,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=t.D*24+t.H;break;case"[m]":case"[mm]":l=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":l=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}A=e.length===3?1:2;break;case 101:l=o,A=1;break}var c=A>0?vc(l,A):"";return c}function x0(r){var e=3;if(r.length<=e)return r;for(var t=r.length%e,n=r.substr(0,t);t!=r.length;t+=e)n+=(n.length>0?",":"")+r.substr(t,e);return n}var r$=/%/g;function Eue(r,e,t){var n=e.replace(r$,""),i=e.length-n.length;return mf(r,n,t*Math.pow(10,2*i))+Pi("%",i)}function Cue(r,e,t){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return mf(r,e.substr(0,n),t/Math.pow(10,3*(e.length-n)))}function n$(r,e){var t,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+n$(r,-e);var i=r.indexOf(".");i===-1&&(i=r.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),t=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),t.indexOf("e")===-1){var a=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(a-t.length+s):t+="E+"+(a-s);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,i)+"."+t.substr(2+i),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,A,c){return l+A+c.substr(0,(i+s)%i)+"."+c.substr(s)+"E"})}else t=e.toExponential(n);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var i$=/# (\?+)( ?)\/( ?)(\d+)/;function Bue(r,e,t){var n=parseInt(r[4],10),i=Math.round(e*n),s=Math.floor(i/n),a=i-s*n,o=n;return t+(s===0?"":""+s)+" "+(a===0?Pi(" ",r[1].length+1+r[4].length):gU(a,r[1].length)+r[2]+"/"+r[3]+vc(o,r[4].length))}function Sue(r,e,t){return t+(e===0?"":""+e)+Pi(" ",r[1].length+2+r[4].length)}var s$=/^#*0*\.([0#]+)/,a$=/\).*[0#]/,o$=/\(###\) ###\\?-####/;function po(r){for(var e="",t,n=0;n!=r.length;++n)switch(t=r.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function W8(r,e){var t=Math.pow(10,e);return""+Math.round(r*t)/t}function G8(r,e){var t=r-Math.floor(r),n=Math.pow(10,e);return e<(""+Math.round(t*n)).length?0:Math.round(t*n)}function Tue(r,e){return e<(""+Math.round((r-Math.floor(r))*Math.pow(10,e))).length?1:0}function Fue(r){return r<2147483647&&r>-2147483648?""+(r>=0?r|0:r-1|0):""+Math.floor(r)}function lA(r,e,t){if(r.charCodeAt(0)===40&&!e.match(a$)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?lA("n",n,t):"("+lA("n",n,-t)+")"}if(e.charCodeAt(e.length-1)===44)return Cue(r,e,t);if(e.indexOf("%")!==-1)return Eue(r,e,t);if(e.indexOf("E")!==-1)return n$(e,t);if(e.charCodeAt(0)===36)return"$"+lA(r,e.substr(e.charAt(1)==" "?2:1),t);var i,s,a,o,l=Math.abs(t),A=t<0?"-":"";if(e.match(/^00+$/))return A+m1(l,e.length);if(e.match(/^[#?]+$/))return i=m1(t,0),i==="0"&&(i=""),i.length>e.length?i:po(e.substr(0,e.length-i.length))+i;if(s=e.match(i$))return Bue(s,l,A);if(e.match(/^#+0+$/))return A+m1(l,e.length-e.indexOf("0"));if(s=e.match(s$))return i=W8(t,s[1].length).replace(/^([^\.]+)$/,"$1."+po(s[1])).replace(/\.$/,"."+po(s[1])).replace(/\.(\d*)$/,function(g,p){return"."+p+Pi("0",po(s[1]).length-p.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return A+W8(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return A+x0(m1(l,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+lA(r,e,-t):x0(""+(Math.floor(t)+Tue(t,s[1].length)))+"."+vc(G8(t,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return lA(r,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Ev(lA(r,e.replace(/[\\-]/g,""),t)),a=0,Ev(Ev(e.replace(/\\/g,"")).replace(/[0#]/g,function(g){return a<i.length?i.charAt(a++):g==="0"?"0":""}));if(e.match(o$))return i=lA(r,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var c="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=FT(l,Math.pow(10,a)-1,!1),i=""+A,c=mf("n",s[1],o[1]),c.charAt(c.length-1)==" "&&(c=c.substr(0,c.length-1)+"0"),i+=c+s[2]+"/"+s[3],c=ST(o[2],a),c.length<s[4].length&&(c=po(s[4].substr(s[4].length-c.length))+c),i+=c,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=FT(l,Math.pow(10,a)-1,!0),A+(o[0]||(o[1]?"":"0"))+" "+(o[1]?gU(o[1],a)+s[2]+"/"+s[3]+ST(o[2],a):Pi(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=m1(t,0),e.length<=i.length?i:po(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var u=e.indexOf(".")-a,h=e.length-i.length-u;return po(e.substr(0,u)+i+e.substr(e.length-h))}if(s=e.match(/^00,000\.([#0]*0)$/))return a=G8(t,s[1].length),t<0?"-"+lA(r,e,-t):x0(Fue(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?vc(0,3-g.length):"")+g})+"."+vc(a,s[1].length);switch(e){case"###,##0.00":return lA(r,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var f=x0(m1(l,0));return f!=="0"?A+f:"";case"###,###.00":return lA(r,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return lA(r,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function Iue(r,e,t){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return mf(r,e.substr(0,n),t/Math.pow(10,3*(e.length-n)))}function kue(r,e,t){var n=e.replace(r$,""),i=e.length-n.length;return mf(r,n,t*Math.pow(10,2*i))+Pi("%",i)}function l$(r,e){var t,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+l$(r,-e);var i=r.indexOf(".");i===-1&&(i=r.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),t=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),!t.match(/[Ee]/)){var a=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(a-t.length+s):t+="E+"+(a-s),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,A,c){return l+A+c.substr(0,(i+s)%i)+"."+c.substr(s)+"E"})}else t=e.toExponential(n);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function Xc(r,e,t){if(r.charCodeAt(0)===40&&!e.match(a$)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Xc("n",n,t):"("+Xc("n",n,-t)+")"}if(e.charCodeAt(e.length-1)===44)return Iue(r,e,t);if(e.indexOf("%")!==-1)return kue(r,e,t);if(e.indexOf("E")!==-1)return l$(e,t);if(e.charCodeAt(0)===36)return"$"+Xc(r,e.substr(e.charAt(1)==" "?2:1),t);var i,s,a,o,l=Math.abs(t),A=t<0?"-":"";if(e.match(/^00+$/))return A+vc(l,e.length);if(e.match(/^[#?]+$/))return i=""+t,t===0&&(i=""),i.length>e.length?i:po(e.substr(0,e.length-i.length))+i;if(s=e.match(i$))return Sue(s,l,A);if(e.match(/^#+0+$/))return A+vc(l,e.length-e.indexOf("0"));if(s=e.match(s$))return i=(""+t).replace(/^([^\.]+)$/,"$1."+po(s[1])).replace(/\.$/,"."+po(s[1])),i=i.replace(/\.(\d*)$/,function(g,p){return"."+p+Pi("0",po(s[1]).length-p.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return A+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return A+x0(""+l);if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Xc(r,e,-t):x0(""+t)+"."+Pi("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Xc(r,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Ev(Xc(r,e.replace(/[\\-]/g,""),t)),a=0,Ev(Ev(e.replace(/\\/g,"")).replace(/[0#]/g,function(g){return a<i.length?i.charAt(a++):g==="0"?"0":""}));if(e.match(o$))return i=Xc(r,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var c="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=FT(l,Math.pow(10,a)-1,!1),i=""+A,c=mf("n",s[1],o[1]),c.charAt(c.length-1)==" "&&(c=c.substr(0,c.length-1)+"0"),i+=c+s[2]+"/"+s[3],c=ST(o[2],a),c.length<s[4].length&&(c=po(s[4].substr(s[4].length-c.length))+c),i+=c,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=FT(l,Math.pow(10,a)-1,!0),A+(o[0]||(o[1]?"":"0"))+" "+(o[1]?gU(o[1],a)+s[2]+"/"+s[3]+ST(o[2],a):Pi(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+t,e.length<=i.length?i:po(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var u=e.indexOf(".")-a,h=e.length-i.length-u;return po(e.substr(0,u)+i+e.substr(e.length-h))}if(s=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+Xc(r,e,-t):x0(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?vc(0,3-g.length):"")+g})+"."+vc(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var f=x0(""+l);return f!=="0"?A+f:"";default:if(e.match(/\.[0#?]*$/))return Xc(r,e.slice(0,e.lastIndexOf(".")),t)+po(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function mf(r,e,t){return(t|0)===t?Xc(r,e,t):lA(r,e,t)}function Lue(r){for(var e=[],t=!1,n=0,i=0;n<r.length;++n)switch(r.charCodeAt(n)){case 34:t=!t;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=r.substr(i,n-i),i=n+1}if(e[e.length]=r.substr(i),t===!0)throw new Error("Format |"+r+"| unterminated string ");return e}var A$=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Uy(r){for(var e=0,t="",n="";e<r.length;)switch(t=r.charAt(e)){case"G":TT(r,e)&&(e+=6),e++;break;case'"':for(;r.charCodeAt(++e)!==34&&e<r.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(r.charAt(e+1)==="1"||r.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(r.substr(e,3).toUpperCase()==="A/P"||r.substr(e,5).toUpperCase()==="AM/PM"||r.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=t;r.charAt(e++)!=="]"&&e<r.length;)n+=r.charAt(e);if(n.match(A$))return!0;break;case".":case"0":case"#":for(;e<r.length&&("0#?.,E+-%".indexOf(t=r.charAt(++e))>-1||t=="\\"&&r.charAt(e+1)=="-"&&"0#".indexOf(r.charAt(e+2))>-1););break;case"?":for(;r.charAt(++e)===t;);break;case"*":++e,(r.charAt(e)==" "||r.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<r.length&&"0123456789".indexOf(r.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function Pue(r,e,t,n){for(var i=[],s="",a=0,o="",l="t",A,c,u,h="H";a<r.length;)switch(o=r.charAt(a)){case"G":if(!TT(r,a))throw new Error("unrecognized character "+o+" in "+r);i[i.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(u=r.charCodeAt(++a))!==34&&a<r.length;)s+=String.fromCharCode(u);i[i.length]={t:"t",v:s},++a;break;case"\\":var f=r.charAt(++a),g=f==="("||f===")"?f:"t";i[i.length]={t:g,v:f},++a;break;case"_":i[i.length]={t:"t",v:" "},a+=2;break;case"@":i[i.length]={t:"T",v:e},++a;break;case"B":case"b":if(r.charAt(a+1)==="1"||r.charAt(a+1)==="2"){if(A==null&&(A=rg(e,t,r.charAt(a+1)==="2"),A==null))return"";i[i.length]={t:"X",v:r.substr(a,2)},l=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||A==null&&(A=rg(e,t),A==null))return"";for(s=o;++a<r.length&&r.charAt(a).toLowerCase()===o;)s+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),i[i.length]={t:o,v:s},l=o;break;case"A":case"a":case"":var p={t:o,v:o};if(A==null&&(A=rg(e,t)),r.substr(a,3).toUpperCase()==="A/P"?(A!=null&&(p.v=A.H>=12?"P":"A"),p.t="T",h="h",a+=3):r.substr(a,5).toUpperCase()==="AM/PM"?(A!=null&&(p.v=A.H>=12?"PM":"AM"),p.t="T",a+=5,h="h"):r.substr(a,5).toUpperCase()==="/"?(A!=null&&(p.v=A.H>=12?"":""),p.t="T",a+=5,h="h"):(p.t="t",++a),A==null&&p.t==="T")return"";i[i.length]=p,l=o;break;case"[":for(s=o;r.charAt(a++)!=="]"&&a<r.length;)s+=r.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(A$)){if(A==null&&(A=rg(e,t),A==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",Uy(r)||(i[i.length]={t:"t",v:s}));break;case".":if(A!=null){for(s=o;++a<r.length&&(o=r.charAt(a))==="0";)s+=o;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++a<r.length&&"0#?.,E+-%".indexOf(o=r.charAt(a))>-1;)s+=o;i[i.length]={t:"n",v:s};break;case"?":for(s=o;r.charAt(++a)===o;)s+=o;i[i.length]={t:o,v:s},l=o;break;case"*":++a,(r.charAt(a)==" "||r.charAt(a)=="*")&&++a;break;case"(":case")":i[i.length]={t:n===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;a<r.length&&"0123456789".indexOf(r.charAt(++a))>-1;)s+=r.charAt(a);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:o,v:o},++a;break;case"$":i[i.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+r);i[i.length]={t:"t",v:o},++a;break}var v=0,m=0,x;for(a=i.length-1,l="t";a>=0;--a)switch(i[a].t){case"h":case"H":i[a].t=h,l="h",v<1&&(v=1);break;case"s":(x=i[a].v.match(/\.0+$/))&&(m=Math.max(m,x[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":l=i[a].t;break;case"m":l==="s"&&(i[a].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&i[a].v.match(/[Hh]/)&&(v=1),v<2&&i[a].v.match(/[Mm]/)&&(v=2),v<3&&i[a].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:A.u>=.5&&(A.u=0,++A.S),A.S>=60&&(A.S=0,++A.M),A.M>=60&&(A.M=0,++A.H);break;case 2:A.u>=.5&&(A.u=0,++A.S),A.S>=60&&(A.S=0,++A.M);break}var _="",S;for(a=0;a<i.length;++a)switch(i[a].t){case"t":case"T":case" ":case"D":break;case"X":i[a].v="",i[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[a].v=bue(i[a].t.charCodeAt(0),i[a].v,A,m),i[a].t="t";break;case"n":case"?":for(S=a+1;i[S]!=null&&((o=i[S].t)==="?"||o==="D"||(o===" "||o==="t")&&i[S+1]!=null&&(i[S+1].t==="?"||i[S+1].t==="t"&&i[S+1].v==="/")||i[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[S].v==="/"||i[S].v===" "&&i[S+1]!=null&&i[S+1].t=="?"));)i[a].v+=i[S].v,i[S]={v:"",t:";"},++S;_+=i[a].v,a=S-1;break;case"G":i[a].t="t",i[a].v=Om(e,t);break}var k="",R,B;if(_.length>0){_.charCodeAt(0)==40?(R=e<0&&_.charCodeAt(0)===45?-e:e,B=mf("n",_,R)):(R=e<0&&n>1?-e:e,B=mf("n",_,R),R<0&&i[0]&&i[0].t=="t"&&(B=B.substr(1),i[0].v="-"+i[0].v)),S=B.length-1;var E=i.length;for(a=0;a<i.length;++a)if(i[a]!=null&&i[a].t!="t"&&i[a].v.indexOf(".")>-1){E=a;break}var b=i.length;if(E===i.length&&B.indexOf("E")===-1){for(a=i.length-1;a>=0;--a)i[a]==null||"n?".indexOf(i[a].t)===-1||(S>=i[a].v.length-1?(S-=i[a].v.length,i[a].v=B.substr(S+1,i[a].v.length)):S<0?i[a].v="":(i[a].v=B.substr(0,S+1),S=-1),i[a].t="t",b=a);S>=0&&b<i.length&&(i[b].v=B.substr(0,S+1)+i[b].v)}else if(E!==i.length&&B.indexOf("E")===-1){for(S=B.indexOf(".")-1,a=E;a>=0;--a)if(!(i[a]==null||"n?".indexOf(i[a].t)===-1)){for(c=i[a].v.indexOf(".")>-1&&a===E?i[a].v.indexOf(".")-1:i[a].v.length-1,k=i[a].v.substr(c+1);c>=0;--c)S>=0&&(i[a].v.charAt(c)==="0"||i[a].v.charAt(c)==="#")&&(k=B.charAt(S--)+k);i[a].v=k,i[a].t="t",b=a}for(S>=0&&b<i.length&&(i[b].v=B.substr(0,S+1)+i[b].v),S=B.indexOf(".")+1,a=E;a<i.length;++a)if(!(i[a]==null||"n?(".indexOf(i[a].t)===-1&&a!==E)){for(c=i[a].v.indexOf(".")>-1&&a===E?i[a].v.indexOf(".")+1:0,k=i[a].v.substr(0,c);c<i[a].v.length;++c)S<B.length&&(k+=B.charAt(S++));i[a].v=k,i[a].t="t",b=a}}}for(a=0;a<i.length;++a)i[a]!=null&&"n?".indexOf(i[a].t)>-1&&(R=n>1&&e<0&&a>0&&i[a-1].v==="-"?-e:e,i[a].v=mf(i[a].t,i[a].v,R),i[a].t="t");var I="";for(a=0;a!==i.length;++a)i[a]!=null&&(I+=i[a].v);return I}var $8=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function q8(r,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(r==t)return!0;break;case">":if(r>t)return!0;break;case"<":if(r<t)return!0;break;case"<>":if(r!=t)return!0;break;case">=":if(r>=t)return!0;break;case"<=":if(r<=t)return!0;break}return!1}function Rue(r,e){var t=Lue(r),n=t.length,i=t[n-1].indexOf("@");if(n<4&&i>-1&&--n,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||i>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=i>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=i>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=i>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var s=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[n,s];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var a=t[0].match($8),o=t[1].match($8);return q8(e,a)?[n,t[0]]:q8(e,o)?[n,t[1]]:[n,t[a!=null&&o!=null?2:1]]}return[n,s]}function RA(r,e,t){t==null&&(t={});var n="";switch(typeof r){case"string":r=="m/d/yy"&&t.dateNF?n=t.dateNF:n=r;break;case"number":r==14&&t.dateNF?n=t.dateNF:n=(t.table!=null?t.table:vr)[r],n==null&&(n=t.table&&t.table[z8[r]]||vr[z8[r]]),n==null&&(n=gue[r]||"General");break}if(TT(n,0))return Om(e,t);e instanceof Date&&(e=t$(e,t.date1904));var i=Rue(n,e);if(TT(i[1]))return Om(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return Pue(i[1],e,t,i[0])}function _m(r,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(vr[t]==null){e<0&&(e=t);continue}if(vr[t]==r){e=t;break}}e<0&&(e=391)}return vr[e]=r,e}function c$(){vr=pue()}var Due={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},u$=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Nue(r){var e=typeof r=="number"?vr[r]:r;return e=e.replace(u$,"(\\d+)"),new RegExp("^"+e+"$")}function Uue(r,e,t){var n=-1,i=-1,s=-1,a=-1,o=-1,l=-1;(e.match(u$)||[]).forEach(function(u,h){var f=parseInt(t[h+1],10);switch(u.toLowerCase().charAt(0)){case"y":n=f;break;case"d":s=f;break;case"h":a=f;break;case"s":l=f;break;case"m":a>=0?o=f:i=f;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var A=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);A.length==7&&(A="0"+A),A.length==8&&(A="20"+A);var c=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return a==-1&&o==-1&&l==-1?A:n==-1&&i==-1&&s==-1?c:A+"T"+c}var Mue=function(){var r={};r.version="1.2.0";function e(){for(var B=0,E=new Array(256),b=0;b!=256;++b)B=b,B=B&1?-306674912^B>>>1:B>>>1,B=B&1?-306674912^B>>>1:B>>>1,B=B&1?-306674912^B>>>1:B>>>1,B=B&1?-306674912^B>>>1:B>>>1,B=B&1?-306674912^B>>>1:B>>>1,B=B&1?-306674912^B>>>1:B>>>1,B=B&1?-306674912^B>>>1:B>>>1,B=B&1?-306674912^B>>>1:B>>>1,E[b]=B;return typeof Int32Array<"u"?new Int32Array(E):E}var t=e();function n(B){var E=0,b=0,I=0,T=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(I=0;I!=256;++I)T[I]=B[I];for(I=0;I!=256;++I)for(b=B[I],E=256+I;E<4096;E+=256)b=T[E]=b>>>8^B[b&255];var F=[];for(I=1;I!=16;++I)F[I-1]=typeof Int32Array<"u"?T.subarray(I*256,I*256+256):T.slice(I*256,I*256+256);return F}var i=n(t),s=i[0],a=i[1],o=i[2],l=i[3],A=i[4],c=i[5],u=i[6],h=i[7],f=i[8],g=i[9],p=i[10],v=i[11],m=i[12],x=i[13],_=i[14];function S(B,E){for(var b=E^-1,I=0,T=B.length;I<T;)b=b>>>8^t[(b^B.charCodeAt(I++))&255];return~b}function k(B,E){for(var b=E^-1,I=B.length-15,T=0;T<I;)b=_[B[T++]^b&255]^x[B[T++]^b>>8&255]^m[B[T++]^b>>16&255]^v[B[T++]^b>>>24]^p[B[T++]]^g[B[T++]]^f[B[T++]]^h[B[T++]]^u[B[T++]]^c[B[T++]]^A[B[T++]]^l[B[T++]]^o[B[T++]]^a[B[T++]]^s[B[T++]]^t[B[T++]];for(I+=15;T<I;)b=b>>>8^t[(b^B[T++])&255];return~b}function R(B,E){for(var b=E^-1,I=0,T=B.length,F=0,D=0;I<T;)F=B.charCodeAt(I++),F<128?b=b>>>8^t[(b^F)&255]:F<2048?(b=b>>>8^t[(b^(192|F>>6&31))&255],b=b>>>8^t[(b^(128|F&63))&255]):F>=55296&&F<57344?(F=(F&1023)+64,D=B.charCodeAt(I++)&1023,b=b>>>8^t[(b^(240|F>>8&7))&255],b=b>>>8^t[(b^(128|F>>2&63))&255],b=b>>>8^t[(b^(128|D>>6&15|(F&3)<<4))&255],b=b>>>8^t[(b^(128|D&63))&255]):(b=b>>>8^t[(b^(224|F>>12&15))&255],b=b>>>8^t[(b^(128|F>>6&63))&255],b=b>>>8^t[(b^(128|F&63))&255]);return~b}return r.table=t,r.bstr=S,r.buf=k,r.str=R,r}(),Vr=function(){var e={};e.version="1.2.1";function t(Y,ge){for(var le=Y.split("/"),ue=ge.split("/"),fe=0,we=0,Pe=Math.min(le.length,ue.length);fe<Pe;++fe){if(we=le[fe].length-ue[fe].length)return we;if(le[fe]!=ue[fe])return le[fe]<ue[fe]?-1:1}return le.length-ue.length}function n(Y){if(Y.charAt(Y.length-1)=="/")return Y.slice(0,-1).indexOf("/")===-1?Y:n(Y.slice(0,-1));var ge=Y.lastIndexOf("/");return ge===-1?Y:Y.slice(0,ge+1)}function i(Y){if(Y.charAt(Y.length-1)=="/")return i(Y.slice(0,-1));var ge=Y.lastIndexOf("/");return ge===-1?Y:Y.slice(ge+1)}function s(Y,ge){typeof ge=="string"&&(ge=new Date(ge));var le=ge.getHours();le=le<<6|ge.getMinutes(),le=le<<5|ge.getSeconds()>>>1,Y.write_shift(2,le);var ue=ge.getFullYear()-1980;ue=ue<<4|ge.getMonth()+1,ue=ue<<5|ge.getDate(),Y.write_shift(2,ue)}function a(Y){var ge=Y.read_shift(2)&65535,le=Y.read_shift(2)&65535,ue=new Date,fe=le&31;le>>>=5;var we=le&15;le>>>=4,ue.setMilliseconds(0),ue.setFullYear(le+1980),ue.setMonth(we-1),ue.setDate(fe);var Pe=ge&31;ge>>>=5;var Qe=ge&63;return ge>>>=6,ue.setHours(ge),ue.setMinutes(Qe),ue.setSeconds(Pe<<1),ue}function o(Y){la(Y,0);for(var ge={},le=0;Y.l<=Y.length-4;){var ue=Y.read_shift(2),fe=Y.read_shift(2),we=Y.l+fe,Pe={};switch(ue){case 21589:le=Y.read_shift(1),le&1&&(Pe.mtime=Y.read_shift(4)),fe>5&&(le&2&&(Pe.atime=Y.read_shift(4)),le&4&&(Pe.ctime=Y.read_shift(4))),Pe.mtime&&(Pe.mt=new Date(Pe.mtime*1e3));break}Y.l=we,ge[ue]=Pe}return ge}var l;function A(){return l||(l={})}function c(Y,ge){if(Y[0]==80&&Y[1]==75)return Cn(Y,ge);if((Y[0]|32)==109&&(Y[1]|32)==105)return Kt(Y,ge);if(Y.length<512)throw new Error("CFB file size "+Y.length+" < 512");var le=3,ue=512,fe=0,we=0,Pe=0,Qe=0,Re=0,De=[],Ue=Y.slice(0,512);la(Ue,0);var et=u(Ue);switch(le=et[0],le){case 3:ue=512;break;case 4:ue=4096;break;case 0:if(et[1]==0)return Cn(Y,ge);default:throw new Error("Major Version: Expected 3 or 4 saw "+le)}ue!==512&&(Ue=Y.slice(0,ue),la(Ue,28));var At=Y.slice(0,ue);h(Ue,le);var pt=Ue.read_shift(4,"i");if(le===3&&pt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+pt);Ue.l+=4,Pe=Ue.read_shift(4,"i"),Ue.l+=4,Ue.chk("00100000","Mini Stream Cutoff Size: "),Qe=Ue.read_shift(4,"i"),fe=Ue.read_shift(4,"i"),Re=Ue.read_shift(4,"i"),we=Ue.read_shift(4,"i");for(var it=-1,ut=0;ut<109&&(it=Ue.read_shift(4,"i"),!(it<0));++ut)De[ut]=it;var $t=f(Y,ue);v(Re,we,$t,ue,De);var Yr=x($t,Pe,De,ue);Yr[Pe].name="!Directory",fe>0&&Qe!==D&&(Yr[Qe].name="!MiniFAT"),Yr[De[0]].name="!FAT",Yr.fat_addrs=De,Yr.ssz=ue;var gr={},nn=[],To=[],rl=[];_(Pe,Yr,$t,nn,fe,gr,To,Qe),g(To,rl,nn),nn.shift();var nl={FileIndex:To,FullPaths:rl};return ge&&ge.raw&&(nl.raw={header:At,sectors:$t}),nl}function u(Y){if(Y[Y.l]==80&&Y[Y.l+1]==75)return[0,0];Y.chk(q,"Header Signature: "),Y.l+=16;var ge=Y.read_shift(2,"u");return[Y.read_shift(2,"u"),ge]}function h(Y,ge){var le=9;switch(Y.l+=2,le=Y.read_shift(2)){case 9:if(ge!=3)throw new Error("Sector Shift: Expected 9 saw "+le);break;case 12:if(ge!=4)throw new Error("Sector Shift: Expected 12 saw "+le);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+le)}Y.chk("0600","Mini Sector Shift: "),Y.chk("000000000000","Reserved: ")}function f(Y,ge){for(var le=Math.ceil(Y.length/ge)-1,ue=[],fe=1;fe<le;++fe)ue[fe-1]=Y.slice(fe*ge,(fe+1)*ge);return ue[le-1]=Y.slice(le*ge),ue}function g(Y,ge,le){for(var ue=0,fe=0,we=0,Pe=0,Qe=0,Re=le.length,De=[],Ue=[];ue<Re;++ue)De[ue]=Ue[ue]=ue,ge[ue]=le[ue];for(;Qe<Ue.length;++Qe)ue=Ue[Qe],fe=Y[ue].L,we=Y[ue].R,Pe=Y[ue].C,De[ue]===ue&&(fe!==-1&&De[fe]!==fe&&(De[ue]=De[fe]),we!==-1&&De[we]!==we&&(De[ue]=De[we])),Pe!==-1&&(De[Pe]=ue),fe!==-1&&ue!=De[ue]&&(De[fe]=De[ue],Ue.lastIndexOf(fe)<Qe&&Ue.push(fe)),we!==-1&&ue!=De[ue]&&(De[we]=De[ue],Ue.lastIndexOf(we)<Qe&&Ue.push(we));for(ue=1;ue<Re;++ue)De[ue]===ue&&(we!==-1&&De[we]!==we?De[ue]=De[we]:fe!==-1&&De[fe]!==fe&&(De[ue]=De[fe]));for(ue=1;ue<Re;++ue)if(Y[ue].type!==0){if(Qe=ue,Qe!=De[Qe])do Qe=De[Qe],ge[ue]=ge[Qe]+"/"+ge[ue];while(Qe!==0&&De[Qe]!==-1&&Qe!=De[Qe]);De[ue]=-1}for(ge[0]+="/",ue=1;ue<Re;++ue)Y[ue].type!==2&&(ge[ue]+="/")}function p(Y,ge,le){for(var ue=Y.start,fe=Y.size,we=[],Pe=ue;le&&fe>0&&Pe>=0;)we.push(ge.slice(Pe*F,Pe*F+F)),fe-=F,Pe=Wp(le,Pe*4);return we.length===0?ys(0):xd(we).slice(0,Y.size)}function v(Y,ge,le,ue,fe){var we=D;if(Y===D){if(ge!==0)throw new Error("DIFAT chain shorter than expected")}else if(Y!==-1){var Pe=le[Y],Qe=(ue>>>2)-1;if(!Pe)return;for(var Re=0;Re<Qe&&(we=Wp(Pe,Re*4))!==D;++Re)fe.push(we);v(Wp(Pe,ue-4),ge-1,le,ue,fe)}}function m(Y,ge,le,ue,fe){var we=[],Pe=[];fe||(fe=[]);var Qe=ue-1,Re=0,De=0;for(Re=ge;Re>=0;){fe[Re]=!0,we[we.length]=Re,Pe.push(Y[Re]);var Ue=le[Math.floor(Re*4/ue)];if(De=Re*4&Qe,ue<4+De)throw new Error("FAT boundary crossed: "+Re+" 4 "+ue);if(!Y[Ue])break;Re=Wp(Y[Ue],De)}return{nodes:we,data:sQ([Pe])}}function x(Y,ge,le,ue){var fe=Y.length,we=[],Pe=[],Qe=[],Re=[],De=ue-1,Ue=0,et=0,At=0,pt=0;for(Ue=0;Ue<fe;++Ue)if(Qe=[],At=Ue+ge,At>=fe&&(At-=fe),!Pe[At]){Re=[];var it=[];for(et=At;et>=0;){it[et]=!0,Pe[et]=!0,Qe[Qe.length]=et,Re.push(Y[et]);var ut=le[Math.floor(et*4/ue)];if(pt=et*4&De,ue<4+pt)throw new Error("FAT boundary crossed: "+et+" 4 "+ue);if(!Y[ut]||(et=Wp(Y[ut],pt),it[et]))break}we[At]={nodes:Qe,data:sQ([Re])}}return we}function _(Y,ge,le,ue,fe,we,Pe,Qe){for(var Re=0,De=ue.length?2:0,Ue=ge[Y].data,et=0,At=0,pt;et<Ue.length;et+=128){var it=Ue.slice(et,et+128);la(it,64),At=it.read_shift(2),pt=_U(it,0,At-De),ue.push(pt);var ut={name:pt,type:it.read_shift(1),color:it.read_shift(1),L:it.read_shift(4,"i"),R:it.read_shift(4,"i"),C:it.read_shift(4,"i"),clsid:it.read_shift(16),state:it.read_shift(4,"i"),start:0,size:0},$t=it.read_shift(2)+it.read_shift(2)+it.read_shift(2)+it.read_shift(2);$t!==0&&(ut.ct=S(it,it.l-8));var Yr=it.read_shift(2)+it.read_shift(2)+it.read_shift(2)+it.read_shift(2);Yr!==0&&(ut.mt=S(it,it.l-8)),ut.start=it.read_shift(4,"i"),ut.size=it.read_shift(4,"i"),ut.size<0&&ut.start<0&&(ut.size=ut.type=0,ut.start=D,ut.name=""),ut.type===5?(Re=ut.start,fe>0&&Re!==D&&(ge[Re].name="!StreamData")):ut.size>=4096?(ut.storage="fat",ge[ut.start]===void 0&&(ge[ut.start]=m(le,ut.start,ge.fat_addrs,ge.ssz)),ge[ut.start].name=ut.name,ut.content=ge[ut.start].data.slice(0,ut.size)):(ut.storage="minifat",ut.size<0?ut.size=0:Re!==D&&ut.start!==D&&ge[Re]&&(ut.content=p(ut,ge[Re].data,(ge[Qe]||{}).data))),ut.content&&la(ut.content,0),we[pt]=ut,Pe.push(ut)}}function S(Y,ge){return new Date((Ql(Y,ge+4)/1e7*Math.pow(2,32)+Ql(Y,ge)/1e7-11644473600)*1e3)}function k(Y,ge){return A(),c(l.readFileSync(Y),ge)}function R(Y,ge){var le=ge&&ge.type;switch(le||Mr&&Buffer.isBuffer(Y)&&(le="buffer"),le||"base64"){case"file":return k(Y,ge);case"base64":return c(pc($l(Y)),ge);case"binary":return c(pc(Y),ge)}return c(Y,ge)}function B(Y,ge){var le=ge||{},ue=le.root||"Root Entry";if(Y.FullPaths||(Y.FullPaths=[]),Y.FileIndex||(Y.FileIndex=[]),Y.FullPaths.length!==Y.FileIndex.length)throw new Error("inconsistent CFB structure");Y.FullPaths.length===0&&(Y.FullPaths[0]=ue+"/",Y.FileIndex[0]={name:ue,type:5}),le.CLSID&&(Y.FileIndex[0].clsid=le.CLSID),E(Y)}function E(Y){var ge="Sh33tJ5";if(!Vr.find(Y,"/"+ge)){var le=ys(4);le[0]=55,le[1]=le[3]=50,le[2]=54,Y.FileIndex.push({name:ge,type:2,content:le,size:4,L:69,R:69,C:69}),Y.FullPaths.push(Y.FullPaths[0]+ge),b(Y)}}function b(Y,ge){B(Y);for(var le=!1,ue=!1,fe=Y.FullPaths.length-1;fe>=0;--fe){var we=Y.FileIndex[fe];switch(we.type){case 0:ue?le=!0:(Y.FileIndex.pop(),Y.FullPaths.pop());break;case 1:case 2:case 5:ue=!0,isNaN(we.R*we.L*we.C)&&(le=!0),we.R>-1&&we.L>-1&&we.R==we.L&&(le=!0);break;default:le=!0;break}}if(!(!le&&!ge)){var Pe=new Date(1987,1,19),Qe=0,Re=Object.create?Object.create(null):{},De=[];for(fe=0;fe<Y.FullPaths.length;++fe)Re[Y.FullPaths[fe]]=!0,Y.FileIndex[fe].type!==0&&De.push([Y.FullPaths[fe],Y.FileIndex[fe]]);for(fe=0;fe<De.length;++fe){var Ue=n(De[fe][0]);ue=Re[Ue],ue||(De.push([Ue,{name:i(Ue).replace("/",""),type:1,clsid:oe,ct:Pe,mt:Pe,content:null}]),Re[Ue]=!0)}for(De.sort(function(pt,it){return t(pt[0],it[0])}),Y.FullPaths=[],Y.FileIndex=[],fe=0;fe<De.length;++fe)Y.FullPaths[fe]=De[fe][0],Y.FileIndex[fe]=De[fe][1];for(fe=0;fe<De.length;++fe){var et=Y.FileIndex[fe],At=Y.FullPaths[fe];if(et.name=i(At).replace("/",""),et.L=et.R=et.C=-(et.color=1),et.size=et.content?et.content.length:0,et.start=0,et.clsid=et.clsid||oe,fe===0)et.C=De.length>1?1:-1,et.size=0,et.type=5;else if(At.slice(-1)=="/"){for(Qe=fe+1;Qe<De.length&&n(Y.FullPaths[Qe])!=At;++Qe);for(et.C=Qe>=De.length?-1:Qe,Qe=fe+1;Qe<De.length&&n(Y.FullPaths[Qe])!=n(At);++Qe);et.R=Qe>=De.length?-1:Qe,et.type=1}else n(Y.FullPaths[fe+1]||"")==n(At)&&(et.R=fe+1),et.type=2}}}function I(Y,ge){var le=ge||{};if(le.fileType=="mad")return Sn(Y,le);switch(b(Y),le.fileType){case"zip":return Kr(Y,le)}var ue=function(pt){for(var it=0,ut=0,$t=0;$t<pt.FileIndex.length;++$t){var Yr=pt.FileIndex[$t];if(Yr.content){var gr=Yr.content.length;gr>0&&(gr<4096?it+=gr+63>>6:ut+=gr+511>>9)}}for(var nn=pt.FullPaths.length+3>>2,To=it+7>>3,rl=it+127>>7,nl=To+ut+nn+rl,Za=nl+127>>7,MA=Za<=109?0:Math.ceil((Za-109)/127);nl+Za+MA+127>>7>Za;)MA=++Za<=109?0:Math.ceil((Za-109)/127);var es=[1,MA,Za,rl,nn,ut,it,0];return pt.FileIndex[0].size=it<<6,es[7]=(pt.FileIndex[0].start=es[0]+es[1]+es[2]+es[3]+es[4]+es[5])+(es[6]+7>>3),es}(Y),fe=ys(ue[7]<<9),we=0,Pe=0;{for(we=0;we<8;++we)fe.write_shift(1,ie[we]);for(we=0;we<8;++we)fe.write_shift(2,0);for(fe.write_shift(2,62),fe.write_shift(2,3),fe.write_shift(2,65534),fe.write_shift(2,9),fe.write_shift(2,6),we=0;we<3;++we)fe.write_shift(2,0);for(fe.write_shift(4,0),fe.write_shift(4,ue[2]),fe.write_shift(4,ue[0]+ue[1]+ue[2]+ue[3]-1),fe.write_shift(4,0),fe.write_shift(4,4096),fe.write_shift(4,ue[3]?ue[0]+ue[1]+ue[2]-1:D),fe.write_shift(4,ue[3]),fe.write_shift(-4,ue[1]?ue[0]-1:D),fe.write_shift(4,ue[1]),we=0;we<109;++we)fe.write_shift(-4,we<ue[2]?ue[1]+we:-1)}if(ue[1])for(Pe=0;Pe<ue[1];++Pe){for(;we<236+Pe*127;++we)fe.write_shift(-4,we<ue[2]?ue[1]+we:-1);fe.write_shift(-4,Pe===ue[1]-1?D:Pe+1)}var Qe=function(pt){for(Pe+=pt;we<Pe-1;++we)fe.write_shift(-4,we+1);pt&&(++we,fe.write_shift(-4,D))};for(Pe=we=0,Pe+=ue[1];we<Pe;++we)fe.write_shift(-4,te.DIFSECT);for(Pe+=ue[2];we<Pe;++we)fe.write_shift(-4,te.FATSECT);Qe(ue[3]),Qe(ue[4]);for(var Re=0,De=0,Ue=Y.FileIndex[0];Re<Y.FileIndex.length;++Re)Ue=Y.FileIndex[Re],Ue.content&&(De=Ue.content.length,!(De<4096)&&(Ue.start=Pe,Qe(De+511>>9)));for(Qe(ue[6]+7>>3);fe.l&511;)fe.write_shift(-4,te.ENDOFCHAIN);for(Pe=we=0,Re=0;Re<Y.FileIndex.length;++Re)Ue=Y.FileIndex[Re],Ue.content&&(De=Ue.content.length,!(!De||De>=4096)&&(Ue.start=Pe,Qe(De+63>>6)));for(;fe.l&511;)fe.write_shift(-4,te.ENDOFCHAIN);for(we=0;we<ue[4]<<2;++we){var et=Y.FullPaths[we];if(!et||et.length===0){for(Re=0;Re<17;++Re)fe.write_shift(4,0);for(Re=0;Re<3;++Re)fe.write_shift(4,-1);for(Re=0;Re<12;++Re)fe.write_shift(4,0);continue}Ue=Y.FileIndex[we],we===0&&(Ue.start=Ue.size?Ue.start-1:D);var At=we===0&&le.root||Ue.name;if(De=2*(At.length+1),fe.write_shift(64,At,"utf16le"),fe.write_shift(2,De),fe.write_shift(1,Ue.type),fe.write_shift(1,Ue.color),fe.write_shift(-4,Ue.L),fe.write_shift(-4,Ue.R),fe.write_shift(-4,Ue.C),Ue.clsid)fe.write_shift(16,Ue.clsid,"hex");else for(Re=0;Re<4;++Re)fe.write_shift(4,0);fe.write_shift(4,Ue.state||0),fe.write_shift(4,0),fe.write_shift(4,0),fe.write_shift(4,0),fe.write_shift(4,0),fe.write_shift(4,Ue.start),fe.write_shift(4,Ue.size),fe.write_shift(4,0)}for(we=1;we<Y.FileIndex.length;++we)if(Ue=Y.FileIndex[we],Ue.size>=4096)if(fe.l=Ue.start+1<<9,Mr&&Buffer.isBuffer(Ue.content))Ue.content.copy(fe,fe.l,0,Ue.size),fe.l+=Ue.size+511&-512;else{for(Re=0;Re<Ue.size;++Re)fe.write_shift(1,Ue.content[Re]);for(;Re&511;++Re)fe.write_shift(1,0)}for(we=1;we<Y.FileIndex.length;++we)if(Ue=Y.FileIndex[we],Ue.size>0&&Ue.size<4096)if(Mr&&Buffer.isBuffer(Ue.content))Ue.content.copy(fe,fe.l,0,Ue.size),fe.l+=Ue.size+63&-64;else{for(Re=0;Re<Ue.size;++Re)fe.write_shift(1,Ue.content[Re]);for(;Re&63;++Re)fe.write_shift(1,0)}if(Mr)fe.l=fe.length;else for(;fe.l<fe.length;)fe.write_shift(1,0);return fe}function T(Y,ge){var le=Y.FullPaths.map(function(Re){return Re.toUpperCase()}),ue=le.map(function(Re){var De=Re.split("/");return De[De.length-(Re.slice(-1)=="/"?2:1)]}),fe=!1;ge.charCodeAt(0)===47?(fe=!0,ge=le[0].slice(0,-1)+ge):fe=ge.indexOf("/")!==-1;var we=ge.toUpperCase(),Pe=fe===!0?le.indexOf(we):ue.indexOf(we);if(Pe!==-1)return Y.FileIndex[Pe];var Qe=!we.match(H2);for(we=we.replace(yo,""),Qe&&(we=we.replace(H2,"!")),Pe=0;Pe<le.length;++Pe)if((Qe?le[Pe].replace(H2,"!"):le[Pe]).replace(yo,"")==we||(Qe?ue[Pe].replace(H2,"!"):ue[Pe]).replace(yo,"")==we)return Y.FileIndex[Pe];return null}var F=64,D=-2,q="d0cf11e0a1b11ae1",ie=[208,207,17,224,161,177,26,225],oe="00000000000000000000000000000000",te={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:D,FREESECT:-1,HEADER_SIGNATURE:q,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:oe,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function re(Y,ge,le){A();var ue=I(Y,le);l.writeFileSync(ge,ue)}function W(Y){for(var ge=new Array(Y.length),le=0;le<Y.length;++le)ge[le]=String.fromCharCode(Y[le]);return ge.join("")}function pe(Y,ge){var le=I(Y,ge);switch(ge&&ge.type||"buffer"){case"file":return A(),l.writeFileSync(ge.filename,le),le;case"binary":return typeof le=="string"?le:W(le);case"base64":return H8(typeof le=="string"?le:W(le));case"buffer":if(Mr)return Buffer.isBuffer(le)?le:Zm(le);case"array":return typeof le=="string"?pc(le):le}return le}var _e;function P(Y){try{var ge=Y.InflateRaw,le=new ge;if(le._processChunk(new Uint8Array([3,0]),le._finishFlushFlag),le.bytesRead)_e=Y;else throw new Error("zlib does not expose bytesRead")}catch(ue){console.error("cannot use native zlib: "+(ue.message||ue))}}function O(Y,ge){if(!_e)return pr(Y,ge);var le=_e.InflateRaw,ue=new le,fe=ue._processChunk(Y.slice(Y.l),ue._finishFlushFlag);return Y.l+=ue.bytesRead,fe}function H(Y){return _e?_e.deflateRawSync(Y):at(Y)}var K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Z=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],he=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function xe(Y){var ge=(Y<<1|Y<<11)&139536|(Y<<5|Y<<15)&558144;return(ge>>16|ge>>8|ge)&255}for(var ye=typeof Uint8Array<"u",be=ye?new Uint8Array(256):[],Fe=0;Fe<256;++Fe)be[Fe]=xe(Fe);function ne(Y,ge){var le=be[Y&255];return ge<=8?le>>>8-ge:(le=le<<8|be[Y>>8&255],ge<=16?le>>>16-ge:(le=le<<8|be[Y>>16&255],le>>>24-ge))}function We(Y,ge){var le=ge&7,ue=ge>>>3;return(Y[ue]|(le<=6?0:Y[ue+1]<<8))>>>le&3}function Se(Y,ge){var le=ge&7,ue=ge>>>3;return(Y[ue]|(le<=5?0:Y[ue+1]<<8))>>>le&7}function ce(Y,ge){var le=ge&7,ue=ge>>>3;return(Y[ue]|(le<=4?0:Y[ue+1]<<8))>>>le&15}function qe(Y,ge){var le=ge&7,ue=ge>>>3;return(Y[ue]|(le<=3?0:Y[ue+1]<<8))>>>le&31}function Ve(Y,ge){var le=ge&7,ue=ge>>>3;return(Y[ue]|(le<=1?0:Y[ue+1]<<8))>>>le&127}function $e(Y,ge,le){var ue=ge&7,fe=ge>>>3,we=(1<<le)-1,Pe=Y[fe]>>>ue;return le<8-ue||(Pe|=Y[fe+1]<<8-ue,le<16-ue)||(Pe|=Y[fe+2]<<16-ue,le<24-ue)||(Pe|=Y[fe+3]<<24-ue),Pe&we}function He(Y,ge,le){var ue=ge&7,fe=ge>>>3;return ue<=5?Y[fe]|=(le&7)<<ue:(Y[fe]|=le<<ue&255,Y[fe+1]=(le&7)>>8-ue),ge+3}function ht(Y,ge,le){var ue=ge&7,fe=ge>>>3;return le=(le&1)<<ue,Y[fe]|=le,ge+1}function nt(Y,ge,le){var ue=ge&7,fe=ge>>>3;return le<<=ue,Y[fe]|=le&255,le>>>=8,Y[fe+1]=le,ge+8}function Nt(Y,ge,le){var ue=ge&7,fe=ge>>>3;return le<<=ue,Y[fe]|=le&255,le>>>=8,Y[fe+1]=le&255,Y[fe+2]=le>>>8,ge+16}function gt(Y,ge){var le=Y.length,ue=2*le>ge?2*le:ge+5,fe=0;if(le>=ge)return Y;if(Mr){var we=V8(ue);if(Y.copy)Y.copy(we);else for(;fe<Y.length;++fe)we[fe]=Y[fe];return we}else if(ye){var Pe=new Uint8Array(ue);if(Pe.set)Pe.set(Y);else for(;fe<le;++fe)Pe[fe]=Y[fe];return Pe}return Y.length=ue,Y}function Bt(Y){for(var ge=new Array(Y),le=0;le<Y;++le)ge[le]=0;return ge}function bt(Y,ge,le){var ue=1,fe=0,we=0,Pe=0,Qe=0,Re=Y.length,De=ye?new Uint16Array(32):Bt(32);for(we=0;we<32;++we)De[we]=0;for(we=Re;we<le;++we)Y[we]=0;Re=Y.length;var Ue=ye?new Uint16Array(Re):Bt(Re);for(we=0;we<Re;++we)De[fe=Y[we]]++,ue<fe&&(ue=fe),Ue[we]=0;for(De[0]=0,we=1;we<=ue;++we)De[we+16]=Qe=Qe+De[we-1]<<1;for(we=0;we<Re;++we)Qe=Y[we],Qe!=0&&(Ue[we]=De[Qe+16]++);var et=0;for(we=0;we<Re;++we)if(et=Y[we],et!=0)for(Qe=ne(Ue[we],ue)>>ue-et,Pe=(1<<ue+4-et)-1;Pe>=0;--Pe)ge[Qe|Pe<<et]=et&15|we<<4;return ue}var lt=ye?new Uint16Array(512):Bt(512),Ft=ye?new Uint16Array(32):Bt(32);if(!ye){for(var mt=0;mt<512;++mt)lt[mt]=0;for(mt=0;mt<32;++mt)Ft[mt]=0}(function(){for(var Y=[],ge=0;ge<32;ge++)Y.push(5);bt(Y,Ft,32);var le=[];for(ge=0;ge<=143;ge++)le.push(8);for(;ge<=255;ge++)le.push(9);for(;ge<=279;ge++)le.push(7);for(;ge<=287;ge++)le.push(8);bt(le,lt,288)})();var vt=function(){for(var ge=ye?new Uint8Array(32768):[],le=0,ue=0;le<he.length-1;++le)for(;ue<he[le+1];++ue)ge[ue]=le;for(;ue<32768;++ue)ge[ue]=29;var fe=ye?new Uint8Array(259):[];for(le=0,ue=0;le<Z.length-1;++le)for(;ue<Z[le+1];++ue)fe[ue]=le;function we(Qe,Re){for(var De=0;De<Qe.length;){var Ue=Math.min(65535,Qe.length-De),et=De+Ue==Qe.length;for(Re.write_shift(1,+et),Re.write_shift(2,Ue),Re.write_shift(2,~Ue&65535);Ue-- >0;)Re[Re.l++]=Qe[De++]}return Re.l}function Pe(Qe,Re){for(var De=0,Ue=0,et=ye?new Uint16Array(32768):[];Ue<Qe.length;){var At=Math.min(65535,Qe.length-Ue);if(At<10){for(De=He(Re,De,+(Ue+At==Qe.length)),De&7&&(De+=8-(De&7)),Re.l=De/8|0,Re.write_shift(2,At),Re.write_shift(2,~At&65535);At-- >0;)Re[Re.l++]=Qe[Ue++];De=Re.l*8;continue}De=He(Re,De,+(Ue+At==Qe.length)+2);for(var pt=0;At-- >0;){var it=Qe[Ue];pt=(pt<<5^it)&32767;var ut=-1,$t=0;if((ut=et[pt])&&(ut|=Ue&-32768,ut>Ue&&(ut-=32768),ut<Ue))for(;Qe[ut+$t]==Qe[Ue+$t]&&$t<250;)++$t;if($t>2){it=fe[$t],it<=22?De=nt(Re,De,be[it+1]>>1)-1:(nt(Re,De,3),De+=5,nt(Re,De,be[it-23]>>5),De+=3);var Yr=it<8?0:it-4>>2;Yr>0&&(Nt(Re,De,$t-Z[it]),De+=Yr),it=ge[Ue-ut],De=nt(Re,De,be[it]>>3),De-=3;var gr=it<4?0:it-2>>1;gr>0&&(Nt(Re,De,Ue-ut-he[it]),De+=gr);for(var nn=0;nn<$t;++nn)et[pt]=Ue&32767,pt=(pt<<5^Qe[Ue])&32767,++Ue;At-=$t-1}else it<=143?it=it+48:De=ht(Re,De,1),De=nt(Re,De,be[it]),et[pt]=Ue&32767,++Ue}De=nt(Re,De,0)-1}return Re.l=(De+7)/8|0,Re.l}return function(Re,De){return Re.length<8?we(Re,De):Pe(Re,De)}}();function at(Y){var ge=ys(50+Math.floor(Y.length*1.1)),le=vt(Y,ge);return ge.slice(0,le)}var ct=ye?new Uint16Array(32768):Bt(32768),jt=ye?new Uint16Array(32768):Bt(32768),Qt=ye?new Uint16Array(128):Bt(128),wt=1,Yt=1;function en(Y,ge){var le=qe(Y,ge)+257;ge+=5;var ue=qe(Y,ge)+1;ge+=5;var fe=ce(Y,ge)+4;ge+=4;for(var we=0,Pe=ye?new Uint8Array(19):Bt(19),Qe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Re=1,De=ye?new Uint8Array(8):Bt(8),Ue=ye?new Uint8Array(8):Bt(8),et=Pe.length,At=0;At<fe;++At)Pe[K[At]]=we=Se(Y,ge),Re<we&&(Re=we),De[we]++,ge+=3;var pt=0;for(De[0]=0,At=1;At<=Re;++At)Ue[At]=pt=pt+De[At-1]<<1;for(At=0;At<et;++At)(pt=Pe[At])!=0&&(Qe[At]=Ue[pt]++);var it=0;for(At=0;At<et;++At)if(it=Pe[At],it!=0){pt=be[Qe[At]]>>8-it;for(var ut=(1<<7-it)-1;ut>=0;--ut)Qt[pt|ut<<it]=it&7|At<<3}var $t=[];for(Re=1;$t.length<le+ue;)switch(pt=Qt[Ve(Y,ge)],ge+=pt&7,pt>>>=3){case 16:for(we=3+We(Y,ge),ge+=2,pt=$t[$t.length-1];we-- >0;)$t.push(pt);break;case 17:for(we=3+Se(Y,ge),ge+=3;we-- >0;)$t.push(0);break;case 18:for(we=11+Ve(Y,ge),ge+=7;we-- >0;)$t.push(0);break;default:$t.push(pt),Re<pt&&(Re=pt);break}var Yr=$t.slice(0,le),gr=$t.slice(le);for(At=le;At<286;++At)Yr[At]=0;for(At=ue;At<30;++At)gr[At]=0;return wt=bt(Yr,ct,286),Yt=bt(gr,jt,30),ge}function zt(Y,ge){if(Y[0]==3&&!(Y[1]&3))return[tp(ge),2];for(var le=0,ue=0,fe=V8(ge||1<<18),we=0,Pe=fe.length>>>0,Qe=0,Re=0;!(ue&1);){if(ue=Se(Y,le),le+=3,ue>>>1)ue>>1==1?(Qe=9,Re=5):(le=en(Y,le),Qe=wt,Re=Yt);else{le&7&&(le+=8-(le&7));var De=Y[le>>>3]|Y[(le>>>3)+1]<<8;if(le+=32,De>0)for(!ge&&Pe<we+De&&(fe=gt(fe,we+De),Pe=fe.length);De-- >0;)fe[we++]=Y[le>>>3],le+=8;continue}for(;;){!ge&&Pe<we+32767&&(fe=gt(fe,we+32767),Pe=fe.length);var Ue=$e(Y,le,Qe),et=ue>>>1==1?lt[Ue]:ct[Ue];if(le+=et&15,et>>>=4,!(et>>>8&255))fe[we++]=et;else{if(et==256)break;et-=257;var At=et<8?0:et-4>>2;At>5&&(At=0);var pt=we+Z[et];At>0&&(pt+=$e(Y,le,At),le+=At),Ue=$e(Y,le,Re),et=ue>>>1==1?Ft[Ue]:jt[Ue],le+=et&15,et>>>=4;var it=et<4?0:et-2>>1,ut=he[et];for(it>0&&(ut+=$e(Y,le,it),le+=it),!ge&&Pe<pt&&(fe=gt(fe,pt+100),Pe=fe.length);we<pt;)fe[we]=fe[we-ut],++we}}}return ge?[fe,le+7>>>3]:[fe.slice(0,we),le+7>>>3]}function pr(Y,ge){var le=Y.slice(Y.l||0),ue=zt(le,ge);return Y.l+=ue[1],ue[0]}function Jt(Y,ge){if(Y)typeof console<"u"&&console.error(ge);else throw new Error(ge)}function Cn(Y,ge){var le=Y;la(le,0);var ue=[],fe=[],we={FileIndex:ue,FullPaths:fe};B(we,{root:ge.root});for(var Pe=le.length-4;(le[Pe]!=80||le[Pe+1]!=75||le[Pe+2]!=5||le[Pe+3]!=6)&&Pe>=0;)--Pe;le.l=Pe+4,le.l+=4;var Qe=le.read_shift(2);le.l+=6;var Re=le.read_shift(4);for(le.l=Re,Pe=0;Pe<Qe;++Pe){le.l+=20;var De=le.read_shift(4),Ue=le.read_shift(4),et=le.read_shift(2),At=le.read_shift(2),pt=le.read_shift(2);le.l+=8;var it=le.read_shift(4),ut=o(le.slice(le.l+et,le.l+et+At));le.l+=et+At+pt;var $t=le.l;le.l=it+4,Bn(le,De,Ue,we,ut),le.l=$t}return we}function Bn(Y,ge,le,ue,fe){Y.l+=2;var we=Y.read_shift(2),Pe=Y.read_shift(2),Qe=a(Y);if(we&8257)throw new Error("Unsupported ZIP encryption");for(var Re=Y.read_shift(4),De=Y.read_shift(4),Ue=Y.read_shift(4),et=Y.read_shift(2),At=Y.read_shift(2),pt="",it=0;it<et;++it)pt+=String.fromCharCode(Y[Y.l++]);if(At){var ut=o(Y.slice(Y.l,Y.l+At));(ut[21589]||{}).mt&&(Qe=ut[21589].mt),((fe||{})[21589]||{}).mt&&(Qe=fe[21589].mt)}Y.l+=At;var $t=Y.slice(Y.l,Y.l+De);switch(Pe){case 8:$t=O(Y,Ue);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Pe)}var Yr=!1;we&8&&(Re=Y.read_shift(4),Re==134695760&&(Re=Y.read_shift(4),Yr=!0),De=Y.read_shift(4),Ue=Y.read_shift(4)),De!=ge&&Jt(Yr,"Bad compressed size: "+ge+" != "+De),Ue!=le&&Jt(Yr,"Bad uncompressed size: "+le+" != "+Ue),xi(ue,pt,$t,{unsafe:!0,mt:Qe})}function Kr(Y,ge){var le=ge||{},ue=[],fe=[],we=ys(1),Pe=le.compression?8:0,Qe=0,Re=0,De=0,Ue=0,et=0,At=Y.FullPaths[0],pt=At,it=Y.FileIndex[0],ut=[],$t=0;for(Re=1;Re<Y.FullPaths.length;++Re)if(pt=Y.FullPaths[Re].slice(At.length),it=Y.FileIndex[Re],!(!it.size||!it.content||pt=="Sh33tJ5")){var Yr=Ue,gr=ys(pt.length);for(De=0;De<pt.length;++De)gr.write_shift(1,pt.charCodeAt(De)&127);gr=gr.slice(0,gr.l),ut[et]=Mue.buf(it.content,0);var nn=it.content;Pe==8&&(nn=H(nn)),we=ys(30),we.write_shift(4,67324752),we.write_shift(2,20),we.write_shift(2,Qe),we.write_shift(2,Pe),it.mt?s(we,it.mt):we.write_shift(4,0),we.write_shift(-4,ut[et]),we.write_shift(4,nn.length),we.write_shift(4,it.content.length),we.write_shift(2,gr.length),we.write_shift(2,0),Ue+=we.length,ue.push(we),Ue+=gr.length,ue.push(gr),Ue+=nn.length,ue.push(nn),we=ys(46),we.write_shift(4,33639248),we.write_shift(2,0),we.write_shift(2,20),we.write_shift(2,Qe),we.write_shift(2,Pe),we.write_shift(4,0),we.write_shift(-4,ut[et]),we.write_shift(4,nn.length),we.write_shift(4,it.content.length),we.write_shift(2,gr.length),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(4,0),we.write_shift(4,Yr),$t+=we.l,fe.push(we),$t+=gr.length,fe.push(gr),++et}return we=ys(22),we.write_shift(4,101010256),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,et),we.write_shift(2,et),we.write_shift(4,$t),we.write_shift(4,Ue),we.write_shift(2,0),xd([xd(ue),xd(fe),we])}var Wt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function br(Y,ge){if(Y.ctype)return Y.ctype;var le=Y.name||"",ue=le.match(/\.([^\.]+)$/);return ue&&Wt[ue[1]]||ge&&(ue=(le=ge).match(/[\.\\]([^\.\\])+$/),ue&&Wt[ue[1]])?Wt[ue[1]]:"application/octet-stream"}function Yl(Y){for(var ge=H8(Y),le=[],ue=0;ue<ge.length;ue+=76)le.push(ge.slice(ue,ue+76));return le.join(`\r
`)+`\r
`}function Ai(Y){var ge=Y.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(De){var Ue=De.charCodeAt(0).toString(16).toUpperCase();return"="+(Ue.length==1?"0"+Ue:Ue)});ge=ge.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ge.charAt(0)==`
`&&(ge="=0D"+ge.slice(1)),ge=ge.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var le=[],ue=ge.split(`\r
`),fe=0;fe<ue.length;++fe){var we=ue[fe];if(we.length==0){le.push("");continue}for(var Pe=0;Pe<we.length;){var Qe=76,Re=we.slice(Pe,Pe+Qe);Re.charAt(Qe-1)=="="?Qe--:Re.charAt(Qe-2)=="="?Qe-=2:Re.charAt(Qe-3)=="="&&(Qe-=3),Re=we.slice(Pe,Pe+Qe),Pe+=Qe,Pe<we.length&&(Re+="="),le.push(Re)}}return le.join(`\r
`)}function Bo(Y){for(var ge=[],le=0;le<Y.length;++le){for(var ue=Y[le];le<=Y.length&&ue.charAt(ue.length-1)=="=";)ue=ue.slice(0,ue.length-1)+Y[++le];ge.push(ue)}for(var fe=0;fe<ge.length;++fe)ge[fe]=ge[fe].replace(/[=][0-9A-Fa-f]{2}/g,function(we){return String.fromCharCode(parseInt(we.slice(1),16))});return pc(ge.join(`\r
`))}function Fs(Y,ge,le){for(var ue="",fe="",we="",Pe,Qe=0;Qe<10;++Qe){var Re=ge[Qe];if(!Re||Re.match(/^\s*$/))break;var De=Re.match(/^(.*?):\s*([^\s].*)$/);if(De)switch(De[1].toLowerCase()){case"content-location":ue=De[2].trim();break;case"content-type":we=De[2].trim();break;case"content-transfer-encoding":fe=De[2].trim();break}}switch(++Qe,fe.toLowerCase()){case"base64":Pe=pc($l(ge.slice(Qe).join("")));break;case"quoted-printable":Pe=Bo(ge.slice(Qe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+fe)}var Ue=xi(Y,ue.slice(le.length),Pe,{unsafe:!0});we&&(Ue.ctype=we)}function Kt(Y,ge){if(W(Y.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var le=ge&&ge.root||"",ue=(Mr&&Buffer.isBuffer(Y)?Y.toString("binary"):W(Y)).split(`\r
`),fe=0,we="";for(fe=0;fe<ue.length;++fe)if(we=ue[fe],!!/^Content-Location:/i.test(we)&&(we=we.slice(we.indexOf("file")),le||(le=we.slice(0,we.lastIndexOf("/")+1)),we.slice(0,le.length)!=le))for(;le.length>0&&(le=le.slice(0,le.length-1),le=le.slice(0,le.lastIndexOf("/")+1),we.slice(0,le.length)!=le););var Pe=(ue[1]||"").match(/boundary="(.*?)"/);if(!Pe)throw new Error("MAD cannot find boundary");var Qe="--"+(Pe[1]||""),Re=[],De=[],Ue={FileIndex:Re,FullPaths:De};B(Ue);var et,At=0;for(fe=0;fe<ue.length;++fe){var pt=ue[fe];pt!==Qe&&pt!==Qe+"--"||(At++&&Fs(Ue,ue.slice(et,fe),le),et=fe)}return Ue}function Sn(Y,ge){var le=ge||{},ue=le.boundary||"SheetJS";ue="------="+ue;for(var fe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ue.slice(2)+'"',"","",""],we=Y.FullPaths[0],Pe=we,Qe=Y.FileIndex[0],Re=1;Re<Y.FullPaths.length;++Re)if(Pe=Y.FullPaths[Re].slice(we.length),Qe=Y.FileIndex[Re],!(!Qe.size||!Qe.content||Pe=="Sh33tJ5")){Pe=Pe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function($t){return"_x"+$t.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function($t){return"_u"+$t.charCodeAt(0).toString(16)+"_"});for(var De=Qe.content,Ue=Mr&&Buffer.isBuffer(De)?De.toString("binary"):W(De),et=0,At=Math.min(1024,Ue.length),pt=0,it=0;it<=At;++it)(pt=Ue.charCodeAt(it))>=32&&pt<128&&++et;var ut=et>=At*4/5;fe.push(ue),fe.push("Content-Location: "+(le.root||"file:///C:/SheetJS/")+Pe),fe.push("Content-Transfer-Encoding: "+(ut?"quoted-printable":"base64")),fe.push("Content-Type: "+br(Qe,Pe)),fe.push(""),fe.push(ut?Ai(Ue):Yl(Ue))}return fe.push(ue+`--\r
`),fe.join(`\r
`)}function So(Y){var ge={};return B(ge,Y),ge}function xi(Y,ge,le,ue){var fe=ue&&ue.unsafe;fe||B(Y);var we=!fe&&Vr.find(Y,ge);if(!we){var Pe=Y.FullPaths[0];ge.slice(0,Pe.length)==Pe?Pe=ge:(Pe.slice(-1)!="/"&&(Pe+="/"),Pe=(Pe+ge).replace("//","/")),we={name:i(ge),type:2},Y.FileIndex.push(we),Y.FullPaths.push(Pe),fe||Vr.utils.cfb_gc(Y)}return we.content=le,we.size=le?le.length:0,ue&&(ue.CLSID&&(we.clsid=ue.CLSID),ue.mt&&(we.mt=ue.mt),ue.ct&&(we.ct=ue.ct)),we}function Zi(Y,ge){B(Y);var le=Vr.find(Y,ge);if(le){for(var ue=0;ue<Y.FileIndex.length;++ue)if(Y.FileIndex[ue]==le)return Y.FileIndex.splice(ue,1),Y.FullPaths.splice(ue,1),!0}return!1}function Nn(Y,ge,le){B(Y);var ue=Vr.find(Y,ge);if(ue){for(var fe=0;fe<Y.FileIndex.length;++fe)if(Y.FileIndex[fe]==ue)return Y.FileIndex[fe].name=i(le),Y.FullPaths[fe]=le,!0}return!1}function _i(Y){b(Y,!0)}return e.find=T,e.read=R,e.parse=c,e.write=pe,e.writeFile=re,e.utils={cfb_new:So,cfb_add:xi,cfb_del:Zi,cfb_mov:Nn,cfb_gc:_i,ReadShift:Mx,CheckField:P$,prep_blob:la,bconcat:xd,use_zlib:P,_deflateRaw:at,_inflateRaw:pr,consts:te},e}();function Oue(r){if(typeof Deno<"u")return Deno.readFileSync(r);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(r);e.open("r"),e.encoding="binary";var t=e.read();return e.close(),t}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+r)}function Ou(r){for(var e=Object.keys(r),t=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(r,e[n])&&t.push(e[n]);return t}function vU(r){for(var e=[],t=Ou(r),n=0;n!==t.length;++n)e[r[t[n]]]=t[n];return e}var IT=new Date(1899,11,30,0,0,0);function bo(r,e){var t=r.getTime(),n=IT.getTime()+(r.getTimezoneOffset()-IT.getTimezoneOffset())*6e4;return(t-n)/(24*60*60*1e3)}var h$=new Date,Que=IT.getTime()+(h$.getTimezoneOffset()-IT.getTimezoneOffset())*6e4,X8=h$.getTimezoneOffset();function _4(r){var e=new Date;return e.setTime(r*24*60*60*1e3+Que),e.getTimezoneOffset()!==X8&&e.setTime(e.getTime()+(e.getTimezoneOffset()-X8)*6e4),e}function Hue(r){var e=0,t=0,n=!1,i=r.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+r+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(t=1,s>3&&(n=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":t*=24;case"H":t*=60;case"M":if(n)t*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=t*parseInt(i[s],10)}return e}var Y8=new Date("2017-02-19T19:06:09.000Z"),f$=isNaN(Y8.getFullYear())?new Date("2/19/17"):Y8,Vue=f$.getFullYear()==2017;function zs(r,e){var t=new Date(r);if(Vue)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(r instanceof Date)return r;if(f$.getFullYear()==1917&&!isNaN(t.getFullYear())){var n=t.getFullYear();return r.indexOf(""+n)>-1||t.setFullYear(t.getFullYear()+100),t}var i=r.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return r.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function Qm(r,e){if(Mr&&Buffer.isBuffer(r)){if(e){if(r[0]==255&&r[1]==254)return j2(r.slice(2).toString("utf16le"));if(r[1]==254&&r[2]==255)return j2(ZG(r.slice(2).toString("binary")))}return r.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(r[0]==255&&r[1]==254)return j2(new TextDecoder("utf-16le").decode(r.slice(2)));if(r[0]==254&&r[1]==255)return j2(new TextDecoder("utf-16be").decode(r.slice(2)))}var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(r)&&(r=new Uint8Array(r)),new TextDecoder("latin1").decode(r).replace(/[]/g,function(s){return t[s]||s})}catch{}for(var n=[],i=0;i!=r.length;++i)n.push(String.fromCharCode(r[i]));return n.join("")}function da(r){if(typeof JSON<"u"&&!Array.isArray(r))return JSON.parse(JSON.stringify(r));if(typeof r!="object"||r==null)return r;if(r instanceof Date)return new Date(r.getTime());var e={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=da(r[t]));return e}function Pi(r,e){for(var t="";t.length<e;)t+=r;return t}function bc(r){var e=Number(r);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(r))return e;var t=1,n=r.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,s){return t=-t,s}),!isNaN(e=Number(n)))?e/t:e}var jue=["january","february","march","april","may","june","july","august","september","october","november","december"];function xy(r){var e=new Date(r),t=new Date(NaN),n=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return t;var a=r.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&jue.indexOf(a)==-1)return t}else if(a.match(/[a-z]/))return t;return n<0||n>8099?t:(i>0||s>1)&&n!=101?e:r.match(/[^-0-9:,\/\\]/)?t:e}var Kue=function(){var r="abacaba".split(/(:?b)/i).length==5;return function(t,n,i){if(r||typeof n=="string")return t.split(n);for(var s=t.split(n),a=[s[0]],o=1;o<s.length;++o)a.push(i),a.push(s[o]);return a}}();function d$(r){return r?r.content&&r.type?Qm(r.content,!0):r.data?Q2(r.data):r.asNodeBuffer&&Mr?Q2(r.asNodeBuffer().toString("binary")):r.asBinary?Q2(r.asBinary()):r._data&&r._data.getContent?Q2(Qm(Array.prototype.slice.call(r._data.getContent(),0))):null:null}function p$(r){if(!r)return null;if(r.data)return O8(r.data);if(r.asNodeBuffer&&Mr)return r.asNodeBuffer();if(r._data&&r._data.getContent){var e=r._data.getContent();return typeof e=="string"?O8(e):Array.prototype.slice.call(e)}return r.content&&r.type?r.content:null}function zue(r){return r&&r.name.slice(-4)===".bin"?p$(r):d$(r)}function AA(r,e){for(var t=r.FullPaths||Ou(r.files),n=e.toLowerCase().replace(/[\/]/g,"\\"),i=n.replace(/\\/g,"/"),s=0;s<t.length;++s){var a=t[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==a||i==a)return r.files?r.files[t[s]]:r.FileIndex[s]}return null}function wU(r,e){var t=AA(r,e);if(t==null)throw new Error("Cannot find file "+e+" in zip");return t}function as(r,e,t){if(!t)return zue(wU(r,e));if(!e)return null;try{return as(r,e)}catch{return null}}function Vl(r,e,t){if(!t)return d$(wU(r,e));if(!e)return null;try{return Vl(r,e)}catch{return null}}function Wue(r,e,t){return p$(wU(r,e))}function J8(r){for(var e=r.FullPaths||Ou(r.files),t=[],n=0;n<e.length;++n)e[n].slice(-1)!="/"&&t.push(e[n].replace(/^Root Entry[\/]/,""));return t.sort()}function Gue(r,e,t){if(r.FullPaths){if(typeof t=="string"){var n;return Mr?n=Zm(t):n=hue(t),Vr.utils.cfb_add(r,e,n)}Vr.utils.cfb_add(r,e,t)}else r.file(e,t)}function g$(r,e){switch(e.type){case"base64":return Vr.read(r,{type:"base64"});case"binary":return Vr.read(r,{type:"binary"});case"buffer":case"array":return Vr.read(r,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function V2(r,e){if(r.charAt(0)=="/")return r.slice(1);var t=e.split("/");e.slice(-1)!="/"&&t.pop();for(var n=r.split("/");n.length!==0;){var i=n.shift();i===".."?t.pop():i!=="."&&t.push(i)}return t.join("/")}var m$=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,$ue=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,Z8=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,que=/<[^>]*>/g,Ja=m$.match(Z8)?Z8:que,Xue=/<\w*:/,Yue=/<(\/?)\w+:/;function er(r,e,t){for(var n={},i=0,s=0;i!==r.length&&!((s=r.charCodeAt(i))===32||s===10||s===13);++i);if(e||(n[0]=r.slice(0,i)),i===r.length)return n;var a=r.match($ue),o=0,l="",A=0,c="",u="",h=1;if(a)for(A=0;A!=a.length;++A){for(u=a[A],s=0;s!=u.length&&u.charCodeAt(s)!==61;++s);for(c=u.slice(0,s).trim();u.charCodeAt(s+1)==32;)++s;for(h=(i=u.charCodeAt(s+1))==34||i==39?1:0,l=u.slice(s+1+h,u.length-h),o=0;o!=c.length&&c.charCodeAt(o)!==58;++o);if(o===c.length)c.indexOf("_")>0&&(c=c.slice(0,c.indexOf("_"))),n[c]=l,n[c.toLowerCase()]=l;else{var f=(o===5&&c.slice(0,5)==="xmlns"?"xmlns":"")+c.slice(o+1);if(n[f]&&c.slice(o-3,o)=="ext")continue;n[f]=l,n[f.toLowerCase()]=l}}return n}function ju(r){return r.replace(Yue,"<$1")}var v$={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Jue=vU(v$),$r=function(){var r=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function t(n){var i=n+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(r,function(o,l){return v$[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(e,function(o,l){return String.fromCharCode(parseInt(l,16))});var a=i.indexOf("]]>");return t(i.slice(0,s))+i.slice(s+9,a)+t(i.slice(a+3))}}(),Zue=/[&<>'"]/g,ehe=/[\u0000-\u001f]/g;function yU(r){var e=r+"";return e.replace(Zue,function(t){return Jue[t]}).replace(/\n/g,"<br/>").replace(ehe,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}var eQ=function(){var r=/&#(\d+);/g;function e(t,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(r,e)}}();function si(r){switch(r){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function ZI(r){for(var e="",t=0,n=0,i=0,s=0,a=0,o=0;t<r.length;){if(n=r.charCodeAt(t++),n<128){e+=String.fromCharCode(n);continue}if(i=r.charCodeAt(t++),n>191&&n<224){a=(n&31)<<6,a|=i&63,e+=String.fromCharCode(a);continue}if(s=r.charCodeAt(t++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|s&63);continue}a=r.charCodeAt(t++),o=((n&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function tQ(r){var e=tp(2*r.length),t,n,i=1,s=0,a=0,o;for(n=0;n<r.length;n+=i)i=1,(o=r.charCodeAt(n))<128?t=o:o<224?(t=(o&31)*64+(r.charCodeAt(n+1)&63),i=2):o<240?(t=(o&15)*4096+(r.charCodeAt(n+1)&63)*64+(r.charCodeAt(n+2)&63),i=3):(i=4,t=(o&7)*262144+(r.charCodeAt(n+1)&63)*4096+(r.charCodeAt(n+2)&63)*64+(r.charCodeAt(n+3)&63),t-=65536,a=55296+(t>>>10&1023),t=56320+(t&1023)),a!==0&&(e[s++]=a&255,e[s++]=a>>>8,a=0),e[s++]=t%256,e[s++]=t>>>8;return e.slice(0,s).toString("ucs2")}function rQ(r){return Zm(r,"binary").toString("utf8")}var uB="foo bar baz",zn=Mr&&(rQ(uB)==ZI(uB)&&rQ||tQ(uB)==ZI(uB)&&tQ)||ZI,j2=Mr?function(r){return Zm(r,"utf8").toString("binary")}:function(r){for(var e=[],t=0,n=0,i=0;t<r.length;)switch(n=r.charCodeAt(t++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=r.charCodeAt(t++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},D_=function(){var r={};return function(t,n){var i=t+"|"+(n||"");return r[i]?r[i]:r[i]=new RegExp("<(?:\\w+:)?"+t+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+t+">",n||"")}}(),w$=function(){var r=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var n=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<r.length;++i)n=n.replace(r[i][0],r[i][1]);return n}}(),the=function(){var r={};return function(t){return r[t]!==void 0?r[t]:r[t]=new RegExp("<(?:vt:)?"+t+">([\\s\\S]*?)</(?:vt:)?"+t+">","g")}}(),rhe=/<\/?(?:vt:)?variant>/g,nhe=/<(?:vt:)([^>]*)>([\s\S]*)</;function nQ(r,e){var t=er(r),n=r.match(the(t.baseType))||[],i=[];if(n.length!=t.size){if(e.WTF)throw new Error("unexpected vector length "+n.length+" != "+t.size);return i}return n.forEach(function(s){var a=s.replace(rhe,"").match(nhe);a&&i.push({v:zn(a[2]),t:a[1]})}),i}var ihe=/(^\s|\s$|\n)/;function she(r){return Ou(r).map(function(e){return" "+e+'="'+r[e]+'"'}).join("")}function ahe(r,e,t){return"<"+r+(t!=null?she(t):"")+(e!=null?(e.match(ihe)?' xml:space="preserve"':"")+">"+e+"</"+r:"/")+">"}function xU(r){if(Mr&&Buffer.isBuffer(r))return r.toString("utf8");if(typeof r=="string")return r;if(typeof Uint8Array<"u"&&r instanceof Uint8Array)return zn(e1(pU(r)));throw new Error("Bad input format: expected Buffer or string")}var N_=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,ohe={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},lhe=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function Ahe(r,e){for(var t=1-2*(r[e+7]>>>7),n=((r[e+7]&127)<<4)+(r[e+6]>>>4&15),i=r[e+6]&15,s=5;s>=0;--s)i=i*256+r[e+s];return n==2047?i==0?t*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),t*Math.pow(2,n-52)*i)}function che(r,e,t){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,a=n?-e:e;isFinite(a)?a==0?i=s=0:(i=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var o=0;o<=5;++o,s/=256)r[t+o]=s&255;r[t+6]=(i&15)<<4|s&15,r[t+7]=i>>4|n}var iQ=function(r){for(var e=[],t=10240,n=0;n<r[0].length;++n)if(r[0][n])for(var i=0,s=r[0][n].length;i<s;i+=t)e.push.apply(e,r[0][n].slice(i,i+t));return e},sQ=Mr?function(r){return r[0].length>0&&Buffer.isBuffer(r[0][0])?Buffer.concat(r[0].map(function(e){return Buffer.isBuffer(e)?e:Zm(e)})):iQ(r)}:iQ,aQ=function(r,e,t){for(var n=[],i=e;i<t;i+=2)n.push(String.fromCharCode(cf(r,i)));return n.join("").replace(yo,"")},_U=Mr?function(r,e,t){return Buffer.isBuffer(r)?r.toString("utf16le",e,t).replace(yo,""):aQ(r,e,t)}:aQ,oQ=function(r,e,t){for(var n=[],i=e;i<e+t;++i)n.push(("0"+r[i].toString(16)).slice(-2));return n.join("")},y$=Mr?function(r,e,t){return Buffer.isBuffer(r)?r.toString("hex",e,e+t):oQ(r,e,t)}:oQ,lQ=function(r,e,t){for(var n=[],i=e;i<t;i++)n.push(String.fromCharCode(R1(r,i)));return n.join("")},sC=Mr?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf8",t,n):lQ(e,t,n)}:lQ,x$=function(r,e){var t=Ql(r,e);return t>0?sC(r,e+4,e+4+t-1):""},_$=x$,b$=function(r,e){var t=Ql(r,e);return t>0?sC(r,e+4,e+4+t-1):""},E$=b$,C$=function(r,e){var t=2*Ql(r,e);return t>0?sC(r,e+4,e+4+t-1):""},B$=C$,S$=function(e,t){var n=Ql(e,t);return n>0?_U(e,t+4,t+4+n):""},T$=S$,F$=function(r,e){var t=Ql(r,e);return t>0?sC(r,e+4,e+4+t):""},I$=F$,k$=function(r,e){return Ahe(r,e)},kT=k$,L$=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Mr&&(_$=function(e,t){if(!Buffer.isBuffer(e))return x$(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},E$=function(e,t){if(!Buffer.isBuffer(e))return b$(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},B$=function(e,t){if(!Buffer.isBuffer(e))return C$(e,t);var n=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n-1)},T$=function(e,t){if(!Buffer.isBuffer(e))return S$(e,t);var n=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n)},I$=function(e,t){if(!Buffer.isBuffer(e))return F$(e,t);var n=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+n)},kT=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):k$(e,t)},L$=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var R1=function(r,e){return r[e]},cf=function(r,e){return r[e+1]*256+r[e]},uhe=function(r,e){var t=r[e+1]*256+r[e];return t<32768?t:(65535-t+1)*-1},Ql=function(r,e){return r[e+3]*(1<<24)+(r[e+2]<<16)+(r[e+1]<<8)+r[e]},Wp=function(r,e){return r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e]},hhe=function(r,e){return r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3]};function Mx(r,e){var t="",n,i,s=[],a,o,l,A;switch(e){case"dbcs":if(A=this.l,Mr&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*r).toString("utf16le");else for(l=0;l<r;++l)t+=String.fromCharCode(cf(this,A)),A+=2;r*=2;break;case"utf8":t=sC(this,this.l,this.l+r);break;case"utf16le":r*=2,t=_U(this,this.l,this.l+r);break;case"wstr":return Mx.call(this,r,"dbcs");case"lpstr-ansi":t=_$(this,this.l),r=4+Ql(this,this.l);break;case"lpstr-cp":t=E$(this,this.l),r=4+Ql(this,this.l);break;case"lpwstr":t=B$(this,this.l),r=4+2*Ql(this,this.l);break;case"lpp4":r=4+Ql(this,this.l),t=T$(this,this.l),r&2&&(r+=2);break;case"8lpp4":r=4+Ql(this,this.l),t=I$(this,this.l),r&3&&(r+=4-(r&3));break;case"cstr":for(r=0,t="";(a=R1(this,this.l+r++))!==0;)s.push(cB(a));t=s.join("");break;case"_wstr":for(r=0,t="";(a=cf(this,this.l+r))!==0;)s.push(cB(a)),r+=2;r+=2,t=s.join("");break;case"dbcs-cont":for(t="",A=this.l,l=0;l<r;++l){if(this.lens&&this.lens.indexOf(A)!==-1)return a=R1(this,A),this.l=A+1,o=Mx.call(this,r-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(cB(cf(this,A))),A+=2}t=s.join(""),r*=2;break;case"cpstr":case"sbcs-cont":for(t="",A=this.l,l=0;l!=r;++l){if(this.lens&&this.lens.indexOf(A)!==-1)return a=R1(this,A),this.l=A+1,o=Mx.call(this,r-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(cB(R1(this,A))),A+=1}t=s.join("");break;default:switch(r){case 1:return n=R1(this,this.l),this.l++,n;case 2:return n=(e==="i"?uhe:cf)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||!(this[this.l+3]&128)?(n=(r>0?Wp:hhe)(this,this.l),this.l+=4,n):(i=Ql(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return r==8?i=kT(this,this.l):i=kT([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;r=8;case 16:t=y$(this,this.l,r);break}}return this.l+=r,t}var fhe=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255,r[t+2]=e>>>16&255,r[t+3]=e>>>24&255},dhe=function(r,e,t){r[t]=e&255,r[t+1]=e>>8&255,r[t+2]=e>>16&255,r[t+3]=e>>24&255},phe=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255};function ghe(r,e,t){var n=0,i=0;if(t==="dbcs"){for(i=0;i!=e.length;++i)phe(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(t==="hex"){for(;i<r;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(t==="utf16le"){var s=Math.min(this.l+r,this.length);for(i=0;i<Math.min(e.length,r);++i){var a=e.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(r){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,fhe(this,e,this.l);break;case 8:if(n=8,t==="f"){che(this,e,this.l);break}case 16:break;case-4:n=4,dhe(this,e,this.l);break}return this.l+=n,this}function P$(r,e){var t=y$(this,this.l,r.length>>1);if(t!==r)throw new Error(e+"Expected "+r+" saw "+t);this.l+=r.length>>1}function la(r,e){r.l=e,r.read_shift=Mx,r.chk=P$,r.write_shift=ghe}function Xa(r,e){r.l+=e}function ys(r){var e=tp(r);return la(e,0),e}function Uf(r,e,t){if(r){var n,i,s;la(r,r.l||0);for(var a=r.length,o=0,l=0;r.l<a;){o=r.read_shift(1),o&128&&(o=(o&127)+((r.read_shift(1)&127)<<7));var A=UT[o]||UT[65535];for(n=r.read_shift(1),s=n&127,i=1;i<4&&n&128;++i)s+=((n=r.read_shift(1))&127)<<7*i;l=r.l+s;var c=A.f&&A.f(r,s,t);if(r.l=l,e(c,A,o))return}}}function HL(){var r=[],e=Mr?256:2048,t=function(A){var c=ys(A);return la(c,0),c},n=t(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&r.push(n),n=null)},s=function(A){return n&&A<n.length-n.l?n:(i(),n=t(Math.max(A+1,e)))},a=function(){return i(),xd(r)},o=function(A){i(),n=A,n.l==null&&(n.l=n.length),s(e)};return{next:s,push:o,end:a,_bufs:r}}function Ox(r,e,t){var n=da(r);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!t||t.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function AQ(r,e,t){var n=da(r);return n.s=Ox(n.s,e.s,t),n.e=Ox(n.e,e.s,t),n}function Qx(r,e){if(r.cRel&&r.c<0)for(r=da(r);r.c<0;)r.c+=e>8?16384:256;if(r.rRel&&r.r<0)for(r=da(r);r.r<0;)r.r+=e>8?1048576:e>5?65536:16384;var t=lr(r);return!r.cRel&&r.cRel!=null&&(t=whe(t)),!r.rRel&&r.rRel!=null&&(t=mhe(t)),t}function ek(r,e){return r.s.r==0&&!r.s.rRel&&r.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!r.e.rRel?(r.s.cRel?"":"$")+Es(r.s.c)+":"+(r.e.cRel?"":"$")+Es(r.e.c):r.s.c==0&&!r.s.cRel&&r.e.c==(e.biff>=12?16383:255)&&!r.e.cRel?(r.s.rRel?"":"$")+pa(r.s.r)+":"+(r.e.rRel?"":"$")+pa(r.e.r):Qx(r.s,e.biff)+":"+Qx(r.e,e.biff)}function bU(r){return parseInt(vhe(r),10)-1}function pa(r){return""+(r+1)}function mhe(r){return r.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function vhe(r){return r.replace(/\$(\d+)$/,"$1")}function EU(r){for(var e=yhe(r),t=0,n=0;n!==e.length;++n)t=26*t+e.charCodeAt(n)-64;return t-1}function Es(r){if(r<0)throw new Error("invalid column "+r);var e="";for(++r;r;r=Math.floor((r-1)/26))e=String.fromCharCode((r-1)%26+65)+e;return e}function whe(r){return r.replace(/^([A-Z])/,"$$$1")}function yhe(r){return r.replace(/^\$([A-Z])/,"$1")}function xhe(r){return r.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function mo(r){for(var e=0,t=0,n=0;n<r.length;++n){var i=r.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(t=26*t+(i-64))}return{c:t-1,r:e-1}}function lr(r){for(var e=r.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(r.r+1)}function My(r){var e=r.indexOf(":");return e==-1?{s:mo(r),e:mo(r)}:{s:mo(r.slice(0,e)),e:mo(r.slice(e+1))}}function jr(r,e){return typeof e>"u"||typeof e=="number"?jr(r.s,r.e):(typeof r!="string"&&(r=lr(r)),typeof e!="string"&&(e=lr(e)),r==e?r:r+":"+e)}function Ni(r){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,n=0,i=0,s=r.length;for(t=0;n<s&&!((i=r.charCodeAt(n)-64)<1||i>26);++n)t=26*t+i;for(e.s.c=--t,t=0;n<s&&!((i=r.charCodeAt(n)-48)<0||i>9);++n)t=10*t+i;if(e.s.r=--t,n===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,t=0;n!=s&&!((i=r.charCodeAt(n)-64)<1||i>26);++n)t=26*t+i;for(e.e.c=--t,t=0;n!=s&&!((i=r.charCodeAt(n)-48)<0||i>9);++n)t=10*t+i;return e.e.r=--t,e}function cQ(r,e){var t=r.t=="d"&&e instanceof Date;if(r.z!=null)try{return r.w=RA(r.z,t?bo(e):e)}catch{}try{return r.w=RA((r.XF||{}).numFmtId||(t?14:0),t?bo(e):e)}catch{return""+e}}function kf(r,e,t){return r==null||r.t==null||r.t=="z"?"":r.w!==void 0?r.w:(r.t=="d"&&!r.z&&t&&t.dateNF&&(r.z=t.dateNF),r.t=="e"?n1[r.v]||r.v:e==null?cQ(r,r.v):cQ(r,e))}function dp(r,e){var t=e&&e.sheet?e.sheet:"Sheet1",n={};return n[t]=r,{SheetNames:[t],Sheets:n}}function R$(r,e,t){var n=t||{},i=r?Array.isArray(r):n.dense,s=r||(i?[]:{}),a=0,o=0;if(s&&n.origin!=null){if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?mo(n.origin):n.origin;a=l.r,o=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var A={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var c=Ni(s["!ref"]);A.s.c=c.s.c,A.s.r=c.s.r,A.e.c=Math.max(A.e.c,c.e.c),A.e.r=Math.max(A.e.r,c.e.r),a==-1&&(A.e.r=a=c.e.r+1)}for(var u=0;u!=e.length;++u)if(e[u]){if(!Array.isArray(e[u]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=e[u].length;++h)if(!(typeof e[u][h]>"u")){var f={v:e[u][h]},g=a+u,p=o+h;if(A.s.r>g&&(A.s.r=g),A.s.c>p&&(A.s.c=p),A.e.r<g&&(A.e.r=g),A.e.c<p&&(A.e.c=p),e[u][h]&&typeof e[u][h]=="object"&&!Array.isArray(e[u][h])&&!(e[u][h]instanceof Date))f=e[u][h];else if(Array.isArray(f.v)&&(f.f=e[u][h][1],f.v=f.v[0]),f.v===null)if(f.f)f.t="n";else if(n.nullError)f.t="e",f.v=0;else if(n.sheetStubs)f.t="z";else continue;else typeof f.v=="number"?f.t="n":typeof f.v=="boolean"?f.t="b":f.v instanceof Date?(f.z=n.dateNF||vr[14],n.cellDates?(f.t="d",f.w=RA(f.z,bo(f.v))):(f.t="n",f.v=bo(f.v),f.w=RA(f.z,f.v))):f.t="s";if(i)s[g]||(s[g]=[]),s[g][p]&&s[g][p].z&&(f.z=s[g][p].z),s[g][p]=f;else{var v=lr({c:p,r:g});s[v]&&s[v].z&&(f.z=s[v].z),s[v]=f}}}return A.s.c<1e7&&(s["!ref"]=jr(A)),s}function Oy(r,e){return R$(null,r,e)}function _he(r){return r.read_shift(4,"i")}function Ga(r){var e=r.read_shift(4);return e===0?"":r.read_shift(e,"dbcs")}function bhe(r){return{ich:r.read_shift(2),ifnt:r.read_shift(2)}}function CU(r,e){var t=r.l,n=r.read_shift(1),i=Ga(r),s=[],a={t:i,h:i};if(n&1){for(var o=r.read_shift(4),l=0;l!=o;++l)s.push(bhe(r));a.r=s}else a.r=[{ich:0,ifnt:0}];return r.l=t+e,a}var Ehe=CU;function UA(r){var e=r.read_shift(4),t=r.read_shift(2);return t+=r.read_shift(1)<<16,r.l++,{c:e,iStyleRef:t}}function t1(r){var e=r.read_shift(2);return e+=r.read_shift(1)<<16,r.l++,{c:-1,iStyleRef:e}}var Che=Ga;function BU(r){var e=r.read_shift(4);return e===0||e===4294967295?"":r.read_shift(e,"dbcs")}var Bhe=Ga,VL=BU;function SU(r){var e=r.slice(r.l,r.l+4),t=e[0]&1,n=e[0]&2;r.l+=4;var i=n===0?kT([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Wp(e,0)>>2;return t?i/100:i}function D$(r){var e={s:{},e:{}};return e.s.r=r.read_shift(4),e.e.r=r.read_shift(4),e.s.c=r.read_shift(4),e.e.c=r.read_shift(4),e}var r1=D$;function Ka(r){if(r.length-r.l<8)throw"XLS Xnum Buffer underflow";return r.read_shift(8,"f")}function She(r){var e={},t=r.read_shift(1),n=t>>>1,i=r.read_shift(1),s=r.read_shift(2,"i"),a=r.read_shift(1),o=r.read_shift(1),l=r.read_shift(1);switch(r.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var A=bm[i];A&&(e.rgb=M_(A));break;case 2:e.rgb=M_([a,o,l]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function The(r){var e=r.read_shift(1);r.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function N$(r,e){var t={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=r.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return t[r.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return r.l-=4,r.read_shift(0,e==1?"lpstr":"lpwstr")}function Fhe(r){return N$(r,1)}function Ihe(r){return N$(r,2)}var TU=2,zo=3,hB=11,uQ=12,LT=19,fB=64,khe=65,Lhe=71,Phe=4108,Rhe=4126,Qs=80,U$=81,Dhe=[Qs,U$],Nhe={1:{n:"CodePage",t:TU},2:{n:"Category",t:Qs},3:{n:"PresentationFormat",t:Qs},4:{n:"ByteCount",t:zo},5:{n:"LineCount",t:zo},6:{n:"ParagraphCount",t:zo},7:{n:"SlideCount",t:zo},8:{n:"NoteCount",t:zo},9:{n:"HiddenCount",t:zo},10:{n:"MultimediaClipCount",t:zo},11:{n:"ScaleCrop",t:hB},12:{n:"HeadingPairs",t:Phe},13:{n:"TitlesOfParts",t:Rhe},14:{n:"Manager",t:Qs},15:{n:"Company",t:Qs},16:{n:"LinksUpToDate",t:hB},17:{n:"CharacterCount",t:zo},19:{n:"SharedDoc",t:hB},22:{n:"HyperlinksChanged",t:hB},23:{n:"AppVersion",t:zo,p:"version"},24:{n:"DigSig",t:khe},26:{n:"ContentType",t:Qs},27:{n:"ContentStatus",t:Qs},28:{n:"Language",t:Qs},29:{n:"Version",t:Qs},255:{},2147483648:{n:"Locale",t:LT},2147483651:{n:"Behavior",t:LT},1919054434:{}},Uhe={1:{n:"CodePage",t:TU},2:{n:"Title",t:Qs},3:{n:"Subject",t:Qs},4:{n:"Author",t:Qs},5:{n:"Keywords",t:Qs},6:{n:"Comments",t:Qs},7:{n:"Template",t:Qs},8:{n:"LastAuthor",t:Qs},9:{n:"RevNumber",t:Qs},10:{n:"EditTime",t:fB},11:{n:"LastPrinted",t:fB},12:{n:"CreatedDate",t:fB},13:{n:"ModifiedDate",t:fB},14:{n:"PageCount",t:zo},15:{n:"WordCount",t:zo},16:{n:"CharCount",t:zo},17:{n:"Thumbnail",t:Lhe},18:{n:"Application",t:Qs},19:{n:"DocSecurity",t:zo},255:{},2147483648:{n:"Locale",t:LT},2147483651:{n:"Behavior",t:LT},1919054434:{}},hQ={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Mhe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Ohe(r){return r.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var Qhe=Ohe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),bm=da(Qhe),n1={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},M$={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},fQ={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function Hhe(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Vhe(r){var e=Hhe();if(!r||!r.match)return e;var t={};if((r.match(Ja)||[]).forEach(function(n){var i=er(n);switch(i[0].replace(Xue,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":t[i.Extension]=i.ContentType;break;case"<Override":e[fQ[i.ContentType]]!==void 0&&e[fQ[i.ContentType]].push(i.PartName);break}}),e.xmlns!==ohe.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=t,delete e.calcchains,e}var av={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function jL(r){var e=r.lastIndexOf("/");return r.slice(0,e+1)+"_rels/"+r.slice(e+1)+".rels"}function Hx(r,e){var t={"!id":{}};if(!r)return t;e.charAt(0)!=="/"&&(e="/"+e);var n={};return(r.match(Ja)||[]).forEach(function(i){var s=er(i);if(s[0]==="<Relationship"){var a={};a.Type=s.Type,a.Target=s.Target,a.Id=s.Id,s.TargetMode&&(a.TargetMode=s.TargetMode);var o=s.TargetMode==="External"?s.Target:V2(s.Target,e);t[o]=a,n[s.Id]=a}}),t["!id"]=n,t}var jhe="application/vnd.oasis.opendocument.spreadsheet";function Khe(r,e){for(var t=xU(r),n,i;n=N_.exec(t);)switch(n[3]){case"manifest":break;case"file-entry":if(i=er(n[0],!1),i.path=="/"&&i.type!==jhe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw n}}var Vx=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],zhe=function(){for(var r=new Array(Vx.length),e=0;e<Vx.length;++e){var t=Vx[e],n="(?:"+t[0].slice(0,t[0].indexOf(":"))+":)"+t[0].slice(t[0].indexOf(":")+1);r[e]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return r}();function O$(r){var e={};r=zn(r);for(var t=0;t<Vx.length;++t){var n=Vx[t],i=r.match(zhe[t]);i!=null&&i.length>0&&(e[n[1]]=$r(i[1])),n[2]==="date"&&e[n[1]]&&(e[n[1]]=zs(e[n[1]]))}return e}var Whe=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function Q$(r,e,t,n){var i=[];if(typeof r=="string")i=nQ(r,n);else for(var s=0;s<r.length;++s)i=i.concat(r[s].map(function(c){return{v:c}}));var a=typeof e=="string"?nQ(e,n).map(function(c){return c.v}):e,o=0,l=0;if(a.length>0)for(var A=0;A!==i.length;A+=2){switch(l=+i[A+1].v,i[A].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":t.Worksheets=l,t.SheetNames=a.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":t.NamedRanges=l,t.DefinedNames=a.slice(o,o+l);break;case"Charts":case"Diagramme":t.Chartsheets=l,t.ChartNames=a.slice(o,o+l);break}o+=l}}function Ghe(r,e,t){var n={};return e||(e={}),r=zn(r),Whe.forEach(function(i){var s=(r.match(D_(i[0]))||[])[1];switch(i[2]){case"string":s&&(e[i[1]]=$r(s));break;case"bool":e[i[1]]=s==="true";break;case"raw":var a=r.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));a&&a.length>0&&(n[i[1]]=a[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&Q$(n.HeadingPairs,n.TitlesOfParts,e,t),e}var $he=/<[^>]+>[^<]*/g;function qhe(r,e){var t={},n="",i=r.match($he);if(i)for(var s=0;s!=i.length;++s){var a=i[s],o=er(a);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=$r(o.name);break;case"</property>":n=null;break;default:if(a.indexOf("<vt:")===0){var l=a.split(">"),A=l[0].slice(4),c=l[1];switch(A){case"lpstr":case"bstr":case"lpwstr":t[n]=$r(c);break;case"bool":t[n]=si(c);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":t[n]=parseInt(c,10);break;case"r4":case"r8":case"decimal":t[n]=parseFloat(c);break;case"filetime":case"date":t[n]=zs(c);break;case"cy":case"error":t[n]=$r(c);break;default:if(A.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",a,A,l)}}else if(a.slice(0,2)!=="</"){if(e.WTF)throw new Error(a)}}}return t}var Xhe={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},tk;function Yhe(r,e,t){tk||(tk=vU(Xhe)),e=tk[e]||e,r[e]=t}function FU(r){var e=r.read_shift(4),t=r.read_shift(4);return new Date((t/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function H$(r,e,t){var n=r.l,i=r.read_shift(0,"lpstr-cp");if(t)for(;r.l-n&3;)++r.l;return i}function V$(r,e,t){var n=r.read_shift(0,"lpwstr");return n}function j$(r,e,t){return e===31?V$(r):H$(r,e,t)}function KL(r,e,t){return j$(r,e,t===!1?0:4)}function Jhe(r,e){if(!e)throw new Error("VtUnalignedString must have positive length");return j$(r,e,0)}function Zhe(r){for(var e=r.read_shift(4),t=[],n=0;n!=e;++n){var i=r.l;t[n]=r.read_shift(0,"lpwstr").replace(yo,""),r.l-i&2&&(r.l+=2)}return t}function efe(r){for(var e=r.read_shift(4),t=[],n=0;n!=e;++n)t[n]=r.read_shift(0,"lpstr-cp").replace(yo,"");return t}function tfe(r){var e=r.l,t=PT(r,U$);r[r.l]==0&&r[r.l+1]==0&&r.l-e&2&&(r.l+=2);var n=PT(r,zo);return[t,n]}function rfe(r){for(var e=r.read_shift(4),t=[],n=0;n<e/2;++n)t.push(tfe(r));return t}function dQ(r,e){for(var t=r.read_shift(4),n={},i=0;i!=t;++i){var s=r.read_shift(4),a=r.read_shift(4);n[s]=r.read_shift(a,e===1200?"utf16le":"utf8").replace(yo,"").replace(H2,"!"),e===1200&&a%2&&(r.l+=2)}return r.l&3&&(r.l=r.l>>3<<2),n}function K$(r){var e=r.read_shift(4),t=r.slice(r.l,r.l+e);return r.l+=e,(e&3)>0&&(r.l+=4-(e&3)&3),t}function nfe(r){var e={};return e.Size=r.read_shift(4),r.l+=e.Size+3-(e.Size-1)%4,e}function PT(r,e,t){var n=r.read_shift(2),i,s=t||{};if(r.l+=2,e!==uQ&&n!==e&&Dhe.indexOf(e)===-1&&!((e&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+e+" saw "+n);switch(e===uQ?n:e){case 2:return i=r.read_shift(2,"i"),s.raw||(r.l+=2),i;case 3:return i=r.read_shift(4,"i"),i;case 11:return r.read_shift(4)!==0;case 19:return i=r.read_shift(4),i;case 30:return H$(r,n,4).replace(yo,"");case 31:return V$(r);case 64:return FU(r);case 65:return K$(r);case 71:return nfe(r);case 80:return KL(r,n,!s.raw).replace(yo,"");case 81:return Jhe(r,n).replace(yo,"");case 4108:return rfe(r);case 4126:case 4127:return n==4127?Zhe(r):efe(r);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+n)}}function pQ(r,e){var t=r.l,n=r.read_shift(4),i=r.read_shift(4),s=[],a=0,o=0,l=-1,A={};for(a=0;a!=i;++a){var c=r.read_shift(4),u=r.read_shift(4);s[a]=[c,u+t]}s.sort(function(x,_){return x[1]-_[1]});var h={};for(a=0;a!=i;++a){if(r.l!==s[a][1]){var f=!0;if(a>0&&e)switch(e[s[a-1][0]].t){case 2:r.l+2===s[a][1]&&(r.l+=2,f=!1);break;case 80:r.l<=s[a][1]&&(r.l=s[a][1],f=!1);break;case 4108:r.l<=s[a][1]&&(r.l=s[a][1],f=!1);break}if((!e||a==0)&&r.l<=s[a][1]&&(f=!1,r.l=s[a][1]),f)throw new Error("Read Error: Expected address "+s[a][1]+" at "+r.l+" :"+a)}if(e){var g=e[s[a][0]];if(h[g.n]=PT(r,g.t,{raw:!0}),g.p==="version"&&(h[g.n]=String(h[g.n]>>16)+"."+("0000"+String(h[g.n]&65535)).slice(-4)),g.n=="CodePage")switch(h[g.n]){case 0:h[g.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:mc(o=h[g.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[g.n])}}else if(s[a][0]===1){if(o=h.CodePage=PT(r,TU),mc(o),l!==-1){var p=r.l;r.l=s[l][1],A=dQ(r,o),r.l=p}}else if(s[a][0]===0){if(o===0){l=a,r.l=s[a+1][1];continue}A=dQ(r,o)}else{var v=A[s[a][0]],m;switch(r[r.l]){case 65:r.l+=4,m=K$(r);break;case 30:r.l+=4,m=KL(r,r[r.l-4]).replace(/\u0000+$/,"");break;case 31:r.l+=4,m=KL(r,r[r.l-4]).replace(/\u0000+$/,"");break;case 3:r.l+=4,m=r.read_shift(4,"i");break;case 19:r.l+=4,m=r.read_shift(4);break;case 5:r.l+=4,m=r.read_shift(8,"f");break;case 11:r.l+=4,m=ji(r,4);break;case 64:r.l+=4,m=zs(FU(r));break;default:throw new Error("unparsed value: "+r[r.l])}h[v]=m}}return r.l=t+n,h}function gQ(r,e,t){var n=r.content;if(!n)return{};la(n,0);var i,s,a,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var A=n.read_shift(4),c=n.read_shift(16);if(c!==Vr.utils.consts.HEADER_CLSID&&c!==t)throw new Error("Bad PropertySet CLSID "+c);if(i=n.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=n.read_shift(16),o=n.read_shift(4),i===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);i===2&&(a=n.read_shift(16),l=n.read_shift(4));var u=pQ(n,e),h={SystemIdentifier:A};for(var f in u)h[f]=u[f];if(h.FMTID=s,i===1)return h;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var g;try{g=pQ(n,null)}catch{}for(f in g)h[f]=g[f];return h.FMTID=[s,a],h}function ad(r,e){return r.read_shift(e),null}function ife(r,e,t){for(var n=[],i=r.l+e;r.l<i;)n.push(t(r,i-r.l));if(i!==r.l)throw new Error("Slurp error");return n}function ji(r,e){return r.read_shift(e)===1}function os(r){return r.read_shift(2,"u")}function z$(r,e){return ife(r,e,os)}function sfe(r){var e=r.read_shift(1),t=r.read_shift(1);return t===1?e:e===1}function aC(r,e,t){var n=r.read_shift(t&&t.biff>=12?2:1),i="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var s=r.read_shift(1);s&&(i="dbcs-cont")}else t.biff==12&&(i="wstr");t.biff>=2&&t.biff<=5&&(i="cpstr");var a=n?r.read_shift(n,i):"";return a}function afe(r){var e=r.read_shift(2),t=r.read_shift(1),n=t&4,i=t&8,s=1+(t&1),a=0,o,l={};i&&(a=r.read_shift(2)),n&&(o=r.read_shift(4));var A=s==2?"dbcs-cont":"sbcs-cont",c=e===0?"":r.read_shift(e,A);return i&&(r.l+=4*a),n&&(r.l+=o),l.t=c,i||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function Hm(r,e,t){var n;if(t){if(t.biff>=2&&t.biff<=5)return r.read_shift(e,"cpstr");if(t.biff>=12)return r.read_shift(e,"dbcs-cont")}var i=r.read_shift(1);return i===0?n=r.read_shift(e,"sbcs-cont"):n=r.read_shift(e,"dbcs-cont"),n}function oC(r,e,t){var n=r.read_shift(t&&t.biff==2?1:2);return n===0?(r.l++,""):Hm(r,n,t)}function i1(r,e,t){if(t.biff>5)return oC(r,e,t);var n=r.read_shift(1);return n===0?(r.l++,""):r.read_shift(n,t.biff<=4||!r.lens?"cpstr":"sbcs-cont")}function ofe(r){var e=r.read_shift(1);r.l++;var t=r.read_shift(2);return r.l+=2,[e,t]}function lfe(r){var e=r.read_shift(4),t=r.l,n=!1;e>24&&(r.l+=e-24,r.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),r.l=t);var i=r.read_shift((n?e-24:e)>>1,"utf16le").replace(yo,"");return n&&(r.l+=24),i}function Afe(r){for(var e=r.read_shift(2),t="";e-- >0;)t+="../";var n=r.read_shift(0,"lpstr-ansi");if(r.l+=2,r.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=r.read_shift(4);if(i===0)return t+n.replace(/\\/g,"/");var s=r.read_shift(4);if(r.read_shift(2)!=3)throw new Error("Bad FileMoniker");var a=r.read_shift(s>>1,"utf16le").replace(yo,"");return t+a}function cfe(r,e){var t=r.read_shift(16);switch(t){case"e0c9ea79f9bace118c8200aa004ba90b":return lfe(r);case"0303000000000000c000000000000046":return Afe(r);default:throw new Error("Unsupported Moniker "+t)}}function dB(r){var e=r.read_shift(4),t=e>0?r.read_shift(e,"utf16le").replace(yo,""):"";return t}function ufe(r,e){var t=r.l+e,n=r.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var i=r.read_shift(2);r.l+=2;var s,a,o,l,A="",c,u;i&16&&(s=dB(r,t-r.l)),i&128&&(a=dB(r,t-r.l)),(i&257)===257&&(o=dB(r,t-r.l)),(i&257)===1&&(l=cfe(r,t-r.l)),i&8&&(A=dB(r,t-r.l)),i&32&&(c=r.read_shift(16)),i&64&&(u=FU(r)),r.l=t;var h=a||o||l||"";h&&A&&(h+="#"+A),h||(h="#"+A),i&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var f={Target:h};return c&&(f.guid=c),u&&(f.time=u),s&&(f.Tooltip=s),f}function W$(r){var e=r.read_shift(1),t=r.read_shift(1),n=r.read_shift(1),i=r.read_shift(1);return[e,t,n,i]}function G$(r,e){var t=W$(r);return t[3]=0,t}function Ku(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2);return{r:e,c:t,ixfe:n}}function hfe(r){var e=r.read_shift(2),t=r.read_shift(2);return r.l+=8,{type:e,flags:t}}function ffe(r,e,t){return e===0?"":i1(r,e,t)}function dfe(r,e,t){var n=t.biff>8?4:2,i=r.read_shift(n),s=r.read_shift(n,"i"),a=r.read_shift(n,"i");return[i,s,a]}function $$(r){var e=r.read_shift(2),t=SU(r);return[e,t]}function pfe(r,e,t){r.l+=4,e-=4;var n=r.l+e,i=aC(r,e,t),s=r.read_shift(2);if(n-=r.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return r.l+=s,i}function b4(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2),i=r.read_shift(2);return{s:{c:n,r:e},e:{c:i,r:t}}}function q$(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(1),i=r.read_shift(1);return{s:{c:n,r:e},e:{c:i,r:t}}}var gfe=q$;function X$(r){r.l+=4;var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2);return r.l+=12,[t,e,n]}function mfe(r){var e={};return r.l+=4,r.l+=16,e.fSharedNote=r.read_shift(2),r.l+=4,e}function vfe(r){var e={};return r.l+=4,r.cf=r.read_shift(2),e}function Ea(r){r.l+=2,r.l+=r.read_shift(2)}var wfe={0:Ea,4:Ea,5:Ea,6:Ea,7:vfe,8:Ea,9:Ea,10:Ea,11:Ea,12:Ea,13:mfe,14:Ea,15:Ea,16:Ea,17:Ea,18:Ea,19:Ea,20:Ea,21:X$};function yfe(r,e){for(var t=r.l+e,n=[];r.l<t;){var i=r.read_shift(2);r.l-=2;try{n.push(wfe[i](r,t-r.l))}catch{return r.l=t,n}}return r.l!=t&&(r.l=t),n}function pB(r,e){var t={BIFFVer:0,dt:0};switch(t.BIFFVer=r.read_shift(2),e-=2,e>=2&&(t.dt=r.read_shift(2),r.l-=2),t.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+t.BIFFVer)}return r.read_shift(e),t}function xfe(r,e){return e===0||r.read_shift(2),1200}function _fe(r,e,t){if(t.enc)return r.l+=e,"";var n=r.l,i=i1(r,0,t);return r.read_shift(e+n-r.l),i}function bfe(r,e,t){var n=t&&t.biff==8||e==2?r.read_shift(2):(r.l+=e,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function Efe(r,e,t){var n=r.read_shift(4),i=r.read_shift(1)&3,s=r.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var a=aC(r,0,t);return a.length===0&&(a="Sheet1"),{pos:n,hs:i,dt:s,name:a}}function Cfe(r,e){for(var t=r.l+e,n=r.read_shift(4),i=r.read_shift(4),s=[],a=0;a!=i&&r.l<t;++a)s.push(afe(r));return s.Count=n,s.Unique=i,s}function Bfe(r,e){var t={};return t.dsst=r.read_shift(2),r.l+=e-2,t}function Sfe(r){var e={};e.r=r.read_shift(2),e.c=r.read_shift(2),e.cnt=r.read_shift(2)-e.c;var t=r.read_shift(2);r.l+=4;var n=r.read_shift(1);return r.l+=3,n&7&&(e.level=n&7),n&32&&(e.hidden=!0),n&64&&(e.hpt=t/20),e}function Tfe(r){var e=hfe(r);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var t=r.read_shift(4);return t!==0}function Ffe(r){return r.read_shift(2),r.read_shift(4)}function mQ(r,e,t){var n=0;t&&t.biff==2||(n=r.read_shift(2));var i=r.read_shift(2);t&&t.biff==2&&(n=1-(i>>15),i&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,i]}function Ife(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2),i=r.read_shift(2),s=r.read_shift(2),a=r.read_shift(2),o=r.read_shift(2),l=r.read_shift(2),A=r.read_shift(2);return{Pos:[e,t],Dim:[n,i],Flags:s,CurTab:a,FirstTab:o,Selected:l,TabRatio:A}}function kfe(r,e,t){if(t&&t.biff>=2&&t.biff<5)return{};var n=r.read_shift(2);return{RTL:n&64}}function Lfe(){}function Pfe(r,e,t){var n={dyHeight:r.read_shift(2),fl:r.read_shift(2)};switch(t&&t.biff||8){case 2:break;case 3:case 4:r.l+=2;break;default:r.l+=10;break}return n.name=aC(r,0,t),n}function Rfe(r){var e=Ku(r);return e.isst=r.read_shift(4),e}function Dfe(r,e,t){t.biffguess&&t.biff==2&&(t.biff=5);var n=r.l+e,i=Ku(r);t.biff==2&&r.l++;var s=oC(r,n-r.l,t);return i.val=s,i}function Nfe(r,e,t){var n=r.read_shift(2),i=i1(r,0,t);return[n,i]}var Ufe=i1;function vQ(r,e,t){var n=r.l+e,i=t.biff==8||!t.biff?4:2,s=r.read_shift(i),a=r.read_shift(i),o=r.read_shift(2),l=r.read_shift(2);return r.l=n,{s:{r:s,c:o},e:{r:a,c:l}}}function Mfe(r){var e=r.read_shift(2),t=r.read_shift(2),n=$$(r);return{r:e,c:t,ixfe:n[0],rknum:n[1]}}function Ofe(r,e){for(var t=r.l+e-2,n=r.read_shift(2),i=r.read_shift(2),s=[];r.l<t;)s.push($$(r));if(r.l!==t)throw new Error("MulRK read error");var a=r.read_shift(2);if(s.length!=a-i+1)throw new Error("MulRK length mismatch");return{r:n,c:i,C:a,rkrec:s}}function Qfe(r,e){for(var t=r.l+e-2,n=r.read_shift(2),i=r.read_shift(2),s=[];r.l<t;)s.push(r.read_shift(2));if(r.l!==t)throw new Error("MulBlank read error");var a=r.read_shift(2);if(s.length!=a-i+1)throw new Error("MulBlank length mismatch");return{r:n,c:i,C:a,ixfe:s}}function Hfe(r,e,t,n){var i={},s=r.read_shift(4),a=r.read_shift(4),o=r.read_shift(4),l=r.read_shift(2);return i.patternType=Mhe[o>>26],n.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=a&15,i.dgRight=a>>4&15,i.dgTop=a>>8&15,i.dgBottom=a>>12&15,i.icvLeft=a>>16&127,i.icvRight=a>>23&127,i.grbitDiag=a>>30&3,i.icvTop=o&127,i.icvBottom=o>>7&127,i.icvDiag=o>>14&127,i.dgDiag=o>>21&15,i.icvFore=l&127,i.icvBack=l>>7&127,i.fsxButton=l>>14&1),i}function Vfe(r,e,t){var n={};return n.ifnt=r.read_shift(2),n.numFmtId=r.read_shift(2),n.flags=r.read_shift(2),n.fStyle=n.flags>>2&1,e-=6,n.data=Hfe(r,e,n.fStyle,t),n}function jfe(r){r.l+=4;var e=[r.read_shift(2),r.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function wQ(r,e,t){var n=Ku(r);(t.biff==2||e==9)&&++r.l;var i=sfe(r);return n.val=i,n.t=i===!0||i===!1?"b":"e",n}function Kfe(r,e,t){t.biffguess&&t.biff==2&&(t.biff=5);var n=Ku(r),i=Ka(r);return n.val=i,n}var yQ=ffe;function zfe(r,e,t){var n=r.l+e,i=r.read_shift(2),s=r.read_shift(2);if(t.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var a=Hm(r,s),o=[];n>r.l;)o.push(oC(r));return[s,i,a,o]}function xQ(r,e,t){var n=r.read_shift(2),i,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return t.sbcch===14849&&(i=pfe(r,e-2,t)),s.body=i||r.read_shift(e-2),typeof i=="string"&&(s.Name=i),s}var Wfe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function _Q(r,e,t){var n=r.l+e,i=r.read_shift(2),s=r.read_shift(1),a=r.read_shift(1),o=r.read_shift(t&&t.biff==2?1:2),l=0;(!t||t.biff>=5)&&(t.biff!=5&&(r.l+=2),l=r.read_shift(2),t.biff==5&&(r.l+=2),r.l+=4);var A=Hm(r,a,t);i&32&&(A=Wfe[A.charCodeAt(0)]);var c=n-r.l;t&&t.biff==2&&--c;var u=n==r.l||o===0||!(c>0)?[]:Sge(r,c,t,o);return{chKey:s,Name:A,itab:l,rgce:u}}function Y$(r,e,t){if(t.biff<8)return Gfe(r,e,t);for(var n=[],i=r.l+e,s=r.read_shift(t.biff>8?4:2);s--!==0;)n.push(dfe(r,t.biff>8?12:6,t));if(r.l!=i)throw new Error("Bad ExternSheet: "+r.l+" != "+i);return n}function Gfe(r,e,t){r[r.l+1]==3&&r[r.l]++;var n=aC(r,e,t);return n.charCodeAt(0)==3?n.slice(1):n}function $fe(r,e,t){if(t.biff<8){r.l+=e;return}var n=r.read_shift(2),i=r.read_shift(2),s=Hm(r,n,t),a=Hm(r,i,t);return[s,a]}function qfe(r,e,t){var n=q$(r);r.l++;var i=r.read_shift(1);return e-=8,[Tge(r,e,t),i,n]}function bQ(r,e,t){var n=gfe(r);switch(t.biff){case 2:r.l++,e-=7;break;case 3:case 4:r.l+=2,e-=8;break;default:r.l+=6,e-=12}return[n,Cge(r,e,t)]}function Xfe(r){var e=r.read_shift(4)!==0,t=r.read_shift(4)!==0,n=r.read_shift(4);return[e,t,n]}function Yfe(r,e,t){if(!(t.biff<8)){var n=r.read_shift(2),i=r.read_shift(2),s=r.read_shift(2),a=r.read_shift(2),o=i1(r,0,t);return t.biff<8&&r.read_shift(1),[{r:n,c:i},o,a,s]}}function Jfe(r,e,t){return Yfe(r,e,t)}function Zfe(r,e){for(var t=[],n=r.read_shift(2);n--;)t.push(b4(r));return t}function ede(r,e,t){if(t&&t.biff<8)return rde(r,e,t);var n=X$(r),i=yfe(r,e-22,n[1]);return{cmo:n,ft:i}}var tde={8:function(r,e){var t=r.l+e;r.l+=10;var n=r.read_shift(2);r.l+=4,r.l+=2,r.l+=2,r.l+=2,r.l+=4;var i=r.read_shift(1);return r.l+=i,r.l=t,{fmt:n}}};function rde(r,e,t){r.l+=4;var n=r.read_shift(2),i=r.read_shift(2),s=r.read_shift(2);r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=6,e-=36;var a=[];return a.push((tde[n]||Xa)(r,e,t)),{cmo:[i,n,s],ft:a}}function nde(r,e,t){var n=r.l,i="";try{r.l+=4;var s=(t.lastobj||{cmo:[0,0]}).cmo[1],a;[0,5,7,11,12,14].indexOf(s)==-1?r.l+=6:a=ofe(r,6,t);var o=r.read_shift(2);r.read_shift(2),os(r,2);var l=r.read_shift(2);r.l+=l;for(var A=1;A<r.lens.length-1;++A){if(r.l-n!=r.lens[A])throw new Error("TxO: bad continue record");var c=r[r.l],u=Hm(r,r.lens[A+1]-r.lens[A]-1);if(i+=u,i.length>=(c?o:2*o))break}if(i.length!==o&&i.length!==o*2)throw new Error("cchText: "+o+" != "+i.length);return r.l=n+e,{t:i}}catch{return r.l=n+e,{t:i}}}function ide(r,e){var t=b4(r);r.l+=16;var n=ufe(r,e-24);return[t,n]}function sde(r,e){r.read_shift(2);var t=b4(r),n=r.read_shift((e-10)/2,"dbcs-cont");return n=n.replace(yo,""),[t,n]}function ade(r){var e=[0,0],t;return t=r.read_shift(2),e[0]=hQ[t]||t,t=r.read_shift(2),e[1]=hQ[t]||t,e}function ode(r){for(var e=r.read_shift(2),t=[];e-- >0;)t.push(G$(r));return t}function lde(r){for(var e=r.read_shift(2),t=[];e-- >0;)t.push(G$(r));return t}function Ade(r){r.l+=2;var e={cxfs:0,crc:0};return e.cxfs=r.read_shift(2),e.crc=r.read_shift(4),e}function J$(r,e,t){if(!t.cellStyles)return Xa(r,e);var n=t&&t.biff>=12?4:2,i=r.read_shift(n),s=r.read_shift(n),a=r.read_shift(n),o=r.read_shift(n),l=r.read_shift(2);n==2&&(r.l+=2);var A={s:i,e:s,w:a,ixfe:o,flags:l};return(t.biff>=5||!t.biff)&&(A.level=l>>8&7),A}function cde(r,e){var t={};return e<32||(r.l+=16,t.header=Ka(r),t.footer=Ka(r),r.l+=2),t}function ude(r,e,t){var n={area:!1};if(t.biff!=5)return r.l+=e,n;var i=r.read_shift(1);return r.l+=3,i&16&&(n.area=!0),n}var hde=Ku,fde=z$,dde=oC;function pde(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(4),i={fmt:e,env:t,len:n,data:r.slice(r.l,r.l+n)};return r.l+=n,i}function gde(r,e,t){t.biffguess&&t.biff==5&&(t.biff=2);var n=Ku(r);++r.l;var i=i1(r,e-7,t);return n.t="str",n.val=i,n}function mde(r){var e=Ku(r);++r.l;var t=Ka(r);return e.t="n",e.val=t,e}function vde(r){var e=Ku(r);++r.l;var t=r.read_shift(2);return e.t="n",e.val=t,e}function wde(r){var e=r.read_shift(1);return e===0?(r.l++,""):r.read_shift(e,"sbcs-cont")}function yde(r,e){r.l+=6,r.l+=2,r.l+=1,r.l+=3,r.l+=1,r.l+=e-13}function xde(r,e,t){var n=r.l+e,i=Ku(r),s=r.read_shift(2),a=Hm(r,s,t);return r.l=n,i.t="str",i.val=a,i}var _de=[2,3,48,49,131,139,140,245],EQ=function(){var r={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=vU({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(o,l){var A=[],c=tp(1);switch(l.type){case"base64":c=pc($l(o));break;case"binary":c=pc(o);break;case"buffer":case"array":c=o;break}la(c,0);var u=c.read_shift(1),h=!!(u&136),f=!1,g=!1;switch(u){case 2:break;case 3:break;case 48:f=!0,h=!0;break;case 49:f=!0,h=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+u.toString(16))}var p=0,v=521;u==2&&(p=c.read_shift(2)),c.l+=3,u!=2&&(p=c.read_shift(4)),p>1048576&&(p=1e6),u!=2&&(v=c.read_shift(2));var m=c.read_shift(2),x=l.codepage||1252;u!=2&&(c.l+=16,c.read_shift(1),c[c.l]!==0&&(x=r[c[c.l]]),c.l+=1,c.l+=2),g&&(c.l+=36);for(var _=[],S={},k=Math.min(c.length,u==2?521:v-10-(f?264:0)),R=g?32:11;c.l<k&&c[c.l]!=13;)switch(S={},S.name=P_.utils.decode(x,c.slice(c.l,c.l+R)).replace(/[\u0000\r\n].*$/g,""),c.l+=R,S.type=String.fromCharCode(c.read_shift(1)),u!=2&&!g&&(S.offset=c.read_shift(4)),S.len=c.read_shift(1),u==2&&(S.offset=c.read_shift(2)),S.dec=c.read_shift(1),S.name.length&&_.push(S),u!=2&&(c.l+=g?13:14),S.type){case"B":(!f||S.len!=8)&&l.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+S.type)}if(c[c.l]!==13&&(c.l=v-1),c.read_shift(1)!==13)throw new Error("DBF Terminator not found "+c.l+" "+c[c.l]);c.l=v;var B=0,E=0;for(A[0]=[],E=0;E!=_.length;++E)A[0][E]=_[E].name;for(;p-- >0;){if(c[c.l]===42){c.l+=m;continue}for(++c.l,A[++B]=[],E=0,E=0;E!=_.length;++E){var b=c.slice(c.l,c.l+_[E].len);c.l+=_[E].len,la(b,0);var I=P_.utils.decode(x,b);switch(_[E].type){case"C":I.trim().length&&(A[B][E]=I.replace(/\s+$/,""));break;case"D":I.length===8?A[B][E]=new Date(+I.slice(0,4),+I.slice(4,6)-1,+I.slice(6,8)):A[B][E]=I;break;case"F":A[B][E]=parseFloat(I.trim());break;case"+":case"I":A[B][E]=g?b.read_shift(-4,"i")^2147483648:b.read_shift(4,"i");break;case"L":switch(I.trim().toUpperCase()){case"Y":case"T":A[B][E]=!0;break;case"N":case"F":A[B][E]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+I+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+u.toString(16));A[B][E]="##MEMO##"+(g?parseInt(I.trim(),10):b.read_shift(4));break;case"N":I=I.replace(/\u0000/g,"").trim(),I&&I!="."&&(A[B][E]=+I||0);break;case"@":A[B][E]=new Date(b.read_shift(-8,"f")-621356832e5);break;case"T":A[B][E]=new Date((b.read_shift(4)-2440588)*864e5+b.read_shift(4));break;case"Y":A[B][E]=b.read_shift(4,"i")/1e4+b.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":A[B][E]=-b.read_shift(-8,"f");break;case"B":if(f&&_[E].len==8){A[B][E]=b.read_shift(8,"f");break}case"G":case"P":b.l+=_[E].len;break;case"0":if(_[E].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+_[E].type)}}}if(u!=2&&c.l<c.length&&c[c.l++]!=26)throw new Error("DBF EOF Marker missing "+(c.l-1)+" of "+c.length+" "+c[c.l-1].toString(16));return l&&l.sheetRows&&(A=A.slice(0,l.sheetRows)),l.DBF=_,A}function n(o,l){var A=l||{};A.dateNF||(A.dateNF="yyyymmdd");var c=Oy(t(o,A),A);return c["!cols"]=A.DBF.map(function(u){return{wch:u.len,DBF:u}}),delete A.DBF,c}function i(o,l){try{return dp(n(o,l),l)}catch(A){if(l&&l.WTF)throw A}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,l){var A=l||{};if(+A.codepage>=0&&mc(+A.codepage),A.type=="string")throw new Error("Cannot write DBF to JS string");var c=HL(),u=YL(o,{header:1,raw:!0,cellDates:!0}),h=u[0],f=u.slice(1),g=o["!cols"]||[],p=0,v=0,m=0,x=1;for(p=0;p<h.length;++p){if(((g[p]||{}).DBF||{}).name){h[p]=g[p].DBF.name,++m;continue}if(h[p]!=null){if(++m,typeof h[p]=="number"&&(h[p]=h[p].toString(10)),typeof h[p]!="string")throw new Error("DBF Invalid column name "+h[p]+" |"+typeof h[p]+"|");if(h.indexOf(h[p])!==p){for(v=0;v<1024;++v)if(h.indexOf(h[p]+"_"+v)==-1){h[p]+="_"+v;break}}}}var _=Ni(o["!ref"]),S=[],k=[],R=[];for(p=0;p<=_.e.c-_.s.c;++p){var B="",E="",b=0,I=[];for(v=0;v<f.length;++v)f[v][p]!=null&&I.push(f[v][p]);if(I.length==0||h[p]==null){S[p]="?";continue}for(v=0;v<I.length;++v){switch(typeof I[v]){case"number":E="B";break;case"string":E="C";break;case"boolean":E="L";break;case"object":E=I[v]instanceof Date?"D":"C";break;default:E="C"}b=Math.max(b,String(I[v]).length),B=B&&B!=E?"C":E}b>250&&(b=250),E=((g[p]||{}).DBF||{}).type,E=="C"&&g[p].DBF.len>b&&(b=g[p].DBF.len),B=="B"&&E=="N"&&(B="N",R[p]=g[p].DBF.dec,b=g[p].DBF.len),k[p]=B=="C"||E=="N"?b:s[B]||0,x+=k[p],S[p]=B}var T=c.next(32);for(T.write_shift(4,318902576),T.write_shift(4,f.length),T.write_shift(2,296+32*m),T.write_shift(2,x),p=0;p<4;++p)T.write_shift(4,0);for(T.write_shift(4,0|(+e[YG]||3)<<8),p=0,v=0;p<h.length;++p)if(h[p]!=null){var F=c.next(32),D=(h[p].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);F.write_shift(1,D,"sbcs"),F.write_shift(1,S[p]=="?"?"C":S[p],"sbcs"),F.write_shift(4,v),F.write_shift(1,k[p]||s[S[p]]||0),F.write_shift(1,R[p]||0),F.write_shift(1,2),F.write_shift(4,0),F.write_shift(1,0),F.write_shift(4,0),F.write_shift(4,0),v+=k[p]||s[S[p]]||0}var q=c.next(264);for(q.write_shift(4,13),p=0;p<65;++p)q.write_shift(4,0);for(p=0;p<f.length;++p){var ie=c.next(x);for(ie.write_shift(1,0),v=0;v<h.length;++v)if(h[v]!=null)switch(S[v]){case"L":ie.write_shift(1,f[p][v]==null?63:f[p][v]?84:70);break;case"B":ie.write_shift(8,f[p][v]||0,"f");break;case"N":var oe="0";for(typeof f[p][v]=="number"&&(oe=f[p][v].toFixed(R[v]||0)),m=0;m<k[v]-oe.length;++m)ie.write_shift(1,32);ie.write_shift(1,oe,"sbcs");break;case"D":f[p][v]?(ie.write_shift(4,("0000"+f[p][v].getFullYear()).slice(-4),"sbcs"),ie.write_shift(2,("00"+(f[p][v].getMonth()+1)).slice(-2),"sbcs"),ie.write_shift(2,("00"+f[p][v].getDate()).slice(-2),"sbcs")):ie.write_shift(8,"00000000","sbcs");break;case"C":var te=String(f[p][v]!=null?f[p][v]:"").slice(0,k[v]);for(ie.write_shift(1,te,"sbcs"),m=0;m<k[v]-te.length;++m)ie.write_shift(1,32);break}}return c.next(1).write_shift(1,26),c.end()}return{to_workbook:i,to_sheet:n,from_sheet:a}}(),bde=function(){var r={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Ou(r).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(h,f){var g=r[f];return typeof g=="number"?Q8(g):g},n=function(h,f,g){var p=f.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return p==59?h:Q8(p)};r["|"]=254;function i(h,f){switch(f.type){case"base64":return s($l(h),f);case"binary":return s(h,f);case"buffer":return s(Mr&&Buffer.isBuffer(h)?h.toString("binary"):e1(h),f);case"array":return s(Qm(h),f)}throw new Error("Unrecognized type "+f.type)}function s(h,f){var g=h.split(/[\n\r]+/),p=-1,v=-1,m=0,x=0,_=[],S=[],k=null,R={},B=[],E=[],b=[],I=0,T;for(+f.codepage>=0&&mc(+f.codepage);m!==g.length;++m){I=0;var F=g[m].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,t),D=F.replace(/;;/g,"\0").split(";").map(function(K){return K.replace(/\u0000/g,";")}),q=D[0],ie;if(F.length>0)switch(q){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":D[1].charAt(0)=="P"&&S.push(F.slice(3).replace(/;;/g,";"));break;case"C":var oe=!1,te=!1,re=!1,W=!1,pe=-1,_e=-1;for(x=1;x<D.length;++x)switch(D[x].charAt(0)){case"A":break;case"X":v=parseInt(D[x].slice(1))-1,te=!0;break;case"Y":for(p=parseInt(D[x].slice(1))-1,te||(v=0),T=_.length;T<=p;++T)_[T]=[];break;case"K":ie=D[x].slice(1),ie.charAt(0)==='"'?ie=ie.slice(1,ie.length-1):ie==="TRUE"?ie=!0:ie==="FALSE"?ie=!1:isNaN(bc(ie))?isNaN(xy(ie).getDate())||(ie=zs(ie)):(ie=bc(ie),k!==null&&Uy(k)&&(ie=_4(ie))),oe=!0;break;case"E":W=!0;var P=Cv(D[x].slice(1),{r:p,c:v});_[p][v]=[_[p][v],P];break;case"S":re=!0,_[p][v]=[_[p][v],"S5S"];break;case"G":break;case"R":pe=parseInt(D[x].slice(1))-1;break;case"C":_e=parseInt(D[x].slice(1))-1;break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+F)}if(oe&&(_[p][v]&&_[p][v].length==2?_[p][v][0]=ie:_[p][v]=ie,k=null),re){if(W)throw new Error("SYLK shared formula cannot have own formula");var O=pe>-1&&_[pe][_e];if(!O||!O[1])throw new Error("SYLK shared formula cannot find base");_[p][v][1]=lq(O[1],{r:p-pe,c:v-_e})}break;case"F":var H=0;for(x=1;x<D.length;++x)switch(D[x].charAt(0)){case"X":v=parseInt(D[x].slice(1))-1,++H;break;case"Y":for(p=parseInt(D[x].slice(1))-1,T=_.length;T<=p;++T)_[T]=[];break;case"M":I=parseInt(D[x].slice(1))/20;break;case"F":break;case"G":break;case"P":k=S[parseInt(D[x].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(b=D[x].slice(1).split(" "),T=parseInt(b[0],10);T<=parseInt(b[1],10);++T)I=parseInt(b[2],10),E[T-1]=I===0?{hidden:!0}:{wch:I},_y(E[T-1]);break;case"C":v=parseInt(D[x].slice(1))-1,E[v]||(E[v]={});break;case"R":p=parseInt(D[x].slice(1))-1,B[p]||(B[p]={}),I>0?(B[p].hpt=I,B[p].hpx=O_(I)):I===0&&(B[p].hidden=!0);break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+F)}H<1&&(k=null);break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+F)}}return B.length>0&&(R["!rows"]=B),E.length>0&&(R["!cols"]=E),f&&f.sheetRows&&(_=_.slice(0,f.sheetRows)),[_,R]}function a(h,f){var g=i(h,f),p=g[0],v=g[1],m=Oy(p,f);return Ou(v).forEach(function(x){m[x]=v[x]}),m}function o(h,f){return dp(a(h,f),f)}function l(h,f,g,p){var v="C;Y"+(g+1)+";X"+(p+1)+";K";switch(h.t){case"n":v+=h.v||0,h.f&&!h.F&&(v+=";E"+Ape(h.f,{r:g,c:p}));break;case"b":v+=h.v?"TRUE":"FALSE";break;case"e":v+=h.w||h.v;break;case"d":v+='"'+(h.w||h.v)+'"';break;case"s":v+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function A(h,f){f.forEach(function(g,p){var v="F;W"+(p+1)+" "+(p+1)+" ";g.hidden?v+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=DT(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=NT(g.wpx)),typeof g.wch=="number"&&(v+=Math.round(g.wch))),v.charAt(v.length-1)!=" "&&h.push(v)})}function c(h,f){f.forEach(function(g,p){var v="F;";g.hidden?v+="M0;":g.hpt?v+="M"+20*g.hpt+";":g.hpx&&(v+="M"+20*sq(g.hpx)+";"),v.length>2&&h.push(v+"R"+(p+1))})}function u(h,f){var g=["ID;PWXL;N;E"],p=[],v=Ni(h["!ref"]),m,x=Array.isArray(h),_=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),h["!cols"]&&A(g,h["!cols"]),h["!rows"]&&c(g,h["!rows"]),g.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var S=v.s.r;S<=v.e.r;++S)for(var k=v.s.c;k<=v.e.c;++k){var R=lr({r:S,c:k});m=x?(h[S]||[])[k]:h[R],!(!m||m.v==null&&(!m.f||m.F))&&p.push(l(m,h,S,k))}return g.join(_)+_+p.join(_)+_+"E"+_}return{to_workbook:o,to_sheet:a,from_sheet:u}}(),Ede=function(){function r(s,a){switch(a.type){case"base64":return e($l(s),a);case"binary":return e(s,a);case"buffer":return e(Mr&&Buffer.isBuffer(s)?s.toString("binary"):e1(s),a);case"array":return e(Qm(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){for(var o=s.split(`
`),l=-1,A=-1,c=0,u=[];c!==o.length;++c){if(o[c].trim()==="BOT"){u[++l]=[],A=0;continue}if(!(l<0)){var h=o[c].trim().split(","),f=h[0],g=h[1];++c;for(var p=o[c]||"";(p.match(/["]/g)||[]).length&1&&c<o.length-1;)p+=`
`+o[++c];switch(p=p.trim(),+f){case-1:if(p==="BOT"){u[++l]=[],A=0;continue}else if(p!=="EOD")throw new Error("Unrecognized DIF special command "+p);break;case 0:p==="TRUE"?u[l][A]=!0:p==="FALSE"?u[l][A]=!1:isNaN(bc(g))?isNaN(xy(g).getDate())?u[l][A]=g:u[l][A]=zs(g):u[l][A]=bc(g),++A;break;case 1:p=p.slice(1,p.length-1),p=p.replace(/""/g,'"'),p&&p.match(/^=".*"$/)&&(p=p.slice(2,-1)),u[l][A++]=p!==""?p:null;break}if(p==="EOD")break}}return a&&a.sheetRows&&(u=u.slice(0,a.sheetRows)),u}function t(s,a){return Oy(r(s,a),a)}function n(s,a){return dp(t(s,a),a)}var i=function(){var s=function(l,A,c,u,h){l.push(A),l.push(c+","+u),l.push('"'+h.replace(/"/g,'""')+'"')},a=function(l,A,c,u){l.push(A+","+c),l.push(A==1?'"'+u.replace(/"/g,'""')+'"':u)};return function(l){var A=[],c=Ni(l["!ref"]),u,h=Array.isArray(l);s(A,"TABLE",0,1,"sheetjs"),s(A,"VECTORS",0,c.e.r-c.s.r+1,""),s(A,"TUPLES",0,c.e.c-c.s.c+1,""),s(A,"DATA",0,0,"");for(var f=c.s.r;f<=c.e.r;++f){a(A,-1,0,"BOT");for(var g=c.s.c;g<=c.e.c;++g){var p=lr({r:f,c:g});if(u=h?(l[f]||[])[g]:l[p],!u){a(A,1,0,"");continue}switch(u.t){case"n":var v=u.w;!v&&u.v!=null&&(v=u.v),v==null?u.f&&!u.F?a(A,1,0,"="+u.f):a(A,1,0,""):a(A,0,v,"V");break;case"b":a(A,0,u.v?1:0,u.v?"TRUE":"FALSE");break;case"s":a(A,1,0,isNaN(u.v)?u.v:'="'+u.v+'"');break;case"d":u.w||(u.w=RA(u.z||vr[14],bo(zs(u.v)))),a(A,0,u.w,"V");break;default:a(A,1,0,"")}}}a(A,-1,0,"EOD");var m=`\r
`,x=A.join(m);return x}}();return{to_workbook:n,to_sheet:t,from_sheet:i}}(),Cde=function(){function r(u){return u.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(u){return u.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(u,h){for(var f=u.split(`
`),g=-1,p=-1,v=0,m=[];v!==f.length;++v){var x=f[v].trim().split(":");if(x[0]==="cell"){var _=mo(x[1]);if(m.length<=_.r)for(g=m.length;g<=_.r;++g)m[g]||(m[g]=[]);switch(g=_.r,p=_.c,x[2]){case"t":m[g][p]=r(x[3]);break;case"v":m[g][p]=+x[3];break;case"vtf":var S=x[x.length-1];case"vtc":switch(x[3]){case"nl":m[g][p]=!!+x[4];break;default:m[g][p]=+x[4];break}x[2]=="vtf"&&(m[g][p]=[m[g][p],S])}}}return h&&h.sheetRows&&(m=m.slice(0,h.sheetRows)),m}function n(u,h){return Oy(t(u,h),h)}function i(u,h){return dp(n(u,h),h)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function A(u){if(!u||!u["!ref"])return"";for(var h=[],f=[],g,p="",v=My(u["!ref"]),m=Array.isArray(u),x=v.s.r;x<=v.e.r;++x)for(var _=v.s.c;_<=v.e.c;++_)if(p=lr({r:x,c:_}),g=m?(u[x]||[])[_]:u[p],!(!g||g.v==null||g.t==="z")){switch(f=["cell",p,"t"],g.t){case"s":case"str":f.push(e(g.v));break;case"n":g.f?(f[2]="vtf",f[3]="n",f[4]=g.v,f[5]=e(g.f)):(f[2]="v",f[3]=g.v);break;case"b":f[2]="vt"+(g.f?"f":"c"),f[3]="nl",f[4]=g.v?"1":"0",f[5]=e(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var S=bo(zs(g.v));f[2]="vtc",f[3]="nd",f[4]=""+S,f[5]=g.w||RA(g.z||vr[14],S);break;case"e":continue}h.push(f.join(":"))}return h.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function c(u){return[s,a,o,a,A(u),l].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:c}}(),U_=function(){function r(c,u,h,f,g){g.raw?u[h][f]=c:c===""||(c==="TRUE"?u[h][f]=!0:c==="FALSE"?u[h][f]=!1:isNaN(bc(c))?isNaN(xy(c).getDate())?u[h][f]=c:u[h][f]=zs(c):u[h][f]=bc(c))}function e(c,u){var h=u||{},f=[];if(!c||c.length===0)return f;for(var g=c.split(/[\r\n]/),p=g.length-1;p>=0&&g[p].length===0;)--p;for(var v=10,m=0,x=0;x<=p;++x)m=g[x].indexOf(" "),m==-1?m=g[x].length:m++,v=Math.max(v,m);for(x=0;x<=p;++x){f[x]=[];var _=0;for(r(g[x].slice(0,v).trim(),f,x,_,h),_=1;_<=(g[x].length-v)/10+1;++_)r(g[x].slice(v+(_-1)*10,v+_*10).trim(),f,x,_,h)}return h.sheetRows&&(f=f.slice(0,h.sheetRows)),f}var t={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(c){for(var u={},h=!1,f=0,g=0;f<c.length;++f)(g=c.charCodeAt(f))==34?h=!h:!h&&g in t&&(u[g]=(u[g]||0)+1);g=[];for(f in u)Object.prototype.hasOwnProperty.call(u,f)&&g.push([u[f],f]);if(!g.length){u=n;for(f in u)Object.prototype.hasOwnProperty.call(u,f)&&g.push([u[f],f])}return g.sort(function(p,v){return p[0]-v[0]||n[p[1]]-n[v[1]]}),t[g.pop()[1]]||44}function s(c,u){var h=u||{},f="",g=h.dense?[]:{},p={s:{c:0,r:0},e:{c:0,r:0}};c.slice(0,4)=="sep="?c.charCodeAt(5)==13&&c.charCodeAt(6)==10?(f=c.charAt(4),c=c.slice(7)):c.charCodeAt(5)==13||c.charCodeAt(5)==10?(f=c.charAt(4),c=c.slice(6)):f=i(c.slice(0,1024)):h&&h.FS?f=h.FS:f=i(c.slice(0,1024));var v=0,m=0,x=0,_=0,S=0,k=f.charCodeAt(0),R=!1,B=0,E=c.charCodeAt(0);c=c.replace(/\r\n/mg,`
`);var b=h.dateNF!=null?Nue(h.dateNF):null;function I(){var T=c.slice(_,S),F={};if(T.charAt(0)=='"'&&T.charAt(T.length-1)=='"'&&(T=T.slice(1,-1).replace(/""/g,'"')),T.length===0)F.t="z";else if(h.raw)F.t="s",F.v=T;else if(T.trim().length===0)F.t="s",F.v=T;else if(T.charCodeAt(0)==61)T.charCodeAt(1)==34&&T.charCodeAt(T.length-1)==34?(F.t="s",F.v=T.slice(2,-1).replace(/""/g,'"')):upe(T)?(F.t="n",F.f=T.slice(1)):(F.t="s",F.v=T);else if(T=="TRUE")F.t="b",F.v=!0;else if(T=="FALSE")F.t="b",F.v=!1;else if(!isNaN(x=bc(T)))F.t="n",h.cellText!==!1&&(F.w=T),F.v=x;else if(!isNaN(xy(T).getDate())||b&&T.match(b)){F.z=h.dateNF||vr[14];var D=0;b&&T.match(b)&&(T=Uue(T,h.dateNF,T.match(b)||[]),D=1),h.cellDates?(F.t="d",F.v=zs(T,D)):(F.t="n",F.v=bo(zs(T,D))),h.cellText!==!1&&(F.w=RA(F.z,F.v instanceof Date?bo(F.v):F.v)),h.cellNF||delete F.z}else F.t="s",F.v=T;if(F.t=="z"||(h.dense?(g[v]||(g[v]=[]),g[v][m]=F):g[lr({c:m,r:v})]=F),_=S+1,E=c.charCodeAt(_),p.e.c<m&&(p.e.c=m),p.e.r<v&&(p.e.r=v),B==k)++m;else if(m=0,++v,h.sheetRows&&h.sheetRows<=v)return!0}e:for(;S<c.length;++S)switch(B=c.charCodeAt(S)){case 34:E===34&&(R=!R);break;case k:case 10:case 13:if(!R&&I())break e;break}return S-_>0&&I(),g["!ref"]=jr(p),g}function a(c,u){return!(u&&u.PRN)||u.FS||c.slice(0,4)=="sep="||c.indexOf("	")>=0||c.indexOf(",")>=0||c.indexOf(";")>=0?s(c,u):Oy(e(c,u),u)}function o(c,u){var h="",f=u.type=="string"?[0,0,0,0]:UU(c,u);switch(u.type){case"base64":h=$l(c);break;case"binary":h=c;break;case"buffer":u.codepage==65001?h=c.toString("utf8"):u.codepage&&typeof P_<"u"||(h=Mr&&Buffer.isBuffer(c)?c.toString("binary"):e1(c));break;case"array":h=Qm(c);break;case"string":h=c;break;default:throw new Error("Unrecognized type "+u.type)}return f[0]==239&&f[1]==187&&f[2]==191?h=zn(h.slice(3)):u.type!="string"&&u.type!="buffer"&&u.codepage==65001?h=zn(h):u.type=="binary"&&typeof P_<"u",h.slice(0,19)=="socialcalc:version:"?Cde.to_sheet(u.type=="string"?h:zn(h),u):a(h,u)}function l(c,u){return dp(o(c,u),u)}function A(c){for(var u=[],h=Ni(c["!ref"]),f,g=Array.isArray(c),p=h.s.r;p<=h.e.r;++p){for(var v=[],m=h.s.c;m<=h.e.c;++m){var x=lr({r:p,c:m});if(f=g?(c[p]||[])[m]:c[x],!f||f.v==null){v.push("          ");continue}for(var _=(f.w||(kf(f),f.w)||"").slice(0,10);_.length<10;)_+=" ";v.push(_+(m===0?" ":""))}u.push(v.join(""))}return u.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:A}}();function Bde(r,e){var t=e||{},n=!!t.WTF;t.WTF=!0;try{var i=bde.to_workbook(r,t);return t.WTF=n,i}catch(s){if(t.WTF=n,!s.message.match(/SYLK bad record ID/)&&n)throw s;return U_.to_workbook(r,e)}}var jx=function(){function r(P,O,H){if(P){la(P,P.l||0);for(var K=H.Enum||pe;P.l<P.length;){var Z=P.read_shift(2),he=K[Z]||K[65535],xe=P.read_shift(2),ye=P.l+xe,be=he.f&&he.f(P,xe,H);if(P.l=ye,O(be,he,Z))return}}}function e(P,O){switch(O.type){case"base64":return t(pc($l(P)),O);case"binary":return t(pc(P),O);case"buffer":case"array":return t(P,O)}throw"Unsupported type "+O.type}function t(P,O){if(!P)return P;var H=O||{},K=H.dense?[]:{},Z="Sheet1",he="",xe=0,ye={},be=[],Fe=[],ne={s:{r:0,c:0},e:{r:0,c:0}},We=H.sheetRows||0;if(P[2]==0&&(P[3]==8||P[3]==9)&&P.length>=16&&P[14]==5&&P[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(P[2]==2)H.Enum=pe,r(P,function(Ve,$e,He){switch(He){case 0:H.vers=Ve,Ve>=4096&&(H.qpro=!0);break;case 6:ne=Ve;break;case 204:Ve&&(he=Ve);break;case 222:he=Ve;break;case 15:case 51:H.qpro||(Ve[1].v=Ve[1].v.slice(1));case 13:case 14:case 16:He==14&&(Ve[2]&112)==112&&(Ve[2]&15)>1&&(Ve[2]&15)<15&&(Ve[1].z=H.dateNF||vr[14],H.cellDates&&(Ve[1].t="d",Ve[1].v=_4(Ve[1].v))),H.qpro&&Ve[3]>xe&&(K["!ref"]=jr(ne),ye[Z]=K,be.push(Z),K=H.dense?[]:{},ne={s:{r:0,c:0},e:{r:0,c:0}},xe=Ve[3],Z=he||"Sheet"+(xe+1),he="");var ht=H.dense?(K[Ve[0].r]||[])[Ve[0].c]:K[lr(Ve[0])];if(ht){ht.t=Ve[1].t,ht.v=Ve[1].v,Ve[1].z!=null&&(ht.z=Ve[1].z),Ve[1].f!=null&&(ht.f=Ve[1].f);break}H.dense?(K[Ve[0].r]||(K[Ve[0].r]=[]),K[Ve[0].r][Ve[0].c]=Ve[1]):K[lr(Ve[0])]=Ve[1];break}},H);else if(P[2]==26||P[2]==14)H.Enum=_e,P[2]==14&&(H.qpro=!0,P.l=0),r(P,function(Ve,$e,He){switch(He){case 204:Z=Ve;break;case 22:Ve[1].v=Ve[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ve[3]>xe&&(K["!ref"]=jr(ne),ye[Z]=K,be.push(Z),K=H.dense?[]:{},ne={s:{r:0,c:0},e:{r:0,c:0}},xe=Ve[3],Z="Sheet"+(xe+1)),We>0&&Ve[0].r>=We)break;H.dense?(K[Ve[0].r]||(K[Ve[0].r]=[]),K[Ve[0].r][Ve[0].c]=Ve[1]):K[lr(Ve[0])]=Ve[1],ne.e.c<Ve[0].c&&(ne.e.c=Ve[0].c),ne.e.r<Ve[0].r&&(ne.e.r=Ve[0].r);break;case 27:Ve[14e3]&&(Fe[Ve[14e3][0]]=Ve[14e3][1]);break;case 1537:Fe[Ve[0]]=Ve[1],Ve[0]==xe&&(Z=Ve[1]);break}},H);else throw new Error("Unrecognized LOTUS BOF "+P[2]);if(K["!ref"]=jr(ne),ye[he||Z]=K,be.push(he||Z),!Fe.length)return{SheetNames:be,Sheets:ye};for(var Se={},ce=[],qe=0;qe<Fe.length;++qe)ye[be[qe]]?(ce.push(Fe[qe]||be[qe]),Se[Fe[qe]]=ye[Fe[qe]]||ye[be[qe]]):(ce.push(Fe[qe]),Se[Fe[qe]]={"!ref":"A1"});return{SheetNames:ce,Sheets:Se}}function n(P,O){var H=O||{};if(+H.codepage>=0&&mc(+H.codepage),H.type=="string")throw new Error("Cannot write WK1 to JS string");var K=HL(),Z=Ni(P["!ref"]),he=Array.isArray(P),xe=[];qA(K,0,s(1030)),qA(K,6,l(Z));for(var ye=Math.min(Z.e.r,8191),be=Z.s.r;be<=ye;++be)for(var Fe=pa(be),ne=Z.s.c;ne<=Z.e.c;++ne){be===Z.s.r&&(xe[ne]=Es(ne));var We=xe[ne]+Fe,Se=he?(P[be]||[])[ne]:P[We];if(!(!Se||Se.t=="z"))if(Se.t=="n")(Se.v|0)==Se.v&&Se.v>=-32768&&Se.v<=32767?qA(K,13,f(be,ne,Se.v)):qA(K,14,p(be,ne,Se.v));else{var ce=kf(Se);qA(K,15,u(be,ne,ce.slice(0,239)))}}return qA(K,1),K.end()}function i(P,O){var H=O||{};if(+H.codepage>=0&&mc(+H.codepage),H.type=="string")throw new Error("Cannot write WK3 to JS string");var K=HL();qA(K,0,a(P));for(var Z=0,he=0;Z<P.SheetNames.length;++Z)(P.Sheets[P.SheetNames[Z]]||{})["!ref"]&&qA(K,27,W(P.SheetNames[Z],he++));var xe=0;for(Z=0;Z<P.SheetNames.length;++Z){var ye=P.Sheets[P.SheetNames[Z]];if(!(!ye||!ye["!ref"])){for(var be=Ni(ye["!ref"]),Fe=Array.isArray(ye),ne=[],We=Math.min(be.e.r,8191),Se=be.s.r;Se<=We;++Se)for(var ce=pa(Se),qe=be.s.c;qe<=be.e.c;++qe){Se===be.s.r&&(ne[qe]=Es(qe));var Ve=ne[qe]+ce,$e=Fe?(ye[Se]||[])[qe]:ye[Ve];if(!(!$e||$e.t=="z"))if($e.t=="n")qA(K,23,I(Se,qe,xe,$e.v));else{var He=kf($e);qA(K,22,B(Se,qe,xe,He.slice(0,239)))}}++xe}}return qA(K,1),K.end()}function s(P){var O=ys(2);return O.write_shift(2,P),O}function a(P){var O=ys(26);O.write_shift(2,4096),O.write_shift(2,4),O.write_shift(4,0);for(var H=0,K=0,Z=0,he=0;he<P.SheetNames.length;++he){var xe=P.SheetNames[he],ye=P.Sheets[xe];if(!(!ye||!ye["!ref"])){++Z;var be=My(ye["!ref"]);H<be.e.r&&(H=be.e.r),K<be.e.c&&(K=be.e.c)}}return H>8191&&(H=8191),O.write_shift(2,H),O.write_shift(1,Z),O.write_shift(1,K),O.write_shift(2,0),O.write_shift(2,0),O.write_shift(1,1),O.write_shift(1,2),O.write_shift(4,0),O.write_shift(4,0),O}function o(P,O,H){var K={s:{c:0,r:0},e:{c:0,r:0}};return O==8&&H.qpro?(K.s.c=P.read_shift(1),P.l++,K.s.r=P.read_shift(2),K.e.c=P.read_shift(1),P.l++,K.e.r=P.read_shift(2),K):(K.s.c=P.read_shift(2),K.s.r=P.read_shift(2),O==12&&H.qpro&&(P.l+=2),K.e.c=P.read_shift(2),K.e.r=P.read_shift(2),O==12&&H.qpro&&(P.l+=2),K.s.c==65535&&(K.s.c=K.e.c=K.s.r=K.e.r=0),K)}function l(P){var O=ys(8);return O.write_shift(2,P.s.c),O.write_shift(2,P.s.r),O.write_shift(2,P.e.c),O.write_shift(2,P.e.r),O}function A(P,O,H){var K=[{c:0,r:0},{t:"n",v:0},0,0];return H.qpro&&H.vers!=20768?(K[0].c=P.read_shift(1),K[3]=P.read_shift(1),K[0].r=P.read_shift(2),P.l+=2):(K[2]=P.read_shift(1),K[0].c=P.read_shift(2),K[0].r=P.read_shift(2)),K}function c(P,O,H){var K=P.l+O,Z=A(P,O,H);if(Z[1].t="s",H.vers==20768){P.l++;var he=P.read_shift(1);return Z[1].v=P.read_shift(he,"utf8"),Z}return H.qpro&&P.l++,Z[1].v=P.read_shift(K-P.l,"cstr"),Z}function u(P,O,H){var K=ys(7+H.length);K.write_shift(1,255),K.write_shift(2,O),K.write_shift(2,P),K.write_shift(1,39);for(var Z=0;Z<K.length;++Z){var he=H.charCodeAt(Z);K.write_shift(1,he>=128?95:he)}return K.write_shift(1,0),K}function h(P,O,H){var K=A(P,O,H);return K[1].v=P.read_shift(2,"i"),K}function f(P,O,H){var K=ys(7);return K.write_shift(1,255),K.write_shift(2,O),K.write_shift(2,P),K.write_shift(2,H,"i"),K}function g(P,O,H){var K=A(P,O,H);return K[1].v=P.read_shift(8,"f"),K}function p(P,O,H){var K=ys(13);return K.write_shift(1,255),K.write_shift(2,O),K.write_shift(2,P),K.write_shift(8,H,"f"),K}function v(P,O,H){var K=P.l+O,Z=A(P,O,H);if(Z[1].v=P.read_shift(8,"f"),H.qpro)P.l=K;else{var he=P.read_shift(2);S(P.slice(P.l,P.l+he),Z),P.l+=he}return Z}function m(P,O,H){var K=O&32768;return O&=-32769,O=(K?P:0)+(O>=8192?O-16384:O),(K?"":"$")+(H?Es(O):pa(O))}var x={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},_=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function S(P,O){la(P,0);for(var H=[],K=0,Z="",he="",xe="",ye="";P.l<P.length;){var be=P[P.l++];switch(be){case 0:H.push(P.read_shift(8,"f"));break;case 1:he=m(O[0].c,P.read_shift(2),!0),Z=m(O[0].r,P.read_shift(2),!1),H.push(he+Z);break;case 2:{var Fe=m(O[0].c,P.read_shift(2),!0),ne=m(O[0].r,P.read_shift(2),!1);he=m(O[0].c,P.read_shift(2),!0),Z=m(O[0].r,P.read_shift(2),!1),H.push(Fe+ne+":"+he+Z)}break;case 3:if(P.l<P.length){console.error("WK1 premature formula end");return}break;case 4:H.push("("+H.pop()+")");break;case 5:H.push(P.read_shift(2));break;case 6:{for(var We="";be=P[P.l++];)We+=String.fromCharCode(be);H.push('"'+We.replace(/"/g,'""')+'"')}break;case 8:H.push("-"+H.pop());break;case 23:H.push("+"+H.pop());break;case 22:H.push("NOT("+H.pop()+")");break;case 20:case 21:ye=H.pop(),xe=H.pop(),H.push(["AND","OR"][be-20]+"("+xe+","+ye+")");break;default:if(be<32&&_[be])ye=H.pop(),xe=H.pop(),H.push(xe+_[be]+ye);else if(x[be]){if(K=x[be][1],K==69&&(K=P[P.l++]),K>H.length){console.error("WK1 bad formula parse 0x"+be.toString(16)+":|"+H.join("|")+"|");return}var Se=H.slice(-K);H.length-=K,H.push(x[be][0]+"("+Se.join(",")+")")}else return be<=7?console.error("WK1 invalid opcode "+be.toString(16)):be<=24?console.error("WK1 unsupported op "+be.toString(16)):be<=30?console.error("WK1 invalid opcode "+be.toString(16)):be<=115?console.error("WK1 unsupported function opcode "+be.toString(16)):console.error("WK1 unrecognized opcode "+be.toString(16))}}H.length==1?O[1].f=""+H[0]:console.error("WK1 bad formula parse |"+H.join("|")+"|")}function k(P){var O=[{c:0,r:0},{t:"n",v:0},0];return O[0].r=P.read_shift(2),O[3]=P[P.l++],O[0].c=P[P.l++],O}function R(P,O){var H=k(P);return H[1].t="s",H[1].v=P.read_shift(O-4,"cstr"),H}function B(P,O,H,K){var Z=ys(6+K.length);Z.write_shift(2,P),Z.write_shift(1,H),Z.write_shift(1,O),Z.write_shift(1,39);for(var he=0;he<K.length;++he){var xe=K.charCodeAt(he);Z.write_shift(1,xe>=128?95:xe)}return Z.write_shift(1,0),Z}function E(P,O){var H=k(P);H[1].v=P.read_shift(2);var K=H[1].v>>1;if(H[1].v&1)switch(K&7){case 0:K=(K>>3)*5e3;break;case 1:K=(K>>3)*500;break;case 2:K=(K>>3)/20;break;case 3:K=(K>>3)/200;break;case 4:K=(K>>3)/2e3;break;case 5:K=(K>>3)/2e4;break;case 6:K=(K>>3)/16;break;case 7:K=(K>>3)/64;break}return H[1].v=K,H}function b(P,O){var H=k(P),K=P.read_shift(4),Z=P.read_shift(4),he=P.read_shift(2);if(he==65535)return K===0&&Z===3221225472?(H[1].t="e",H[1].v=15):K===0&&Z===3489660928?(H[1].t="e",H[1].v=42):H[1].v=0,H;var xe=he&32768;return he=(he&32767)-16446,H[1].v=(1-xe*2)*(Z*Math.pow(2,he+32)+K*Math.pow(2,he)),H}function I(P,O,H,K){var Z=ys(14);if(Z.write_shift(2,P),Z.write_shift(1,H),Z.write_shift(1,O),K==0)return Z.write_shift(4,0),Z.write_shift(4,0),Z.write_shift(2,65535),Z;var he=0,xe=0,ye=0,be=0;return K<0&&(he=1,K=-K),xe=Math.log2(K)|0,K/=Math.pow(2,xe-31),be=K>>>0,be&2147483648||(K/=2,++xe,be=K>>>0),K-=be,be|=2147483648,be>>>=0,K*=Math.pow(2,32),ye=K>>>0,Z.write_shift(4,ye),Z.write_shift(4,be),xe+=16383+(he?32768:0),Z.write_shift(2,xe),Z}function T(P,O){var H=b(P);return P.l+=O-14,H}function F(P,O){var H=k(P),K=P.read_shift(4);return H[1].v=K>>6,H}function D(P,O){var H=k(P),K=P.read_shift(8,"f");return H[1].v=K,H}function q(P,O){var H=D(P);return P.l+=O-10,H}function ie(P,O){return P[P.l+O-1]==0?P.read_shift(O,"cstr"):""}function oe(P,O){var H=P[P.l++];H>O-1&&(H=O-1);for(var K="";K.length<H;)K+=String.fromCharCode(P[P.l++]);return K}function te(P,O,H){if(!(!H.qpro||O<21)){var K=P.read_shift(1);P.l+=17,P.l+=1,P.l+=2;var Z=P.read_shift(O-21,"cstr");return[K,Z]}}function re(P,O){for(var H={},K=P.l+O;P.l<K;){var Z=P.read_shift(2);if(Z==14e3){for(H[Z]=[0,""],H[Z][0]=P.read_shift(2);P[P.l];)H[Z][1]+=String.fromCharCode(P[P.l]),P.l++;P.l++}}return H}function W(P,O){var H=ys(5+P.length);H.write_shift(2,14e3),H.write_shift(2,O);for(var K=0;K<P.length;++K){var Z=P.charCodeAt(K);H[H.l++]=Z>127?95:Z}return H[H.l++]=0,H}var pe={0:{n:"BOF",f:os},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:c},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:c},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ie},222:{n:"SHEETNAMELP",f:oe},65535:{n:""}},_e={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:R},23:{n:"NUMBER17",f:b},24:{n:"NUMBER18",f:E},25:{n:"FORMULA19",f:T},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:re},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:F},38:{n:"??"},39:{n:"NUMBER27",f:D},40:{n:"FORMULA28",f:q},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ie},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:te},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}}();function Sde(r){var e={},t=r.match(Ja),n=0,i=!1;if(t)for(;n!=t.length;++n){var s=er(t[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;e.cp=fU[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=s.val;break;case"<sz":e.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":s.rgb&&(e.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return e}var Tde=function(){var r=D_("t"),e=D_("rPr");function t(s){var a=s.match(r);if(!a)return{t:"s",v:""};var o={t:"s",v:$r(a[1])},l=s.match(e);return l&&(o.s=Sde(l[1])),o}var n=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(a){return a.replace(n,"").split(i).map(t).filter(function(o){return o.v})}}(),Fde=function(){var e=/(\r\n|\n)/g;function t(i,s,a){var o=[];i.u&&o.push("text-decoration: underline;"),i.uval&&o.push("text-underline-style:"+i.uval+";"),i.sz&&o.push("font-size:"+i.sz+"pt;"),i.outline&&o.push("text-effect: outline;"),i.shadow&&o.push("text-shadow: auto;"),s.push('<span style="'+o.join("")+'">'),i.b&&(s.push("<b>"),a.push("</b>")),i.i&&(s.push("<i>"),a.push("</i>")),i.strike&&(s.push("<s>"),a.push("</s>"));var l=i.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(s.push("<"+l+">"),a.push("</"+l+">")),a.push("</span>"),i}function n(i){var s=[[],i.v,[]];return i.v?(i.s&&t(i.s,s[0],s[2]),s[0].join("")+s[1].replace(e,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}}(),Ide=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,kde=/<(?:\w+:)?r>/,Lde=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function IU(r,e){var t=e?e.cellHTML:!0,n={};return r?(r.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=$r(zn(r.slice(r.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=zn(r),t&&(n.h=yU(n.t))):r.match(kde)&&(n.r=zn(r),n.t=$r(zn((r.replace(Lde,"").match(Ide)||[]).join("").replace(Ja,""))),t&&(n.h=Fde(Tde(n.r)))),n):{t:""}}var Pde=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,Rde=/<(?:\w+:)?(?:si|sstItem)>/g,Dde=/<\/(?:\w+:)?(?:si|sstItem)>/;function Nde(r,e){var t=[],n="";if(!r)return t;var i=r.match(Pde);if(i){n=i[2].replace(Rde,"").split(Dde);for(var s=0;s!=n.length;++s){var a=IU(n[s].trim(),e);a!=null&&(t[t.length]=a)}i=er(i[1]),t.Count=i.count,t.Unique=i.uniqueCount}return t}function Ude(r){return[r.read_shift(4),r.read_shift(4)]}function Mde(r,e){var t=[],n=!1;return Uf(r,function(s,a,o){switch(o){case 159:t.Count=s[0],t.Unique=s[1];break;case 19:t.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(a.T,!n||e.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),t}function Z$(r){for(var e=[],t=r.split(""),n=0;n<t.length;++n)e[n]=t[n].charCodeAt(0);return e}function vf(r,e){var t={};return t.Major=r.read_shift(2),t.Minor=r.read_shift(2),e>=4&&(r.l+=e-4),t}function Ode(r){var e={};return e.id=r.read_shift(0,"lpp4"),e.R=vf(r,4),e.U=vf(r,4),e.W=vf(r,4),e}function Qde(r){for(var e=r.read_shift(4),t=r.l+e-4,n={},i=r.read_shift(4),s=[];i-- >0;)s.push({t:r.read_shift(4),v:r.read_shift(0,"lpp4")});if(n.name=r.read_shift(0,"lpp4"),n.comps=s,r.l!=t)throw new Error("Bad DataSpaceMapEntry: "+r.l+" != "+t);return n}function Hde(r){var e=[];r.l+=4;for(var t=r.read_shift(4);t-- >0;)e.push(Qde(r));return e}function Vde(r){var e=[];r.l+=4;for(var t=r.read_shift(4);t-- >0;)e.push(r.read_shift(0,"lpp4"));return e}function jde(r){var e={};return r.read_shift(4),r.l+=4,e.id=r.read_shift(0,"lpp4"),e.name=r.read_shift(0,"lpp4"),e.R=vf(r,4),e.U=vf(r,4),e.W=vf(r,4),e}function Kde(r){var e=jde(r);if(e.ename=r.read_shift(0,"8lpp4"),e.blksz=r.read_shift(4),e.cmode=r.read_shift(4),r.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function eq(r,e){var t=r.l+e,n={};n.Flags=r.read_shift(4)&63,r.l+=4,n.AlgID=r.read_shift(4);var i=!1;switch(n.AlgID){case 26126:case 26127:case 26128:i=n.Flags==36;break;case 26625:i=n.Flags==4;break;case 0:i=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=r.read_shift(4),n.KeySize=r.read_shift(4),n.ProviderType=r.read_shift(4),r.l+=8,n.CSPName=r.read_shift(t-r.l>>1,"utf16le"),r.l=t,n}function tq(r,e){var t={},n=r.l+e;return r.l+=4,t.Salt=r.slice(r.l,r.l+16),r.l+=16,t.Verifier=r.slice(r.l,r.l+16),r.l+=16,r.read_shift(4),t.VerifierHash=r.slice(r.l,n),r.l=n,t}function zde(r){var e=vf(r);switch(e.Minor){case 2:return[e.Minor,Wde(r)];case 3:return[e.Minor,Gde()];case 4:return[e.Minor,$de(r)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function Wde(r){var e=r.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var t=r.read_shift(4),n=eq(r,t),i=tq(r,r.length-r.l);return{t:"Std",h:n,v:i}}function Gde(){throw new Error("File is password-protected: ECMA-376 Extensible")}function $de(r){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];r.l+=4;var t=r.read_shift(r.length-r.l,"utf8"),n={};return t.replace(Ja,function(s){var a=er(s);switch(ju(a[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(o){n[o]=a[o]});break;case"<dataIntegrity":n.encryptedHmacKey=a.encryptedHmacKey,n.encryptedHmacValue=a.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=a.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(a);break;default:throw a[0]}}),n}function qde(r,e){var t={},n=t.EncryptionVersionInfo=vf(r,4);if(e-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);t.Flags=r.read_shift(4),e-=4;var i=r.read_shift(4);return e-=4,t.EncryptionHeader=eq(r,i),e-=i,t.EncryptionVerifier=tq(r,e),t}function Xde(r){var e={},t=e.EncryptionVersionInfo=vf(r,4);if(t.Major!=1||t.Minor!=1)throw"unrecognized version code "+t.Major+" : "+t.Minor;return e.Salt=r.read_shift(16),e.EncryptedVerifier=r.read_shift(16),e.EncryptedVerifierHash=r.read_shift(16),e}function Yde(r){var e=0,t,n=Z$(r),i=n.length+1,s,a,o,l,A;for(t=tp(i),t[0]=n.length,s=1;s!=i;++s)t[s]=n[s-1];for(s=i-1;s>=0;--s)a=t[s],o=e&16384?1:0,l=e<<1&32767,A=o|l,e=A^a;return e^52811}var rq=function(){var r=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],t=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(a){return(a/2|a*128)&255},i=function(a,o){return n(a^o)},s=function(a){for(var o=e[a.length-1],l=104,A=a.length-1;A>=0;--A)for(var c=a[A],u=0;u!=7;++u)c&64&&(o^=t[l]),c*=2,--l;return o};return function(a){for(var o=Z$(a),l=s(o),A=o.length,c=tp(16),u=0;u!=16;++u)c[u]=0;var h,f,g;for((A&1)===1&&(h=l>>8,c[A]=i(r[0],h),--A,h=l&255,f=o[o.length-1],c[A]=i(f,h));A>0;)--A,h=l>>8,c[A]=i(o[A],h),--A,h=l&255,c[A]=i(o[A],h);for(A=15,g=15-o.length;g>0;)h=l>>8,c[A]=i(r[g],h),--A,--g,h=l&255,c[A]=i(o[A],h),--A,--g;return c}}(),Jde=function(r,e,t,n,i){i||(i=e),n||(n=rq(r));var s,a;for(s=0;s!=e.length;++s)a=e[s],a^=n[t],a=(a>>5|a<<3)&255,i[s]=a,++t;return[i,t,n]},Zde=function(r){var e=0,t=rq(r);return function(n){var i=Jde("",n,e,t);return e=i[1],i[0]}};function e0e(r,e,t,n){var i={key:os(r),verificationBytes:os(r)};return t.password&&(i.verifier=Yde(t.password)),n.valid=i.verificationBytes===i.verifier,n.valid&&(n.insitu=Zde(t.password)),i}function t0e(r,e,t){var n=t||{};return n.Info=r.read_shift(2),r.l-=2,n.Info===1?n.Data=Xde(r):n.Data=qde(r,e),n}function r0e(r,e,t){var n={Type:t.biff>=8?r.read_shift(2):0};return n.Type?t0e(r,e-2,n):e0e(r,t.biff>=8?e:e-2,t,n),n}var n0e=function(){function r(i,s){switch(s.type){case"base64":return e($l(i),s);case"binary":return e(i,s);case"buffer":return e(Mr&&Buffer.isBuffer(i)?i.toString("binary"):e1(i),s);case"array":return e(Qm(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var a=s||{},o=a.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var A={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(c,u){Array.isArray(o)&&(o[u]=[]);for(var h=/\\\w+\b/g,f=0,g,p=-1;g=h.exec(c);){switch(g[0]){case"\\cell":var v=c.slice(f,h.lastIndex-g[0].length);if(v[0]==" "&&(v=v.slice(1)),++p,v.length){var m={v,t:"s"};Array.isArray(o)?o[u][p]=m:o[lr({r:u,c:p})]=m}break}f=h.lastIndex}p>A.e.c&&(A.e.c=p)}),o["!ref"]=jr(A),o}function t(i,s){return dp(r(i,s),s)}function n(i){for(var s=["{\\rtf1\\ansi"],a=Ni(i["!ref"]),o,l=Array.isArray(i),A=a.s.r;A<=a.e.r;++A){s.push("\\trowd\\trautofit1");for(var c=a.s.c;c<=a.e.c;++c)s.push("\\cellx"+(c+1));for(s.push("\\pard\\intbl"),c=a.s.c;c<=a.e.c;++c){var u=lr({r:A,c});o=l?(i[A]||[])[c]:i[u],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(kf(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:t,to_sheet:r,from_sheet:n}}();function i0e(r){var e=r.slice(r[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function M_(r){for(var e=0,t=1;e!=3;++e)t=t*256+(r[e]>255?255:r[e]<0?0:r[e]);return t.toString(16).toUpperCase().slice(1)}function s0e(r){var e=r[0]/255,t=r[1]/255,n=r[2]/255,i=Math.max(e,t,n),s=Math.min(e,t,n),a=i-s;if(a===0)return[0,0,e];var o=0,l=0,A=i+s;switch(l=a/(A>1?2-A:A),i){case e:o=((t-n)/a+6)%6;break;case t:o=(n-e)/a+2;break;case n:o=(e-t)/a+4;break}return[o/6,l,A/2]}function a0e(r){var e=r[0],t=r[1],n=r[2],i=t*2*(n<.5?n:1-n),s=n-i/2,a=[s,s,s],o=6*e,l;if(t!==0)switch(o|0){case 0:case 6:l=i*o,a[0]+=i,a[1]+=l;break;case 1:l=i*(2-o),a[0]+=l,a[1]+=i;break;case 2:l=i*(o-2),a[1]+=i,a[2]+=l;break;case 3:l=i*(4-o),a[1]+=l,a[2]+=i;break;case 4:l=i*(o-4),a[2]+=i,a[0]+=l;break;case 5:l=i*(6-o),a[2]+=l,a[0]+=i;break}for(var A=0;A!=3;++A)a[A]=Math.round(a[A]*255);return a}function RT(r,e){if(e===0)return r;var t=s0e(i0e(r));return e<0?t[2]=t[2]*(1+e):t[2]=1-(1-t[2])*(1-e),M_(a0e(t))}var nq=6,o0e=15,l0e=1,go=nq;function DT(r){return Math.floor((r+Math.round(128/go)/256)*go)}function NT(r){return Math.floor((r-5)/go*100+.5)/100}function zL(r){return Math.round((r*go+5)/go*256)/256}function rk(r){return zL(NT(DT(r)))}function kU(r){var e=Math.abs(r-rk(r)),t=go;if(e>.005)for(go=l0e;go<o0e;++go)Math.abs(r-rk(r))<=e&&(e=Math.abs(r-rk(r)),t=go);go=t}function _y(r){r.width?(r.wpx=DT(r.width),r.wch=NT(r.wpx),r.MDW=go):r.wpx?(r.wch=NT(r.wpx),r.width=zL(r.wch),r.MDW=go):typeof r.wch=="number"&&(r.width=zL(r.wch),r.wpx=DT(r.width),r.MDW=go),r.customWidth&&delete r.customWidth}var A0e=96,iq=A0e;function sq(r){return r*96/iq}function O_(r){return r*iq/96}var c0e={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function u0e(r,e,t,n){e.Borders=[];var i={},s=!1;(r[0].match(Ja)||[]).forEach(function(a){var o=er(a);switch(ju(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},o.diagonalUp&&(i.diagonalUp=si(o.diagonalUp)),o.diagonalDown&&(i.diagonalDown=si(o.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in borders")}})}function h0e(r,e,t,n){e.Fills=[];var i={},s=!1;(r[0].match(Ja)||[]).forEach(function(a){var o=er(a);switch(ju(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":o.patternType&&(i.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),o.indexed&&(i.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(i.bgColor.theme=parseInt(o.theme,10)),o.tint&&(i.bgColor.tint=parseFloat(o.tint)),o.rgb&&(i.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),o.theme&&(i.fgColor.theme=parseInt(o.theme,10)),o.tint&&(i.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(i.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fills")}})}function f0e(r,e,t,n){e.Fonts=[];var i={},s=!1;(r[0].match(Ja)||[]).forEach(function(a){var o=er(a);switch(ju(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=zn(o.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=o.val?si(o.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=o.val?si(o.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=o.val?si(o.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=o.val?si(o.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=o.val?si(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=o.val?si(o.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=o.val?si(o.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":o.val&&(i.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=fU[parseInt(o.val,10)];break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=si(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var l=bm[i.color.index];i.color.index==81&&(l=bm[1]),l||(l=bm[1]),i.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&t.themeElements&&t.themeElements.clrScheme&&(i.color.rgb=RT(t.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fonts")}})}function d0e(r,e,t){e.NumberFmt=[];for(var n=Ou(vr),i=0;i<n.length;++i)e.NumberFmt[n[i]]=vr[n[i]];var s=r[0].match(Ja);if(s)for(i=0;i<s.length;++i){var a=er(s[i]);switch(ju(a[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=$r(zn(a.formatCode)),l=parseInt(a.numFmtId,10);if(e.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&e.NumberFmt[l]!=null;--l);e.NumberFmt[l]=o}_m(o,l)}}break;case"</numFmt>":break;default:if(t.WTF)throw new Error("unrecognized "+a[0]+" in numFmts")}}}var gB=["numFmtId","fillId","fontId","borderId","xfId"],mB=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function p0e(r,e,t){e.CellXf=[];var n,i=!1;(r[0].match(Ja)||[]).forEach(function(s){var a=er(s),o=0;switch(ju(a[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=a,delete n[0],o=0;o<gB.length;++o)n[gB[o]]&&(n[gB[o]]=parseInt(n[gB[o]],10));for(o=0;o<mB.length;++o)n[mB[o]]&&(n[mB[o]]=si(n[mB[o]]));if(e.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(e.NumberFmt[n.numFmtId]==e.NumberFmt[o]){n.numFmtId=o;break}}e.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};a.vertical&&(l.vertical=a.vertical),a.horizontal&&(l.horizontal=a.horizontal),a.textRotation!=null&&(l.textRotation=a.textRotation),a.indent&&(l.indent=a.indent),a.wrapText&&(l.wrapText=si(a.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(t&&t.WTF&&!i)throw new Error("unrecognized "+a[0]+" in cellXfs")}})}var g0e=function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,t=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,A){var c={};if(!o)return c;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var u;return(u=o.match(e))&&d0e(u,c,A),(u=o.match(i))&&f0e(u,c,l,A),(u=o.match(n))&&h0e(u,c,l,A),(u=o.match(s))&&u0e(u,c,l,A),(u=o.match(t))&&p0e(u,c,A),c}}();function m0e(r,e){var t=r.read_shift(2),n=Ga(r);return[t,n]}function v0e(r,e,t){var n={};n.sz=r.read_shift(2)/20;var i=The(r);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var s=r.read_shift(2);switch(s===700&&(n.bold=1),r.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var a=r.read_shift(1);a!=0&&(n.underline=a);var o=r.read_shift(1);o>0&&(n.family=o);var l=r.read_shift(1);switch(l>0&&(n.charset=l),r.l++,n.color=She(r),r.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Ga(r),n}var w0e=Xa;function y0e(r,e){var t=r.l+e,n=r.read_shift(2),i=r.read_shift(2);return r.l=t,{ixfe:n,numFmtId:i}}var x0e=Xa;function _0e(r,e,t){var n={};n.NumberFmt=[];for(var i in vr)n.NumberFmt[i]=vr[i];n.CellXf=[],n.Fonts=[];var s=[],a=!1;return Uf(r,function(l,A,c){switch(c){case 44:n.NumberFmt[l[0]]=l[1],_m(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(l.color.rgb=RT(e.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:s.push(c),a=!0;break;case 38:s.pop(),a=!1;break;default:if(A.T>0)s.push(c);else if(A.T<0)s.pop();else if(!a||t.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+c.toString(16))}}),n}var b0e=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function E0e(r,e,t){e.themeElements.clrScheme=[];var n={};(r[0].match(Ja)||[]).forEach(function(i){var s=er(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(e.themeElements.clrScheme[b0e.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(t&&t.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function C0e(){}function B0e(){}var S0e=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,T0e=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,F0e=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function I0e(r,e,t){e.themeElements={};var n;[["clrScheme",S0e,E0e],["fontScheme",T0e,C0e],["fmtScheme",F0e,B0e]].forEach(function(i){if(!(n=r.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](n,e,t)})}var k0e=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function aq(r,e){(!r||r.length===0)&&(r=L0e());var t,n={};if(!(t=r.match(k0e)))throw new Error("themeElements not found in theme");return I0e(t[0],n,e),n.raw=r,n}function L0e(r,e){var t=[m$];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function P0e(r,e,t){var n=r.l+e,i=r.read_shift(4);if(i!==124226){if(!t.cellStyles){r.l=n;return}var s=r.slice(r.l);r.l=n;var a;try{a=g$(s,{type:"array"})}catch{return}var o=Vl(a,"theme/theme/theme1.xml",!0);if(o)return aq(o,t)}}function R0e(r){return r.read_shift(4)}function D0e(r){var e={};switch(e.xclrType=r.read_shift(2),e.nTintShade=r.read_shift(2),e.xclrType){case 0:r.l+=4;break;case 1:e.xclrValue=N0e(r,4);break;case 2:e.xclrValue=W$(r);break;case 3:e.xclrValue=R0e(r);break;case 4:r.l+=4;break}return r.l+=8,e}function N0e(r,e){return Xa(r,e)}function U0e(r,e){return Xa(r,e)}function M0e(r){var e=r.read_shift(2),t=r.read_shift(2)-4,n=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=D0e(r);break;case 6:n[1]=U0e(r,t);break;case 14:case 15:n[1]=r.read_shift(t===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+t)}return n}function O0e(r,e){var t=r.l+e;r.l+=2;var n=r.read_shift(2);r.l+=2;for(var i=r.read_shift(2),s=[];i-- >0;)s.push(M0e(r,t-r.l));return{ixfe:n,ext:s}}function Q0e(r,e){e.forEach(function(t){switch(t[0]){}})}function H0e(r,e){return{flags:r.read_shift(4),version:r.read_shift(4),name:Ga(r)}}function V0e(r){for(var e=[],t=r.read_shift(4);t-- >0;)e.push([r.read_shift(4),r.read_shift(4)]);return e}function j0e(r){return r.l+=4,r.read_shift(4)!=0}function K0e(r,e,t){var n={Types:[],Cell:[],Value:[]},i=t||{},s=[],a=!1,o=2;return Uf(r,function(l,A,c){switch(c){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(u){o==1?n.Cell.push({type:n.Types[u[0]-1].name,index:u[1]}):o==0&&n.Value.push({type:n.Types[u[0]-1].name,index:u[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:s.push(c),a=!0;break;case 36:s.pop(),a=!1;break;default:if(!A.T){if(!a||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+c.toString(16))}}}),n}function z0e(r,e,t){var n={Types:[],Cell:[],Value:[]};if(!r)return n;var i=!1,s=2,a;return r.replace(Ja,function(o){var l=er(o);switch(ju(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var A=0;A<n.Types.length;++A)n.Types[A].name==l.name&&(a=n.Types[A]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):s==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!a)break;a.offsets||(a.offsets=[]),a.offsets.push(+l.i);break;default:if(!i&&t.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function W0e(r){var e=[];if(!r)return e;var t=1;return(r.match(Ja)||[]).forEach(function(n){var i=er(n);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?t=i.i:i.i=t,e.push(i);break}}),e}function G0e(r){var e={};e.i=r.read_shift(4);var t={};t.r=r.read_shift(4),t.c=r.read_shift(4),e.r=lr(t);var n=r.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}function $0e(r,e,t){var n=[];return Uf(r,function(s,a,o){switch(o){case 63:n.push(s);break;default:if(!a.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function q0e(r,e,t,n){if(!r)return r;var i=n||{},s=!1;Uf(r,function(o,l,A){switch(A){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!l.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+A.toString(16))}}},i)}function X0e(r,e){if(!r)return"??";var t=(r.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][t].Target}function CQ(r,e,t,n){var i=Array.isArray(r),s;e.forEach(function(a){var o=mo(a.ref);if(i?(r[o.r]||(r[o.r]=[]),s=r[o.r][o.c]):s=r[a.ref],!s){s={t:"z"},i?r[o.r][o.c]=s:r[a.ref]=s;var l=Ni(r["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var A=jr(l);A!==r["!ref"]&&(r["!ref"]=A)}s.c||(s.c=[]);var c={a:a.author,t:a.t,r:a.r,T:t};a.h&&(c.h=a.h);for(var u=s.c.length-1;u>=0;--u){if(!t&&s.c[u].T)return;t&&!s.c[u].T&&s.c.splice(u,1)}if(t&&n){for(u=0;u<n.length;++u)if(c.a==n[u].id){c.a=n[u].name||c.a;break}}s.c.push(c)})}function Y0e(r,e){if(r.match(/<(?:\w+:)?comments *\/>/))return[];var t=[],n=[],i=r.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&t.push(o[1])}});var s=r.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=er(o[0]),A={author:l.authorId&&t[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},c=mo(l.ref);if(!(e.sheetRows&&e.sheetRows<=c.r)){var u=a.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!u&&!!u[1]&&IU(u[1])||{r:"",t:"",h:""};A.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),A.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(A.h=h.h),n.push(A)}}}}),n}function J0e(r,e){var t=[],n=!1,i={},s=0;return r.replace(Ja,function(o,l){var A=er(o);switch(ju(A[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:A.personId,guid:A.id,ref:A.ref,T:1};break;case"</threadedComment>":i.t!=null&&t.push(i);break;case"<text>":case"<text":s=l+o.length;break;case"</text>":i.t=r.slice(s,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+A[0]+" in threaded comments")}return o}),t}function Z0e(r,e){var t=[],n=!1;return r.replace(Ja,function(s){var a=er(s);switch(ju(a[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":t.push({name:a.displayname,id:a.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+a[0]+" in threaded comments")}return s}),t}function epe(r){var e={};e.iauthor=r.read_shift(4);var t=r1(r);return e.rfx=t.s,e.ref=lr(t.s),r.l+=16,e}var tpe=Ga;function rpe(r,e){var t=[],n=[],i={},s=!1;return Uf(r,function(o,l,A){switch(A){case 632:n.push(o);break;case 635:i=o;break;case 637:i.t=o.t,i.h=o.h,i.r=o.r;break;case 636:if(i.author=n[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,t.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!s||e.WTF)throw new Error("Unexpected record 0x"+A.toString(16))}}}),t}var npe="application/vnd.ms-office.vbaProject";function ipe(r){var e=Vr.utils.cfb_new({root:"R"});return r.FullPaths.forEach(function(t,n){if(!(t.slice(-1)==="/"||!t.match(/_VBA_PROJECT_CUR/))){var i=t.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Vr.utils.cfb_add(e,i,r.FileIndex[n].content)}}),Vr.write(e)}function spe(){return{"!type":"dialog"}}function ape(){return{"!type":"dialog"}}function ope(){return{"!type":"macro"}}function lpe(){return{"!type":"macro"}}var Cv=function(){var r=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(n,i,s,a){var o=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var A=s.length>0?parseInt(s,10)|0:0,c=a.length>0?parseInt(a,10)|0:0;return o?c+=e.c:--c,l?A+=e.r:--A,i+(o?"":"$")+Es(c)+(l?"":"$")+pa(A)}return function(i,s){return e=s,i.replace(r,t)}}(),oq=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Ape=function(){return function(e,t){return e.replace(oq,function(n,i,s,a,o,l){var A=EU(a)-(s?0:t.c),c=bU(l)-(o?0:t.r),u=c==0?"":o?c+1:"["+c+"]",h=A==0?"":s?A+1:"["+A+"]";return i+"R"+u+"C"+h})}}();function lq(r,e){return r.replace(oq,function(t,n,i,s,a,o){return n+(i=="$"?i+s:Es(EU(s)+e.c))+(a=="$"?a+o:pa(bU(o)+e.r))})}function cpe(r,e,t){var n=My(e),i=n.s,s=mo(t),a={r:s.r-i.r,c:s.c-i.c};return lq(r,a)}function upe(r){return r.length!=1}function BQ(r){return r.replace(/_xlfn\./g,"")}function ts(r){r.l+=1}function rp(r,e){var t=r.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function Aq(r,e,t){var n=2;if(t){if(t.biff>=2&&t.biff<=5)return cq(r);t.biff==12&&(n=4)}var i=r.read_shift(n),s=r.read_shift(n),a=rp(r),o=rp(r);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function cq(r){var e=rp(r),t=rp(r),n=r.read_shift(1),i=r.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:t[0],c:i,cRel:t[1],rRel:t[2]}}}function hpe(r,e,t){if(t.biff<8)return cq(r);var n=r.read_shift(t.biff==12?4:2),i=r.read_shift(t.biff==12?4:2),s=rp(r),a=rp(r);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function uq(r,e,t){if(t&&t.biff>=2&&t.biff<=5)return fpe(r);var n=r.read_shift(t&&t.biff==12?4:2),i=rp(r);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function fpe(r){var e=rp(r),t=r.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function dpe(r){var e=r.read_shift(2),t=r.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function ppe(r,e,t){var n=t&&t.biff?t.biff:8;if(n>=2&&n<=5)return gpe(r);var i=r.read_shift(n>=12?4:2),s=r.read_shift(2),a=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;i>524287;)i-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:a,rRel:o}}function gpe(r){var e=r.read_shift(2),t=r.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:i,rRel:n}}function mpe(r,e,t){var n=(r[r.l++]&96)>>5,i=Aq(r,t.biff>=2&&t.biff<=5?6:8,t);return[n,i]}function vpe(r,e,t){var n=(r[r.l++]&96)>>5,i=r.read_shift(2,"i"),s=8;if(t)switch(t.biff){case 5:r.l+=12,s=6;break;case 12:s=12;break}var a=Aq(r,s,t);return[n,i,a]}function wpe(r,e,t){var n=(r[r.l++]&96)>>5;return r.l+=t&&t.biff>8?12:t.biff<8?6:8,[n]}function ype(r,e,t){var n=(r[r.l++]&96)>>5,i=r.read_shift(2),s=8;if(t)switch(t.biff){case 5:r.l+=12,s=6;break;case 12:s=12;break}return r.l+=s,[n,i]}function xpe(r,e,t){var n=(r[r.l++]&96)>>5,i=hpe(r,e-1,t);return[n,i]}function _pe(r,e,t){var n=(r[r.l++]&96)>>5;return r.l+=t.biff==2?6:t.biff==12?14:7,[n]}function SQ(r){var e=r[r.l+1]&1,t=1;return r.l+=4,[e,t]}function bpe(r,e,t){r.l+=2;for(var n=r.read_shift(t&&t.biff==2?1:2),i=[],s=0;s<=n;++s)i.push(r.read_shift(t&&t.biff==2?1:2));return i}function Epe(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(t&&t.biff==2?1:2)]}function Cpe(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(t&&t.biff==2?1:2)]}function Bpe(r){var e=r[r.l+1]&255?1:0;return r.l+=2,[e,r.read_shift(2)]}function Spe(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=t&&t.biff==2?3:4,[n]}function hq(r){var e=r.read_shift(1),t=r.read_shift(1);return[e,t]}function Tpe(r){return r.read_shift(2),hq(r)}function Fpe(r){return r.read_shift(2),hq(r)}function Ipe(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=uq(r,0,t);return[n,i]}function kpe(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=ppe(r,0,t);return[n,i]}function Lpe(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=r.read_shift(2);t&&t.biff==5&&(r.l+=12);var s=uq(r,0,t);return[n,i,s]}function Ppe(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=r.read_shift(t&&t.biff<=3?1:2);return[Rge[i],pq[i],n]}function Rpe(r,e,t){var n=r[r.l++],i=r.read_shift(1),s=t&&t.biff<=3?[n==88?-1:0,r.read_shift(1)]:Dpe(r);return[i,(s[0]===0?pq:Pge)[s[1]]]}function Dpe(r){return[r[r.l+1]>>7,r.read_shift(2)&32767]}function Npe(r,e,t){r.l+=t&&t.biff==2?3:4}function Upe(r,e,t){if(r.l++,t&&t.biff==12)return[r.read_shift(4,"i"),0];var n=r.read_shift(2),i=r.read_shift(t&&t.biff==2?1:2);return[n,i]}function Mpe(r){return r.l++,n1[r.read_shift(1)]}function Ope(r){return r.l++,r.read_shift(2)}function Qpe(r){return r.l++,r.read_shift(1)!==0}function Hpe(r){return r.l++,Ka(r)}function Vpe(r,e,t){return r.l++,aC(r,e-1,t)}function jpe(r,e){var t=[r.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=ji(r,1)?"TRUE":"FALSE",e!=12&&(r.l+=7);break;case 37:case 16:t[1]=n1[r[r.l]],r.l+=e==12?4:8;break;case 0:r.l+=8;break;case 1:t[1]=Ka(r);break;case 2:t[1]=i1(r,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function Kpe(r,e,t){for(var n=r.read_shift(t.biff==12?4:2),i=[],s=0;s!=n;++s)i.push((t.biff==12?r1:b4)(r));return i}function zpe(r,e,t){var n=0,i=0;t.biff==12?(n=r.read_shift(4),i=r.read_shift(4)):(i=1+r.read_shift(1),n=1+r.read_shift(2)),t.biff>=2&&t.biff<8&&(--n,--i==0&&(i=256));for(var s=0,a=[];s!=n&&(a[s]=[]);++s)for(var o=0;o!=i;++o)a[s][o]=jpe(r,t.biff);return a}function Wpe(r,e,t){var n=r.read_shift(1)>>>5&3,i=!t||t.biff>=8?4:2,s=r.read_shift(i);switch(t.biff){case 2:r.l+=5;break;case 3:case 4:r.l+=8;break;case 5:r.l+=12;break}return[n,0,s]}function Gpe(r,e,t){if(t.biff==5)return $pe(r);var n=r.read_shift(1)>>>5&3,i=r.read_shift(2),s=r.read_shift(4);return[n,i,s]}function $pe(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2,"i");r.l+=8;var n=r.read_shift(2);return r.l+=12,[e,t,n]}function qpe(r,e,t){var n=r.read_shift(1)>>>5&3;r.l+=t&&t.biff==2?3:4;var i=r.read_shift(t&&t.biff==2?1:2);return[n,i]}function Xpe(r,e,t){var n=r.read_shift(1)>>>5&3,i=r.read_shift(t&&t.biff==2?1:2);return[n,i]}function Ype(r,e,t){var n=r.read_shift(1)>>>5&3;return r.l+=4,t.biff<8&&r.l--,t.biff==12&&(r.l+=2),[n]}function Jpe(r,e,t){var n=(r[r.l++]&96)>>5,i=r.read_shift(2),s=4;if(t)switch(t.biff){case 5:s=15;break;case 12:s=6;break}return r.l+=s,[n,i]}var Zpe=Xa,ege=Xa,tge=Xa;function lC(r,e,t){return r.l+=2,[dpe(r)]}function LU(r){return r.l+=6,[]}var rge=lC,nge=LU,ige=LU,sge=lC;function fq(r){return r.l+=2,[os(r),r.read_shift(2)&1]}var age=lC,oge=fq,lge=LU,Age=lC,cge=lC,uge=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function hge(r){r.l+=2;var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(4),i=r.read_shift(2),s=r.read_shift(2),a=uge[t>>2&31];return{ixti:e,coltype:t&3,rt:a,idx:n,c:i,C:s}}function fge(r){return r.l+=2,[r.read_shift(4)]}function dge(r,e,t){return r.l+=5,r.l+=2,r.l+=t.biff==2?1:4,["PTGSHEET"]}function pge(r,e,t){return r.l+=t.biff==2?4:5,["PTGENDSHEET"]}function gge(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function mge(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function vge(r){return r.l+=4,[0,0]}var TQ={1:{n:"PtgExp",f:Upe},2:{n:"PtgTbl",f:tge},3:{n:"PtgAdd",f:ts},4:{n:"PtgSub",f:ts},5:{n:"PtgMul",f:ts},6:{n:"PtgDiv",f:ts},7:{n:"PtgPower",f:ts},8:{n:"PtgConcat",f:ts},9:{n:"PtgLt",f:ts},10:{n:"PtgLe",f:ts},11:{n:"PtgEq",f:ts},12:{n:"PtgGe",f:ts},13:{n:"PtgGt",f:ts},14:{n:"PtgNe",f:ts},15:{n:"PtgIsect",f:ts},16:{n:"PtgUnion",f:ts},17:{n:"PtgRange",f:ts},18:{n:"PtgUplus",f:ts},19:{n:"PtgUminus",f:ts},20:{n:"PtgPercent",f:ts},21:{n:"PtgParen",f:ts},22:{n:"PtgMissArg",f:ts},23:{n:"PtgStr",f:Vpe},26:{n:"PtgSheet",f:dge},27:{n:"PtgEndSheet",f:pge},28:{n:"PtgErr",f:Mpe},29:{n:"PtgBool",f:Qpe},30:{n:"PtgInt",f:Ope},31:{n:"PtgNum",f:Hpe},32:{n:"PtgArray",f:_pe},33:{n:"PtgFunc",f:Ppe},34:{n:"PtgFuncVar",f:Rpe},35:{n:"PtgName",f:Wpe},36:{n:"PtgRef",f:Ipe},37:{n:"PtgArea",f:mpe},38:{n:"PtgMemArea",f:qpe},39:{n:"PtgMemErr",f:Zpe},40:{n:"PtgMemNoMem",f:ege},41:{n:"PtgMemFunc",f:Xpe},42:{n:"PtgRefErr",f:Ype},43:{n:"PtgAreaErr",f:wpe},44:{n:"PtgRefN",f:kpe},45:{n:"PtgAreaN",f:xpe},46:{n:"PtgMemAreaN",f:gge},47:{n:"PtgMemNoMemN",f:mge},57:{n:"PtgNameX",f:Gpe},58:{n:"PtgRef3d",f:Lpe},59:{n:"PtgArea3d",f:vpe},60:{n:"PtgRefErr3d",f:Jpe},61:{n:"PtgAreaErr3d",f:ype},255:{}},wge={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},yge={1:{n:"PtgElfLel",f:fq},2:{n:"PtgElfRw",f:Age},3:{n:"PtgElfCol",f:rge},6:{n:"PtgElfRwV",f:cge},7:{n:"PtgElfColV",f:sge},10:{n:"PtgElfRadical",f:age},11:{n:"PtgElfRadicalS",f:lge},13:{n:"PtgElfColS",f:nge},15:{n:"PtgElfColSV",f:ige},16:{n:"PtgElfRadicalLel",f:oge},25:{n:"PtgList",f:hge},29:{n:"PtgSxName",f:fge},255:{}},xge={0:{n:"PtgAttrNoop",f:vge},1:{n:"PtgAttrSemi",f:Spe},2:{n:"PtgAttrIf",f:Cpe},4:{n:"PtgAttrChoose",f:bpe},8:{n:"PtgAttrGoto",f:Epe},16:{n:"PtgAttrSum",f:Npe},32:{n:"PtgAttrBaxcel",f:SQ},33:{n:"PtgAttrBaxcel",f:SQ},64:{n:"PtgAttrSpace",f:Tpe},65:{n:"PtgAttrSpaceSemi",f:Fpe},128:{n:"PtgAttrIfError",f:Bpe},255:{}};function AC(r,e,t,n){if(n.biff<8)return Xa(r,e);for(var i=r.l+e,s=[],a=0;a!==t.length;++a)switch(t[a][0]){case"PtgArray":t[a][1]=zpe(r,0,n),s.push(t[a][1]);break;case"PtgMemArea":t[a][2]=Kpe(r,t[a][1],n),s.push(t[a][2]);break;case"PtgExp":n&&n.biff==12&&(t[a][1][1]=r.read_shift(4),s.push(t[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[a][0]}return e=i-r.l,e!==0&&s.push(Xa(r,e)),s}function cC(r,e,t){for(var n=r.l+e,i,s,a=[];n!=r.l;)e=n-r.l,s=r[r.l],i=TQ[s]||TQ[wge[s]],(s===24||s===25)&&(i=(s===24?yge:xge)[r[r.l+1]]),!i||!i.f?Xa(r,e):a.push([i.n,i.f(r,e,t)]);return a}function _ge(r){for(var e=[],t=0;t<r.length;++t){for(var n=r[t],i=[],s=0;s<n.length;++s){var a=n[s];if(a)switch(a[0]){case 2:i.push('"'+a[1].replace(/"/g,'""')+'"');break;default:i.push(a[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var bge={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Ege(r,e){if(!r&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(r)?"'"+r+"'":r}function dq(r,e,t){if(!r)return"SH33TJSERR0";if(t.biff>8&&(!r.XTI||!r.XTI[e]))return r.SheetNames[e];if(!r.XTI)return"SH33TJSERR6";var n=r.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":r.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(t.biff>8)switch(r[n[0]][0]){case 357:return i=n[1]==-1?"#REF":r.SheetNames[n[1]],n[1]==n[2]?i:i+":"+r.SheetNames[n[2]];case 358:return t.SID!=null?r.SheetNames[t.SID]:"SH33TJSSAME"+r[n[0]][0];case 355:default:return"SH33TJSSRC"+r[n[0]][0]}switch(r[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":r.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+r.SheetNames[n[2]];case 14849:return r[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return r[n[0]][0][3]?(i=n[1]==-1?"#REF":r[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+r[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function FQ(r,e,t){var n=dq(r,e,t);return n=="#REF"?n:Ege(n,t)}function Oa(r,e,t,n,i){var s=i&&i.biff||8,a={s:{c:0,r:0}},o=[],l,A,c,u=0,h=0,f,g="";if(!r[0]||!r[0][0])return"";for(var p=-1,v="",m=0,x=r[0].length;m<x;++m){var _=r[0][m];switch(_[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),A=o.pop(),p>=0){switch(r[0][p][1][0]){case 0:v=Pi(" ",r[0][p][1][1]);break;case 1:v=Pi("\r",r[0][p][1][1]);break;default:if(v="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][p][1][0])}A=A+v,p=-1}o.push(A+bge[_[0]]+l);break;case"PtgIsect":l=o.pop(),A=o.pop(),o.push(A+" "+l);break;case"PtgUnion":l=o.pop(),A=o.pop(),o.push(A+","+l);break;case"PtgRange":l=o.pop(),A=o.pop(),o.push(A+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":c=Ox(_[1][1],a,i),o.push(Qx(c,s));break;case"PtgRefN":c=t?Ox(_[1][1],t,i):_[1][1],o.push(Qx(c,s));break;case"PtgRef3d":u=_[1][1],c=Ox(_[1][2],a,i),g=FQ(n,u,i),o.push(g+"!"+Qx(c,s));break;case"PtgFunc":case"PtgFuncVar":var S=_[1][0],k=_[1][1];S||(S=0),S&=127;var R=S==0?[]:o.slice(-S);o.length-=S,k==="User"&&(k=R.shift()),o.push(k+"("+R.join(",")+")");break;case"PtgBool":o.push(_[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(_[1]);break;case"PtgNum":o.push(String(_[1]));break;case"PtgStr":o.push('"'+_[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(_[1]);break;case"PtgAreaN":f=AQ(_[1][1],t?{s:t}:a,i),o.push(ek(f,i));break;case"PtgArea":f=AQ(_[1][1],a,i),o.push(ek(f,i));break;case"PtgArea3d":u=_[1][1],f=_[1][2],g=FQ(n,u,i),o.push(g+"!"+ek(f,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=_[1][2];var B=(n.names||[])[h-1]||(n[0]||[])[h],E=B?B.Name:"SH33TJSNAME"+String(h);E&&E.slice(0,6)=="_xlfn."&&!i.xlfn&&(E=E.slice(6)),o.push(E);break;case"PtgNameX":var b=_[1][1];h=_[1][2];var I;if(i.biff<=5)b<0&&(b=-b),n[b]&&(I=n[b][h]);else{var T="";if(((n[b]||[])[0]||[])[0]==14849||(((n[b]||[])[0]||[])[0]==1025?n[b][h]&&n[b][h].itab>0&&(T=n.SheetNames[n[b][h].itab-1]+"!"):T=n.SheetNames[h-1]+"!"),n[b]&&n[b][h])T+=n[b][h].Name;else if(n[0]&&n[0][h])T+=n[0][h].Name;else{var F=(dq(n,b,i)||"").split(";;");F[h-1]?T=F[h-1]:T+="SH33TJSERRX"}o.push(T);break}I||(I={Name:"SH33TJSERRY"}),o.push(I.Name);break;case"PtgParen":var D="(",q=")";if(p>=0){switch(v="",r[0][p][1][0]){case 2:D=Pi(" ",r[0][p][1][1])+D;break;case 3:D=Pi("\r",r[0][p][1][1])+D;break;case 4:q=Pi(" ",r[0][p][1][1])+q;break;case 5:q=Pi("\r",r[0][p][1][1])+q;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][p][1][0])}p=-1}o.push(D+o.pop()+q);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":c={c:_[1][1],r:_[1][0]};var ie={c:t.c,r:t.r};if(n.sharedf[lr(c)]){var oe=n.sharedf[lr(c)];o.push(Oa(oe,a,ie,n,i))}else{var te=!1;for(l=0;l!=n.arrayf.length;++l)if(A=n.arrayf[l],!(c.c<A[0].s.c||c.c>A[0].e.c)&&!(c.r<A[0].s.r||c.r>A[0].e.r)){o.push(Oa(A[1],a,ie,n,i)),te=!0;break}te||o.push(_[1])}break;case"PtgArray":o.push("{"+_ge(_[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":p=m;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+_[1].idx+"[#"+_[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(_));default:throw new Error("Unrecognized Formula Token: "+String(_))}var re=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&p>=0&&re.indexOf(r[0][m][0])==-1){_=r[0][p];var W=!0;switch(_[1][0]){case 4:W=!1;case 0:v=Pi(" ",_[1][1]);break;case 5:W=!1;case 1:v=Pi("\r",_[1][1]);break;default:if(v="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+_[1][0])}o.push((W?v:"")+o.pop()+(W?"":v)),p=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function Cge(r,e,t){var n=r.l+e,i=t.biff==2?1:2,s,a=r.read_shift(i);if(a==65535)return[[],Xa(r,e-2)];var o=cC(r,a,t);return e!==a+i&&(s=AC(r,e-a-i,o,t)),r.l=n,[o,s]}function Bge(r,e,t){var n=r.l+e,i=t.biff==2?1:2,s,a=r.read_shift(i);if(a==65535)return[[],Xa(r,e-2)];var o=cC(r,a,t);return e!==a+i&&(s=AC(r,e-a-i,o,t)),r.l=n,[o,s]}function Sge(r,e,t,n){var i=r.l+e,s=cC(r,n,t),a;return i!==r.l&&(a=AC(r,i-r.l,s,t)),[s,a]}function Tge(r,e,t){var n=r.l+e,i,s=r.read_shift(2),a=cC(r,s,t);return s==65535?[[],Xa(r,e-2)]:(e!==s+2&&(i=AC(r,n-s-2,a,t)),[a,i])}function Fge(r){var e;if(cf(r,r.l+6)!==65535)return[Ka(r),"n"];switch(r[r.l]){case 0:return r.l+=8,["String","s"];case 1:return e=r[r.l+2]===1,r.l+=8,[e,"b"];case 2:return e=r[r.l+2],r.l+=8,[e,"e"];case 3:return r.l+=8,["","s"]}return[]}function nk(r,e,t){var n=r.l+e,i=Ku(r);t.biff==2&&++r.l;var s=Fge(r),a=r.read_shift(1);t.biff!=2&&(r.read_shift(1),t.biff>=5&&r.read_shift(4));var o=Bge(r,n-r.l,t);return{cell:i,val:s[0],formula:o,shared:a>>3&1,tt:s[1]}}function E4(r,e,t){var n=r.read_shift(4),i=cC(r,n,t),s=r.read_shift(4),a=s>0?AC(r,s,i,t):null;return[i,a]}var Ige=E4,C4=E4,kge=E4,Lge=E4,Pge={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},pq={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Rge={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function IQ(r){return r.slice(0,3)=="of:"&&(r=r.slice(3)),r.charCodeAt(0)==61&&(r=r.slice(1),r.charCodeAt(0)==61&&(r=r.slice(1))),r=r.replace(/COM\.MICROSOFT\./g,""),r=r.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,t){return t.replace(/\./g,"")}),r=r.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),r.replace(/[;~]/g,",").replace(/\|/g,";")}function ik(r){var e=r.split(":"),t=e[0].split(".")[0];return[t,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}var Kx={},Bv={};function zx(r,e){if(r){var t=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(t=[1,1,1,1,.5,.5]),r.left==null&&(r.left=t[0]),r.right==null&&(r.right=t[1]),r.top==null&&(r.top=t[2]),r.bottom==null&&(r.bottom=t[3]),r.header==null&&(r.header=t[4]),r.footer==null&&(r.footer=t[5])}}function gq(r,e,t,n,i,s){try{n.cellNF&&(r.z=vr[e])}catch(o){if(n.WTF)throw o}if(!(r.t==="z"&&!n.cellStyles)){if(r.t==="d"&&typeof r.v=="string"&&(r.v=zs(r.v)),(!n||n.cellText!==!1)&&r.t!=="z")try{if(vr[e]==null&&_m(Due[e]||"General",e),r.t==="e")r.w=r.w||n1[r.v];else if(e===0)if(r.t==="n")(r.v|0)===r.v?r.w=r.v.toString(10):r.w=R_(r.v);else if(r.t==="d"){var a=bo(r.v);(a|0)===a?r.w=a.toString(10):r.w=R_(a)}else{if(r.v===void 0)return"";r.w=Om(r.v,Bv)}else r.t==="d"?r.w=RA(e,bo(r.v),Bv):r.w=RA(e,r.v,Bv)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&t!=null)try{r.s=s.Fills[t],r.s.fgColor&&r.s.fgColor.theme&&!r.s.fgColor.rgb&&(r.s.fgColor.rgb=RT(i.themeElements.clrScheme[r.s.fgColor.theme].rgb,r.s.fgColor.tint||0),n.WTF&&(r.s.fgColor.raw_rgb=i.themeElements.clrScheme[r.s.fgColor.theme].rgb)),r.s.bgColor&&r.s.bgColor.theme&&(r.s.bgColor.rgb=RT(i.themeElements.clrScheme[r.s.bgColor.theme].rgb,r.s.bgColor.tint||0),n.WTF&&(r.s.bgColor.raw_rgb=i.themeElements.clrScheme[r.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&s.Fills)throw o}}}function Dge(r,e){var t=Ni(e);t.s.r<=t.e.r&&t.s.c<=t.e.c&&t.s.r>=0&&t.s.c>=0&&(r["!ref"]=jr(t))}var Nge=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Uge=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Mge=/<(?:\w:)?hyperlink [^>]*>/mg,Oge=/"(\w*:\w*)"/,Qge=/<(?:\w:)?col\b[^>]*[\/]?>/g,Hge=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Vge=/<(?:\w:)?pageMargins[^>]*\/>/g,mq=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,jge=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,Kge=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function zge(r,e,t,n,i,s,a){if(!r)return r;n||(n={"!id":{}});var o=e.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},A="",c="",u=r.match(Uge);u?(A=r.slice(0,u.index),c=r.slice(u.index+u[0].length)):A=c=r;var h=A.match(mq);h?PU(h[0],o,i,t):(h=A.match(jge))&&Wge(h[0],h[1]||"",o,i,t);var f=(A.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(f>0){var g=A.slice(f,f+50).match(Oge);g&&Dge(o,g[1])}var p=A.match(Kge);p&&p[1]&&Jge(p[1],i);var v=[];if(e.cellStyles){var m=A.match(Qge);m&&qge(v,m)}u&&Zge(u[1],o,e,l,s,a);var x=c.match(Hge);x&&(o["!autofilter"]=Xge(x[0]));var _=[],S=c.match(Nge);if(S)for(f=0;f!=S.length;++f)_[f]=Ni(S[f].slice(S[f].indexOf('"')+1));var k=c.match(Mge);k&&Gge(o,k,n);var R=c.match(Vge);if(R&&(o["!margins"]=$ge(er(R[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=jr(l)),e.sheetRows>0&&o["!ref"]){var B=Ni(o["!ref"]);e.sheetRows<=+B.e.r&&(B.e.r=e.sheetRows-1,B.e.r>l.e.r&&(B.e.r=l.e.r),B.e.r<B.s.r&&(B.s.r=B.e.r),B.e.c>l.e.c&&(B.e.c=l.e.c),B.e.c<B.s.c&&(B.s.c=B.e.c),o["!fullref"]=o["!ref"],o["!ref"]=jr(B))}return v.length>0&&(o["!cols"]=v),_.length>0&&(o["!merges"]=_),o}function PU(r,e,t,n){var i=er(r);t.Sheets[n]||(t.Sheets[n]={}),i.codeName&&(t.Sheets[n].CodeName=$r(zn(i.codeName)))}function Wge(r,e,t,n,i){PU(r.slice(0,r.indexOf(">")),t,n,i)}function Gge(r,e,t){for(var n=Array.isArray(r),i=0;i!=e.length;++i){var s=er(zn(e[i]),!0);if(!s.ref)return;var a=((t||{})["!id"]||[])[s.id];a?(s.Target=a.Target,s.location&&(s.Target+="#"+$r(s.location))):(s.Target="#"+$r(s.location),a={Target:s.Target,TargetMode:"Internal"}),s.Rel=a,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var o=Ni(s.ref),l=o.s.r;l<=o.e.r;++l)for(var A=o.s.c;A<=o.e.c;++A){var c=lr({c:A,r:l});n?(r[l]||(r[l]=[]),r[l][A]||(r[l][A]={t:"z",v:void 0}),r[l][A].l=s):(r[c]||(r[c]={t:"z",v:void 0}),r[c].l=s)}}}function $ge(r){var e={};return["left","right","top","bottom","header","footer"].forEach(function(t){r[t]&&(e[t]=parseFloat(r[t]))}),e}function qge(r,e){for(var t=!1,n=0;n!=e.length;++n){var i=er(e[n],!0);i.hidden&&(i.hidden=si(i.hidden));var s=parseInt(i.min,10)-1,a=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!t&&i.width&&(t=!0,kU(i.width)),_y(i);s<=a;)r[s++]=da(i)}}function Xge(r){var e={ref:(r.match(/ref="([^"]*)"/)||[])[1]};return e}var Yge=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function Jge(r,e){e.Views||(e.Views=[{}]),(r.match(Yge)||[]).forEach(function(t,n){var i=er(t);e.Views[n]||(e.Views[n]={}),+i.zoomScale&&(e.Views[n].zoom=+i.zoomScale),si(i.rightToLeft)&&(e.Views[n].RTL=!0)})}var Zge=function(){var r=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,t=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=D_("v"),a=D_("f");return function(l,A,c,u,h,f){for(var g=0,p="",v=[],m=[],x=0,_=0,S=0,k="",R,B,E=0,b=0,I,T,F=0,D=0,q=Array.isArray(f.CellXf),ie,oe=[],te=[],re=Array.isArray(A),W=[],pe={},_e=!1,P=!!c.sheetStubs,O=l.split(e),H=0,K=O.length;H!=K;++H){p=O[H].trim();var Z=p.length;if(Z!==0){var he=0;e:for(g=0;g<Z;++g)switch(p[g]){case">":if(p[g-1]!="/"){++g;break e}if(c&&c.cellStyles){if(B=er(p.slice(he,g),!0),E=B.r!=null?parseInt(B.r,10):E+1,b=-1,c.sheetRows&&c.sheetRows<E)continue;pe={},_e=!1,B.ht&&(_e=!0,pe.hpt=parseFloat(B.ht),pe.hpx=O_(pe.hpt)),B.hidden=="1"&&(_e=!0,pe.hidden=!0),B.outlineLevel!=null&&(_e=!0,pe.level=+B.outlineLevel),_e&&(W[E-1]=pe)}break;case"<":he=g;break}if(he>=g)break;if(B=er(p.slice(he,g),!0),E=B.r!=null?parseInt(B.r,10):E+1,b=-1,!(c.sheetRows&&c.sheetRows<E)){u.s.r>E-1&&(u.s.r=E-1),u.e.r<E-1&&(u.e.r=E-1),c&&c.cellStyles&&(pe={},_e=!1,B.ht&&(_e=!0,pe.hpt=parseFloat(B.ht),pe.hpx=O_(pe.hpt)),B.hidden=="1"&&(_e=!0,pe.hidden=!0),B.outlineLevel!=null&&(_e=!0,pe.level=+B.outlineLevel),_e&&(W[E-1]=pe)),v=p.slice(g).split(r);for(var xe=0;xe!=v.length&&v[xe].trim().charAt(0)=="<";++xe);for(v=v.slice(xe),g=0;g!=v.length;++g)if(p=v[g].trim(),p.length!==0){if(m=p.match(t),x=g,_=0,S=0,p="<c "+(p.slice(0,1)=="<"?">":"")+p,m!=null&&m.length===2){for(x=0,k=m[1],_=0;_!=k.length&&!((S=k.charCodeAt(_)-64)<1||S>26);++_)x=26*x+S;--x,b=x}else++b;for(_=0;_!=p.length&&p.charCodeAt(_)!==62;++_);if(++_,B=er(p.slice(0,_),!0),B.r||(B.r=lr({r:E-1,c:b})),k=p.slice(_),R={t:""},(m=k.match(s))!=null&&m[1]!==""&&(R.v=$r(m[1])),c.cellFormula){if((m=k.match(a))!=null&&m[1]!==""){if(R.f=$r(zn(m[1])).replace(/\r\n/g,`
`),c.xlfn||(R.f=BQ(R.f)),m[0].indexOf('t="array"')>-1)R.F=(k.match(i)||[])[1],R.F.indexOf(":")>-1&&oe.push([Ni(R.F),R.F]);else if(m[0].indexOf('t="shared"')>-1){T=er(m[0]);var ye=$r(zn(m[1]));c.xlfn||(ye=BQ(ye)),te[parseInt(T.si,10)]=[T,ye,B.r]}}else(m=k.match(/<f[^>]*\/>/))&&(T=er(m[0]),te[T.si]&&(R.f=cpe(te[T.si][1],te[T.si][2],B.r)));var be=mo(B.r);for(_=0;_<oe.length;++_)be.r>=oe[_][0].s.r&&be.r<=oe[_][0].e.r&&be.c>=oe[_][0].s.c&&be.c<=oe[_][0].e.c&&(R.F=oe[_][1])}if(B.t==null&&R.v===void 0)if(R.f||R.F)R.v=0,R.t="n";else if(P)R.t="z";else continue;else R.t=B.t||"n";switch(u.s.c>b&&(u.s.c=b),u.e.c<b&&(u.e.c=b),R.t){case"n":if(R.v==""||R.v==null){if(!P)continue;R.t="z"}else R.v=parseFloat(R.v);break;case"s":if(typeof R.v>"u"){if(!P)continue;R.t="z"}else I=Kx[parseInt(R.v,10)],R.v=I.t,R.r=I.r,c.cellHTML&&(R.h=I.h);break;case"str":R.t="s",R.v=R.v!=null?zn(R.v):"",c.cellHTML&&(R.h=yU(R.v));break;case"inlineStr":m=k.match(n),R.t="s",m!=null&&(I=IU(m[1]))?(R.v=I.t,c.cellHTML&&(R.h=I.h)):R.v="";break;case"b":R.v=si(R.v);break;case"d":c.cellDates?R.v=zs(R.v,1):(R.v=bo(zs(R.v,1)),R.t="n");break;case"e":(!c||c.cellText!==!1)&&(R.w=R.v),R.v=M$[R.v];break}if(F=D=0,ie=null,q&&B.s!==void 0&&(ie=f.CellXf[B.s],ie!=null&&(ie.numFmtId!=null&&(F=ie.numFmtId),c.cellStyles&&ie.fillId!=null&&(D=ie.fillId))),gq(R,F,D,c,h,f),c.cellDates&&q&&R.t=="n"&&Uy(vr[F])&&(R.t="d",R.v=_4(R.v)),B.cm&&c.xlmeta){var Fe=(c.xlmeta.Cell||[])[+B.cm-1];Fe&&Fe.type=="XLDAPR"&&(R.D=!0)}if(re){var ne=mo(B.r);A[ne.r]||(A[ne.r]=[]),A[ne.r][ne.c]=R}else A[B.r]=R}}}}W.length>0&&(A["!rows"]=W)}}();function eme(r,e){var t={},n=r.l+e;t.r=r.read_shift(4),r.l+=4;var i=r.read_shift(2);r.l+=1;var s=r.read_shift(1);return r.l=n,s&7&&(t.level=s&7),s&16&&(t.hidden=!0),s&32&&(t.hpt=i/20),t}var tme=r1;function rme(){}function nme(r,e){var t={},n=r[r.l];return++r.l,t.above=!(n&64),t.left=!(n&128),r.l+=18,t.name=Che(r),t}function ime(r){var e=UA(r);return[e]}function sme(r){var e=t1(r);return[e]}function ame(r){var e=UA(r),t=r.read_shift(1);return[e,t,"b"]}function ome(r){var e=t1(r),t=r.read_shift(1);return[e,t,"b"]}function lme(r){var e=UA(r),t=r.read_shift(1);return[e,t,"e"]}function Ame(r){var e=t1(r),t=r.read_shift(1);return[e,t,"e"]}function cme(r){var e=UA(r),t=r.read_shift(4);return[e,t,"s"]}function ume(r){var e=t1(r),t=r.read_shift(4);return[e,t,"s"]}function hme(r){var e=UA(r),t=Ka(r);return[e,t,"n"]}function vq(r){var e=t1(r),t=Ka(r);return[e,t,"n"]}function fme(r){var e=UA(r),t=SU(r);return[e,t,"n"]}function dme(r){var e=t1(r),t=SU(r);return[e,t,"n"]}function pme(r){var e=UA(r),t=CU(r);return[e,t,"is"]}function gme(r){var e=UA(r),t=Ga(r);return[e,t,"str"]}function mme(r){var e=t1(r),t=Ga(r);return[e,t,"str"]}function vme(r,e,t){var n=r.l+e,i=UA(r);i.r=t["!row"];var s=r.read_shift(1),a=[i,s,"b"];if(t.cellFormula){r.l+=2;var o=C4(r,n-r.l,t);a[3]=Oa(o,null,i,t.supbooks,t)}else r.l=n;return a}function wme(r,e,t){var n=r.l+e,i=UA(r);i.r=t["!row"];var s=r.read_shift(1),a=[i,s,"e"];if(t.cellFormula){r.l+=2;var o=C4(r,n-r.l,t);a[3]=Oa(o,null,i,t.supbooks,t)}else r.l=n;return a}function yme(r,e,t){var n=r.l+e,i=UA(r);i.r=t["!row"];var s=Ka(r),a=[i,s,"n"];if(t.cellFormula){r.l+=2;var o=C4(r,n-r.l,t);a[3]=Oa(o,null,i,t.supbooks,t)}else r.l=n;return a}function xme(r,e,t){var n=r.l+e,i=UA(r);i.r=t["!row"];var s=Ga(r),a=[i,s,"str"];if(t.cellFormula){r.l+=2;var o=C4(r,n-r.l,t);a[3]=Oa(o,null,i,t.supbooks,t)}else r.l=n;return a}var _me=r1;function bme(r,e){var t=r.l+e,n=r1(r),i=BU(r),s=Ga(r),a=Ga(r),o=Ga(r);r.l=t;var l={rfx:n,relId:i,loc:s,display:o};return a&&(l.Tooltip=a),l}function Eme(){}function Cme(r,e,t){var n=r.l+e,i=D$(r),s=r.read_shift(1),a=[i];if(a[2]=s,t.cellFormula){var o=Ige(r,n-r.l,t);a[1]=o}else r.l=n;return a}function Bme(r,e,t){var n=r.l+e,i=r1(r),s=[i];if(t.cellFormula){var a=Lge(r,n-r.l,t);s[1]=a,r.l=n}else r.l=n;return s}var Sme=["left","right","top","bottom","header","footer"];function Tme(r){var e={};return Sme.forEach(function(t){e[t]=Ka(r)}),e}function Fme(r){var e=r.read_shift(2);return r.l+=28,{RTL:e&32}}function Ime(){}function kme(){}function Lme(r,e,t,n,i,s,a){if(!r)return r;var o=e||{};n||(n={"!id":{}});var l=o.dense?[]:{},A,c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u=!1,h=!1,f,g,p,v,m,x,_,S,k,R=[];o.biff=12,o["!row"]=0;var B=0,E=!1,b=[],I={},T=o.supbooks||i.supbooks||[[]];if(T.sharedf=I,T.arrayf=b,T.SheetNames=i.SheetNames||i.Sheets.map(function(re){return re.name}),!o.supbooks&&(o.supbooks=T,i.Names))for(var F=0;F<i.Names.length;++F)T[0][F+1]=i.Names[F];var D=[],q=[],ie=!1;UT[16]={n:"BrtShortReal",f:vq};var oe;if(Uf(r,function(W,pe,_e){if(!h)switch(_e){case 148:A=W;break;case 0:f=W,o.sheetRows&&o.sheetRows<=f.r&&(h=!0),S=pa(v=f.r),o["!row"]=f.r,(W.hidden||W.hpt||W.level!=null)&&(W.hpt&&(W.hpx=O_(W.hpt)),q[W.r]=W);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(g={t:W[2]},W[2]){case"n":g.v=W[1];break;case"s":_=Kx[W[1]],g.v=_.t,g.r=_.r;break;case"b":g.v=!!W[1];break;case"e":g.v=W[1],o.cellText!==!1&&(g.w=n1[g.v]);break;case"str":g.t="s",g.v=W[1];break;case"is":g.t="s",g.v=W[1].t;break}if((p=a.CellXf[W[0].iStyleRef])&&gq(g,p.numFmtId,null,o,s,a),m=W[0].c==-1?m+1:W[0].c,o.dense?(l[v]||(l[v]=[]),l[v][m]=g):l[Es(m)+S]=g,o.cellFormula){for(E=!1,B=0;B<b.length;++B){var P=b[B];f.r>=P[0].s.r&&f.r<=P[0].e.r&&m>=P[0].s.c&&m<=P[0].e.c&&(g.F=jr(P[0]),E=!0)}!E&&W.length>3&&(g.f=W[3])}if(c.s.r>f.r&&(c.s.r=f.r),c.s.c>m&&(c.s.c=m),c.e.r<f.r&&(c.e.r=f.r),c.e.c<m&&(c.e.c=m),o.cellDates&&p&&g.t=="n"&&Uy(vr[p.numFmtId])){var O=rg(g.v);O&&(g.t="d",g.v=new Date(O.y,O.m-1,O.d,O.H,O.M,O.S,O.u))}oe&&(oe.type=="XLDAPR"&&(g.D=!0),oe=void 0);break;case 1:case 12:if(!o.sheetStubs||u)break;g={t:"z",v:void 0},m=W[0].c==-1?m+1:W[0].c,o.dense?(l[v]||(l[v]=[]),l[v][m]=g):l[Es(m)+S]=g,c.s.r>f.r&&(c.s.r=f.r),c.s.c>m&&(c.s.c=m),c.e.r<f.r&&(c.e.r=f.r),c.e.c<m&&(c.e.c=m),oe&&(oe.type=="XLDAPR"&&(g.D=!0),oe=void 0);break;case 176:R.push(W);break;case 49:oe=((o.xlmeta||{}).Cell||[])[W-1];break;case 494:var H=n["!id"][W.relId];for(H?(W.Target=H.Target,W.loc&&(W.Target+="#"+W.loc),W.Rel=H):W.relId==""&&(W.Target="#"+W.loc),v=W.rfx.s.r;v<=W.rfx.e.r;++v)for(m=W.rfx.s.c;m<=W.rfx.e.c;++m)o.dense?(l[v]||(l[v]=[]),l[v][m]||(l[v][m]={t:"z",v:void 0}),l[v][m].l=W):(x=lr({c:m,r:v}),l[x]||(l[x]={t:"z",v:void 0}),l[x].l=W);break;case 426:if(!o.cellFormula)break;b.push(W),k=o.dense?l[v][m]:l[Es(m)+S],k.f=Oa(W[1],c,{r:f.r,c:m},T,o),k.F=jr(W[0]);break;case 427:if(!o.cellFormula)break;I[lr(W[0].s)]=W[1],k=o.dense?l[v][m]:l[Es(m)+S],k.f=Oa(W[1],c,{r:f.r,c:m},T,o);break;case 60:if(!o.cellStyles)break;for(;W.e>=W.s;)D[W.e--]={width:W.w/256,hidden:!!(W.flags&1),level:W.level},ie||(ie=!0,kU(W.w/256)),_y(D[W.e+1]);break;case 161:l["!autofilter"]={ref:jr(W)};break;case 476:l["!margins"]=W;break;case 147:i.Sheets[t]||(i.Sheets[t]={}),W.name&&(i.Sheets[t].CodeName=W.name),(W.above||W.left)&&(l["!outline"]={above:W.above,left:W.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),W.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:u=!0;break;case 36:u=!1;break;case 37:u=!0;break;case 38:u=!1;break;default:if(!pe.T){if(!u||o.WTF)throw new Error("Unexpected record 0x"+_e.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(c.s.r<2e6||A&&(A.e.r>0||A.e.c>0||A.s.r>0||A.s.c>0))&&(l["!ref"]=jr(A||c)),o.sheetRows&&l["!ref"]){var te=Ni(l["!ref"]);o.sheetRows<=+te.e.r&&(te.e.r=o.sheetRows-1,te.e.r>c.e.r&&(te.e.r=c.e.r),te.e.r<te.s.r&&(te.s.r=te.e.r),te.e.c>c.e.c&&(te.e.c=c.e.c),te.e.c<te.s.c&&(te.s.c=te.e.c),l["!fullref"]=l["!ref"],l["!ref"]=jr(te))}return R.length>0&&(l["!merges"]=R),D.length>0&&(l["!cols"]=D),q.length>0&&(l["!rows"]=q),l}function Pme(r){var e=[],t=r.match(/^<c:numCache>/),n;(r.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var a=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);a&&(e[+a[1]]=t?+a[2]:a[2])});var i=$r((r.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(r.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){n=s.replace(/<.*?>/g,"")}),[e,i,n]}function Rme(r,e,t,n,i,s){var a=s||{"!type":"chart"};if(!r)return s;var o=0,l=0,A="A",c={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(r.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(u){var h=Pme(u);c.s.r=c.s.c=0,c.e.c=o,A=Es(o),h[0].forEach(function(f,g){a[A+pa(g)]={t:"n",v:f,z:h[1]},l=g}),c.e.r<l&&(c.e.r=l),++o}),o>0&&(a["!ref"]=jr(c)),a}function Dme(r,e,t,n,i){if(!r)return r;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a,o=r.match(mq);return o&&PU(o[0],s,i,t),(a=r.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=a[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function Nme(r,e){r.l+=10;var t=Ga(r);return{name:t}}function Ume(r,e,t,n,i){if(!r)return r;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a=!1;return Uf(r,function(l,A,c){switch(c){case 550:s["!rel"]=l;break;case 651:i.Sheets[t]||(i.Sheets[t]={}),l.name&&(i.Sheets[t].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!(A.T>0)){if(!(A.T<0)){if(!a||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}},e),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var wq=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Mme=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Ome=[],Qme=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function kQ(r,e){for(var t=0;t!=r.length;++t)for(var n=r[t],i=0;i!=e.length;++i){var s=e[i];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=si(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function LQ(r,e){for(var t=0;t!=e.length;++t){var n=e[t];if(r[n[0]]==null)r[n[0]]=n[1];else switch(n[2]){case"bool":typeof r[n[0]]=="string"&&(r[n[0]]=si(r[n[0]]));break;case"int":typeof r[n[0]]=="string"&&(r[n[0]]=parseInt(r[n[0]],10));break}}}function yq(r){LQ(r.WBProps,wq),LQ(r.CalcPr,Qme),kQ(r.WBView,Mme),kQ(r.Sheets,Ome),Bv.date1904=si(r.WBProps.date1904)}var Hme="][*?/\\".split("");function Vme(r,e){if(r.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return Hme.forEach(function(n){if(r.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}var jme=/<\w+:workbook/;function Kme(r,e){if(!r)throw new Error("Could not find file");var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,i="xmlns",s={},a=0;if(r.replace(Ja,function(l,A){var c=er(l);switch(ju(c[0])){case"<?xml":break;case"<workbook":l.match(jme)&&(i="xmlns"+l.match(/<(\w+):/)[1]),t.xmlns=c[i];break;case"</workbook>":break;case"<fileVersion":delete c[0],t.AppVersion=c;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":wq.forEach(function(u){if(c[u[0]]!=null)switch(u[2]){case"bool":t.WBProps[u[0]]=si(c[u[0]]);break;case"int":t.WBProps[u[0]]=parseInt(c[u[0]],10);break;default:t.WBProps[u[0]]=c[u[0]]}}),c.codeName&&(t.WBProps.CodeName=zn(c.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete c[0],t.WBView.push(c);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(c.state){case"hidden":c.Hidden=1;break;case"veryHidden":c.Hidden=2;break;default:c.Hidden=0}delete c.state,c.name=$r(zn(c.name)),delete c[0],t.Sheets.push(c);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=zn(c.name),c.comment&&(s.Comment=c.comment),c.localSheetId&&(s.Sheet=+c.localSheetId),si(c.hidden||"0")&&(s.Hidden=!0),a=A+l.length;break;case"</definedName>":s.Ref=$r(zn(r.slice(a,A))),t.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete c[0],t.CalcPr=c;break;case"<calcPr/>":delete c[0],t.CalcPr=c;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&e.WTF)throw new Error("unrecognized "+c[0]+" in workbook")}return l}),lhe.indexOf(t.xmlns)===-1)throw new Error("Unknown Namespace: "+t.xmlns);return yq(t),t}function zme(r,e){var t={};return t.Hidden=r.read_shift(4),t.iTabID=r.read_shift(4),t.strRelID=VL(r),t.name=Ga(r),t}function Wme(r,e){var t={},n=r.read_shift(4);t.defaultThemeVersion=r.read_shift(4);var i=e>8?Ga(r):"";return i.length>0&&(t.CodeName=i),t.autoCompressPictures=!!(n&65536),t.backupFile=!!(n&64),t.checkCompatibility=!!(n&4096),t.date1904=!!(n&1),t.filterPrivacy=!!(n&8),t.hidePivotFieldList=!!(n&1024),t.promptedSolutions=!!(n&16),t.publishItems=!!(n&2048),t.refreshAllConnections=!!(n&262144),t.saveExternalLinkValues=!!(n&128),t.showBorderUnselectedTables=!!(n&4),t.showInkAnnotation=!!(n&32),t.showObjects=["all","placeholders","none"][n>>13&3],t.showPivotChartFilter=!!(n&32768),t.updateLinks=["userSet","never","always"][n>>8&3],t}function Gme(r,e){var t={};return r.read_shift(4),t.ArchID=r.read_shift(4),r.l+=e-8,t}function $me(r,e,t){var n=r.l+e;r.l+=4,r.l+=1;var i=r.read_shift(4),s=Bhe(r),a=kge(r,0,t),o=BU(r);r.l=n;var l={Name:s,Ptg:a};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function qme(r,e){var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],i=!1;e||(e={}),e.biff=12;var s=[],a=[[]];return a.SheetNames=[],a.XTI=[],UT[16]={n:"BrtFRTArchID$",f:Gme},Uf(r,function(l,A,c){switch(c){case 156:a.SheetNames.push(l.name),t.Sheets.push(l);break;case 153:t.WBProps=l;break;case 39:l.Sheet!=null&&(e.SID=l.Sheet),l.Ref=Oa(l.Ptg,null,null,a,e),delete e.SID,delete l.Ptg,s.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:a[0].length?a.push([c,l]):a[0]=[c,l],a[a.length-1].XTI=[];break;case 362:a.length===0&&(a[0]=[],a[0].XTI=[]),a[a.length-1].XTI=a[a.length-1].XTI.concat(l),a.XTI=a.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(c),i=!0;break;case 36:n.pop(),i=!1;break;case 37:n.push(c),i=!0;break;case 38:n.pop(),i=!1;break;case 16:break;default:if(!A.T){if(!i||e.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+c.toString(16))}}},e),yq(t),t.Names=s,t.supbooks=a,t}function Xme(r,e,t){return e.slice(-4)===".bin"?qme(r,t):Kme(r,t)}function Yme(r,e,t,n,i,s,a,o){return e.slice(-4)===".bin"?Lme(r,n,t,i,s,a,o):zge(r,n,t,i,s,a,o)}function Jme(r,e,t,n,i,s,a,o){return e.slice(-4)===".bin"?Ume(r,n,t,i,s):Dme(r,n,t,i,s)}function Zme(r,e,t,n,i,s,a,o){return e.slice(-4)===".bin"?ope():lpe()}function e1e(r,e,t,n,i,s,a,o){return e.slice(-4)===".bin"?spe():ape()}function t1e(r,e,t,n){return e.slice(-4)===".bin"?_0e(r,t,n):g0e(r,t,n)}function r1e(r,e,t){return aq(r,t)}function n1e(r,e,t){return e.slice(-4)===".bin"?Mde(r,t):Nde(r,t)}function i1e(r,e,t){return e.slice(-4)===".bin"?rpe(r,t):Y0e(r,t)}function s1e(r,e,t){return e.slice(-4)===".bin"?$0e(r):W0e(r)}function a1e(r,e,t,n){return t.slice(-4)===".bin"?q0e(r,e,t,n):void 0}function o1e(r,e,t){return e.slice(-4)===".bin"?K0e(r,e,t):z0e(r,e,t)}var xq=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,_q=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function $A(r,e){var t=r.split(/\s+/),n=[];if(n[0]=t[0],t.length===1)return n;var i=r.match(xq),s,a,o,l;if(i)for(l=0;l!=i.length;++l)s=i[l].match(_q),(a=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(a+1),n[o]=s[2].slice(1,s[2].length-1));return n}function l1e(r){var e=r.split(/\s+/),t={};if(e.length===1)return t;var n=r.match(xq),i,s,a,o;if(n)for(o=0;o!=n.length;++o)i=n[o].match(_q),(s=i[1].indexOf(":"))===-1?t[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?a="xmlns"+i[1].slice(6):a=i[1].slice(s+1),t[a]=i[2].slice(1,i[2].length-1));return t}var Wx;function A1e(r,e){var t=Wx[r]||$r(r);return t==="General"?Om(e):RA(t,e)}function c1e(r,e,t,n){var i=n;switch((t[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=si(n);break;case"i2":case"int":i=parseInt(n,10);break;case"r4":case"float":i=parseFloat(n);break;case"date":case"dateTime.tz":i=zs(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+t[0])}r[$r(e)]=i}function u1e(r,e,t){if(r.t!=="z"){if(!t||t.cellText!==!1)try{r.t==="e"?r.w=r.w||n1[r.v]:e==="General"?r.t==="n"?(r.v|0)===r.v?r.w=r.v.toString(10):r.w=R_(r.v):r.w=Om(r.v):r.w=A1e(e||"General",r.v)}catch(s){if(t.WTF)throw s}try{var n=Wx[e]||e||"General";if(t.cellNF&&(r.z=n),t.cellDates&&r.t=="n"&&Uy(n)){var i=rg(r.v);i&&(r.t="d",r.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(t.WTF)throw s}}}function h1e(r,e,t){if(t.cellStyles&&e.Interior){var n=e.Interior;n.Pattern&&(n.patternType=c0e[n.Pattern]||n.Pattern)}r[e.ID]=e}function f1e(r,e,t,n,i,s,a,o,l,A){var c="General",u=n.StyleID,h={};A=A||{};var f=[],g=0;for(u===void 0&&o&&(u=o.StyleID),u===void 0&&a&&(u=a.StyleID);s[u]!==void 0&&(s[u].nf&&(c=s[u].nf),s[u].Interior&&f.push(s[u].Interior),!!s[u].Parent);)u=s[u].Parent;switch(t.Type){case"Boolean":n.t="b",n.v=si(r);break;case"String":n.t="s",n.r=eQ($r(r)),n.v=r.indexOf("<")>-1?$r(e||r).replace(/<.*?>/g,""):n.r;break;case"DateTime":r.slice(-1)!="Z"&&(r+="Z"),n.v=(zs(r)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=$r(r):n.v<60&&(n.v=n.v-1),(!c||c=="General")&&(c="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+r),n.t||(n.t="n");break;case"Error":n.t="e",n.v=M$[r],A.cellText!==!1&&(n.w=r);break;default:r==""&&e==""?n.t="z":(n.t="s",n.v=eQ(e||r));break}if(u1e(n,c,A),A.cellFormula!==!1)if(n.Formula){var p=$r(n.Formula);p.charCodeAt(0)==61&&(p=p.slice(1)),n.f=Cv(p,i),delete n.Formula,n.ArrayRange=="RC"?n.F=Cv("RC:RC",i):n.ArrayRange&&(n.F=Cv(n.ArrayRange,i),l.push([Ni(n.F),n.F]))}else for(g=0;g<l.length;++g)i.r>=l[g][0].s.r&&i.r<=l[g][0].e.r&&i.c>=l[g][0].s.c&&i.c<=l[g][0].e.c&&(n.F=l[g][1]);A.cellStyles&&(f.forEach(function(v){!h.patternType&&v.patternType&&(h.patternType=v.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function d1e(r){r.t=r.v||"",r.t=r.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),r.v=r.w=r.ixfe=void 0}function sk(r,e){var t=e||{};c$();var n=Q2(xU(r));(t.type=="binary"||t.type=="array"||t.type=="base64")&&(n=zn(n));var i=n.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var a=da(t);return a.type="string",U_.to_workbook(n,a)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function($e){i.indexOf("<"+$e)>=0&&(s=!0)}),s)return b1e(n,t);Wx={"General Number":"General","General Date":vr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":vr[15],"Short Date":vr[14],"Long Time":vr[19],"Medium Time":vr[18],"Short Time":vr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:vr[2],Standard:vr[4],Percent:vr[10],Scientific:vr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],A,c={},u=[],h=t.dense?[]:{},f="",g={},p={},v=$A('<Data ss:Type="String">'),m=0,x=0,_=0,S={s:{r:2e6,c:2e6},e:{r:0,c:0}},k={},R={},B="",E=0,b=[],I={},T={},F=0,D=[],q=[],ie={},oe=[],te,re=!1,W=[],pe=[],_e={},P=0,O=0,H={Sheets:[],WBProps:{date1904:!1}},K={};N_.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var Z="";o=N_.exec(n);)switch(o[3]=(Z=o[3]).toLowerCase()){case"data":if(Z=="data"){if(o[1]==="/"){if((A=l.pop())[0]!==o[3])throw new Error("Bad state: "+A.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?f1e(n.slice(m,o.index),B,v,l[l.length-1][0]=="comment"?ie:g,{c:x,r:_},k,oe[x],p,W,t):(B="",v=$A(o[0]),m=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(q.length>0&&(g.c=q),(!t.sheetRows||t.sheetRows>_)&&g.v!==void 0&&(t.dense?(h[_]||(h[_]=[]),h[_][x]=g):h[Es(x)+pa(_)]=g),g.HRef&&(g.l={Target:$r(g.HRef)},g.HRefScreenTip&&(g.l.Tooltip=g.HRefScreenTip),delete g.HRef,delete g.HRefScreenTip),(g.MergeAcross||g.MergeDown)&&(P=x+(parseInt(g.MergeAcross,10)|0),O=_+(parseInt(g.MergeDown,10)|0),b.push({s:{c:x,r:_},e:{c:P,r:O}})),!t.sheetStubs)g.MergeAcross?x=P+1:++x;else if(g.MergeAcross||g.MergeDown){for(var he=x;he<=P;++he)for(var xe=_;xe<=O;++xe)(he>x||xe>_)&&(t.dense?(h[xe]||(h[xe]=[]),h[xe][he]={t:"z"}):h[Es(he)+pa(xe)]={t:"z"});x=P+1}else++x;else g=l1e(o[0]),g.Index&&(x=+g.Index-1),x<S.s.c&&(S.s.c=x),x>S.e.c&&(S.e.c=x),o[0].slice(-2)==="/>"&&++x,q=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(_<S.s.r&&(S.s.r=_),_>S.e.r&&(S.e.r=_),o[0].slice(-2)==="/>"&&(p=$A(o[0]),p.Index&&(_=+p.Index-1)),x=0,++_):(p=$A(o[0]),p.Index&&(_=+p.Index-1),_e={},(p.AutoFitHeight=="0"||p.Height)&&(_e.hpx=parseInt(p.Height,10),_e.hpt=sq(_e.hpx),pe[_]=_e),p.Hidden=="1"&&(_e.hidden=!0,pe[_]=_e));break;case"worksheet":if(o[1]==="/"){if((A=l.pop())[0]!==o[3])throw new Error("Bad state: "+A.join("|"));u.push(f),S.s.r<=S.e.r&&S.s.c<=S.e.c&&(h["!ref"]=jr(S),t.sheetRows&&t.sheetRows<=S.e.r&&(h["!fullref"]=h["!ref"],S.e.r=t.sheetRows-1,h["!ref"]=jr(S))),b.length&&(h["!merges"]=b),oe.length>0&&(h["!cols"]=oe),pe.length>0&&(h["!rows"]=pe),c[f]=h}else S={s:{r:2e6,c:2e6},e:{r:0,c:0}},_=x=0,l.push([o[3],!1]),A=$A(o[0]),f=$r(A.Name),h=t.dense?[]:{},b=[],W=[],pe=[],K={name:f,Hidden:0},H.Sheets.push(K);break;case"table":if(o[1]==="/"){if((A=l.pop())[0]!==o[3])throw new Error("Bad state: "+A.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),oe=[],re=!1}break;case"style":o[1]==="/"?h1e(k,R,t):R=$A(o[0]);break;case"numberformat":R.nf=$r($A(o[0]).Format||"General"),Wx[R.nf]&&(R.nf=Wx[R.nf]);for(var ye=0;ye!=392&&vr[ye]!=R.nf;++ye);if(ye==392){for(ye=57;ye!=392;++ye)if(vr[ye]==null){_m(R.nf,ye);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(te=$A(o[0]),te.Hidden&&(te.hidden=!0,delete te.Hidden),te.Width&&(te.wpx=parseInt(te.Width,10)),!re&&te.wpx>10){re=!0,go=nq;for(var be=0;be<oe.length;++be)oe[be]&&_y(oe[be])}re&&_y(te),oe[te.Index-1||oe.length]=te;for(var Fe=0;Fe<+te.Span;++Fe)oe[oe.length]=da(te);break;case"namedrange":if(o[1]==="/")break;H.Names||(H.Names=[]);var ne=er(o[0]),We={Name:ne.Name,Ref:Cv(ne.RefersTo.slice(1),{r:0,c:0})};H.Sheets.length>0&&(We.Sheet=H.Sheets.length-1),H.Names.push(We);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?B+=n.slice(E,o.index):E=o.index+o[0].length;break;case"interior":if(!t.cellStyles)break;R.Interior=$A(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?Yhe(I,Z,n.slice(F,o.index)):F=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((A=l.pop())[0]!==o[3])throw new Error("Bad state: "+A.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((A=l.pop())[0]!==o[3])throw new Error("Bad state: "+A.join("|"));d1e(ie),q.push(ie)}else l.push([o[3],!1]),A=$A(o[0]),ie={a:A.Author};break;case"autofilter":if(o[1]==="/"){if((A=l.pop())[0]!==o[3])throw new Error("Bad state: "+A.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Se=$A(o[0]);h["!autofilter"]={ref:Cv(Se.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((A=l.pop())[0]!==o[3])throw new Error("Bad state: "+A.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((A=l.pop())[0]!==o[3])throw new Error("Bad state: "+A.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return MQ(n,t);var ce=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:ce=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:ce=!1}break;case"excelworkbook":switch(o[3]){case"date1904":H.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:ce=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:ce=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(F,o.index)){case"SheetHidden":K.Hidden=1;break;case"SheetVeryHidden":K.Hidden=2;break}else F=o.index+o[0].length;break;case"header":h["!margins"]||zx(h["!margins"]={},"xlml"),isNaN(+er(o[0]).Margin)||(h["!margins"].header=+er(o[0]).Margin);break;case"footer":h["!margins"]||zx(h["!margins"]={},"xlml"),isNaN(+er(o[0]).Margin)||(h["!margins"].footer=+er(o[0]).Margin);break;case"pagemargins":var qe=er(o[0]);h["!margins"]||zx(h["!margins"]={},"xlml"),isNaN(+qe.Top)||(h["!margins"].top=+qe.Top),isNaN(+qe.Left)||(h["!margins"].left=+qe.Left),isNaN(+qe.Right)||(h["!margins"].right=+qe.Right),isNaN(+qe.Bottom)||(h["!margins"].bottom=+qe.Bottom);break;case"displayrighttoleft":H.Views||(H.Views=[]),H.Views[0]||(H.Views[0]={}),H.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:ce=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:ce=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:ce=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:ce=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:ce=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:ce=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:ce=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:ce=!1}break;case"smarttags":break;default:ce=!1;break}if(ce||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?c1e(T,Z,D,n.slice(F,o.index)):(D=o,F=o.index+o[0].length);break}if(t.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var Ve={};return!t.bookSheets&&!t.bookProps&&(Ve.Sheets=c),Ve.SheetNames=u,Ve.Workbook=H,Ve.SSF=da(vr),Ve.Props=I,Ve.Custprops=T,Ve}function WL(r,e){switch(NU(e=e||{}),e.type||"base64"){case"base64":return sk($l(r),e);case"binary":case"buffer":case"file":return sk(r,e);case"array":return sk(e1(r),e)}}function p1e(r){var e={},t=r.content;if(t.l=28,e.AnsiUserType=t.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=Fhe(t),t.length-t.l<=4)return e;var n=t.read_shift(4);if(n==0||n>40||(t.l-=4,e.Reserved1=t.read_shift(0,"lpstr-ansi"),t.length-t.l<=4)||(n=t.read_shift(4),n!==1907505652)||(e.UnicodeClipboardFormat=Ihe(t),n=t.read_shift(4),n==0||n>40))return e;t.l-=4,e.Reserved2=t.read_shift(0,"lpwstr")}var g1e=[60,1084,2066,2165,2175];function m1e(r,e,t,n,i){var s=n,a=[],o=t.slice(t.l,t.l+s);if(i&&i.enc&&i.enc.insitu&&o.length>0)switch(r){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(o)}a.push(o),t.l+=s;for(var l=cf(t,t.l),A=GL[l],c=0;A!=null&&g1e.indexOf(l)>-1;)s=cf(t,t.l+2),c=t.l+4,l==2066?c+=4:(l==2165||l==2175)&&(c+=12),o=t.slice(c,t.l+4+s),a.push(o),t.l+=4+s,A=GL[l=cf(t,t.l)];var u=xd(a);la(u,0);var h=0;u.lens=[];for(var f=0;f<a.length;++f)u.lens.push(h),h+=a[f].length;if(u.length<n)throw"XLS Record 0x"+r.toString(16)+" Truncated: "+u.length+" < "+n;return e.f(u,u.length,i)}function zc(r,e,t){if(r.t!=="z"&&r.XF){var n=0;try{n=r.z||r.XF.numFmtId||0,e.cellNF&&(r.z=vr[n])}catch(s){if(e.WTF)throw s}if(!e||e.cellText!==!1)try{r.t==="e"?r.w=r.w||n1[r.v]:n===0||n=="General"?r.t==="n"?(r.v|0)===r.v?r.w=r.v.toString(10):r.w=R_(r.v):r.w=Om(r.v):r.w=RA(n,r.v,{date1904:!!t,dateNF:e&&e.dateNF})}catch(s){if(e.WTF)throw s}if(e.cellDates&&n&&r.t=="n"&&Uy(vr[n]||String(n))){var i=rg(r.v);i&&(r.t="d",r.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function vB(r,e,t){return{v:r,ixfe:e,t}}function v1e(r,e){var t={opts:{}},n={},i=e.dense?[]:{},s={},a={},o=null,l=[],A="",c={},u,h="",f,g,p,v,m={},x=[],_,S,k=[],R=[],B={Sheets:[],WBProps:{date1904:!1},Views:[{}]},E={},b=function(at){return at<8?bm[at]:at<64&&R[at-8]||bm[at]},I=function(at,ct,jt){var Qt=ct.XF.data;if(!(!Qt||!Qt.patternType||!jt||!jt.cellStyles)){ct.s={},ct.s.patternType=Qt.patternType;var wt;(wt=M_(b(Qt.icvFore)))&&(ct.s.fgColor={rgb:wt}),(wt=M_(b(Qt.icvBack)))&&(ct.s.bgColor={rgb:wt})}},T=function(at,ct,jt){if(!(_e>1)&&!(jt.sheetRows&&at.r>=jt.sheetRows)){if(jt.cellStyles&&ct.XF&&ct.XF.data&&I(at,ct,jt),delete ct.ixfe,delete ct.XF,u=at,h=lr(at),(!a||!a.s||!a.e)&&(a={s:{r:0,c:0},e:{r:0,c:0}}),at.r<a.s.r&&(a.s.r=at.r),at.c<a.s.c&&(a.s.c=at.c),at.r+1>a.e.r&&(a.e.r=at.r+1),at.c+1>a.e.c&&(a.e.c=at.c+1),jt.cellFormula&&ct.f){for(var Qt=0;Qt<x.length;++Qt)if(!(x[Qt][0].s.c>at.c||x[Qt][0].s.r>at.r)&&!(x[Qt][0].e.c<at.c||x[Qt][0].e.r<at.r)){ct.F=jr(x[Qt][0]),(x[Qt][0].s.c!=at.c||x[Qt][0].s.r!=at.r)&&delete ct.f,ct.f&&(ct.f=""+Oa(x[Qt][1],a,at,W,F));break}}jt.dense?(i[at.r]||(i[at.r]=[]),i[at.r][at.c]=ct):i[h]=ct}},F={enc:!1,sbcch:0,snames:[],sharedf:m,arrayf:x,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(F.password=e.password);var D,q=[],ie=[],oe=[],te=[],re=!1,W=[];W.SheetNames=F.snames,W.sharedf=F.sharedf,W.arrayf=F.arrayf,W.names=[],W.XTI=[];var pe=0,_e=0,P=0,O=[],H=[],K;F.codepage=1200,mc(1200);for(var Z=!1;r.l<r.length-1;){var he=r.l,xe=r.read_shift(2);if(xe===0&&pe===10)break;var ye=r.l===r.length?0:r.read_shift(2),be=GL[xe];if(be&&be.f){if(e.bookSheets&&pe===133&&xe!==133)break;if(pe=xe,be.r===2||be.r==12){var Fe=r.read_shift(2);if(ye-=2,!F.enc&&Fe!==xe&&((Fe&255)<<8|Fe>>8)!==xe)throw new Error("rt mismatch: "+Fe+"!="+xe);be.r==12&&(r.l+=10,ye-=10)}var ne={};if(xe===10?ne=be.f(r,ye,F):ne=m1e(xe,be,r,ye,F),_e==0&&[9,521,1033,2057].indexOf(pe)===-1)continue;switch(xe){case 34:t.opts.Date1904=B.WBProps.date1904=ne;break;case 134:t.opts.WriteProtect=!0;break;case 47:if(F.enc||(r.l=0),F.enc=ne,!e.password)throw new Error("File is password-protected");if(ne.valid==null)throw new Error("Encryption scheme unsupported");if(!ne.valid)throw new Error("Password is incorrect");break;case 92:F.lastuser=ne;break;case 66:var We=Number(ne);switch(We){case 21010:We=1200;break;case 32768:We=1e4;break;case 32769:We=1252;break}mc(F.codepage=We),Z=!0;break;case 317:F.rrtabid=ne;break;case 25:F.winlocked=ne;break;case 439:t.opts.RefreshAll=ne;break;case 12:t.opts.CalcCount=ne;break;case 16:t.opts.CalcDelta=ne;break;case 17:t.opts.CalcIter=ne;break;case 13:t.opts.CalcMode=ne;break;case 14:t.opts.CalcPrecision=ne;break;case 95:t.opts.CalcSaveRecalc=ne;break;case 15:F.CalcRefMode=ne;break;case 2211:t.opts.FullCalc=ne;break;case 129:ne.fDialog&&(i["!type"]="dialog"),ne.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),ne.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:k.push(ne);break;case 430:W.push([ne]),W[W.length-1].XTI=[];break;case 35:case 547:W[W.length-1].push(ne);break;case 24:case 536:K={Name:ne.Name,Ref:Oa(ne.rgce,a,null,W,F)},ne.itab>0&&(K.Sheet=ne.itab-1),W.names.push(K),W[0]||(W[0]=[],W[0].XTI=[]),W[W.length-1].push(ne),ne.Name=="_xlnm._FilterDatabase"&&ne.itab>0&&ne.rgce&&ne.rgce[0]&&ne.rgce[0][0]&&ne.rgce[0][0][0]=="PtgArea3d"&&(H[ne.itab-1]={ref:jr(ne.rgce[0][0][1][2])});break;case 22:F.ExternCount=ne;break;case 23:W.length==0&&(W[0]=[],W[0].XTI=[]),W[W.length-1].XTI=W[W.length-1].XTI.concat(ne),W.XTI=W.XTI.concat(ne);break;case 2196:if(F.biff<8)break;K!=null&&(K.Comment=ne[1]);break;case 18:i["!protect"]=ne;break;case 19:ne!==0&&F.WTF&&console.error("Password verifier: "+ne);break;case 133:s[ne.pos]=ne,F.snames.push(ne.name);break;case 10:{if(--_e)break;if(a.e){if(a.e.r>0&&a.e.c>0){if(a.e.r--,a.e.c--,i["!ref"]=jr(a),e.sheetRows&&e.sheetRows<=a.e.r){var Se=a.e.r;a.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=jr(a),a.e.r=Se}a.e.r++,a.e.c++}q.length>0&&(i["!merges"]=q),ie.length>0&&(i["!objects"]=ie),oe.length>0&&(i["!cols"]=oe),te.length>0&&(i["!rows"]=te),B.Sheets.push(E)}A===""?c=i:n[A]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(F.biff===8&&(F.biff={9:2,521:3,1033:4}[xe]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[ne.BIFFVer]||8),F.biffguess=ne.BIFFVer==0,ne.BIFFVer==0&&ne.dt==4096&&(F.biff=5,Z=!0,mc(F.codepage=28591)),F.biff==8&&ne.BIFFVer==0&&ne.dt==16&&(F.biff=2),_e++)break;if(i=e.dense?[]:{},F.biff<8&&!Z&&(Z=!0,mc(F.codepage=e.codepage||1252)),F.biff<5||ne.BIFFVer==0&&ne.dt==4096){A===""&&(A="Sheet1"),a={s:{r:0,c:0},e:{r:0,c:0}};var ce={pos:r.l-ye,name:A};s[ce.pos]=ce,F.snames.push(A)}else A=(s[he]||{name:""}).name;ne.dt==32&&(i["!type"]="chart"),ne.dt==64&&(i["!type"]="macro"),q=[],ie=[],F.arrayf=x=[],oe=[],te=[],re=!1,E={Hidden:(s[he]||{hs:0}).hs,name:A}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[ne.r]||[])[ne.c]:i[lr({c:ne.c,r:ne.r})])&&++ne.c,_={ixfe:ne.ixfe,XF:k[ne.ixfe]||{},v:ne.val,t:"n"},P>0&&(_.z=O[_.ixfe>>8&63]),zc(_,e,t.opts.Date1904),T({c:ne.c,r:ne.r},_,e);break;case 5:case 517:_={ixfe:ne.ixfe,XF:k[ne.ixfe],v:ne.val,t:ne.t},P>0&&(_.z=O[_.ixfe>>8&63]),zc(_,e,t.opts.Date1904),T({c:ne.c,r:ne.r},_,e);break;case 638:_={ixfe:ne.ixfe,XF:k[ne.ixfe],v:ne.rknum,t:"n"},P>0&&(_.z=O[_.ixfe>>8&63]),zc(_,e,t.opts.Date1904),T({c:ne.c,r:ne.r},_,e);break;case 189:for(var qe=ne.c;qe<=ne.C;++qe){var Ve=ne.rkrec[qe-ne.c][0];_={ixfe:Ve,XF:k[Ve],v:ne.rkrec[qe-ne.c][1],t:"n"},P>0&&(_.z=O[_.ixfe>>8&63]),zc(_,e,t.opts.Date1904),T({c:qe,r:ne.r},_,e)}break;case 6:case 518:case 1030:{if(ne.val=="String"){o=ne;break}if(_=vB(ne.val,ne.cell.ixfe,ne.tt),_.XF=k[_.ixfe],e.cellFormula){var $e=ne.formula;if($e&&$e[0]&&$e[0][0]&&$e[0][0][0]=="PtgExp"){var He=$e[0][0][1][0],ht=$e[0][0][1][1],nt=lr({r:He,c:ht});m[nt]?_.f=""+Oa(ne.formula,a,ne.cell,W,F):_.F=((e.dense?(i[He]||[])[ht]:i[nt])||{}).F}else _.f=""+Oa(ne.formula,a,ne.cell,W,F)}P>0&&(_.z=O[_.ixfe>>8&63]),zc(_,e,t.opts.Date1904),T(ne.cell,_,e),o=ne}break;case 7:case 519:if(o)o.val=ne,_=vB(ne,o.cell.ixfe,"s"),_.XF=k[_.ixfe],e.cellFormula&&(_.f=""+Oa(o.formula,a,o.cell,W,F)),P>0&&(_.z=O[_.ixfe>>8&63]),zc(_,e,t.opts.Date1904),T(o.cell,_,e),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{x.push(ne);var Nt=lr(ne[0].s);if(f=e.dense?(i[ne[0].s.r]||[])[ne[0].s.c]:i[Nt],e.cellFormula&&f){if(!o||!Nt||!f)break;f.f=""+Oa(ne[1],a,ne[0],W,F),f.F=jr(ne[0])}}break;case 1212:{if(!e.cellFormula)break;if(h){if(!o)break;m[lr(o.cell)]=ne[0],f=e.dense?(i[o.cell.r]||[])[o.cell.c]:i[lr(o.cell)],(f||{}).f=""+Oa(ne[0],a,u,W,F)}}break;case 253:_=vB(l[ne.isst].t,ne.ixfe,"s"),l[ne.isst].h&&(_.h=l[ne.isst].h),_.XF=k[_.ixfe],P>0&&(_.z=O[_.ixfe>>8&63]),zc(_,e,t.opts.Date1904),T({c:ne.c,r:ne.r},_,e);break;case 513:e.sheetStubs&&(_={ixfe:ne.ixfe,XF:k[ne.ixfe],t:"z"},P>0&&(_.z=O[_.ixfe>>8&63]),zc(_,e,t.opts.Date1904),T({c:ne.c,r:ne.r},_,e));break;case 190:if(e.sheetStubs)for(var gt=ne.c;gt<=ne.C;++gt){var Bt=ne.ixfe[gt-ne.c];_={ixfe:Bt,XF:k[Bt],t:"z"},P>0&&(_.z=O[_.ixfe>>8&63]),zc(_,e,t.opts.Date1904),T({c:gt,r:ne.r},_,e)}break;case 214:case 516:case 4:_=vB(ne.val,ne.ixfe,"s"),_.XF=k[_.ixfe],P>0&&(_.z=O[_.ixfe>>8&63]),zc(_,e,t.opts.Date1904),T({c:ne.c,r:ne.r},_,e);break;case 0:case 512:_e===1&&(a=ne);break;case 252:l=ne;break;case 1054:if(F.biff==4){O[P++]=ne[1];for(var bt=0;bt<P+163&&vr[bt]!=ne[1];++bt);bt>=163&&_m(ne[1],P+163)}else _m(ne[1],ne[0]);break;case 30:{O[P++]=ne;for(var lt=0;lt<P+163&&vr[lt]!=ne;++lt);lt>=163&&_m(ne,P+163)}break;case 229:q=q.concat(ne);break;case 93:ie[ne.cmo[0]]=F.lastobj=ne;break;case 438:F.lastobj.TxO=ne;break;case 127:F.lastobj.ImData=ne;break;case 440:for(v=ne[0].s.r;v<=ne[0].e.r;++v)for(p=ne[0].s.c;p<=ne[0].e.c;++p)f=e.dense?(i[v]||[])[p]:i[lr({c:p,r:v})],f&&(f.l=ne[1]);break;case 2048:for(v=ne[0].s.r;v<=ne[0].e.r;++v)for(p=ne[0].s.c;p<=ne[0].e.c;++p)f=e.dense?(i[v]||[])[p]:i[lr({c:p,r:v})],f&&f.l&&(f.l.Tooltip=ne[1]);break;case 28:{if(F.biff<=5&&F.biff>=2)break;f=e.dense?(i[ne[0].r]||[])[ne[0].c]:i[lr(ne[0])];var Ft=ie[ne[2]];f||(e.dense?(i[ne[0].r]||(i[ne[0].r]=[]),f=i[ne[0].r][ne[0].c]={t:"z"}):f=i[lr(ne[0])]={t:"z"},a.e.r=Math.max(a.e.r,ne[0].r),a.s.r=Math.min(a.s.r,ne[0].r),a.e.c=Math.max(a.e.c,ne[0].c),a.s.c=Math.min(a.s.c,ne[0].c)),f.c||(f.c=[]),g={a:ne[1],t:Ft.TxO.t},f.c.push(g)}break;case 2173:Q0e(k[ne.ixfe],ne.ext);break;case 125:{if(!F.cellStyles)break;for(;ne.e>=ne.s;)oe[ne.e--]={width:ne.w/256,level:ne.level||0,hidden:!!(ne.flags&1)},re||(re=!0,kU(ne.w/256)),_y(oe[ne.e+1])}break;case 520:{var mt={};ne.level!=null&&(te[ne.r]=mt,mt.level=ne.level),ne.hidden&&(te[ne.r]=mt,mt.hidden=!0),ne.hpt&&(te[ne.r]=mt,mt.hpt=ne.hpt,mt.hpx=O_(ne.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||zx(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[xe]]=ne;break;case 161:i["!margins"]||zx(i["!margins"]={}),i["!margins"].header=ne.header,i["!margins"].footer=ne.footer;break;case 574:ne.RTL&&(B.Views[0].RTL=!0);break;case 146:R=ne;break;case 2198:D=ne;break;case 140:S=ne;break;case 442:A?E.CodeName=ne||E.name:B.WBProps.CodeName=ne||"ThisWorkbook";break}}else be||console.error("Missing Info for XLS Record 0x"+xe.toString(16)),r.l+=ye}return t.SheetNames=Ou(s).sort(function(vt,at){return Number(vt)-Number(at)}).map(function(vt){return s[vt].name}),e.bookSheets||(t.Sheets=n),!t.SheetNames.length&&c["!ref"]?(t.SheetNames.push("Sheet1"),t.Sheets&&(t.Sheets.Sheet1=c)):t.Preamble=c,t.Sheets&&H.forEach(function(vt,at){t.Sheets[t.SheetNames[at]]["!autofilter"]=vt}),t.Strings=l,t.SSF=da(vr),F.enc&&(t.Encryption=F.enc),D&&(t.Themes=D),t.Metadata={},S!==void 0&&(t.Metadata.Country=S),W.names.length>0&&(B.Names=W.names),t.Workbook=B,t}var PQ={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function w1e(r,e,t){var n=Vr.find(r,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var i=gQ(n,Nhe,PQ.DSI);for(var s in i)e[s]=i[s]}catch(A){if(t.WTF)throw A}var a=Vr.find(r,"/!SummaryInformation");if(a&&a.size>0)try{var o=gQ(a,Uhe,PQ.SI);for(var l in o)e[l]==null&&(e[l]=o[l])}catch(A){if(t.WTF)throw A}e.HeadingPairs&&e.TitlesOfParts&&(Q$(e.HeadingPairs,e.TitlesOfParts,e,t),delete e.HeadingPairs,delete e.TitlesOfParts)}function bq(r,e){e||(e={}),NU(e),JG(),e.codepage&&dU(e.codepage);var t,n;if(r.FullPaths){if(Vr.find(r,"/encryption"))throw new Error("File is password-protected");t=Vr.find(r,"!CompObj"),n=Vr.find(r,"/Workbook")||Vr.find(r,"/Book")}else{switch(e.type){case"base64":r=pc($l(r));break;case"binary":r=pc(r);break;case"buffer":break;case"array":Array.isArray(r)||(r=Array.prototype.slice.call(r));break}la(r,0),n={content:r}}var i,s;if(t&&p1e(t),e.bookProps&&!e.bookSheets)i={};else{var a=Mr?"buffer":"array";if(n&&n.content)i=v1e(n.content,e);else if((s=Vr.find(r,"PerfectOffice_MAIN"))&&s.content)i=jx.to_workbook(s.content,(e.type=a,e));else if((s=Vr.find(r,"NativeContent_MAIN"))&&s.content)i=jx.to_workbook(s.content,(e.type=a,e));else throw(s=Vr.find(r,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&r.FullPaths&&Vr.find(r,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=ipe(r))}var o={};return r.FullPaths&&w1e(r,o,e),i.Props=i.Custprops=o,e.bookFiles&&(i.cfb=r),i}var UT={0:{f:eme},1:{f:ime},2:{f:fme},3:{f:lme},4:{f:ame},5:{f:hme},6:{f:gme},7:{f:cme},8:{f:xme},9:{f:yme},10:{f:vme},11:{f:wme},12:{f:sme},13:{f:dme},14:{f:Ame},15:{f:ome},16:{f:vq},17:{f:mme},18:{f:ume},19:{f:CU},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:$me},40:{},42:{},43:{f:v0e},44:{f:m0e},45:{f:w0e},46:{f:x0e},47:{f:y0e},48:{},49:{f:_he},50:{},51:{f:V0e},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:J$},62:{f:pme},63:{f:G0e},64:{f:Ime},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Xa,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Fme},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:nme},148:{f:tme,p:16},151:{f:Eme},152:{},153:{f:Wme},154:{},155:{},156:{f:zme},157:{},158:{},159:{T:1,f:Ude},160:{T:-1},161:{T:1,f:r1},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:_me},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:H0e},336:{T:-1},337:{f:j0e,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:VL},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Y$},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Cme},427:{f:Bme},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Tme},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:rme},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:bme},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:VL},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:tpe},633:{T:1},634:{T:-1},635:{T:1,f:epe},636:{T:-1},637:{f:Ehe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Nme},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:kme},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},GL={6:{f:nk},10:{f:ad},12:{f:os},13:{f:os},14:{f:ji},15:{f:ji},16:{f:Ka},17:{f:ji},18:{f:ji},19:{f:os},20:{f:yQ},21:{f:yQ},23:{f:Y$},24:{f:_Q},25:{f:ji},26:{},27:{},28:{f:Jfe},29:{},34:{f:ji},35:{f:xQ},38:{f:Ka},39:{f:Ka},40:{f:Ka},41:{f:Ka},42:{f:ji},43:{f:ji},47:{f:r0e},49:{f:Pfe},51:{f:os},60:{},61:{f:Ife},64:{f:ji},65:{f:Lfe},66:{f:os},77:{},80:{},81:{},82:{},85:{f:os},89:{},90:{},91:{},92:{f:_fe},93:{f:ede},94:{},95:{f:ji},96:{},97:{},99:{f:ji},125:{f:J$},128:{f:jfe},129:{f:bfe},130:{f:os},131:{f:ji},132:{f:ji},133:{f:Efe},134:{},140:{f:ade},141:{f:os},144:{},146:{f:lde},151:{},152:{},153:{},154:{},155:{},156:{f:os},157:{},158:{},160:{f:fde},161:{f:cde},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:Ofe},190:{f:Qfe},193:{f:ad},197:{},198:{},199:{},200:{},201:{},202:{f:ji},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:os},220:{},221:{f:ji},222:{},224:{f:Vfe},225:{f:xfe},226:{f:ad},227:{},229:{f:Zfe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Cfe},253:{f:Rfe},255:{f:Bfe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:z$},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:ji},353:{f:ad},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:zfe},431:{f:ji},432:{},433:{},434:{},437:{},438:{f:nde},439:{f:ji},440:{f:ide},441:{},442:{f:oC},443:{},444:{f:os},445:{},446:{},448:{f:ad},449:{f:Ffe,r:2},450:{f:ad},512:{f:vQ},513:{f:hde},515:{f:Kfe},516:{f:Dfe},517:{f:wQ},519:{f:dde},520:{f:Sfe},523:{},545:{f:bQ},549:{f:mQ},566:{},574:{f:kfe},638:{f:Mfe},659:{},1048:{},1054:{f:Nfe},1084:{},1212:{f:qfe},2048:{f:sde},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:pB},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:ad},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:Ade,r:12},2173:{f:O0e,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:ji,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:$fe,r:12},2197:{},2198:{f:P0e,r:12},2199:{},2200:{},2201:{},2202:{f:Xfe,r:12},2203:{f:ad},2204:{},2205:{},2206:{},2207:{},2211:{f:Tfe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:os},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:ude},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:ode},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:vQ},1:{},2:{f:vde},3:{f:mde},4:{f:gde},5:{f:wQ},7:{f:wde},8:{},9:{f:pB},11:{},22:{f:os},30:{f:Ufe},31:{},32:{},33:{f:bQ},36:{},37:{f:mQ},50:{f:yde},62:{},52:{},67:{},68:{f:os},69:{},86:{},126:{},127:{f:pde},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:xde},223:{},234:{},354:{},421:{},518:{f:nk},521:{f:pB},536:{f:_Q},547:{f:xQ},561:{},579:{},1030:{f:nk},1033:{f:pB},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function qA(r,e,t,n){var i=e;if(!isNaN(i)){var s=(t||[]).length||0,a=r.next(4);a.write_shift(2,i),a.write_shift(2,s),s>0&&L$(t)&&r.push(t)}}function RQ(r,e){var t=e||{},n=t.dense?[]:{};r=r.replace(/<!--.*?-->/g,"");var i=r.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=r.match(/<\/table/i),a=i.index,o=s&&s.index||r.length,l=Kue(r.slice(a,o),/(:?<tr[^>]*>)/i,"<tr>"),A=-1,c=0,u=0,h=0,f={s:{r:1e7,c:1e7},e:{r:0,c:0}},g=[];for(a=0;a<l.length;++a){var p=l[a].trim(),v=p.slice(0,3).toLowerCase();if(v=="<tr"){if(++A,t.sheetRows&&t.sheetRows<=A){--A;break}c=0;continue}if(!(v!="<td"&&v!="<th")){var m=p.split(/<\/t[dh]>/i);for(o=0;o<m.length;++o){var x=m[o].trim();if(x.match(/<t[dh]/i)){for(var _=x,S=0;_.charAt(0)=="<"&&(S=_.indexOf(">"))>-1;)_=_.slice(S+1);for(var k=0;k<g.length;++k){var R=g[k];R.s.c==c&&R.s.r<A&&A<=R.e.r&&(c=R.e.c+1,k=-1)}var B=er(x.slice(0,x.indexOf(">")));h=B.colspan?+B.colspan:1,((u=+B.rowspan)>1||h>1)&&g.push({s:{r:A,c},e:{r:A+(u||1)-1,c:c+h-1}});var E=B.t||B["data-t"]||"";if(!_.length){c+=h;continue}if(_=w$(_),f.s.r>A&&(f.s.r=A),f.e.r<A&&(f.e.r=A),f.s.c>c&&(f.s.c=c),f.e.c<c&&(f.e.c=c),!_.length){c+=h;continue}var b={t:"s",v:_};t.raw||!_.trim().length||E=="s"||(_==="TRUE"?b={t:"b",v:!0}:_==="FALSE"?b={t:"b",v:!1}:isNaN(bc(_))?isNaN(xy(_).getDate())||(b={t:"d",v:zs(_)},t.cellDates||(b={t:"n",v:bo(b.v)}),b.z=t.dateNF||vr[14]):b={t:"n",v:bc(_)}),t.dense?(n[A]||(n[A]=[]),n[A][c]=b):n[lr({r:A,c})]=b,c+=h}}}}return n["!ref"]=jr(f),g.length&&(n["!merges"]=g),n}function y1e(r,e,t,n){for(var i=r["!merges"]||[],s=[],a=e.s.c;a<=e.e.c;++a){for(var o=0,l=0,A=0;A<i.length;++A)if(!(i[A].s.r>t||i[A].s.c>a)&&!(i[A].e.r<t||i[A].e.c<a)){if(i[A].s.r<t||i[A].s.c<a){o=-1;break}o=i[A].e.r-i[A].s.r+1,l=i[A].e.c-i[A].s.c+1;break}if(!(o<0)){var c=lr({r:t,c:a}),u=n.dense?(r[t]||[])[a]:r[c],h=u&&u.v!=null&&(u.h||yU(u.w||(kf(u),u.w)||""))||"",f={};o>1&&(f.rowspan=o),l>1&&(f.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":u&&(f["data-t"]=u&&u.t||"z",u.v!=null&&(f["data-v"]=u.v),u.z!=null&&(f["data-z"]=u.z),u.l&&(u.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+u.l.Target+'">'+h+"</a>")),f.id=(n.id||"sjs")+"-"+c,s.push(ahe("td",h,f))}}var g="<tr>";return g+s.join("")+"</tr>"}var x1e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',_1e="</body></html>";function b1e(r,e){var t=r.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!t||t.length==0)throw new Error("Invalid HTML: could not find <table>");if(t.length==1)return dp(RQ(t[0],e),e);var n=MU();return t.forEach(function(i,s){OU(n,RQ(i,e),"Sheet"+(s+1))}),n}function E1e(r,e,t){var n=[];return n.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function C1e(r,e){var t=e||{},n=t.header!=null?t.header:x1e,i=t.footer!=null?t.footer:_1e,s=[n],a=My(r["!ref"]);t.dense=Array.isArray(r),s.push(E1e(r,a,t));for(var o=a.s.r;o<=a.e.r;++o)s.push(y1e(r,a,o,t));return s.push("</table>"+i),s.join("")}function Eq(r,e,t){var n=t||{},i=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var a=typeof n.origin=="string"?mo(n.origin):n.origin;i=a.r,s=a.c}var o=e.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),A={s:{r:0,c:0},e:{r:i,c:s}};if(r["!ref"]){var c=My(r["!ref"]);A.s.r=Math.min(A.s.r,c.s.r),A.s.c=Math.min(A.s.c,c.s.c),A.e.r=Math.max(A.e.r,c.e.r),A.e.c=Math.max(A.e.c,c.e.c),i==-1&&(A.e.r=i=c.e.r+1)}var u=[],h=0,f=r["!rows"]||(r["!rows"]=[]),g=0,p=0,v=0,m=0,x=0,_=0;for(r["!cols"]||(r["!cols"]=[]);g<o.length&&p<l;++g){var S=o[g];if(DQ(S)){if(n.display)continue;f[p]={hidden:!0}}var k=S.children;for(v=m=0;v<k.length;++v){var R=k[v];if(!(n.display&&DQ(R))){var B=R.hasAttribute("data-v")?R.getAttribute("data-v"):R.hasAttribute("v")?R.getAttribute("v"):w$(R.innerHTML),E=R.getAttribute("data-z")||R.getAttribute("z");for(h=0;h<u.length;++h){var b=u[h];b.s.c==m+s&&b.s.r<p+i&&p+i<=b.e.r&&(m=b.e.c+1-s,h=-1)}_=+R.getAttribute("colspan")||1,((x=+R.getAttribute("rowspan")||1)>1||_>1)&&u.push({s:{r:p+i,c:m+s},e:{r:p+i+(x||1)-1,c:m+s+(_||1)-1}});var I={t:"s",v:B},T=R.getAttribute("data-t")||R.getAttribute("t")||"";B!=null&&(B.length==0?I.t=T||"z":n.raw||B.trim().length==0||T=="s"||(B==="TRUE"?I={t:"b",v:!0}:B==="FALSE"?I={t:"b",v:!1}:isNaN(bc(B))?isNaN(xy(B).getDate())||(I={t:"d",v:zs(B)},n.cellDates||(I={t:"n",v:bo(I.v)}),I.z=n.dateNF||vr[14]):I={t:"n",v:bc(B)})),I.z===void 0&&E!=null&&(I.z=E);var F="",D=R.getElementsByTagName("A");if(D&&D.length)for(var q=0;q<D.length&&!(D[q].hasAttribute("href")&&(F=D[q].getAttribute("href"),F.charAt(0)!="#"));++q);F&&F.charAt(0)!="#"&&(I.l={Target:F}),n.dense?(r[p+i]||(r[p+i]=[]),r[p+i][m+s]=I):r[lr({c:m+s,r:p+i})]=I,A.e.c<m+s&&(A.e.c=m+s),m+=_}}++p}return u.length&&(r["!merges"]=(r["!merges"]||[]).concat(u)),A.e.r=Math.max(A.e.r,p-1+i),r["!ref"]=jr(A),p>=l&&(r["!fullref"]=jr((A.e.r=o.length-g+p-1+i,A))),r}function Cq(r,e){var t=e||{},n=t.dense?[]:{};return Eq(n,r,e)}function B1e(r,e){return dp(Cq(r,e),e)}function DQ(r){var e="",t=S1e(r);return t&&(e=t(r).getPropertyValue("display")),e||(e=r.style&&r.style.display),e==="none"}function S1e(r){return r.ownerDocument.defaultView&&typeof r.ownerDocument.defaultView.getComputedStyle=="function"?r.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function T1e(r){var e=r.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),t=$r(e.replace(/<[^>]*>/g,""));return[t]}var NQ={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function Bq(r,e){var t=e||{},n=xU(r),i=[],s,a,o={name:""},l="",A=0,c,u,h={},f=[],g=t.dense?[]:{},p,v,m={value:""},x="",_=0,S=[],k=-1,R=-1,B={s:{r:1e6,c:1e7},e:{r:0,c:0}},E=0,b={},I=[],T={},F=0,D=0,q=[],ie=1,oe=1,te=[],re={Names:[]},W={},pe=["",""],_e=[],P={},O="",H=0,K=!1,Z=!1,he=0;for(N_.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");p=N_.exec(n);)switch(p[3]=p[3].replace(/_.*$/,"")){case"table":case"":p[1]==="/"?(B.e.c>=B.s.c&&B.e.r>=B.s.r?g["!ref"]=jr(B):g["!ref"]="A1:A1",t.sheetRows>0&&t.sheetRows<=B.e.r&&(g["!fullref"]=g["!ref"],B.e.r=t.sheetRows-1,g["!ref"]=jr(B)),I.length&&(g["!merges"]=I),q.length&&(g["!rows"]=q),c.name=c.||c.name,typeof JSON<"u"&&JSON.stringify(c),f.push(c.name),h[c.name]=g,Z=!1):p[0].charAt(p[0].length-2)!=="/"&&(c=er(p[0],!1),k=R=-1,B.s.r=B.s.c=1e7,B.e.r=B.e.c=0,g=t.dense?[]:{},I=[],q=[],Z=!0);break;case"table-row-group":p[1]==="/"?--E:++E;break;case"table-row":case"":if(p[1]==="/"){k+=ie,ie=1;break}if(u=er(p[0],!1),u.?k=u.-1:k==-1&&(k=0),ie=+u["number-rows-repeated"]||1,ie<10)for(he=0;he<ie;++he)E>0&&(q[k+he]={level:E});R=-1;break;case"covered-table-cell":p[1]!=="/"&&++R,t.sheetStubs&&(t.dense?(g[k]||(g[k]=[]),g[k][R]={t:"z"}):g[lr({r:k,c:R})]={t:"z"}),x="",S=[];break;case"table-cell":case"":if(p[0].charAt(p[0].length-2)==="/")++R,m=er(p[0],!1),oe=parseInt(m["number-columns-repeated"]||"1",10),v={t:"z",v:null},m.formula&&t.cellFormula!=!1&&(v.f=IQ($r(m.formula))),(m.||m["value-type"])=="string"&&(v.t="s",v.v=$r(m["string-value"]||""),t.dense?(g[k]||(g[k]=[]),g[k][R]=v):g[lr({r:k,c:R})]=v),R+=oe-1;else if(p[1]!=="/"){++R,x="",_=0,S=[],oe=1;var xe=ie?k+ie-1:k;if(R>B.e.c&&(B.e.c=R),R<B.s.c&&(B.s.c=R),k<B.s.r&&(B.s.r=k),xe>B.e.r&&(B.e.r=xe),m=er(p[0],!1),_e=[],P={},v={t:m.||m["value-type"],v:null},t.cellFormula)if(m.formula&&(m.formula=$r(m.formula)),m["number-matrix-columns-spanned"]&&m["number-matrix-rows-spanned"]&&(F=parseInt(m["number-matrix-rows-spanned"],10)||0,D=parseInt(m["number-matrix-columns-spanned"],10)||0,T={s:{r:k,c:R},e:{r:k+F-1,c:R+D-1}},v.F=jr(T),te.push([T,v.F])),m.formula)v.f=IQ(m.formula);else for(he=0;he<te.length;++he)k>=te[he][0].s.r&&k<=te[he][0].e.r&&R>=te[he][0].s.c&&R<=te[he][0].e.c&&(v.F=te[he][1]);switch((m["number-columns-spanned"]||m["number-rows-spanned"])&&(F=parseInt(m["number-rows-spanned"],10)||0,D=parseInt(m["number-columns-spanned"],10)||0,T={s:{r:k,c:R},e:{r:k+F-1,c:R+D-1}},I.push(T)),m["number-columns-repeated"]&&(oe=parseInt(m["number-columns-repeated"],10)),v.t){case"boolean":v.t="b",v.v=si(m["boolean-value"]);break;case"float":v.t="n",v.v=parseFloat(m.value);break;case"percentage":v.t="n",v.v=parseFloat(m.value);break;case"currency":v.t="n",v.v=parseFloat(m.value);break;case"date":v.t="d",v.v=zs(m["date-value"]),t.cellDates||(v.t="n",v.v=bo(v.v)),v.z="m/d/yy";break;case"time":v.t="n",v.v=Hue(m["time-value"])/86400,t.cellDates&&(v.t="d",v.v=_4(v.v)),v.z="HH:MM:SS";break;case"number":v.t="n",v.v=parseFloat(m.);break;default:if(v.t==="string"||v.t==="text"||!v.t)v.t="s",m["string-value"]!=null&&(x=$r(m["string-value"]),S=[]);else throw new Error("Unsupported value type "+v.t)}}else{if(K=!1,v.t==="s"&&(v.v=x||"",S.length&&(v.R=S),K=_==0),W.Target&&(v.l=W),_e.length>0&&(v.c=_e,_e=[]),x&&t.cellText!==!1&&(v.w=x),K&&(v.t="z",delete v.v),(!K||t.sheetStubs)&&!(t.sheetRows&&t.sheetRows<=k))for(var ye=0;ye<ie;++ye){if(oe=parseInt(m["number-columns-repeated"]||"1",10),t.dense)for(g[k+ye]||(g[k+ye]=[]),g[k+ye][R]=ye==0?v:da(v);--oe>0;)g[k+ye][R+oe]=da(v);else for(g[lr({r:k+ye,c:R})]=v;--oe>0;)g[lr({r:k+ye,c:R+oe})]=da(v);B.e.c<=R&&(B.e.c=R)}oe=parseInt(m["number-columns-repeated"]||"1",10),R+=oe-1,oe=0,v={},x="",S=[]}W={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(p[1]==="/"){if((s=i.pop())[0]!==p[3])throw"Bad state: "+s}else p[0].charAt(p[0].length-2)!=="/"&&i.push([p[3],!0]);break;case"annotation":if(p[1]==="/"){if((s=i.pop())[0]!==p[3])throw"Bad state: "+s;P.t=x,S.length&&(P.R=S),P.a=O,_e.push(P)}else p[0].charAt(p[0].length-2)!=="/"&&i.push([p[3],!1]);O="",H=0,x="",_=0,S=[];break;case"creator":p[1]==="/"?O=n.slice(H,p.index):H=p.index+p[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(p[1]==="/"){if((s=i.pop())[0]!==p[3])throw"Bad state: "+s}else p[0].charAt(p[0].length-2)!=="/"&&i.push([p[3],!1]);x="",_=0,S=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(p[1]==="/"){if(b[o.name]=l,(s=i.pop())[0]!==p[3])throw"Bad state: "+s}else p[0].charAt(p[0].length-2)!=="/"&&(l="",o=er(p[0],!1),i.push([p[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":a=er(p[0],!1),l+=NQ[p[3]][a.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":a=er(p[0],!1),l+=NQ[p[3]][a.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(p[0].slice(-2)==="/>")break;if(p[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(A,p.index);break}else A=p.index+p[0].length;break;case"named-range":a=er(p[0],!1),pe=ik(a["cell-range-address"]);var be={Name:a.name,Ref:pe[0]+"!"+pe[1]};Z&&(be.Sheet=f.length),re.Names.push(be);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(p[1]==="/"&&(!m||!m["string-value"])){var Fe=T1e(n.slice(_,p.index));x=(x.length>0?x+`
`:"")+Fe[0]}else er(p[0],!1),_=p.index+p[0].length;break;case"s":break;case"database-range":if(p[1]==="/")break;try{pe=ik(er(p[0])["target-range-address"]),h[pe[0]]["!autofilter"]={ref:pe[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(p[1]!=="/"){if(W=er(p[0],!1),!W.href)break;W.Target=$r(W.href),delete W.href,W.Target.charAt(0)=="#"&&W.Target.indexOf(".")>-1?(pe=ik(W.Target.slice(1)),W.Target="#"+pe[0]+"!"+pe[1]):W.Target.match(/^\.\.[\\\/]/)&&(W.Target=W.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(p[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(t.WTF)throw new Error(p)}}var ne={Sheets:h,SheetNames:f,Workbook:re};return t.bookSheets&&delete ne.Sheets,ne}function UQ(r,e){e=e||{},AA(r,"META-INF/manifest.xml")&&Khe(as(r,"META-INF/manifest.xml"),e);var t=Vl(r,"content.xml");if(!t)throw new Error("Missing content.xml in ODS / UOF file");var n=Bq(zn(t),e);return AA(r,"meta.xml")&&(n.Props=O$(as(r,"meta.xml"))),n}function MQ(r,e){return Bq(r,e)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function RU(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function $L(r){return typeof TextDecoder<"u"?new TextDecoder().decode(r):zn(e1(r))}function qL(r){var e=r.reduce(function(i,s){return i+s.length},0),t=new Uint8Array(e),n=0;return r.forEach(function(i){t.set(i,n),n+=i.length}),t}function OQ(r){return r-=r>>1&1431655765,r=(r&858993459)+(r>>2&858993459),(r+(r>>4)&252645135)*16843009>>>24}function F1e(r,e){for(var t=(r[e+15]&127)<<7|r[e+14]>>1,n=r[e+14]&1,i=e+13;i>=e;--i)n=n*256+r[i];return(r[e+15]&128?-n:n)*Math.pow(10,t-6176)}function Q_(r,e){var t=e?e[0]:0,n=r[t]&127;e:if(r[t++]>=128&&(n|=(r[t]&127)<<7,r[t++]<128||(n|=(r[t]&127)<<14,r[t++]<128)||(n|=(r[t]&127)<<21,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,28),++t,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,35),++t,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,42),++t,r[t++]<128)))break e;return e&&(e[0]=t),n}function Ts(r){var e=0,t=r[e]&127;e:if(r[e++]>=128){if(t|=(r[e]&127)<<7,r[e++]<128||(t|=(r[e]&127)<<14,r[e++]<128)||(t|=(r[e]&127)<<21,r[e++]<128))break e;t|=(r[e]&127)<<28}return t}function za(r){for(var e=[],t=[0];t[0]<r.length;){var n=t[0],i=Q_(r,t),s=i&7;i=Math.floor(i/8);var a=0,o;if(i==0)break;switch(s){case 0:{for(var l=t[0];r[t[0]++]>=128;);o=r.slice(l,t[0])}break;case 5:a=4,o=r.slice(t[0],t[0]+a),t[0]+=a;break;case 1:a=8,o=r.slice(t[0],t[0]+a),t[0]+=a;break;case 2:a=Q_(r,t),o=r.slice(t[0],t[0]+a),t[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(n))}var A={data:o,type:s};e[i]==null?e[i]=[A]:e[i].push(A)}return e}function DU(r,e){return(r==null?void 0:r.map(function(t){return e(t.data)}))||[]}function I1e(r){for(var e,t=[],n=[0];n[0]<r.length;){var i=Q_(r,n),s=za(r.slice(n[0],n[0]+i));n[0]+=i;var a={id:Ts(s[1][0].data),messages:[]};s[2].forEach(function(o){var l=za(o.data),A=Ts(l[3][0].data);a.messages.push({meta:l,data:r.slice(n[0],n[0]+A)}),n[0]+=A}),(e=s[3])!=null&&e[0]&&(a.merge=Ts(s[3][0].data)>>>0>0),t.push(a)}return t}function k1e(r,e){if(r!=0)throw new Error("Unexpected Snappy chunk type ".concat(r));for(var t=[0],n=Q_(e,t),i=[];t[0]<e.length;){var s=e[t[0]]&3;if(s==0){var a=e[t[0]++]>>2;if(a<60)++a;else{var o=a-59;a=e[t[0]],o>1&&(a|=e[t[0]+1]<<8),o>2&&(a|=e[t[0]+2]<<16),o>3&&(a|=e[t[0]+3]<<24),a>>>=0,a++,t[0]+=o}i.push(e.slice(t[0],t[0]+a)),t[0]+=a;continue}else{var l=0,A=0;if(s==1?(A=(e[t[0]]>>2&7)+4,l=(e[t[0]++]&224)<<3,l|=e[t[0]++]):(A=(e[t[0]++]>>2)+1,s==2?(l=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(l=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),i=[qL(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(A>=l)for(i.push(i[0].slice(-l)),A-=l;A>=i[i.length-1].length;)i.push(i[i.length-1]),A-=i[i.length-1].length;i.push(i[0].slice(-l,-l+A))}}var c=qL(i);if(c.length!=n)throw new Error("Unexpected length: ".concat(c.length," != ").concat(n));return c}function L1e(r){for(var e=[],t=0;t<r.length;){var n=r[t++],i=r[t]|r[t+1]<<8|r[t+2]<<16;t+=3,e.push(k1e(n,r.slice(t,t+i))),t+=i}if(t!==r.length)throw new Error("data is not a valid framed stream!");return qL(e)}function P1e(r,e,t,n){var i=RU(r),s=i.getUint32(4,!0),a=(n>1?12:8)+OQ(s&(n>1?3470:398))*4,o=-1,l=-1,A=NaN,c=new Date(2001,0,1);s&512&&(o=i.getUint32(a,!0),a+=4),a+=OQ(s&(n>1?12288:4096))*4,s&16&&(l=i.getUint32(a,!0),a+=4),s&32&&(A=i.getFloat64(a,!0),a+=8),s&64&&(c.setTime(c.getTime()+i.getFloat64(a,!0)*1e3),a+=8);var u;switch(r[2]){case 0:break;case 2:u={t:"n",v:A};break;case 3:u={t:"s",v:e[l]};break;case 5:u={t:"d",v:c};break;case 6:u={t:"b",v:A>0};break;case 7:u={t:"n",v:A/86400};break;case 8:u={t:"e",v:0};break;case 9:if(o>-1)u={t:"s",v:t[o]};else if(l>-1)u={t:"s",v:e[l]};else if(!isNaN(A))u={t:"n",v:A};else throw new Error("Unsupported cell type ".concat(r.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(r.slice(0,4)))}return u}function R1e(r,e,t){var n=RU(r),i=n.getUint32(8,!0),s=12,a=-1,o=-1,l=NaN,A=NaN,c=new Date(2001,0,1);i&1&&(l=F1e(r,s),s+=16),i&2&&(A=n.getFloat64(s,!0),s+=8),i&4&&(c.setTime(c.getTime()+n.getFloat64(s,!0)*1e3),s+=8),i&8&&(o=n.getUint32(s,!0),s+=4),i&16&&(a=n.getUint32(s,!0),s+=4);var u;switch(r[1]){case 0:break;case 2:u={t:"n",v:l};break;case 3:u={t:"s",v:e[o]};break;case 5:u={t:"d",v:c};break;case 6:u={t:"b",v:A>0};break;case 7:u={t:"n",v:A/86400};break;case 8:u={t:"e",v:0};break;case 9:if(a>-1)u={t:"s",v:t[a]};else throw new Error("Unsupported cell type ".concat(r[1]," : ").concat(i&31," : ").concat(r.slice(0,4)));break;case 10:u={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(r[1]," : ").concat(i&31," : ").concat(r.slice(0,4)))}return u}function D1e(r,e,t){switch(r[0]){case 0:case 1:case 2:case 3:return P1e(r,e,t,r[0]);case 5:return R1e(r,e,t);default:throw new Error("Unsupported payload version ".concat(r[0]))}}function K0(r){var e=za(r);return Q_(e[1][0].data)}function QQ(r,e){var t=za(e.data),n=Ts(t[1][0].data),i=t[3],s=[];return(i||[]).forEach(function(a){var o=za(a.data),l=Ts(o[1][0].data)>>>0;switch(n){case 1:s[l]=$L(o[3][0].data);break;case 8:{var A=r[K0(o[9][0].data)][0],c=za(A.data),u=r[K0(c[1][0].data)][0],h=Ts(u.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var f=za(u.data);s[l]=f[3].map(function(g){return $L(g.data)}).join("")}break}}),s}function N1e(r,e){var t,n,i,s,a,o,l,A,c,u,h,f,g,p,v=za(r),m=Ts(v[1][0].data)>>>0,x=Ts(v[2][0].data)>>>0,_=((n=(t=v[8])==null?void 0:t[0])==null?void 0:n.data)&&Ts(v[8][0].data)>0||!1,S,k;if((s=(i=v[7])==null?void 0:i[0])!=null&&s.data&&e!=0)S=(o=(a=v[7])==null?void 0:a[0])==null?void 0:o.data,k=(A=(l=v[6])==null?void 0:l[0])==null?void 0:A.data;else if((u=(c=v[4])==null?void 0:c[0])!=null&&u.data&&e!=1)S=(f=(h=v[4])==null?void 0:h[0])==null?void 0:f.data,k=(p=(g=v[3])==null?void 0:g[0])==null?void 0:p.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var R=_?4:1,B=RU(S),E=[],b=0;b<S.length/2;++b){var I=B.getUint16(b*2,!0);I<65535&&E.push([b,I])}if(E.length!=x)throw"Expected ".concat(x," cells, found ").concat(E.length);var T=[];for(b=0;b<E.length-1;++b)T[E[b][0]]=k.subarray(E[b][1]*R,E[b+1][1]*R);return E.length>=1&&(T[E[E.length-1][0]]=k.subarray(E[E.length-1][1]*R)),{R:m,cells:T}}function U1e(r,e){var t,n=za(e.data),i=(t=n==null?void 0:n[7])!=null&&t[0]?Ts(n[7][0].data)>>>0>0?1:0:-1,s=DU(n[5],function(a){return N1e(a,i)});return{nrows:Ts(n[4][0].data)>>>0,data:s.reduce(function(a,o){return a[o.R]||(a[o.R]=[]),o.cells.forEach(function(l,A){if(a[o.R][A])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(A));a[o.R][A]=l}),a},[])}}function M1e(r,e,t){var n,i=za(e.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(Ts(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(Ts(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));t["!ref"]=jr(s);var a=za(i[4][0].data),o=QQ(r,r[K0(a[4][0].data)][0]),l=(n=a[17])!=null&&n[0]?QQ(r,r[K0(a[17][0].data)][0]):[],A=za(a[3][0].data),c=0;A[1].forEach(function(u){var h=za(u.data),f=r[K0(h[2][0].data)][0],g=Ts(f.meta[1][0].data);if(g!=6002)throw new Error("6001 unexpected reference to ".concat(g));var p=U1e(r,f);p.data.forEach(function(v,m){v.forEach(function(x,_){var S=lr({r:c+m,c:_}),k=D1e(x,o,l);k&&(t[S]=k)})}),c+=p.nrows})}function O1e(r,e){var t=za(e.data),n={"!ref":"A1"},i=r[K0(t[2][0].data)],s=Ts(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return M1e(r,i[0],n),n}function Q1e(r,e){var t,n=za(e.data),i={name:(t=n[1])!=null&&t[0]?$L(n[1][0].data):"",sheets:[]},s=DU(n[2],K0);return s.forEach(function(a){r[a].forEach(function(o){var l=Ts(o.meta[1][0].data);l==6e3&&i.sheets.push(O1e(r,o))})}),i}function H1e(r,e){var t=MU(),n=za(e.data),i=DU(n[1],K0);if(i.forEach(function(s){r[s].forEach(function(a){var o=Ts(a.meta[1][0].data);if(o==2){var l=Q1e(r,a);l.sheets.forEach(function(A,c){OU(t,A,c==0?l.name:l.name+"_"+c,!0)})}})}),t.SheetNames.length==0)throw new Error("Empty NUMBERS file");return t}function ak(r){var e,t,n,i,s={},a=[];if(r.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),r.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var A;try{A=L1e(l.content)}catch(u){return console.log("?? "+l.content.length+" "+(u.message||u))}var c;try{c=I1e(A)}catch(u){return console.log("## "+(u.message||u))}c.forEach(function(u){s[u.id]=u.messages,a.push(u.id)})}}),!a.length)throw new Error("File has no messages");var o=((i=(n=(t=(e=s==null?void 0:s[1])==null?void 0:e[0])==null?void 0:t.meta)==null?void 0:n[1])==null?void 0:i[0].data)&&Ts(s[1][0].meta[1][0].data)==1&&s[1][0];if(o||a.forEach(function(l){s[l].forEach(function(A){var c=Ts(A.meta[1][0].data)>>>0;if(c==1)if(!o)o=A;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return H1e(s,o)}function V1e(r){return function(t){for(var n=0;n!=r.length;++n){var i=r[n];t[i[0]]===void 0&&(t[i[0]]=i[1]),i[2]==="n"&&(t[i[0]]=Number(t[i[0]]))}}}function NU(r){V1e([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(r)}function j1e(r){return av.WS.indexOf(r)>-1?"sheet":r==av.CS?"chart":r==av.DS?"dialog":r==av.MS?"macro":r&&r.length?r:"sheet"}function K1e(r,e){if(!r)return 0;try{r=e.map(function(n){return n.id||(n.id=n.strRelID),[n.name,r["!id"][n.id].Target,j1e(r["!id"][n.id].Type)]})}catch{return null}return!r||r.length===0?null:r}function z1e(r,e,t,n,i,s,a,o,l,A,c,u){try{s[n]=Hx(Vl(r,t,!0),e);var h=as(r,e),f;switch(o){case"sheet":f=Yme(h,e,i,l,s[n],A,c,u);break;case"chart":if(f=Jme(h,e,i,l,s[n],A,c,u),!f||!f["!drawel"])break;var g=V2(f["!drawel"].Target,e),p=jL(g),v=X0e(Vl(r,g,!0),Hx(Vl(r,p,!0),g)),m=V2(v,g),x=jL(m);f=Rme(Vl(r,m,!0),m,l,Hx(Vl(r,x,!0),m),A,f);break;case"macro":f=Zme(h,e,i,l,s[n],A,c,u);break;case"dialog":f=e1e(h,e,i,l,s[n],A,c,u);break;default:throw new Error("Unrecognized sheet type "+o)}a[n]=f;var _=[];s&&s[n]&&Ou(s[n]).forEach(function(S){var k="";if(s[n][S].Type==av.CMNT){k=V2(s[n][S].Target,e);var R=i1e(as(r,k,!0),k,l);if(!R||!R.length)return;CQ(f,R,!1)}s[n][S].Type==av.TCMNT&&(k=V2(s[n][S].Target,e),_=_.concat(J0e(as(r,k,!0),l)))}),_&&_.length&&CQ(f,_,!0,l.people||[])}catch(S){if(l.WTF)throw S}}function iA(r){return r.charAt(0)=="/"?r.slice(1):r}function W1e(r,e){if(c$(),e=e||{},NU(e),AA(r,"META-INF/manifest.xml")||AA(r,"objectdata.xml"))return UQ(r,e);if(AA(r,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof ak<"u"){if(r.FileIndex)return ak(r);var t=Vr.utils.cfb_new();return J8(r).forEach(function(q){Gue(t,q,Wue(r,q))}),ak(t)}throw new Error("Unsupported NUMBERS file")}if(!AA(r,"[Content_Types].xml"))throw AA(r,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):AA(r,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=J8(r),i=Vhe(Vl(r,"[Content_Types].xml")),s=!1,a,o;if(i.workbooks.length===0&&(o="xl/workbook.xml",as(r,o,!0)&&i.workbooks.push(o)),i.workbooks.length===0){if(o="xl/workbook.bin",!as(r,o,!0))throw new Error("Could not find workbook");i.workbooks.push(o),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var l={},A={};if(!e.bookSheets&&!e.bookProps){if(Kx=[],i.sst)try{Kx=n1e(as(r,iA(i.sst)),i.sst,e)}catch(q){if(e.WTF)throw q}e.cellStyles&&i.themes.length&&(l=r1e(Vl(r,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(A=t1e(as(r,iA(i.style)),i.style,l,e))}i.links.map(function(q){try{var ie=Hx(Vl(r,jL(iA(q))),q);return a1e(as(r,iA(q)),ie,q,e)}catch{}});var c=Xme(as(r,iA(i.workbooks[0])),i.workbooks[0],e),u={},h="";i.coreprops.length&&(h=as(r,iA(i.coreprops[0]),!0),h&&(u=O$(h)),i.extprops.length!==0&&(h=as(r,iA(i.extprops[0]),!0),h&&Ghe(h,u,e)));var f={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(h=Vl(r,iA(i.custprops[0]),!0),h&&(f=qhe(h,e)));var g={};if((e.bookSheets||e.bookProps)&&(c.Sheets?a=c.Sheets.map(function(ie){return ie.name}):u.Worksheets&&u.SheetNames.length>0&&(a=u.SheetNames),e.bookProps&&(g.Props=u,g.Custprops=f),e.bookSheets&&typeof a<"u"&&(g.SheetNames=a),e.bookSheets?g.SheetNames:e.bookProps))return g;a={};var p={};e.bookDeps&&i.calcchain&&(p=s1e(as(r,iA(i.calcchain)),i.calcchain));var v=0,m={},x,_;{var S=c.Sheets;u.Worksheets=S.length,u.SheetNames=[];for(var k=0;k!=S.length;++k)u.SheetNames[k]=S[k].name}var R=s?"bin":"xml",B=i.workbooks[0].lastIndexOf("/"),E=(i.workbooks[0].slice(0,B+1)+"_rels/"+i.workbooks[0].slice(B+1)+".rels").replace(/^\//,"");AA(r,E)||(E="xl/_rels/workbook."+R+".rels");var b=Hx(Vl(r,E,!0),E.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=o1e(as(r,iA(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=Z0e(as(r,iA(i.people[0])),e)),b&&(b=K1e(b,c.Sheets));var I=as(r,"xl/worksheets/sheet.xml",!0)?1:0;e:for(v=0;v!=u.Worksheets;++v){var T="sheet";if(b&&b[v]?(x="xl/"+b[v][1].replace(/[\/]?xl\//,""),AA(r,x)||(x=b[v][1]),AA(r,x)||(x=E.replace(/_rels\/.*$/,"")+b[v][1]),T=b[v][2]):(x="xl/worksheets/sheet"+(v+1-I)+"."+R,x=x.replace(/sheet0\./,"sheet.")),_=x.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(v!=e.sheets)continue e;break;case"string":if(u.SheetNames[v].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var F=!1,D=0;D!=e.sheets.length;++D)typeof e.sheets[D]=="number"&&e.sheets[D]==v&&(F=1),typeof e.sheets[D]=="string"&&e.sheets[D].toLowerCase()==u.SheetNames[v].toLowerCase()&&(F=1);if(!F)continue e}}z1e(r,x,_,u.SheetNames[v],v,m,a,T,e,c,l,A)}return g={Directory:i,Workbook:c,Props:u,Custprops:f,Deps:p,Sheets:a,SheetNames:u.SheetNames,Strings:Kx,Styles:A,Themes:l,SSF:da(vr)},e&&e.bookFiles&&(r.files?(g.keys=n,g.files=r.files):(g.keys=[],g.files={},r.FullPaths.forEach(function(q,ie){q=q.replace(/^Root Entry[\/]/,""),g.keys.push(q),g.files[q]=r.FileIndex[ie]}))),e&&e.bookVBA&&(i.vba.length>0?g.vbaraw=as(r,iA(i.vba[0]),!0):i.defaults&&i.defaults.bin===npe&&(g.vbaraw=as(r,"xl/vbaProject.bin",!0))),g}function G1e(r,e){var t=e||{},n="Workbook",i=Vr.find(r,n);try{if(n="/!DataSpaces/Version",i=Vr.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(Ode(i.content),n="/!DataSpaces/DataSpaceMap",i=Vr.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=Hde(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=Vr.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var a=Vde(i.content);if(a.length!=1||a[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=Vr.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);Kde(i.content)}catch{}if(n="/EncryptionInfo",i=Vr.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=zde(i.content);if(n="/EncryptedPackage",i=Vr.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],i.content,t.password||"",t);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],i.content,t.password||"",t);throw new Error("File is password-protected")}function UU(r,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];case"base64":t=$l(r.slice(0,12));break;case"binary":t=r;break;case"array":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function $1e(r,e){return Vr.find(r,"EncryptedPackage")?G1e(r,e):bq(r,e)}function q1e(r,e){var t,n=r,i=e||{};return i.type||(i.type=Mr&&Buffer.isBuffer(r)?"buffer":"base64"),t=g$(n,i),W1e(t,i)}function Sq(r,e){var t=0;e:for(;t<r.length;)switch(r.charCodeAt(t)){case 10:case 13:case 32:++t;break;case 60:return WL(r.slice(t),e);default:break e}return U_.to_workbook(r,e)}function X1e(r,e){var t="",n=UU(r,e);switch(e.type){case"base64":t=$l(r);break;case"binary":t=r;break;case"buffer":t=r.toString("binary");break;case"array":t=Qm(r);break;default:throw new Error("Unrecognized type "+e.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(t=zn(t)),e.type="binary",Sq(t,e)}function Y1e(r,e){var t=r;return e.type=="base64"&&(t=$l(t)),t=P_.utils.decode(1200,t.slice(2),"str"),e.type="binary",Sq(t,e)}function J1e(r){return r.match(/[^\x00-\x7F]/)?j2(r):r}function ok(r,e,t,n){return n?(t.type="string",U_.to_workbook(r,t)):U_.to_workbook(e,t)}function XL(r,e){JG();var t=e||{};if(typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer)return XL(new Uint8Array(r),(t=da(t),t.type="array",t));typeof Uint8Array<"u"&&r instanceof Uint8Array&&!t.type&&(t.type=typeof Deno<"u"?"buffer":"array");var n=r,i=[0,0,0,0],s=!1;if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),Bv={},t.dateNF&&(Bv.dateNF=t.dateNF),t.type||(t.type=Mr&&Buffer.isBuffer(r)?"buffer":"base64"),t.type=="file"&&(t.type=Mr?"buffer":"binary",n=Oue(r),typeof Uint8Array<"u"&&!Mr&&(t.type="array")),t.type=="string"&&(s=!0,t.type="binary",t.codepage=65001,n=J1e(r)),t.type=="array"&&typeof Uint8Array<"u"&&r instanceof Uint8Array&&typeof ArrayBuffer<"u"){var a=new ArrayBuffer(3),o=new Uint8Array(a);if(o.foo="bar",!o.foo)return t=da(t),t.type="array",XL(pU(n),t)}switch((i=UU(n,t))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return $1e(Vr.read(n,t),t);break;case 9:if(i[1]<=8)return bq(n,t);break;case 60:return WL(n,t);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return Bde(n,t);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return Ede.to_workbook(n,t);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?q1e(n,t):ok(r,n,t,s);case 239:return i[3]===60?WL(n,t):ok(r,n,t,s);case 255:if(i[1]===254)return Y1e(n,t);if(i[1]===0&&i[2]===2&&i[3]===0)return jx.to_workbook(n,t);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return jx.to_workbook(n,t);break;case 3:case 131:case 139:case 140:return EQ.to_workbook(n,t);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return n0e.to_workbook(n,t);break;case 10:case 13:case 32:return X1e(n,t);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return _de.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?EQ.to_workbook(n,t):ok(r,n,t,s)}function Z1e(r,e,t,n,i,s,a,o){var l=pa(t),A=o.defval,c=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),u=!0,h=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:t,enumerable:!1})}catch{h.__rowNum__=t}else h.__rowNum__=t;if(!a||r[t])for(var f=e.s.c;f<=e.e.c;++f){var g=a?r[t][f]:r[n[f]+l];if(g===void 0||g.t===void 0){if(A===void 0)continue;s[f]!=null&&(h[s[f]]=A);continue}var p=g.v;switch(g.t){case"z":if(p==null)break;continue;case"e":p=p==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(s[f]!=null){if(p==null)if(g.t=="e"&&p===null)h[s[f]]=null;else if(A!==void 0)h[s[f]]=A;else if(c&&p===null)h[s[f]]=null;else continue;else h[s[f]]=c&&(g.t!=="n"||g.t==="n"&&o.rawNumbers!==!1)?p:kf(g,p,o);p!=null&&(u=!1)}}return{row:h,isempty:u}}function YL(r,e){if(r==null||r["!ref"]==null)return[];var t={t:"n",v:0},n=0,i=1,s=[],a=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},A=e||{},c=A.range!=null?A.range:r["!ref"];switch(A.header===1?n=1:A.header==="A"?n=2:Array.isArray(A.header)?n=3:A.header==null&&(n=0),typeof c){case"string":l=Ni(c);break;case"number":l=Ni(r["!ref"]),l.s.r=c;break;default:l=c}n>0&&(i=0);var u=pa(l.s.r),h=[],f=[],g=0,p=0,v=Array.isArray(r),m=l.s.r,x=0,_={};v&&!r[m]&&(r[m]=[]);var S=A.skipHidden&&r["!cols"]||[],k=A.skipHidden&&r["!rows"]||[];for(x=l.s.c;x<=l.e.c;++x)if(!(S[x]||{}).hidden)switch(h[x]=Es(x),t=v?r[m][x]:r[h[x]+u],n){case 1:s[x]=x-l.s.c;break;case 2:s[x]=h[x];break;case 3:s[x]=A.header[x-l.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),o=a=kf(t,null,A),p=_[a]||0,!p)_[a]=1;else{do o=a+"_"+p++;while(_[o]);_[a]=p,_[o]=1}s[x]=o}for(m=l.s.r+i;m<=l.e.r;++m)if(!(k[m]||{}).hidden){var R=Z1e(r,l,m,h,n,s,v,A);(R.isempty===!1||(n===1?A.blankrows!==!1:A.blankrows))&&(f[g++]=R.row)}return f.length=g,f}var HQ=/"/g;function eve(r,e,t,n,i,s,a,o){for(var l=!0,A=[],c="",u=pa(t),h=e.s.c;h<=e.e.c;++h)if(n[h]){var f=o.dense?(r[t]||[])[h]:r[n[h]+u];if(f==null)c="";else if(f.v!=null){l=!1,c=""+(o.rawNumbers&&f.t=="n"?f.v:kf(f,null,o));for(var g=0,p=0;g!==c.length;++g)if((p=c.charCodeAt(g))===i||p===s||p===34||o.forceQuotes){c='"'+c.replace(HQ,'""')+'"';break}c=="ID"&&(c='"ID"')}else f.f!=null&&!f.F?(l=!1,c="="+f.f,c.indexOf(",")>=0&&(c='"'+c.replace(HQ,'""')+'"')):c="";A.push(c)}return o.blankrows===!1&&l?null:A.join(a)}function Tq(r,e){var t=[],n=e??{};if(r==null||r["!ref"]==null)return"";var i=Ni(r["!ref"]),s=n.FS!==void 0?n.FS:",",a=s.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),A=new RegExp((s=="|"?"\\|":s)+"+$"),c="",u=[];n.dense=Array.isArray(r);for(var h=n.skipHidden&&r["!cols"]||[],f=n.skipHidden&&r["!rows"]||[],g=i.s.c;g<=i.e.c;++g)(h[g]||{}).hidden||(u[g]=Es(g));for(var p=0,v=i.s.r;v<=i.e.r;++v)(f[v]||{}).hidden||(c=eve(r,i,v,u,a,l,s,n),c!=null&&(n.strip&&(c=c.replace(A,"")),(c||n.blankrows!==!1)&&t.push((p++?o:"")+c)));return delete n.dense,t.join("")}function tve(r,e){e||(e={}),e.FS="	",e.RS=`
`;var t=Tq(r,e);return t}function rve(r){var e="",t,n="";if(r==null||r["!ref"]==null)return[];var i=Ni(r["!ref"]),s="",a=[],o,l=[],A=Array.isArray(r);for(o=i.s.c;o<=i.e.c;++o)a[o]=Es(o);for(var c=i.s.r;c<=i.e.r;++c)for(s=pa(c),o=i.s.c;o<=i.e.c;++o)if(e=a[o]+s,t=A?(r[c]||[])[o]:r[e],n="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;n=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)n=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)n=""+t.v;else if(t.t=="b")n=t.v?"TRUE":"FALSE";else if(t.w!==void 0)n="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?n="'"+t.v:n=""+t.v}}l[l.length]=e+"="+n}return l}function Fq(r,e,t){var n=t||{},i=+!n.skipHeader,s=r||{},a=0,o=0;if(s&&n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?mo(n.origin):n.origin;a=l.r,o=l.c}var A,c={s:{c:0,r:0},e:{c:o,r:a+e.length-1+i}};if(s["!ref"]){var u=Ni(s["!ref"]);c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),a==-1&&(a=u.e.r+1,c.e.r=a+e.length-1+i)}else a==-1&&(a=0,c.e.r=e.length-1+i);var h=n.header||[],f=0;e.forEach(function(p,v){Ou(p).forEach(function(m){(f=h.indexOf(m))==-1&&(h[f=h.length]=m);var x=p[m],_="z",S="",k=lr({c:o+f,r:a+v+i});A=H_(s,k),x&&typeof x=="object"&&!(x instanceof Date)?s[k]=x:(typeof x=="number"?_="n":typeof x=="boolean"?_="b":typeof x=="string"?_="s":x instanceof Date?(_="d",n.cellDates||(_="n",x=bo(x)),S=n.dateNF||vr[14]):x===null&&n.nullError&&(_="e",x=0),A?(A.t=_,A.v=x,delete A.w,delete A.R,S&&(A.z=S)):s[k]=A={t:_,v:x},S&&(A.z=S))})}),c.e.c=Math.max(c.e.c,o+h.length-1);var g=pa(a);if(i)for(f=0;f<h.length;++f)s[Es(f+o)+g]={t:"s",v:h[f]};return s["!ref"]=jr(c),s}function nve(r,e){return Fq(null,r,e)}function H_(r,e,t){if(typeof e=="string"){if(Array.isArray(r)){var n=mo(e);return r[n.r]||(r[n.r]=[]),r[n.r][n.c]||(r[n.r][n.c]={t:"z"})}return r[e]||(r[e]={t:"z"})}return typeof e!="number"?H_(r,lr(e)):H_(r,lr({r:e,c:t||0}))}function ive(r,e){if(typeof e=="number"){if(e>=0&&r.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=r.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function MU(){return{SheetNames:[],Sheets:{}}}function OU(r,e,t,n){var i=1;if(!t)for(;i<=65535&&r.SheetNames.indexOf(t="Sheet"+i)!=-1;++i,t=void 0);if(!t||r.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&r.SheetNames.indexOf(t)>=0){var s=t.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var a=s&&s[1]||t;for(++i;i<=65535&&r.SheetNames.indexOf(t=a+i)!=-1;++i);}if(Vme(t),r.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return r.SheetNames.push(t),r.Sheets[t]=e,t}function sve(r,e,t){r.Workbook||(r.Workbook={}),r.Workbook.Sheets||(r.Workbook.Sheets=[]);var n=ive(r,e);switch(r.Workbook.Sheets[n]||(r.Workbook.Sheets[n]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}r.Workbook.Sheets[n].Hidden=t}function ave(r,e){return r.z=e,r}function Iq(r,e,t){return e?(r.l={Target:e},t&&(r.l.Tooltip=t)):delete r.l,r}function ove(r,e,t){return Iq(r,"#"+e,t)}function lve(r,e,t){r.c||(r.c=[]),r.c.push({t:e,a:t||"SheetJS"})}function Ave(r,e,t,n){for(var i=typeof e!="string"?e:Ni(e),s=typeof e=="string"?e:jr(e),a=i.s.r;a<=i.e.r;++a)for(var o=i.s.c;o<=i.e.c;++o){var l=H_(r,a,o);l.t="n",l.F=s,delete l.v,a==i.s.r&&o==i.s.c&&(l.f=t,n&&(l.D=!0))}return r}var cve={encode_col:Es,encode_row:pa,encode_cell:lr,encode_range:jr,decode_col:EU,decode_row:bU,split_cell:xhe,decode_cell:mo,decode_range:My,format_cell:kf,sheet_add_aoa:R$,sheet_add_json:Fq,sheet_add_dom:Eq,aoa_to_sheet:Oy,json_to_sheet:nve,table_to_sheet:Cq,table_to_book:B1e,sheet_to_csv:Tq,sheet_to_txt:tve,sheet_to_json:YL,sheet_to_html:C1e,sheet_to_formulae:rve,sheet_to_row_object_array:YL,sheet_get_cell:H_,book_new:MU,book_append_sheet:OU,book_set_sheet_visibility:sve,cell_set_number_format:ave,cell_set_hyperlink:Iq,cell_set_internal_link:ove,cell_add_comment:lve,sheet_set_array_formula:Ave,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const uo=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),JL=[.001,0,0,.001,0,0],lk=1.35,Ul={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},_d={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},V_="pdfjs_internal_editor_",dr={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Nr={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},uve={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Ys={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},HS={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},ns={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},D1={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},B4={ERRORS:0,WARNINGS:1,INFOS:5},j_={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},wB={moveTo:0,lineTo:1,curveTo:2,closePath:3},hve={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let S4=B4.WARNINGS;function fve(r){Number.isInteger(r)&&(S4=r)}function dve(){return S4}function T4(r){S4>=B4.INFOS&&console.info(`Info: ${r}`)}function Ar(r){S4>=B4.WARNINGS&&console.warn(`Warning: ${r}`)}function Dn(r){throw new Error(r)}function Ur(r,e){r||Dn(e)}function pve(r){switch(r==null?void 0:r.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function kq(r,e=null,t=null){if(!r)return null;if(t&&typeof r=="string"){if(t.addDefaultProtocol&&r.startsWith("www.")){const i=r.match(/\./g);(i==null?void 0:i.length)>=2&&(r=`http://${r}`)}if(t.tryConvertEncoding)try{r=yve(r)}catch{}}const n=e?URL.parse(r,e):URL.parse(r);return pve(n)?n:null}function Lq(r,e,t=!1){const n=URL.parse(r);return n?(n.hash=e,n.href):t&&kq(r,"http://example.com")?r.split("#",1)[0]+`${e?`#${e}`:""}`:""}function Er(r,e,t,n=!1){return Object.defineProperty(r,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const s1=function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class VQ extends s1{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Ak extends s1{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class ZL extends s1{constructor(e){super(e,"InvalidPDFException")}}class MT extends s1{constructor(e,t,n){super(e,"ResponseException"),this.status=t,this.missing=n}}class gve extends s1{constructor(e){super(e,"FormatError")}}class np extends s1{constructor(e){super(e,"AbortException")}}function Pq(r){(typeof r!="object"||(r==null?void 0:r.length)===void 0)&&Dn("Invalid argument for bytesToString");const e=r.length,t=8192;if(e<t)return String.fromCharCode.apply(null,r);const n=[];for(let i=0;i<e;i+=t){const s=Math.min(i+t,e),a=r.subarray(i,s);n.push(String.fromCharCode.apply(null,a))}return n.join("")}function uC(r){typeof r!="string"&&Dn("Invalid argument for stringToBytes");const e=r.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=r.charCodeAt(n)&255;return t}function mve(r){return String.fromCharCode(r>>24&255,r>>16&255,r>>8&255,r&255)}function vve(){const r=new Uint8Array(4);return r[0]=1,new Uint32Array(r.buffer,0,1)[0]===1}function wve(){try{return new Function(""),!0}catch{return!1}}class ga{static get isLittleEndian(){return Er(this,"isLittleEndian",vve())}static get isEvalSupported(){return Er(this,"isEvalSupported",wve())}static get isOffscreenCanvasSupported(){return Er(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Er(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return Er(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return Er(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const ck=Array.from(Array(256).keys(),r=>r.toString(16).padStart(2,"0"));var yf,VS,eP;class Tt{static makeHexColor(e,t,n){return`#${ck[e]}${ck[t]}${ck[n]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,n=0){const i=e[n],s=e[n+1];e[n]=i*t[0]+s*t[2]+t[4],e[n+1]=i*t[1]+s*t[3]+t[5]}static applyTransformToBezier(e,t,n=0){const i=t[0],s=t[1],a=t[2],o=t[3],l=t[4],A=t[5];for(let c=0;c<6;c+=2){const u=e[n+c],h=e[n+c+1];e[n+c]=u*i+h*a+l,e[n+c+1]=u*s+h*o+A}}static applyInverseTransform(e,t){const n=e[0],i=e[1],s=t[0]*t[3]-t[1]*t[2];e[0]=(n*t[3]-i*t[2]+t[2]*t[5]-t[4]*t[3])/s,e[1]=(-n*t[1]+i*t[0]+t[4]*t[1]-t[5]*t[0])/s}static axialAlignedBoundingBox(e,t,n){const i=t[0],s=t[1],a=t[2],o=t[3],l=t[4],A=t[5],c=e[0],u=e[1],h=e[2],f=e[3];let g=i*c+l,p=g,v=i*h+l,m=v,x=o*u+A,_=x,S=o*f+A,k=S;if(s!==0||a!==0){const R=s*c,B=s*h,E=a*u,b=a*f;g+=E,m+=E,v+=b,p+=b,x+=R,k+=R,S+=B,_+=B}n[0]=Math.min(n[0],g,v,p,m),n[1]=Math.min(n[1],x,S,_,k),n[2]=Math.max(n[2],g,v,p,m),n[3]=Math.max(n[3],x,S,_,k)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const n=e[0],i=e[1],s=e[2],a=e[3],o=n**2+i**2,l=n*s+i*a,A=s**2+a**2,c=(o+A)/2,u=Math.sqrt(c**2-(o*A-l**2));t[0]=Math.sqrt(c+u||1),t[1]=Math.sqrt(c-u||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>a?null:[n,s,i,a]}static pointBoundingBox(e,t,n){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}static rectBoundingBox(e,t,n,i,s){s[0]=Math.min(s[0],e,n),s[1]=Math.min(s[1],t,i),s[2]=Math.max(s[2],e,n),s[3]=Math.max(s[3],t,i)}static bezierBoundingBox(e,t,n,i,s,a,o,l,A){A[0]=Math.min(A[0],e,o),A[1]=Math.min(A[1],t,l),A[2]=Math.max(A[2],e,o),A[3]=Math.max(A[3],t,l),z(this,yf,eP).call(this,e,n,s,o,t,i,a,l,3*(-e+3*(n-s)+o),6*(e-2*n+s),3*(n-e),A),z(this,yf,eP).call(this,e,n,s,o,t,i,a,l,3*(-t+3*(i-a)+l),6*(t-2*i+a),3*(i-t),A)}}yf=new WeakSet,VS=function(e,t,n,i,s,a,o,l,A,c){if(A<=0||A>=1)return;const u=1-A,h=A*A,f=h*A,g=u*(u*(u*e+3*A*t)+3*h*n)+f*i,p=u*(u*(u*s+3*A*a)+3*h*o)+f*l;c[0]=Math.min(c[0],g),c[1]=Math.min(c[1],p),c[2]=Math.max(c[2],g),c[3]=Math.max(c[3],p)},eP=function(e,t,n,i,s,a,o,l,A,c,u,h){if(Math.abs(A)<1e-12){Math.abs(c)>=1e-12&&z(this,yf,VS).call(this,e,t,n,i,s,a,o,l,-u/c,h);return}const f=c**2-4*u*A;if(f<0)return;const g=Math.sqrt(f),p=2*A;z(this,yf,VS).call(this,e,t,n,i,s,a,o,l,(-c+g)/p,h),z(this,yf,VS).call(this,e,t,n,i,s,a,o,l,(-c-g)/p,h)},V(Tt,yf);function yve(r){return decodeURIComponent(escape(r))}let uk=null,jQ=null;function xve(r){return uk||(uk=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,jQ=new Map([["","t"]])),r.replaceAll(uk,(e,t,n)=>t?t.normalize("NFKC"):jQ.get(n))}function Rq(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const r=new Uint8Array(32);return crypto.getRandomValues(r),Pq(r)}const QU="pdfjs_internal_id_";function _ve(r,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[n,i,...s]=t;if(!r(n)&&!Number.isInteger(n)||!e(i))return!1;const a=s.length;let o=!0;switch(i.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;o=!1;break;default:return!1}for(const l of s)if(!(typeof l=="number"||o&&l===null))return!1;return!0}function ho(r,e,t){return Math.min(Math.max(r,e),t)}function Dq(r){return Uint8Array.prototype.toBase64?r.toBase64():btoa(Pq(r))}function bve(r){return Uint8Array.fromBase64?Uint8Array.fromBase64(r):uC(atob(r))}typeof Promise.try!="function"&&(Promise.try=function(r,...e){return new Promise(t=>{t(r(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(r){return r.reduce((e,t)=>e+t,0)});class K_{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function i(s){var l;if(!s)return;let a=null;const o=s.name;if(o==="#text")a=s.value;else if(K_.shouldBuildText(o))(l=s==null?void 0:s.attributes)!=null&&l.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&t.push({str:a}),!!s.children)for(const A of s.children)i(A)}return i(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class Nq{static setupStorage(e,t,n,i,s){const a=i.getValue(t,{value:null});switch(n.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(a.value===n.attributes.xfaOn?e.setAttribute("checked",!0):a.value===n.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",o=>{i.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of n.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,A=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(t,{value:A})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:i,linkService:s}){const{attributes:a}=t,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${i}`);for(const[l,A]of Object.entries(a))if(A!=null)switch(l){case"class":A.length&&e.setAttribute(l,A.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",A);break;case"style":Object.assign(e.style,A);break;case"textContent":e.textContent=A;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,A)}o&&s.addLinkAttributes(e,a.href,a.newWindow),n&&a.dataId&&this.setupStorage(e,a.dataId,t,n)}static render(e){var u,h;const t=e.annotationStorage,n=e.linkService,i=e.xfaHtml,s=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:s,linkService:n});const o=s!=="richText",l=e.div;if(l.append(a),e.viewport){const f=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=f}o&&l.setAttribute("class","xfaLayer xfaFont");const A=[];if(i.children.length===0){if(i.value){const f=document.createTextNode(i.value);a.append(f),o&&K_.shouldBuildText(i.name)&&A.push(f)}return{textDivs:A}}const c=[[i,-1,a]];for(;c.length>0;){const[f,g,p]=c.at(-1);if(g+1===f.children.length){c.pop();continue}const v=f.children[++c.at(-1)[1]];if(v===null)continue;const{name:m}=v;if(m==="#text"){const _=document.createTextNode(v.value);A.push(_),p.append(_);continue}const x=(u=v==null?void 0:v.attributes)!=null&&u.xmlns?document.createElementNS(v.attributes.xmlns,m):document.createElement(m);if(p.append(x),v.attributes&&this.setAttributes({html:x,element:v,storage:t,intent:s,linkService:n}),((h=v.children)==null?void 0:h.length)>0)c.push([v,-1,x]);else if(v.value){const _=document.createTextNode(v.value);o&&K_.shouldBuildText(m)&&A.push(_),x.append(_)}}for(const f of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))f.setAttribute("readOnly",!0);return{textDivs:A}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const uh="http://www.w3.org/2000/svg",qp=class qp{};Ce(qp,"CSS",96),Ce(qp,"PDF",72),Ce(qp,"PDF_TO_CSS_UNITS",qp.CSS/qp.PDF);let ip=qp;async function hC(r,e="text"){if(K2(r,document.baseURI)){const t=await fetch(r);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const i=new XMLHttpRequest;i.open("GET",r,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}n(new Error(i.statusText))}},i.send(null)})}class fC{constructor({viewBox:e,userUnit:t,scale:n,rotation:i,offsetX:s=0,offsetY:a=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=t,this.scale=n,this.rotation=i,this.offsetX=s,this.offsetY=a,n*=t;const l=(e[2]+e[0])/2,A=(e[3]+e[1])/2;let c,u,h,f;switch(i%=360,i<0&&(i+=360),i){case 180:c=-1,u=0,h=0,f=1;break;case 90:c=0,u=1,h=1,f=0;break;case 270:c=0,u=-1,h=-1,f=0;break;case 0:c=1,u=0,h=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(h=-h,f=-f);let g,p,v,m;c===0?(g=Math.abs(A-e[1])*n+s,p=Math.abs(l-e[0])*n+a,v=(e[3]-e[1])*n,m=(e[2]-e[0])*n):(g=Math.abs(l-e[0])*n+s,p=Math.abs(A-e[1])*n+a,v=(e[2]-e[0])*n,m=(e[3]-e[1])*n),this.transform=[c*n,u*n,h*n,f*n,g-c*n*l-h*n*A,p-u*n*l-f*n*A],this.width=v,this.height=m}get rawDims(){const e=this.viewBox;return Er(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new fC({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){const n=[e,t];return Tt.applyTransform(n,this.transform),n}convertToViewportRectangle(e){const t=[e[0],e[1]];Tt.applyTransform(t,this.transform);const n=[e[2],e[3]];return Tt.applyTransform(n,this.transform),[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){const n=[e,t];return Tt.applyInverseTransform(n,this.transform),n}}class HU extends s1{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function F4(r){const e=r.length;let t=0;for(;t<e&&r[t].trim()==="";)t++;return r.substring(t,t+5).toLowerCase()==="data:"}function VU(r){return typeof r=="string"&&/\.pdf$/i.test(r)}function Eve(r){return[r]=r.split(/[#?]/,1),r.substring(r.lastIndexOf("/")+1)}function Cve(r,e="document.pdf"){if(typeof r!="string")return e;if(F4(r))return Ar('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=(o=>{try{return new URL(o)}catch{try{return new URL(decodeURIComponent(o))}catch{try{return new URL(o,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(o),"https://foo.bar")}catch{return null}}}}})(r);if(!n)return e;const i=o=>{try{let l=decodeURIComponent(o);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:o):l}catch{return o}},s=/\.pdf$/i,a=n.pathname.split("/").at(-1);if(s.test(a))return i(a);if(n.searchParams.size>0){const o=Array.from(n.searchParams.values()).reverse();for(const A of o)if(s.test(A))return i(A);const l=Array.from(n.searchParams.keys()).reverse();for(const A of l)if(s.test(A))return i(A)}if(n.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(l)return i(l[0])}return e}class KQ{constructor(){Ce(this,"started",Object.create(null));Ce(this,"times",[])}time(e){e in this.started&&Ar(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Ar(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:i,end:s}of this.times)e.push(`${n.padEnd(t)} ${s-i}ms
`);return e.join("")}}function K2(r,e){const t=e?URL.parse(r,e):URL.parse(r);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function DA(r){r.preventDefault()}function Ri(r){r.preventDefault(),r.stopPropagation()}function Bve(r){console.log("Deprecated API usage: "+r)}var ab;class OT{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;d(this,ab)||M(this,ab,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=d(this,ab).exec(e);if(!t)return null;const n=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const A=t[7]||"Z";let c=parseInt(t[8],10);c=c>=0&&c<=23?c:0;let u=parseInt(t[9],10)||0;return u=u>=0&&u<=59?u:0,A==="-"?(a+=c,o+=u):A==="+"&&(a-=c,o-=u),new Date(Date.UTC(n,i,s,a,o,l))}}ab=new WeakMap,V(OT,ab);function Sve(r,{scale:e=1,rotation:t=0}){const{width:n,height:i}=r.attributes.style,s=[0,0,parseInt(n),parseInt(i)];return new fC({viewBox:s,userUnit:1,scale:e,rotation:t})}function dC(r){if(r.startsWith("#")){const e=parseInt(r.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return r.startsWith("rgb(")?r.slice(4,-1).split(",").map(e=>parseInt(e)):r.startsWith("rgba(")?r.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Ar(`Not a valid color format: "${r}"`),[0,0,0])}function Tve(r){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of r.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;r.set(t,dC(n))}e.remove()}function pi(r){const{a:e,b:t,c:n,d:i,e:s,f:a}=r.getTransform();return[e,t,n,i,s,a]}function Wc(r){const{a:e,b:t,c:n,d:i,e:s,f:a}=r.getTransform().invertSelf();return[e,t,n,i,s,a]}function Vm(r,e,t=!1,n=!0){if(e instanceof fC){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:a}=r,o=ga.isCSSRoundSupported,l=`var(--total-scale-factor) * ${i}px`,A=`var(--total-scale-factor) * ${s}px`,c=o?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,u=o?`round(down, ${A}, var(--scale-round-y))`:`calc(${A})`;!t||e.rotation%180===0?(a.width=c,a.height=u):(a.width=u,a.height=c)}n&&r.setAttribute("data-main-rotation",e.rotation)}class Qu{constructor(){const{pixelRatio:e}=Qu;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,n,i,s=-1){let a=1/0,o=1/0,l=1/0;n=Qu.capPixels(n,s),n>0&&(a=Math.sqrt(n/(e*t))),i!==-1&&(o=i/e,l=i/t);const A=Math.min(a,o,l);return this.sx>A||this.sy>A?(this.sx=A,this.sy=A,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,n):n}return e}}const tP=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class Fve{static get isDarkMode(){var e;return Er(this,"isDarkMode",!!((e=window==null?void 0:window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches))}}class Ive{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:n}=window.getComputedStyle(e);return e.remove(),Er(this,"commentForegroundColor",dC(n))}}function kve(r,e,t,n){n=Math.min(Math.max(n??1,0),1);const i=255*(1-n);return r=Math.round(r*n+i),e=Math.round(e*n+i),t=Math.round(t*n+i),[r,e,t]}function zQ(r,e){const t=r[0]/255,n=r[1]/255,i=r[2]/255,s=Math.max(t,n,i),a=Math.min(t,n,i),o=(s+a)/2;if(s===a)e[0]=e[1]=0;else{const l=s-a;switch(e[1]=o<.5?l/(s+a):l/(2-s-a),s){case t:e[0]=((n-i)/l+(n<i?6:0))*60;break;case n:e[0]=((i-t)/l+2)*60;break;case i:e[0]=((t-n)/l+4)*60;break}}e[2]=o}function rP(r,e){const t=r[0],n=r[1],i=r[2],s=(1-Math.abs(2*i-1))*n,a=s*(1-Math.abs(t/60%2-1)),o=i-s/2;switch(Math.floor(t/60)){case 0:e[0]=s+o,e[1]=a+o,e[2]=o;break;case 1:e[0]=a+o,e[1]=s+o,e[2]=o;break;case 2:e[0]=o,e[1]=s+o,e[2]=a+o;break;case 3:e[0]=o,e[1]=a+o,e[2]=s+o;break;case 4:e[0]=a+o,e[1]=o,e[2]=s+o;break;case 5:case 6:e[0]=s+o,e[1]=o,e[2]=a+o;break}}function WQ(r){return r<=.03928?r/12.92:((r+.055)/1.055)**2.4}function GQ(r,e,t){rP(r,t),t.map(WQ);const n=.2126*t[0]+.7152*t[1]+.0722*t[2];rP(e,t),t.map(WQ);const i=.2126*t[0]+.7152*t[1]+.0722*t[2];return n>i?(n+.05)/(i+.05):(i+.05)/(n+.05)}const $Q=new Map;function Lve(r,e){const t=r[0]+r[1]*256+r[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let n=$Q.get(t);if(n)return n;const i=new Float32Array(9),s=i.subarray(0,3),a=i.subarray(3,6);zQ(r,a);const o=i.subarray(6,9);zQ(e,o);const l=o[2]<.5,A=l?12:4.5;if(a[2]=l?Math.sqrt(a[2]):1-Math.sqrt(1-a[2]),GQ(a,o,s)<A){let c,u;l?(c=a[2],u=1):(c=0,u=a[2]);const h=.005;for(;u-c>h;){const f=a[2]=(c+u)/2;l===GQ(a,o,s)<A?c=f:u=f}a[2]=l?u:c}return rP(a,s),n=Tt.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),$Q.set(t,n),n}function Uq({html:r,dir:e,className:t},n){const i=document.createDocumentFragment();if(typeof r=="string"){const s=document.createElement("p");s.dir=e||"auto";const a=r.split(/(?:\r\n?|\n)/);for(let o=0,l=a.length;o<l;++o){const A=a[o];s.append(document.createTextNode(A)),o<l-1&&s.append(document.createElement("br"))}i.append(s)}else Nq.render({xfaHtml:r,div:i,intent:"richText"});i.firstChild.classList.add("richText",t),n.append(i)}var bd,Ed,uA,hA,ob,Cd,Nv,Uv,lb,_F,Mq,ca,Oq,Qq,N1,z2;const mh=class mh{constructor(e){V(this,ca);V(this,bd,null);V(this,Ed,null);V(this,uA);V(this,hA,null);V(this,ob,null);V(this,Cd,null);V(this,Nv,null);V(this,Uv,null);M(this,uA,e),d(mh,lb)||M(mh,lb,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=M(this,bd,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=d(this,uA)._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",DA,{signal:t}),e.addEventListener("pointerdown",z(mh,_F,Mq),{signal:t}));const n=M(this,hA,document.createElement("div"));n.className="buttons",e.append(n);const i=d(this,uA).toolbarPosition;if(i){const{style:s}=e,a=d(this,uA)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return d(this,bd)}hide(){var e;d(this,bd).classList.add("hidden"),(e=d(this,Ed))==null||e.hideDropdown()}show(){var e,t;d(this,bd).classList.remove("hidden"),(e=d(this,ob))==null||e.shown(),(t=d(this,Cd))==null||t.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=d(this,uA),n=document.createElement("button");n.classList.add("basic","deleteButton"),n.tabIndex=0,n.setAttribute("data-l10n-id",d(mh,lb)[e]),z(this,ca,N1).call(this,n)&&n.addEventListener("click",i=>{t.delete()},{signal:t._signal}),d(this,hA).append(n)}async addAltText(e){const t=await e.render();z(this,ca,N1).call(this,t),d(this,hA).append(t,d(this,ca,z2)),M(this,ob,e)}addComment(e,t=null){if(d(this,Cd))return;const n=e.renderForToolbar();if(!n)return;z(this,ca,N1).call(this,n);const i=M(this,Nv,d(this,ca,z2));t?(d(this,hA).insertBefore(n,t),d(this,hA).insertBefore(i,t)):d(this,hA).append(n,i),M(this,Cd,e),e.toolbar=this}addColorPicker(e){if(d(this,Ed))return;M(this,Ed,e);const t=e.renderButton();z(this,ca,N1).call(this,t),d(this,hA).append(t,d(this,ca,z2))}async addEditSignatureButton(e){const t=M(this,Uv,await e.renderEditButton(d(this,uA)));z(this,ca,N1).call(this,t),d(this,hA).append(t,d(this,ca,z2))}removeButton(e){var t,n;switch(e){case"comment":(t=d(this,Cd))==null||t.removeToolbarCommentButton(),M(this,Cd,null),(n=d(this,Nv))==null||n.remove(),M(this,Nv,null);break}}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(t);break}}async addButtonBefore(e,t,n){const i=d(this,hA).querySelector(n);i&&e==="comment"&&this.addComment(t,i)}updateEditSignatureButton(e){d(this,Uv)&&(d(this,Uv).title=e)}remove(){var e;d(this,bd).remove(),(e=d(this,Ed))==null||e.destroy(),M(this,Ed,null)}};bd=new WeakMap,Ed=new WeakMap,uA=new WeakMap,hA=new WeakMap,ob=new WeakMap,Cd=new WeakMap,Nv=new WeakMap,Uv=new WeakMap,lb=new WeakMap,_F=new WeakSet,Mq=function(e){e.stopPropagation()},ca=new WeakSet,Oq=function(e){d(this,uA)._focusEventsAllowed=!1,Ri(e)},Qq=function(e){d(this,uA)._focusEventsAllowed=!0,Ri(e)},N1=function(e){const t=d(this,uA)._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",z(this,ca,Oq).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",z(this,ca,Qq).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",DA,{signal:t}),!0)},z2=function(){const e=document.createElement("div");return e.className="divider",e},V(mh,_F),V(mh,lb,null);let nP=mh;var Ab,sg,_h,Rf,Hq,Vq,iP;class Pve{constructor(e){V(this,Rf);V(this,Ab,null);V(this,sg,null);V(this,_h);M(this,_h,e)}show(e,t,n){const[i,s]=z(this,Rf,Vq).call(this,t,n),{style:a}=d(this,sg)||M(this,sg,z(this,Rf,Hq).call(this));e.append(d(this,sg)),a.insetInlineEnd=`${100*i}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){d(this,sg).remove()}}Ab=new WeakMap,sg=new WeakMap,_h=new WeakMap,Rf=new WeakSet,Hq=function(){const e=M(this,sg,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=d(this,_h)._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",DA,{signal:t});const n=M(this,Ab,document.createElement("div"));return n.className="buttons",e.append(n),d(this,_h).hasCommentManager()&&z(this,Rf,iP).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{d(this,_h).commentSelection("floating_button")}),z(this,Rf,iP).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{d(this,_h).highlightSelection("floating_button")}),e},Vq=function(e,t){let n=0,i=0;for(const s of e){const a=s.y+s.height;if(a<n)continue;const o=s.x+(t?s.width:0);if(a>n){i=o,n=a;continue}t?o>i&&(i=o):o<i&&(i=o)}return[t?1-i:i,n]},iP=function(e,t,n,i){const s=document.createElement("button");s.classList.add("basic",e),s.tabIndex=0,s.setAttribute("data-l10n-id",t);const a=document.createElement("span");s.append(a),a.className="visuallyHidden",a.setAttribute("data-l10n-id",n);const o=d(this,_h)._signal;o instanceof AbortSignal&&!o.aborted&&(s.addEventListener("contextmenu",DA,{signal:o}),s.addEventListener("click",i,{signal:o})),d(this,Ab).append(s)};function jq(r,e,t){for(const n of t)e.addEventListener(n,r[n].bind(r))}var bF;class Rve{constructor(){V(this,bF,0)}get id(){return`${V_}${Hi(this,bF)._++}`}}bF=new WeakMap;var Mv,cb,Ia,Ov,jS;const BM=class BM{constructor(){V(this,Ov);V(this,Mv,Rq());V(this,cb,0);V(this,Ia,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(n.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Er(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:n,size:i,type:s}=e;return z(this,Ov,jS).call(this,`${t}_${n}_${i}_${s}`,e)}async getFromUrl(e){return z(this,Ov,jS).call(this,e,e)}async getFromBlob(e,t){const n=await t;return z(this,Ov,jS).call(this,e,n)}async getFromId(e){d(this,Ia)||M(this,Ia,new Map);const t=d(this,Ia).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){d(this,Ia)||M(this,Ia,new Map);let n=d(this,Ia).get(e);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),n={bitmap:i.transferToImageBitmap(),id:`image_${d(this,Mv)}_${Hi(this,cb)._++}`,refCounter:1,isSvg:!1},d(this,Ia).set(e,n),d(this,Ia).set(n.id,n),n}getSvgUrl(e){const t=d(this,Ia).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var i;d(this,Ia)||M(this,Ia,new Map);const t=d(this,Ia).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:n}=t;if(!t.url&&!t.file){const s=new OffscreenCanvas(n.width,n.height);s.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=s.convertToBlob()}(i=n.close)==null||i.call(n),t.bitmap=null}isValidId(e){return e.startsWith(`image_${d(this,Mv)}_`)}};Mv=new WeakMap,cb=new WeakMap,Ia=new WeakMap,Ov=new WeakSet,jS=async function(e,t){d(this,Ia)||M(this,Ia,new Map);let n=d(this,Ia).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${d(this,Mv)}_${Hi(this,cb)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(n.url=t,i=await hC(t,"blob")):t instanceof File?i=n.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){const s=BM._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((A,c)=>{o.onload=()=>{n.bitmap=o,n.isSvg=!0,A()},a.onload=async()=>{const u=n.svgUrl=a.result;o.src=await s?`${u}#svgView(preserveAspectRatio(none))`:u},o.onerror=a.onerror=c});a.readAsDataURL(i),await l}else n.bitmap=await createImageBitmap(i);n.refCounter=1}catch(i){Ar(i),n=null}return d(this,Ia).set(e,n),n&&d(this,Ia).set(n.id,n),n};let sP=BM;var Ki,Bd,ub,di;class Dve{constructor(e=128){V(this,Ki,[]);V(this,Bd,!1);V(this,ub);V(this,di,-1);M(this,ub,e)}add({cmd:e,undo:t,post:n,mustExec:i,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(i&&e(),d(this,Bd))return;const l={cmd:e,undo:t,post:n,type:s};if(d(this,di)===-1){d(this,Ki).length>0&&(d(this,Ki).length=0),M(this,di,0),d(this,Ki).push(l);return}if(a&&d(this,Ki)[d(this,di)].type===s){o&&(l.undo=d(this,Ki)[d(this,di)].undo),d(this,Ki)[d(this,di)]=l;return}const A=d(this,di)+1;A===d(this,ub)?d(this,Ki).splice(0,1):(M(this,di,A),A<d(this,Ki).length&&d(this,Ki).splice(A)),d(this,Ki).push(l)}undo(){if(d(this,di)===-1)return;M(this,Bd,!0);const{undo:e,post:t}=d(this,Ki)[d(this,di)];e(),t==null||t(),M(this,Bd,!1),M(this,di,d(this,di)-1)}redo(){if(d(this,di)<d(this,Ki).length-1){M(this,di,d(this,di)+1),M(this,Bd,!0);const{cmd:e,post:t}=d(this,Ki)[d(this,di)];e(),t==null||t(),M(this,Bd,!1)}}hasSomethingToUndo(){return d(this,di)!==-1}hasSomethingToRedo(){return d(this,di)<d(this,Ki).length-1}cleanType(e){if(d(this,di)!==-1){for(let t=d(this,di);t>=0;t--)if(d(this,Ki)[t].type!==e){d(this,Ki).splice(t+1,d(this,di)-t),M(this,di,t);return}d(this,Ki).length=0,M(this,di,-1)}}destroy(){M(this,Ki,null)}}Ki=new WeakMap,Bd=new WeakMap,ub=new WeakMap,di=new WeakMap;var EF,Kq;class pC{constructor(e){V(this,EF);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=ga.platform;for(const[n,i,s={}]of e)for(const a of n){const o=a.startsWith("mac+");t&&o?(this.callbacks.set(a.slice(4),{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1))):!t&&!o&&(this.callbacks.set(a,{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(z(this,EF,Kq).call(this,t));if(!n)return;const{callback:i,options:{bubbles:s=!1,args:a=[],checker:o=null}}=n;o&&!o(e,t)||(i.bind(e,...a,t)(),s||Ri(t))}}EF=new WeakSet,Kq=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const CF=class CF{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return Tve(e),Er(this,"_colors",e)}convert(e){const t=dC(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,i]of this._colors)if(i.every((s,a)=>s===t[a]))return CF._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?Tt.makeHexColor(...t):e}};Ce(CF,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let aP=CF;var Qv,wl,Hv,Si,vs,Vv,fA,jv,dA,ka,Sd,Td,Kv,Fd,ru,pA,ag,hb,fb,zv,db,nu,Id,Wv,kd,iu,BF,Ld,Gv,pb,Pd,og,$v,Rd,gb,ss,hn,bh,Dd,Nd,mb,qv,vb,Ud,su,Eh,wb,yb,gA,dt,KS,oP,zq,Wq,W2,Gq,$q,qq,lP,Xq,AP,cP,Yq,so,hh,Jq,Zq,uP,eX,G2,hP;const cv=class cv{constructor(e,t,n,i,s,a,o,l,A,c,u,h,f,g,p,v){V(this,dt);V(this,Qv,new AbortController);V(this,wl,null);V(this,Hv,null);V(this,Si,new Map);V(this,vs,new Map);V(this,Vv,null);V(this,fA,null);V(this,jv,null);V(this,dA,new Dve);V(this,ka,null);V(this,Sd,null);V(this,Td,null);V(this,Kv,0);V(this,Fd,new Set);V(this,ru,null);V(this,pA,null);V(this,ag,new Set);Ce(this,"_editorUndoBar",null);V(this,hb,!1);V(this,fb,!1);V(this,zv,!1);V(this,db,null);V(this,nu,null);V(this,Id,null);V(this,Wv,null);V(this,kd,!1);V(this,iu,null);V(this,BF,new Rve);V(this,Ld,!1);V(this,Gv,!1);V(this,pb,!1);V(this,Pd,null);V(this,og,null);V(this,$v,null);V(this,Rd,null);V(this,gb,null);V(this,ss,dr.NONE);V(this,hn,new Set);V(this,bh,null);V(this,Dd,null);V(this,Nd,null);V(this,mb,null);V(this,qv,null);V(this,vb,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});V(this,Ud,[0,0]);V(this,su,null);V(this,Eh,null);V(this,wb,null);V(this,yb,null);V(this,gA,null);const m=this._signal=d(this,Qv).signal;M(this,Eh,e),M(this,wb,t),M(this,yb,n),M(this,Vv,i),M(this,ka,s),M(this,Dd,a),M(this,qv,l),this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:m}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:m}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:m}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:m}),o._on("setpreference",this.onSetPreference.bind(this),{signal:m}),o._on("switchannotationeditorparams",x=>this.updateParams(x.type,x.value),{signal:m}),window.addEventListener("pointerdown",()=>{M(this,Gv,!0)},{capture:!0,signal:m}),window.addEventListener("pointerup",()=>{M(this,Gv,!1)},{capture:!0,signal:m}),z(this,dt,Gq).call(this),z(this,dt,Yq).call(this),z(this,dt,lP).call(this),M(this,fA,l.annotationStorage),M(this,db,l.filterFactory),M(this,Nd,A),M(this,Wv,c||null),M(this,hb,u),M(this,fb,h),M(this,zv,f),M(this,gb,g||null),this.viewParameters={realScale:ip.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=p||null,this._supportsPinchToZoom=v!==!1,s==null||s.setSidebarUiManager(this)}static get _keyboardManager(){const e=cv.prototype,t=a=>d(a,Eh).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),n=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Er(this,"_keyboardManager",new pC([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&d(a,Eh).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&d(a,Eh).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,n,i,s,a,o,l,A;(e=d(this,gA))==null||e.resolve(),M(this,gA,null),(t=d(this,Qv))==null||t.abort(),M(this,Qv,null),this._signal=null;for(const c of d(this,vs).values())c.destroy();d(this,vs).clear(),d(this,Si).clear(),d(this,ag).clear(),(n=d(this,Rd))==null||n.clear(),M(this,wl,null),d(this,hn).clear(),d(this,dA).destroy(),(i=d(this,Vv))==null||i.destroy(),(s=d(this,ka))==null||s.destroy(),(a=d(this,Dd))==null||a.destroy(),(o=d(this,iu))==null||o.hide(),M(this,iu,null),(l=d(this,$v))==null||l.destroy(),M(this,$v,null),M(this,Hv,null),d(this,nu)&&(clearTimeout(d(this,nu)),M(this,nu,null)),d(this,su)&&(clearTimeout(d(this,su)),M(this,su,null)),(A=this._editorUndoBar)==null||A.destroy(),M(this,qv,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return d(this,gb)}get useNewAltTextFlow(){return d(this,fb)}get useNewAltTextWhenAddingImage(){return d(this,zv)}get hcmFilter(){return Er(this,"hcmFilter",d(this,Nd)?d(this,db).addHCMFilter(d(this,Nd).foreground,d(this,Nd).background):"none")}get direction(){return Er(this,"direction",getComputedStyle(d(this,Eh)).direction)}get _highlightColors(){return Er(this,"_highlightColors",d(this,Wv)?new Map(d(this,Wv).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return Er(this,"highlightColors",null);const t=new Map,n=!!d(this,Nd);for(const[i,s]of e){const a=i.endsWith("_HCM");if(n&&a){t.set(i.replace("_HCM",""),s);continue}!n&&!a&&t.set(i,s)}return Er(this,"highlightColors",t)}get highlightColorNames(){return Er(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),M(this,Td,e)}setMainHighlightColorPicker(e){M(this,$v,e)}editAltText(e,t=!1){var n;(n=d(this,Vv))==null||n.editAltText(this,e,t)}hasCommentManager(){return!!d(this,ka)}editComment(e,t,n,i){var s;(s=d(this,ka))==null||s.showDialog(this,e,t,n,i)}selectComment(e,t){const n=d(this,vs).get(e),i=n==null?void 0:n.getEditorByUID(t);i==null||i.toggleComment(!0,!0)}updateComment(e){var t;(t=d(this,ka))==null||t.updateComment(e.getData())}updatePopupColor(e){var t;(t=d(this,ka))==null||t.updatePopupColor(e)}removeComment(e){var t;(t=d(this,ka))==null||t.removeComments([e.uid])}toggleComment(e,t,n=void 0){var i;(i=d(this,ka))==null||i.toggleCommentPopup(e,t,n)}makeCommentColor(e,t){var n;return e&&((n=d(this,ka))==null?void 0:n.makeCommentColor(e,t))||null}getCommentDialogElement(){var e;return((e=d(this,ka))==null?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(d(this,vs).has(e-1))return;const{resolve:t,promise:n}=Promise.withResolvers(),i=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",i),t())};this._eventBus.on("editorsrendered",i),await n}getSignature(e){var t;(t=d(this,Dd))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return d(this,Dd)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":M(this,zv,t);break}}onPageChanging({pageNumber:e}){M(this,Kv,e-1)}focusMainContainer(){d(this,Eh).focus()}findParent(e,t){for(const n of d(this,vs).values()){const{x:i,y:s,width:a,height:o}=n.div.getBoundingClientRect();if(e>=i&&e<=i+a&&t>=s&&t<=s+o)return n}return null}disableUserSelect(e=!1){d(this,wb).classList.toggle("noUserSelect",e)}addShouldRescale(e){d(this,ag).add(e)}removeShouldRescale(e){d(this,ag).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*ip.PDF_TO_CSS_UNITS;for(const n of d(this,ag))n.onScaleChanging();(t=d(this,Td))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",t=!1){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:o}=n,l=n.toString(),c=z(this,dt,KS).call(this,n).closest(".textLayer"),u=this.getSelectionBoxes(c);if(!u)return;n.empty();const h=z(this,dt,oP).call(this,c),f=d(this,ss)===dr.NONE,g=()=>{const p=h==null?void 0:h.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:u,anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:o,text:l});f&&this.showAllEditors("highlight",!0,!0),t&&(p==null||p.editComment())};if(f){this.switchToMode(dr.HIGHLIGHT,g);return}g()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!d(this,fA))return null;const t=`${V_}${e}`,n=d(this,fA).getRawValue(t);return n&&d(this,fA).remove(t),n}addToAnnotationStorage(e){!e.isEmpty()&&d(this,fA)&&!d(this,fA).has(e.id)&&d(this,fA).setValue(e.id,e)}a11yAlert(e,t=null){const n=d(this,yb);n&&(n.setAttribute("data-l10n-id",e),t?n.setAttribute("data-l10n-args",JSON.stringify(t)):n.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,d(this,kd)&&(M(this,kd,!1),z(this,dt,W2).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of d(this,hn))if(t.div.contains(e)){M(this,og,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!d(this,og))return;const[e,t]=d(this,og);M(this,og,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){z(this,dt,lP).call(this),z(this,dt,AP).call(this)}removeEditListeners(){z(this,dt,Xq).call(this),z(this,dt,cP).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of d(this,pA))if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of d(this,pA))if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=d(this,wl))==null||n.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of d(this,hn)){const s=i.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const a of d(this,pA))if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(s){Ar(`paste: "${s.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of n){const A=await i.deserialize(l);if(!A)return;s.push(A)}const a=()=>{for(const l of s)z(this,dt,uP).call(this,l);z(this,dt,hP).call(this,s)},o=()=>{for(const l of s)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(s){Ar(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),d(this,ss)!==dr.NONE&&!this.isEditorHandlingKeyboard&&cv._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,d(this,kd)&&(M(this,kd,!1),z(this,dt,W2).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(z(this,dt,$q).call(this),z(this,dt,AP).call(this),z(this,dt,so).call(this,{isEditing:d(this,ss)!==dr.NONE,isEmpty:z(this,dt,G2).call(this),hasSomethingToUndo:d(this,dA).hasSomethingToUndo(),hasSomethingToRedo:d(this,dA).hasSomethingToRedo(),hasSelectedEditor:!1})):(z(this,dt,qq).call(this),z(this,dt,cP).call(this),z(this,dt,so).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!d(this,pA)){M(this,pA,e);for(const t of d(this,pA))z(this,dt,hh).call(this,t.defaultPropertiesToUpdate)}}getId(){return d(this,BF).id}get currentLayer(){return d(this,vs).get(d(this,Kv))}getLayer(e){return d(this,vs).get(e)}get currentPageIndex(){return d(this,Kv)}addLayer(e){d(this,vs).set(e.pageIndex,e),d(this,Ld)?e.enable():e.disable()}removeLayer(e){d(this,vs).delete(e.pageIndex)}async updateMode(e,t=null,n=!1,i=!1,s=!1){var a,o,l,A,c,u;if(d(this,ss)!==e&&!(d(this,gA)&&(await d(this,gA).promise,!d(this,gA)))){if(M(this,gA,Promise.withResolvers()),(a=d(this,Td))==null||a.commitOrRemove(),d(this,ss)===dr.POPUP&&((o=d(this,ka))==null||o.hideSidebar()),(l=d(this,ka))==null||l.destroyPopup(),M(this,ss,e),e===dr.NONE){this.setEditingState(!1),z(this,dt,Zq).call(this);for(const h of d(this,Si).values())h.hideStandaloneCommentButton();(A=this._editorUndoBar)==null||A.hide(),this.toggleComment(null),d(this,gA).resolve();return}for(const h of d(this,Si).values())h.addStandaloneCommentButton();e===dr.SIGNATURE&&await((c=d(this,Dd))==null?void 0:c.loadSignatures()),this.setEditingState(!0),await z(this,dt,Jq).call(this),this.unselectAll();for(const h of d(this,vs).values())h.updateMode(e);if(e===dr.POPUP){d(this,Hv)||M(this,Hv,await d(this,qv).getAnnotationsByType(new Set(d(this,pA).map(g=>g._editorType))));const h=new Set,f=[];for(const g of d(this,Si).values()){const{annotationElementId:p,hasComment:v,deleted:m}=g;p&&h.add(p),v&&!m&&f.push(g.getData())}for(const g of d(this,Hv)){const{id:p,popupRef:v,contentsObj:m}=g;v&&(m!=null&&m.str)&&!h.has(p)&&!d(this,Fd).has(p)&&f.push(g)}(u=d(this,ka))==null||u.showSidebar(f)}if(!t){n&&this.addNewEditorFromKeyboard(),d(this,gA).resolve();return}for(const h of d(this,Si).values())h.uid===t?(this.setSelected(h),s?h.editComment():i?h.enterInEditMode():h.focus()):h.unselect();d(this,gA).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==d(this,ss)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(d(this,pA)){switch(e){case Nr.CREATE:this.currentLayer.addNewEditor(t);return;case Nr.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(d(this,mb)||M(this,mb,new Map)).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const n of d(this,hn))n.updateParams(e,t);else for(const n of d(this,pA))n.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){var s;for(const a of d(this,Si).values())a.editorType===e&&a.show(t);(((s=d(this,mb))==null?void 0:s.get(Nr.HIGHLIGHT_SHOW_ALL))??!0)!==t&&z(this,dt,hh).call(this,[[Nr.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(d(this,pb)!==e){M(this,pb,e);for(const t of d(this,vs).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}*getEditors(e){for(const t of d(this,Si).values())t.pageIndex===e&&(yield t)}getEditor(e){return d(this,Si).get(e)}addEditor(e){d(this,Si).set(e.id,e)}removeEditor(e){var t,n;e.div.contains(document.activeElement)&&(d(this,nu)&&clearTimeout(d(this,nu)),M(this,nu,setTimeout(()=>{this.focusMainContainer(),M(this,nu,null)},0))),d(this,Si).delete(e.id),e.annotationElementId&&((t=d(this,Rd))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!d(this,Fd).has(e.annotationElementId))&&((n=d(this,fA))==null||n.remove(e.id))}addDeletedAnnotationElement(e){d(this,Fd).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return d(this,Fd).has(e)}removeDeletedAnnotationElement(e){d(this,Fd).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){d(this,wl)!==e&&(M(this,wl,e),e&&z(this,dt,hh).call(this,e.propertiesToUpdate))}updateUI(e){d(this,dt,eX)===e&&z(this,dt,hh).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){z(this,dt,hh).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(d(this,hn).has(e)){d(this,hn).delete(e),e.unselect(),z(this,dt,so).call(this,{hasSelectedEditor:this.hasSelection});return}d(this,hn).add(e),e.select(),z(this,dt,hh).call(this,e.propertiesToUpdate),z(this,dt,so).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.id}),(t=d(this,Td))==null||t.commitOrRemove();for(const n of d(this,hn))n!==e&&n.unselect();d(this,hn).clear(),d(this,hn).add(e),e.select(),z(this,dt,hh).call(this,e.propertiesToUpdate),z(this,dt,so).call(this,{hasSelectedEditor:!0})}isSelected(e){return d(this,hn).has(e)}get firstSelectedEditor(){return d(this,hn).values().next().value}unselect(e){e.unselect(),d(this,hn).delete(e),z(this,dt,so).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return d(this,hn).size!==0}get isEnterHandled(){return d(this,hn).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;d(this,dA).undo(),z(this,dt,so).call(this,{hasSomethingToUndo:d(this,dA).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:z(this,dt,G2).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){d(this,dA).redo(),z(this,dt,so).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:d(this,dA).hasSomethingToRedo(),isEmpty:z(this,dt,G2).call(this)})}addCommands(e){d(this,dA).add(e),z(this,dt,so).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:z(this,dt,G2).call(this)})}cleanUndoStack(e){d(this,dA).cleanType(e)}delete(){var s;this.commitOrRemove();const e=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...d(this,hn)],n=()=>{var a;(a=this._editorUndoBar)==null||a.show(i,t.length===1?t[0].editorType:t.length);for(const o of t)o.remove()},i=()=>{for(const a of t)z(this,dt,uP).call(this,a)};this.addCommands({cmd:n,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=d(this,wl))==null||e.commitOrRemove()}hasSomethingToControl(){return d(this,wl)||this.hasSelection}selectAll(){for(const e of d(this,hn))e.commit();z(this,dt,hP).call(this,d(this,Si).values())}unselectAll(){var e;if(!(d(this,wl)&&(d(this,wl).commitOrRemove(),d(this,ss)!==dr.NONE))&&!((e=d(this,Td))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of d(this,hn))t.unselect();d(this,hn).clear(),z(this,dt,so).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;d(this,Ud)[0]+=e,d(this,Ud)[1]+=t;const[i,s]=d(this,Ud),a=[...d(this,hn)],o=1e3;d(this,su)&&clearTimeout(d(this,su)),M(this,su,setTimeout(()=>{M(this,su,null),d(this,Ud)[0]=d(this,Ud)[1]=0,this.addCommands({cmd:()=>{for(const l of a)d(this,Si).has(l.id)&&(l.translateInPage(i,s),l.translationDone())},undo:()=>{for(const l of a)d(this,Si).has(l.id)&&(l.translateInPage(-i,-s),l.translationDone())},mustExec:!1})},o));for(const l of a)l.translateInPage(e,t),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),M(this,ru,new Map);for(const e of d(this,hn))d(this,ru).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!d(this,ru))return!1;this.disableUserSelect(!1);const e=d(this,ru);M(this,ru,null);let t=!1;for(const[{x:i,y:s,pageIndex:a},o]of e)o.newX=i,o.newY=s,o.newPageIndex=a,t||(t=i!==o.savedX||s!==o.savedY||a!==o.savedPageIndex);if(!t)return!1;const n=(i,s,a,o)=>{if(d(this,Si).has(i.id)){const l=d(this,vs).get(o);l?i._setParentAndPosition(l,s,a):(i.pageIndex=o,i.x=s,i.y=a)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:a,newPageIndex:o}]of e)n(i,s,a,o)},undo:()=>{for(const[i,{savedX:s,savedY:a,savedPageIndex:o}]of e)n(i,s,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(d(this,ru))for(const n of d(this,ru).keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||d(this,hn).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return d(this,wl)===e}getActive(){return d(this,wl)}getMode(){return d(this,ss)}isEditingMode(){return d(this,ss)!==dr.NONE}get imageManager(){return Er(this,"imageManager",new sP)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let A=0,c=t.rangeCount;A<c;A++)if(!e.contains(t.getRangeAt(A).commonAncestorContainer))return null;const{x:n,y:i,width:s,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(A,c,u,h)=>({x:(c-i)/a,y:1-(A+u-n)/s,width:h/a,height:u/s});break;case"180":o=(A,c,u,h)=>({x:1-(A+u-n)/s,y:1-(c+h-i)/a,width:u/s,height:h/a});break;case"270":o=(A,c,u,h)=>({x:1-(c+h-i)/a,y:(A-n)/s,width:h/a,height:u/s});break;default:o=(A,c,u,h)=>({x:(A-n)/s,y:(c-i)/a,width:u/s,height:h/a});break}const l=[];for(let A=0,c=t.rangeCount;A<c;A++){const u=t.getRangeAt(A);if(!u.collapsed)for(const{x:h,y:f,width:g,height:p}of u.getClientRects())g===0||p===0||l.push(o(h,f,g,p))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(d(this,jv)||M(this,jv,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=d(this,jv))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=d(this,jv))==null?void 0:i.get(e.data.id);if(!t)return;const n=d(this,fA).getRawValue(t);n&&(d(this,ss)===dr.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}setMissingCanvas(e,t,n){var s;const i=(s=d(this,Rd))==null?void 0:s.get(e);i&&(i.setCanvas(t,n),d(this,Rd).delete(e))}addMissingCanvas(e,t){(d(this,Rd)||M(this,Rd,new Map)).set(e,t)}};Qv=new WeakMap,wl=new WeakMap,Hv=new WeakMap,Si=new WeakMap,vs=new WeakMap,Vv=new WeakMap,fA=new WeakMap,jv=new WeakMap,dA=new WeakMap,ka=new WeakMap,Sd=new WeakMap,Td=new WeakMap,Kv=new WeakMap,Fd=new WeakMap,ru=new WeakMap,pA=new WeakMap,ag=new WeakMap,hb=new WeakMap,fb=new WeakMap,zv=new WeakMap,db=new WeakMap,nu=new WeakMap,Id=new WeakMap,Wv=new WeakMap,kd=new WeakMap,iu=new WeakMap,BF=new WeakMap,Ld=new WeakMap,Gv=new WeakMap,pb=new WeakMap,Pd=new WeakMap,og=new WeakMap,$v=new WeakMap,Rd=new WeakMap,gb=new WeakMap,ss=new WeakMap,hn=new WeakMap,bh=new WeakMap,Dd=new WeakMap,Nd=new WeakMap,mb=new WeakMap,qv=new WeakMap,vb=new WeakMap,Ud=new WeakMap,su=new WeakMap,Eh=new WeakMap,wb=new WeakMap,yb=new WeakMap,gA=new WeakMap,dt=new WeakSet,KS=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},oP=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of d(this,vs).values())if(n.hasTextLayer(e))return n;return null},zq=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=z(this,dt,KS).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(n);i&&(d(this,iu)||M(this,iu,new Pve(this)),d(this,iu).show(n,i,this.direction==="ltr"))},Wq=function(){var s,a,o;const e=document.getSelection();if(!e||e.isCollapsed){d(this,bh)&&((s=d(this,iu))==null||s.hide(),M(this,bh,null),z(this,dt,so).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===d(this,bh))return;const i=z(this,dt,KS).call(this,e).closest(".textLayer");if(!i){d(this,bh)&&((a=d(this,iu))==null||a.hide(),M(this,bh,null),z(this,dt,so).call(this,{hasSelectedText:!1}));return}if((o=d(this,iu))==null||o.hide(),M(this,bh,t),z(this,dt,so).call(this,{hasSelectedText:!0}),!(d(this,ss)!==dr.HIGHLIGHT&&d(this,ss)!==dr.NONE)&&(d(this,ss)===dr.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),M(this,kd,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=d(this,ss)===dr.HIGHLIGHT?z(this,dt,oP).call(this,i):null;if(l==null||l.toggleDrawing(),d(this,Gv)){const A=new AbortController,c=this.combinedSignal(A),u=h=>{h.type==="pointerup"&&h.button!==0||(A.abort(),l==null||l.toggleDrawing(!0),h.type==="pointerup"&&z(this,dt,W2).call(this,"main_toolbar"))};window.addEventListener("pointerup",u,{signal:c}),window.addEventListener("blur",u,{signal:c})}else l==null||l.toggleDrawing(!0),z(this,dt,W2).call(this,"main_toolbar")}},W2=function(e=""){d(this,ss)===dr.HIGHLIGHT?this.highlightSelection(e):d(this,hb)&&z(this,dt,zq).call(this)},Gq=function(){document.addEventListener("selectionchange",z(this,dt,Wq).bind(this),{signal:this._signal})},$q=function(){if(d(this,Id))return;M(this,Id,new AbortController);const e=this.combinedSignal(d(this,Id));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},qq=function(){var e;(e=d(this,Id))==null||e.abort(),M(this,Id,null)},lP=function(){if(d(this,Pd))return;M(this,Pd,new AbortController);const e=this.combinedSignal(d(this,Pd));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},Xq=function(){var e;(e=d(this,Pd))==null||e.abort(),M(this,Pd,null)},AP=function(){if(d(this,Sd))return;M(this,Sd,new AbortController);const e=this.combinedSignal(d(this,Sd));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},cP=function(){var e;(e=d(this,Sd))==null||e.abort(),M(this,Sd,null)},Yq=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},so=function(e){Object.entries(e).some(([n,i])=>d(this,vb)[n]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(d(this,vb),e)}),d(this,ss)===dr.HIGHLIGHT&&e.hasSelectedEditor===!1&&z(this,dt,hh).call(this,[[Nr.HIGHLIGHT_FREE,!0]]))},hh=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},Jq=async function(){if(!d(this,Ld)){M(this,Ld,!0);const e=[];for(const t of d(this,vs).values())e.push(t.enable());await Promise.all(e);for(const t of d(this,Si).values())t.enable()}},Zq=function(){if(this.unselectAll(),d(this,Ld)){M(this,Ld,!1);for(const e of d(this,vs).values())e.disable();for(const e of d(this,Si).values())e.disable()}},uP=function(e){const t=d(this,vs).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},eX=function(){let e=null;for(e of d(this,hn));return e},G2=function(){if(d(this,Si).size===0)return!0;if(d(this,Si).size===1)for(const e of d(this,Si).values())return e.isEmpty();return!1},hP=function(e){for(const t of d(this,hn))t.unselect();d(this,hn).clear();for(const t of e)t.isEmpty()||(d(this,hn).add(t),t.select());z(this,dt,so).call(this,{hasSelectedEditor:this.hasSelection})},Ce(cv,"TRANSLATE_SMALL",1),Ce(cv,"TRANSLATE_BIG",10);let jm=cv;var Ls,au,tc,Xv,ou,yl,Yv,lu,Mo,Ch,lg,Au,Md,yc,$2,zS;const ao=class ao{constructor(e){V(this,yc);V(this,Ls,null);V(this,au,!1);V(this,tc,null);V(this,Xv,null);V(this,ou,null);V(this,yl,null);V(this,Yv,!1);V(this,lu,null);V(this,Mo,null);V(this,Ch,null);V(this,lg,null);V(this,Au,!1);M(this,Mo,e),M(this,Au,e._uiManager.useNewAltTextFlow),d(ao,Md)||M(ao,Md,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){ao._l10n??(ao._l10n=e)}async render(){const e=M(this,tc,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=M(this,Xv,document.createElement("span"));e.append(t),d(this,Au)?(e.classList.add("new"),e.setAttribute("data-l10n-id",d(ao,Md).missing),t.setAttribute("data-l10n-id",d(ao,Md)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=d(this,Mo)._uiManager._signal;e.addEventListener("contextmenu",DA,{signal:n}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:n});const i=s=>{s.preventDefault(),d(this,Mo)._uiManager.editAltText(d(this,Mo)),d(this,Au)&&d(this,Mo)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:d(this,yc,$2)}})};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(M(this,Yv,!0),i(s))},{signal:n}),await z(this,yc,zS).call(this),e}finish(){d(this,tc)&&(d(this,tc).focus({focusVisible:d(this,Yv)}),M(this,Yv,!1))}isEmpty(){return d(this,Au)?d(this,Ls)===null:!d(this,Ls)&&!d(this,au)}hasData(){return d(this,Au)?d(this,Ls)!==null||!!d(this,Ch):this.isEmpty()}get guessedText(){return d(this,Ch)}async setGuessedText(e){d(this,Ls)===null&&(M(this,Ch,e),M(this,lg,await ao._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),z(this,yc,zS).call(this))}toggleAltTextBadge(e=!1){var t;if(!d(this,Au)||d(this,Ls)){(t=d(this,lu))==null||t.remove(),M(this,lu,null);return}if(!d(this,lu)){const n=M(this,lu,document.createElement("div"));n.className="noAltTextBadge",d(this,Mo).div.append(n)}d(this,lu).classList.toggle("hidden",!e)}serialize(e){let t=d(this,Ls);return!e&&d(this,Ch)===t&&(t=d(this,lg)),{altText:t,decorative:d(this,au),guessedText:d(this,Ch),textWithDisclaimer:d(this,lg)}}get data(){return{altText:d(this,Ls),decorative:d(this,au)}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:i,cancel:s=!1}){n&&(M(this,Ch,n),M(this,lg,i)),!(d(this,Ls)===e&&d(this,au)===t)&&(s||(M(this,Ls,e),M(this,au,t)),z(this,yc,zS).call(this))}toggle(e=!1){d(this,tc)&&(!e&&d(this,yl)&&(clearTimeout(d(this,yl)),M(this,yl,null)),d(this,tc).disabled=!e)}shown(){d(this,Mo)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:d(this,yc,$2)}})}destroy(){var e,t;(e=d(this,tc))==null||e.remove(),M(this,tc,null),M(this,Xv,null),M(this,ou,null),(t=d(this,lu))==null||t.remove(),M(this,lu,null)}};Ls=new WeakMap,au=new WeakMap,tc=new WeakMap,Xv=new WeakMap,ou=new WeakMap,yl=new WeakMap,Yv=new WeakMap,lu=new WeakMap,Mo=new WeakMap,Ch=new WeakMap,lg=new WeakMap,Au=new WeakMap,Md=new WeakMap,yc=new WeakSet,$2=function(){return d(this,Ls)&&"added"||d(this,Ls)===null&&this.guessedText&&"review"||"missing"},zS=async function(){var i,s,a;const e=d(this,tc);if(!e)return;if(d(this,Au)){if(e.classList.toggle("done",!!d(this,Ls)),e.setAttribute("data-l10n-id",d(ao,Md)[d(this,yc,$2)]),(i=d(this,Xv))==null||i.setAttribute("data-l10n-id",d(ao,Md)[`${d(this,yc,$2)}-label`]),!d(this,Ls)){(s=d(this,ou))==null||s.remove();return}}else{if(!d(this,Ls)&&!d(this,au)){e.classList.remove("done"),(a=d(this,ou))==null||a.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=d(this,ou);if(!t){M(this,ou,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${d(this,Mo).id}`;const o=100,l=d(this,Mo)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(d(this,yl)),M(this,yl,null)},{once:!0}),e.addEventListener("mouseenter",()=>{M(this,yl,setTimeout(()=>{M(this,yl,null),d(this,ou).classList.add("show"),d(this,Mo)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:l}),e.addEventListener("mouseleave",()=>{var A;d(this,yl)&&(clearTimeout(d(this,yl)),M(this,yl,null)),(A=d(this,ou))==null||A.classList.remove("show")},{signal:l})}d(this,au)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=d(this,Ls)),t.parentNode||e.append(t);const n=d(this,Mo).getElementForAltText();n==null||n.setAttribute("aria-describedby",t.id)},V(ao,Md,null),Ce(ao,"_l10n",null);let QT=ao;var Js,mA,Ag,Qn,xb,cg,rc,ug,hg,fg,_b,fP;class yB{constructor(e){V(this,_b);V(this,Js,null);V(this,mA,null);V(this,Ag,!1);V(this,Qn,null);V(this,xb,null);V(this,cg,null);V(this,rc,null);V(this,ug,null);V(this,hg,!1);V(this,fg,null);M(this,Qn,e)}renderForToolbar(){const e=M(this,mA,document.createElement("button"));return e.className="comment",z(this,_b,fP).call(this,e,!1)}renderForStandalone(){const e=M(this,Js,document.createElement("button"));e.className="annotationCommentButton";const t=d(this,Qn).commentButtonPosition;if(t){const{style:n}=e;n.insetInlineEnd=`calc(${100*(d(this,Qn)._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,n.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const i=d(this,Qn).commentButtonColor;i&&(n.backgroundColor=i)}return z(this,_b,fP).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;(e=d(this,Js)??d(this,mA))==null||e.focus()},0)}onUpdatedColor(){if(!d(this,Js))return;const e=d(this,Qn).commentButtonColor;e&&(d(this,Js).style.backgroundColor=e),d(this,Qn)._uiManager.updatePopupColor(d(this,Qn))}get commentButtonWidth(){var e;return(((e=d(this,Js))==null?void 0:e.getBoundingClientRect().width)??0)/d(this,Qn).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(d(this,fg))return d(this,fg);if(!d(this,Js))return null;const{x:e,y:t,height:n}=d(this,Js).getBoundingClientRect(),{x:i,y:s,width:a,height:o}=d(this,Qn).parent.boundingClientRect;return[(e-i)/a,(t+n-s)/o]}set commentPopupPositionInLayer(e){M(this,fg,e)}hasDefaultPopupPosition(){return d(this,fg)===null}removeStandaloneCommentButton(){var e;(e=d(this,Js))==null||e.remove(),M(this,Js,null)}removeToolbarCommentButton(){var e;(e=d(this,mA))==null||e.remove(),M(this,mA,null)}setCommentButtonStates({selected:e,hasPopup:t}){d(this,Js)&&(d(this,Js).classList.toggle("selected",e),d(this,Js).ariaExpanded=t)}edit(e){const t=this.commentPopupPositionInLayer;let n,i;if(t)[n,i]=t;else{[n,i]=d(this,Qn).commentButtonPosition;const{width:c,height:u,x:h,y:f}=d(this,Qn);n=h+n*c,i=f+i*u}const s=d(this,Qn).parent.boundingClientRect,{x:a,y:o,width:l,height:A}=s;d(this,Qn)._uiManager.editComment(d(this,Qn),a+n*l,o+i*A,{...e,parentDimensions:s})}finish(){d(this,mA)&&(d(this,mA).focus({focusVisible:d(this,Ag)}),M(this,Ag,!1))}isDeleted(){return d(this,hg)||d(this,rc)===""}isEmpty(){return d(this,rc)===null}hasBeenEdited(){return this.isDeleted()||d(this,rc)!==d(this,xb)}serialize(){return this.data}get data(){return{text:d(this,rc),richText:d(this,cg),date:d(this,ug),deleted:this.isDeleted()}}set data(e){if(e!==d(this,rc)&&M(this,cg,null),e===null){M(this,rc,""),M(this,hg,!0);return}M(this,rc,e),M(this,ug,new Date),M(this,hg,!1)}setInitialText(e,t=null){M(this,xb,e),this.data=e,M(this,ug,null),M(this,cg,t)}shown(){}destroy(){var e,t;(e=d(this,mA))==null||e.remove(),M(this,mA,null),(t=d(this,Js))==null||t.remove(),M(this,Js,null),M(this,rc,""),M(this,cg,null),M(this,ug,null),M(this,Qn,null),M(this,Ag,!1),M(this,hg,!1)}}Js=new WeakMap,mA=new WeakMap,Ag=new WeakMap,Qn=new WeakMap,xb=new WeakMap,cg=new WeakMap,rc=new WeakMap,ug=new WeakMap,hg=new WeakMap,fg=new WeakMap,_b=new WeakSet,fP=function(e,t){if(!d(this,Qn)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[d(this,Qn)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const n=d(this,Qn)._uiManager._signal;if(!(n instanceof AbortSignal)||n.aborted)return e;e.addEventListener("contextmenu",DA,{signal:n}),t&&(e.addEventListener("focusin",s=>{d(this,Qn)._focusEventsAllowed=!1,Ri(s)},{capture:!0,signal:n}),e.addEventListener("focusout",s=>{d(this,Qn)._focusEventsAllowed=!0,Ri(s)},{capture:!0,signal:n})),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:n});const i=s=>{s.preventDefault(),e===d(this,mA)?this.edit():d(this,Qn).toggleComment(!0)};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(M(this,Ag,!0),i(s))},{signal:n}),e.addEventListener("pointerenter",()=>{d(this,Qn).toggleComment(!1,!0)},{signal:n}),e.addEventListener("pointerleave",()=>{d(this,Qn).toggleComment(!1,!1)},{signal:n}),e};var Jv,dg,bb,Eb,Cb,Bb,Sb,Bh,pg,Sh,gg,Th,Ap,tX,rX,nX;const SM=class SM{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:n=null,onPinchStart:i=null,onPinching:s=null,onPinchEnd:a=null,signal:o}){V(this,Ap);V(this,Jv);V(this,dg,!1);V(this,bb,null);V(this,Eb);V(this,Cb);V(this,Bb);V(this,Sb);V(this,Bh,null);V(this,pg);V(this,Sh,null);V(this,gg);V(this,Th,null);M(this,Jv,e),M(this,bb,n),M(this,Eb,t),M(this,Cb,i),M(this,Bb,s),M(this,Sb,a),M(this,gg,new AbortController),M(this,pg,AbortSignal.any([o,d(this,gg).signal])),e.addEventListener("touchstart",z(this,Ap,tX).bind(this),{passive:!1,signal:d(this,pg)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Qu.pixelRatio}destroy(){var e,t;(e=d(this,gg))==null||e.abort(),M(this,gg,null),(t=d(this,Bh))==null||t.abort(),M(this,Bh,null)}};Jv=new WeakMap,dg=new WeakMap,bb=new WeakMap,Eb=new WeakMap,Cb=new WeakMap,Bb=new WeakMap,Sb=new WeakMap,Bh=new WeakMap,pg=new WeakMap,Sh=new WeakMap,gg=new WeakMap,Th=new WeakMap,Ap=new WeakSet,tX=function(e){var i,s,a;if((i=d(this,Eb))!=null&&i.call(this))return;if(e.touches.length===1){if(d(this,Bh))return;const o=M(this,Bh,new AbortController),l=AbortSignal.any([d(this,pg),o.signal]),A=d(this,Jv),c={capture:!0,signal:l,passive:!1},u=h=>{var f;h.pointerType==="touch"&&((f=d(this,Bh))==null||f.abort(),M(this,Bh,null))};A.addEventListener("pointerdown",h=>{h.pointerType==="touch"&&(Ri(h),u(h))},c),A.addEventListener("pointerup",u,c),A.addEventListener("pointercancel",u,c);return}if(!d(this,Th)){M(this,Th,new AbortController);const o=AbortSignal.any([d(this,pg),d(this,Th).signal]),l=d(this,Jv),A={signal:o,capture:!1,passive:!1};l.addEventListener("touchmove",z(this,Ap,rX).bind(this),A);const c=z(this,Ap,nX).bind(this);l.addEventListener("touchend",c,A),l.addEventListener("touchcancel",c,A),A.capture=!0,l.addEventListener("pointerdown",Ri,A),l.addEventListener("pointermove",Ri,A),l.addEventListener("pointercancel",Ri,A),l.addEventListener("pointerup",Ri,A),(s=d(this,Cb))==null||s.call(this)}if(Ri(e),e.touches.length!==2||(a=d(this,bb))!=null&&a.call(this)){M(this,Sh,null);return}let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]),M(this,Sh,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:n.screenX,touch1Y:n.screenY})},rX=function(e){var S;if(!d(this,Sh)||e.touches.length!==2)return;Ri(e);let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]);const{screenX:i,screenY:s}=t,{screenX:a,screenY:o}=n,l=d(this,Sh),{touch0X:A,touch0Y:c,touch1X:u,touch1Y:h}=l,f=u-A,g=h-c,p=a-i,v=o-s,m=Math.hypot(p,v)||1,x=Math.hypot(f,g)||1;if(!d(this,dg)&&Math.abs(x-m)<=SM.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=i,l.touch0Y=s,l.touch1X=a,l.touch1Y=o,!d(this,dg)){M(this,dg,!0);return}const _=[(i+a)/2,(s+o)/2];(S=d(this,Bb))==null||S.call(this,_,x,m)},nX=function(e){var t;e.touches.length>=2||(d(this,Th)&&(d(this,Th).abort(),M(this,Th,null),(t=d(this,Sb))==null||t.call(this)),d(this,Sh)&&(Ri(e),M(this,Sh,null),M(this,dg,!1)))};let HT=SM;var mg,nc,ni,In,Fh,Zv,Od,Tb,Zs,vg,Ih,cu,Qd,Fb,wg,xl,Ib,yg,kh,uu,ew,tw,vA,xg,kb,SF,Xt,dP,Lb,pP,WS,iX,sX,gP,GS,mP,aX,oX,lX,vP,AX,wP,cX,uX,hX,yP,q2;const fr=class fr{constructor(e){V(this,Xt);V(this,mg,null);V(this,nc,null);V(this,ni,null);V(this,In,null);V(this,Fh,null);V(this,Zv,!1);V(this,Od,null);V(this,Tb,"");V(this,Zs,null);V(this,vg,null);V(this,Ih,null);V(this,cu,null);V(this,Qd,null);V(this,Fb,"");V(this,wg,!1);V(this,xl,null);V(this,Ib,!1);V(this,yg,!1);V(this,kh,!1);V(this,uu,null);V(this,ew,0);V(this,tw,0);V(this,vA,null);V(this,xg,null);Ce(this,"isSelected",!1);Ce(this,"_isCopy",!1);Ce(this,"_editToolbar",null);Ce(this,"_initialOptions",Object.create(null));Ce(this,"_initialData",null);Ce(this,"_isVisible",!0);Ce(this,"_uiManager",null);Ce(this,"_focusEventsAllowed",!0);V(this,kb,!1);V(this,SF,fr._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:i,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[s,a];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=fr.prototype._resizeWithKeyboard,t=jm.TRANSLATE_SMALL,n=jm.TRANSLATE_BIG;return Er(this,"_resizerKeyboardManager",new pC([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],fr.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Er(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new Nve({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(fr._l10n??(fr._l10n=e),fr._l10nResizer||(fr._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),fr._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);fr._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Dn("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return d(this,kb)}set _isDraggable(e){var t;M(this,kb,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=d(this,SF)}setParent(e){var t;e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(z(this,Xt,q2).call(this),(t=d(this,cu))==null||t.remove(),M(this,cu,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(d(this,wg)?M(this,wg,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,i){const[s,a]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(e+n)/s,this.y=(t+i)/a,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[n,i]=this.parentDimensions;this.setAt(e*n,t*i,this.width*n,this.height*i),this._onTranslated()}translate(e,t){z(this,Xt,dP).call(this,this.parentDimensions,e,t)}translateInPage(e,t){d(this,xl)||M(this,xl,[this.x,this.y,this.width,this.height]),z(this,Xt,dP).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){d(this,xl)||M(this,xl,[this.x,this.y,this.width,this.height]);const{div:n,parentDimensions:[i,s]}=this;if(this.x+=e/i,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:u,y:h}=this.div.getBoundingClientRect();this.parent.findNewParent(this,u,h)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:o}=this;const[l,A]=this.getBaseTranslation();a+=l,o+=A;const{style:c}=n;c.left=`${(100*a).toFixed(2)}%`,c.top=`${(100*o).toFixed(2)}%`,this._onTranslating(a,o),n.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!d(this,xl)&&(d(this,xl)[0]!==this.x||d(this,xl)[1]!==this.y)}get _hasBeenResized(){return!!d(this,xl)&&(d(this,xl)[2]!==this.width||d(this,xl)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=fr,i=n/e,s=n/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[n,i]}=this;let{x:s,y:a,width:o,height:l}=this;if(o*=n,l*=i,s*=n,a*=i,this._mustFixPosition)switch(e){case 0:s=ho(s,0,n-o),a=ho(a,0,i-l);break;case 90:s=ho(s,0,n-l),a=ho(a,o,i);break;case 180:s=ho(s,o,n),a=ho(a,l,i);break;case 270:s=ho(s,l,n),a=ho(a,0,i-o);break}this.x=s/=n,this.y=a/=i;const[A,c]=this.getBaseTranslation();s+=A,a+=c,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var n;return z(n=fr,Lb,pP).call(n,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var n;return z(n=fr,Lb,pP).call(n,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(){const{div:{style:e},width:t,height:n}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*n).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=d(this,ni))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||d(this,yg))return this._editToolbar;this._editToolbar=new nP(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,n]of e)await this._editToolbar.addButton(t,n);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;(e=this._editToolbar)==null||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;(e=this._editToolbar)==null||e.removeButton("comment")}removeEditToolbar(){var e,t;(e=this._editToolbar)==null||e.remove(),this._editToolbar=null,(t=d(this,ni))==null||t.destroy()}addContainer(e){var n;const t=(n=this._editToolbar)==null?void 0:n.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return d(this,ni)||(QT.initialize(fr._l10n),M(this,ni,new QT(this)),d(this,mg)&&(d(this,ni).data=d(this,mg),M(this,mg,null))),d(this,ni)}get altTextData(){var e;return(e=d(this,ni))==null?void 0:e.data}set altTextData(e){d(this,ni)&&(d(this,ni).data=e)}get guessedAltText(){var e;return(e=d(this,ni))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=d(this,ni))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=d(this,ni))==null?void 0:t.serialize(e)}hasAltText(){return!!d(this,ni)&&!d(this,ni).isEmpty()}hasAltTextData(){var e;return((e=d(this,ni))==null?void 0:e.hasData())??!1}focusCommentButton(){var e;(e=d(this,In))==null||e.focusButton()}addCommentButton(){return d(this,In)||M(this,In,new yB(this))}addStandaloneCommentButton(){if(d(this,Fh)){this._uiManager.isEditingMode()&&d(this,Fh).classList.remove("hidden");return}this.hasComment&&(M(this,Fh,d(this,In).renderForStandalone()),this.div.append(d(this,Fh)))}removeStandaloneCommentButton(){d(this,In).removeStandaloneCommentButton(),M(this,Fh,null)}hideStandaloneCommentButton(){var e;(e=d(this,Fh))==null||e.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:n,deleted:i}}=d(this,In);return{text:t,richText:e,date:n,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){d(this,In)||M(this,In,new yB(this)),d(this,In).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:n}){if(!t||(d(this,In)||M(this,In,new yB(this)),d(this,In).setInitialText(e,n),!this.annotationElementId))return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){var e;return(e=d(this,In))==null?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return(e=d(this,In))==null?void 0:e.isDeleted()}get hasComment(){return!!d(this,In)&&!d(this,In).isEmpty()&&!d(this,In).isDeleted()}async editComment(e){d(this,In)||M(this,In,new yB(this)),d(this,In).edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){d(this,In).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,i]=e.rect,[s]=this.pageDimensions,[a]=this.pageTranslation,o=a+s+1,l=i-100,A=o+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[o,l,A,i]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){d(this,In).data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var a;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=d(this,Zv)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),z(this,Xt,wP).call(this);const[t,n]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*n/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/n).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),jq(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(d(this,xg)||M(this,xg,new HT({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:z(this,Xt,aX).bind(this),onPinching:z(this,Xt,oX).bind(this),onPinchEnd:z(this,Xt,lX).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(a=this._uiManager._editorUndoBar)==null||a.hide(),e}pointerdown(e){const{isMac:t}=ga.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(M(this,wg,!0),this._isDraggable){z(this,Xt,AX).call(this,e);return}z(this,Xt,vP).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){d(this,uu)&&clearTimeout(d(this,uu)),M(this,uu,setTimeout(()=>{var e;M(this,uu,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,n=this.rotation){const i=this.parentScale,[s,a]=this.pageDimensions,[o,l]=this.pageTranslation,A=e/i,c=t/i,u=this.x*s,h=this.y*a,f=this.width*s,g=this.height*a;switch(n){case 0:return[u+A+o,a-h-c-g+l,u+A+f+o,a-h-c+l];case 90:return[u+c+o,a-h+A+l,u+c+g+o,a-h+A+f+l];case 180:return[u-A-f+o,a-h+c+l,u-A+o,a-h+c+g+l];case 270:return[u-c-g+o,a-h-A-f+l,u-c+o,a-h-A+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,i,s,a]=e,o=s-n,l=a-i;switch(this.rotation){case 0:return[n,t-a,o,l];case 90:return[n,t-i,l,o];case 180:return[s,t-i,o,l];case 270:return[s,t-a,l,o];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&fr._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;(e=d(this,In))==null||e.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:n,opacity:i,deleted:s,richText:a},uid:o,pageIndex:l,creationDate:A,modificationDate:c}=this;return{id:o,pageIndex:l,rect:this.getPDFRect(),richText:a,contentsObj:{str:e},creationDate:A,modificationDate:n||c,popupRef:!s,color:t,opacity:i}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),M(this,yg,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),M(this,yg,!1),!0):!1}isInEditMode(){return d(this,yg)}shouldGetKeyboardEvents(){return d(this,kh)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:n,right:i}=this.getClientDimensions(),{innerHeight:s,innerWidth:a}=window;return t<a&&i>0&&e<s&&n>0}rebuild(){z(this,Xt,wP).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){var n;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((n=this._initialData)==null?void 0:n.popupRef)||""}}static async deserialize(e,t,n){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});i.rotation=e.rotation,M(i,mg,e.accessibilityData),i._isCopy=e.isCopy||!1;const[s,a]=i.pageDimensions,[o,l,A,c]=i.getRectInCurrentCoords(e.rect,a);return i.x=o/s,i.y=l/a,i.width=A/s,i.height=c/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t;if((e=d(this,Qd))==null||e.abort(),M(this,Qd,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),d(this,uu)&&(clearTimeout(d(this,uu)),M(this,uu,null)),z(this,Xt,q2).call(this),this.removeEditToolbar(),d(this,vA)){for(const n of d(this,vA).values())clearTimeout(n);M(this,vA,null)}this.parent=null,(t=d(this,xg))==null||t.destroy(),M(this,xg,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(z(this,Xt,iX).call(this),d(this,Zs).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[n,i,s,a]=this.getPDFRect();return[fr._round(n+(s-n)*e),fr._round(i+(a-i)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return d(this,In).commentPopupPositionInLayer}set commentPopupPosition(e){d(this,In).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return d(this,In).hasDefaultPopupPosition()}get commentButtonWidth(){return d(this,In).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){d(this,In).setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),M(this,Ih,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=d(this,Zs).children;if(!d(this,nc)){M(this,nc,Array.from(t));const a=z(this,Xt,cX).bind(this),o=z(this,Xt,uX).bind(this),l=this._uiManager._signal;for(const A of d(this,nc)){const c=A.getAttribute("data-resizer-name");A.setAttribute("role","spinbutton"),A.addEventListener("keydown",a,{signal:l}),A.addEventListener("blur",o,{signal:l}),A.addEventListener("focus",z(this,Xt,hX).bind(this,c),{signal:l}),A.setAttribute("data-l10n-id",fr._l10nResizer[c])}}const n=d(this,nc)[0];let i=0;for(const a of t){if(a===n)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(d(this,nc).length/4);if(s!==i){if(s<i)for(let o=0;o<i-s;o++)d(this,Zs).append(d(this,Zs).firstChild);else if(s>i)for(let o=0;o<s-i;o++)d(this,Zs).firstChild.before(d(this,Zs).lastChild);let a=0;for(const o of t){const A=d(this,nc)[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",fr._l10nResizer[A])}}z(this,Xt,yP).call(this,0),M(this,kh,!0),d(this,Zs).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){d(this,kh)&&z(this,Xt,mP).call(this,d(this,Fb),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){z(this,Xt,q2).call(this),this.div.focus()}select(){var e,t,n;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,s;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(t=this._editToolbar)==null||t.show(),(n=d(this,ni))==null||n.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return(e=this.div)==null?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,t,n,i,s;this.isSelected&&(this.isSelected=!1,(e=d(this,Zs))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(s=d(this,ni))==null||s.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return d(this,Ib)}set isEditing(e){M(this,Ib,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){d(this,vA)||M(this,vA,new Map);const{action:n}=e;let i=d(this,vA).get(n);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),d(this,vA).delete(n),d(this,vA).size===0&&M(this,vA,null)},fr._telemetryTimeout),d(this,vA).set(n,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),M(this,Zv,!1)}disable(){this.div&&(this.div.tabIndex=-1),M(this,Zv,!0)}updateFakeAnnotationElement(e){if(!d(this,cu)&&!this.deleted){M(this,cu,e.addFakeAnnotation(this));return}if(this.deleted){d(this,cu).remove(),M(this,cu,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&d(this,cu).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};mg=new WeakMap,nc=new WeakMap,ni=new WeakMap,In=new WeakMap,Fh=new WeakMap,Zv=new WeakMap,Od=new WeakMap,Tb=new WeakMap,Zs=new WeakMap,vg=new WeakMap,Ih=new WeakMap,cu=new WeakMap,Qd=new WeakMap,Fb=new WeakMap,wg=new WeakMap,xl=new WeakMap,Ib=new WeakMap,yg=new WeakMap,kh=new WeakMap,uu=new WeakMap,ew=new WeakMap,tw=new WeakMap,vA=new WeakMap,xg=new WeakMap,kb=new WeakMap,SF=new WeakMap,Xt=new WeakSet,dP=function([e,t],n,i){[n,i]=this.screenToPageTranslation(n,i),this.x+=n/e,this.y+=i/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},Lb=new WeakSet,pP=function(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},WS=function(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}},iX=function(){if(d(this,Zs))return;M(this,Zs,document.createElement("div")),d(this,Zs).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const i=document.createElement("div");d(this,Zs).append(i),i.classList.add("resizer",n),i.setAttribute("data-resizer-name",n),i.addEventListener("pointerdown",z(this,Xt,sX).bind(this,n),{signal:t}),i.addEventListener("contextmenu",DA,{signal:t}),i.tabIndex=-1}this.div.prepend(d(this,Zs))},sX=function(e,t){var c;t.preventDefault();const{isMac:n}=ga.platform;if(t.button!==0||t.ctrlKey&&n)return;(c=d(this,ni))==null||c.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,M(this,vg,[t.screenX,t.screenY]);const s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",z(this,Xt,mP).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",Ri,{passive:!1,signal:a}),window.addEventListener("contextmenu",DA,{signal:a}),M(this,Ih,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const A=()=>{var u;s.abort(),this.parent.togglePointerEvents(!0),(u=d(this,ni))==null||u.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=o,this.div.style.cursor=l,z(this,Xt,GS).call(this)};window.addEventListener("pointerup",A,{signal:a}),window.addEventListener("blur",A,{signal:a})},gP=function(e,t,n,i){this.width=n,this.height=i,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()},GS=function(){if(!d(this,Ih))return;const{savedX:e,savedY:t,savedWidth:n,savedHeight:i}=d(this,Ih);M(this,Ih,null);const s=this.x,a=this.y,o=this.width,l=this.height;s===e&&a===t&&o===n&&l===i||this.addCommands({cmd:z(this,Xt,gP).bind(this,s,a,o,l),undo:z(this,Xt,gP).bind(this,e,t,n,i),mustExec:!0})},mP=function(e,t){const[n,i]=this.parentDimensions,s=this.x,a=this.y,o=this.width,l=this.height,A=fr.MIN_SIZE/n,c=fr.MIN_SIZE/i,u=z(this,Xt,WS).call(this,this.rotation),h=(oe,te)=>[u[0]*oe+u[2]*te,u[1]*oe+u[3]*te],f=z(this,Xt,WS).call(this,360-this.rotation),g=(oe,te)=>[f[0]*oe+f[2]*te,f[1]*oe+f[3]*te];let p,v,m=!1,x=!1;switch(e){case"topLeft":m=!0,p=(oe,te)=>[0,0],v=(oe,te)=>[oe,te];break;case"topMiddle":p=(oe,te)=>[oe/2,0],v=(oe,te)=>[oe/2,te];break;case"topRight":m=!0,p=(oe,te)=>[oe,0],v=(oe,te)=>[0,te];break;case"middleRight":x=!0,p=(oe,te)=>[oe,te/2],v=(oe,te)=>[0,te/2];break;case"bottomRight":m=!0,p=(oe,te)=>[oe,te],v=(oe,te)=>[0,0];break;case"bottomMiddle":p=(oe,te)=>[oe/2,te],v=(oe,te)=>[oe/2,0];break;case"bottomLeft":m=!0,p=(oe,te)=>[0,te],v=(oe,te)=>[oe,0];break;case"middleLeft":x=!0,p=(oe,te)=>[0,te/2],v=(oe,te)=>[oe,te/2];break}const _=p(o,l),S=v(o,l);let k=h(...S);const R=fr._round(s+k[0]),B=fr._round(a+k[1]);let E=1,b=1,I,T;if(t.fromKeyboard)({deltaX:I,deltaY:T}=t);else{const{screenX:oe,screenY:te}=t,[re,W]=d(this,vg);[I,T]=this.screenToPageTranslation(oe-re,te-W),d(this,vg)[0]=oe,d(this,vg)[1]=te}if([I,T]=g(I/n,T/i),m){const oe=Math.hypot(o,l);E=b=Math.max(Math.min(Math.hypot(S[0]-_[0]-I,S[1]-_[1]-T)/oe,1/o,1/l),A/o,c/l)}else x?E=ho(Math.abs(S[0]-_[0]-I),A,1)/o:b=ho(Math.abs(S[1]-_[1]-T),c,1)/l;const F=fr._round(o*E),D=fr._round(l*b);k=h(...v(F,D));const q=R-k[0],ie=B-k[1];d(this,xl)||M(this,xl,[this.x,this.y,this.width,this.height]),this.width=F,this.height=D,this.x=q,this.y=ie,this.setDims(),this.fixAndSetPosition(),this._onResizing()},aX=function(){var e;M(this,Ih,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=d(this,ni))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},oX=function(e,t,n){let s=.7*(n/t)+1-.7;if(s===1)return;const a=z(this,Xt,WS).call(this,this.rotation),o=(R,B)=>[a[0]*R+a[2]*B,a[1]*R+a[3]*B],[l,A]=this.parentDimensions,c=this.x,u=this.y,h=this.width,f=this.height,g=fr.MIN_SIZE/l,p=fr.MIN_SIZE/A;s=Math.max(Math.min(s,1/h,1/f),g/h,p/f);const v=fr._round(h*s),m=fr._round(f*s);if(v===h&&m===f)return;d(this,xl)||M(this,xl,[c,u,h,f]);const x=o(h/2,f/2),_=fr._round(c+x[0]),S=fr._round(u+x[1]),k=o(v/2,m/2);this.x=_-k[0],this.y=S-k[1],this.width=v,this.height=m,this.setDims(),this.fixAndSetPosition(),this._onResizing()},lX=function(){var e;(e=d(this,ni))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),z(this,Xt,GS).call(this)},vP=function(e){const{isMac:t}=ga.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},AX=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let n=!1;const i=new AbortController,s=this._uiManager.combinedSignal(i),a={capture:!0,passive:!1,signal:s},o=A=>{i.abort(),M(this,Od,null),M(this,wg,!1),this._uiManager.endDragSession()||z(this,Xt,vP).call(this,A),n&&this._onStopDragging()};t&&(M(this,ew,e.clientX),M(this,tw,e.clientY),M(this,Od,e.pointerId),M(this,Tb,e.pointerType),window.addEventListener("pointermove",A=>{n||(n=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:c,clientY:u,pointerId:h}=A;if(h!==d(this,Od)){Ri(A);return}const[f,g]=this.screenToPageTranslation(c-d(this,ew),u-d(this,tw));M(this,ew,c),M(this,tw,u),this._uiManager.dragSelectedEditors(f,g)},a),window.addEventListener("touchmove",Ri,a),window.addEventListener("pointerdown",A=>{A.pointerType===d(this,Tb)&&(d(this,xg)||A.isPrimary)&&o(A),Ri(A)},a));const l=A=>{if(!d(this,Od)||d(this,Od)===A.pointerId){o(A);return}Ri(A)};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})},wP=function(){if(d(this,Qd)||!this.div)return;M(this,Qd,new AbortController);const e=this._uiManager.combinedSignal(d(this,Qd));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},cX=function(e){fr._resizerKeyboardManager.exec(this,e)},uX=function(e){var t;d(this,kh)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==d(this,Zs)&&z(this,Xt,q2).call(this)},hX=function(e){M(this,Fb,d(this,kh)?e:"")},yP=function(e){if(d(this,nc))for(const t of d(this,nc))t.tabIndex=e},q2=function(){M(this,kh,!1),z(this,Xt,yP).call(this,-1),z(this,Xt,GS).call(this)},V(fr,Lb),Ce(fr,"_l10n",null),Ce(fr,"_l10nResizer",null),Ce(fr,"_borderLineWidth",-1),Ce(fr,"_colorManager",new aP),Ce(fr,"_zIndex",1),Ce(fr,"_telemetryTimeout",1e3);let Kn=fr;class Nve extends Kn{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const qQ=3285377520,sA=4294901760,Gc=65535;class fX{constructor(e){this.h1=e?e&4294967295:qQ,this.h2=e?e&4294967295:qQ}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let p=0,v=e.length;p<v;p++){const m=e.charCodeAt(p);m<=255?t[n++]=m:(t[n++]=m>>>8,t[n++]=m&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=n>>2,s=n-i*4,a=new Uint32Array(t.buffer,0,i);let o=0,l=0,A=this.h1,c=this.h2;const u=3432918353,h=461845907,f=u&Gc,g=h&Gc;for(let p=0;p<i;p++)p&1?(o=a[p],o=o*u&sA|o*f&Gc,o=o<<15|o>>>17,o=o*h&sA|o*g&Gc,A^=o,A=A<<13|A>>>19,A=A*5+3864292196):(l=a[p],l=l*u&sA|l*f&Gc,l=l<<15|l>>>17,l=l*h&sA|l*g&Gc,c^=l,c=c<<13|c>>>19,c=c*5+3864292196);switch(o=0,s){case 3:o^=t[i*4+2]<<16;case 2:o^=t[i*4+1]<<8;case 1:o^=t[i*4],o=o*u&sA|o*f&Gc,o=o<<15|o>>>17,o=o*h&sA|o*g&Gc,i&1?A^=o:c^=o}this.h1=A,this.h2=c}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&sA|e*36045&Gc,t=t*4283543511&sA|((t<<16|e>>>16)*2950163797&sA)>>>16,e^=t>>>1,e=e*444984403&sA|e*60499&Gc,t=t*3301882366&sA|((t<<16|e>>>16)*3120437893&sA)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const xP=Object.freeze({map:null,hash:"",transfer:void 0});var _g,bg,Lh,ea,TF,dX;class jU{constructor(){V(this,TF);V(this,_g,!1);V(this,bg,null);V(this,Lh,null);V(this,ea,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=d(this,ea).get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return d(this,ea).get(e)}remove(e){const t=d(this,ea).get(e);if(t!==void 0&&(t instanceof Kn&&d(this,Lh).delete(t.annotationElementId),d(this,ea).delete(e),d(this,ea).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const n of d(this,ea).values())if(n instanceof Kn)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=d(this,ea).get(e);let i=!1;if(n!==void 0)for(const[s,a]of Object.entries(t))n[s]!==a&&(i=!0,n[s]=a);else i=!0,d(this,ea).set(e,t);i&&z(this,TF,dX).call(this),t instanceof Kn&&((d(this,Lh)||M(this,Lh,new Map)).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return d(this,ea).has(e)}get size(){return d(this,ea).size}resetModified(){d(this,_g)&&(M(this,_g,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new pX(this)}get serializable(){if(d(this,ea).size===0)return xP;const e=new Map,t=new fX,n=[],i=Object.create(null);let s=!1;for(const[a,o]of d(this,ea)){const l=o instanceof Kn?o.serialize(!1,i):o;l&&(e.set(a,l),t.update(`${a}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const a of e.values())a.bitmap&&n.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:xP}get editorStats(){let e=null;const t=new Map;let n=0,i=0;for(const s of d(this,ea).values()){if(!(s instanceof Kn)){s.popup&&(s.popup.deleted?i+=1:n+=1);continue}s.isCommentDeleted?i+=1:s.hasEditedComment&&(n+=1);const a=s.telemetryFinalData;if(!a)continue;const{type:o}=a;t.has(o)||t.set(o,Object.getPrototypeOf(s).constructor),e||(e=Object.create(null));const l=e[o]||(e[o]=new Map);for(const[A,c]of Object.entries(a)){if(A==="type")continue;let u=l.get(A);u||(u=new Map,l.set(A,u));const h=u.get(c)??0;u.set(c,h+1)}}if((i>0||n>0)&&(e||(e=Object.create(null)),e.comments={deleted:i,edited:n}),!e)return null;for(const[s,a]of t)e[s]=a.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){M(this,bg,null)}updateEditor(e,t){var i;const n=(i=d(this,Lh))==null?void 0:i.get(e);return n?(n.updateFromAnnotationLayer(t),!0):!1}getEditor(e){var t;return((t=d(this,Lh))==null?void 0:t.get(e))||null}get modifiedIds(){if(d(this,bg))return d(this,bg);const e=[];if(d(this,Lh))for(const t of d(this,Lh).values())t.serialize()&&e.push(t.annotationElementId);return M(this,bg,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return d(this,ea).entries()}}_g=new WeakMap,bg=new WeakMap,Lh=new WeakMap,ea=new WeakMap,TF=new WeakSet,dX=function(){d(this,_g)||(M(this,_g,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Pb;class pX extends jU{constructor(t){super();V(this,Pb);const{map:n,hash:i,transfer:s}=t.serializable,a=structuredClone(n,s?{transfer:s}:null);M(this,Pb,{map:a,hash:i,transfer:s})}get print(){Dn("Should not call PrintAnnotationStorage.print")}get serializable(){return d(this,Pb)}get modifiedIds(){return Er(this,"modifiedIds",{ids:new Set,hash:""})}}Pb=new WeakMap;var rw;class Uve{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){V(this,rw,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),d(this,rw).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:n}){if(!(!e||d(this,rw).has(e.loadedName))){if(Ur(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:s,style:a}=e,o=new FontFace(i,s,a);this.addNativeFontFace(o);try{await o.load(),d(this,rw).add(i),n==null||n(e)}catch{Ar(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}Dn("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(i){throw Ar(`Failed to load font '${n.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const i=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Er(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return Er(this,"isSyncFontLoadingSupported",uo||ga.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(Ur(!i.done,"completeRequest() cannot be called twice."),i.done=!0;n.length>0&&n[0].done;){const s=n.shift();setTimeout(s.callback,0)}}const{loadingRequests:n}=this,i={done:!1,complete:t,callback:e};return n.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Er(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(S,k){return S.charCodeAt(k)<<24|S.charCodeAt(k+1)<<16|S.charCodeAt(k+2)<<8|S.charCodeAt(k+3)&255}function i(S,k,R,B){const E=S.substring(0,k),b=S.substring(k+R);return E+B+b}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let A=0;function c(S,k){if(++A>30){Ar("Load test font never loaded."),k();return}if(l.font="30px "+S,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){k();return}setTimeout(c.bind(null,S,k))}const u=`lt${Date.now()}${this.loadTestFontId++}`;let h=this._loadTestFont;h=i(h,976,u.length,u);const g=16,p=1482184792;let v=n(h,g);for(s=0,a=u.length-3;s<a;s+=4)v=v-p+n(u,s)|0;s<u.length&&(v=v-p+n(u+"XXX",s)|0),h=i(h,g,4,mve(v));const m=`url(data:font/opentype;base64,${btoa(h)});`,x=`@font-face {font-family:"${u}";src:${m}}`;this.insertRule(x);const _=this._document.createElement("div");_.style.visibility="hidden",_.style.width=_.style.height="10px",_.style.position="absolute",_.style.top=_.style.left="0px";for(const S of[e.loadedName,u]){const k=this._document.createElement("span");k.textContent="Hi",k.style.fontFamily=S,_.append(k)}this._document.body.append(_),c(u,()=>{_.remove(),t.complete()})}}rw=new WeakMap;var wn;class Mve{constructor(e,t=null,n,i){V(this,wn);this.compiledGlyphs=Object.create(null),M(this,wn,e),this._inspectFont=t,n&&Object.assign(this,n),i&&(this.charProcOperatorList=i)}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${Dq(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(n=this._inspectFont)==null||n.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const n=this.loadedName+"_path_"+t;let i;try{i=e.get(n)}catch(a){Ar(`getPathGenerator - ignoring character: "${a}".`)}const s=new Path2D(i||"");return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[t]=s}get black(){return d(this,wn).black}get bold(){return d(this,wn).bold}get disableFontFace(){return d(this,wn).disableFontFace??!1}get fontExtraProperties(){return d(this,wn).fontExtraProperties??!1}get isInvalidPDFjsFont(){return d(this,wn).isInvalidPDFjsFont}get isType3Font(){return d(this,wn).isType3Font}get italic(){return d(this,wn).italic}get missingFile(){return d(this,wn).missingFile}get remeasure(){return d(this,wn).remeasure}get vertical(){return d(this,wn).vertical}get ascent(){return d(this,wn).ascent}get defaultWidth(){return d(this,wn).defaultWidth}get descent(){return d(this,wn).descent}get bbox(){return d(this,wn).bbox}get fontMatrix(){return d(this,wn).fontMatrix}get fallbackName(){return d(this,wn).fallbackName}get loadedName(){return d(this,wn).loadedName}get mimetype(){return d(this,wn).mimetype}get name(){return d(this,wn).name}get data(){return d(this,wn).data}clearData(){d(this,wn).clearData()}get cssFontInfo(){return d(this,wn).cssFontInfo}get systemFontInfo(){return d(this,wn).systemFontInfo}get defaultVMetrics(){return d(this,wn).defaultVMetrics}}wn=new WeakMap;function Ove(r){if(r instanceof URL)return r.href;if(typeof r=="string"){if(uo)return r;const e=URL.parse(r,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Qve(r){if(uo&&typeof Buffer<"u"&&r instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength)return r;if(typeof r=="string")return uC(r);if(r instanceof ArrayBuffer||ArrayBuffer.isView(r)||typeof r=="object"&&!isNaN(r==null?void 0:r.length))return new Uint8Array(r);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function xB(r){if(typeof r!="string")return null;if(r.endsWith("/"))return r;throw new Error(`Invalid factory url: "${r}" must include trailing slash.`)}const _P=r=>typeof r=="object"&&Number.isInteger(r==null?void 0:r.num)&&r.num>=0&&Number.isInteger(r==null?void 0:r.gen)&&r.gen>=0,Hve=r=>typeof r=="object"&&typeof(r==null?void 0:r.name)=="string",Vve=_ve.bind(null,_P,Hve);var Ph,FF;class jve{constructor(){V(this,Ph,new Map);V(this,FF,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};d(this,FF).then(()=>{for(const[i]of d(this,Ph))i.call(this,n)})}addEventListener(e,t,n=null){let i=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:s}=n;if(s.aborted){Ar("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,t);i=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}d(this,Ph).set(t,i)}removeEventListener(e,t){const n=d(this,Ph).get(t);n==null||n(),d(this,Ph).delete(t)}terminate(){for(const[,e]of d(this,Ph))e==null||e();d(this,Ph).clear()}}Ph=new WeakMap,FF=new WeakMap;const _B={DATA:1,ERROR:2},rs={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function XQ(){}function No(r){if(r instanceof np||r instanceof ZL||r instanceof VQ||r instanceof MT||r instanceof Ak)return r;switch(r instanceof Error||typeof r=="object"&&r!==null||Dn('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),r.name){case"AbortException":return new np(r.message);case"InvalidPDFException":return new ZL(r.message);case"PasswordException":return new VQ(r.message,r.code);case"ResponseException":return new MT(r.message,r.status,r.missing);case"UnknownErrorException":return new Ak(r.message,r.details)}return new Ak(r.message,r.toString())}var nw,kA,gX,mX,vX,$S;class X2{constructor(e,t,n){V(this,kA);V(this,nw,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",z(this,kA,gX).bind(this),{signal:d(this,nw).signal})}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},n)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,t,n,i){const s=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:A=>{const c=Promise.withResolvers();return this.streamControllers[s]={controller:A,startCall:c,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:e,streamId:s,data:t,desiredSize:A.desiredSize},i),c.promise},pull:A=>{const c=Promise.withResolvers();return this.streamControllers[s].pullCall=c,l.postMessage({sourceName:a,targetName:o,stream:rs.PULL,streamId:s,desiredSize:A.desiredSize}),c.promise},cancel:A=>{Ur(A instanceof Error,"cancel must have a valid reason");const c=Promise.withResolvers();return this.streamControllers[s].cancelCall=c,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:rs.CANCEL,streamId:s,reason:No(A)}),c.promise}},n)}destroy(){var e;(e=d(this,nw))==null||e.abort(),M(this,nw,null)}}nw=new WeakMap,kA=new WeakSet,gX=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){z(this,kA,vX).call(this,e);return}if(e.callback){const n=e.callbackId,i=this.callbackCapabilities[n];if(!i)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===_B.DATA)i.resolve(e.data);else if(e.callback===_B.ERROR)i.reject(No(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,i=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(a){s.postMessage({sourceName:n,targetName:i,callback:_B.DATA,callbackId:e.callbackId,data:a})},function(a){s.postMessage({sourceName:n,targetName:i,callback:_B.ERROR,callbackId:e.callbackId,reason:No(a)})});return}if(e.streamId){z(this,kA,mX).call(this,e);return}t(e.data)},mX=function(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,s=this.comObj,a=this,o=this.actionHandler[e.action],l={enqueue(A,c=1,u){if(this.isCancelled)return;const h=this.desiredSize;this.desiredSize-=c,h>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:i,stream:rs.ENQUEUE,streamId:t,chunk:A},u)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:rs.CLOSE,streamId:t}),delete a.streamSinks[t])},error(A){Ur(A instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:rs.ERROR,streamId:t,reason:No(A)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,Promise.try(o,e.data,l).then(function(){s.postMessage({sourceName:n,targetName:i,stream:rs.START_COMPLETE,streamId:t,success:!0})},function(A){s.postMessage({sourceName:n,targetName:i,stream:rs.START_COMPLETE,streamId:t,reason:No(A)})})},vX=function(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,s=this.comObj,a=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case rs.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(No(e.reason));break;case rs.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(No(e.reason));break;case rs.PULL:if(!o){s.postMessage({sourceName:n,targetName:i,stream:rs.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||XQ).then(function(){s.postMessage({sourceName:n,targetName:i,stream:rs.PULL_COMPLETE,streamId:t,success:!0})},function(A){s.postMessage({sourceName:n,targetName:i,stream:rs.PULL_COMPLETE,streamId:t,reason:No(A)})});break;case rs.ENQUEUE:if(Ur(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case rs.CLOSE:if(Ur(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),z(this,kA,$S).call(this,a,t);break;case rs.ERROR:Ur(a,"error should have stream controller"),a.controller.error(No(e.reason)),z(this,kA,$S).call(this,a,t);break;case rs.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(No(e.reason)),z(this,kA,$S).call(this,a,t);break;case rs.CANCEL:if(!o)break;const l=No(e.reason);Promise.try(o.onCancel||XQ,l).then(function(){s.postMessage({sourceName:n,targetName:i,stream:rs.CANCEL_COMPLETE,streamId:t,success:!0})},function(A){s.postMessage({sourceName:n,targetName:i,stream:rs.CANCEL_COMPLETE,streamId:t,reason:No(A)})}),o.sinkCapability.reject(l),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},$S=async function(e,t){var n,i,s;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var Rb;class wX{constructor({enableHWA:e=!1}){V(this,Rb,!1);M(this,Rb,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!d(this,Rb)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Dn("Abstract method `_createCanvas` called.")}}Rb=new WeakMap;class Kve extends wX{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class yX{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){Dn("Abstract method `_fetch` called.")}}class YQ extends yX{async _fetch(e){const t=await hC(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):uC(t)}}class xX{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,i,s){return"none"}destroy(e=!1){}}var Eg,iw,Rh,Dh,La,Cg,Bg,_t,Fa,Y2,U1,qS,M1,_X,bP,O1,J2,Z2,EP,ex;class zve extends xX{constructor({docId:t,ownerDocument:n=globalThis.document}){super();V(this,_t);V(this,Eg);V(this,iw);V(this,Rh);V(this,Dh);V(this,La);V(this,Cg);V(this,Bg,0);M(this,Dh,t),M(this,La,n)}addFilter(t){if(!t)return"none";let n=d(this,_t,Fa).get(t);if(n)return n;const[i,s,a]=z(this,_t,qS).call(this,t),o=t.length===1?i:`${i}${s}${a}`;if(n=d(this,_t,Fa).get(o),n)return d(this,_t,Fa).set(t,n),n;const l=`g_${d(this,Dh)}_transfer_map_${Hi(this,Bg)._++}`,A=z(this,_t,M1).call(this,l);d(this,_t,Fa).set(t,A),d(this,_t,Fa).set(o,A);const c=z(this,_t,O1).call(this,l);return z(this,_t,Z2).call(this,i,s,a,c),A}addHCMFilter(t,n){var g;const i=`${t}-${n}`,s="base";let a=d(this,_t,Y2).get(s);if((a==null?void 0:a.key)===i||(a?((g=a.filter)==null||g.remove(),a.key=i,a.url="none",a.filter=null):(a={key:i,url:"none",filter:null},d(this,_t,Y2).set(s,a)),!t||!n))return a.url;const o=z(this,_t,ex).call(this,t);t=Tt.makeHexColor(...o);const l=z(this,_t,ex).call(this,n);if(n=Tt.makeHexColor(...l),d(this,_t,U1).style.color="",t==="#000000"&&n==="#ffffff"||t===n)return a.url;const A=new Array(256);for(let p=0;p<=255;p++){const v=p/255;A[p]=v<=.03928?v/12.92:((v+.055)/1.055)**2.4}const c=A.join(","),u=`g_${d(this,Dh)}_hcm_filter`,h=a.filter=z(this,_t,O1).call(this,u);z(this,_t,Z2).call(this,c,c,c,h),z(this,_t,bP).call(this,h);const f=(p,v)=>{const m=o[p]/255,x=l[p]/255,_=new Array(v+1);for(let S=0;S<=v;S++)_[S]=m+S/v*(x-m);return _.join(",")};return z(this,_t,Z2).call(this,f(0,5),f(1,5),f(2,5),h),a.url=z(this,_t,M1).call(this,u),a.url}addAlphaFilter(t){let n=d(this,_t,Fa).get(t);if(n)return n;const[i]=z(this,_t,qS).call(this,[t]),s=`alpha_${i}`;if(n=d(this,_t,Fa).get(s),n)return d(this,_t,Fa).set(t,n),n;const a=`g_${d(this,Dh)}_alpha_map_${Hi(this,Bg)._++}`,o=z(this,_t,M1).call(this,a);d(this,_t,Fa).set(t,o),d(this,_t,Fa).set(s,o);const l=z(this,_t,O1).call(this,a);return z(this,_t,EP).call(this,i,l),o}addLuminosityFilter(t){let n=d(this,_t,Fa).get(t||"luminosity");if(n)return n;let i,s;if(t?([i]=z(this,_t,qS).call(this,[t]),s=`luminosity_${i}`):s="luminosity",n=d(this,_t,Fa).get(s),n)return d(this,_t,Fa).set(t,n),n;const a=`g_${d(this,Dh)}_luminosity_map_${Hi(this,Bg)._++}`,o=z(this,_t,M1).call(this,a);d(this,_t,Fa).set(t,o),d(this,_t,Fa).set(s,o);const l=z(this,_t,O1).call(this,a);return z(this,_t,_X).call(this,l),t&&z(this,_t,EP).call(this,i,l),o}addHighlightHCMFilter(t,n,i,s,a){var x;const o=`${n}-${i}-${s}-${a}`;let l=d(this,_t,Y2).get(t);if((l==null?void 0:l.key)===o||(l?((x=l.filter)==null||x.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},d(this,_t,Y2).set(t,l)),!n||!i))return l.url;const[A,c]=[n,i].map(z(this,_t,ex).bind(this));let u=Math.round(.2126*A[0]+.7152*A[1]+.0722*A[2]),h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),[f,g]=[s,a].map(z(this,_t,ex).bind(this));h<u&&([u,h,f,g]=[h,u,g,f]),d(this,_t,U1).style.color="";const p=(_,S,k)=>{const R=new Array(256),B=(h-u)/k,E=_/255,b=(S-_)/(255*k);let I=0;for(let T=0;T<=k;T++){const F=Math.round(u+T*B),D=E+T*b;for(let q=I;q<=F;q++)R[q]=D;I=F+1}for(let T=I;T<256;T++)R[T]=R[I-1];return R.join(",")},v=`g_${d(this,Dh)}_hcm_${t}_filter`,m=l.filter=z(this,_t,O1).call(this,v);return z(this,_t,bP).call(this,m),z(this,_t,Z2).call(this,p(f[0],g[0],5),p(f[1],g[1],5),p(f[2],g[2],5),m),l.url=z(this,_t,M1).call(this,v),l.url}destroy(t=!1){var n,i,s,a;t&&((n=d(this,Cg))!=null&&n.size)||((i=d(this,Rh))==null||i.parentNode.parentNode.remove(),M(this,Rh,null),(s=d(this,iw))==null||s.clear(),M(this,iw,null),(a=d(this,Cg))==null||a.clear(),M(this,Cg,null),M(this,Bg,0))}}Eg=new WeakMap,iw=new WeakMap,Rh=new WeakMap,Dh=new WeakMap,La=new WeakMap,Cg=new WeakMap,Bg=new WeakMap,_t=new WeakSet,Fa=function(){return d(this,iw)||M(this,iw,new Map)},Y2=function(){return d(this,Cg)||M(this,Cg,new Map)},U1=function(){if(!d(this,Rh)){const t=d(this,La).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const i=d(this,La).createElementNS(uh,"svg");i.setAttribute("width",0),i.setAttribute("height",0),M(this,Rh,d(this,La).createElementNS(uh,"defs")),t.append(i),i.append(d(this,Rh)),d(this,La).body.append(t)}return d(this,Rh)},qS=function(t){if(t.length===1){const A=t[0],c=new Array(256);for(let h=0;h<256;h++)c[h]=A[h]/255;const u=c.join(",");return[u,u,u]}const[n,i,s]=t,a=new Array(256),o=new Array(256),l=new Array(256);for(let A=0;A<256;A++)a[A]=n[A]/255,o[A]=i[A]/255,l[A]=s[A]/255;return[a.join(","),o.join(","),l.join(",")]},M1=function(t){if(d(this,Eg)===void 0){M(this,Eg,"");const n=d(this,La).URL;n!==d(this,La).baseURI&&(F4(n)?Ar('#createUrl: ignore "data:"-URL for performance reasons.'):M(this,Eg,Lq(n,"")))}return`url(${d(this,Eg)}#${t})`},_X=function(t){const n=d(this,La).createElementNS(uh,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(n)},bP=function(t){const n=d(this,La).createElementNS(uh,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(n)},O1=function(t){const n=d(this,La).createElementNS(uh,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",t),d(this,_t,U1).append(n),n},J2=function(t,n,i){const s=d(this,La).createElementNS(uh,n);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),t.append(s)},Z2=function(t,n,i,s){const a=d(this,La).createElementNS(uh,"feComponentTransfer");s.append(a),z(this,_t,J2).call(this,a,"feFuncR",t),z(this,_t,J2).call(this,a,"feFuncG",n),z(this,_t,J2).call(this,a,"feFuncB",i)},EP=function(t,n){const i=d(this,La).createElementNS(uh,"feComponentTransfer");n.append(i),z(this,_t,J2).call(this,i,"feFuncA",t)},ex=function(t){return d(this,_t,U1).style.color=t,dC(getComputedStyle(d(this,_t,U1)).getPropertyValue("color"))};class bX{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){Dn("Abstract method `_fetch` called.")}}class JQ extends bX{async _fetch(e){const t=await hC(e,"arraybuffer");return new Uint8Array(t)}}class EX{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){Dn("Abstract method `_fetch` called.")}}class ZQ extends EX{async _fetch(e){const t=await hC(e,"arraybuffer");return new Uint8Array(t)}}uo&&Ar("Please use the `legacy` build in Node.js environments.");async function KU(r){const t=await process.getBuiltinModule("fs").promises.readFile(r);return new Uint8Array(t)}class Wve extends xX{}class Gve extends wX{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class $ve extends yX{async _fetch(e){return KU(e)}}class qve extends bX{async _fetch(e){return KU(e)}}class Xve extends EX{async _fetch(e){return KU(e)}}const v1="__forcedDependency",{floor:eH,ceil:tH}=Math;function bB(r,e,t,n,i,s){r[e*4+0]=Math.min(r[e*4+0],t),r[e*4+1]=Math.min(r[e*4+1],n),r[e*4+2]=Math.max(r[e*4+2],i),r[e*4+3]=Math.max(r[e*4+3],s)}const CP=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var sw,Hd;class Yve{constructor(e,t){V(this,sw);V(this,Hd);M(this,sw,e),M(this,Hd,t)}get length(){return d(this,sw).length}isEmpty(e){return d(this,sw)[e]===CP}minX(e){return d(this,Hd)[e*4+0]/256}minY(e){return d(this,Hd)[e*4+1]/256}maxX(e){return(d(this,Hd)[e*4+2]+1)/256}maxY(e){return(d(this,Hd)[e*4+3]+1)/256}}sw=new WeakMap,Hd=new WeakMap;const EB=(r,e)=>{if(!r)return;let t=r.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},r.set(e,t)),t};var Oo,Qo,Sg,ic,Tg,Nh,fn,yn,Uh,Ho,Db,aw,Fg,Ig,Mh,Pa,hu,Nb,BP;class Jve{constructor(e,t,n=!1){V(this,Nb);V(this,Oo,{__proto__:null});V(this,Qo,{__proto__:null,transform:[],moveText:[],sameLineText:[],[v1]:[]});V(this,Sg,new Map);V(this,ic,[]);V(this,Tg,[]);V(this,Nh,[[1,0,0,1,0,0]]);V(this,fn,[-1/0,-1/0,1/0,1/0]);V(this,yn,new Float64Array([1/0,1/0,-1/0,-1/0]));V(this,Uh,-1);V(this,Ho,new Set);V(this,Db,new Map);V(this,aw,new Map);V(this,Fg);V(this,Ig);V(this,Mh);V(this,Pa);V(this,hu);M(this,Fg,e.width),M(this,Ig,e.height),z(this,Nb,BP).call(this,t),n&&M(this,hu,new Map)}growOperationsCount(e){e>=d(this,Pa).length&&z(this,Nb,BP).call(this,e,d(this,Pa))}save(e){return M(this,Oo,{__proto__:d(this,Oo)}),M(this,Qo,{__proto__:d(this,Qo),transform:{__proto__:d(this,Qo).transform},moveText:{__proto__:d(this,Qo).moveText},sameLineText:{__proto__:d(this,Qo).sameLineText},[v1]:{__proto__:d(this,Qo)[v1]}}),M(this,fn,{__proto__:d(this,fn)}),d(this,ic).push(e),this}restore(e){var i;const t=Object.getPrototypeOf(d(this,Oo));if(t===null)return this;M(this,Oo,t),M(this,Qo,Object.getPrototypeOf(d(this,Qo))),M(this,fn,Object.getPrototypeOf(d(this,fn)));const n=d(this,ic).pop();return n!==void 0&&((i=EB(d(this,hu),e))==null||i.dependencies.add(n),d(this,Pa)[e]=d(this,Pa)[n]),this}recordOpenMarker(e){return d(this,ic).push(e),this}getOpenMarker(){return d(this,ic).length===0?null:d(this,ic).at(-1)}recordCloseMarker(e){var n;const t=d(this,ic).pop();return t!==void 0&&((n=EB(d(this,hu),e))==null||n.dependencies.add(t),d(this,Pa)[e]=d(this,Pa)[t]),this}beginMarkedContent(e){return d(this,Tg).push(e),this}endMarkedContent(e){var n;const t=d(this,Tg).pop();return t!==void 0&&((n=EB(d(this,hu),e))==null||n.dependencies.add(t),d(this,Pa)[e]=d(this,Pa)[t]),this}pushBaseTransform(e){return d(this,Nh).push(Tt.multiplyByDOMMatrix(d(this,Nh).at(-1),e.getTransform())),this}popBaseTransform(){return d(this,Nh).length>1&&d(this,Nh).pop(),this}recordSimpleData(e,t){return d(this,Oo)[e]=t,this}recordIncrementalData(e,t){return d(this,Qo)[e].push(t),this}resetIncrementalData(e,t){return d(this,Qo)[e].length=0,this}recordNamedData(e,t){return d(this,Sg).set(e,t),this}recordSimpleDataFromNamed(e,t,n){d(this,Oo)[e]=d(this,Sg).get(t)??n}recordFutureForcedDependency(e,t){return this.recordIncrementalData(v1,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in d(this,Oo)&&this.recordFutureForcedDependency(t,d(this,Oo)[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of d(this,Ho))this.recordFutureForcedDependency(v1,e);return this}resetBBox(e){return d(this,Uh)!==e&&(M(this,Uh,e),d(this,yn)[0]=1/0,d(this,yn)[1]=1/0,d(this,yn)[2]=-1/0,d(this,yn)[3]=-1/0),this}recordClipBox(e,t,n,i,s,a){const o=Tt.multiplyByDOMMatrix(d(this,Nh).at(-1),t.getTransform()),l=[1/0,1/0,-1/0,-1/0];Tt.axialAlignedBoundingBox([n,s,i,a],o,l);const A=Tt.intersect(d(this,fn),l);return A?(d(this,fn)[0]=A[0],d(this,fn)[1]=A[1],d(this,fn)[2]=A[2],d(this,fn)[3]=A[3]):(d(this,fn)[0]=d(this,fn)[1]=1/0,d(this,fn)[2]=d(this,fn)[3]=-1/0),this}recordBBox(e,t,n,i,s,a){const o=d(this,fn);if(o[0]===1/0)return this;const l=Tt.multiplyByDOMMatrix(d(this,Nh).at(-1),t.getTransform());if(o[0]===-1/0)return Tt.axialAlignedBoundingBox([n,s,i,a],l,d(this,yn)),this;const A=[1/0,1/0,-1/0,-1/0];return Tt.axialAlignedBoundingBox([n,s,i,a],l,A),d(this,yn)[0]=Math.min(d(this,yn)[0],Math.max(A[0],o[0])),d(this,yn)[1]=Math.min(d(this,yn)[1],Math.max(A[1],o[1])),d(this,yn)[2]=Math.max(d(this,yn)[2],Math.min(A[2],o[2])),d(this,yn)[3]=Math.max(d(this,yn)[3],Math.min(A[3],o[3])),this}recordCharacterBBox(e,t,n,i=1,s=0,a=0,o){const l=n.bbox;let A,c;if(l&&(A=l[2]!==l[0]&&l[3]!==l[1]&&d(this,aw).get(n),A!==!1&&(c=[0,0,0,0],Tt.axialAlignedBoundingBox(l,n.fontMatrix,c),(i!==1||s!==0||a!==0)&&Tt.scaleMinMax([i,0,0,-i,s,a],c),A)))return this.recordBBox(e,t,c[0],c[2],c[1],c[3]);if(!o)return this.recordFullPageBBox(e);const u=o();return l&&c&&A===void 0&&(A=c[0]<=s-u.actualBoundingBoxLeft&&c[2]>=s+u.actualBoundingBoxRight&&c[1]<=a-u.actualBoundingBoxAscent&&c[3]>=a+u.actualBoundingBoxDescent,d(this,aw).set(n,A),A)?this.recordBBox(e,t,c[0],c[2],c[1],c[3]):this.recordBBox(e,t,s-u.actualBoundingBoxLeft,s+u.actualBoundingBoxRight,a-u.actualBoundingBoxAscent,a+u.actualBoundingBoxDescent)}recordFullPageBBox(e){return d(this,yn)[0]=Math.max(0,d(this,fn)[0]),d(this,yn)[1]=Math.max(0,d(this,fn)[1]),d(this,yn)[2]=Math.min(d(this,Fg),d(this,fn)[2]),d(this,yn)[3]=Math.min(d(this,Ig),d(this,fn)[3]),this}getSimpleIndex(e){return d(this,Oo)[e]}recordDependencies(e,t){const n=d(this,Ho),i=d(this,Oo),s=d(this,Qo);for(const a of t)a in d(this,Oo)?n.add(i[a]):a in s&&s[a].forEach(n.add,n);return this}recordNamedDependency(e,t){return d(this,Sg).has(t)&&d(this,Ho).add(d(this,Sg).get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[v1]),d(this,hu)){const n=EB(d(this,hu),e),{dependencies:i}=n;d(this,Ho).forEach(i.add,i),d(this,ic).forEach(i.add,i),d(this,Tg).forEach(i.add,i),i.delete(e),n.isRenderingOperation=!0}if(d(this,Uh)===e){const n=eH(d(this,yn)[0]*256/d(this,Fg)),i=eH(d(this,yn)[1]*256/d(this,Ig)),s=tH(d(this,yn)[2]*256/d(this,Fg)),a=tH(d(this,yn)[3]*256/d(this,Ig));bB(d(this,Mh),e,n,i,s,a);for(const o of d(this,Ho))o!==e&&bB(d(this,Mh),o,n,i,s,a);for(const o of d(this,ic))o!==e&&bB(d(this,Mh),o,n,i,s,a);for(const o of d(this,Tg))o!==e&&bB(d(this,Mh),o,n,i,s,a);t||(d(this,Ho).clear(),M(this,Uh,-1))}return this}recordShowTextOperation(e,t=!1){const n=Array.from(d(this,Ho));this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const i of n)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(e,t=!1){return d(this,Uh)===e&&(M(this,Uh,-1),d(this,fn)[0]=Math.max(d(this,fn)[0],d(this,yn)[0]),d(this,fn)[1]=Math.max(d(this,fn)[1],d(this,yn)[1]),d(this,fn)[2]=Math.min(d(this,fn)[2],d(this,yn)[2]),d(this,fn)[3]=Math.min(d(this,fn)[3],d(this,yn)[3]),t||d(this,Ho).clear()),this}_takePendingDependencies(){const e=d(this,Ho);return M(this,Ho,new Set),e}_extractOperation(e){const t=d(this,Db).get(e);return d(this,Db).delete(e),t}_pushPendingDependencies(e){for(const t of e)d(this,Ho).add(t)}take(){return d(this,aw).clear(),new Yve(d(this,Pa),d(this,Mh))}takeDebugMetadata(){return d(this,hu)}}Oo=new WeakMap,Qo=new WeakMap,Sg=new WeakMap,ic=new WeakMap,Tg=new WeakMap,Nh=new WeakMap,fn=new WeakMap,yn=new WeakMap,Uh=new WeakMap,Ho=new WeakMap,Db=new WeakMap,aw=new WeakMap,Fg=new WeakMap,Ig=new WeakMap,Mh=new WeakMap,Pa=new WeakMap,hu=new WeakMap,Nb=new WeakSet,BP=function(e,t){const n=new ArrayBuffer(e*4);M(this,Mh,new Uint8ClampedArray(n)),M(this,Pa,new Uint32Array(n)),t&&t.length>0?(d(this,Pa).set(t),d(this,Pa).fill(CP,t.length)):d(this,Pa).fill(CP)};var kn,Ti,sc,ow,lw;const TM=class TM{constructor(e,t,n){V(this,kn);V(this,Ti);V(this,sc);V(this,ow,0);V(this,lw,0);if(e instanceof TM&&d(e,sc)===!!n)return e;M(this,kn,e),M(this,Ti,t),M(this,sc,!!n)}growOperationsCount(){throw new Error("Unreachable")}save(e){return Hi(this,lw)._++,d(this,kn).save(d(this,Ti)),this}restore(e){return d(this,lw)>0&&(d(this,kn).restore(d(this,Ti)),Hi(this,lw)._--),this}recordOpenMarker(e){return Hi(this,ow)._++,this}getOpenMarker(){return d(this,ow)>0?d(this,Ti):d(this,kn).getOpenMarker()}recordCloseMarker(e){return Hi(this,ow)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return d(this,kn).pushBaseTransform(e),this}popBaseTransform(){return d(this,kn).popBaseTransform(),this}recordSimpleData(e,t){return d(this,kn).recordSimpleData(e,d(this,Ti)),this}recordIncrementalData(e,t){return d(this,kn).recordIncrementalData(e,d(this,Ti)),this}resetIncrementalData(e,t){return d(this,kn).resetIncrementalData(e,d(this,Ti)),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,n){return d(this,kn).recordSimpleDataFromNamed(e,t,d(this,Ti)),this}recordFutureForcedDependency(e,t){return d(this,kn).recordFutureForcedDependency(e,d(this,Ti)),this}inheritSimpleDataAsFutureForcedDependencies(e){return d(this,kn).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return d(this,kn).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return d(this,sc)||d(this,kn).resetBBox(d(this,Ti)),this}recordClipBox(e,t,n,i,s,a){return d(this,sc)||d(this,kn).recordClipBox(d(this,Ti),t,n,i,s,a),this}recordBBox(e,t,n,i,s,a){return d(this,sc)||d(this,kn).recordBBox(d(this,Ti),t,n,i,s,a),this}recordCharacterBBox(e,t,n,i,s,a,o){return d(this,sc)||d(this,kn).recordCharacterBBox(d(this,Ti),t,n,i,s,a,o),this}recordFullPageBBox(e){return d(this,sc)||d(this,kn).recordFullPageBBox(d(this,Ti)),this}getSimpleIndex(e){return d(this,kn).getSimpleIndex(e)}recordDependencies(e,t){return d(this,kn).recordDependencies(d(this,Ti),t),this}recordNamedDependency(e,t){return d(this,kn).recordNamedDependency(d(this,Ti),t),this}recordOperation(e){return d(this,kn).recordOperation(d(this,Ti),!0),this}recordShowTextOperation(e){return d(this,kn).recordShowTextOperation(d(this,Ti),!0),this}bboxToClipBoxDropOperation(e){return d(this,sc)||d(this,kn).bboxToClipBoxDropOperation(d(this,Ti),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};kn=new WeakMap,Ti=new WeakMap,sc=new WeakMap,ow=new WeakMap,lw=new WeakMap;let VT=TM;const aA={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},aa={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function SP(r,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,n),r.clip(i)}class zU{isModifyingCurrentTransform(){return!1}getPattern(){Dn("Abstract method `getPattern` called.")}}class Zve extends zU{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,i){let s;if(i===aa.STROKE||i===aa.FILL){const a=t.current.getClippedPathBoundingBox(i,pi(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,A=t.cachedCanvases.getCanvas("pattern",o,l),c=A.context;c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.rect(0,0,c.canvas.width,c.canvas.height),c.translate(-a[0],-a[1]),n=Tt.transform(n,[1,0,0,1,a[0],a[1]]),c.transform(...t.baseTransform),this.matrix&&c.transform(...this.matrix),SP(c,this._bbox),c.fillStyle=this._createGradient(c),c.fill(),s=e.createPattern(A.canvas,"no-repeat");const u=new DOMMatrix(n);s.setTransform(u)}else SP(e,this._bbox),s=this._createGradient(e);return s}}function hk(r,e,t,n,i,s,a,o){const l=e.coords,A=e.colors,c=r.data,u=r.width*4;let h;l[t+1]>l[n+1]&&(h=t,t=n,n=h,h=s,s=a,a=h),l[n+1]>l[i+1]&&(h=n,n=i,i=h,h=a,a=o,o=h),l[t+1]>l[n+1]&&(h=t,t=n,n=h,h=s,s=a,a=h);const f=(l[t]+e.offsetX)*e.scaleX,g=(l[t+1]+e.offsetY)*e.scaleY,p=(l[n]+e.offsetX)*e.scaleX,v=(l[n+1]+e.offsetY)*e.scaleY,m=(l[i]+e.offsetX)*e.scaleX,x=(l[i+1]+e.offsetY)*e.scaleY;if(g>=x)return;const _=A[s],S=A[s+1],k=A[s+2],R=A[a],B=A[a+1],E=A[a+2],b=A[o],I=A[o+1],T=A[o+2],F=Math.round(g),D=Math.round(x);let q,ie,oe,te,re,W,pe,_e;for(let P=F;P<=D;P++){if(P<v){const he=P<g?0:(g-P)/(g-v);q=f-(f-p)*he,ie=_-(_-R)*he,oe=S-(S-B)*he,te=k-(k-E)*he}else{let he;P>x?he=1:v===x?he=0:he=(v-P)/(v-x),q=p-(p-m)*he,ie=R-(R-b)*he,oe=B-(B-I)*he,te=E-(E-T)*he}let O;P<g?O=0:P>x?O=1:O=(g-P)/(g-x),re=f-(f-m)*O,W=_-(_-b)*O,pe=S-(S-I)*O,_e=k-(k-T)*O;const H=Math.round(Math.min(q,re)),K=Math.round(Math.max(q,re));let Z=u*P+H*4;for(let he=H;he<=K;he++)O=(q-he)/(q-re),O<0?O=0:O>1&&(O=1),c[Z++]=ie-(ie-W)*O|0,c[Z++]=oe-(oe-pe)*O|0,c[Z++]=te-(te-_e)*O|0,c[Z++]=255}}function ewe(r,e,t){const n=e.coords,i=e.colors;let s,a;switch(e.type){case"lattice":const o=e.verticesPerRow,l=Math.floor(n.length/o)-1,A=o-1;for(s=0;s<l;s++){let c=s*o;for(let u=0;u<A;u++,c++)hk(r,t,n[c],n[c+1],n[c+o],i[c],i[c+1],i[c+o]),hk(r,t,n[c+o+1],n[c+1],n[c+o],i[c+o+1],i[c+1],i[c+o])}break;case"triangles":for(s=0,a=n.length;s<a;s+=3)hk(r,t,n[s],n[s+1],n[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class twe extends zU{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,n){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),A=Math.ceil(this._bounds[2])-o,c=Math.ceil(this._bounds[3])-l,u=Math.min(Math.ceil(Math.abs(A*e[0]*1.1)),3e3),h=Math.min(Math.ceil(Math.abs(c*e[1]*1.1)),3e3),f=A/u,g=c/h,p={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/f,scaleY:1/g},v=u+2*2,m=h+2*2,x=n.getCanvas("mesh",v,m),_=x.context,S=_.createImageData(u,h);if(t){const R=S.data;for(let B=0,E=R.length;B<E;B+=4)R[B]=t[0],R[B+1]=t[1],R[B+2]=t[2],R[B+3]=255}for(const R of this._figures)ewe(S,R,p);return _.putImageData(S,2,2),{canvas:x.canvas,offsetX:o-2*f,offsetY:l-2*g,scaleX:f,scaleY:g}}isModifyingCurrentTransform(){return!0}getPattern(e,t,n,i){SP(e,this._bbox);const s=new Float32Array(2);if(i===aa.SHADING)Tt.singularValueDecompose2dScale(pi(e),s);else if(this.matrix){Tt.singularValueDecompose2dScale(this.matrix,s);const[o,l]=s;Tt.singularValueDecompose2dScale(t.baseTransform,s),s[0]*=o,s[1]*=l}else Tt.singularValueDecompose2dScale(t.baseTransform,s);const a=this._createMeshCanvas(s,i===aa.SHADING?null:this._background,t.cachedCanvases);return i!==aa.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class rwe extends zU{getPattern(){return"hotpink"}}function nwe(r){switch(r[0]){case"RadialAxial":return new Zve(r);case"Mesh":return new twe(r);case"Dummy":return new rwe}throw new Error(`Unknown IR type: ${r[0]}`)}const rH={COLORED:1,UNCOLORED:2},IF=class IF{constructor(e,t,n,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=n,this.baseTransform=i}createPatternCanvas(e,t){var W,pe;const{bbox:n,operatorList:i,paintType:s,tilingType:a,color:o,canvasGraphicsFactory:l}=this;let{xstep:A,ystep:c}=this;A=Math.abs(A),c=Math.abs(c),T4("TilingType: "+a);const u=n[0],h=n[1],f=n[2],g=n[3],p=f-u,v=g-h,m=new Float32Array(2);Tt.singularValueDecompose2dScale(this.matrix,m);const[x,_]=m;Tt.singularValueDecompose2dScale(this.baseTransform,m);const S=x*m[0],k=_*m[1];let R=p,B=v,E=!1,b=!1;const I=Math.ceil(A*S),T=Math.ceil(c*k),F=Math.ceil(p*S),D=Math.ceil(v*k);I>=F?R=A:E=!0,T>=D?B=c:b=!0;const q=this.getSizeAndScale(R,this.ctx.canvas.width,S),ie=this.getSizeAndScale(B,this.ctx.canvas.height,k),oe=e.cachedCanvases.getCanvas("pattern",q.size,ie.size),te=oe.context,re=l.createCanvasGraphics(te,t);if(re.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(re,s,o),te.translate(-q.scale*u,-ie.scale*h),re.transform(0,q.scale,0,0,ie.scale,0,0),te.save(),(W=re.dependencyTracker)==null||W.save(),this.clipBbox(re,u,h,f,g),re.baseTransform=pi(re.ctx),re.executeOperatorList(i),re.endDrawing(),(pe=re.dependencyTracker)==null||pe.restore(),te.restore(),E||b){const _e=oe.canvas;E&&(R=A),b&&(B=c);const P=this.getSizeAndScale(R,this.ctx.canvas.width,S),O=this.getSizeAndScale(B,this.ctx.canvas.height,k),H=P.size,K=O.size,Z=e.cachedCanvases.getCanvas("pattern-workaround",H,K),he=Z.context,xe=E?Math.floor(p/A):0,ye=b?Math.floor(v/c):0;for(let be=0;be<=xe;be++)for(let Fe=0;Fe<=ye;Fe++)he.drawImage(_e,H*be,K*Fe,H,K,0,0,H,K);return{canvas:Z.canvas,scaleX:P.scale,scaleY:O.scale,offsetX:u,offsetY:h}}return{canvas:oe.canvas,scaleX:q.scale,scaleY:ie.scale,offsetX:u,offsetY:h}}getSizeAndScale(e,t,n){const i=Math.max(IF.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*n);return s>=i?s=i:n=s/e,{scale:n,size:s}}clipBbox(e,t,n,i,s){const a=i-t,o=s-n;e.ctx.rect(t,n,a,o),Tt.axialAlignedBoundingBox([t,n,i,s],pi(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const i=e.ctx,s=e.current;switch(t){case rH.COLORED:const{fillStyle:a,strokeStyle:o}=this.ctx;i.fillStyle=s.fillColor=a,i.strokeStyle=s.strokeColor=o;break;case rH.UNCOLORED:i.fillStyle=i.strokeStyle=n,s.fillColor=s.strokeColor=n;break;default:throw new gve(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,n,i,s){let a=n;i!==aa.SHADING&&(a=Tt.transform(a,t.baseTransform),this.matrix&&(a=Tt.transform(a,this.matrix)));const o=this.createPatternCanvas(t,s);let l=new DOMMatrix(a);l=l.translate(o.offsetX,o.offsetY),l=l.scale(1/o.scaleX,1/o.scaleY);const A=e.createPattern(o.canvas,"repeat");return A.setTransform(l),A}};Ce(IF,"MAX_PATTERN_SIZE",3e3);let TP=IF;function iwe({src:r,srcPos:e=0,dest:t,width:n,height:i,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const o=ga.isLittleEndian?4278190080:255,[l,A]=a?[s,o]:[o,s],c=n>>3,u=n&7,h=r.length;t=new Uint32Array(t.buffer);let f=0;for(let g=0;g<i;g++){for(const v=e+c;e<v;e++){const m=e<h?r[e]:255;t[f++]=m&128?A:l,t[f++]=m&64?A:l,t[f++]=m&32?A:l,t[f++]=m&16?A:l,t[f++]=m&8?A:l,t[f++]=m&4?A:l,t[f++]=m&2?A:l,t[f++]=m&1?A:l}if(u===0)continue;const p=e<h?r[e++]:255;for(let v=0;v<u;v++)t[f++]=p&1<<7-v?A:l}return{srcPos:e,destPos:f}}const nH=16,iH=100,swe=15,sH=10,Wo=16,fk=new DOMMatrix,Ol=new Float32Array(2),ov=new Float32Array([1/0,1/0,-1/0,-1/0]);function awe(r,e){if(r._removeMirroring)throw new Error("Context is already forwarding operations.");r.__originalSave=r.save,r.__originalRestore=r.restore,r.__originalRotate=r.rotate,r.__originalScale=r.scale,r.__originalTranslate=r.translate,r.__originalTransform=r.transform,r.__originalSetTransform=r.setTransform,r.__originalResetTransform=r.resetTransform,r.__originalClip=r.clip,r.__originalMoveTo=r.moveTo,r.__originalLineTo=r.lineTo,r.__originalBezierCurveTo=r.bezierCurveTo,r.__originalRect=r.rect,r.__originalClosePath=r.closePath,r.__originalBeginPath=r.beginPath,r._removeMirroring=()=>{r.save=r.__originalSave,r.restore=r.__originalRestore,r.rotate=r.__originalRotate,r.scale=r.__originalScale,r.translate=r.__originalTranslate,r.transform=r.__originalTransform,r.setTransform=r.__originalSetTransform,r.resetTransform=r.__originalResetTransform,r.clip=r.__originalClip,r.moveTo=r.__originalMoveTo,r.lineTo=r.__originalLineTo,r.bezierCurveTo=r.__originalBezierCurveTo,r.rect=r.__originalRect,r.closePath=r.__originalClosePath,r.beginPath=r.__originalBeginPath,delete r._removeMirroring},r.save=function(){e.save(),this.__originalSave()},r.restore=function(){e.restore(),this.__originalRestore()},r.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},r.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},r.transform=function(t,n,i,s,a,o){e.transform(t,n,i,s,a,o),this.__originalTransform(t,n,i,s,a,o)},r.setTransform=function(t,n,i,s,a,o){e.setTransform(t,n,i,s,a,o),this.__originalSetTransform(t,n,i,s,a,o)},r.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},r.rotate=function(t){e.rotate(t),this.__originalRotate(t)},r.clip=function(t){e.clip(t),this.__originalClip(t)},r.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},r.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},r.bezierCurveTo=function(t,n,i,s,a,o){e.bezierCurveTo(t,n,i,s,a,o),this.__originalBezierCurveTo(t,n,i,s,a,o)},r.rect=function(t,n,i,s){e.rect(t,n,i,s),this.__originalRect(t,n,i,s)},r.closePath=function(){e.closePath(),this.__originalClosePath()},r.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class owe{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,n)):(i=this.canvasFactory.create(t,n),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function CB(r,e,t,n,i,s,a,o,l,A){const[c,u,h,f,g,p]=pi(r);if(u===0&&h===0){const x=a*c+g,_=Math.round(x),S=o*f+p,k=Math.round(S),R=(a+l)*c+g,B=Math.abs(Math.round(R)-_)||1,E=(o+A)*f+p,b=Math.abs(Math.round(E)-k)||1;return r.setTransform(Math.sign(c),0,0,Math.sign(f),_,k),r.drawImage(e,t,n,i,s,0,0,B,b),r.setTransform(c,u,h,f,g,p),[B,b]}if(c===0&&f===0){const x=o*h+g,_=Math.round(x),S=a*u+p,k=Math.round(S),R=(o+A)*h+g,B=Math.abs(Math.round(R)-_)||1,E=(a+l)*u+p,b=Math.abs(Math.round(E)-k)||1;return r.setTransform(0,Math.sign(u),Math.sign(h),0,_,k),r.drawImage(e,t,n,i,s,0,0,b,B),r.setTransform(c,u,h,f,g,p),[b,B]}r.drawImage(e,t,n,i,s,a,o,l,A);const v=Math.hypot(c,u),m=Math.hypot(h,f);return[v*l,m*A]}class aH{constructor(e,t,n){Ce(this,"alphaIsShape",!1);Ce(this,"fontSize",0);Ce(this,"fontSizeScale",1);Ce(this,"textMatrix",null);Ce(this,"textMatrixScale",1);Ce(this,"fontMatrix",JL);Ce(this,"leading",0);Ce(this,"x",0);Ce(this,"y",0);Ce(this,"lineX",0);Ce(this,"lineY",0);Ce(this,"charSpacing",0);Ce(this,"wordSpacing",0);Ce(this,"textHScale",1);Ce(this,"textRenderingMode",Ys.FILL);Ce(this,"textRise",0);Ce(this,"fillColor","#000000");Ce(this,"strokeColor","#000000");Ce(this,"patternFill",!1);Ce(this,"patternStroke",!1);Ce(this,"fillAlpha",1);Ce(this,"strokeAlpha",1);Ce(this,"lineWidth",1);Ce(this,"activeSMask",null);Ce(this,"transferMaps","none");n==null||n(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=ov.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=aa.FILL,t=null){const n=this.minMax.slice();if(e===aa.STROKE){t||Dn("Stroke bounding box must include transform."),Tt.singularValueDecompose2dScale(t,Ol);const i=Ol[0]*this.lineWidth/2,s=Ol[1]*this.lineWidth/2;n[0]-=i,n[1]-=s,n[2]+=i,n[3]+=s}return n}updateClipFromPath(){const e=Tt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(ov,0)}getClippedPathBoundingBox(e=aa.FILL,t=null){return Tt.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function oH(r,e){if(e instanceof ImageData){r.putImageData(e,0,0);return}const t=e.height,n=e.width,i=t%Wo,s=(t-i)/Wo,a=i===0?s:s+1,o=r.createImageData(n,Wo);let l=0,A;const c=e.data,u=o.data;let h,f,g,p;if(e.kind===HS.GRAYSCALE_1BPP){const v=c.byteLength,m=new Uint32Array(u.buffer,0,u.byteLength>>2),x=m.length,_=n+7>>3,S=4294967295,k=ga.isLittleEndian?4278190080:255;for(h=0;h<a;h++){for(g=h<s?Wo:i,A=0,f=0;f<g;f++){const R=v-l;let B=0;const E=R>_?n:R*8-7,b=E&-8;let I=0,T=0;for(;B<b;B+=8)T=c[l++],m[A++]=T&128?S:k,m[A++]=T&64?S:k,m[A++]=T&32?S:k,m[A++]=T&16?S:k,m[A++]=T&8?S:k,m[A++]=T&4?S:k,m[A++]=T&2?S:k,m[A++]=T&1?S:k;for(;B<E;B++)I===0&&(T=c[l++],I=128),m[A++]=T&I?S:k,I>>=1}for(;A<x;)m[A++]=0;r.putImageData(o,0,h*Wo)}}else if(e.kind===HS.RGBA_32BPP){for(f=0,p=n*Wo*4,h=0;h<s;h++)u.set(c.subarray(l,l+p)),l+=p,r.putImageData(o,0,f),f+=Wo;h<a&&(p=n*i*4,u.set(c.subarray(l,l+p)),r.putImageData(o,0,f))}else if(e.kind===HS.RGB_24BPP)for(g=Wo,p=n*g,h=0;h<a;h++){for(h>=s&&(g=i,p=n*g),A=0,f=p;f--;)u[A++]=c[l++],u[A++]=c[l++],u[A++]=c[l++],u[A++]=255;r.putImageData(o,0,h*Wo)}else throw new Error(`bad image kind: ${e.kind}`)}function lH(r,e){if(e.bitmap){r.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,i=t%Wo,s=(t-i)/Wo,a=i===0?s:s+1,o=r.createImageData(n,Wo);let l=0;const A=e.data,c=o.data;for(let u=0;u<a;u++){const h=u<s?Wo:i;({srcPos:l}=iwe({src:A,srcPos:l,dest:c,width:n,height:h,nonBlackColor:0})),r.putImageData(o,0,u*Wo)}}function m2(r,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)r[n]!==void 0&&(e[n]=r[n]);r.setLineDash!==void 0&&(e.setLineDash(r.getLineDash()),e.lineDashOffset=r.lineDashOffset)}function BB(r){r.strokeStyle=r.fillStyle="#000000",r.fillRule="nonzero",r.globalAlpha=1,r.lineWidth=1,r.lineCap="butt",r.lineJoin="miter",r.miterLimit=10,r.globalCompositeOperation="source-over",r.font="10px sans-serif",r.setLineDash!==void 0&&(r.setLineDash([]),r.lineDashOffset=0);const{filter:e}=r;e!=="none"&&e!==""&&(r.filter="none")}function AH(r,e){if(e)return!0;Tt.singularValueDecompose2dScale(r,Ol);const t=Math.fround(Qu.pixelRatio*ip.PDF_TO_CSS_UNITS);return Ol[0]<=t&&Ol[1]<=t}const lwe=["butt","round","square"],Awe=["miter","round","bevel"],cwe={},cH={};var Fc,FP,IP,kP;const FM=class FM{constructor(e,t,n,i,s,{optionalContentConfig:a,markedContentStack:o=null},l,A,c){V(this,Fc);this.ctx=e,this.current=new aH(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new owe(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=A,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=c??null}getObject(e,t,n=null){var i;return typeof t=="string"?((i=this.dependencyTracker)==null||i.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):n}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:i=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,n){const l=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...pi(this.compositeCtx))}this.ctx.save(),BB(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=pi(this.ctx)}executeOperatorList(e,t,n,i,s){var m;const a=e.argsArray,o=e.fnArray;let l=t||0;const A=a.length;if(A===l)return l;const c=A-l>sH&&typeof n=="function",u=c?Date.now()+swe:0;let h=0;const f=this.commonObjs,g=this.objs;let p,v;for(;;){if(i!==void 0&&l===i.nextBreakPoint)return i.breakIt(l,n),l;if(!s||s(l))if(p=o[l],v=a[l]??null,p!==j_.dependency)v===null?this[p](l):this[p](l,...v);else for(const x of v){(m=this.dependencyTracker)==null||m.recordNamedData(x,l);const _=x.startsWith("g_")?f:g;if(!_.has(x))return _.get(x,n),l}if(l++,l===A)return l;if(c&&++h>sH){if(Date.now()>u)return n(),l;h=0}}}endDrawing(){z(this,Fc,FP).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),z(this,Fc,IP).call(this)}_scaleImage(e,t){const n=e.width??e.displayWidth,i=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),o=n,l=i,A="prescale1",c,u;for(;s>2&&o>1||a>2&&l>1;){let h=o,f=l;s>2&&o>1&&(h=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/h),a>2&&l>1&&(f=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/f),c=this.cachedCanvases.getCanvas(A,h,f),u=c.context,u.clearRect(0,0,h,f),u.drawImage(e,0,0,o,l,0,0,h,f),e=c.canvas,o=h,l=f,A=A==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e,t){var I,T;const n=this.ctx,{width:i,height:s}=t,a=this.current.fillColor,o=this.current.patternFill,l=pi(n);let A,c,u,h;if((t.bitmap||t.data)&&t.count>1){const F=t.bitmap||t.data.buffer;c=JSON.stringify(o?l:[l.slice(0,4),a]),A=this._cachedBitmapsMap.get(F),A||(A=new Map,this._cachedBitmapsMap.set(F,A));const D=A.get(c);if(D&&!o){const q=Math.round(Math.min(l[0],l[2])+l[4]),ie=Math.round(Math.min(l[1],l[3])+l[5]);return(I=this.dependencyTracker)==null||I.recordDependencies(e,aA.transformAndFill),{canvas:D,offsetX:q,offsetY:ie}}u=D}u||(h=this.cachedCanvases.getCanvas("maskCanvas",i,s),lH(h.context,t));let f=Tt.transform(l,[1/i,0,0,-1/s,0,0]);f=Tt.transform(f,[1,0,0,1,0,-s]);const g=ov.slice();Tt.axialAlignedBoundingBox([0,0,i,s],f,g);const[p,v,m,x]=g,_=Math.round(m-p)||1,S=Math.round(x-v)||1,k=this.cachedCanvases.getCanvas("fillCanvas",_,S),R=k.context,B=p,E=v;R.translate(-B,-E),R.transform(...f),u||(u=this._scaleImage(h.canvas,Wc(R)),u=u.img,A&&o&&A.set(c,u)),R.imageSmoothingEnabled=AH(pi(R),t.interpolate),CB(R,u,0,0,u.width,u.height,0,0,i,s),R.globalCompositeOperation="source-in";const b=Tt.transform(Wc(R),[1,0,0,1,-B,-E]);return R.fillStyle=o?a.getPattern(n,this,b,aa.FILL,e):a,R.fillRect(0,0,i,s),A&&!o&&(this.cachedCanvases.delete("fillCanvas"),A.set(c,k.canvas)),(T=this.dependencyTracker)==null||T.recordDependencies(e,aA.transformAndFill),{canvas:k.canvas,offsetX:Math.round(B),offsetY:Math.round(E)}}setLineWidth(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("lineCap",e),this.ctx.lineCap=lwe[t]}setLineJoin(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("lineJoin",e),this.ctx.lineJoin=Awe[t]}setMiterLimit(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,n){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("dash",e);const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=n)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){var n,i,s,a,o;for(const[l,A]of t)switch(l){case"LW":this.setLineWidth(e,A);break;case"LC":this.setLineCap(e,A);break;case"LJ":this.setLineJoin(e,A);break;case"ML":this.setMiterLimit(e,A);break;case"D":this.setDash(e,A[0],A[1]);break;case"RI":this.setRenderingIntent(e,A);break;case"FL":this.setFlatness(e,A);break;case"Font":this.setFont(e,A[0],A[1]);break;case"CA":(n=this.dependencyTracker)==null||n.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=A;break;case"ca":(i=this.dependencyTracker)==null||i.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=A;break;case"BM":(s=this.dependencyTracker)==null||s.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=A;break;case"SMask":(a=this.dependencyTracker)==null||a.recordSimpleData("SMask",e),this.current.activeSMask=A?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(o=this.dependencyTracker)==null||o.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(A);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,n=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(i,t,n);this.suspendedCtx=this.ctx;const a=this.ctx=s.context;a.setTransform(this.suspendedCtx.getTransform()),m2(this.suspendedCtx,a),awe(a,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),m2(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,i){const s=i[0],a=i[1],o=i[2]-s,l=i[3]-a;o===0||l===0||(this.genericComposeSMask(t.context,n,o,l,t.subtype,t.backdrop,t.transferMap,s,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,i,s,a,o,l,A,c,u){let h=e.canvas,f=l-c,g=A-u;if(a)if(f<0||g<0||f+n>h.width||g+i>h.height){const v=this.cachedCanvases.getCanvas("maskExtension",n,i),m=v.context;m.drawImage(h,-f,-g),m.globalCompositeOperation="destination-atop",m.fillStyle=a,m.fillRect(0,0,n,i),m.globalCompositeOperation="source-over",h=v.canvas,f=g=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const v=new Path2D;v.rect(f,g,n,i),e.clip(v),e.globalCompositeOperation="destination-atop",e.fillStyle=a,e.fillRect(f,g,n,i),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const p=new Path2D;p.rect(l,A,n,i),t.clip(p),t.globalCompositeOperation="destination-in",t.drawImage(h,f,g,n,i,l,A,n,i),t.restore()}save(e){var n;this.inSMaskMode&&m2(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),(n=this.dependencyTracker)==null||n.save(e)}restore(e){var t;if((t=this.dependencyTracker)==null||t.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&m2(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,n,i,s,a,o){var l;(l=this.dependencyTracker)==null||l.recordIncrementalData("transform",e),this.ctx.transform(t,n,i,s,a,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n,i){let[s]=n;if(!i){s||(s=n[0]=new Path2D),this[t](e,s);return}if(this.dependencyTracker!==null){const a=t===j_.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,i[0]-a,i[2]+a,i[1]-a,i[3]+a).recordDependencies(e,["transform"])}if(!(s instanceof Path2D)){const a=n[0]=new Path2D;for(let o=0,l=s.length;o<l;)switch(s[o++]){case wB.moveTo:a.moveTo(s[o++],s[o++]);break;case wB.lineTo:a.lineTo(s[o++],s[o++]);break;case wB.curveTo:a.bezierCurveTo(s[o++],s[o++],s[o++],s[o++],s[o++],s[o++]);break;case wB.closePath:a.closePath();break;default:Ar(`Unrecognized drawing path operator: ${s[o-1]}`);break}s=a}Tt.axialAlignedBoundingBox(i,pi(this.ctx),this.current.minMax),this[t](e,s),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,n=!0){var a;const i=this.ctx,s=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&(s!=null&&s.getPattern)){const o=s.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=s.getPattern(i,this,Wc(i),aa.STROKE,e),o){const l=new Path2D;l.addPath(t,i.getTransform().invertSelf().multiplySelf(o)),t=l}this.rescaleAndStroke(t,!1),i.restore()}else this.rescaleAndStroke(t,!0);(a=this.dependencyTracker)==null||a.recordDependencies(e,aA.stroke),n&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(aa.STROKE,pi(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,n=!0){var A,c,u;const i=this.ctx,s=this.current.fillColor,a=this.current.patternFill;let o=!1;if(a){const h=s.isModifyingCurrentTransform()?i.getTransform():null;if((A=this.dependencyTracker)==null||A.save(e),i.save(),i.fillStyle=s.getPattern(i,this,Wc(i),aa.FILL,e),h){const f=new Path2D;f.addPath(t,i.getTransform().invertSelf().multiplySelf(h)),t=f}o=!0}const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(i.fill(t,"evenodd"),this.pendingEOFill=!1):i.fill(t)),(c=this.dependencyTracker)==null||c.recordDependencies(e,aA.fill),o&&(i.restore(),(u=this.dependencyTracker)==null||u.restore(e)),n&&this.consumePath(e,t,l)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){var n;this.ctx.fill(t),(n=this.dependencyTracker)==null||n.recordDependencies(e,aA.rawFillPath).recordOperation(e)}clip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=cwe}eoClip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=cH}beginText(e){var t;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(t=this.dependencyTracker)==null||t.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){const{dependencyTracker:i}=this;t!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",e),i.recordCloseMarker(e)}if(t!==void 0){const i=new Path2D,s=n.getTransform().invertSelf();for(const{transform:a,x:o,y:l,fontSize:A,path:c}of t)c&&i.addPath(c,new DOMMatrix(a).preMultiplySelf(s).translate(o,l).scale(A,-A));n.clip(i)}delete this.pendingTextPaths}setCharSpacing(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,n){var u,h;(u=this.dependencyTracker)==null||u.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const i=this.commonObjs.get(t),s=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=i.fontMatrix||JL,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&Ar("Invalid font matrix for font "+t),n<0?(n=-n,s.fontDirection=-1):s.fontDirection=1,this.current.font=i,this.current.fontSize=n,i.isType3Font)return;const a=i.loadedName||"sans-serif",o=((h=i.systemFontInfo)==null?void 0:h.css)||`"${a}", ${i.fallbackName}`;let l="normal";i.black?l="900":i.bold&&(l="bold");const A=i.italic?"italic":"normal";let c=n;n<nH?c=nH:n>iH&&(c=iH),this.current.fontSizeScale=n/c,this.ctx.font=`${A} ${l} ${c}px ${o}`}setTextRenderingMode(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,n){var i;(i=this.dependencyTracker)==null||i.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=n}setLeadingMoveText(e,t,n){this.setLeading(e,-n),this.moveText(e,t,n)}setTextMatrix(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textMatrix",e);const{current:n}=this;n.textMatrix=t,n.textMatrixScale=Math.hypot(t[0],t[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(e){var t;this.moveText(e,0,this.current.leading),(t=this.dependencyTracker)==null||t.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,t,n,i,s,a){var m,x,_,S;const o=this.ctx,l=this.current,A=l.font,c=l.textRenderingMode,u=l.fontSize/l.fontSizeScale,h=c&Ys.FILL_STROKE_MASK,f=!!(c&Ys.ADD_TO_PATH_FLAG),g=l.patternFill&&!A.missingFile,p=l.patternStroke&&!A.missingFile;let v;if((A.disableFontFace||f||g||p)&&!A.missingFile&&(v=A.getPathGenerator(this.commonObjs,t)),v&&(A.disableFontFace||g||p)){o.save(),o.translate(n,i),o.scale(u,-u),(m=this.dependencyTracker)==null||m.recordCharacterBBox(e,o,A);let k;if(h===Ys.FILL||h===Ys.FILL_STROKE)if(s){k=o.getTransform(),o.setTransform(...s);const R=z(this,Fc,kP).call(this,v,k,s);o.fill(R)}else o.fill(v);if(h===Ys.STROKE||h===Ys.FILL_STROKE)if(a){k||(k=o.getTransform()),o.setTransform(...a);const{a:R,b:B,c:E,d:b}=k,I=Tt.inverseTransform(a),T=Tt.transform([R,B,E,b,0,0],I);Tt.singularValueDecompose2dScale(T,Ol),o.lineWidth*=Math.max(Ol[0],Ol[1])/u,o.stroke(z(this,Fc,kP).call(this,v,k,a))}else o.lineWidth/=u,o.stroke(v);o.restore()}else(h===Ys.FILL||h===Ys.FILL_STROKE)&&(o.fillText(t,n,i),(x=this.dependencyTracker)==null||x.recordCharacterBBox(e,o,A,u,n,i,()=>o.measureText(t))),(h===Ys.STROKE||h===Ys.FILL_STROKE)&&(this.dependencyTracker&&((_=this.dependencyTracker)==null||_.recordCharacterBBox(e,o,A,u,n,i,()=>o.measureText(t)).recordDependencies(e,aA.stroke)),o.strokeText(t,n,i));f&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:pi(o),x:n,y:i,fontSize:u,path:v}),(S=this.dependencyTracker)==null||S.recordCharacterBBox(e,o,A,u,n,i))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){n=!0;break}return Er(this,"isFontSubpixelAAEnabled",n)}showText(e,t){var E,b,I,T;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,aA.showText).resetBBox(e),this.current.textRenderingMode&Ys.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const n=this.current,i=n.font;if(i.isType3Font){this.showType3Text(e,t),(E=this.dependencyTracker)==null||E.recordShowTextOperation(e);return}const s=n.fontSize;if(s===0){(b=this.dependencyTracker)==null||b.recordOperation(e);return}const a=this.ctx,o=n.fontSizeScale,l=n.charSpacing,A=n.wordSpacing,c=n.fontDirection,u=n.textHScale*c,h=t.length,f=i.vertical,g=f?1:-1,p=i.defaultVMetrics,v=s*n.fontMatrix[0],m=n.textRenderingMode===Ys.FILL&&!i.disableFontFace&&!n.patternFill;a.save(),n.textMatrix&&a.transform(...n.textMatrix),a.translate(n.x,n.y+n.textRise),c>0?a.scale(u,-1):a.scale(u,1);let x,_;if(n.patternFill){a.save();const F=n.fillColor.getPattern(a,this,Wc(a),aa.FILL,e);x=pi(a),a.restore(),a.fillStyle=F}if(n.patternStroke){a.save();const F=n.strokeColor.getPattern(a,this,Wc(a),aa.STROKE,e);_=pi(a),a.restore(),a.strokeStyle=F}let S=n.lineWidth;const k=n.textMatrixScale;if(k===0||S===0){const F=n.textRenderingMode&Ys.FILL_STROKE_MASK;(F===Ys.STROKE||F===Ys.FILL_STROKE)&&(S=this.getSinglePixelWidth())}else S/=k;if(o!==1&&(a.scale(o,o),S/=o),a.lineWidth=S,i.isInvalidPDFjsFont){const F=[];let D=0;for(const ie of t)F.push(ie.unicode),D+=ie.width;const q=F.join("");if(a.fillText(q,0,0),this.dependencyTracker!==null){const ie=a.measureText(q);this.dependencyTracker.recordBBox(e,this.ctx,-ie.actualBoundingBoxLeft,ie.actualBoundingBoxRight,-ie.actualBoundingBoxAscent,ie.actualBoundingBoxDescent).recordShowTextOperation(e)}n.x+=D*v*u,a.restore(),this.compose();return}let R=0,B;for(B=0;B<h;++B){const F=t[B];if(typeof F=="number"){R+=g*F*s/1e3;continue}let D=!1;const q=(F.isSpace?A:0)+l,ie=F.fontChar,oe=F.accent;let te,re,W=F.width;if(f){const P=F.vmetric||p,O=-(F.vmetric?P[1]:W*.5)*v,H=P[2]*v;W=P?-P[0]:W,te=O/o,re=(R+H)/o}else te=R/o,re=0;let pe;if(i.remeasure&&W>0){pe=a.measureText(ie);const P=pe.width*1e3/s*o;if(W<P&&this.isFontSubpixelAAEnabled){const O=W/P;D=!0,a.save(),a.scale(O,1),te/=O}else W!==P&&(te+=(W-P)/2e3*s/o)}if(this.contentVisible&&(F.isInFont||i.missingFile)){if(m&&!oe)a.fillText(ie,te,re),(I=this.dependencyTracker)==null||I.recordCharacterBBox(e,a,pe?{bbox:null}:i,s/o,te,re,()=>pe??a.measureText(ie));else if(this.paintChar(e,ie,te,re,x,_),oe){const P=te+s*oe.offset.x/o,O=re-s*oe.offset.y/o;this.paintChar(e,oe.fontChar,P,O,x,_)}}const _e=f?W*v-q*c:W*v+q*c;R+=_e,D&&a.restore()}f?n.y-=R:n.x+=R*u,a.restore(),this.compose(),(T=this.dependencyTracker)==null||T.recordShowTextOperation(e)}showType3Text(e,t){const n=this.ctx,i=this.current,s=i.font,a=i.fontSize,o=i.fontDirection,l=s.vertical?1:-1,A=i.charSpacing,c=i.wordSpacing,u=i.textHScale*o,h=i.fontMatrix||JL,f=t.length,g=i.textRenderingMode===Ys.INVISIBLE;let p,v,m,x;if(g||a===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),i.textMatrix&&n.transform(...i.textMatrix),n.translate(i.x,i.y+i.textRise),n.scale(u,o);const _=this.dependencyTracker;for(this.dependencyTracker=_?new VT(_,e):null,p=0;p<f;++p){if(v=t[p],typeof v=="number"){x=l*v*a/1e3,this.ctx.translate(x,0),i.x+=x*u;continue}const S=(v.isSpace?c:0)+A,k=s.charProcOperatorList[v.operatorListId];k?this.contentVisible&&(this.save(),n.scale(a,a),n.transform(...h),this.executeOperatorList(k),this.restore()):Ar(`Type3 character "${v.operatorListId}" is not available.`);const R=[v.width,0];Tt.applyTransform(R,h),m=R[0]*a+S,n.translate(m,0),i.x+=m*u}n.restore(),_&&(this.dependencyTracker=_)}setCharWidth(e,t,n){}setCharWidthAndBounds(e,t,n,i,s,a,o){var A;const l=new Path2D;l.rect(i,s,a-i,o-s),this.ctx.clip(l),(A=this.dependencyTracker)==null||A.recordBBox(e,this.ctx,i,a,s,o).recordClipBox(e,this.ctx,i,a,s,o),this.endPath(e)}getColorN_Pattern(e,t){let n;if(t[0]==="TilingPattern"){const i=this.baseTransform||pi(this.ctx),s={createCanvasGraphics:(a,o)=>new FM(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new VT(this.dependencyTracker,o,!0):null)};n=new TP(t,this.ctx,s,i)}else n=this._getPattern(e,t[1],t[2]);return n}setStrokeColorN(e,...t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,n=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=nwe(this.getObject(e,t)),this.cachedPatterns.set(t,i)),n&&(i.matrix=n),i}shadingFill(e,t){var a;if(!this.contentVisible)return;const n=this.ctx;this.save(e);const i=this._getPattern(e,t);n.fillStyle=i.getPattern(n,this,Wc(n),aa.SHADING,e);const s=Wc(n);if(s){const{width:o,height:l}=n.canvas,A=ov.slice();Tt.axialAlignedBoundingBox([0,0,o,l],s,A);const[c,u,h,f]=A;this.ctx.fillRect(c,u,h-c,f-u)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(a=this.dependencyTracker)==null||a.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,aA.transform).recordDependencies(e,aA.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){Dn("Should not call beginInlineImage")}beginImageData(){Dn("Should not call beginImageData")}paintFormXObjectBegin(e,t,n){var i;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=pi(this.ctx),n)){Tt.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[s,a,o,l]=n,A=new Path2D;A.rect(s,a,o-s,l-a),this.ctx.clip(A),(i=this.dependencyTracker)==null||i.recordClipBox(e,this.ctx,s,o,a,l),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){var _;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;t.isolated||T4("TODO: Support non-isolated groups."),t.knockout&&Ar("Knockout groups not supported.");const i=pi(n);if(t.matrix&&n.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=ov.slice();Tt.axialAlignedBoundingBox(t.bbox,pi(n),s);const a=[0,0,n.canvas.width,n.canvas.height];s=Tt.intersect(s,a)||[0,0,0,0];const o=Math.floor(s[0]),l=Math.floor(s[1]),A=Math.max(Math.ceil(s[2])-o,1),c=Math.max(Math.ceil(s[3])-l,1);this.current.startNewPathAndClipBox([0,0,A,c]);let u="groupAt"+this.groupLevel;t.smask&&(u+="_smask_"+this.smaskCounter++%2);const h=this.cachedCanvases.getCanvas(u,A,c),f=h.context;f.translate(-o,-l),f.transform(...i);let g=new Path2D;const[p,v,m,x]=t.bbox;if(g.rect(p,v,m-p,x-v),t.matrix){const S=new Path2D;S.addPath(g,new DOMMatrix(t.matrix)),g=S}f.clip(g),t.smask&&this.smaskStack.push({canvas:h.canvas,context:f,offsetX:o,offsetY:l,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(n.setTransform(1,0,0,1,0,0),n.translate(o,l),n.save()),m2(n,f),this.ctx=f,(_=this.dependencyTracker)==null||_.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(n),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(e,t){var s;if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,(s=this.dependencyTracker)==null||s.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const a=pi(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...a);const o=ov.slice();Tt.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],a,o),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,t,n,i,s,a){if(z(this,Fc,FP).call(this),BB(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const o=n[2]-n[0],l=n[3]-n[1];if(a&&this.annotationCanvasMap){i=i.slice(),i[4]-=n[0],i[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=o,n[3]=l,Tt.singularValueDecompose2dScale(pi(this.ctx),Ol);const{viewportScale:A}=this,c=Math.ceil(o*this.outputScaleX*A),u=Math.ceil(l*this.outputScaleY*A);this.annotationCanvas=this.canvasFactory.create(c,u);const{canvas:h,context:f}=this.annotationCanvas;this.annotationCanvasMap.set(t,h),this.annotationCanvas.savedCtx=this.ctx,this.ctx=f,this.ctx.save(),this.ctx.setTransform(Ol[0],0,0,-Ol[1],0,l*Ol[1]),BB(this.ctx)}else{BB(this.ctx),this.endPath(e);const A=new Path2D;A.rect(n[0],n[1],o,l),this.ctx.clip(A)}}this.current=new aH(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...i),this.transform(e,...s)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),z(this,Fc,IP).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){var o;if(!this.contentVisible)return;const n=t.count;t=this.getObject(e,t.data,t),t.count=n;const i=this.ctx,s=this._createMaskCanvas(e,t),a=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(a,s.offsetX,s.offsetY),(o=this.dependencyTracker)==null||o.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+a.width,s.offsetY,s.offsetY+a.height).recordOperation(e),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n,i=0,s=0,a,o){var u,h,f;if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const l=this.ctx;l.save();const A=pi(l);l.transform(n,i,s,a,0,0);const c=this._createMaskCanvas(e,t);l.setTransform(1,0,0,1,c.offsetX-A[4],c.offsetY-A[5]),(u=this.dependencyTracker)==null||u.resetBBox(e);for(let g=0,p=o.length;g<p;g+=2){const v=Tt.transform(A,[n,i,s,a,o[g],o[g+1]]);l.drawImage(c.canvas,v[4],v[5]),(h=this.dependencyTracker)==null||h.recordBBox(e,this.ctx,v[4],v[4]+c.canvas.width,v[5],v[5]+c.canvas.height)}l.restore(),this.compose(),(f=this.dependencyTracker)==null||f.recordOperation(e)}paintImageMaskXObjectGroup(e,t){var a,o,l;if(!this.contentVisible)return;const n=this.ctx,i=this.current.fillColor,s=this.current.patternFill;(a=this.dependencyTracker)==null||a.resetBBox(e).recordDependencies(e,aA.transformAndFill);for(const A of t){const{data:c,width:u,height:h,transform:f}=A,g=this.cachedCanvases.getCanvas("maskCanvas",u,h),p=g.context;p.save();const v=this.getObject(e,c,A);lH(p,v),p.globalCompositeOperation="source-in",p.fillStyle=s?i.getPattern(p,this,Wc(n),aa.FILL,e):i,p.fillRect(0,0,u,h),p.restore(),n.save(),n.transform(...f),n.scale(1,-1),CB(n,g.canvas,0,0,u,h,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,n,0,u,0,h),n.restore()}this.compose(),(l=this.dependencyTracker)==null||l.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const n=this.getObject(e,t);if(!n){Ar("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,n)}paintImageXObjectRepeat(e,t,n,i,s){if(!this.contentVisible)return;const a=this.getObject(e,t);if(!a){Ar("Dependent image isn't ready yet");return}const o=a.width,l=a.height,A=[];for(let c=0,u=s.length;c<u;c+=2)A.push({transform:[n,0,0,i,s[c],s[c+1]],x:0,y:0,w:o,h:l});this.paintInlineImageXObjectGroup(e,a,A)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",n,i),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e,t){var A;if(!this.contentVisible)return;const n=t.width,i=t.height,s=this.ctx;this.save(e);const{filter:a}=s;a!=="none"&&a!==""&&(s.filter="none"),s.scale(1/n,-1/i);let o;if(t.bitmap)o=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)o=t;else{const u=this.cachedCanvases.getCanvas("inlineImage",n,i).context;oH(u,t),o=this.applyTransferMapsToCanvas(u)}const l=this._scaleImage(o,Wc(s));s.imageSmoothingEnabled=AH(pi(s),t.interpolate),(A=this.dependencyTracker)==null||A.resetBBox(e).recordBBox(e,s,0,n,-i,0).recordDependencies(e,aA.imageXObject).recordOperation(e),CB(s,l.img,0,0,l.paintWidth,l.paintHeight,0,-i,n,i),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,n){var a,o,l;if(!this.contentVisible)return;const i=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const A=t.width,c=t.height,h=this.cachedCanvases.getCanvas("inlineImage",A,c).context;oH(h,t),s=this.applyTransferMapsToCanvas(h)}(a=this.dependencyTracker)==null||a.resetBBox(e);for(const A of n)i.save(),i.transform(...A.transform),i.scale(1,-1),CB(i,s,A.x,A.y,A.w,A.h,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,i,0,1,-1,0),i.restore();(l=this.dependencyTracker)==null||l.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var t;this.contentVisible&&((t=this.dependencyTracker)==null||t.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,aA.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,n){}beginMarkedContent(e,t){var n;(n=this.dependencyTracker)==null||n.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,n){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var t;(t=this.dependencyTracker)==null||t.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,n){var a,o;const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const s=this.ctx;this.pendingClip?(i||(this.pendingClip===cH?s.clip(t,"evenodd"):s.clip(t)),this.pendingClip=null,(a=this.dependencyTracker)==null||a.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(o=this.dependencyTracker)==null||o.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=pi(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:i,d:s}=this.ctx.getTransform();let a,o;if(n===0&&i===0){const l=Math.abs(t),A=Math.abs(s);if(l===A)if(e===0)a=o=1/l;else{const c=l*e;a=o=c<1?1/c:1}else if(e===0)a=1/l,o=1/A;else{const c=l*e,u=A*e;a=c<1?1/c:1,o=u<1?1/u:1}}else{const l=Math.abs(t*s-n*i),A=Math.hypot(t,n),c=Math.hypot(i,s);if(e===0)a=c/l,o=A/l;else{const u=e*l;a=c>u?c/u:1,o=A>u?A/u:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:n,current:{lineWidth:i}}=this,[s,a]=this.getScaleForStroking();if(s===a){n.lineWidth=(i||1)*s,n.stroke(e);return}const o=n.getLineDash();t&&n.save(),n.scale(s,a),fk.a=1/s,fk.d=1/a;const l=new Path2D;if(l.addPath(e,fk),o.length>0){const A=Math.max(s,a);n.setLineDash(o.map(c=>c/A)),n.lineDashOffset/=A}n.lineWidth=i||1,n.stroke(l),t&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Fc=new WeakSet,FP=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},IP=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},kP=function(e,t,n){const i=new Path2D;return i.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(t)),i};let Sv=FM;for(const r in j_)Sv.prototype[r]!==void 0&&(Sv.prototype[j_[r]]=Sv.prototype[r]);var Aw,cw,Ub,uw,XS;const uv=class uv{constructor(e){V(this,uw);V(this,Aw);V(this,cw);V(this,Ub);M(this,Aw,e),M(this,cw,new DataView(d(this,Aw))),M(this,Ub,new TextDecoder)}static write(e){const t=new TextEncoder,n={};let i=0;for(const A of uv.strings){const c=t.encode(e[A]);n[A]=c,i+=4+c.length}const s=new ArrayBuffer(i),a=new Uint8Array(s),o=new DataView(s);let l=0;for(const A of uv.strings){const c=n[A],u=c.length;o.setUint32(l,u),a.set(c,l+4),l+=4+u}return Ur(l===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}get fontFamily(){return z(this,uw,XS).call(this,0)}get fontWeight(){return z(this,uw,XS).call(this,1)}get italicAngle(){return z(this,uw,XS).call(this,2)}};Aw=new WeakMap,cw=new WeakMap,Ub=new WeakMap,uw=new WeakSet,XS=function(e){Ur(e<uv.strings.length,"Invalid string index");let t=0;for(let i=0;i<e;i++)t+=d(this,cw).getUint32(t)+4;const n=d(this,cw).getUint32(t);return d(this,Ub).decode(new Uint8Array(d(this,Aw),t+4,n))},Ce(uv,"strings",["fontFamily","fontWeight","italicAngle"]);let jT=uv;var Vd,fu,kg,Lg,tx;const hv=class hv{constructor(e){V(this,Lg);V(this,Vd);V(this,fu);V(this,kg);M(this,Vd,e),M(this,fu,new DataView(d(this,Vd))),M(this,kg,new TextDecoder)}static write(e){const t=new TextEncoder,n={};let i=0;for(const h of hv.strings){const f=t.encode(e[h]);n[h]=f,i+=4+f.length}i+=4;let s,a,o=1+i;e.style&&(s=t.encode(e.style.style),a=t.encode(e.style.weight),o+=4+s.length+4+a.length);const l=new ArrayBuffer(o),A=new Uint8Array(l),c=new DataView(l);let u=0;c.setUint8(u++,e.guessFallback?1:0),c.setUint32(u,0),u+=4,i=0;for(const h of hv.strings){const f=n[h],g=f.length;i+=4+g,c.setUint32(u,g),A.set(f,u+4),u+=4+g}return c.setUint32(u-i-4,i),e.style&&(c.setUint32(u,s.length),A.set(s,u+4),u+=4+s.length,c.setUint32(u,a.length),A.set(a,u+4),u+=4+a.length),Ur(u<=l.byteLength,"SubstitionInfo.write: Buffer overflow"),l.transferToFixedLength(u)}get guessFallback(){return d(this,fu).getUint8(0)!==0}get css(){return z(this,Lg,tx).call(this,0)}get loadedName(){return z(this,Lg,tx).call(this,1)}get baseFontName(){return z(this,Lg,tx).call(this,2)}get src(){return z(this,Lg,tx).call(this,3)}get style(){let e=1;e+=4+d(this,fu).getUint32(e);const t=d(this,fu).getUint32(e),n=d(this,kg).decode(new Uint8Array(d(this,Vd),e+4,t));e+=4+t;const i=d(this,fu).getUint32(e),s=d(this,kg).decode(new Uint8Array(d(this,Vd),e+4,i));return{style:n,weight:s}}};Vd=new WeakMap,fu=new WeakMap,kg=new WeakMap,Lg=new WeakSet,tx=function(e){Ur(e<hv.strings.length,"Invalid string index");let t=5;for(let i=0;i<e;i++)t+=d(this,fu).getUint32(t)+4;const n=d(this,fu).getUint32(t);return d(this,kg).decode(new Uint8Array(d(this,Vd),t+4,n))},Ce(hv,"strings",["css","loadedName","baseFontName","src"]);let KT=hv;var hw,fw,dw,pw,_l,du,Mb,xn,ki,YA,YS,rx;const mr=class mr{constructor({data:e,extra:t}){V(this,ki);V(this,du);V(this,Mb);V(this,xn);M(this,du,e),M(this,Mb,new TextDecoder),M(this,xn,new DataView(d(this,du))),t&&Object.assign(this,t)}get black(){return z(this,ki,YA).call(this,0)}get bold(){return z(this,ki,YA).call(this,1)}get disableFontFace(){return z(this,ki,YA).call(this,2)}get fontExtraProperties(){return z(this,ki,YA).call(this,3)}get isInvalidPDFjsFont(){return z(this,ki,YA).call(this,4)}get isType3Font(){return z(this,ki,YA).call(this,5)}get italic(){return z(this,ki,YA).call(this,6)}get missingFile(){return z(this,ki,YA).call(this,7)}get remeasure(){return z(this,ki,YA).call(this,8)}get vertical(){return z(this,ki,YA).call(this,9)}get ascent(){return z(this,ki,YS).call(this,0)}get defaultWidth(){return z(this,ki,YS).call(this,1)}get descent(){return z(this,ki,YS).call(this,2)}get bbox(){let e=d(mr,fw);if(d(this,xn).getUint8(e)===0)return;e+=1;const n=[];for(let i=0;i<4;i++)n.push(d(this,xn).getInt16(e,!0)),e+=2;return n}get fontMatrix(){let e=d(mr,dw);if(d(this,xn).getUint8(e)===0)return;e+=1;const n=[];for(let i=0;i<6;i++)n.push(d(this,xn).getFloat64(e,!0)),e+=8;return n}get defaultVMetrics(){let e=d(mr,pw);if(d(this,xn).getUint8(e)===0)return;e+=1;const n=[];for(let i=0;i<3;i++)n.push(d(this,xn).getInt16(e,!0)),e+=2;return n}get fallbackName(){return z(this,ki,rx).call(this,0)}get loadedName(){return z(this,ki,rx).call(this,1)}get mimetype(){return z(this,ki,rx).call(this,2)}get name(){return z(this,ki,rx).call(this,3)}get data(){let e=d(mr,_l);const t=d(this,xn).getUint32(e);e+=4+t;const n=d(this,xn).getUint32(e);e+=4+n;const i=d(this,xn).getUint32(e);e+=4+i;const s=d(this,xn).getUint32(e);if(s!==0)return new Uint8Array(d(this,du),e+4,s)}clearData(){let e=d(mr,_l);const t=d(this,xn).getUint32(e);e+=4+t;const n=d(this,xn).getUint32(e);e+=4+n;const i=d(this,xn).getUint32(e);e+=4+i;const s=d(this,xn).getUint32(e);new Uint8Array(d(this,du),e+4,s).fill(0),d(this,xn).setUint32(e,0)}get cssFontInfo(){let e=d(mr,_l);const t=d(this,xn).getUint32(e);e+=4+t;const n=d(this,xn).getUint32(e);e+=4+n;const i=d(this,xn).getUint32(e);if(i===0)return null;const s=new Uint8Array(i);return s.set(new Uint8Array(d(this,du),e+4,i)),new jT(s.buffer)}get systemFontInfo(){let e=d(mr,_l);const t=d(this,xn).getUint32(e);e+=4+t;const n=d(this,xn).getUint32(e);if(n===0)return null;const i=new Uint8Array(n);return i.set(new Uint8Array(d(this,du),e+4,n)),new KT(i.buffer)}static write(e){const t=e.systemFontInfo?KT.write(e.systemFontInfo):null,n=e.cssFontInfo?jT.write(e.cssFontInfo):null,i=new TextEncoder,s={};let a=0;for(const p of mr.strings)s[p]=i.encode(e[p]),a+=4+s[p].length;const o=d(mr,_l)+4+a+4+(t?t.byteLength:0)+4+(n?n.byteLength:0)+4+(e.data?e.data.length:0),l=new ArrayBuffer(o),A=new Uint8Array(l),c=new DataView(l);let u=0;const h=mr.bools.length;let f=0,g=0;for(let p=0;p<h;p++){const v=e[mr.bools[p]];f|=(v===void 0?0:v?2:1)<<g,g+=2,(g===8||p===h-1)&&(c.setUint8(u++,f),f=0,g=0)}Ur(u===d(mr,hw),"FontInfo.write: Boolean properties offset mismatch");for(const p of mr.numbers)c.setFloat64(u,e[p]),u+=8;if(Ur(u===d(mr,fw),"FontInfo.write: Number properties offset mismatch"),e.bbox){c.setUint8(u++,4);for(const p of e.bbox)c.setInt16(u,p,!0),u+=2}else c.setUint8(u++,0),u+=2*4;if(Ur(u===d(mr,dw),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){c.setUint8(u++,6);for(const p of e.fontMatrix)c.setFloat64(u,p,!0),u+=8}else c.setUint8(u++,0),u+=8*6;if(Ur(u===d(mr,pw),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){c.setUint8(u++,1);for(const p of e.defaultVMetrics)c.setInt16(u,p,!0),u+=2}else c.setUint8(u++,0),u+=3*2;Ur(u===d(mr,_l),"FontInfo.write: DefaultVMetrics properties offset mismatch"),c.setUint32(d(mr,_l),0),u+=4;for(const p of mr.strings){const v=s[p],m=v.length;c.setUint32(u,m),A.set(v,u+4),u+=4+m}if(c.setUint32(d(mr,_l),u-d(mr,_l)-4),!t)c.setUint32(u,0),u+=4;else{const p=t.byteLength;c.setUint32(u,p),Ur(u+4+p<=l.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),A.set(new Uint8Array(t),u+4),u+=4+p}if(!n)c.setUint32(u,0),u+=4;else{const p=n.byteLength;c.setUint32(u,p),Ur(u+4+p<=l.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),A.set(new Uint8Array(n),u+4),u+=4+p}return e.data===void 0?(c.setUint32(u,0),u+=4):(c.setUint32(u,e.data.length),A.set(e.data,u+4),u+=4+e.data.length),Ur(u<=l.byteLength,"FontInfo.write: Buffer overflow"),l.transferToFixedLength(u)}};hw=new WeakMap,fw=new WeakMap,dw=new WeakMap,pw=new WeakMap,_l=new WeakMap,du=new WeakMap,Mb=new WeakMap,xn=new WeakMap,ki=new WeakSet,YA=function(e){Ur(e<mr.bools.length,"Invalid boolean index");const t=Math.floor(e/4),n=e*2%8,i=d(this,xn).getUint8(t)>>n&3;return i===0?void 0:i===2},YS=function(e){return Ur(e<mr.numbers.length,"Invalid number index"),d(this,xn).getFloat64(d(mr,hw)+e*8)},rx=function(e){Ur(e<mr.strings.length,"Invalid string index");let t=d(mr,_l)+4;for(let s=0;s<e;s++)t+=d(this,xn).getUint32(t)+4;const n=d(this,xn).getUint32(t),i=new Uint8Array(n);return i.set(new Uint8Array(d(this,du),t+4,n)),d(this,Mb).decode(i)},Ce(mr,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),Ce(mr,"numbers",["ascent","defaultWidth","descent"]),Ce(mr,"strings",["fallbackName","loadedName","mimetype","name"]),V(mr,hw,Math.ceil(mr.bools.length*2/8)),V(mr,fw,d(mr,hw)+mr.numbers.length*8),V(mr,dw,d(mr,fw)+1+2*4),V(mr,pw,d(mr,dw)+1+8*6),V(mr,_l,d(mr,pw)+1+2*3);let LP=mr;var Ob,Qb;class Su{static get workerPort(){return d(this,Ob)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");M(this,Ob,e)}static get workerSrc(){return d(this,Qb)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");M(this,Qb,e)}}Ob=new WeakMap,Qb=new WeakMap,V(Su,Ob,null),V(Su,Qb,"");var gw,Hb;class uwe{constructor({parsedData:e,rawData:t}){V(this,gw);V(this,Hb);M(this,gw,e),M(this,Hb,t)}getRaw(){return d(this,Hb)}get(e){return d(this,gw).get(e)??null}[Symbol.iterator](){return d(this,gw).entries()}}gw=new WeakMap,Hb=new WeakMap;const Q1=Symbol("INTERNAL");var Vb,jb,Kb,mw;class hwe{constructor(e,{name:t,intent:n,usage:i,rbGroups:s}){V(this,Vb,!1);V(this,jb,!1);V(this,Kb,!1);V(this,mw,!0);M(this,Vb,!!(e&Ul.DISPLAY)),M(this,jb,!!(e&Ul.PRINT)),this.name=t,this.intent=n,this.usage=i,this.rbGroups=s}get visible(){if(d(this,Kb))return d(this,mw);if(!d(this,mw))return!1;const{print:e,view:t}=this.usage;return d(this,Vb)?(t==null?void 0:t.viewState)!=="OFF":d(this,jb)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,n=!1){e!==Q1&&Dn("Internal method `_setVisible` called."),M(this,Kb,n),M(this,mw,t)}}Vb=new WeakMap,jb=new WeakMap,Kb=new WeakMap,mw=new WeakMap;var jd,_n,vw,ww,zb,PP;class fwe{constructor(e,t=Ul.DISPLAY){V(this,zb);V(this,jd,null);V(this,_n,new Map);V(this,vw,null);V(this,ww,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,M(this,ww,e.order);for(const n of e.groups)d(this,_n).set(n.id,new hwe(t,n));if(e.baseState==="OFF")for(const n of d(this,_n).values())n._setVisible(Q1,!1);for(const n of e.on)d(this,_n).get(n)._setVisible(Q1,!0);for(const n of e.off)d(this,_n).get(n)._setVisible(Q1,!1);M(this,vw,this.getHash())}}isVisible(e){if(d(this,_n).size===0)return!0;if(!e)return T4("Optional content group not defined."),!0;if(e.type==="OCG")return d(this,_n).has(e.id)?d(this,_n).get(e.id).visible:(Ar(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return z(this,zb,PP).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!d(this,_n).has(t))return Ar(`Optional content group not found: ${t}`),!0;if(d(this,_n).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!d(this,_n).has(t))return Ar(`Optional content group not found: ${t}`),!0;if(!d(this,_n).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!d(this,_n).has(t))return Ar(`Optional content group not found: ${t}`),!0;if(!d(this,_n).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!d(this,_n).has(t))return Ar(`Optional content group not found: ${t}`),!0;if(d(this,_n).get(t).visible)return!1}return!0}return Ar(`Unknown optional content policy ${e.policy}.`),!0}return Ar(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){var s;const i=d(this,_n).get(e);if(!i){Ar(`Optional content group not found: ${e}`);return}if(n&&t&&i.rbGroups.length)for(const a of i.rbGroups)for(const o of a)o!==e&&((s=d(this,_n).get(o))==null||s._setVisible(Q1,!1,!0));i._setVisible(Q1,!!t,!0),M(this,jd,null)}setOCGState({state:e,preserveRB:t}){let n;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":n=i;continue}const s=d(this,_n).get(i);if(s)switch(n){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!s.visible,t);break}}M(this,jd,null)}get hasInitialVisibility(){return d(this,vw)===null||this.getHash()===d(this,vw)}getOrder(){return d(this,_n).size?d(this,ww)?d(this,ww).slice():[...d(this,_n).keys()]:null}getGroup(e){return d(this,_n).get(e)||null}getHash(){if(d(this,jd)!==null)return d(this,jd);const e=new fX;for(const[t,n]of d(this,_n))e.update(`${t}:${n.visible}`);return M(this,jd,e.hexdigest())}[Symbol.iterator](){return d(this,_n).entries()}}jd=new WeakMap,_n=new WeakMap,vw=new WeakMap,ww=new WeakMap,zb=new WeakSet,PP=function(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let i=1;i<t;i++){const s=e[i];let a;if(Array.isArray(s))a=z(this,zb,PP).call(this,s);else if(d(this,_n).has(s))a=d(this,_n).get(s).visible;else return Ar(`Optional content group not found: ${s}`),!0;switch(n){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return n==="And"};class dwe{constructor(e,{disableRange:t=!1,disableStream:n=!1}){Ur(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,A)=>{this._onReceiveData({begin:l,chunk:A})}),e.addProgressListener((l,A)=>{this._onProgress({loaded:l,total:A})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(n),!0)});Ur(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,n,i,s;e.total===void 0?(n=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||n.call(t,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Ur(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new pwe(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new gwe(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class pwe{constructor(e,t,n=!1,i=null){this._stream=e,this._done=n||!1,this._filename=VU(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class gwe{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function mwe(r){let e=!0,t=n("filename\\*","i").exec(r);if(t){t=t[1];let c=o(t);return c=unescape(c),c=l(c),c=A(c),s(c)}if(t=a(r),t){const c=A(t);return s(c)}if(t=n("filename","i").exec(r),t){t=t[1];let c=o(t);return c=A(c),s(c)}function n(c,u){return new RegExp("(?:^|;)\\s*"+c+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',u)}function i(c,u){if(c){if(!/^[\x00-\xFF]+$/.test(u))return u;try{const h=new TextDecoder(c,{fatal:!0}),f=uC(u);u=h.decode(f),e=!1}catch{}}return u}function s(c){return e&&/[\x80-\xff]/.test(c)&&(c=i("utf-8",c),e&&(c=i("iso-8859-1",c))),c}function a(c){const u=[];let h;const f=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(h=f.exec(c))!==null;){let[,p,v,m]=h;if(p=parseInt(p,10),p in u){if(p===0)break;continue}u[p]=[v,m]}const g=[];for(let p=0;p<u.length&&p in u;++p){let[v,m]=u[p];m=o(m),v&&(m=unescape(m),p===0&&(m=l(m))),g.push(m)}return g.join("")}function o(c){if(c.startsWith('"')){const u=c.slice(1).split('\\"');for(let h=0;h<u.length;++h){const f=u[h].indexOf('"');f!==-1&&(u[h]=u[h].slice(0,f),u.length=h+1),u[h]=u[h].replaceAll(/\\(.)/g,"$1")}c=u.join('"')}return c}function l(c){const u=c.indexOf("'");if(u===-1)return c;const h=c.slice(0,u),g=c.slice(u+1).replace(/^[^']*'/,"");return i(h,g)}function A(c){return!c.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(c)?c:c.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(u,h,f,g){if(f==="q"||f==="Q")return g=g.replaceAll("_"," "),g=g.replaceAll(/=([0-9a-fA-F]{2})/g,function(p,v){return String.fromCharCode(parseInt(v,16))}),i(h,g);try{g=atob(g)}catch{}return i(h,g)})}return""}function CX(r,e){const t=new Headers;if(!r||!e||typeof e!="object")return t;for(const n in e){const i=e[n];i!==void 0&&t.append(n,i)}return t}function I4(r){var e;return((e=URL.parse(r))==null?void 0:e.origin)??null}function BX({responseHeaders:r,isHttp:e,rangeChunkSize:t,disableRange:n}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(r.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*t)||n||!e||r.get("Accept-Ranges")!=="bytes"||(r.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function SX(r){const e=r.get("Content-Disposition");if(e){let t=mwe(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(VU(t))return t}return null}function gC(r,e){return new MT(`Unexpected server response (${r}) while retrieving PDF "${e}".`,r,r===404||r===0&&e.startsWith("file:"))}function TX(r){return r===200||r===206}function FX(r,e,t){return{method:"GET",headers:r,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function IX(r){return r instanceof Uint8Array?r.buffer:r instanceof ArrayBuffer?r:(Ar(`getArrayBuffer - unexpected data format: ${r}`),new Uint8Array(r).buffer)}class vwe{constructor(e){Ce(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=CX(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ur(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new wwe(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new ywe(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class wwe{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),i=t.url;fetch(i,FX(n,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=I4(s.url),!TX(s.status))throw gC(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const a=s.headers,{allowRangeRequests:o,suggestedLength:l}=BX({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=SX(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new np("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:IX(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class ywe{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${n-1}`);const a=i.url;fetch(a,FX(s,this._withCredentials,this._abortController)).then(o=>{const l=I4(o.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!TX(o.status))throw gC(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:IX(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const dk=200,pk=206;function xwe(r){const e=r.response;return typeof e!="string"?e:uC(e).buffer}class _we{constructor({url:e,httpHeaders:t,withCredentials:n}){Ce(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=CX(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,a]of this.headers)t.setRequestHeader(s,a);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=pk):i.expectedStatus=dk,t.responseType="arraybuffer",Ur(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var i;const n=this.pendingRequests[e];n&&((i=n.onProgress)==null||i.call(n,t))}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){n.onError(i.status);return}const s=i.status||dk;if(!(s===dk&&n.expectedStatus===pk)&&s!==n.expectedStatus){n.onError(i.status);return}const o=xwe(i);if(s===pk){const l=i.getResponseHeader("Content-Range"),A=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);A?n.onDone({begin:parseInt(A[1],10),chunk:o}):(Ar('Missing or invalid "Content-Range" header.'),n.onError(0))}else o?n.onDone({begin:0,chunk:o}):n.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class bwe{constructor(e){this._source=e,this._manager=new _we(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Ur(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Ewe(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new Cwe(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class Ewe{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=I4(t.responseURL);const n=t.getAllResponseHeaders(),i=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[l,...A]=o.split(": ");return[l,A.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:a}=BX({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=SX(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=gC(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Cwe{constructor(e,t,n){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=I4((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=gC(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Bwe=/^[a-z][a-z0-9\-+.]+:/i;function Swe(r){if(Bwe.test(r))return new URL(r);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(r))}class Twe{constructor(e){this.source=e,this.url=Swe(e.url),Ur(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ur(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new Fwe(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new Iwe(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class Fwe{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=gC(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new np("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Iwe{constructor(e,t,n){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const v2=Symbol("INITIAL_DATA");var bl,Wb,RP;class kX{constructor(){V(this,Wb);V(this,bl,Object.create(null))}get(e,t=null){if(t){const i=z(this,Wb,RP).call(this,e);return i.promise.then(()=>t(i.data)),null}const n=d(this,bl)[e];if(!n||n.data===v2)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=d(this,bl)[e];return!!t&&t.data!==v2}delete(e){const t=d(this,bl)[e];return!t||t.data===v2?!1:(delete d(this,bl)[e],!0)}resolve(e,t=null){const n=z(this,Wb,RP).call(this,e);n.data=t,n.resolve()}clear(){var e;for(const t in d(this,bl)){const{data:n}=d(this,bl)[t];(e=n==null?void 0:n.bitmap)==null||e.close()}M(this,bl,Object.create(null))}*[Symbol.iterator](){for(const e in d(this,bl)){const{data:t}=d(this,bl)[e];t!==v2&&(yield[e,t])}}}bl=new WeakMap,Wb=new WeakSet,RP=function(e){var t;return(t=d(this,bl))[e]||(t[e]={...Promise.withResolvers(),data:v2})};const kwe=1e5,uH=30;var fj,Kd,Vo,Gb,$b,Pg,Oh,qb,Xb,Rg,yw,xw,zd,_w,Yb,bw,Dg,Jb,Zb,Ew,Ng,eE,Wd,Cw,Df,LX,PX,DP,Wl,JS,NP,RX,DX;const gs=class gs{constructor({textContentSource:e,container:t,viewport:n}){V(this,Df);V(this,Kd,Promise.withResolvers());V(this,Vo,null);V(this,Gb,!1);V(this,$b,!!((fj=globalThis.FontInspector)!=null&&fj.enabled));V(this,Pg,null);V(this,Oh,null);V(this,qb,0);V(this,Xb,0);V(this,Rg,null);V(this,yw,null);V(this,xw,0);V(this,zd,0);V(this,_w,Object.create(null));V(this,Yb,[]);V(this,bw,null);V(this,Dg,[]);V(this,Jb,new WeakMap);V(this,Zb,null);var l;if(e instanceof ReadableStream)M(this,bw,e);else if(typeof e=="object")M(this,bw,new ReadableStream({start(A){A.enqueue(e),A.close()}}));else throw new Error('No "textContentSource" parameter specified.');M(this,Vo,M(this,yw,t)),M(this,zd,n.scale*Qu.pixelRatio),M(this,xw,n.rotation),M(this,Oh,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:a,pageY:o}=n.rawDims;M(this,Zb,[1,0,0,-1,-a,o+s]),M(this,Xb,i),M(this,qb,s),z(l=gs,Wl,RX).call(l),Vm(t,n),d(this,Kd).promise.finally(()=>{d(gs,Cw).delete(this),M(this,Oh,null),M(this,_w,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=ga.platform;return Er(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{d(this,Rg).read().then(({value:t,done:n})=>{if(n){d(this,Kd).resolve();return}d(this,Pg)??M(this,Pg,t.lang),Object.assign(d(this,_w),t.styles),z(this,Df,LX).call(this,t.items),e()},d(this,Kd).reject)};return M(this,Rg,d(this,bw).getReader()),d(gs,Cw).add(this),e(),d(this,Kd).promise}update({viewport:e,onBefore:t=null}){var s;const n=e.scale*Qu.pixelRatio,i=e.rotation;if(i!==d(this,xw)&&(t==null||t(),M(this,xw,i),Vm(d(this,yw),{rotation:i})),n!==d(this,zd)){t==null||t(),M(this,zd,n);const a={div:null,properties:null,ctx:z(s=gs,Wl,JS).call(s,d(this,Pg))};for(const o of d(this,Dg))a.properties=d(this,Jb).get(o),a.div=o,z(this,Df,DP).call(this,a)}}cancel(){var t;const e=new np("TextLayer task cancelled.");(t=d(this,Rg))==null||t.cancel(e).catch(()=>{}),M(this,Rg,null),d(this,Kd).reject(e)}get textDivs(){return d(this,Dg)}get textContentItemsStr(){return d(this,Yb)}static cleanup(){if(!(d(this,Cw).size>0)){d(this,Ew).clear();for(const{canvas:e}of d(this,Ng).values())e.remove();d(this,Ng).clear()}}};Kd=new WeakMap,Vo=new WeakMap,Gb=new WeakMap,$b=new WeakMap,Pg=new WeakMap,Oh=new WeakMap,qb=new WeakMap,Xb=new WeakMap,Rg=new WeakMap,yw=new WeakMap,xw=new WeakMap,zd=new WeakMap,_w=new WeakMap,Yb=new WeakMap,bw=new WeakMap,Dg=new WeakMap,Jb=new WeakMap,Zb=new WeakMap,Ew=new WeakMap,Ng=new WeakMap,eE=new WeakMap,Wd=new WeakMap,Cw=new WeakMap,Df=new WeakSet,LX=function(e){var i,s;if(d(this,Gb))return;(s=d(this,Oh)).ctx??(s.ctx=z(i=gs,Wl,JS).call(i,d(this,Pg)));const t=d(this,Dg),n=d(this,Yb);for(const a of e){if(t.length>kwe){Ar("Ignoring additional textDivs for performance reasons."),M(this,Gb,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=d(this,Vo);M(this,Vo,document.createElement("span")),d(this,Vo).classList.add("markedContent"),a.id&&d(this,Vo).setAttribute("id",`${a.id}`),o.append(d(this,Vo))}else a.type==="endMarkedContent"&&M(this,Vo,d(this,Vo).parentNode);continue}n.push(a.str),z(this,Df,PX).call(this,a)}},PX=function(e){var p;const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};d(this,Dg).push(t);const i=Tt.transform(d(this,Zb),e.transform);let s=Math.atan2(i[1],i[0]);const a=d(this,_w)[e.fontName];a.vertical&&(s+=Math.PI/2);let o=d(this,$b)&&a.fontSubstitution||a.fontFamily;o=gs.fontFamilyMap.get(o)||o;const l=Math.hypot(i[2],i[3]),A=l*z(p=gs,Wl,DX).call(p,o,a,d(this,Pg));let c,u;s===0?(c=i[4],u=i[5]-A):(c=i[4]+A*Math.sin(s),u=i[5]-A*Math.cos(s));const h="calc(var(--total-scale-factor) *",f=t.style;d(this,Vo)===d(this,yw)?(f.left=`${(100*c/d(this,Xb)).toFixed(2)}%`,f.top=`${(100*u/d(this,qb)).toFixed(2)}%`):(f.left=`${h}${c.toFixed(2)}px)`,f.top=`${h}${u.toFixed(2)}px)`),f.fontSize=`${h}${(d(gs,Wd)*l).toFixed(2)}px)`,f.fontFamily=o,n.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,d(this,$b)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(n.angle=s*(180/Math.PI));let g=!1;if(e.str.length>1)g=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const v=Math.abs(e.transform[0]),m=Math.abs(e.transform[3]);v!==m&&Math.max(v,m)/Math.min(v,m)>1.5&&(g=!0)}if(g&&(n.canvasWidth=a.vertical?e.height:e.width),d(this,Jb).set(t,n),d(this,Oh).div=t,d(this,Oh).properties=n,z(this,Df,DP).call(this,d(this,Oh)),n.hasText&&d(this,Vo).append(t),n.hasEOL){const v=document.createElement("br");v.setAttribute("role","presentation"),d(this,Vo).append(v)}},DP=function(e){var o;const{div:t,properties:n,ctx:i}=e,{style:s}=t;let a="";if(d(gs,Wd)>1&&(a=`scale(${1/d(gs,Wd)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:l}=s,{canvasWidth:A,fontSize:c}=n;z(o=gs,Wl,NP).call(o,i,c*d(this,zd),l);const{width:u}=i.measureText(t.textContent);u>0&&(a=`scaleX(${A*d(this,zd)/u}) ${a}`)}n.angle!==0&&(a=`rotate(${n.angle}deg) ${a}`),a.length>0&&(s.transform=a)},Wl=new WeakSet,JS=function(e=null){let t=d(this,Ng).get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),d(this,Ng).set(e,t),d(this,eE).set(t,{size:0,family:""})}return t},NP=function(e,t,n){const i=d(this,eE).get(e);t===i.size&&n===i.family||(e.font=`${t}px ${n}`,i.size=t,i.family=n)},RX=function(){if(d(this,Wd)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),M(this,Wd,e.getBoundingClientRect().height),e.remove()},DX=function(e,t,n){const i=d(this,Ew).get(e);if(i)return i;const s=z(this,Wl,JS).call(this,n);s.canvas.width=s.canvas.height=uH,z(this,Wl,NP).call(this,s,uH,e);const a=s.measureText(""),o=a.fontBoundingBoxAscent,l=Math.abs(a.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let A=.8;return o?A=o/(o+l):(ga.platform.isFirefox&&Ar("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?A=t.ascent:t.descent&&(A=1+t.descent)),d(this,Ew).set(e,A),A},V(gs,Wl),V(gs,Ew,new Map),V(gs,Ng,new Map),V(gs,eE,new WeakMap),V(gs,Wd,null),V(gs,Cw,new Set);let z_=gs;const Lwe=100;function NX(r={}){typeof r=="string"||r instanceof URL?r={url:r}:(r instanceof ArrayBuffer||ArrayBuffer.isView(r))&&(r={data:r});const e=new UP,{docId:t}=e,n=r.url?Ove(r.url):null,i=r.data?Qve(r.data):null,s=r.httpHeaders||null,a=r.withCredentials===!0,o=r.password??null,l=r.range instanceof UX?r.range:null,A=Number.isInteger(r.rangeChunkSize)&&r.rangeChunkSize>0?r.rangeChunkSize:2**16;let c=r.worker instanceof W_?r.worker:null;const u=r.verbosity,h=typeof r.docBaseUrl=="string"&&!F4(r.docBaseUrl)?r.docBaseUrl:null,f=xB(r.cMapUrl),g=r.cMapPacked!==!1,p=r.CMapReaderFactory||(uo?$ve:YQ),v=xB(r.iccUrl),m=xB(r.standardFontDataUrl),x=r.StandardFontDataFactory||(uo?qve:JQ),_=xB(r.wasmUrl),S=r.WasmFactory||(uo?Xve:ZQ),k=r.stopAtErrors!==!0,R=Number.isInteger(r.maxImageSize)&&r.maxImageSize>-1?r.maxImageSize:-1,B=r.isEvalSupported!==!1,E=typeof r.isOffscreenCanvasSupported=="boolean"?r.isOffscreenCanvasSupported:!uo,b=typeof r.isImageDecoderSupported=="boolean"?r.isImageDecoderSupported:!uo&&(ga.platform.isFirefox||!globalThis.chrome),I=Number.isInteger(r.canvasMaxAreaInBytes)?r.canvasMaxAreaInBytes:-1,T=typeof r.disableFontFace=="boolean"?r.disableFontFace:uo,F=r.fontExtraProperties===!0,D=r.enableXfa===!0,q=r.ownerDocument||globalThis.document,ie=r.disableRange===!0,oe=r.disableStream===!0,te=r.disableAutoFetch===!0,re=r.pdfBug===!0,W=r.CanvasFactory||(uo?Gve:Kve),pe=r.FilterFactory||(uo?Wve:zve),_e=r.enableHWA===!0,P=r.useWasm!==!1,O=l?l.length:r.length??NaN,H=typeof r.useSystemFonts=="boolean"?r.useSystemFonts:!uo&&!T,K=typeof r.useWorkerFetch=="boolean"?r.useWorkerFetch:!!(p===YQ&&x===JQ&&S===ZQ&&f&&m&&_&&K2(f,document.baseURI)&&K2(m,document.baseURI)&&K2(_,document.baseURI)),Z=null;fve(u);const he={canvasFactory:new W({ownerDocument:q,enableHWA:_e}),filterFactory:new pe({docId:t,ownerDocument:q}),cMapReaderFactory:K?null:new p({baseUrl:f,isCompressed:g}),standardFontDataFactory:K?null:new x({baseUrl:m}),wasmFactory:K?null:new S({baseUrl:_})};c||(c=W_.create({verbosity:u,port:Su.workerPort}),e._worker=c);const xe={docId:t,apiVersion:"5.4.296",data:i,password:o,disableAutoFetch:te,rangeChunkSize:A,length:O,docBaseUrl:h,enableXfa:D,evaluatorOptions:{maxImageSize:R,disableFontFace:T,ignoreErrors:k,isEvalSupported:B,isOffscreenCanvasSupported:E,isImageDecoderSupported:b,canvasMaxAreaInBytes:I,fontExtraProperties:F,useSystemFonts:H,useWasm:P,useWorkerFetch:K,cMapUrl:f,iccUrl:v,standardFontDataUrl:m,wasmUrl:_}},ye={ownerDocument:q,pdfBug:re,styleElement:Z,loadingParams:{disableAutoFetch:te,enableXfa:D}};return c.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(c.destroyed)throw new Error("Worker was destroyed");const be=c.messageHandler.sendWithPromise("GetDocRequest",xe,i?[i.buffer]:null);let Fe;if(l)Fe=new dwe(l,{disableRange:ie,disableStream:oe});else if(!i){if(!n)throw new Error("getDocument - no `url` parameter provided.");const ne=K2(n)?vwe:uo?Twe:bwe;Fe=new ne({url:n,length:O,httpHeaders:s,withCredentials:a,rangeChunkSize:A,disableRange:ie,disableStream:oe})}return be.then(ne=>{if(e.destroyed)throw new Error("Loading aborted");if(c.destroyed)throw new Error("Worker was destroyed");const We=new X2(t,ne,c.port),Se=new Dwe(We,e,Fe,ye,he,_e);e._transport=Se,We.send("Ready",null)})}).catch(e._capability.reject),e}var kF;const LF=class LF{constructor(){Ce(this,"_capability",Promise.withResolvers());Ce(this,"_transport",null);Ce(this,"_worker",null);Ce(this,"docId",`d${Hi(LF,kF)._++}`);Ce(this,"destroyed",!1);Ce(this,"onPassword",null);Ce(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,n,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(s){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,s}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}async getData(){return this._transport.getData()}};kF=new WeakMap,V(LF,kF,0);let UP=LF;var Ug,tE,rE,nE,iE;class UX{constructor(e,t,n=!1,i=null){V(this,Ug,Promise.withResolvers());V(this,tE,[]);V(this,rE,[]);V(this,nE,[]);V(this,iE,[]);this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=i}addRangeListener(e){d(this,iE).push(e)}addProgressListener(e){d(this,nE).push(e)}addProgressiveReadListener(e){d(this,rE).push(e)}addProgressiveDoneListener(e){d(this,tE).push(e)}onDataRange(e,t){for(const n of d(this,iE))n(e,t)}onDataProgress(e,t){d(this,Ug).promise.then(()=>{for(const n of d(this,nE))n(e,t)})}onDataProgressiveRead(e){d(this,Ug).promise.then(()=>{for(const t of d(this,rE))t(e)})}onDataProgressiveDone(){d(this,Ug).promise.then(()=>{for(const e of d(this,tE))e()})}transportReady(){d(this,Ug).resolve()}requestDataRange(e,t){Dn("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}Ug=new WeakMap,tE=new WeakMap,rE=new WeakMap,nE=new WeakMap,iE=new WeakMap;class Pwe{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Er(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Qh,Mg,nx;class Rwe{constructor(e,t,n,i=!1){V(this,Mg);V(this,Qh,!1);this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=i?new KQ:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new kX,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:s=!1}={}){return new fC({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Er(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:t=e.canvas,viewport:n,intent:i="display",annotationMode:s=_d.ENABLE,transform:a=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:A=null,pageColors:c=null,printAnnotationStorage:u=null,isEditing:h=!1,recordOperations:f=!1,operationsFilter:g=null}){var b,I,T;(b=this._stats)==null||b.time("Overall");const p=this._transport.getRenderingIntent(i,s,u,h),{renderingIntent:v,cacheKey:m}=p;M(this,Qh,!1),l||(l=this._transport.getOptionalContentConfig(v));let x=this._intentStates.get(m);x||(x=Object.create(null),this._intentStates.set(m,x)),x.streamReaderCancelTimeout&&(clearTimeout(x.streamReaderCancelTimeout),x.streamReaderCancelTimeout=null);const _=!!(v&Ul.PRINT);x.displayReadyCapability||(x.displayReadyCapability=Promise.withResolvers(),x.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(I=this._stats)==null||I.time("Page Request"),this._pumpOperatorList(p));const S=!!(this._pdfBug&&((T=globalThis.StepperManager)!=null&&T.enabled)),k=!this.recordedBBoxes&&(f||S),R=F=>{var D,q;if(x.renderTasks.delete(B),k){const ie=(D=B.gfx)==null?void 0:D.dependencyTracker.take();ie&&(B.stepper&&B.stepper.setOperatorBBoxes(ie,B.gfx.dependencyTracker.takeDebugMetadata()),f&&(this.recordedBBoxes=ie))}_&&M(this,Qh,!0),z(this,Mg,nx).call(this),F?(B.capability.reject(F),this._abortOperatorList({intentState:x,reason:F instanceof Error?F:new Error(F)})):B.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(q=globalThis.Stats)!=null&&q.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},B=new MP({callback:R,params:{canvas:t,canvasContext:e,dependencyTracker:k?new Jve(t,x.operatorList.length,S):null,viewport:n,transform:a,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:A,operatorList:x.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!_,pdfBug:this._pdfBug,pageColors:c,enableHWA:this._transport.enableHWA,operationsFilter:g});(x.renderTasks||(x.renderTasks=new Set)).add(B);const E=B.task;return Promise.all([x.displayReadyCapability.promise,l]).then(([F,D])=>{var q;if(this.destroyed){R();return}if((q=this._stats)==null||q.time("Rendering"),!(D.renderingIntent&v))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");B.initializeGraphics({transparency:F,optionalContentConfig:D}),B.operatorListChanged()}).catch(R),E}getOperatorList({intent:e="display",annotationMode:t=_d.ENABLE,printAnnotationStorage:n=null,isEditing:i=!1}={}){var A;function s(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const a=this._transport.getRenderingIntent(e,t,n,i,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(A=this._stats)==null||A.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>K_.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,i){function s(){a.read().then(function({value:l,done:A}){if(A){n(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),s()},i)}const a=t.getReader(),o={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),M(this,Qh,!1),Promise.all(e)}cleanup(e=!1){M(this,Qh,!0);const t=z(this,Mg,nx).call(this);return e&&t&&this._stats&&(this._stats=new KQ),t}_startRenderPage(e,t){var i,s;const n=this._intentStates.get(t);n&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=n.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let n=0,i=e.length;n<i;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&z(this,Mg,nx).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:i}){const{map:s,transfer:a}=n,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:i},a).getReader(),A=this._intentStates.get(t);A.streamReader=l;const c=()=>{l.read().then(({value:u,done:h})=>{if(h){A.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(u,A),c())},u=>{if(A.streamReader=null,!this._transport.destroyed){if(A.operatorList){A.operatorList.lastChunk=!0;for(const h of A.renderTasks)h.operatorListChanged();z(this,Mg,nx).call(this)}if(A.displayReadyCapability)A.displayReadyCapability.reject(u);else if(A.opListReadCapability)A.opListReadCapability.reject(u);else throw u}})};c()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof HU){let i=Lwe;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new np(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}Qh=new WeakMap,Mg=new WeakSet,nx=function(){if(!d(this,Qh)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),M(this,Qh,!1),!0};var Gd,ac,Hh,Og,PF,Qg,Hg,vo,ZS,MX,OX,ix,Bw,e5;const ri=class ri{constructor({name:e=null,port:t=null,verbosity:n=dve()}={}){V(this,vo);V(this,Gd,Promise.withResolvers());V(this,ac,null);V(this,Hh,null);V(this,Og,null);if(this.name=e,this.destroyed=!1,this.verbosity=n,t){if(d(ri,Hg).has(t))throw new Error("Cannot use more than one PDFWorker per port.");d(ri,Hg).set(t,this),z(this,vo,MX).call(this,t)}else z(this,vo,OX).call(this)}get promise(){return d(this,Gd).promise}get port(){return d(this,Hh)}get messageHandler(){return d(this,ac)}destroy(){var e,t;this.destroyed=!0,(e=d(this,Og))==null||e.terminate(),M(this,Og,null),d(ri,Hg).delete(d(this,Hh)),M(this,Hh,null),(t=d(this,ac))==null||t.destroy(),M(this,ac,null)}static create(e){const t=d(this,Hg).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new ri(e)}static get workerSrc(){if(Su.workerSrc)return Su.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Er(this,"_setupFakeWorkerGlobal",(async()=>d(this,Bw,e5)?d(this,Bw,e5):(await import(this.workerSrc)).WorkerMessageHandler)())}};Gd=new WeakMap,ac=new WeakMap,Hh=new WeakMap,Og=new WeakMap,PF=new WeakMap,Qg=new WeakMap,Hg=new WeakMap,vo=new WeakSet,ZS=function(){d(this,Gd).resolve(),d(this,ac).send("configure",{verbosity:this.verbosity})},MX=function(e){M(this,Hh,e),M(this,ac,new X2("main","worker",e)),d(this,ac).on("ready",()=>{}),z(this,vo,ZS).call(this)},OX=function(){if(d(ri,Qg)||d(ri,Bw,e5)){z(this,vo,ix).call(this);return}let{workerSrc:e}=ri;try{ri._isSameOrigin(window.location,e)||(e=ri._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new X2("main","worker",t),i=()=>{s.abort(),n.destroy(),t.terminate(),this.destroyed?d(this,Gd).reject(new Error("Worker was destroyed")):z(this,vo,ix).call(this)},s=new AbortController;t.addEventListener("error",()=>{d(this,Og)||i()},{signal:s.signal}),n.on("test",o=>{if(s.abort(),this.destroyed||!o){i();return}M(this,ac,n),M(this,Hh,t),M(this,Og,t),z(this,vo,ZS).call(this)}),n.on("ready",o=>{if(s.abort(),this.destroyed){i();return}try{a()}catch{z(this,vo,ix).call(this)}});const a=()=>{const o=new Uint8Array;n.send("test",o,[o.buffer])};a();return}catch{T4("The worker has been disabled.")}z(this,vo,ix).call(this)},ix=function(){d(ri,Qg)||(Ar("Setting up fake worker."),M(ri,Qg,!0)),ri._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){d(this,Gd).reject(new Error("Worker was destroyed"));return}const t=new jve;M(this,Hh,t);const n=`fake${Hi(ri,PF)._++}`,i=new X2(n+"_worker",n,t);e.setup(i,t),M(this,ac,new X2(n,n+"_worker",t)),z(this,vo,ZS).call(this)}).catch(e=>{d(this,Gd).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},Bw=new WeakSet,e5=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},V(ri,Bw),V(ri,PF,0),V(ri,Qg,!1),V(ri,Hg,new WeakMap),uo&&(M(ri,Qg,!0),Su.workerSrc||(Su.workerSrc="./pdf.worker.mjs")),ri._isSameOrigin=(e,t)=>{const n=URL.parse(e);if(!(n!=null&&n.origin)||n.origin==="null")return!1;const i=new URL(t,n);return n.origin===i.origin},ri._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},ri.fromPort=e=>{if(Bve("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return ri.create(e)};let W_=ri;var Vh,pu,Sw,Tw,jh,Vg,sx;class Dwe{constructor(e,t,n,i,s,a){V(this,Vg);V(this,Vh,new Map);V(this,pu,new Map);V(this,Sw,new Map);V(this,Tw,new Map);V(this,jh,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new kX,this.fontLoader=new Uve({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=a,this.setupMessageHandler()}get annotationStorage(){return Er(this,"annotationStorage",new jU)}getRenderingIntent(e,t=_d.ENABLE,n=null,i=!1,s=!1){let a=Ul.DISPLAY,o=xP;switch(e){case"any":a=Ul.ANY;break;case"display":break;case"print":a=Ul.PRINT;break;default:Ar(`getRenderingIntent - invalid intent: ${e}`)}const l=a&Ul.PRINT&&n instanceof pX?n:this.annotationStorage;switch(t){case _d.DISABLE:a+=Ul.ANNOTATIONS_DISABLE;break;case _d.ENABLE:break;case _d.ENABLE_FORMS:a+=Ul.ANNOTATIONS_FORMS;break;case _d.ENABLE_STORAGE:a+=Ul.ANNOTATIONS_STORAGE,o=l.serializable;break;default:Ar(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(a+=Ul.IS_EDITING),s&&(a+=Ul.OPLIST);const{ids:A,hash:c}=l.modifiedIds,u=[a,o.hash,c];return{renderingIntent:a,cacheKey:u.join("_"),annotationStorageSerializable:o,modifiedIds:A}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=d(this,jh))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of d(this,pu).values())e.push(i._destroy());d(this,pu).clear(),d(this,Sw).clear(),d(this,Tw).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i,s;this.commonObjs.clear(),this.fontLoader.clear(),d(this,Vh).clear(),this.filterFactory.destroy(),z_.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new np("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,i)=>{Ur(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){i.close();return}Ur(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async n=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:a}=this._fullReader;return(!i||!s)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),this._fullReader.onProgress=l=>{var A;(A=t.onProgress)==null||A.call(t,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:s,contentLength:a}}),e.on("GetRangeReader",(n,i)=>{Ur(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(n.begin,n.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:a,done:o}){if(o){i.close();return}Ur(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{s.cancel(a),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new Pwe(n,this))}),e.on("DocException",n=>{t._capability.reject(No(n))}),e.on("PasswordRequest",n=>{M(this,jh,Promise.withResolvers());try{if(!t.onPassword)throw No(n);const i=s=>{s instanceof Error?d(this,jh).reject(s):d(this,jh).resolve({password:s})};t.onPassword(i,n.code)}catch(i){d(this,jh).reject(i)}return d(this,jh).promise}),e.on("DataLoaded",n=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;d(this,pu).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,i,s])=>{var a;if(this.destroyed||this.commonObjs.has(n))return null;switch(i){case"Font":if("error"in s){const u=s.error;Ar(`Error during font loading: ${u}`),this.commonObjs.resolve(n,u);break}const o=new LP(s),l=this._params.pdfBug&&((a=globalThis.FontInspector)!=null&&a.enabled)?(u,h)=>globalThis.FontInspector.fontAdded(u,h):null,A=new Mve(o,l,s.extra,s.charProcOperatorList);this.fontLoader.bind(A).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!A.fontExtraProperties&&A.data&&A.clearData(),this.commonObjs.resolve(n,A)});break;case"CopyLocalImage":const{imageRef:c}=s;Ur(c,"The imageRef must be defined.");for(const u of d(this,pu).values())for(const[,h]of u.objs)if((h==null?void 0:h.ref)===c)return h.dataLen?(this.commonObjs.resolve(n,structuredClone(h)),h.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([n,i,s,a])=>{var l;if(this.destroyed)return;const o=d(this,pu).get(i);if(!o.objs.has(n)){if(o._intentStates.size===0){(l=a==null?void 0:a.bitmap)==null||l.close();return}switch(s){case"Image":case"Pattern":o.objs.resolve(n,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",n=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:n.loaded,total:n.total})}),e.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[n.type];if(!i)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&Ar("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=d(this,Sw).get(t);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&d(this,Tw).set(s.refStr,e);const a=new Rwe(t,s,this,this._params.pdfBug);return d(this,pu).set(t,a),a});return d(this,Sw).set(t,i),i}getPageIndex(e){return _P(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return z(this,Vg,sx).call(this,"GetFieldObjects")}hasJSActions(){return z(this,Vg,sx).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return z(this,Vg,sx).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return z(this,Vg,sx).call(this,"GetOptionalContentConfig").then(t=>new fwe(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=d(this,Vh).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,a;return{info:i[0],metadata:i[1]?new uwe(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return d(this,Vh).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of d(this,pu).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),d(this,Vh).clear(),this.filterFactory.destroy(!0),z_.cleanup()}}cachedPageNumber(e){if(!_P(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return d(this,Tw).get(t)??null}}Vh=new WeakMap,pu=new WeakMap,Sw=new WeakMap,Tw=new WeakMap,jh=new WeakMap,Vg=new WeakSet,sx=function(e,t=null){const n=d(this,Vh).get(e);if(n)return n;const i=this.messageHandler.sendWithPromise(e,t);return d(this,Vh).set(e,i),i};var $d;class Nwe{constructor(e){V(this,$d,null);Ce(this,"onContinue",null);Ce(this,"onError",null);M(this,$d,e)}get promise(){return d(this,$d).capability.promise}cancel(e=0){d(this,$d).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=d(this,$d).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=d(this,$d);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}$d=new WeakMap;var qd,jg;const Xp=class Xp{constructor({callback:e,params:t,objs:n,commonObjs:i,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:A,useRequestAnimationFrame:c=!1,pdfBug:u=!1,pageColors:h=null,enableHWA:f=!1,operationsFilter:g=null}){V(this,qd,null);this.callback=e,this.params=t,this.objs=n,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=A,this._pdfBug=u,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=c===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Nwe(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=f,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=g}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var l,A;if(this.cancelled)return;if(this._canvas){if(d(Xp,jg).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");d(Xp,jg).add(this._canvas)}this._pdfBug&&((l=globalThis.StepperManager)!=null&&l.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:n,transform:i,background:s,dependencyTracker:a}=this.params,o=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Sv(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,a),this.gfx.beginDrawing({transform:i,viewport:n,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,(A=this.graphicsReadyCallback)==null||A.call(this)}cancel(e=null,t=0){var n,i,s;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),d(this,qd)&&(window.cancelAnimationFrame(d(this,qd)),M(this,qd,null)),d(Xp,jg).delete(this._canvas),e||(e=new HU(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(s=(i=this.task).onError)==null||s.call(i,e)}operatorListChanged(){var e,t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.gfx.dependencyTracker)==null||e.growOperationsCount(this.operatorList.fnArray.length),(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?M(this,qd,window.requestAnimationFrame(()=>{M(this,qd,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),d(Xp,jg).delete(this._canvas),this.callback())))}};qd=new WeakMap,jg=new WeakMap,V(Xp,jg,new WeakSet);let MP=Xp;const Uwe="5.4.296",Mwe="f56dc8601";var El,Kg,Fw,ws,sE,Iw,Kh,aE,Xd,oc,oE,bn,OP,QP,HP,Qp,QX,Ad;const Uo=class Uo{constructor({editor:e=null,uiManager:t=null}){V(this,bn);V(this,El,null);V(this,Kg,null);V(this,Fw);V(this,ws,null);V(this,sE,!1);V(this,Iw,!1);V(this,Kh,null);V(this,aE);V(this,Xd,null);V(this,oc,null);var n,i;e?(M(this,Iw,!1),M(this,Kh,e)):M(this,Iw,!0),M(this,oc,(e==null?void 0:e._uiManager)||t),M(this,aE,d(this,oc)._eventBus),M(this,Fw,((n=e==null?void 0:e.color)==null?void 0:n.toUpperCase())||((i=d(this,oc))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),d(Uo,oE)||M(Uo,oE,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Er(this,"_keyboardManager",new pC([[["Escape","mac+Escape"],Uo.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Uo.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Uo.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Uo.prototype._moveToPrevious],[["Home","mac+Home"],Uo.prototype._moveToBeginning],[["End","mac+End"],Uo.prototype._moveToEnd]]))}renderButton(){const e=M(this,El,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",d(this,Kh)&&(e.ariaControls=`${d(this,Kh).id}_colorpicker_dropdown`);const t=d(this,oc)._signal;e.addEventListener("click",z(this,bn,Qp).bind(this),{signal:t}),e.addEventListener("keydown",z(this,bn,HP).bind(this),{signal:t});const n=M(this,Kg,document.createElement("span"));return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=d(this,Fw),e.append(n),e}renderMainDropdown(){const e=M(this,ws,z(this,bn,OP).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===d(this,El)){z(this,bn,Qp).call(this,e);return}const t=e.target.getAttribute("data-color");t&&z(this,bn,QP).call(this,t,e)}_moveToNext(e){var t,n;if(!d(this,bn,Ad)){z(this,bn,Qp).call(this,e);return}if(e.target===d(this,El)){(t=d(this,ws).firstChild)==null||t.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var t,n;if(e.target===((t=d(this,ws))==null?void 0:t.firstChild)||e.target===d(this,El)){d(this,bn,Ad)&&this._hideDropdownFromKeyboard();return}d(this,bn,Ad)||z(this,bn,Qp).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var t;if(!d(this,bn,Ad)){z(this,bn,Qp).call(this,e);return}(t=d(this,ws).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!d(this,bn,Ad)){z(this,bn,Qp).call(this,e);return}(t=d(this,ws).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=d(this,ws))==null||e.classList.add("hidden"),d(this,El).ariaExpanded="false",(t=d(this,Xd))==null||t.abort(),M(this,Xd,null)}_hideDropdownFromKeyboard(){var e;if(!d(this,Iw)){if(!d(this,bn,Ad)){(e=d(this,Kh))==null||e.unselect();return}this.hideDropdown(),d(this,El).focus({preventScroll:!0,focusVisible:d(this,sE)})}}updateColor(e){if(d(this,Kg)&&(d(this,Kg).style.backgroundColor=e),!d(this,ws))return;const t=d(this,oc).highlightColors.values();for(const n of d(this,ws).children)n.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=d(this,El))==null||e.remove(),M(this,El,null),M(this,Kg,null),(t=d(this,ws))==null||t.remove(),M(this,ws,null)}};El=new WeakMap,Kg=new WeakMap,Fw=new WeakMap,ws=new WeakMap,sE=new WeakMap,Iw=new WeakMap,Kh=new WeakMap,aE=new WeakMap,Xd=new WeakMap,oc=new WeakMap,oE=new WeakMap,bn=new WeakSet,OP=function(){const e=document.createElement("div"),t=d(this,oc)._signal;e.addEventListener("contextmenu",DA,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),d(this,Kh)&&(e.id=`${d(this,Kh).id}_colorpicker_dropdown`);for(const[n,i]of d(this,oc).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=n,s.setAttribute("data-l10n-id",d(Uo,oE)[n]);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=i,s.ariaSelected=i===d(this,Fw),s.addEventListener("click",z(this,bn,QP).bind(this,i),{signal:t}),e.append(s)}return e.addEventListener("keydown",z(this,bn,HP).bind(this),{signal:t}),e},QP=function(e,t){t.stopPropagation(),d(this,aE).dispatch("switchannotationeditorparams",{source:this,type:Nr.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},HP=function(e){Uo._keyboardManager.exec(this,e)},Qp=function(e){if(d(this,bn,Ad)){this.hideDropdown();return}if(M(this,sE,e.detail===0),d(this,Xd)||(M(this,Xd,new AbortController),window.addEventListener("pointerdown",z(this,bn,QX).bind(this),{signal:d(this,oc).combinedSignal(d(this,Xd))})),d(this,El).ariaExpanded="true",d(this,ws)){d(this,ws).classList.remove("hidden");return}const t=M(this,ws,z(this,bn,OP).call(this));d(this,El).append(t)},QX=function(e){var t;(t=d(this,ws))!=null&&t.contains(e.target)||this.hideDropdown()},Ad=function(){return d(this,ws)&&!d(this,ws).classList.contains("hidden")},V(Uo,oE,null);let zT=Uo;var gu,lE,kw,AE;const Yp=class Yp{constructor(e){V(this,gu,null);V(this,lE,null);V(this,kw,null);M(this,lE,e),M(this,kw,e._uiManager),d(Yp,AE)||M(Yp,AE,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(d(this,gu))return d(this,gu);const{editorType:e,colorType:t,colorValue:n}=d(this,lE),i=M(this,gu,document.createElement("input"));return i.type="color",i.value=n||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",d(Yp,AE)[e]),i.addEventListener("input",()=>{d(this,kw).updateParams(t,i.value)},{signal:d(this,kw)._signal}),i}update(e){d(this,gu)&&(d(this,gu).value=e)}destroy(){var e;(e=d(this,gu))==null||e.remove(),M(this,gu,null)}hideDropdown(){}};gu=new WeakMap,lE=new WeakMap,kw=new WeakMap,AE=new WeakMap,V(Yp,AE,null);let WT=Yp;function hH(r){return Math.floor(Math.max(0,Math.min(1,r))*255).toString(16).padStart(2,"0")}function w2(r){return Math.max(0,Math.min(255,255*r))}class fH{static CMYK_G([e,t,n,i]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=w2(e),[e,e,e]}static G_HTML([e]){const t=hH(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(w2)}static RGB_HTML(e){return`#${e.map(hH).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,n+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,n,i]){return[w2(1-Math.min(1,e+i)),w2(1-Math.min(1,n+i)),w2(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const i=1-e,s=1-t,a=1-n,o=Math.min(i,s,a);return["CMYK",i,s,a,o]}}class Owe{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Dn("Abstract method `_createSVG` called.")}}class GT extends Owe{_createSVG(e){return document.createElementNS(uh,e)}}const Qwe=9,Km=new WeakSet,Hwe=new Date().getTimezoneOffset()*60*1e3;class dH{static create(e){switch(e.data.annotationType){case ns.LINK:return new WU(e);case ns.TEXT:return new jwe(e);case ns.WIDGET:switch(e.data.fieldType){case"Tx":return new Kwe(e);case"Btn":return e.data.radioButton?new jX(e):e.data.checkBox?new Wwe(e):new Gwe(e);case"Ch":return new $we(e);case"Sig":return new zwe(e)}return new a1(e);case ns.POPUP:return new jP(e);case ns.FREETEXT:return new $X(e);case ns.LINE:return new Xwe(e);case ns.SQUARE:return new Ywe(e);case ns.CIRCLE:return new Jwe(e);case ns.POLYLINE:return new qX(e);case ns.CARET:return new eye(e);case ns.INK:return new GU(e);case ns.POLYGON:return new Zwe(e);case ns.HIGHLIGHT:return new XX(e);case ns.UNDERLINE:return new tye(e);case ns.SQUIGGLY:return new rye(e);case ns.STRIKEOUT:return new nye(e);case ns.STAMP:return new YX(e);case ns.FILEATTACHMENT:return new iye(e);default:return new vi(e)}}}var zg,Lw,wA,cE,VP;const IM=class IM{constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}={}){V(this,cE);V(this,zg,null);V(this,Lw,!1);V(this,wA,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return IM._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var n;const{data:e}=this,t=(n=this.annotationStorage)==null?void 0:n.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var o;const e=(o=this.annotationStorage)==null?void 0:o.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:n,rect:i}=this.data;let s=-1/0,a=-1/0;if((t==null?void 0:t.length)>=8){for(let l=0;l<t.length;l+=8)t[l+1]>a?(a=t[l+1],s=t[l+2]):t[l+1]===a&&(s=Math.max(s,t[l+2]));return[s,a]}if((n==null?void 0:n.length)>=1){for(const l of n)for(let A=0,c=l.length;A<c;A+=2)l[A+1]>a?(a=l[A+1],s=l[A]):l[A+1]===a&&(s=Math.max(s,l[A]));if(s!==1/0)return[s,a]}return i?[i[2],i[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:n,pageHeight:i,pageX:s,pageY:a}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-s)/n,e[1]=100*(e[1]-a)/i,e}get commentText(){var t,n,i;const{data:e}=this;return((n=(t=this.annotationStorage.getRawValue(`${V_}${e.id}`))==null?void 0:t.popup)==null?void 0:n.contents)||((i=e.contentsObj)==null?void 0:i.str)||""}set commentText(e){const{data:t}=this,n={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:n})||this.annotationStorage.setValue(`${V_}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:n,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,t;(t=((e=d(this,wA))==null?void 0:e.popup)||this.popup)==null||t.remove(),M(this,wA,this.popup=null)}updateEdited(e){var s;if(!this.container)return;e.rect&&(d(this,zg)||M(this,zg,{rect:this.data.rect.slice(0)}));const{rect:t,popup:n}=e;t&&z(this,cE,VP).call(this,t);let i=((s=d(this,wA))==null?void 0:s.popup)||this.popup;!i&&(n!=null&&n.text)&&(this._createPopup(n),i=d(this,wA).popup),i&&(i.updateEdited(e),n!=null&&n.deleted&&(i.remove(),M(this,wA,null),this.popup=null))}resetEdited(){var e;d(this,zg)&&(z(this,cE,VP).call(this,d(this,zg).rect),(e=d(this,wA))==null||e.popup.resetEdited(),M(this,zg,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),!(this instanceof a1)&&!(this instanceof WU)&&(s.tabIndex=0);const{style:a}=s;if(a.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof jP){const{rotation:p}=t;return!t.hasOwnCanvas&&p!==0&&this.setRotation(p,s),s}const{width:o,height:l}=this;if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const p=t.borderStyle.horizontalCornerRadius,v=t.borderStyle.verticalCornerRadius;if(p>0||v>0){const x=`calc(${p}px * var(--total-scale-factor)) / calc(${v}px * var(--total-scale-factor))`;a.borderRadius=x}else if(this instanceof jX){const x=`calc(${o}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;a.borderRadius=x}switch(t.borderStyle.style){case D1.SOLID:a.borderStyle="solid";break;case D1.DASHED:a.borderStyle="dashed";break;case D1.BEVELED:Ar("Unimplemented border style: beveled");break;case D1.INSET:Ar("Unimplemented border style: inset");break;case D1.UNDERLINE:a.borderBottomStyle="solid";break}const m=t.borderColor||null;m?(M(this,Lw,!0),a.borderColor=Tt.makeHexColor(m[0]|0,m[1]|0,m[2]|0)):a.borderWidth=0}const A=Tt.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:c,pageHeight:u,pageX:h,pageY:f}=i.rawDims;a.left=`${100*(A[0]-h)/c}%`,a.top=`${100*(A[1]-f)/u}%`;const{rotation:g}=t;return t.hasOwnCanvas||g===0?(a.width=`${100*o/c}%`,a.height=`${100*l/u}%`):this.setRotation(g,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims;let{width:s,height:a}=this;e%180!==0&&([s,a]=[a,s]),t.style.width=`${100*s/n}%`,t.style.height=`${100*a/i}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,i)=>{const s=i.detail[t],a=s[0],o=s.slice(1);i.target.style[n]=fH[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[n]:fH[`${a}_rgb`](o)})};return Er(this,"_commonActions",{display:t=>{const{display:n}=t.detail,i=n%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const i of Object.keys(t.detail)){const s=e[i]||n[i];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[i,s]of Object.entries(t)){const a=n[i];if(a){const o={detail:{[i]:s},target:e};a(o),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,i,s]=this.data.rect.map(p=>Math.fround(p));if(e.length===8){const[p,v,m,x]=e.subarray(2,6);if(i===p&&s===v&&t===m&&n===x)return}const{style:a}=this.container;let o;if(d(this,Lw)){const{borderColor:p,borderWidth:v}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${p}" stroke-width="${v}">`],this.container.classList.add("hasBorder")}const l=i-t,A=s-n,{svgFactory:c}=this,u=c.createElement("svg");u.classList.add("quadrilateralsContainer"),u.setAttribute("width",0),u.setAttribute("height",0),u.role="none";const h=c.createElement("defs");u.append(h);const f=c.createElement("clipPath"),g=`clippath_${this.data.id}`;f.setAttribute("id",g),f.setAttribute("clipPathUnits","objectBoundingBox"),h.append(f);for(let p=2,v=e.length;p<v;p+=8){const m=e[p],x=e[p+1],_=e[p+2],S=e[p+3],k=c.createElement("rect"),R=(_-t)/l,B=(s-x)/A,E=(m-_)/l,b=(x-S)/A;k.setAttribute("x",R),k.setAttribute("y",B),k.setAttribute("width",E),k.setAttribute("height",b),f.append(k),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${R}" y="${B}" width="${E}" height="${b}"/>`)}d(this,Lw)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(u),this.container.style.clipPath=`url(#${g})`}_createPopup(e=null){const{data:t}=this;let n,i;e?(n={str:e.text},i=e.date):(n=t.contentsObj,i=t.modificationDate);const s=M(this,wA,new jP({data:{color:t.color,titleObj:t.titleObj,modificationDate:i,contentsObj:n,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}));this.parent._commentManager||this.parent.div.append(s.render())}get hasPopupElement(){return!!(d(this,wA)||this.popup||this.data.popupRef)}get extraPopupElement(){return d(this,wA)}render(){Dn("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:a,exportValues:o}of i){if(s===-1||a===t)continue;const l=typeof o=="string"?o:null,A=document.querySelector(`[data-element-id="${a}"]`);if(A&&!Km.has(A)){Ar(`_getElementsByName - element not allowed: ${a}`);continue}n.push({id:a,exportValue:l,domElement:A})}return n}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,a=i.getAttribute("data-element-id");a!==t&&Km.has(i)&&n.push({id:a,exportValue:s,domElement:i})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};zg=new WeakMap,Lw=new WeakMap,wA=new WeakMap,cE=new WeakSet,VP=function(e){const{container:{style:t},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}}}=this;n==null||n.splice(0,4,...e),t.left=`${100*(e[0]-o)/s}%`,t.top=`${100*(a-e[3]+l)/a}%`,i===0?(t.width=`${100*(e[2]-e[0])/s}%`,t.height=`${100*(e[3]-e[1])/a}%`):this.setRotation(i)};let vi=IM;class Vwe extends vi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&(this._createPopup(e.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}var Hl,Hp,HX,VX;class WU extends vi{constructor(t,n=null){super(t,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});V(this,Hl);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:n}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let s=!1;return t.url?(n.addLinkAttributes(i,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(i,t.action,t.overlaidText),s=!0):t.attachment?(z(this,Hl,HX).call(this,i,t.attachment,t.overlaidText,t.attachmentDest),s=!0):t.setOCGState?(z(this,Hl,VX).call(this,i,t.setOCGState,t.overlaidText),s=!0):t.dest?(this._bindLink(i,t.dest,t.overlaidText),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),s=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container}_bindLink(t,n,i=""){t.href=this.linkService.getDestinationHash(n),t.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&z(this,Hl,Hp).call(this),i&&(t.title=i)}_bindNamedAction(t,n,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(n),!1),i&&(t.title=i),z(this,Hl,Hp).call(this)}_bindJSAction(t,n){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(n.actions)){const a=i.get(s);a&&(t[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:s}}),!1})}n.overlaidText&&(t.title=n.overlaidText),t.onclick||(t.onclick=()=>!1),z(this,Hl,Hp).call(this)}_bindResetFormAction(t,n){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),z(this,Hl,Hp).call(this),!this._fieldObjects){Ar('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var u;i==null||i();const{fields:s,refs:a,include:o}=n,l=[];if(s.length!==0||a.length!==0){const h=new Set(a);for(const f of s){const g=this._fieldObjects[f]||[];for(const{id:p}of g)h.add(p)}for(const f of Object.values(this._fieldObjects))for(const g of f)h.has(g.id)===o&&l.push(g)}else for(const h of Object.values(this._fieldObjects))l.push(...h);const A=this.annotationStorage,c=[];for(const h of l){const{id:f}=h;switch(c.push(f),h.type){case"text":{const p=h.defaultValue||"";A.setValue(f,{value:p});break}case"checkbox":case"radiobutton":{const p=h.defaultValue===h.exportValues;A.setValue(f,{value:p});break}case"combobox":case"listbox":{const p=h.defaultValue||"";A.setValue(f,{value:p});break}default:continue}const g=document.querySelector(`[data-element-id="${f}"]`);if(g){if(!Km.has(g)){Ar(`_bindResetFormAction - element not allowed: ${f}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:c,name:"ResetForm"}})),!1}}}Hl=new WeakSet,Hp=function(){this.container.setAttribute("data-internal-link","")},HX=function(t,n,i="",s=null){t.href=this.linkService.getAnchorUrl(""),n.description?t.title=n.description:i&&(t.title=i),t.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(n.content,n.filename,s),!1},z(this,Hl,Hp).call(this)},VX=function(t,n,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(n),!1),i&&(t.title=i),z(this,Hl,Hp).call(this)};class jwe extends vi{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class a1 extends vi{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return ga.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,i,s){n.includes("mouse")?e.addEventListener(n,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(n,a=>{var o;if(n==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}s&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a)}}))})}_setEventListeners(e,t,n,i){var s,a,o;for(const[l,A]of n)(A==="Action"||(s=this.data.actions)!=null&&s[A])&&((A==="Focus"||A==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,A,i),A==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,t,"blur","Blur",null):A==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Tt.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||Qwe,s=e.style;let a;const o=2,l=A=>Math.round(10*A)/10;if(this.data.multiLine){const A=Math.abs(this.data.rect[3]-this.data.rect[1]-o),c=Math.round(A/(lk*i))||1,u=A/c;a=Math.min(i,l(u/lk))}else{const A=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(i,l(A/lk))}s.fontSize=`calc(${a}px * var(--total-scale-factor))`,s.color=Tt.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class Kwe extends a1{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,i){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=n),s.setValue(a.id,{[i]:n})}render(){var i,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let o=a.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let A=a.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;A&&this.data.comb&&(A=A.replaceAll(/\s+/g,""));const c={userValue:o,formattedValue:A,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=A??o,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",A??o),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Km.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:u,datetimeType:h,timeStep:f}=this.data,g=!!h&&this.enableScripting;u&&(n.title=u),this._setRequired(n,this.data.required),l&&(n.maxLength=l),n.addEventListener("input",v=>{e.setValue(t,{value:v.target.value}),this.setPropertyOnSiblings(n,"value",v.target.value,"value"),c.formattedValue=null}),n.addEventListener("resetform",v=>{const m=this.data.defaultFieldValue??"";n.value=c.userValue=m,c.formattedValue=null});let p=v=>{const{formattedValue:m}=c;m!=null&&(v.target.value=m),v.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",m=>{var _;if(c.focused)return;const{target:x}=m;if(g&&(x.type=h,f&&(x.step=f)),c.userValue){const S=c.userValue;if(g)if(h==="time"){const k=new Date(S),R=[k.getHours(),k.getMinutes(),k.getSeconds()];x.value=R.map(B=>B.toString().padStart(2,"0")).join(":")}else x.value=new Date(S-Hwe).toISOString().split(h==="date"?"T":".",1)[0];else x.value=S}c.lastCommittedValue=x.value,c.commitKey=1,(_=this.data.actions)!=null&&_.Focus||(c.focused=!0)}),n.addEventListener("updatefromsandbox",m=>{this.showElementAndHideCanvas(m.target);const x={value(_){c.userValue=_.detail.value??"",g||e.setValue(t,{value:c.userValue.toString()}),_.target.value=c.userValue},formattedValue(_){const{formattedValue:S}=_.detail;c.formattedValue=S,S!=null&&_.target!==document.activeElement&&(_.target.value=S);const k={formattedValue:S};g&&(k.value=S),e.setValue(t,k)},selRange(_){_.target.setSelectionRange(..._.detail.selRange)},charLimit:_=>{var B;const{charLimit:S}=_.detail,{target:k}=_;if(S===0){k.removeAttribute("maxLength");return}k.setAttribute("maxLength",S);let R=c.userValue;!R||R.length<=S||(R=R.slice(0,S),k.value=c.userValue=R,e.setValue(t,{value:R}),(B=this.linkService.eventBus)==null||B.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:R,willCommit:!0,commitKey:1,selStart:k.selectionStart,selEnd:k.selectionEnd}}))}};this._dispatchEventFromSandbox(x,m)}),n.addEventListener("keydown",m=>{var S;c.commitKey=1;let x=-1;if(m.key==="Escape"?x=0:m.key==="Enter"&&!this.data.multiLine?x=2:m.key==="Tab"&&(c.commitKey=3),x===-1)return;const{value:_}=m.target;c.lastCommittedValue!==_&&(c.lastCommittedValue=_,c.userValue=_,(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:_,willCommit:!0,commitKey:x,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}}))});const v=p;p=null,n.addEventListener("blur",m=>{var S,k;if(!c.focused||!m.relatedTarget)return;(S=this.data.actions)!=null&&S.Blur||(c.focused=!1);const{target:x}=m;let{value:_}=x;if(g){if(_&&h==="time"){const R=_.split(":").map(B=>parseInt(B,10));_=new Date(2e3,0,1,R[0],R[1],R[2]||0).valueOf(),x.step=""}else _.includes("T")||(_=`${_}T00:00`),_=new Date(_).valueOf();x.type="text"}c.userValue=_,c.lastCommittedValue!==_&&((k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:_,willCommit:!0,commitKey:c.commitKey,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}})),v(m)}),(s=this.data.actions)!=null&&s.Keystroke&&n.addEventListener("beforeinput",m=>{var b;c.lastCommittedValue=null;const{data:x,target:_}=m,{value:S,selectionStart:k,selectionEnd:R}=_;let B=k,E=R;switch(m.inputType){case"deleteWordBackward":{const I=S.substring(0,k).match(/\w*[^\w]*$/);I&&(B-=I[0].length);break}case"deleteWordForward":{const I=S.substring(k).match(/^[^\w]*\w*/);I&&(E+=I[0].length);break}case"deleteContentBackward":k===R&&(B-=1);break;case"deleteContentForward":k===R&&(E+=1);break}m.preventDefault(),(b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:S,change:x||"",willCommit:!1,selStart:B,selEnd:E}})}),this._setEventListeners(n,c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],m=>m.target.value)}if(p&&n.addEventListener("blur",p),this.data.comb){const m=(this.data.rect[2]-this.data.rect[0])/l;n.classList.add("comb"),n.style.letterSpacing=`calc(${m}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class zwe extends a1{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class Wwe extends a1{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return Km.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const A of this._getElementsByName(o,n)){const c=l&&A.exportValue===t.exportValue;A.domElement&&(A.domElement.checked=c),e.setValue(A.id,{value:c})}e.setValue(n,{value:l})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue||"Off";a.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(n,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class jX extends a1{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(n,{value:i})),i)for(const a of this._getElementsByName(t.fieldName,n))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(Km.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const A of this._getElementsByName(o,n))e.setValue(A.id,{value:!1});e.setValue(n,{value:l})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue;a.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;s.addEventListener("updatefromsandbox",o=>{const l={value:A=>{const c=a===A.detail.value;for(const u of this._getElementsByName(A.target.name)){const h=c&&u.id===n;u.domElement&&(u.domElement.checked=h),e.setValue(u.id,{value:h})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Gwe extends WU{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class $we extends a1{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");Km.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",c=>{const u=this.data.defaultFieldValue;for(const h of i.options)h.selected=h.value===u});for(const c of this.data.options){const u=document.createElement("option");u.textContent=c.displayValue,u.value=c.exportValue,n.value.includes(c.exportValue)&&(u.setAttribute("selected",!0),s=!1),i.append(u)}let a=null;if(s){const c=document.createElement("option");c.value=" ",c.setAttribute("hidden",!0),c.setAttribute("selected",!0),i.prepend(c),a=()=>{c.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const o=c=>{const u=c?"value":"textContent",{options:h,multiple:f}=i;return f?Array.prototype.filter.call(h,g=>g.selected).map(g=>g[u]):h.selectedIndex===-1?null:h[h.selectedIndex][u]};let l=o(!1);const A=c=>{const u=c.target.options;return Array.prototype.map.call(u,h=>({displayValue:h.textContent,exportValue:h.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",c=>{const u={value(h){a==null||a();const f=h.detail.value,g=new Set(Array.isArray(f)?f:[f]);for(const p of i.options)p.selected=g.has(p.value);e.setValue(t,{value:o(!0)}),l=o(!1)},multipleSelection(h){i.multiple=!0},remove(h){const f=i.options,g=h.detail.remove;f[g].selected=!1,i.remove(g),f.length>0&&Array.prototype.findIndex.call(f,v=>v.selected)===-1&&(f[0].selected=!0),e.setValue(t,{value:o(!0),items:A(h)}),l=o(!1)},clear(h){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),l=o(!1)},insert(h){const{index:f,displayValue:g,exportValue:p}=h.detail.insert,v=i.children[f],m=document.createElement("option");m.textContent=g,m.value=p,v?v.before(m):i.append(m),e.setValue(t,{value:o(!0),items:A(h)}),l=o(!1)},items(h){const{items:f}=h.detail;for(;i.length!==0;)i.remove(0);for(const g of f){const{displayValue:p,exportValue:v}=g,m=document.createElement("option");m.textContent=p,m.value=v,i.append(m)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:o(!0),items:A(h)}),l=o(!1)},indices(h){const f=new Set(h.detail.indices);for(const g of h.target.options)g.selected=f.has(g.index);e.setValue(t,{value:o(!0)}),l=o(!1)},editable(h){h.target.disabled=!h.detail.editable}};this._dispatchEventFromSandbox(u,c)}),i.addEventListener("input",c=>{var f;const u=o(!0),h=o(!1);e.setValue(t,{value:u}),c.preventDefault(),(f=this.linkService.eventBus)==null||f.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:h,changeEx:u,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],c=>c.target.value)):i.addEventListener("input",function(c){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}var uE,KP;class jP extends vi{constructor(t){const{data:n,elements:i,parent:s}=t,a=!!s._commentManager;super(t,{isRenderable:!a&&vi._hasPopupData(n)});V(this,uE);if(this.elements=i,a&&vi._hasPopupData(n)){const o=this.popup=z(this,uE,KP).call(this);for(const l of i)l.popup=o}else this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const n=this.popup=z(this,uE,KP).call(this),i=[];for(const s of this.elements)s.popup=n,s.container.ariaHasPopup="dialog",i.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(s=>`${QU}${s}`).join(",")),this.container}}uE=new WeakSet,KP=function(){return new qwe({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var Cl,Yd,RF,DF,Pw,Rw,Fi,mu,Jd,Wg,Dw,Nw,vu,Bl,zh,Wh,Ps,Gh,Zd,hE,$h,Uw,Gg,e0,Ra,t0,_r,t5,zP,WP,GP,r5,$P,KX,zX,WX,GX,n5,i5,qP;class qwe{constructor({container:e,color:t,elements:n,titleObj:i,modificationDate:s,contentsObj:a,richText:o,parent:l,rect:A,parentRect:c,open:u,commentManager:h=null}){V(this,_r);V(this,Cl,null);V(this,Yd,z(this,_r,WX).bind(this));V(this,RF,z(this,_r,qP).bind(this));V(this,DF,z(this,_r,i5).bind(this));V(this,Pw,z(this,_r,n5).bind(this));V(this,Rw,null);V(this,Fi,null);V(this,mu,null);V(this,Jd,null);V(this,Wg,null);V(this,Dw,null);V(this,Nw,null);V(this,vu,!1);V(this,Bl,null);V(this,zh,null);V(this,Wh,null);V(this,Ps,null);V(this,Gh,null);V(this,Zd,null);V(this,hE,null);V(this,$h,null);V(this,Uw,null);V(this,Gg,null);V(this,e0,!1);V(this,Ra,null);V(this,t0,null);M(this,Fi,e),M(this,Uw,i),M(this,mu,a),M(this,$h,o),M(this,Dw,l),M(this,Rw,t),M(this,hE,A),M(this,Nw,c),M(this,Wg,n),M(this,Cl,h),M(this,Ra,n[0]),M(this,Jd,OT.toDateObject(s)),this.trigger=n.flatMap(f=>f.getElementsToTriggerPopup()),h?this.renderCommentButton():(z(this,_r,t5).call(this),d(this,Fi).hidden=!0,u&&z(this,_r,n5).call(this))}renderCommentButton(){if(d(this,Ps)||(d(this,Gh)||z(this,_r,zP).call(this),!d(this,Gh)))return;const{signal:e}=M(this,zh,new AbortController),t=!!d(this,Ra).extraPopupElement,n=()=>{d(this,Cl).toggleCommentPopup(this,!0,void 0,!t)},i=()=>{d(this,Cl).toggleCommentPopup(this,!1,!0,!t)},s=()=>{d(this,Cl).toggleCommentPopup(this,!1,!1)};if(t){M(this,Ps,d(this,Ra).container);for(const a of this.trigger)a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.addEventListener("keydown",d(this,Yd),{signal:e}),a.addEventListener("click",n,{signal:e}),a.addEventListener("pointerenter",i,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),a.classList.add("popupTriggerArea")}else{const a=M(this,Ps,document.createElement("button"));a.className="annotationCommentButton";const o=d(this,Ra).container;a.style.zIndex=o.style.zIndex+1,a.tabIndex=0,a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.setAttribute("data-l10n-id","pdfjs-show-comment-button"),z(this,_r,GP).call(this),z(this,_r,WP).call(this),a.addEventListener("keydown",d(this,Yd),{signal:e}),a.addEventListener("click",n,{signal:e}),a.addEventListener("pointerenter",i,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),o.after(a)}}get commentButtonColor(){const{color:e,opacity:t}=d(this,Ra).commentData;return e?d(this,Dw)._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{var e;(e=d(this,Ps))==null||e.focus()},0)}getData(){const{richText:e,color:t,opacity:n,creationDate:i,modificationDate:s}=d(this,Ra).commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:n,creationDate:i,modificationDate:s}}get elementBeforePopup(){return d(this,Ps)}get comment(){return d(this,t0)||M(this,t0,d(this,Ra).commentText),d(this,t0)}set comment(e){e!==this.comment&&(d(this,Ra).commentText=M(this,t0,e))}get parentBoundingClientRect(){return d(this,Ra).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){d(this,Ps)&&(d(this,Ps).classList.toggle("selected",e),d(this,Ps).ariaExpanded=t)}setSelectedCommentButton(e){d(this,Ps).classList.toggle("selected",e)}get commentPopupPosition(){if(d(this,Zd))return d(this,Zd);const{x:e,y:t,height:n}=d(this,Ps).getBoundingClientRect(),{x:i,y:s,width:a,height:o}=d(this,Ra).layer.getBoundingClientRect();return[(e-i)/a,(t+n-s)/o]}set commentPopupPosition(e){M(this,Zd,e)}hasDefaultPopupPosition(){return d(this,Zd)===null}get commentButtonPosition(){return d(this,Gh)}get commentButtonWidth(){return d(this,Ps).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,n]=d(this,Zd)||this.commentButtonPosition.map(A=>A/100),i=this.parentBoundingClientRect,{x:s,y:a,width:o,height:l}=i;d(this,Cl).showDialog(null,this,s+t*o,a+n*l,{...e,parentDimensions:i})}render(){var n,i;if(d(this,Bl))return;const e=M(this,Bl,document.createElement("div"));if(e.className="popup",d(this,Rw)){const s=e.style.outlineColor=Tt.makeHexColor(...d(this,Rw));e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const t=document.createElement("span");if(t.className="header",(n=d(this,Uw))!=null&&n.str){const s=document.createElement("span");s.className="title",t.append(s),{dir:s.dir,str:s.textContent}=d(this,Uw)}if(e.append(t),d(this,Jd)){const s=document.createElement("time");s.className="popupDate",s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:d(this,Jd).valueOf()})),s.dateTime=d(this,Jd).toISOString(),t.append(s)}Uq({html:d(this,_r,r5)||d(this,mu).str,dir:(i=d(this,mu))==null?void 0:i.dir,className:"popupContent"},e),d(this,Fi).append(e)}updateEdited({rect:e,popup:t,deleted:n}){var i;if(d(this,Cl)){n?(this.remove(),M(this,t0,null)):t&&(t.deleted?this.remove():(z(this,_r,GP).call(this),M(this,t0,t.text))),e&&(M(this,Gh,null),z(this,_r,zP).call(this),z(this,_r,WP).call(this));return}if(n||t!=null&&t.deleted){this.remove();return}z(this,_r,t5).call(this),d(this,Gg)||M(this,Gg,{contentsObj:d(this,mu),richText:d(this,$h)}),e&&M(this,Wh,null),t&&t.text&&(M(this,$h,z(this,_r,zX).call(this,t.text)),M(this,Jd,OT.toDateObject(t.date)),M(this,mu,null)),(i=d(this,Bl))==null||i.remove(),M(this,Bl,null)}resetEdited(){var e;d(this,Gg)&&({contentsObj:Hi(this,mu)._,richText:Hi(this,$h)._}=d(this,Gg),M(this,Gg,null),(e=d(this,Bl))==null||e.remove(),M(this,Bl,null),M(this,Wh,null))}remove(){var e,t,n;if((e=d(this,zh))==null||e.abort(),M(this,zh,null),(t=d(this,Bl))==null||t.remove(),M(this,Bl,null),M(this,e0,!1),M(this,vu,!1),(n=d(this,Ps))==null||n.remove(),M(this,Ps,null),this.trigger)for(const i of this.trigger)i.classList.remove("popupTriggerArea")}forceHide(){M(this,e0,this.isVisible),d(this,e0)&&(d(this,Fi).hidden=!0)}maybeShow(){d(this,Cl)||(z(this,_r,t5).call(this),d(this,e0)&&(d(this,Bl)||z(this,_r,i5).call(this),M(this,e0,!1),d(this,Fi).hidden=!1))}get isVisible(){return d(this,Cl)?!1:d(this,Fi).hidden===!1}}Cl=new WeakMap,Yd=new WeakMap,RF=new WeakMap,DF=new WeakMap,Pw=new WeakMap,Rw=new WeakMap,Fi=new WeakMap,mu=new WeakMap,Jd=new WeakMap,Wg=new WeakMap,Dw=new WeakMap,Nw=new WeakMap,vu=new WeakMap,Bl=new WeakMap,zh=new WeakMap,Wh=new WeakMap,Ps=new WeakMap,Gh=new WeakMap,Zd=new WeakMap,hE=new WeakMap,$h=new WeakMap,Uw=new WeakMap,Gg=new WeakMap,e0=new WeakMap,Ra=new WeakMap,t0=new WeakMap,_r=new WeakSet,t5=function(){var t;if(d(this,zh))return;M(this,zh,new AbortController);const{signal:e}=d(this,zh);for(const n of this.trigger)n.addEventListener("click",d(this,Pw),{signal:e}),n.addEventListener("pointerenter",d(this,DF),{signal:e}),n.addEventListener("pointerleave",d(this,RF),{signal:e}),n.classList.add("popupTriggerArea");for(const n of d(this,Wg))(t=n.container)==null||t.addEventListener("keydown",d(this,Yd),{signal:e})},zP=function(){const e=d(this,Wg).find(t=>t.hasCommentButton);e&&M(this,Gh,e._normalizePoint(e.commentButtonPosition))},WP=function(){if(d(this,Ra).extraPopupElement&&!d(this,Ra).editor)return;this.renderCommentButton();const[e,t]=d(this,Gh),{style:n}=d(this,Ps);n.left=`calc(${e}%)`,n.top=`calc(${t}% - var(--comment-button-dim))`},GP=function(){d(this,Ra).extraPopupElement||(this.renderCommentButton(),d(this,Ps).style.backgroundColor=this.commentButtonColor||"")},r5=function(){const e=d(this,$h),t=d(this,mu);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&d(this,$h).html||null},$P=function(){var e,t,n;return((n=(t=(e=d(this,_r,r5))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.fontSize)||0},KX=function(){var e,t,n;return((n=(t=(e=d(this,_r,r5))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.color)||null},zX=function(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:d(this,_r,KX),fontSize:d(this,_r,$P)?`calc(${d(this,_r,$P)}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:i});return n},WX=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&d(this,vu))&&z(this,_r,n5).call(this)},GX=function(){if(d(this,Wh)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:i,pageY:s}}}=d(this,Dw);let a=!!d(this,Nw),o=a?d(this,Nw):d(this,hE);for(const g of d(this,Wg))if(!o||Tt.intersect(g.data.rect,o)!==null){o=g.data.rect,a=!0;break}const l=Tt.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),c=a?o[2]-o[0]+5:0,u=l[0]+c,h=l[1];M(this,Wh,[100*(u-i)/t,100*(h-s)/n]);const{style:f}=d(this,Fi);f.left=`${d(this,Wh)[0]}%`,f.top=`${d(this,Wh)[1]}%`},n5=function(){if(d(this,Cl)){d(this,Cl).toggleCommentPopup(this,!1);return}M(this,vu,!d(this,vu)),d(this,vu)?(z(this,_r,i5).call(this),d(this,Fi).addEventListener("click",d(this,Pw)),d(this,Fi).addEventListener("keydown",d(this,Yd))):(z(this,_r,qP).call(this),d(this,Fi).removeEventListener("click",d(this,Pw)),d(this,Fi).removeEventListener("keydown",d(this,Yd)))},i5=function(){d(this,Bl)||this.render(),this.isVisible?d(this,vu)&&d(this,Fi).classList.add("focused"):(z(this,_r,GX).call(this),d(this,Fi).hidden=!1,d(this,Fi).style.zIndex=parseInt(d(this,Fi).style.zIndex)+1e3)},qP=function(){d(this,Fi).classList.remove("focused"),!(d(this,vu)||!this.isVisible)&&(d(this,Fi).hidden=!0,d(this,Fi).style.zIndex=parseInt(d(this,Fi).style.zIndex)-1e3)};class $X extends vi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=dr.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var fE;class Xwe extends vi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});V(this,fE,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:n,height:i}=this,s=this.svgFactory.create(n,i,!0),a=M(this,fE,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,fE)}addHighlightArea(){this.container.classList.add("highlightArea")}}fE=new WeakMap;var dE;class Ywe extends vi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});V(this,dE,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:n,height:i}=this,s=this.svgFactory.create(n,i,!0),a=t.borderStyle.width,o=M(this,dE,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",n-a),o.setAttribute("height",i-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,dE)}addHighlightArea(){this.container.classList.add("highlightArea")}}dE=new WeakMap;var pE;class Jwe extends vi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});V(this,pE,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:n,height:i}=this,s=this.svgFactory.create(n,i,!0),a=t.borderStyle.width,o=M(this,pE,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",n/2),o.setAttribute("cy",i/2),o.setAttribute("rx",n/2-a/2),o.setAttribute("ry",i/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,pE)}addHighlightArea(){this.container.classList.add("highlightArea")}}pE=new WeakMap;var gE;class qX extends vi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});V(this,gE,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:n,borderStyle:i,popupRef:s},width:a,height:o}=this;if(!n)return this.container;const l=this.svgFactory.create(a,o,!0);let A=[];for(let u=0,h=n.length;u<h;u+=2){const f=n[u]-t[0],g=t[3]-n[u+1];A.push(`${f},${g}`)}A=A.join(" ");const c=M(this,gE,this.svgFactory.createElement(this.svgElementName));return c.setAttribute("points",A),c.setAttribute("stroke-width",i.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),l.append(c),this.container.append(l),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,gE)}addHighlightArea(){this.container.classList.add("highlightArea")}}gE=new WeakMap;class Zwe extends qX{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class eye extends vi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var mE,$g,vE,XP;class GU extends vi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});V(this,vE);V(this,mE,null);V(this,$g,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?dr.HIGHLIGHT:dr.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:n,inkLists:i,borderStyle:s,popupRef:a}}=this,{transform:o,width:l,height:A}=z(this,vE,XP).call(this,n,t),c=this.svgFactory.create(l,A,!0),u=M(this,mE,this.svgFactory.createElement("svg:g"));c.append(u),u.setAttribute("stroke-width",s.width||1),u.setAttribute("stroke-linecap","round"),u.setAttribute("stroke-linejoin","round"),u.setAttribute("stroke-miterlimit",10),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),u.setAttribute("transform",o);for(let h=0,f=i.length;h<f;h++){const g=this.svgFactory.createElement(this.svgElementName);d(this,$g).push(g),g.setAttribute("points",i[h].join(",")),u.append(g)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(c),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:n,points:i,rect:s}=t,a=d(this,mE);if(n>=0&&a.setAttribute("stroke-width",n||1),i)for(let o=0,l=d(this,$g).length;o<l;o++)d(this,$g)[o].setAttribute("points",i[o].join(","));if(s){const{transform:o,width:l,height:A}=z(this,vE,XP).call(this,this.data.rotation,s);a.parentElement.setAttribute("viewBox",`0 0 ${l} ${A}`),a.setAttribute("transform",o)}}getElementsToTriggerPopup(){return d(this,$g)}addHighlightArea(){this.container.classList.add("highlightArea")}}mE=new WeakMap,$g=new WeakMap,vE=new WeakSet,XP=function(t,n){switch(t){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}};class XX extends vi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=dr.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class tye extends vi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class rye extends vi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class nye extends vi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class YX extends vi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=dr.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var wE,yE,YP;class iye extends vi{constructor(t){var i;super(t,{isRenderable:!0});V(this,yE);V(this,wE,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:n}=this;let i;n.hasAppearance||n.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),i.addEventListener("dblclick",z(this,yE,YP).bind(this)),M(this,wE,i);const{isMac:s}=ga.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(s?a.metaKey:a.ctrlKey)&&z(this,yE,YP).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return d(this,wE)}addHighlightArea(){this.container.classList.add("highlightArea")}}wE=new WeakMap,yE=new WeakSet,YP=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Mw,qg,Ow,r0,xE,Xg,cp,ZP,eR;const kM=class kM{constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:i,page:s,viewport:a,structTreeLayer:o,commentManager:l,linkService:A,annotationStorage:c}){V(this,cp);V(this,Mw,null);V(this,qg,null);V(this,Ow,null);V(this,r0,new Map);V(this,xE,null);V(this,Xg,null);this.div=e,M(this,Mw,t),M(this,qg,n),M(this,xE,o||null),M(this,Xg,A||null),M(this,Ow,c||new jU),this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=l||null}hasEditableAnnotations(){return d(this,r0).size>0}async render(e){var a,o,l;const{annotations:t}=e,n=this.div;Vm(n,this.viewport);const i=new Map,s={data:null,layer:n,linkService:d(this,Xg),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new GT,annotationStorage:d(this,Ow),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const A of t){if(A.noHTML)continue;const c=A.annotationType===ns.POPUP;if(c){const f=i.get(A.id);if(!f)continue;s.elements=f}else if(A.rect[2]===A.rect[0]||A.rect[3]===A.rect[1])continue;s.data=A;const u=dH.create(s);if(!u.isRenderable)continue;if(!c&&A.popupRef){const f=i.get(A.popupRef);f?f.push(u):i.set(A.popupRef,[u])}const h=u.render();A.hidden&&(h.style.visibility="hidden"),await z(this,cp,ZP).call(this,h,A.id,s.elements),(o=(a=u.extraPopupElement)==null?void 0:a.popup)==null||o.renderCommentButton(),u._isEditable&&(d(this,r0).set(u.data.id,u),(l=this._annotationEditorUIManager)==null||l.renderAnnotationElement(u))}z(this,cp,eR).call(this)}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:d(this,Xg),svgFactory:new GT,parent:this};for(const n of e){n.borderStyle||(n.borderStyle=kM._defaultBorderStyle),t.data=n;const i=dH.create(t);if(!i.isRenderable)continue;const s=i.render();await z(this,cp,ZP).call(this,s,n.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,Vm(t,{rotation:e.rotation}),z(this,cp,eR).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(d(this,r0).values())}getEditableAnnotation(e){return d(this,r0).get(e)}addFakeAnnotation(e){var o;const{div:t}=this,{id:n,rotation:i}=e,s=new Vwe({data:{id:n,rect:e.getPDFRect(),rotation:i},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:d(this,Xg),annotationStorage:d(this,Ow)}),a=s.render();return t.append(a),(o=d(this,Mw))==null||o.moveElementInDOM(t,a,a,!1),s.createOrUpdatePopup(),s}static get _defaultBorderStyle(){return Er(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:D1.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};Mw=new WeakMap,qg=new WeakMap,Ow=new WeakMap,r0=new WeakMap,xE=new WeakMap,Xg=new WeakMap,cp=new WeakSet,ZP=async function(e,t,n){var o,l;const i=e.firstChild||e,s=i.id=`${QU}${t}`,a=await((o=d(this,xE))==null?void 0:o.getAriaAttributes(s));if(a)for(const[A,c]of a)i.setAttribute(A,c);n?n.at(-1).container.after(e):(this.div.append(e),(l=d(this,Mw))==null||l.moveElementInDOM(this.div,e,i,!1))},eR=function(){var t;if(!d(this,qg))return;const e=this.div;for(const[n,i]of d(this,qg)){const s=e.querySelector(`[data-annotation-id="${n}"]`);if(!s)continue;i.className="annotationContent";const{firstChild:a}=s;a?a.nodeName==="CANVAS"?a.replaceWith(i):a.classList.contains("annotationContent")?a.after(i):a.before(i):s.append(i);const o=d(this,r0).get(n);o&&(o._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(n,s.id,i),o._hasNoCanvas=!1):o.canvas=i)}d(this,qg).clear()};let JP=kM;const SB=/\r\n?|\n/g;var Sl,_E,Yg,Tl,us,JX,ZX,eY,s5,xf,a5,o5,tY,rR,rY;const $n=class $n extends Kn{constructor(t){super({...t,name:"freeTextEditor"});V(this,us);V(this,Sl,"");V(this,_E,`${this.id}-editor`);V(this,Yg,null);V(this,Tl);Ce(this,"_colorPicker",null);this.color=t.color||$n._defaultColor||Kn._defaultLineColor,M(this,Tl,t.fontSize||$n._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const t=$n.prototype,n=a=>a.isEmpty(),i=jm.TRANSLATE_SMALL,s=jm.TRANSLATE_BIG;return Er(this,"_keyboardManager",new pC([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:n}]]))}static initialize(t,n){Kn.initialize(t,n);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case Nr.FREETEXT_SIZE:$n._defaultFontSize=n;break;case Nr.FREETEXT_COLOR:$n._defaultColor=n;break}}updateParams(t,n){switch(t){case Nr.FREETEXT_SIZE:z(this,us,JX).call(this,n);break;case Nr.FREETEXT_COLOR:z(this,us,ZX).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Nr.FREETEXT_SIZE,$n._defaultFontSize],[Nr.FREETEXT_COLOR,$n._defaultColor||Kn._defaultLineColor]]}get propertiesToUpdate(){return[[Nr.FREETEXT_SIZE,d(this,Tl)],[Nr.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new WT(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Nr.FREETEXT_COLOR}onUpdatedColor(){var t;this.editorDiv.style.color=this.color,(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_translateEmpty(t,n){this._uiManager.translateSelectedEditors(t,n,!0)}getInitialTranslation(){const t=this.parentScale;return[-$n._internalPadding*t,-($n._internalPadding+d(this,Tl))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),M(this,Yg,new AbortController);const t=this._uiManager.combinedSignal(d(this,Yg));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",d(this,_E)),this._isDraggable=!0,(t=d(this,Yg))==null||t.abort(),M(this,Yg,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var n;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(n=this._initialOptions)!=null&&n.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=d(this,Sl),n=M(this,Sl,z(this,us,eY).call(this).trimEnd());if(t===n)return;const i=s=>{if(M(this,Sl,s),!s){this.remove();return}z(this,us,o5).call(this),this._uiManager.rebuild(this),z(this,us,s5).call(this)};this.addCommands({cmd:()=>{i(n)},undo:()=>{i(t)},mustExec:!1}),z(this,us,s5).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){$n._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,n;(this._isCopy||this.annotationElementId)&&(t=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",d(this,_E)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${d(this,Tl)}px * var(--total-scale-factor))`,i.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[l,A]=this.getInitialTranslation();[l,A]=this.pageTranslationToScreen(l,A);const[c,u]=this.pageDimensions,[h,f]=this.pageTranslation;let g,p;switch(this.rotation){case 0:g=t+(o[0]-h)/c,p=n+this.height-(o[1]-f)/u;break;case 90:g=t+(o[0]-h)/c,p=n-(o[1]-f)/u,[l,A]=[A,-l];break;case 180:g=t-this.width+(o[0]-h)/c,p=n-(o[1]-f)/u,[l,A]=[-l,-A];break;case 270:g=t+(o[0]-h-this.height*u)/c,p=n+(o[1]-f-this.width*c)/u,[l,A]=[-A,l];break}this.setAt(g*s,p*a,l,A)}else this._moveAfterPaste(t,n);z(this,us,o5).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var g,p,v;const n=t.clipboardData||window.clipboardData,{types:i}=n;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const s=z(g=$n,xf,rR).call(g,n.getData("text")||"").replaceAll(SB,`
`);if(!s)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!s.includes(`
`)){o.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:l,startOffset:A}=o,c=[],u=[];if(l.nodeType===Node.TEXT_NODE){const m=l.parentElement;if(u.push(l.nodeValue.slice(A).replaceAll(SB,"")),m!==this.editorDiv){let x=c;for(const _ of this.editorDiv.childNodes){if(_===m){x=u;continue}x.push(z(p=$n,xf,a5).call(p,_))}}c.push(l.nodeValue.slice(0,A).replaceAll(SB,""))}else if(l===this.editorDiv){let m=c,x=0;for(const _ of this.editorDiv.childNodes)x++===A&&(m=u),m.push(z(v=$n,xf,a5).call(v,_))}M(this,Sl,`${c.join(`
`)}${s}${u.join(`
`)}`),z(this,us,o5).call(this);const h=new Range;let f=Math.sumPrecise(c.map(m=>m.length));for(const{firstChild:m}of this.editorDiv.childNodes)if(m.nodeType===Node.TEXT_NODE){const x=m.nodeValue.length;if(f<=x){h.setStart(m,f),h.setEnd(m,f);break}f-=x}a.removeAllRanges(),a.addRange(h)}get contentDiv(){return this.editorDiv}getPDFRect(){const t=$n._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,n,i){var o;let s=null;if(t instanceof $X){const{data:{defaultAppearanceData:{fontSize:l,fontColor:A},rect:c,rotation:u,id:h,popupRef:f,richText:g,contentsObj:p,creationDate:v,modificationDate:m},textContent:x,textPosition:_,parent:{page:{pageNumber:S}}}=t;if(!x||x.length===0)return null;s=t={annotationType:dr.FREETEXT,color:Array.from(A),fontSize:l,value:x.join(`
`),position:_,pageIndex:S-1,rect:c.slice(0),rotation:u,annotationElementId:h,id:h,deleted:!1,popupRef:f,comment:(p==null?void 0:p.str)||null,richText:g,creationDate:v,modificationDate:m}}const a=await super.deserialize(t,n,i);return M(a,Tl,t.fontSize),a.color=Tt.makeHexColor(...t.color),M(a,Sl,z(o=$n,xf,rR).call(o,t.value)),a._initialData=s,t.comment&&a.setCommentData(t),a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Kn._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),i=Object.assign(super.serialize(t),{color:n,fontSize:d(this,Tl),value:z(this,us,tY).call(this)});return this.addComment(i),t?(i.isCopy=!0,i):this.annotationElementId&&!z(this,us,rY).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){const n=super.renderAnnotationElement(t);if(!n)return null;const{style:i}=n;i.fontSize=`calc(${d(this,Tl)}px * var(--total-scale-factor))`,i.color=this.color,n.replaceChildren();for(const s of d(this,Sl).split(`
`)){const a=document.createElement("div");a.append(s?document.createTextNode(s):document.createElement("br")),n.append(a)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:d(this,Sl)}}),n}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Sl=new WeakMap,_E=new WeakMap,Yg=new WeakMap,Tl=new WeakMap,us=new WeakSet,JX=function(t){const n=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-d(this,Tl))*this.parentScale),M(this,Tl,s),z(this,us,s5).call(this)},i=d(this,Tl);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Nr.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},ZX=function(t){const n=s=>{this.color=s,this.onUpdatedColor()},i=this.color;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Nr.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},eY=function(){var i;const t=[];this.editorDiv.normalize();let n=null;for(const s of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(z(i=$n,xf,a5).call(i,s)),n=s);return t.join(`
`)},s5=function(){const[t,n]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:a}=this,o=a.style.display,l=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",s.div.append(this.div),i=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/n):(this.width=i.height/t,this.height=i.width/n),this.fixAndSetPosition()},xf=new WeakSet,a5=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(SB,"")},o5=function(){if(this.editorDiv.replaceChildren(),!!d(this,Sl))for(const t of d(this,Sl).split(`
`)){const n=document.createElement("div");n.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(n)}},tY=function(){return d(this,Sl).replaceAll(""," ")},rR=function(t){return t.replaceAll(" ","")},rY=function(t){const{value:n,fontSize:i,color:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==n||t.fontSize!==i||t.color.some((o,l)=>o!==s[l])||t.pageIndex!==a},V($n,xf),Ce($n,"_freeTextDefaultContent",""),Ce($n,"_internalPadding",0),Ce($n,"_defaultColor",null),Ce($n,"_defaultFontSize",10),Ce($n,"_type","freetext"),Ce($n,"_editorType",dr.FREETEXT);let tR=$n;class Ct{toSVGPath(){Dn("Abstract method `toSVGPath` must be implemented.")}get box(){Dn("Abstract getter `box` must be implemented.")}serialize(e,t){Dn("Abstract method `serialize` must be implemented.")}static _rescale(e,t,n,i,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=t+e[o]*i,a[o+1]=n+e[o+1]*s;return a}static _rescaleAndSwap(e,t,n,i,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=t+e[o+1]*i,a[o+1]=n+e[o]*s;return a}static _translate(e,t,n,i){i||(i=new Float32Array(e.length));for(let s=0,a=e.length;s<a;s+=2)i[s]=t+e[s],i[s+1]=n+e[s+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,n,i,s){switch(s){case 90:return[1-t/n,e/i];case 180:return[1-e/n,1-t/i];case 270:return[t/n,1-e/i];default:return[e/n,t/i]}}static _normalizePagePoint(e,t,n){switch(n){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,n,i,s,a){return[(e+5*n)/6,(t+5*i)/6,(5*n+s)/6,(5*i+a)/6,(n+s)/2,(i+a)/2]}}Ce(Ct,"PRECISION",1e-4);var Fl,lc,Qw,Hw,wu,Sr,Jg,Zg,bE,EE,Vw,jw,n0,CE,NF,UF,Bs,ax,nY,iY,sY,aY,oY,lY;const vh=class vh{constructor({x:e,y:t},n,i,s,a,o=0){V(this,Bs);V(this,Fl);V(this,lc,[]);V(this,Qw);V(this,Hw);V(this,wu,[]);V(this,Sr,new Float32Array(18));V(this,Jg);V(this,Zg);V(this,bE);V(this,EE);V(this,Vw);V(this,jw);V(this,n0,[]);M(this,Fl,n),M(this,jw,s*i),M(this,Hw,a),d(this,Sr).set([NaN,NaN,NaN,NaN,e,t],6),M(this,Qw,o),M(this,EE,d(vh,CE)*i),M(this,bE,d(vh,UF)*i),M(this,Vw,i),d(this,n0).push(e,t)}isEmpty(){return isNaN(d(this,Sr)[8])}add({x:e,y:t}){var b;M(this,Jg,e),M(this,Zg,t);const[n,i,s,a]=d(this,Fl);let[o,l,A,c]=d(this,Sr).subarray(8,12);const u=e-A,h=t-c,f=Math.hypot(u,h);if(f<d(this,bE))return!1;const g=f-d(this,EE),p=g/f,v=p*u,m=p*h;let x=o,_=l;o=A,l=c,A+=v,c+=m,(b=d(this,n0))==null||b.push(e,t);const S=-m/g,k=v/g,R=S*d(this,jw),B=k*d(this,jw);return d(this,Sr).set(d(this,Sr).subarray(2,8),0),d(this,Sr).set([A+R,c+B],4),d(this,Sr).set(d(this,Sr).subarray(14,18),12),d(this,Sr).set([A-R,c-B],16),isNaN(d(this,Sr)[6])?(d(this,wu).length===0&&(d(this,Sr).set([o+R,l+B],2),d(this,wu).push(NaN,NaN,NaN,NaN,(o+R-n)/s,(l+B-i)/a),d(this,Sr).set([o-R,l-B],14),d(this,lc).push(NaN,NaN,NaN,NaN,(o-R-n)/s,(l-B-i)/a)),d(this,Sr).set([x,_,o,l,A,c],6),!this.isEmpty()):(d(this,Sr).set([x,_,o,l,A,c],6),Math.abs(Math.atan2(_-l,x-o)-Math.atan2(m,v))<Math.PI/2?([o,l,A,c]=d(this,Sr).subarray(2,6),d(this,wu).push(NaN,NaN,NaN,NaN,((o+A)/2-n)/s,((l+c)/2-i)/a),[o,l,x,_]=d(this,Sr).subarray(14,18),d(this,lc).push(NaN,NaN,NaN,NaN,((x+o)/2-n)/s,((_+l)/2-i)/a),!0):([x,_,o,l,A,c]=d(this,Sr).subarray(0,6),d(this,wu).push(((x+5*o)/6-n)/s,((_+5*l)/6-i)/a,((5*o+A)/6-n)/s,((5*l+c)/6-i)/a,((o+A)/2-n)/s,((l+c)/2-i)/a),[A,c,o,l,x,_]=d(this,Sr).subarray(12,18),d(this,lc).push(((x+5*o)/6-n)/s,((_+5*l)/6-i)/a,((5*o+A)/6-n)/s,((5*l+c)/6-i)/a,((o+A)/2-n)/s,((l+c)/2-i)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=d(this,wu),t=d(this,lc);if(isNaN(d(this,Sr)[6])&&!this.isEmpty())return z(this,Bs,nY).call(this);const n=[];n.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?n.push(`L${e[i+4]} ${e[i+5]}`):n.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);z(this,Bs,sY).call(this,n);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?n.push(`L${t[i+4]} ${t[i+5]}`):n.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return z(this,Bs,iY).call(this,n),n.join(" ")}newFreeDrawOutline(e,t,n,i,s,a){return new AY(e,t,n,i,s,a)}getOutlines(){var u;const e=d(this,wu),t=d(this,lc),n=d(this,Sr),[i,s,a,o]=d(this,Fl),l=new Float32Array((((u=d(this,n0))==null?void 0:u.length)??0)+2);for(let h=0,f=l.length-2;h<f;h+=2)l[h]=(d(this,n0)[h]-i)/a,l[h+1]=(d(this,n0)[h+1]-s)/o;if(l[l.length-2]=(d(this,Jg)-i)/a,l[l.length-1]=(d(this,Zg)-s)/o,isNaN(n[6])&&!this.isEmpty())return z(this,Bs,aY).call(this,l);const A=new Float32Array(d(this,wu).length+24+d(this,lc).length);let c=e.length;for(let h=0;h<c;h+=2){if(isNaN(e[h])){A[h]=A[h+1]=NaN;continue}A[h]=e[h],A[h+1]=e[h+1]}c=z(this,Bs,lY).call(this,A,c);for(let h=t.length-6;h>=6;h-=6)for(let f=0;f<6;f+=2){if(isNaN(t[h+f])){A[c]=A[c+1]=NaN,c+=2;continue}A[c]=t[h+f],A[c+1]=t[h+f+1],c+=2}return z(this,Bs,oY).call(this,A,c),this.newFreeDrawOutline(A,l,d(this,Fl),d(this,Vw),d(this,Qw),d(this,Hw))}};Fl=new WeakMap,lc=new WeakMap,Qw=new WeakMap,Hw=new WeakMap,wu=new WeakMap,Sr=new WeakMap,Jg=new WeakMap,Zg=new WeakMap,bE=new WeakMap,EE=new WeakMap,Vw=new WeakMap,jw=new WeakMap,n0=new WeakMap,CE=new WeakMap,NF=new WeakMap,UF=new WeakMap,Bs=new WeakSet,ax=function(){const e=d(this,Sr).subarray(4,6),t=d(this,Sr).subarray(16,18),[n,i,s,a]=d(this,Fl);return[(d(this,Jg)+(e[0]-t[0])/2-n)/s,(d(this,Zg)+(e[1]-t[1])/2-i)/a,(d(this,Jg)+(t[0]-e[0])/2-n)/s,(d(this,Zg)+(t[1]-e[1])/2-i)/a]},nY=function(){const[e,t,n,i]=d(this,Fl),[s,a,o,l]=z(this,Bs,ax).call(this);return`M${(d(this,Sr)[2]-e)/n} ${(d(this,Sr)[3]-t)/i} L${(d(this,Sr)[4]-e)/n} ${(d(this,Sr)[5]-t)/i} L${s} ${a} L${o} ${l} L${(d(this,Sr)[16]-e)/n} ${(d(this,Sr)[17]-t)/i} L${(d(this,Sr)[14]-e)/n} ${(d(this,Sr)[15]-t)/i} Z`},iY=function(e){const t=d(this,lc);e.push(`L${t[4]} ${t[5]} Z`)},sY=function(e){const[t,n,i,s]=d(this,Fl),a=d(this,Sr).subarray(4,6),o=d(this,Sr).subarray(16,18),[l,A,c,u]=z(this,Bs,ax).call(this);e.push(`L${(a[0]-t)/i} ${(a[1]-n)/s} L${l} ${A} L${c} ${u} L${(o[0]-t)/i} ${(o[1]-n)/s}`)},aY=function(e){const t=d(this,Sr),[n,i,s,a]=d(this,Fl),[o,l,A,c]=z(this,Bs,ax).call(this),u=new Float32Array(36);return u.set([NaN,NaN,NaN,NaN,(t[2]-n)/s,(t[3]-i)/a,NaN,NaN,NaN,NaN,(t[4]-n)/s,(t[5]-i)/a,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,A,c,NaN,NaN,NaN,NaN,(t[16]-n)/s,(t[17]-i)/a,NaN,NaN,NaN,NaN,(t[14]-n)/s,(t[15]-i)/a],0),this.newFreeDrawOutline(u,e,d(this,Fl),d(this,Vw),d(this,Qw),d(this,Hw))},oY=function(e,t){const n=d(this,lc);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6},lY=function(e,t){const n=d(this,Sr).subarray(4,6),i=d(this,Sr).subarray(16,18),[s,a,o,l]=d(this,Fl),[A,c,u,h]=z(this,Bs,ax).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-s)/o,(n[1]-a)/l,NaN,NaN,NaN,NaN,A,c,NaN,NaN,NaN,NaN,u,h,NaN,NaN,NaN,NaN,(i[0]-s)/o,(i[1]-a)/l],t),t+=24},V(vh,CE,8),V(vh,NF,2),V(vh,UF,d(vh,CE)+d(vh,NF));let $T=vh;var Kw,em,qh,BE,Il,SE,zi,MF,cY;class AY extends Ct{constructor(t,n,i,s,a,o){super();V(this,MF);V(this,Kw);V(this,em,new Float32Array(4));V(this,qh);V(this,BE);V(this,Il);V(this,SE);V(this,zi);M(this,zi,t),M(this,Il,n),M(this,Kw,i),M(this,SE,s),M(this,qh,a),M(this,BE,o),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],z(this,MF,cY).call(this,o);const[l,A,c,u]=d(this,em);for(let h=0,f=t.length;h<f;h+=2)t[h]=(t[h]-l)/c,t[h+1]=(t[h+1]-A)/u;for(let h=0,f=n.length;h<f;h+=2)n[h]=(n[h]-l)/c,n[h+1]=(n[h+1]-A)/u}toSVGPath(){const t=[`M${d(this,zi)[4]} ${d(this,zi)[5]}`];for(let n=6,i=d(this,zi).length;n<i;n+=6){if(isNaN(d(this,zi)[n])){t.push(`L${d(this,zi)[n+4]} ${d(this,zi)[n+5]}`);continue}t.push(`C${d(this,zi)[n]} ${d(this,zi)[n+1]} ${d(this,zi)[n+2]} ${d(this,zi)[n+3]} ${d(this,zi)[n+4]} ${d(this,zi)[n+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,n,i,s],a){const o=i-t,l=s-n;let A,c;switch(a){case 0:A=Ct._rescale(d(this,zi),t,s,o,-l),c=Ct._rescale(d(this,Il),t,s,o,-l);break;case 90:A=Ct._rescaleAndSwap(d(this,zi),t,n,o,l),c=Ct._rescaleAndSwap(d(this,Il),t,n,o,l);break;case 180:A=Ct._rescale(d(this,zi),i,n,-o,l),c=Ct._rescale(d(this,Il),i,n,-o,l);break;case 270:A=Ct._rescaleAndSwap(d(this,zi),i,s,-o,-l),c=Ct._rescaleAndSwap(d(this,Il),i,s,-o,-l);break}return{outline:Array.from(A),points:[Array.from(c)]}}get box(){return d(this,em)}newOutliner(t,n,i,s,a,o=0){return new $T(t,n,i,s,a,o)}getNewOutline(t,n){const[i,s,a,o]=d(this,em),[l,A,c,u]=d(this,Kw),h=a*c,f=o*u,g=i*c+l,p=s*u+A,v=this.newOutliner({x:d(this,Il)[0]*h+g,y:d(this,Il)[1]*f+p},d(this,Kw),d(this,SE),t,d(this,BE),n??d(this,qh));for(let m=2;m<d(this,Il).length;m+=2)v.add({x:d(this,Il)[m]*h+g,y:d(this,Il)[m+1]*f+p});return v.getOutlines()}}Kw=new WeakMap,em=new WeakMap,qh=new WeakMap,BE=new WeakMap,Il=new WeakMap,SE=new WeakMap,zi=new WeakMap,MF=new WeakSet,cY=function(t){const n=d(this,zi);let i=n[4],s=n[5];const a=[i,s,i,s];let o=i,l=s,A=i,c=s;const u=t?Math.max:Math.min,h=new Float32Array(4);for(let g=6,p=n.length;g<p;g+=6){const v=n[g+4],m=n[g+5];isNaN(n[g])?(Tt.pointBoundingBox(v,m,a),l>m?(o=v,l=m):l===m&&(o=u(o,v)),c<m?(A=v,c=m):c===m&&(A=u(A,v))):(h[0]=h[1]=1/0,h[2]=h[3]=-1/0,Tt.bezierBoundingBox(i,s,...n.slice(g,g+6),h),Tt.rectBoundingBox(h[0],h[1],h[2],h[3],a),l>h[1]?(o=h[0],l=h[1]):l===h[1]&&(o=u(o,h[0])),c<h[3]?(A=h[2],c=h[3]):c===h[3]&&(A=u(A,h[2]))),i=v,s=m}const f=d(this,em);f[0]=a[0]-d(this,qh),f[1]=a[1]-d(this,qh),f[2]=a[2]-a[0]+2*d(this,qh),f[3]=a[3]-a[1]+2*d(this,qh),this.firstPoint=[o,l],this.lastPoint=[A,c]};var TE,FE,IE,i0,Ac,xo,uY,l5,hY,fY,iR;class nR{constructor(e,t=0,n=0,i=!0){V(this,xo);V(this,TE);V(this,FE);V(this,IE);V(this,i0,[]);V(this,Ac,[]);const s=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:p,y:v,width:m,height:x}of e){const _=Math.floor((p-t)/a)*a,S=Math.ceil((p+m+t)/a)*a,k=Math.floor((v-t)/a)*a,R=Math.ceil((v+x+t)/a)*a,B=[_,k,R,!0],E=[S,k,R,!1];d(this,i0).push(B,E),Tt.rectBoundingBox(_,k,S,R,s)}const o=s[2]-s[0]+2*n,l=s[3]-s[1]+2*n,A=s[0]-n,c=s[1]-n;let u=i?-1/0:1/0,h=1/0;const f=d(this,i0).at(i?-1:-2),g=[f[0],f[2]];for(const p of d(this,i0)){const[v,m,x,_]=p;!_&&i?m<h?(h=m,u=v):m===h&&(u=Math.max(u,v)):_&&!i&&(m<h?(h=m,u=v):m===h&&(u=Math.min(u,v))),p[0]=(v-A)/o,p[1]=(m-c)/l,p[2]=(x-c)/l}M(this,TE,new Float32Array([A,c,o,l])),M(this,FE,[u,h]),M(this,IE,g)}getOutlines(){d(this,i0).sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of d(this,i0))t[3]?(e.push(...z(this,xo,iR).call(this,t)),z(this,xo,hY).call(this,t)):(z(this,xo,fY).call(this,t),e.push(...z(this,xo,iR).call(this,t)));return z(this,xo,uY).call(this,e)}}TE=new WeakMap,FE=new WeakMap,IE=new WeakMap,i0=new WeakMap,Ac=new WeakMap,xo=new WeakSet,uY=function(e){const t=[],n=new Set;for(const a of e){const[o,l,A]=a;t.push([o,l,a],[o,A,a])}t.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=t.length;a<o;a+=2){const l=t[a][2],A=t[a+1][2];l.push(A),A.push(l),n.add(l),n.add(A)}const i=[];let s;for(;n.size>0;){const a=n.values().next().value;let[o,l,A,c,u]=a;n.delete(a);let h=o,f=l;for(s=[o,A],i.push(s);;){let g;if(n.has(c))g=c;else if(n.has(u))g=u;else break;n.delete(g),[o,l,A,c,u]=g,h!==o&&(s.push(h,f,o,f===l?l:A),h=o),f=f===l?A:l}s.push(h,f)}return new sye(i,d(this,TE),d(this,FE),d(this,IE))},l5=function(e){const t=d(this,Ac);let n=0,i=t.length-1;for(;n<=i;){const s=n+i>>1,a=t[s][0];if(a===e)return s;a<e?n=s+1:i=s-1}return i+1},hY=function([,e,t]){const n=z(this,xo,l5).call(this,e);d(this,Ac).splice(n,0,[e,t])},fY=function([,e,t]){const n=z(this,xo,l5).call(this,e);for(let i=n;i<d(this,Ac).length;i++){const[s,a]=d(this,Ac)[i];if(s!==e)break;if(s===e&&a===t){d(this,Ac).splice(i,1);return}}for(let i=n-1;i>=0;i--){const[s,a]=d(this,Ac)[i];if(s!==e)break;if(s===e&&a===t){d(this,Ac).splice(i,1);return}}},iR=function(e){const[t,n,i]=e,s=[[t,n,i]],a=z(this,xo,l5).call(this,i);for(let o=0;o<a;o++){const[l,A]=d(this,Ac)[o];for(let c=0,u=s.length;c<u;c++){const[,h,f]=s[c];if(!(A<=h||f<=l)){if(h>=l){if(f>A)s[c][1]=A;else{if(u===1)return[];s.splice(c,1),c--,u--}continue}s[c][2]=l,f>A&&s.push([t,A,f])}}}return s};var kE,zw;class sye extends Ct{constructor(t,n,i,s){super();V(this,kE);V(this,zw);M(this,zw,t),M(this,kE,n),this.firstPoint=i,this.lastPoint=s}toSVGPath(){const t=[];for(const n of d(this,zw)){let[i,s]=n;t.push(`M${i} ${s}`);for(let a=2;a<n.length;a+=2){const o=n[a],l=n[a+1];o===i?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${o}`),i=o)}t.push("Z")}return t.join(" ")}serialize([t,n,i,s],a){const o=[],l=i-t,A=s-n;for(const c of d(this,zw)){const u=new Array(c.length);for(let h=0;h<c.length;h+=2)u[h]=t+c[h]*l,u[h+1]=s-c[h+1]*A;o.push(u)}return o}get box(){return d(this,kE)}get classNamesForOutlining(){return["highlightOutline"]}}kE=new WeakMap,zw=new WeakMap;class sR extends $T{newFreeDrawOutline(e,t,n,i,s,a){return new aye(e,t,n,i,s,a)}}class aye extends AY{newOutliner(e,t,n,i,s,a=0){return new sR(e,t,n,i,s,a)}}var Ww,LE,Xh,tm,PE,jo,RE,DE,rm,kl,Ll,ta,Gw,$w,Da,qw,yA,NE,xr,aR,A5,dY,pY,gY,oR,Vp,BA,H1,mY,c5,u5,vY,wY,yY,xY,_Y;const rn=class rn extends Kn{constructor(t){super({...t,name:"highlightEditor"});V(this,xr);V(this,Ww,null);V(this,LE,0);V(this,Xh);V(this,tm,null);V(this,PE,null);V(this,jo,null);V(this,RE,null);V(this,DE,0);V(this,rm,null);V(this,kl,null);V(this,Ll,null);V(this,ta,!1);V(this,Gw,null);V(this,$w,null);V(this,Da,null);V(this,qw,"");V(this,yA);V(this,NE,"");this.color=t.color||rn._defaultColor,M(this,yA,t.thickness||rn._defaultThickness),this.opacity=t.opacity||rn._defaultOpacity,M(this,Xh,t.boxes||null),M(this,NE,t.methodOfCreation||""),M(this,qw,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(M(this,ta,!0),z(this,xr,A5).call(this,t),z(this,xr,Vp).call(this)):d(this,Xh)&&(M(this,Ww,t.anchorNode),M(this,LE,t.anchorOffset),M(this,RE,t.focusNode),M(this,DE,t.focusOffset),z(this,xr,aR).call(this),z(this,xr,Vp).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=rn.prototype;return Er(this,"_keyboardManager",new pC([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:d(this,ta)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:d(this,yA),methodOfCreation:d(this,NE)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,n){var i;Kn.initialize(t,n),rn._defaultColor||(rn._defaultColor=((i=n.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,n){switch(t){case Nr.HIGHLIGHT_COLOR:rn._defaultColor=n;break;case Nr.HIGHLIGHT_THICKNESS:rn._defaultThickness=n;break}}translateInPage(t,n){}get toolbarPosition(){return d(this,$w)}get commentButtonPosition(){return d(this,Gw)}updateParams(t,n){switch(t){case Nr.HIGHLIGHT_COLOR:z(this,xr,dY).call(this,n);break;case Nr.HIGHLIGHT_THICKNESS:z(this,xr,pY).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Nr.HIGHLIGHT_COLOR,rn._defaultColor],[Nr.HIGHLIGHT_THICKNESS,rn._defaultThickness]]}get propertiesToUpdate(){return[[Nr.HIGHLIGHT_COLOR,this.color||rn._defaultColor],[Nr.HIGHLIGHT_THICKNESS,d(this,yA)||rn._defaultThickness],[Nr.HIGHLIGHT_FREE,d(this,ta)]]}onUpdatedColor(){var t,n;(t=this.parent)==null||t.drawLayer.updateProperties(d(this,Ll),{root:{fill:this.color,"fill-opacity":this.opacity}}),(n=d(this,PE))==null||n.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",M(this,PE,new zT({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(z(this,xr,u5).call(this))}getBaseTranslation(){return[0,0]}getRect(t,n){return super.getRect(t,n,z(this,xr,u5).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){z(this,xr,oR).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(z(this,xr,Vp).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let n=!1;this.parent&&!t?z(this,xr,oR).call(this):t&&(z(this,xr,Vp).call(this,t),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),n&&this.select()}rotate(t){var s,a,o;const{drawLayer:n}=this.parent;let i;d(this,ta)?(t=(t-this.rotation+360)%360,i=z(s=rn,BA,H1).call(s,d(this,kl).box,t)):i=z(a=rn,BA,H1).call(a,[this.x,this.y,this.width,this.height],t),n.updateProperties(d(this,Ll),{bbox:i,root:{"data-main-rotation":t}}),n.updateProperties(d(this,Da),{bbox:z(o=rn,BA,H1).call(o,d(this,jo).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();d(this,qw)&&(t.setAttribute("aria-label",d(this,qw)),t.setAttribute("role","mark")),d(this,ta)?t.classList.add("free"):this.div.addEventListener("keydown",z(this,xr,mY).bind(this),{signal:this._uiManager._signal});const n=M(this,rm,document.createElement("div"));return t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=d(this,tm),this.setDims(this.width,this.height),jq(this,d(this,rm),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(d(this,Da),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(d(this,Da),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:z(this,xr,c5).call(this,!0);break;case 1:case 3:z(this,xr,c5).call(this,!1);break}}select(){var t;super.select(),d(this,Da)&&((t=this.parent)==null||t.drawLayer.updateProperties(d(this,Da),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),d(this,Da)&&((t=this.parent)==null||t.drawLayer.updateProperties(d(this,Da),{rootClass:{selected:!1}}),d(this,ta)||z(this,xr,c5).call(this,!1))}get _mustFixPosition(){return!d(this,ta)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(d(this,Ll),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(d(this,Da),{rootClass:{hidden:!t}}))}static startHighlighting(t,n,{target:i,x:s,y:a}){const{x:o,y:l,width:A,height:c}=i.getBoundingClientRect(),u=new AbortController,h=t.combinedSignal(u),f=g=>{u.abort(),z(this,BA,xY).call(this,t,g)};window.addEventListener("blur",f,{signal:h}),window.addEventListener("pointerup",f,{signal:h}),window.addEventListener("pointerdown",Ri,{capture:!0,passive:!1,signal:h}),window.addEventListener("contextmenu",DA,{signal:h}),i.addEventListener("pointermove",z(this,BA,yY).bind(this,t),{signal:h}),this._freeHighlight=new sR({x:s,y:a},[o,l,A,c],t.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,n,i){var p,v,m,x;let s=null;if(t instanceof XX){const{data:{quadPoints:_,rect:S,rotation:k,id:R,color:B,opacity:E,popupRef:b,richText:I,contentsObj:T,creationDate:F,modificationDate:D},parent:{page:{pageNumber:q}}}=t;s=t={annotationType:dr.HIGHLIGHT,color:Array.from(B),opacity:E,quadPoints:_,boxes:null,pageIndex:q-1,rect:S.slice(0),rotation:k,annotationElementId:R,id:R,deleted:!1,popupRef:b,richText:I,comment:(T==null?void 0:T.str)||null,creationDate:F,modificationDate:D}}else if(t instanceof GU){const{data:{inkLists:_,rect:S,rotation:k,id:R,color:B,borderStyle:{rawWidth:E},popupRef:b,richText:I,contentsObj:T,creationDate:F,modificationDate:D},parent:{page:{pageNumber:q}}}=t;s=t={annotationType:dr.HIGHLIGHT,color:Array.from(B),thickness:E,inkLists:_,boxes:null,pageIndex:q-1,rect:S.slice(0),rotation:k,annotationElementId:R,id:R,deleted:!1,popupRef:b,richText:I,comment:(T==null?void 0:T.str)||null,creationDate:F,modificationDate:D}}const{color:a,quadPoints:o,inkLists:l,opacity:A}=t,c=await super.deserialize(t,n,i);c.color=Tt.makeHexColor(...a),c.opacity=A||1,l&&M(c,yA,t.thickness),c._initialData=s,t.comment&&c.setCommentData(t);const[u,h]=c.pageDimensions,[f,g]=c.pageTranslation;if(o){const _=M(c,Xh,[]);for(let S=0;S<o.length;S+=8)_.push({x:(o[S]-f)/u,y:1-(o[S+1]-g)/h,width:(o[S+2]-o[S])/u,height:(o[S+1]-o[S+5])/h});z(p=c,xr,aR).call(p),z(v=c,xr,Vp).call(v),c.rotate(c.rotation)}else if(l){M(c,ta,!0);const _=l[0],S={x:_[0]-f,y:h-(_[1]-g)},k=new sR(S,[0,0,u,h],1,d(c,yA)/2,!0,.001);for(let E=0,b=_.length;E<b;E+=2)S.x=_[E]-f,S.y=h-(_[E+1]-g),k.add(S);const{id:R,clipPathId:B}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:c.color,"fill-opacity":c._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:k.toSVGPath()}},!0,!0);z(m=c,xr,A5).call(m,{highlightOutlines:k.getOutlines(),highlightId:R,clipPathId:B}),z(x=c,xr,Vp).call(x),c.rotate(c.parentRotation)}return c}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const n=Kn._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i=super.serialize(t);return Object.assign(i,{color:n,opacity:this.opacity,thickness:d(this,yA),quadPoints:z(this,xr,vY).call(this),outlines:z(this,xr,wY).call(this,i.rect)}),this.addComment(i),this.annotationElementId&&!z(this,xr,_Y).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};Ww=new WeakMap,LE=new WeakMap,Xh=new WeakMap,tm=new WeakMap,PE=new WeakMap,jo=new WeakMap,RE=new WeakMap,DE=new WeakMap,rm=new WeakMap,kl=new WeakMap,Ll=new WeakMap,ta=new WeakMap,Gw=new WeakMap,$w=new WeakMap,Da=new WeakMap,qw=new WeakMap,yA=new WeakMap,NE=new WeakMap,xr=new WeakSet,aR=function(){const t=new nR(d(this,Xh),.001);M(this,kl,t.getOutlines()),[this.x,this.y,this.width,this.height]=d(this,kl).box;const n=new nR(d(this,Xh),.0025,.001,this._uiManager.direction==="ltr");M(this,jo,n.getOutlines());const{firstPoint:i}=d(this,kl);M(this,Gw,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]);const{lastPoint:s}=d(this,jo);M(this,$w,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},A5=function({highlightOutlines:t,highlightId:n,clipPathId:i}){var h,f;if(M(this,kl,t),M(this,jo,t.getNewOutline(d(this,yA)/2+1.5,.0025)),n>=0)M(this,Ll,n),M(this,tm,i),this.parent.drawLayer.finalizeDraw(n,{bbox:t.box,path:{d:t.toSVGPath()}}),M(this,Da,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:d(this,jo).box,path:{d:d(this,jo).toSVGPath()}},!0));else if(this.parent){const g=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(d(this,Ll),{bbox:z(h=rn,BA,H1).call(h,d(this,kl).box,(g-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(d(this,Da),{bbox:z(f=rn,BA,H1).call(f,d(this,jo).box,g),path:{d:d(this,jo).toSVGPath()}})}const[a,o,l,A]=t.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=l,this.height=A;break;case 90:{const[g,p]=this.parentDimensions;this.x=o,this.y=1-a,this.width=l*p/g,this.height=A*g/p;break}case 180:this.x=1-a,this.y=1-o,this.width=l,this.height=A;break;case 270:{const[g,p]=this.parentDimensions;this.x=1-o,this.y=a,this.width=l*p/g,this.height=A*g/p;break}}const{firstPoint:c}=t;M(this,Gw,[(c[0]-a)/l,(c[1]-o)/A]);const{lastPoint:u}=d(this,jo);M(this,$w,[(u[0]-a)/l,(u[1]-o)/A])},dY=function(t){const n=(a,o)=>{this.color=a,this.opacity=o,this.onUpdatedColor()},i=this.color,s=this.opacity;this.addCommands({cmd:n.bind(this,t,rn._defaultOpacity),undo:n.bind(this,i,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Nr.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)},pY=function(t){const n=d(this,yA),i=s=>{M(this,yA,s),z(this,xr,gY).call(this,s)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Nr.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},gY=function(t){d(this,ta)&&(z(this,xr,A5).call(this,{highlightOutlines:d(this,kl).getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))},oR=function(){d(this,Ll)===null||!this.parent||(this.parent.drawLayer.remove(d(this,Ll)),M(this,Ll,null),this.parent.drawLayer.remove(d(this,Da)),M(this,Da,null))},Vp=function(t=this.parent){d(this,Ll)===null&&({id:Hi(this,Ll)._,clipPathId:Hi(this,tm)._}=t.drawLayer.draw({bbox:d(this,kl).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:d(this,ta)},path:{d:d(this,kl).toSVGPath()}},!1,!0),M(this,Da,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:d(this,ta)},bbox:d(this,jo).box,path:{d:d(this,jo).toSVGPath()}},d(this,ta))),d(this,rm)&&(d(this,rm).style.clipPath=d(this,tm)))},BA=new WeakSet,H1=function([t,n,i,s],a){switch(a){case 90:return[1-n-s,t,s,i];case 180:return[1-t-i,1-n-s,i,s];case 270:return[n,1-t-i,s,i]}return[t,n,i,s]},mY=function(t){rn._keyboardManager.exec(this,t)},c5=function(t){if(!d(this,Ww))return;const n=window.getSelection();t?n.setPosition(d(this,Ww),d(this,LE)):n.setPosition(d(this,RE),d(this,DE))},u5=function(){return d(this,ta)?this.rotation:0},vY=function(){if(d(this,ta))return null;const[t,n]=this.pageDimensions,[i,s]=this.pageTranslation,a=d(this,Xh),o=new Float32Array(a.length*8);let l=0;for(const{x:A,y:c,width:u,height:h}of a){const f=A*t+i,g=(1-c)*n+s;o[l]=o[l+4]=f,o[l+1]=o[l+3]=g,o[l+2]=o[l+6]=f+u*t,o[l+5]=o[l+7]=g-h*n,l+=8}return o},wY=function(t){return d(this,kl).serialize(t,z(this,xr,u5).call(this))},yY=function(t,n){this._freeHighlight.add(n)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},xY=function(t,n){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},_Y=function(t){const{color:n}=this._initialData;return this.hasEditedComment||t.color.some((i,s)=>i!==n[s])},V(rn,BA),Ce(rn,"_defaultColor",null),Ce(rn,"_defaultOpacity",1),Ce(rn,"_defaultThickness",12),Ce(rn,"_type","highlight"),Ce(rn,"_editorType",dr.HIGHLIGHT),Ce(rn,"_freeHighlightId",-1),Ce(rn,"_freeHighlight",null),Ce(rn,"_freeHighlightClipId","");let qT=rn;var nm;class bY{constructor(){V(this,nm,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,n]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,n)}updateSVGProperty(e,t){d(this,nm)[e]=t}toSVGProperties(){const e=d(this,nm);return M(this,nm,Object.create(null)),{root:e}}reset(){M(this,nm,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){Dn("Not implemented")}}nm=new WeakMap;var Pl,Xw,Rs,im,sm,s0,a0,o0,am,qr,lR,AR,cR,ox,EY,h5,lx,V1;const kt=class kt extends Kn{constructor(t){super(t);V(this,qr);V(this,Pl,null);V(this,Xw);Ce(this,"_colorPicker",null);Ce(this,"_drawId",null);M(this,Xw,t.mustBeCommitted||!1),this._addOutlines(t)}onUpdatedColor(){var t;(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(z(this,qr,lR).call(this,t),z(this,qr,ox).call(this))}static _mergeSVGProperties(t,n){const i=new Set(Object.keys(t));for(const[s,a]of Object.entries(n))i.has(s)?Object.assign(t[s],a):t[s]=a;return t}static getDefaultDrawingOptions(t){Dn("Not implemented")}static get typesMap(){Dn("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,n){const i=this.typesMap.get(t);i&&this._defaultDrawingOptions.updateProperty(i,n),this._currentParent&&(d(kt,Rs).updateProperty(i,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,n){const i=this.constructor.typesMap.get(t);i&&this._updateProperty(t,i,n)}static get defaultPropertiesToUpdate(){const t=[],n=this._defaultDrawingOptions;for(const[i,s]of this.typesMap)t.push([i,n[s]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:n}=this;for(const[i,s]of this.constructor.typesMap)t.push([i,n[s]]);return t}_updateProperty(t,n,i){const s=this._drawingOptions,a=s[n],o=l=>{var c;s.updateProperty(n,l);const A=d(this,Pl).updateProperty(n,l);A&&z(this,qr,lx).call(this,A),(c=this.parent)==null||c.drawLayer.updateProperties(this._drawId,s.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:o.bind(this,i),undo:o.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,kt._mergeSVGProperties(d(this,Pl).getPathResizingSVGProperties(z(this,qr,h5).call(this)),{bbox:z(this,qr,V1).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,kt._mergeSVGProperties(d(this,Pl).getPathResizedSVGProperties(z(this,qr,h5).call(this)),{bbox:z(this,qr,V1).call(this)}))}_onTranslating(t,n){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:z(this,qr,V1).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,kt._mergeSVGProperties(d(this,Pl).getPathTranslatedSVGProperties(z(this,qr,h5).call(this),this.parentDimensions),{bbox:z(this,qr,V1).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,d(this,Xw)&&(M(this,Xw,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){z(this,qr,cR).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(z(this,qr,ox).call(this),z(this,qr,lx).call(this,d(this,Pl).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let n=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),z(this,qr,cR).call(this)):t&&(this._uiManager.addShouldRescale(this),z(this,qr,ox).call(this,t),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),n&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,kt._mergeSVGProperties({bbox:z(this,qr,V1).call(this)},d(this,Pl).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&z(this,qr,lx).call(this,d(this,Pl).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,n;this._isCopy&&(t=this.x,n=this.y);const i=super.render();i.classList.add("draw");const s=document.createElement("div");return i.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,n),i}static createDrawerInstance(t,n,i,s,a){Dn("Not implemented")}static startDrawing(t,n,i,s){var v;const{target:a,offsetX:o,offsetY:l,pointerId:A,pointerType:c}=s;if(d(kt,a0)&&d(kt,a0)!==c)return;const{viewport:{rotation:u}}=t,{width:h,height:f}=a.getBoundingClientRect(),g=M(kt,im,new AbortController),p=t.combinedSignal(g);if(d(kt,s0)||M(kt,s0,A),d(kt,a0)??M(kt,a0,c),window.addEventListener("pointerup",m=>{var x;d(kt,s0)===m.pointerId?this._endDraw(m):(x=d(kt,o0))==null||x.delete(m.pointerId)},{signal:p}),window.addEventListener("pointercancel",m=>{var x;d(kt,s0)===m.pointerId?this._currentParent.endDrawingSession():(x=d(kt,o0))==null||x.delete(m.pointerId)},{signal:p}),window.addEventListener("pointerdown",m=>{d(kt,a0)===m.pointerType&&((d(kt,o0)||M(kt,o0,new Set)).add(m.pointerId),d(kt,Rs).isCancellable()&&(d(kt,Rs).removeLastElement(),d(kt,Rs).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:p}),window.addEventListener("contextmenu",DA,{signal:p}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:p}),a.addEventListener("touchmove",m=>{m.timeStamp===d(kt,am)&&Ri(m)},{signal:p}),t.toggleDrawing(),(v=n._editorUndoBar)==null||v.hide(),d(kt,Rs)){t.drawLayer.updateProperties(this._currentDrawId,d(kt,Rs).startNew(o,l,h,f,u));return}n.updateUIForDefaultProperties(this),M(kt,Rs,this.createDrawerInstance(o,l,h,f,u)),M(kt,sm,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(d(kt,sm).toSVGProperties(),d(kt,Rs).defaultSVGProperties),!0,!1)}static _drawMove(t){var a;if(M(kt,am,-1),!d(kt,Rs))return;const{offsetX:n,offsetY:i,pointerId:s}=t;if(d(kt,s0)===s){if(((a=d(kt,o0))==null?void 0:a.size)>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,d(kt,Rs).add(n,i)),M(kt,am,t.timeStamp),Ri(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,M(kt,Rs,null),M(kt,sm,null),M(kt,a0,null),M(kt,am,NaN)),d(kt,im)&&(d(kt,im).abort(),M(kt,im,null),M(kt,s0,NaN),M(kt,o0,null))}static _endDraw(t){const n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===n.div&&n.drawLayer.updateProperties(this._currentDrawId,d(kt,Rs).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const i=d(kt,Rs),s=this._currentDrawId,a=i.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(s,i.setLastElement(a))},undo:()=>{n.drawLayer.updateProperties(s,i.removeLastElement())},mustExec:!1,type:Nr.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(Nr.DRAW_STEP),!d(kt,Rs).isEmpty()){const{pageDimensions:[i,s],scale:a}=n,o=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:d(kt,Rs).getOutlines(i*a,s*a,a,this._INNER_MARGIN),drawingOptions:d(kt,sm),mustBeCommitted:!t});return this._cleanup(!0),o}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,n,i,s,a,o){Dn("Not implemented")}static async deserialize(t,n,i){var u,h;const{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}=n.viewport,A=this.deserializeDraw(o,l,s,a,this._INNER_MARGIN,t),c=await super.deserialize(t,n,i);return c.createDrawingOptions(t),z(u=c,qr,lR).call(u,{drawOutlines:A}),z(h=c,qr,ox).call(h),c.onScaleChanging(),c.rotate(),c}serializeDraw(t){const[n,i]=this.pageTranslation,[s,a]=this.pageDimensions;return d(this,Pl).serialize([n,i,s,a],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};Pl=new WeakMap,Xw=new WeakMap,Rs=new WeakMap,im=new WeakMap,sm=new WeakMap,s0=new WeakMap,a0=new WeakMap,o0=new WeakMap,am=new WeakMap,qr=new WeakSet,lR=function({drawOutlines:t,drawId:n,drawingOptions:i}){M(this,Pl,t),this._drawingOptions||(this._drawingOptions=i),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,t.defaultProperties)):this._drawId=z(this,qr,AR).call(this,t,this.parent),z(this,qr,lx).call(this,t.box)},AR=function(t,n){const{id:i}=n.drawLayer.draw(kt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return i},cR=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},ox=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=z(this,qr,AR).call(this,d(this,Pl),t)}},EY=function([t,n,i,s]){const{parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[n,1-t,i*(o/a),s*(a/o)];case 180:return[1-t,1-n,i,s];case 270:return[1-n,t,i*(o/a),s*(a/o)];default:return[t,n,i,s]}},h5=function(){const{x:t,y:n,width:i,height:s,parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[1-n,t,i*(a/o),s*(o/a)];case 180:return[1-t,1-n,i,s];case 270:return[n,1-t,i*(a/o),s*(o/a)];default:return[t,n,i,s]}},lx=function(t){[this.x,this.y,this.width,this.height]=z(this,qr,EY).call(this,t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},V1=function(){const{x:t,y:n,width:i,height:s,rotation:a,parentRotation:o,parentDimensions:[l,A]}=this;switch((a*4+o)/90){case 1:return[1-n-s,t,s,i];case 2:return[1-t-i,1-n-s,i,s];case 3:return[n,1-t-i,s,i];case 4:return[t,n-i*(l/A),s*(A/l),i*(l/A)];case 5:return[1-n,t,i*(l/A),s*(A/l)];case 6:return[1-t-s*(A/l),1-n,s*(A/l),i*(l/A)];case 7:return[n-i*(l/A),1-t-s*(A/l),i*(l/A),s*(A/l)];case 8:return[t-i,n-s,i,s];case 9:return[1-n,t-i,s,i];case 10:return[1-t,1-n,i,s];case 11:return[n-s,1-t,s,i];case 12:return[t-s*(A/l),n,s*(A/l),i*(l/A)];case 13:return[1-n-i*(l/A),t-s*(A/l),i*(l/A),s*(A/l)];case 14:return[1-t,1-n-i*(l/A),s*(A/l),i*(l/A)];case 15:return[n,1-t,i*(l/A),s*(A/l)];default:return[t,n,i,s]}},Ce(kt,"_currentDrawId",-1),Ce(kt,"_currentParent",null),V(kt,Rs,null),V(kt,im,null),V(kt,sm,null),V(kt,s0,NaN),V(kt,a0,null),V(kt,o0,null),V(kt,am,NaN),Ce(kt,"_INNER_MARGIN",3);let XT=kt;var yu,Ds,Ns,om,Yw,oo,ra,xA,lm,Am,cm,Jw,f5;class oye{constructor(e,t,n,i,s,a){V(this,Jw);V(this,yu,new Float64Array(6));V(this,Ds);V(this,Ns);V(this,om);V(this,Yw);V(this,oo);V(this,ra,"");V(this,xA,0);V(this,lm,new mC);V(this,Am);V(this,cm);M(this,Am,n),M(this,cm,i),M(this,om,s),M(this,Yw,a),[e,t]=z(this,Jw,f5).call(this,e,t);const o=M(this,Ds,[NaN,NaN,NaN,NaN,e,t]);M(this,oo,[e,t]),M(this,Ns,[{line:o,points:d(this,oo)}]),d(this,yu).set(o,0)}updateProperty(e,t){e==="stroke-width"&&M(this,Yw,t)}isEmpty(){return!d(this,Ns)||d(this,Ns).length===0}isCancellable(){return d(this,oo).length<=10}add(e,t){[e,t]=z(this,Jw,f5).call(this,e,t);const[n,i,s,a]=d(this,yu).subarray(2,6),o=e-s,l=t-a;return Math.hypot(d(this,Am)*o,d(this,cm)*l)<=2?null:(d(this,oo).push(e,t),isNaN(n)?(d(this,yu).set([s,a,e,t],2),d(this,Ds).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(d(this,yu)[0])&&d(this,Ds).splice(6,6),d(this,yu).set([n,i,s,a,e,t],0),d(this,Ds).push(...Ct.createBezierPoints(n,i,s,a,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const n=this.add(e,t);return n||(d(this,oo).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,n,i,s){M(this,Am,n),M(this,cm,i),M(this,om,s),[e,t]=z(this,Jw,f5).call(this,e,t);const a=M(this,Ds,[NaN,NaN,NaN,NaN,e,t]);M(this,oo,[e,t]);const o=d(this,Ns).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),d(this,Ns).push({line:a,points:d(this,oo)}),d(this,yu).set(a,0),M(this,xA,0),this.toSVGPath(),null}getLastElement(){return d(this,Ns).at(-1)}setLastElement(e){return d(this,Ns)?(d(this,Ns).push(e),M(this,Ds,e.line),M(this,oo,e.points),M(this,xA,0),{path:{d:this.toSVGPath()}}):d(this,lm).setLastElement(e)}removeLastElement(){if(!d(this,Ns))return d(this,lm).removeLastElement();d(this,Ns).pop(),M(this,ra,"");for(let e=0,t=d(this,Ns).length;e<t;e++){const{line:n,points:i}=d(this,Ns)[e];M(this,Ds,n),M(this,oo,i),M(this,xA,0),this.toSVGPath()}return{path:{d:d(this,ra)}}}toSVGPath(){const e=Ct.svgRound(d(this,Ds)[4]),t=Ct.svgRound(d(this,Ds)[5]);if(d(this,oo).length===2)return M(this,ra,`${d(this,ra)} M ${e} ${t} Z`),d(this,ra);if(d(this,oo).length<=6){const i=d(this,ra).lastIndexOf("M");M(this,ra,`${d(this,ra).slice(0,i)} M ${e} ${t}`),M(this,xA,6)}if(d(this,oo).length===4){const i=Ct.svgRound(d(this,Ds)[10]),s=Ct.svgRound(d(this,Ds)[11]);return M(this,ra,`${d(this,ra)} L ${i} ${s}`),M(this,xA,12),d(this,ra)}const n=[];d(this,xA)===0&&(n.push(`M ${e} ${t}`),M(this,xA,6));for(let i=d(this,xA),s=d(this,Ds).length;i<s;i+=6){const[a,o,l,A,c,u]=d(this,Ds).slice(i,i+6).map(Ct.svgRound);n.push(`C${a} ${o} ${l} ${A} ${c} ${u}`)}return M(this,ra,d(this,ra)+n.join(" ")),M(this,xA,d(this,Ds).length),d(this,ra)}getOutlines(e,t,n,i){const s=d(this,Ns).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),d(this,lm).build(d(this,Ns),e,t,n,d(this,om),d(this,Yw),i),M(this,yu,null),M(this,Ds,null),M(this,Ns,null),M(this,ra,null),d(this,lm)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}yu=new WeakMap,Ds=new WeakMap,Ns=new WeakMap,om=new WeakMap,Yw=new WeakMap,oo=new WeakMap,ra=new WeakMap,xA=new WeakMap,lm=new WeakMap,Am=new WeakMap,cm=new WeakMap,Jw=new WeakSet,f5=function(e,t){return Ct._normalizePoint(e,t,d(this,Am),d(this,cm),d(this,om))};var lo,UE,ME,Rl,xu,_u,Zw,ey,um,oa,fh,CY,BY,SY;class mC extends Ct{constructor(){super(...arguments);V(this,oa);V(this,lo);V(this,UE,0);V(this,ME);V(this,Rl);V(this,xu);V(this,_u);V(this,Zw);V(this,ey);V(this,um)}build(t,n,i,s,a,o,l){M(this,xu,n),M(this,_u,i),M(this,Zw,s),M(this,ey,a),M(this,um,o),M(this,ME,l??0),M(this,Rl,t),z(this,oa,BY).call(this)}get thickness(){return d(this,um)}setLastElement(t){return d(this,Rl).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return d(this,Rl).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:n}of d(this,Rl)){if(t.push(`M${Ct.svgRound(n[4])} ${Ct.svgRound(n[5])}`),n.length===6){t.push("Z");continue}if(n.length===12&&isNaN(n[6])){t.push(`L${Ct.svgRound(n[10])} ${Ct.svgRound(n[11])}`);continue}for(let i=6,s=n.length;i<s;i+=6){const[a,o,l,A,c,u]=n.subarray(i,i+6).map(Ct.svgRound);t.push(`C${a} ${o} ${l} ${A} ${c} ${u}`)}}return t.join("")}serialize([t,n,i,s],a){const o=[],l=[],[A,c,u,h]=z(this,oa,CY).call(this);let f,g,p,v,m,x,_,S,k;switch(d(this,ey)){case 0:k=Ct._rescale,f=t,g=n+s,p=i,v=-s,m=t+A*i,x=n+(1-c-h)*s,_=t+(A+u)*i,S=n+(1-c)*s;break;case 90:k=Ct._rescaleAndSwap,f=t,g=n,p=i,v=s,m=t+c*i,x=n+A*s,_=t+(c+h)*i,S=n+(A+u)*s;break;case 180:k=Ct._rescale,f=t+i,g=n,p=-i,v=s,m=t+(1-A-u)*i,x=n+c*s,_=t+(1-A)*i,S=n+(c+h)*s;break;case 270:k=Ct._rescaleAndSwap,f=t+i,g=n+s,p=-i,v=-s,m=t+(1-c-h)*i,x=n+(1-A-u)*s,_=t+(1-c)*i,S=n+(1-A)*s;break}for(const{line:R,points:B}of d(this,Rl))o.push(k(R,f,g,p,v,a?new Array(R.length):null)),l.push(k(B,f,g,p,v,a?new Array(B.length):null));return{lines:o,points:l,rect:[m,x,_,S]}}static deserialize(t,n,i,s,a,{paths:{lines:o,points:l},rotation:A,thickness:c}){const u=[];let h,f,g,p,v;switch(A){case 0:v=Ct._rescale,h=-t/i,f=n/s+1,g=1/i,p=-1/s;break;case 90:v=Ct._rescaleAndSwap,h=-n/s,f=-t/i,g=1/s,p=1/i;break;case 180:v=Ct._rescale,h=t/i+1,f=-n/s,g=-1/i,p=1/s;break;case 270:v=Ct._rescaleAndSwap,h=n/s+1,f=t/i+1,g=-1/s,p=-1/i;break}if(!o){o=[];for(const x of l){const _=x.length;if(_===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,x[0],x[1]]));continue}if(_===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,x[0],x[1],NaN,NaN,NaN,NaN,x[2],x[3]]));continue}const S=new Float32Array(3*(_-2));o.push(S);let[k,R,B,E]=x.subarray(0,4);S.set([NaN,NaN,NaN,NaN,k,R],0);for(let b=4;b<_;b+=2){const I=x[b],T=x[b+1];S.set(Ct.createBezierPoints(k,R,B,E,I,T),(b-2)*3),[k,R,B,E]=[B,E,I,T]}}}for(let x=0,_=o.length;x<_;x++)u.push({line:v(o[x].map(S=>S??NaN),h,f,g,p),points:v(l[x].map(S=>S??NaN),h,f,g,p)});const m=new this.prototype.constructor;return m.build(u,i,s,1,A,c,a),m}get box(){return d(this,lo)}updateProperty(t,n){return t==="stroke-width"?z(this,oa,SY).call(this,n):null}updateParentDimensions([t,n],i){const[s,a]=z(this,oa,fh).call(this);M(this,xu,t),M(this,_u,n),M(this,Zw,i);const[o,l]=z(this,oa,fh).call(this),A=o-s,c=l-a,u=d(this,lo);return u[0]-=A,u[1]-=c,u[2]+=2*A,u[3]+=2*c,u}updateRotation(t){return M(this,UE,t),{path:{transform:this.rotationTransform}}}get viewBox(){return d(this,lo).map(Ct.svgRound).join(" ")}get defaultProperties(){const[t,n]=d(this,lo);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Ct.svgRound(t)} ${Ct.svgRound(n)}`}}}get rotationTransform(){const[,,t,n]=d(this,lo);let i=0,s=0,a=0,o=0,l=0,A=0;switch(d(this,UE)){case 90:s=n/t,a=-t/n,l=t;break;case 180:i=-1,o=-1,l=t,A=n;break;case 270:s=-n/t,a=t/n,A=n;break;default:return""}return`matrix(${i} ${s} ${a} ${o} ${Ct.svgRound(l)} ${Ct.svgRound(A)})`}getPathResizingSVGProperties([t,n,i,s]){const[a,o]=z(this,oa,fh).call(this),[l,A,c,u]=d(this,lo);if(Math.abs(c-a)<=Ct.PRECISION||Math.abs(u-o)<=Ct.PRECISION){const v=t+i/2-(l+c/2),m=n+s/2-(A+u/2);return{path:{"transform-origin":`${Ct.svgRound(t)} ${Ct.svgRound(n)}`,transform:`${this.rotationTransform} translate(${v} ${m})`}}}const h=(i-2*a)/(c-2*a),f=(s-2*o)/(u-2*o),g=c/i,p=u/s;return{path:{"transform-origin":`${Ct.svgRound(l)} ${Ct.svgRound(A)}`,transform:`${this.rotationTransform} scale(${g} ${p}) translate(${Ct.svgRound(a)} ${Ct.svgRound(o)}) scale(${h} ${f}) translate(${Ct.svgRound(-a)} ${Ct.svgRound(-o)})`}}}getPathResizedSVGProperties([t,n,i,s]){const[a,o]=z(this,oa,fh).call(this),l=d(this,lo),[A,c,u,h]=l;if(l[0]=t,l[1]=n,l[2]=i,l[3]=s,Math.abs(u-a)<=Ct.PRECISION||Math.abs(h-o)<=Ct.PRECISION){const m=t+i/2-(A+u/2),x=n+s/2-(c+h/2);for(const{line:_,points:S}of d(this,Rl))Ct._translate(_,m,x,_),Ct._translate(S,m,x,S);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Ct.svgRound(t)} ${Ct.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const f=(i-2*a)/(u-2*a),g=(s-2*o)/(h-2*o),p=-f*(A+a)+t+a,v=-g*(c+o)+n+o;if(f!==1||g!==1||p!==0||v!==0)for(const{line:m,points:x}of d(this,Rl))Ct._rescale(m,p,v,f,g,m),Ct._rescale(x,p,v,f,g,x);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Ct.svgRound(t)} ${Ct.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,n],i){const[s,a]=i,o=d(this,lo),l=t-o[0],A=n-o[1];if(d(this,xu)===s&&d(this,_u)===a)for(const{line:c,points:u}of d(this,Rl))Ct._translate(c,l,A,c),Ct._translate(u,l,A,u);else{const c=d(this,xu)/s,u=d(this,_u)/a;M(this,xu,s),M(this,_u,a);for(const{line:h,points:f}of d(this,Rl))Ct._rescale(h,l,A,c,u,h),Ct._rescale(f,l,A,c,u,f);o[2]*=c,o[3]*=u}return o[0]=t,o[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Ct.svgRound(t)} ${Ct.svgRound(n)}`}}}get defaultSVGProperties(){const t=d(this,lo);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Ct.svgRound(t[0])} ${Ct.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}lo=new WeakMap,UE=new WeakMap,ME=new WeakMap,Rl=new WeakMap,xu=new WeakMap,_u=new WeakMap,Zw=new WeakMap,ey=new WeakMap,um=new WeakMap,oa=new WeakSet,fh=function(t=d(this,um)){const n=d(this,ME)+t/2*d(this,Zw);return d(this,ey)%180===0?[n/d(this,xu),n/d(this,_u)]:[n/d(this,_u),n/d(this,xu)]},CY=function(){const[t,n,i,s]=d(this,lo),[a,o]=z(this,oa,fh).call(this,0);return[t+a,n+o,i-2*a,s-2*o]},BY=function(){const t=M(this,lo,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of d(this,Rl)){if(s.length<=12){for(let l=4,A=s.length;l<A;l+=6)Tt.pointBoundingBox(s[l],s[l+1],t);continue}let a=s[4],o=s[5];for(let l=6,A=s.length;l<A;l+=6){const[c,u,h,f,g,p]=s.subarray(l,l+6);Tt.bezierBoundingBox(a,o,c,u,h,f,g,p,t),a=g,o=p}}const[n,i]=z(this,oa,fh).call(this);t[0]=ho(t[0]-n,0,1),t[1]=ho(t[1]-i,0,1),t[2]=ho(t[2]+n,0,1),t[3]=ho(t[3]+i,0,1),t[2]-=t[0],t[3]-=t[1]},SY=function(t){const[n,i]=z(this,oa,fh).call(this);M(this,um,t);const[s,a]=z(this,oa,fh).call(this),[o,l]=[s-n,a-i],A=d(this,lo);return A[0]-=o,A[1]-=l,A[2]+=2*o,A[3]+=2*l,A};class k4 extends bY{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Kn._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new k4(this._viewParameters);return e.updateAll(this),e}}var OF,TY;const fv=class fv extends XT{constructor(t){super({...t,name:"inkEditor"});V(this,OF);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,n){Kn.initialize(t,n),this._defaultDrawingOptions=new k4(n.viewParameters)}static getDefaultDrawingOptions(t){const n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return Er(this,"typesMap",new Map([[Nr.INK_THICKNESS,"stroke-width"],[Nr.INK_COLOR,"stroke"],[Nr.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,n,i,s,a){return new oye(t,n,i,s,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,n,i,s,a,o){return mC.deserialize(t,n,i,s,a,o)}static async deserialize(t,n,i){let s=null;if(t instanceof GU){const{data:{inkLists:o,rect:l,rotation:A,id:c,color:u,opacity:h,borderStyle:{rawWidth:f},popupRef:g,richText:p,contentsObj:v,creationDate:m,modificationDate:x},parent:{page:{pageNumber:_}}}=t;s=t={annotationType:dr.INK,color:Array.from(u),thickness:f,opacity:h,paths:{points:o},boxes:null,pageIndex:_-1,rect:l.slice(0),rotation:A,annotationElementId:c,id:c,deleted:!1,popupRef:g,richText:p,comment:(v==null?void 0:v.str)||null,creationDate:m,modificationDate:x}}const a=await super.deserialize(t,n,i);return a._initialData=s,t.comment&&a.setCommentData(t),a}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new WT(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Nr.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:n,parent:i}=this;n.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(t,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:n,opacity:i}){this._drawingOptions=fv.getDefaultDrawingOptions({stroke:Tt.makeHexColor(...t),"stroke-width":n,"stroke-opacity":i})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:i}=this.serializeDraw(t),{_drawingOptions:{stroke:s,"stroke-opacity":a,"stroke-width":o}}=this,l=Object.assign(super.serialize(t),{color:Kn._colorManager.convert(s),opacity:a,thickness:o,paths:{lines:n,points:i}});return this.addComment(l),t?(l.isCopy=!0,l):this.annotationElementId&&!z(this,OF,TY).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:n,rect:i}=this.serializeDraw(!1);return t.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:n,popup:this.comment}),null}};OF=new WeakSet,TY=function(t){const{color:n,thickness:i,opacity:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((o,l)=>o!==n[l])||t.thickness!==i||t.opacity!==s||t.pageIndex!==a},Ce(fv,"_type","ink"),Ce(fv,"_editorType",dr.INK),Ce(fv,"_defaultDrawingOptions",null);let uR=fv;class hR extends mC{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const TB=8,y2=3;var hm,on,fR,cc,FY,IY,dR,d5,kY,LY,PY,pR,gR,RY;class rf{static extractContoursFromText(e,{fontFamily:t,fontStyle:n,fontWeight:i},s,a,o,l){let A=new OffscreenCanvas(1,1),c=A.getContext("2d",{alpha:!1});const u=200,h=c.font=`${n} ${i} ${u}px ${t}`,{actualBoundingBoxLeft:f,actualBoundingBoxRight:g,actualBoundingBoxAscent:p,actualBoundingBoxDescent:v,fontBoundingBoxAscent:m,fontBoundingBoxDescent:x,width:_}=c.measureText(e),S=1.5,k=Math.ceil(Math.max(Math.abs(f)+Math.abs(g)||0,_)*S),R=Math.ceil(Math.max(Math.abs(p)+Math.abs(v)||u,Math.abs(m)+Math.abs(x)||u)*S);A=new OffscreenCanvas(k,R),c=A.getContext("2d",{alpha:!0,willReadFrequently:!0}),c.font=h,c.filter="grayscale(1)",c.fillStyle="white",c.fillRect(0,0,k,R),c.fillStyle="black",c.fillText(e,k*(S-1)/2,R*(3-S)/2);const B=z(this,on,pR).call(this,c.getImageData(0,0,k,R).data),E=z(this,on,PY).call(this,B),b=z(this,on,gR).call(this,E),I=z(this,on,dR).call(this,B,k,R,b);return this.processDrawnLines({lines:{curves:I,width:k,height:R},pageWidth:s,pageHeight:a,rotation:o,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,t,n,i,s){const[a,o,l]=z(this,on,RY).call(this,e),[A,c]=z(this,on,LY).call(this,a,o,l,Math.hypot(o,l)*d(this,hm).sigmaSFactor,d(this,hm).sigmaR,d(this,hm).kernelSize),u=z(this,on,gR).call(this,c),h=z(this,on,dR).call(this,A,o,l,u);return this.processDrawnLines({lines:{curves:h,width:o,height:l},pageWidth:t,pageHeight:n,rotation:i,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:i,innerMargin:s,mustSmooth:a,areContours:o}){i%180!==0&&([t,n]=[n,t]);const{curves:l,width:A,height:c}=e,u=e.thickness??0,h=[],f=Math.min(t/A,n/c),g=f/t,p=f/n,v=[];for(const{points:x}of l){const _=a?z(this,on,kY).call(this,x):x;if(!_)continue;v.push(_);const S=_.length,k=new Float32Array(S),R=new Float32Array(3*(S===2?2:S-2));if(h.push({line:R,points:k}),S===2){k[0]=_[0]*g,k[1]=_[1]*p,R.set([NaN,NaN,NaN,NaN,k[0],k[1]],0);continue}let[B,E,b,I]=_;B*=g,E*=p,b*=g,I*=p,k.set([B,E,b,I],0),R.set([NaN,NaN,NaN,NaN,B,E],0);for(let T=4;T<S;T+=2){const F=k[T]=_[T]*g,D=k[T+1]=_[T+1]*p;R.set(Ct.createBezierPoints(B,E,b,I,F,D),(T-2)*3),[B,E,b,I]=[b,I,F,D]}}if(h.length===0)return null;const m=o?new hR:new mC;return m.build(h,t,n,1,i,o?0:u,s),{outline:m,newCurves:v,areContours:o,thickness:u,width:A,height:c}}static async compressSignature({outlines:e,areContours:t,thickness:n,width:i,height:s}){let a=1/0,o=-1/0,l=0;for(const _ of e){l+=_.length;for(let S=2,k=_.length;S<k;S++){const R=_[S]-_[S-2];a=Math.min(a,R),o=Math.max(o,R)}}let A;a>=-128&&o<=127?A=Int8Array:a>=-32768&&o<=32767?A=Int16Array:A=Int32Array;const c=e.length,u=TB+y2*c,h=new Uint32Array(u);let f=0;h[f++]=u*Uint32Array.BYTES_PER_ELEMENT+(l-2*c)*A.BYTES_PER_ELEMENT,h[f++]=0,h[f++]=i,h[f++]=s,h[f++]=t?0:1,h[f++]=Math.max(0,Math.floor(n??0)),h[f++]=c,h[f++]=A.BYTES_PER_ELEMENT;for(const _ of e)h[f++]=_.length-2,h[f++]=_[0],h[f++]=_[1];const g=new CompressionStream("deflate-raw"),p=g.writable.getWriter();await p.ready,p.write(h);const v=A.prototype.constructor;for(const _ of e){const S=new v(_.length-2);for(let k=2,R=_.length;k<R;k++)S[k-2]=_[k]-_[k-2];p.write(S)}p.close();const m=await new Response(g.readable).arrayBuffer(),x=new Uint8Array(m);return Dq(x)}static async decompressSignature(e){try{const t=bve(e),{readable:n,writable:i}=new DecompressionStream("deflate-raw"),s=i.getWriter();await s.ready,s.write(t).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let a=null,o=0;for await(const _ of n)a||(a=new Uint8Array(new Uint32Array(_.buffer,0,4)[0])),a.set(_,o),o+=_.length;const l=new Uint32Array(a.buffer,0,a.length>>2),A=l[1];if(A!==0)throw new Error(`Invalid version: ${A}`);const c=l[2],u=l[3],h=l[4]===0,f=l[5],g=l[6],p=l[7],v=[],m=(TB+y2*g)*Uint32Array.BYTES_PER_ELEMENT;let x;switch(p){case Int8Array.BYTES_PER_ELEMENT:x=new Int8Array(a.buffer,m);break;case Int16Array.BYTES_PER_ELEMENT:x=new Int16Array(a.buffer,m);break;case Int32Array.BYTES_PER_ELEMENT:x=new Int32Array(a.buffer,m);break}o=0;for(let _=0;_<g;_++){const S=l[y2*_+TB],k=new Float32Array(S+2);v.push(k);for(let R=0;R<y2-1;R++)k[R]=l[y2*_+TB+R+1];for(let R=0;R<S;R++)k[R+2]=k[R]+x[o++]}return{areContours:h,thickness:f,outlines:v,width:c,height:u}}catch(t){return Ar(`decompressSignature: ${t}`),null}}}hm=new WeakMap,on=new WeakSet,fR=function(e,t,n,i){return n-=e,i-=t,n===0?i>0?0:4:n===1?i+6:2-i},cc=new WeakMap,FY=function(e,t,n,i,s,a,o){const l=z(this,on,fR).call(this,n,i,s,a);for(let A=0;A<8;A++){const c=(-A+l-o+16)%8,u=d(this,cc)[2*c],h=d(this,cc)[2*c+1];if(e[(n+u)*t+(i+h)]!==0)return c}return-1},IY=function(e,t,n,i,s,a,o){const l=z(this,on,fR).call(this,n,i,s,a);for(let A=0;A<8;A++){const c=(A+l+o+16)%8,u=d(this,cc)[2*c],h=d(this,cc)[2*c+1];if(e[(n+u)*t+(i+h)]!==0)return c}return-1},dR=function(e,t,n,i){const s=e.length,a=new Int32Array(s);for(let c=0;c<s;c++)a[c]=e[c]<=i?1:0;for(let c=1;c<n-1;c++)a[c*t]=a[c*t+t-1]=0;for(let c=0;c<t;c++)a[c]=a[t*n-1-c]=0;let o=1,l;const A=[];for(let c=1;c<n-1;c++){l=1;for(let u=1;u<t-1;u++){const h=c*t+u,f=a[h];if(f===0)continue;let g=c,p=u;if(f===1&&a[h-1]===0)o+=1,p-=1;else if(f>=1&&a[h+1]===0)o+=1,p+=1,f>1&&(l=f);else{f!==1&&(l=Math.abs(f));continue}const v=[u,c],m=p===u+1,x={isHole:m,points:v,id:o,parent:0};A.push(x);let _;for(const T of A)if(T.id===l){_=T;break}_?_.isHole?x.parent=m?_.parent:l:x.parent=m?l:_.parent:x.parent=m?l:0;const S=z(this,on,FY).call(this,a,t,c,u,g,p,0);if(S===-1){a[h]=-o,a[h]!==1&&(l=Math.abs(a[h]));continue}let k=d(this,cc)[2*S],R=d(this,cc)[2*S+1];const B=c+k,E=u+R;g=B,p=E;let b=c,I=u;for(;;){const T=z(this,on,IY).call(this,a,t,b,I,g,p,1);k=d(this,cc)[2*T],R=d(this,cc)[2*T+1];const F=b+k,D=I+R;v.push(D,F);const q=b*t+I;if(a[q+1]===0?a[q]=-o:a[q]===1&&(a[q]=o),F===c&&D===u&&b===B&&I===E){a[h]!==1&&(l=Math.abs(a[h]));break}else g=b,p=I,b=F,I=D}}}return A},d5=function(e,t,n,i){if(n-t<=4){for(let B=t;B<n-2;B+=2)i.push(e[B],e[B+1]);return}const s=e[t],a=e[t+1],o=e[n-4]-s,l=e[n-3]-a,A=Math.hypot(o,l),c=o/A,u=l/A,h=c*a-u*s,f=l/o,g=1/A,p=Math.atan(f),v=Math.cos(p),m=Math.sin(p),x=g*(Math.abs(v)+Math.abs(m)),_=g*(1-x+x**2),S=Math.max(Math.atan(Math.abs(m+v)*_),Math.atan(Math.abs(m-v)*_));let k=0,R=t;for(let B=t+2;B<n-2;B+=2){const E=Math.abs(h-c*e[B+1]+u*e[B]);E>k&&(R=B,k=E)}k>(A*S)**2?(z(this,on,d5).call(this,e,t,R+2,i),z(this,on,d5).call(this,e,R,n,i)):i.push(s,a)},kY=function(e){const t=[],n=e.length;return z(this,on,d5).call(this,e,0,n,t),t.push(e[n-2],e[n-1]),t.length<=4?null:t},LY=function(e,t,n,i,s,a){const o=new Float32Array(a**2),l=-2*i**2,A=a>>1;for(let p=0;p<a;p++){const v=(p-A)**2;for(let m=0;m<a;m++)o[p*a+m]=Math.exp((v+(m-A)**2)/l)}const c=new Float32Array(256),u=-2*s**2;for(let p=0;p<256;p++)c[p]=Math.exp(p**2/u);const h=e.length,f=new Uint8Array(h),g=new Uint32Array(256);for(let p=0;p<n;p++)for(let v=0;v<t;v++){const m=p*t+v,x=e[m];let _=0,S=0;for(let R=0;R<a;R++){const B=p+R-A;if(!(B<0||B>=n))for(let E=0;E<a;E++){const b=v+E-A;if(b<0||b>=t)continue;const I=e[B*t+b],T=o[R*a+E]*c[Math.abs(I-x)];_+=I*T,S+=T}}const k=f[m]=Math.round(_/S);g[k]++}return[f,g]},PY=function(e){const t=new Uint32Array(256);for(const n of e)t[n]++;return t},pR=function(e){const t=e.length,n=new Uint8ClampedArray(t>>2);let i=-1/0,s=1/0;for(let o=0,l=n.length;o<l;o++){const A=n[o]=e[o<<2];i=Math.max(i,A),s=Math.min(s,A)}const a=255/(i-s);for(let o=0,l=n.length;o<l;o++)n[o]=(n[o]-s)*a;return n},gR=function(e){let t,n=-1/0,i=-1/0;const s=e.findIndex(l=>l!==0);let a=s,o=s;for(t=s;t<256;t++){const l=e[t];l>n&&(t-a>i&&(i=t-a,o=t-1),n=l,a=t)}for(t=o-1;t>=0&&!(e[t]>e[t+1]);t--);return t},RY=function(e){const t=e,{width:n,height:i}=e,{maxDim:s}=d(this,hm);let a=n,o=i;if(n>s||i>s){let h=n,f=i,g=Math.log2(Math.max(n,i)/s);const p=Math.floor(g);g=g===p?p-1:p;for(let m=0;m<g;m++){a=Math.ceil(h/2),o=Math.ceil(f/2);const x=new OffscreenCanvas(a,o);x.getContext("2d").drawImage(e,0,0,h,f,0,0,a,o),h=a,f=o,e!==t&&e.close(),e=x.transferToImageBitmap()}const v=Math.min(s/a,s/o);a=Math.round(a*v),o=Math.round(o*v)}const A=new OffscreenCanvas(a,o).getContext("2d",{willReadFrequently:!0});A.fillStyle="white",A.fillRect(0,0,a,o),A.filter="grayscale(1)",A.drawImage(e,0,0,e.width,e.height,0,0,a,o);const c=A.getImageData(0,0,a,o).data;return[z(this,on,pR).call(this,c),a,o]},V(rf,on),V(rf,hm,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),V(rf,cc,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class $U extends bY{constructor(){super(),super.updateProperties({fill:Kn._defaultLineColor,"stroke-width":0})}clone(){const e=new $U;return e.updateAll(this),e}}class qU extends k4{constructor(e){super(e),super.updateProperties({stroke:Kn._defaultLineColor,"stroke-width":1})}clone(){const e=new qU(this._viewParameters);return e.updateAll(this),e}}var l0,bu,A0,fm;const ml=class ml extends XT{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});V(this,l0,!1);V(this,bu,null);V(this,A0,null);V(this,fm,null);this._willKeepAspectRatio=!0,M(this,A0,t.signatureData||null),M(this,bu,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,n){Kn.initialize(t,n),this._defaultDrawingOptions=new $U,this._defaultDrawnSignatureOptions=new qU(n.viewParameters)}static getDefaultDrawingOptions(t){const n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!1}static get typesMap(){return Er(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!d(this,bu)}}static computeTelemetryFinalData(t){const n=t.get("hasDescription");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,n;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,t=this.x,n=this.y),super.render(),this._drawId===null)if(d(this,A0)){const{lines:s,mustSmooth:a,areContours:o,description:l,uuid:A,heightInPage:c}=d(this,A0),{rawDims:{pageWidth:u,pageHeight:h},rotation:f}=this.parent.viewport,g=rf.processDrawnLines({lines:s,pageWidth:u,pageHeight:h,rotation:f,innerMargin:ml._INNER_MARGIN,mustSmooth:a,areContours:o});this.addSignature(g,c,l,A)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:d(this,bu)||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(t,n)),this.div}setUuid(t){M(this,fm,t),this.addEditToolbar()}getUuid(){return d(this,fm)}get description(){return d(this,bu)}set description(t){M(this,bu,t),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(n=>{n==null||n.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:n,thickness:i,width:s,height:a}=d(this,A0),o=Math.max(s,a),l=rf.processDrawnLines({lines:{curves:t.map(A=>({points:A})),thickness:i,width:s,height:a},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:n});return{areContours:n,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,n,i,s){const{x:a,y:o}=this,{outline:l}=M(this,A0,t);M(this,l0,l instanceof hR),this.description=i;let A;d(this,l0)?A=ml.getDefaultDrawingOptions():(A=ml._defaultDrawnSignatureOptions.clone(),A.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:A});const[,c]=this.pageDimensions;let u=n/c;u=u>=1?.5:u,this.width*=u/this.height,this.width>=1&&(u*=.9/this.width,this.width=.9),this.height=u,this.setDims(),this.x=a,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:n,pageHeight:i},rotation:s}=this.parent.viewport;return rf.process(t,n,i,s,ml._INNER_MARGIN)}getFromText(t,n){const{rawDims:{pageWidth:i,pageHeight:s},rotation:a}=this.parent.viewport;return rf.extractContoursFromText(t,n,i,s,a,ml._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:n,pageHeight:i},rotation:s}=this.parent.viewport;return rf.processDrawnLines({lines:t,pageWidth:n,pageHeight:i,rotation:s,innerMargin:ml._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:n}){t?this._drawingOptions=ml.getDefaultDrawingOptions():(this._drawingOptions=ml._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:n,points:i}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":s}}=this,a=Object.assign(super.serialize(t),{isSignature:!0,areContours:d(this,l0),color:[0,0,0],thickness:d(this,l0)?0:s});return this.addComment(a),t?(a.paths={lines:n,points:i},a.uuid=d(this,fm),a.isCopy=!0):a.lines=n,d(this,bu)&&(a.accessibilityData={type:"Figure",alt:d(this,bu)}),a}static deserializeDraw(t,n,i,s,a,o){return o.areContours?hR.deserialize(t,n,i,s,a,o):mC.deserialize(t,n,i,s,a,o)}static async deserialize(t,n,i){var a;const s=await super.deserialize(t,n,i);return M(s,l0,t.areContours),s.description=((a=t.accessibilityData)==null?void 0:a.alt)||"",M(s,fm,t.uuid),s}};l0=new WeakMap,bu=new WeakMap,A0=new WeakMap,fm=new WeakMap,Ce(ml,"_type","signature"),Ce(ml,"_editorType",dr.SIGNATURE),Ce(ml,"_defaultDrawingOptions",null);let mR=ml;var ii,Us,c0,Yh,u0,ty,Jh,dm,Eu,Dl,ry,Xr,Ax,cx,p5,g5,m5,wR,v5,DY;class vR extends Kn{constructor(t){super({...t,name:"stampEditor"});V(this,Xr);V(this,ii,null);V(this,Us,null);V(this,c0,null);V(this,Yh,null);V(this,u0,null);V(this,ty,"");V(this,Jh,null);V(this,dm,!1);V(this,Eu,null);V(this,Dl,!1);V(this,ry,!1);M(this,Yh,t.bitmapUrl),M(this,u0,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,n){Kn.initialize(t,n)}static isHandlingMimeForPasting(t){return tP.includes(t)}static paste(t,n){n.pasteEditor({mode:dr.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const n=t.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(t=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:a,height:o}=t||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:s,width:a,height:o,channels:s.length/(a*o)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const A=l.output;return await this.setGuessedAltText(A),n&&!this.hasAltTextData()&&(this.altTextData={alt:A,decorative:!1}),A}remove(){var t;d(this,Us)&&(M(this,ii,null),this._uiManager.imageManager.deleteId(d(this,Us)),(t=d(this,Jh))==null||t.remove(),M(this,Jh,null),d(this,Eu)&&(clearTimeout(d(this,Eu)),M(this,Eu,null))),super.remove()}rebuild(){if(!this.parent){d(this,Us)&&z(this,Xr,p5).call(this);return}super.rebuild(),this.div!==null&&(d(this,Us)&&d(this,Jh)===null&&z(this,Xr,p5).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(d(this,c0)||d(this,ii)||d(this,Yh)||d(this,u0)||d(this,Us)||d(this,dm))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,n;return this._isCopy&&(t=this.x,n=this.y),super.render(),this.div.hidden=!0,this.createAltText(),d(this,dm)||(d(this,ii)?z(this,Xr,g5).call(this):z(this,Xr,p5).call(this)),this._isCopy&&this._moveAfterPaste(t,n),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,n){const{id:i,bitmap:s}=this._uiManager.imageManager.getFromCanvas(t,n);n.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(M(this,Us,i),s&&M(this,ii,s),M(this,dm,!1),z(this,Xr,g5).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;d(this,Eu)!==null&&clearTimeout(d(this,Eu)),M(this,Eu,setTimeout(()=>{M(this,Eu,null),z(this,Xr,wR).call(this)},200))}copyCanvas(t,n,i=!1){t||(t=224);const{width:s,height:a}=d(this,ii),o=new Qu;let l=d(this,ii),A=s,c=a,u=null;if(n){if(s>n||a>n){const B=Math.min(n/s,n/a);A=Math.floor(s*B),c=Math.floor(a*B)}u=document.createElement("canvas");const f=u.width=Math.ceil(A*o.sx),g=u.height=Math.ceil(c*o.sy);d(this,Dl)||(l=z(this,Xr,m5).call(this,f,g));const p=u.getContext("2d");p.filter=this._uiManager.hcmFilter;let v="white",m="#cfcfd8";this._uiManager.hcmFilter!=="none"?m="black":Fve.isDarkMode&&(v="#8f8f9d",m="#42414d");const x=15,_=x*o.sx,S=x*o.sy,k=new OffscreenCanvas(_*2,S*2),R=k.getContext("2d");R.fillStyle=v,R.fillRect(0,0,_*2,S*2),R.fillStyle=m,R.fillRect(0,0,_,S),R.fillRect(_,S,_,S),p.fillStyle=p.createPattern(k,"repeat"),p.fillRect(0,0,f,g),p.drawImage(l,0,0,l.width,l.height,0,0,f,g)}let h=null;if(i){let f,g;if(o.symmetric&&l.width<t&&l.height<t)f=l.width,g=l.height;else if(l=d(this,ii),s>t||a>t){const m=Math.min(t/s,t/a);f=Math.floor(s*m),g=Math.floor(a*m),d(this,Dl)||(l=z(this,Xr,m5).call(this,f,g))}const v=new OffscreenCanvas(f,g).getContext("2d",{willReadFrequently:!0});v.drawImage(l,0,0,l.width,l.height,0,0,f,g),h={width:f,height:g,data:v.getImageData(0,0,f,g).data}}return{canvas:u,width:A,height:c,imageData:h}}static async deserialize(t,n,i){var v;let s=null,a=!1;if(t instanceof YX){const{data:{rect:m,rotation:x,id:_,structParent:S,popupRef:k,richText:R,contentsObj:B,creationDate:E,modificationDate:b},container:I,parent:{page:{pageNumber:T}},canvas:F}=t;let D,q;F?(delete t.canvas,{id:D,bitmap:q}=i.imageManager.getFromCanvas(I.id,F),F.remove()):(a=!0,t._hasNoCanvas=!0);const ie=((v=await n._structTree.getAriaAttributes(`${QU}${_}`))==null?void 0:v.get("aria-label"))||"";s=t={annotationType:dr.STAMP,bitmapId:D,bitmap:q,pageIndex:T-1,rect:m.slice(0),rotation:x,annotationElementId:_,id:_,deleted:!1,accessibilityData:{decorative:!1,altText:ie},isSvg:!1,structParent:S,popupRef:k,richText:R,comment:(B==null?void 0:B.str)||null,creationDate:E,modificationDate:b}}const o=await super.deserialize(t,n,i),{rect:l,bitmap:A,bitmapUrl:c,bitmapId:u,isSvg:h,accessibilityData:f}=t;a?(i.addMissingCanvas(t.id,o),M(o,dm,!0)):u&&i.imageManager.isValidId(u)?(M(o,Us,u),A&&M(o,ii,A)):M(o,Yh,c),M(o,Dl,h);const[g,p]=o.pageDimensions;return o.width=(l[2]-l[0])/g,o.height=(l[3]-l[1])/p,f&&(o.altTextData=f),o._initialData=s,t.comment&&o.setCommentData(t),M(o,ry,!!s),o}serialize(t=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Object.assign(super.serialize(t),{bitmapId:d(this,Us),isSvg:d(this,Dl)});if(this.addComment(i),t)return i.bitmapUrl=z(this,Xr,v5).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:s,altText:a}=this.serializeAltText(!1);if(!s&&a&&(i.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const l=z(this,Xr,DY).call(this,i);return l.isSame?null:(l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1,i.id=this.annotationElementId,delete i.bitmapId,i)}if(n===null)return i;n.stamps||(n.stamps=new Map);const o=d(this,Dl)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!n.stamps.has(d(this,Us)))n.stamps.set(d(this,Us),{area:o,serialized:i}),i.bitmap=z(this,Xr,v5).call(this,!1);else if(d(this,Dl)){const l=n.stamps.get(d(this,Us));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=z(this,Xr,v5).call(this,!1))}return i}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}ii=new WeakMap,Us=new WeakMap,c0=new WeakMap,Yh=new WeakMap,u0=new WeakMap,ty=new WeakMap,Jh=new WeakMap,dm=new WeakMap,Eu=new WeakMap,Dl=new WeakMap,ry=new WeakMap,Xr=new WeakSet,Ax=function(t,n=!1){if(!t){this.remove();return}M(this,ii,t.bitmap),n||(M(this,Us,t.id),M(this,Dl,t.isSvg)),t.file&&M(this,ty,t.file.name),z(this,Xr,g5).call(this)},cx=function(){if(M(this,c0,null),this._uiManager.enableWaiting(!1),!!d(this,Jh)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&d(this,ii)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&d(this,ii)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},p5=function(){if(d(this,Us)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(d(this,Us)).then(i=>z(this,Xr,Ax).call(this,i,!0)).finally(()=>z(this,Xr,cx).call(this));return}if(d(this,Yh)){const i=d(this,Yh);M(this,Yh,null),this._uiManager.enableWaiting(!0),M(this,c0,this._uiManager.imageManager.getFromUrl(i).then(s=>z(this,Xr,Ax).call(this,s)).finally(()=>z(this,Xr,cx).call(this)));return}if(d(this,u0)){const i=d(this,u0);M(this,u0,null),this._uiManager.enableWaiting(!0),M(this,c0,this._uiManager.imageManager.getFromFile(i).then(s=>z(this,Xr,Ax).call(this,s)).finally(()=>z(this,Xr,cx).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=tP.join(",");const n=this._uiManager._signal;M(this,c0,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),z(this,Xr,Ax).call(this,s)}i()},{signal:n}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:n})}).finally(()=>z(this,Xr,cx).call(this))),t.click()},g5=function(){var A;const{div:t}=this;let{width:n,height:i}=d(this,ii);const[s,a]=this.pageDimensions,o=.75;if(this.width)n=this.width*s,i=this.height*a;else if(n>o*s||i>o*a){const c=Math.min(o*s/n,o*a/i);n*=c,i*=c}this._uiManager.enableWaiting(!1);const l=M(this,Jh,document.createElement("canvas"));l.setAttribute("role","img"),this.addContainer(l),this.width=n/s,this.height=i/a,this.setDims(),(A=this._initialOptions)!=null&&A.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),z(this,Xr,wR).call(this),d(this,ry)||(this.parent.addUndoableEditor(this),M(this,ry,!0)),this._reportTelemetry({action:"inserted_image"}),d(this,ty)&&this.div.setAttribute("aria-description",d(this,ty)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},m5=function(t,n){const{width:i,height:s}=d(this,ii);let a=i,o=s,l=d(this,ii);for(;a>2*t||o>2*n;){const A=a,c=o;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*n&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const u=new OffscreenCanvas(a,o);u.getContext("2d").drawImage(l,0,0,A,c,0,0,a,o),l=u.transferToImageBitmap()}return l},wR=function(){const[t,n]=this.parentDimensions,{width:i,height:s}=this,a=new Qu,o=Math.ceil(i*t*a.sx),l=Math.ceil(s*n*a.sy),A=d(this,Jh);if(!A||A.width===o&&A.height===l)return;A.width=o,A.height=l;const c=d(this,Dl)?d(this,ii):z(this,Xr,m5).call(this,o,l),u=A.getContext("2d");u.filter=this._uiManager.hcmFilter,u.drawImage(c,0,0,c.width,c.height,0,0,o,l)},v5=function(t){if(t){if(d(this,Dl)){const s=this._uiManager.imageManager.getSvgUrl(d(this,Us));if(s)return s}const n=document.createElement("canvas");return{width:n.width,height:n.height}=d(this,ii),n.getContext("2d").drawImage(d(this,ii),0,0),n.toDataURL()}if(d(this,Dl)){const[n,i]=this.pageDimensions,s=Math.round(this.width*n*ip.PDF_TO_CSS_UNITS),a=Math.round(this.height*i*ip.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(s,a);return o.getContext("2d").drawImage(d(this,ii),0,0,d(this,ii).width,d(this,ii).height,0,0,s,a),o.transferToImageBitmap()}return structuredClone(d(this,ii))},DY=function(t){var o;const{pageIndex:n,accessibilityData:{altText:i}}=this._initialData,s=t.pageIndex===n,a=(((o=t.accessibilityData)==null?void 0:o.alt)||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&s&&a,isSameAltText:a}},Ce(vR,"_type","stamp"),Ce(vR,"_editorType",dr.STAMP);var pm,ny,h0,f0,Zh,Ko,d0,iy,sy,uc,ef,Ms,tf,p0,ay,Ot,g0,Rn,xR,NY,Yc,_R,bR,w5;const ZA=class ZA{constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:i,accessibilityManager:s,annotationLayer:a,drawLayer:o,textLayer:l,viewport:A,l10n:c}){V(this,Rn);V(this,pm);V(this,ny,!1);V(this,h0,null);V(this,f0,null);V(this,Zh,null);V(this,Ko,new Map);V(this,d0,!1);V(this,iy,!1);V(this,sy,!1);V(this,uc,null);V(this,ef,null);V(this,Ms,null);V(this,tf,null);V(this,p0,null);V(this,ay,-1);V(this,Ot);const u=[...d(ZA,g0).values()];if(!ZA._initialized){ZA._initialized=!0;for(const h of u)h.initialize(c,e)}e.registerEditorTypes(u),M(this,Ot,e),this.pageIndex=t,this.div=n,M(this,pm,s),M(this,h0,a),this.viewport=A,M(this,Ms,l),this.drawLayer=o,this._structTree=i,d(this,Ot).addLayer(this)}get isEmpty(){return d(this,Ko).size===0}get isInvisible(){return this.isEmpty&&d(this,Ot).getMode()===dr.NONE}updateToolbar(e){d(this,Ot).updateToolbar(e)}updateMode(e=d(this,Ot).getMode()){switch(z(this,Rn,w5).call(this),e){case dr.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case dr.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case dr.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===dr.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const n of d(ZA,g0).values())t.toggle(`${n._type}Editing`,e===n._editorType)}this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=d(this,Ms))==null?void 0:t.div)}setEditingState(e){d(this,Ot).setEditingState(e)}addCommands(e){d(this,Ot).addCommands(e)}cleanUndoStack(e){d(this,Ot).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=d(this,h0))==null||t.div.classList.toggle("disabled",!e)}async enable(){var n;M(this,sy,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(n=d(this,p0))==null||n.abort(),M(this,p0,null);const e=new Set;for(const i of d(this,Rn,xR))i.enableEditing(),i.show(!0),i.annotationElementId&&(d(this,Ot).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));const t=d(this,h0);if(t)for(const i of t.getEditableAnnotations()){if(i.hide(),d(this,Ot).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const s=await this.deserialize(i);s&&(this.addOrRebuild(s),s.enableEditing())}M(this,sy,!1),d(this,Ot)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var n;if(M(this,iy,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),d(this,Ms)&&!d(this,p0)){M(this,p0,new AbortController);const i=d(this,Ot).combinedSignal(d(this,p0));d(this,Ms).div.addEventListener("pointerdown",s=>{const{clientX:o,clientY:l,timeStamp:A}=s,c=d(this,ay);if(A-c>500){M(this,ay,A);return}M(this,ay,-1);const{classList:u}=this.div;u.toggle("getElements",!0);const h=document.elementsFromPoint(o,l);if(u.toggle("getElements",!1),!this.div.contains(h[0]))return;let f;const g=new RegExp(`^${V_}[0-9]+$`);for(const v of h)if(g.test(v.id)){f=v.id;break}if(!f)return;const p=d(this,Ko).get(f);(p==null?void 0:p.annotationElementId)===null&&(s.stopPropagation(),s.preventDefault(),p.dblclick(s))},{signal:i,capture:!0})}const e=d(this,h0);if(e){const i=new Map,s=new Map;for(const o of d(this,Rn,xR)){if(o.disableEditing(),!o.annotationElementId){o.updateFakeAnnotationElement(e);continue}if(o.serialize()!==null){i.set(o.annotationElementId,o);continue}else s.set(o.annotationElementId,o);(n=this.getEditableAnnotation(o.annotationElementId))==null||n.show(),o.remove()}const a=e.getEditableAnnotations();for(const o of a){const{id:l}=o.data;if(d(this,Ot).isDeletedAnnotationElement(l)){o.updateEdited({deleted:!0});continue}let A=s.get(l);if(A){A.resetAnnotationElement(o),A.show(!1),o.show();continue}A=i.get(l),A&&(d(this,Ot).addChangedExistingAnnotation(A),A.renderAnnotationElement(o)&&A.show(!1)),o.show()}}z(this,Rn,w5).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:t}=this.div;for(const i of d(ZA,g0).values())t.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),M(this,iy,!1)}getEditableAnnotation(e){var t;return((t=d(this,h0))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){d(this,Ot).getActive()!==e&&d(this,Ot).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=d(this,Ms))!=null&&e.div&&!d(this,tf)){M(this,tf,new AbortController);const t=d(this,Ot).combinedSignal(d(this,tf));d(this,Ms).div.addEventListener("pointerdown",z(this,Rn,NY).bind(this),{signal:t}),d(this,Ms).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=d(this,Ms))!=null&&e.div&&d(this,tf)&&(d(this,tf).abort(),M(this,tf,null),d(this,Ms).div.classList.remove("highlighting"))}enableClick(){if(d(this,f0))return;M(this,f0,new AbortController);const e=d(this,Ot).combinedSignal(d(this,f0));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=d(this,f0))==null||e.abort(),M(this,f0,null)}attach(e){d(this,Ko).set(e.id,e);const{annotationElementId:t}=e;t&&d(this,Ot).isDeletedAnnotationElement(t)&&d(this,Ot).removeDeletedAnnotationElement(e)}detach(e){var t;d(this,Ko).delete(e.id),(t=d(this,pm))==null||t.removePointerInTextLayer(e.contentDiv),!d(this,iy)&&e.annotationElementId&&d(this,Ot).addDeletedAnnotationElement(e)}remove(e){this.detach(e),d(this,Ot).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(d(this,Ot).addDeletedAnnotationElement(e.annotationElementId),Kn.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),d(this,Ot).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!d(this,sy)),d(this,Ot).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!d(this,Zh)&&(e._focusEventsAllowed=!1,M(this,Zh,setTimeout(()=>{M(this,Zh,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:d(this,Ot)._signal}),t.focus())},0))),e._structTreeParentId=(n=d(this,pm))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getEditorByUID(e){for(const t of d(this,Ko).values())if(t.uid===e)return t;return null}getNextId(){return d(this,Ot).getId()}combinedSignal(e){return d(this,Ot).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=d(this,Rn,Yc))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await d(this,Ot).updateMode(e.mode);const{offsetX:n,offsetY:i}=z(this,Rn,bR).call(this),s=this.getNextId(),a=z(this,Rn,_R).call(this,{parent:this,id:s,x:n,y:i,uiManager:d(this,Ot),isCentered:!0,...t});a&&this.add(a)}async deserialize(e){var t;return await((t=d(ZA,g0).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,d(this,Ot)))||null}createAndAddNewEditor(e,t,n={}){const i=this.getNextId(),s=z(this,Rn,_R).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:d(this,Ot),isCentered:t,...n});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(z(this,Rn,bR).call(this),!0,e)}setSelected(e){d(this,Ot).setSelected(e)}toggleSelected(e){d(this,Ot).toggleSelected(e)}unselect(e){d(this,Ot).unselect(e)}pointerup(e){var i;const{isMac:t}=ga.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!d(this,d0)||(M(this,d0,!1),(i=d(this,Rn,Yc))!=null&&i.isDrawer&&d(this,Rn,Yc).supportMultipleDrawings))return;if(!d(this,ny)){M(this,ny,!0);return}const n=d(this,Ot).getMode();if(n===dr.STAMP||n===dr.SIGNATURE){d(this,Ot).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var i;if(d(this,Ot).getMode()===dr.HIGHLIGHT&&this.enableTextSelection(),d(this,d0)){M(this,d0,!1);return}const{isMac:t}=ga.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(M(this,d0,!0),(i=d(this,Rn,Yc))!=null&&i.isDrawer){this.startDrawingSession(e);return}const n=d(this,Ot).getActive();M(this,ny,!n||n.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),d(this,uc)){d(this,Rn,Yc).startDrawing(this,d(this,Ot),!1,e);return}d(this,Ot).setCurrentDrawingSession(this),M(this,uc,new AbortController);const t=d(this,Ot).combinedSignal(d(this,uc));this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(M(this,ef,null),this.commitOrRemove())},{signal:t}),d(this,Rn,Yc).startDrawing(this,d(this,Ot),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&M(this,ef,t);return}d(this,ef)&&setTimeout(()=>{var t;(t=d(this,ef))==null||t.focus(),M(this,ef,null)},0)}endDrawingSession(e=!1){return d(this,uc)?(d(this,Ot).setCurrentDrawingSession(null),d(this,uc).abort(),M(this,uc,null),M(this,ef,null),d(this,Rn,Yc).endDrawing(e)):null}findNewParent(e,t,n){const i=d(this,Ot).findParent(t,n);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return d(this,uc)?(this.endDrawingSession(),!0):!1}onScaleChanging(){d(this,uc)&&d(this,Rn,Yc).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=d(this,Ot).getActive())==null?void 0:e.parent)===this&&(d(this,Ot).commitOrRemove(),d(this,Ot).setActiveEditor(null)),d(this,Zh)&&(clearTimeout(d(this,Zh)),M(this,Zh,null));for(const n of d(this,Ko).values())(t=d(this,pm))==null||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,d(this,Ko).clear(),d(this,Ot).removeLayer(this)}render({viewport:e}){this.viewport=e,Vm(this.div,e);for(const t of d(this,Ot).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){d(this,Ot).commitOrRemove(),z(this,Rn,w5).call(this);const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,Vm(this.div,{rotation:n}),t!==n)for(const i of d(this,Ko).values())i.rotate(n)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return d(this,Ot).viewParameters.realScale}};pm=new WeakMap,ny=new WeakMap,h0=new WeakMap,f0=new WeakMap,Zh=new WeakMap,Ko=new WeakMap,d0=new WeakMap,iy=new WeakMap,sy=new WeakMap,uc=new WeakMap,ef=new WeakMap,Ms=new WeakMap,tf=new WeakMap,p0=new WeakMap,ay=new WeakMap,Ot=new WeakMap,g0=new WeakMap,Rn=new WeakSet,xR=function(){return d(this,Ko).size!==0?d(this,Ko).values():d(this,Ot).getEditors(this.pageIndex)},NY=function(e){d(this,Ot).unselectAll();const{target:t}=e;if(t===d(this,Ms).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&d(this,Ms).div.contains(t)){const{isMac:n}=ga.platform;if(e.button!==0||e.ctrlKey&&n)return;d(this,Ot).showAllEditors("highlight",!0,!0),d(this,Ms).div.classList.add("free"),this.toggleDrawing(),qT.startHighlighting(this,d(this,Ot).direction==="ltr",{target:d(this,Ms).div,x:e.x,y:e.y}),d(this,Ms).div.addEventListener("pointerup",()=>{d(this,Ms).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:d(this,Ot)._signal}),e.preventDefault()}},Yc=function(){return d(ZA,g0).get(d(this,Ot).getMode())},_R=function(e){const t=d(this,Rn,Yc);return t?new t.prototype.constructor(e):null},bR=function(){const{x:e,y:t,width:n,height:i}=this.boundingClientRect,s=Math.max(0,e),a=Math.max(0,t),o=Math.min(window.innerWidth,e+n),l=Math.min(window.innerHeight,t+i),A=(s+o)/2-e,c=(a+l)/2-t,[u,h]=this.viewport.rotation%180===0?[A,c]:[c,A];return{offsetX:u,offsetY:h}},w5=function(){for(const e of d(this,Ko).values())e.isEmpty()&&e.remove()},Ce(ZA,"_initialized",!1),V(ZA,g0,new Map([tR,uR,vR,qT,mR].map(e=>[e._editorType,e])));let yR=ZA;var hc,Ao,gm,OE,QF,UY,Hu,CR,MY,BR;const ms=class ms{constructor({pageIndex:e}){V(this,Hu);V(this,hc,null);V(this,Ao,new Map);V(this,gm,new Map);this.pageIndex=e}setParent(e){if(!d(this,hc)){M(this,hc,e);return}if(d(this,hc)!==e){if(d(this,Ao).size>0)for(const t of d(this,Ao).values())t.remove(),e.append(t);M(this,hc,e)}}static get _svgFactory(){return Er(this,"_svgFactory",new GT)}draw(e,t=!1,n=!1){const i=Hi(ms,OE)._++,s=z(this,Hu,CR).call(this),a=ms._svgFactory.createElement("defs");s.append(a);const o=ms._svgFactory.createElement("path");a.append(o);const l=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),t&&d(this,gm).set(i,o);const A=n?z(this,Hu,MY).call(this,a,l):null,c=ms._svgFactory.createElement("use");return s.append(c),c.setAttribute("href",`#${l}`),this.updateProperties(s,e),d(this,Ao).set(i,s),{id:i,clipPathId:`url(#${A})`}}drawOutline(e,t){const n=Hi(ms,OE)._++,i=z(this,Hu,CR).call(this),s=ms._svgFactory.createElement("defs");i.append(s);const a=ms._svgFactory.createElement("path");s.append(a);const o=`path_p${this.pageIndex}_${n}`;a.setAttribute("id",o),a.setAttribute("vector-effect","non-scaling-stroke");let l;if(t){const u=ms._svgFactory.createElement("mask");s.append(u),l=`mask_p${this.pageIndex}_${n}`,u.setAttribute("id",l),u.setAttribute("maskUnits","objectBoundingBox");const h=ms._svgFactory.createElement("rect");u.append(h),h.setAttribute("width","1"),h.setAttribute("height","1"),h.setAttribute("fill","white");const f=ms._svgFactory.createElement("use");u.append(f),f.setAttribute("href",`#${o}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}const A=ms._svgFactory.createElement("use");i.append(A),A.setAttribute("href",`#${o}`),l&&A.setAttribute("mask",`url(#${l})`);const c=A.cloneNode();return i.append(c),A.classList.add("mainOutline"),c.classList.add("secondaryOutline"),this.updateProperties(i,e),d(this,Ao).set(n,i),n}finalizeDraw(e,t){d(this,gm).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var l;if(!t)return;const{root:n,bbox:i,rootClass:s,path:a}=t,o=typeof e=="number"?d(this,Ao).get(e):e;if(o){if(n&&z(this,Hu,BR).call(this,o,n),i&&z(l=ms,QF,UY).call(l,o,i),s){const{classList:A}=o;for(const[c,u]of Object.entries(s))A.toggle(c,u)}if(a){const c=o.firstChild.firstChild;z(this,Hu,BR).call(this,c,a)}}}updateParent(e,t){if(t===this)return;const n=d(this,Ao).get(e);n&&(d(t,hc).append(n),d(this,Ao).delete(e),d(t,Ao).set(e,n))}remove(e){d(this,gm).delete(e),d(this,hc)!==null&&(d(this,Ao).get(e).remove(),d(this,Ao).delete(e))}destroy(){M(this,hc,null);for(const e of d(this,Ao).values())e.remove();d(this,Ao).clear(),d(this,gm).clear()}};hc=new WeakMap,Ao=new WeakMap,gm=new WeakMap,OE=new WeakMap,QF=new WeakSet,UY=function(e,[t,n,i,s]){const{style:a}=e;a.top=`${100*n}%`,a.left=`${100*t}%`,a.width=`${100*i}%`,a.height=`${100*s}%`},Hu=new WeakSet,CR=function(){const e=ms._svgFactory.create(1,1,!0);return d(this,hc).append(e),e.setAttribute("aria-hidden",!0),e},MY=function(e,t){const n=ms._svgFactory.createElement("clipPath");e.append(n);const i=`clip_${t}`;n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const s=ms._svgFactory.createElement("use");return n.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i},BR=function(e,t){for(const[n,i]of Object.entries(t))i===null?e.removeAttribute(n):e.setAttribute(n,i)},V(ms,QF),V(ms,OE,0);let ER=ms;globalThis._pdfjsTestingUtils={HighlightOutliner:nR};globalThis.pdfjsLib={AbortException:np,AnnotationEditorLayer:yR,AnnotationEditorParamsType:Nr,AnnotationEditorType:dr,AnnotationEditorUIManager:jm,AnnotationLayer:JP,AnnotationMode:_d,AnnotationType:ns,applyOpacity:kve,build:Mwe,ColorPicker:zT,createValidAbsoluteUrl:kq,CSSConstants:Ive,DOMSVGFactory:GT,DrawLayer:ER,FeatureTest:ga,fetchData:hC,findContrastColor:Lve,getDocument:NX,getFilenameFromUrl:Eve,getPdfFilenameFromUrl:Cve,getRGB:dC,getUuid:Rq,getXfaPageViewport:Sve,GlobalWorkerOptions:Su,ImageKind:HS,InvalidPDFException:ZL,isDataScheme:F4,isPdfFile:VU,isValidExplicitDest:Vve,MathClamp:ho,noContextMenu:DA,normalizeUnicode:xve,OPS:j_,OutputScale:Qu,PasswordResponses:hve,PDFDataRangeTransport:UX,PDFDateString:OT,PDFWorker:W_,PermissionFlag:uve,PixelsPerInch:ip,RenderingCancelledException:HU,renderRichText:Uq,ResponseException:MT,setLayerDimensions:Vm,shadow:Er,SignatureExtractor:rf,stopEvent:Ri,SupportedImageMimeTypes:tP,TextLayer:z_,TouchManager:HT,updateUrlHash:Lq,Util:Tt,VerbosityLevel:B4,version:Uwe,XfaLayer:Nq};Su.workerSrc=new URL("/assets/pdf.worker.min-qwK7q_zL.mjs",import.meta.url).toString();function lye(r){const e={},t=/[\s_]*(\d+\s*\d+)[\s_]*/;r.forEach(i=>{const s=i.name.split(".").pop().toLowerCase();if(!["pdf","csv","xlsx"].includes(s))return;const a=i.name.replace(t," ").replace(/\.(pdf|csv|xlsx)$/i,"").trim();a&&(e[a]||(e[a]={}),["csv","xlsx"].includes(s)?e[a].spreadsheet=i:s==="pdf"&&(e[a].pdf=i))});const n={};for(const i in e)e[i].spreadsheet&&e[i].pdf&&(n[i]=e[i]);return n}function Aye(r){return new Promise((e,t)=>{lue.parse(r,{header:!0,skipEmptyLines:!0,transformHeader:n=>n.trim(),complete:n=>{n.errors.length>0&&n.data.length===0?t(new Error(`CSV  : ${n.errors[0].message}`)):e(n.data)}})})}function cye(r){return new Promise((e,t)=>{const n=new FileReader;n.onload=i=>{try{const s=new Uint8Array(i.target.result),a=XL(s,{type:"array"}),o=a.SheetNames[0],l=a.Sheets[o],A=cve.sheet_to_json(l);e(A)}catch(s){t(s)}},n.onerror=i=>t(new Error("XLSX   ")),n.readAsArrayBuffer(r)})}async function uye(r){const e=new FileReader;return new Promise((t,n)=>{e.onload=async i=>{try{const a=await NX(i.target.result).promise;let o="";for(let l=1;l<=a.numPages;l++){const c=await(await a.getPage(l)).getTextContent();o+=c.items.map(u=>u.str).join(" ")}t(o)}catch(s){console.error("PDF Parsing Error:",s),n(s)}},e.onerror=i=>{console.error("File Reader Error:",i),n(i)},e.readAsArrayBuffer(r)})}function hye(r){if(!r||r.length===0)return{students:[],classAverage:0,answerRates:[],questionCount:0};const e=Object.keys(r[0]),t=e.find(u=>u.includes("")),n=e.find(u=>u.includes(""));if(!t||!n)throw new Error("CSV/XLSX  ''  ''    .");const i=[];let s=e.filter(u=>!isNaN(parseInt(u))).length;r.filter(u=>u[t]&&u[t]!=="/").forEach(u=>{const h={name:u[t],answers:[]};let f=!1;for(let g=1;g<=s;g++){const p=u[g]?String(u[g]).trim().toUpperCase():"";(p==="O"||p==="X")&&(f=!0),h.answers.push({qNum:g,isCorrect:p==="O"})}f?(h.submitted=!0,h.score=parseInt(u[n])||0):(h.submitted=!1,h.score=""),i.push(h)});const o=i.filter(u=>u.submitted),l=o.length;let A=0;if(l>0){const u=o.reduce((h,f)=>h+f.score,0);A=Math.round(u/l)}const c=[];for(let u=0;u<s;u++)if(l>0){const h=o.filter(f=>f.answers[u].isCorrect).length;c.push(Math.round(h/l*100))}else c.push(0);return{students:i,classAverage:A,answerRates:c,questionCount:s}}class fye{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dye="type.googleapis.com/google.protobuf.Int64Value",pye="type.googleapis.com/google.protobuf.UInt64Value";function OY(r,e){const t={};for(const n in r)r.hasOwnProperty(n)&&(t[n]=e(r[n]));return t}function SR(r){if(r==null)return null;if(r instanceof Number&&(r=r.valueOf()),typeof r=="number"&&isFinite(r)||r===!0||r===!1||Object.prototype.toString.call(r)==="[object String]")return r;if(r instanceof Date)return r.toISOString();if(Array.isArray(r))return r.map(e=>SR(e));if(typeof r=="function"||typeof r=="object")return OY(r,e=>SR(e));throw new Error("Data cannot be encoded in JSON: "+r)}function YT(r){if(r==null)return r;if(r["@type"])switch(r["@type"]){case dye:case pye:{const e=Number(r.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+r);return e}default:throw new Error("Data cannot be decoded from JSON: "+r)}return Array.isArray(r)?r.map(e=>YT(e)):typeof r=="function"||typeof r=="object"?OY(r,e=>YT(e)):r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pH={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Tv extends Vu{constructor(e,t,n){super(`${XU}/${e}`,t||""),this.details=n}}function gye(r){if(r>=200&&r<300)return"ok";switch(r){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function mye(r,e){let t=gye(r),n=t,i;try{const s=e&&e.error;if(s){const a=s.status;if(typeof a=="string"){if(!pH[a])return new Tv("internal","internal");t=pH[a],n=a}const o=s.message;typeof o=="string"&&(n=o),i=s.details,i!==void 0&&(i=YT(i))}}catch{}return t==="ok"?null:new Tv(t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vye{constructor(e,t,n){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||t.get().then(i=>this.messaging=i,()=>{}),this.appCheck||n.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),n=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:t,messagingToken:n,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR="us-central1";function wye(r){let e=null;return{promise:new Promise((t,n)=>{e=setTimeout(()=>{n(new Tv("deadline-exceeded","deadline-exceeded"))},r)}),cancel:()=>{e&&clearTimeout(e)}}}class yye{constructor(e,t,n,i,s=TR,a){this.app=e,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new vye(t,n,i),this.cancelAllRequests=new Promise(o=>{this.deleteService=()=>Promise.resolve(o())});try{const o=new URL(s);this.customDomain=o.origin+(o.pathname==="/"?"":o.pathname),this.region=TR}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function xye(r,e,t){r.emulatorOrigin=`http://${e}:${t}`}function _ye(r,e,t){return n=>Eye(r,e,n,{})}async function bye(r,e,t,n){t["Content-Type"]="application/json";let i;try{i=await n(r,{method:"POST",body:JSON.stringify(e),headers:t})}catch{return{status:0,json:null}}let s=null;try{s=await i.json()}catch{}return{status:i.status,json:s}}function Eye(r,e,t,n){const i=r._url(e);return Cye(r,i,t,n)}async function Cye(r,e,t,n){t=SR(t);const i={data:t},s={},a=await r.contextProvider.getContext(n.limitedUseAppCheckTokens);a.authToken&&(s.Authorization="Bearer "+a.authToken),a.messagingToken&&(s["Firebase-Instance-ID-Token"]=a.messagingToken),a.appCheckToken!==null&&(s["X-Firebase-AppCheck"]=a.appCheckToken);const o=n.timeout||7e4,l=wye(o),A=await Promise.race([bye(e,i,s,r.fetchImpl),l.promise,r.cancelAllRequests]);if(l.cancel(),!A)throw new Tv("cancelled","Firebase Functions instance was deleted.");const c=mye(A.status,A.json);if(c)throw c;if(!A.json)throw new Tv("internal","Response is not valid JSON object.");let u=A.json.data;if(typeof u>"u"&&(u=A.json.result),typeof u>"u")throw new Tv("internal","Response is missing data field.");return{data:YT(u)}}const gH="@firebase/functions",mH="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bye="auth-internal",Sye="app-check-internal",Tye="messaging-internal";function Fye(r,e){const t=(n,{instanceIdentifier:i})=>{const s=n.getProvider("app").getImmediate(),a=n.getProvider(Bye),o=n.getProvider(Tye),l=n.getProvider(Sye);return new yye(s,a,o,l,i,r)};Rm(new fye(XU,t,"PUBLIC").setMultipleInstances(!0)),ku(gH,mH,e),ku(gH,mH,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iye(r=s4(),e=TR){const n=i4(_o(r),XU).getImmediate({identifier:e}),i=Lz("functions");return i&&kye(n,...i),n}function kye(r,e,t){xye(_o(r),e,t)}function Lye(r,e,t){return _ye(_o(r),e)}Fye(fetch.bind(self));const Pye=Iye(iC.app),Rye=Lye(Pye,"callGeminiAPI");function Dye(r){try{return JSON.parse(r)}catch(e){const t=r.match(/```json([\s\S]*?)```/);if(t)try{return JSON.parse(t[1])}catch(n){console.error("Failed to parse JSON from AI markdown block:",n)}throw console.error("Failed to parse direct AI response as JSON:",e),r.includes("error")?new Error("AI API    . (   )"):new Error("AI    .")}}async function YU(r){console.log(`[Cloud Function Call] Model: gemini-2.5-flash, Prompt length: ${r.length} chars`);try{const e=await Rye({prompt:r}),t=e.data;if(!t||typeof t!="string")throw console.error("Cloud Function    :",e.data),new Error("AI(Cloud Function)     .");return Dye(t)}catch(e){throw console.error("Firebase Function  :",e),new Error(`AI (Cloud Function)  : ${e.code} - ${e.message}`)}}function Nye(r,e){return e?e.includes("2")||e.includes("1")?r>=14?"":r>=6?"":"":r>=18?"":r>=9?"":"":" "}async function Uye(r,e,t,n){const i=r.answers.filter(o=>!o.isCorrect);if(i.length===0)return Promise.resolve({strengths:` ${r.score},   .   (${e.studentData.classAverage})   ,        .        .`,weaknesses:"   .         .",recommendations:"  ,                . ,            .",incorrect_analysis:[]});const s=i.map(o=>({qNum:o.qNum,difficulty:Nye(o.qNum,t)}));if(!n||!n.question_units)throw new Error("   '  '  .    AI    .");const a=`
            .         .   , ,    ,      .   ,    .   ''     ,   .

        ** :**
        - : ${r.score}
        -   : ${e.studentData.classAverage}

        **   ( ):**
        ${JSON.stringify(n,null,2)}

        **   (JSON):**
        ${JSON.stringify(s,null,2)}
        
        **   JSON  .     :**
        {
            "strengths": "  ",
            "weaknesses": "  ",
            "recommendations": "  ",
            "incorrect_analysis": [
                {
                    "qNum": 12,
                    "unit": " ",
                    "analysis_point": "   ",
                    "solution": "         "
                }
            ]
        }
    `;return YU(a)}async function Mye(r){const e=[];if(r.studentData.answerRates.forEach((n,i)=>{n<=40&&e.push({qNum:i+1,rate:100-n})}),e.sort((n,i)=>i.rate-n.rate),e.length===0)return Promise.resolve({summary:"    ...",common_weaknesses:"    ...",recommendations:"   ...",question_analysis:[]});const t=`
            .         .        ,     .   ,    .

        **  :**
        -   : ${r.studentData.classAverage}
        -   : ${r.studentData.questionCount}
        
        **   (PDF ):**
        ${r.pdfInfo.fullText.substring(0,8e3)}
        
        **    ( 40% ):**
        ${JSON.stringify(e,null,2)}

        **   JSON  .     :**
        {
            "summary": "  ",
            "common_weaknesses": "   ",
            "recommendations": "    ",
            "question_analysis": [
                {
                    "qNum": 18,
                    "unit": " ",
                    "analysis_point": "      ",
                    "solution": "    ,      ."
                }
            ]
        }
    `;return YU(t)}async function Oye(r){const e=`
           . 1 ${r.studentData.questionCount}     **    **  ( ,    )  .

        **   (PDF ):**
        ${r.pdfInfo.fullText.substring(0,15e3)}

        ** :**
          ,      **    ** JSON  . (: '   ', ' ', ' ', '  ')

        **   JSON  .     :**
        {
            "question_units": [
                { "qNum": 1, "unit": "  " },
                { "qNum": 2, "unit": " " },
                { "qNum": ${r.studentData.questionCount}, "unit": "..." }
            ]
        }
    `;return YU(e)}let Qye=class{constructor(e){Ce(this,"value");Ce(this,"next");this.value=e}};var Nl,mm,vm;class Hye{constructor(){V(this,Nl);V(this,mm);V(this,vm);this.clear()}enqueue(e){const t=new Qye(e);d(this,Nl)?(d(this,mm).next=t,M(this,mm,t)):(M(this,Nl,t),M(this,mm,t)),Hi(this,vm)._++}dequeue(){const e=d(this,Nl);if(e)return M(this,Nl,d(this,Nl).next),Hi(this,vm)._--,e.value}peek(){if(d(this,Nl))return d(this,Nl).value}clear(){M(this,Nl,void 0),M(this,mm,void 0),M(this,vm,0)}get size(){return d(this,vm)}*[Symbol.iterator](){let e=d(this,Nl);for(;e;)yield e.value,e=e.next}*drain(){for(;d(this,Nl);)yield this.dequeue()}}Nl=new WeakMap,mm=new WeakMap,vm=new WeakMap;function Vye(r){vH(r);const e=new Hye;let t=0;const n=()=>{t<r&&e.size>0&&(t++,e.dequeue()())},i=()=>{t--,n()},s=async(l,A,c)=>{const u=(async()=>l(...c))();A(u);try{await u}catch{}i()},a=(l,A,c)=>{new Promise(u=>{e.enqueue(u)}).then(s.bind(void 0,l,A,c)),t<r&&n()},o=(l,...A)=>new Promise(c=>{a(l,c,A)});return Object.defineProperties(o,{activeCount:{get:()=>t},pendingCount:{get:()=>e.size},clearQueue:{value(){e.clear()}},concurrency:{get:()=>r,set(l){vH(l),r=l,queueMicrotask(()=>{for(;t<r&&e.size>0;)n()})}},map:{async value(l,A){const c=Array.from(l,(u,h)=>this(A,u,h));return Promise.all(c)}}}),o}function vH(r){if(!((Number.isInteger(r)||r===Number.POSITIVE_INFINITY)&&r>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up")}const jye=Vye(5);async function Kye(r,e,t,n){const{pdf:i,spreadsheet:s}=e;n(`'${r}'   ...`);const a=await uye(i),o=s.name.endsWith(".csv")?await Aye(s):await cye(s),l=hye(o),A={pdfInfo:{fileName:i.name,fullText:a},studentData:l,aiOverallAnalysis:null,questionUnitMap:null};console.log(`[${r}] Step 1/3:   (, )  ...`),n(`'${r}' AI   ... (1/3)`);const[c,u]=await Promise.all([Mye(A),Oye(A)]);if(A.aiOverallAnalysis=c,A.questionUnitMap=u,!u||!u.question_units)throw new Error(`'${r}' - (unitMap)  . AI  .`);console.log(`[${r}] Step 2/3:  ${l.students.length}     ( 5)...`),n(`'${r}'  ${l.students.length}   ... (2/3)`);const h=l.students.map(g=>g.submitted?jye(()=>(console.log(`[${r}]   : ${g.name}`),Uye(g,A,r,u))):Promise.resolve(null)),f=await Promise.all(h);return l.students.forEach((g,p)=>{g.submitted&&(g.aiAnalysis=f[p])}),console.log(`[${r}] Step 3/3:   .`),A}const zye=({saveDataToFirestore:r})=>{const{setProcessing:e,setErrorMessage:t,setTestData:n,setCurrentPage:i,uploadDate:s,setSelectedDate:a,currentTeacher:o}=Ic(),l=nr.useRef(null),[A,c]=nr.useState([]),u=g=>{g.target.files&&(c(Array.from(g.target.files)),t(""))},h=g=>{g&&(c(Array.from(g)),t(""))},f=nr.useCallback(async()=>{if(!o||!o.id){t(" .    .");return}if(!s){t("   .");return}e(!0),t("  ...");const g=lye(A),p=Object.keys(g);if(p.length===0){t(' (PDF 1 +  1)   .    (: "1A .pdf", "1A .csv")'),e(!1);return}let v={},m=!1;for(const x of p)try{console.log(`--- [${x}] AI    ---`);const _=await Kye(x,g[x],s,t);v[x]={[s]:_},console.log(`--- [${x}] AI    ---`)}catch(_){console.error(`Error processing files for ${x}:`,_),t(`"${x}"  : ${_.message}.  .`),m=!0;break}if(m){e(!1);return}try{t("  ! DB  ..."),await r(v),n(x=>{const _=JSON.parse(JSON.stringify(x));return Object.keys(v).forEach(S=>{_[S]||(_[S]={}),_[S][s]=v[S][s]}),_}),t(""),a(s),i("page2")}catch(x){t("    : "+x.message)}finally{e(!1),c([]),l.current&&(l.current.value="")}},[A,s,r,e,t,n,i,a,o]);return{fileInputRef:l,selectedFiles:A,handleFileChange:u,handleFileProcess:f,handleFileDrop:h}};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function vC(r){return r+.5|0}const _0=(r,e,t)=>Math.max(Math.min(r,t),e);function ux(r){return _0(vC(r*2.55),0,255)}function z0(r){return _0(vC(r*255),0,255)}function yh(r){return _0(vC(r/2.55)/100,0,1)}function wH(r){return _0(vC(r*100),0,100)}const oA={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},FR=[..."0123456789ABCDEF"],Wye=r=>FR[r&15],Gye=r=>FR[(r&240)>>4]+FR[r&15],FB=r=>(r&240)>>4===(r&15),$ye=r=>FB(r.r)&&FB(r.g)&&FB(r.b)&&FB(r.a);function qye(r){var e=r.length,t;return r[0]==="#"&&(e===4||e===5?t={r:255&oA[r[1]]*17,g:255&oA[r[2]]*17,b:255&oA[r[3]]*17,a:e===5?oA[r[4]]*17:255}:(e===7||e===9)&&(t={r:oA[r[1]]<<4|oA[r[2]],g:oA[r[3]]<<4|oA[r[4]],b:oA[r[5]]<<4|oA[r[6]],a:e===9?oA[r[7]]<<4|oA[r[8]]:255})),t}const Xye=(r,e)=>r<255?e(r):"";function Yye(r){var e=$ye(r)?Wye:Gye;return r?"#"+e(r.r)+e(r.g)+e(r.b)+Xye(r.a,e):void 0}const Jye=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function QY(r,e,t){const n=e*Math.min(t,1-t),i=(s,a=(s+r/30)%12)=>t-n*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function Zye(r,e,t){const n=(i,s=(i+r/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function e2e(r,e,t){const n=QY(r,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)n[i]*=1-e-t,n[i]+=e;return n}function t2e(r,e,t,n,i){return r===i?(e-t)/n+(e<t?6:0):e===i?(t-r)/n+2:(r-e)/n+4}function JU(r){const t=r.r/255,n=r.g/255,i=r.b/255,s=Math.max(t,n,i),a=Math.min(t,n,i),o=(s+a)/2;let l,A,c;return s!==a&&(c=s-a,A=o>.5?c/(2-s-a):c/(s+a),l=t2e(t,n,i,c,s),l=l*60+.5),[l|0,A||0,o]}function ZU(r,e,t,n){return(Array.isArray(e)?r(e[0],e[1],e[2]):r(e,t,n)).map(z0)}function eM(r,e,t){return ZU(QY,r,e,t)}function r2e(r,e,t){return ZU(e2e,r,e,t)}function n2e(r,e,t){return ZU(Zye,r,e,t)}function HY(r){return(r%360+360)%360}function i2e(r){const e=Jye.exec(r);let t=255,n;if(!e)return;e[5]!==n&&(t=e[6]?ux(+e[5]):z0(+e[5]));const i=HY(+e[2]),s=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?n=r2e(i,s,a):e[1]==="hsv"?n=n2e(i,s,a):n=eM(i,s,a),{r:n[0],g:n[1],b:n[2],a:t}}function s2e(r,e){var t=JU(r);t[0]=HY(t[0]+e),t=eM(t),r.r=t[0],r.g=t[1],r.b=t[2]}function a2e(r){if(!r)return;const e=JU(r),t=e[0],n=wH(e[1]),i=wH(e[2]);return r.a<255?`hsla(${t}, ${n}%, ${i}%, ${yh(r.a)})`:`hsl(${t}, ${n}%, ${i}%)`}const yH={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},xH={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function o2e(){const r={},e=Object.keys(xH),t=Object.keys(yH);let n,i,s,a,o;for(n=0;n<e.length;n++){for(a=o=e[n],i=0;i<t.length;i++)s=t[i],o=o.replace(s,yH[s]);s=parseInt(xH[a],16),r[o]=[s>>16&255,s>>8&255,s&255]}return r}let IB;function l2e(r){IB||(IB=o2e(),IB.transparent=[0,0,0,0]);const e=IB[r.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const A2e=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function c2e(r){const e=A2e.exec(r);let t=255,n,i,s;if(e){if(e[7]!==n){const a=+e[7];t=e[8]?ux(a):_0(a*255,0,255)}return n=+e[1],i=+e[3],s=+e[5],n=255&(e[2]?ux(n):_0(n,0,255)),i=255&(e[4]?ux(i):_0(i,0,255)),s=255&(e[6]?ux(s):_0(s,0,255)),{r:n,g:i,b:s,a:t}}}function u2e(r){return r&&(r.a<255?`rgba(${r.r}, ${r.g}, ${r.b}, ${yh(r.a)})`:`rgb(${r.r}, ${r.g}, ${r.b})`)}const gk=r=>r<=.0031308?r*12.92:Math.pow(r,1/2.4)*1.055-.055,w1=r=>r<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4);function h2e(r,e,t){const n=w1(yh(r.r)),i=w1(yh(r.g)),s=w1(yh(r.b));return{r:z0(gk(n+t*(w1(yh(e.r))-n))),g:z0(gk(i+t*(w1(yh(e.g))-i))),b:z0(gk(s+t*(w1(yh(e.b))-s))),a:r.a+t*(e.a-r.a)}}function kB(r,e,t){if(r){let n=JU(r);n[e]=Math.max(0,Math.min(n[e]+n[e]*t,e===0?360:1)),n=eM(n),r.r=n[0],r.g=n[1],r.b=n[2]}}function VY(r,e){return r&&Object.assign(e||{},r)}function _H(r){var e={r:0,g:0,b:0,a:255};return Array.isArray(r)?r.length>=3&&(e={r:r[0],g:r[1],b:r[2],a:255},r.length>3&&(e.a=z0(r[3]))):(e=VY(r,{r:0,g:0,b:0,a:1}),e.a=z0(e.a)),e}function f2e(r){return r.charAt(0)==="r"?c2e(r):i2e(r)}class G_{constructor(e){if(e instanceof G_)return e;const t=typeof e;let n;t==="object"?n=_H(e):t==="string"&&(n=qye(e)||l2e(e)||f2e(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=VY(this._rgb);return e&&(e.a=yh(e.a)),e}set rgb(e){this._rgb=_H(e)}rgbString(){return this._valid?u2e(this._rgb):void 0}hexString(){return this._valid?Yye(this._rgb):void 0}hslString(){return this._valid?a2e(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,i=e.rgb;let s;const a=t===s?.5:t,o=2*a-1,l=n.a-i.a,A=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;s=1-A,n.r=255&A*n.r+s*i.r+.5,n.g=255&A*n.g+s*i.g+.5,n.b=255&A*n.b+s*i.b+.5,n.a=a*n.a+(1-a)*i.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=h2e(this._rgb,e._rgb,t)),this}clone(){return new G_(this.rgb)}alpha(e){return this._rgb.a=z0(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=vC(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return kB(this._rgb,2,e),this}darken(e){return kB(this._rgb,2,-e),this}saturate(e){return kB(this._rgb,1,e),this}desaturate(e){return kB(this._rgb,1,-e),this}rotate(e){return s2e(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function sh(){}const d2e=(()=>{let r=0;return()=>r++})();function Tr(r){return r==null}function oi(r){if(Array.isArray&&Array.isArray(r))return!0;const e=Object.prototype.toString.call(r);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Pr(r){return r!==null&&Object.prototype.toString.call(r)==="[object Object]"}function Di(r){return(typeof r=="number"||r instanceof Number)&&isFinite(+r)}function vl(r,e){return Di(r)?r:e}function cr(r,e){return typeof r>"u"?e:r}const p2e=(r,e)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100:+r/e,jY=(r,e)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100*e:+r;function Hn(r,e,t){if(r&&typeof r.call=="function")return r.apply(t,e)}function dn(r,e,t,n){let i,s,a;if(oi(r))for(s=r.length,i=0;i<s;i++)e.call(t,r[i],i);else if(Pr(r))for(a=Object.keys(r),s=a.length,i=0;i<s;i++)e.call(t,r[a[i]],a[i])}function JT(r,e){let t,n,i,s;if(!r||!e||r.length!==e.length)return!1;for(t=0,n=r.length;t<n;++t)if(i=r[t],s=e[t],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function ZT(r){if(oi(r))return r.map(ZT);if(Pr(r)){const e=Object.create(null),t=Object.keys(r),n=t.length;let i=0;for(;i<n;++i)e[t[i]]=ZT(r[t[i]]);return e}return r}function KY(r){return["__proto__","prototype","constructor"].indexOf(r)===-1}function g2e(r,e,t,n){if(!KY(r))return;const i=e[r],s=t[r];Pr(i)&&Pr(s)?$_(i,s,n):e[r]=ZT(s)}function $_(r,e,t){const n=oi(e)?e:[e],i=n.length;if(!Pr(r))return r;t=t||{};const s=t.merger||g2e;let a;for(let o=0;o<i;++o){if(a=n[o],!Pr(a))continue;const l=Object.keys(a);for(let A=0,c=l.length;A<c;++A)s(l[A],r,a,t)}return r}function Gx(r,e){return $_(r,e,{merger:m2e})}function m2e(r,e,t){if(!KY(r))return;const n=e[r],i=t[r];Pr(n)&&Pr(i)?Gx(n,i):Object.prototype.hasOwnProperty.call(e,r)||(e[r]=ZT(i))}const bH={"":r=>r,x:r=>r.x,y:r=>r.y};function v2e(r){const e=r.split("."),t=[];let n="";for(const i of e)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(t.push(n),n="");return t}function w2e(r){const e=v2e(r);return t=>{for(const n of e){if(n==="")break;t=t&&t[n]}return t}}function sp(r,e){return(bH[e]||(bH[e]=w2e(e)))(r)}function tM(r){return r.charAt(0).toUpperCase()+r.slice(1)}const q_=r=>typeof r<"u",ap=r=>typeof r=="function",EH=(r,e)=>{if(r.size!==e.size)return!1;for(const t of r)if(!e.has(t))return!1;return!0};function y2e(r){return r.type==="mouseup"||r.type==="click"||r.type==="contextmenu"}const Zr=Math.PI,Zn=2*Zr,x2e=Zn+Zr,eF=Number.POSITIVE_INFINITY,_2e=Zr/180,Ji=Zr/2,kp=Zr/4,CH=Zr*2/3,b0=Math.log10,Uu=Math.sign;function $x(r,e,t){return Math.abs(r-e)<t}function BH(r){const e=Math.round(r);r=$x(r,e,r/1e3)?e:r;const t=Math.pow(10,Math.floor(b0(r))),n=r/t;return(n<=1?1:n<=2?2:n<=5?5:10)*t}function b2e(r){const e=[],t=Math.sqrt(r);let n;for(n=1;n<t;n++)r%n===0&&(e.push(n),e.push(r/n));return t===(t|0)&&e.push(t),e.sort((i,s)=>i-s).pop(),e}function E2e(r){return typeof r=="symbol"||typeof r=="object"&&r!==null&&!(Symbol.toPrimitive in r||"toString"in r||"valueOf"in r)}function by(r){return!E2e(r)&&!isNaN(parseFloat(r))&&isFinite(r)}function C2e(r,e){const t=Math.round(r);return t-e<=r&&t+e>=r}function zY(r,e,t){let n,i,s;for(n=0,i=r.length;n<i;n++)s=r[n][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function wc(r){return r*(Zr/180)}function rM(r){return r*(180/Zr)}function SH(r){if(!Di(r))return;let e=1,t=0;for(;Math.round(r*e)/e!==r;)e*=10,t++;return t}function WY(r,e){const t=e.x-r.x,n=e.y-r.y,i=Math.sqrt(t*t+n*n);let s=Math.atan2(n,t);return s<-.5*Zr&&(s+=Zn),{angle:s,distance:i}}function IR(r,e){return Math.sqrt(Math.pow(e.x-r.x,2)+Math.pow(e.y-r.y,2))}function B2e(r,e){return(r-e+x2e)%Zn-Zr}function Qa(r){return(r%Zn+Zn)%Zn}function X_(r,e,t,n){const i=Qa(r),s=Qa(e),a=Qa(t),o=Qa(s-i),l=Qa(a-i),A=Qa(i-s),c=Qa(i-a);return i===s||i===a||n&&s===a||o>l&&A<c}function js(r,e,t){return Math.max(e,Math.min(t,r))}function S2e(r){return js(r,-32768,32767)}function uf(r,e,t,n=1e-6){return r>=Math.min(e,t)-n&&r<=Math.max(e,t)+n}function nM(r,e,t){t=t||(a=>r[a]<e);let n=r.length-1,i=0,s;for(;n-i>1;)s=i+n>>1,t(s)?i=s:n=s;return{lo:i,hi:n}}const hf=(r,e,t,n)=>nM(r,t,n?i=>{const s=r[i][e];return s<t||s===t&&r[i+1][e]===t}:i=>r[i][e]<t),T2e=(r,e,t)=>nM(r,t,n=>r[n][e]>=t);function F2e(r,e,t){let n=0,i=r.length;for(;n<i&&r[n]<e;)n++;for(;i>n&&r[i-1]>t;)i--;return n>0||i<r.length?r.slice(n,i):r}const GY=["push","pop","shift","splice","unshift"];function I2e(r,e){if(r._chartjs){r._chartjs.listeners.push(e);return}Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),GY.forEach(t=>{const n="_onData"+tM(t),i=r[t];Object.defineProperty(r,t,{configurable:!0,enumerable:!1,value(...s){const a=i.apply(this,s);return r._chartjs.listeners.forEach(o=>{typeof o[n]=="function"&&o[n](...s)}),a}})})}function TH(r,e){const t=r._chartjs;if(!t)return;const n=t.listeners,i=n.indexOf(e);i!==-1&&n.splice(i,1),!(n.length>0)&&(GY.forEach(s=>{delete r[s]}),delete r._chartjs)}function $Y(r){const e=new Set(r);return e.size===r.length?r:Array.from(e)}const qY=function(){return typeof window>"u"?function(r){return r()}:window.requestAnimationFrame}();function XY(r,e){let t=[],n=!1;return function(...i){t=i,n||(n=!0,qY.call(window,()=>{n=!1,r.apply(e,t)}))}}function k2e(r,e){let t;return function(...n){return e?(clearTimeout(t),t=setTimeout(r,e,n)):r.apply(this,n),e}}const iM=r=>r==="start"?"left":r==="end"?"right":"center",Ua=(r,e,t)=>r==="start"?e:r==="end"?t:(e+t)/2,L2e=(r,e,t,n)=>r===(n?"left":"right")?t:r==="center"?(e+t)/2:e;function YY(r,e,t){const n=e.length;let i=0,s=n;if(r._sorted){const{iScale:a,vScale:o,_parsed:l}=r,A=r.dataset&&r.dataset.options?r.dataset.options.spanGaps:null,c=a.axis,{min:u,max:h,minDefined:f,maxDefined:g}=a.getUserBounds();if(f){if(i=Math.min(hf(l,c,u).lo,t?n:hf(e,c,a.getPixelForValue(u)).lo),A){const p=l.slice(0,i+1).reverse().findIndex(v=>!Tr(v[o.axis]));i-=Math.max(0,p)}i=js(i,0,n-1)}if(g){let p=Math.max(hf(l,a.axis,h,!0).hi+1,t?0:hf(e,c,a.getPixelForValue(h),!0).hi+1);if(A){const v=l.slice(p-1).findIndex(m=>!Tr(m[o.axis]));p+=Math.max(0,v)}s=js(p,i,n)-i}else s=n-i}return{start:i,count:s}}function JY(r){const{xScale:e,yScale:t,_scaleRanges:n}=r,i={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!n)return r._scaleRanges=i,!0;const s=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==t.min||n.ymax!==t.max;return Object.assign(n,i),s}const LB=r=>r===0||r===1,FH=(r,e,t)=>-(Math.pow(2,10*(r-=1))*Math.sin((r-e)*Zn/t)),IH=(r,e,t)=>Math.pow(2,-10*r)*Math.sin((r-e)*Zn/t)+1,qx={linear:r=>r,easeInQuad:r=>r*r,easeOutQuad:r=>-r*(r-2),easeInOutQuad:r=>(r/=.5)<1?.5*r*r:-.5*(--r*(r-2)-1),easeInCubic:r=>r*r*r,easeOutCubic:r=>(r-=1)*r*r+1,easeInOutCubic:r=>(r/=.5)<1?.5*r*r*r:.5*((r-=2)*r*r+2),easeInQuart:r=>r*r*r*r,easeOutQuart:r=>-((r-=1)*r*r*r-1),easeInOutQuart:r=>(r/=.5)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2),easeInQuint:r=>r*r*r*r*r,easeOutQuint:r=>(r-=1)*r*r*r*r+1,easeInOutQuint:r=>(r/=.5)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2),easeInSine:r=>-Math.cos(r*Ji)+1,easeOutSine:r=>Math.sin(r*Ji),easeInOutSine:r=>-.5*(Math.cos(Zr*r)-1),easeInExpo:r=>r===0?0:Math.pow(2,10*(r-1)),easeOutExpo:r=>r===1?1:-Math.pow(2,-10*r)+1,easeInOutExpo:r=>LB(r)?r:r<.5?.5*Math.pow(2,10*(r*2-1)):.5*(-Math.pow(2,-10*(r*2-1))+2),easeInCirc:r=>r>=1?r:-(Math.sqrt(1-r*r)-1),easeOutCirc:r=>Math.sqrt(1-(r-=1)*r),easeInOutCirc:r=>(r/=.5)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1),easeInElastic:r=>LB(r)?r:FH(r,.075,.3),easeOutElastic:r=>LB(r)?r:IH(r,.075,.3),easeInOutElastic(r){return LB(r)?r:r<.5?.5*FH(r*2,.1125,.45):.5+.5*IH(r*2-1,.1125,.45)},easeInBack(r){return r*r*((1.70158+1)*r-1.70158)},easeOutBack(r){return(r-=1)*r*((1.70158+1)*r+1.70158)+1},easeInOutBack(r){let e=1.70158;return(r/=.5)<1?.5*(r*r*(((e*=1.525)+1)*r-e)):.5*((r-=2)*r*(((e*=1.525)+1)*r+e)+2)},easeInBounce:r=>1-qx.easeOutBounce(1-r),easeOutBounce(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},easeInOutBounce:r=>r<.5?qx.easeInBounce(r*2)*.5:qx.easeOutBounce(r*2-1)*.5+.5};function sM(r){if(r&&typeof r=="object"){const e=r.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function kH(r){return sM(r)?r:new G_(r)}function mk(r){return sM(r)?r:new G_(r).saturate(.5).darken(.1).hexString()}const P2e=["x","y","borderWidth","radius","tension"],R2e=["color","borderColor","backgroundColor"];function D2e(r){r.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),r.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),r.set("animations",{colors:{type:"color",properties:R2e},numbers:{type:"number",properties:P2e}}),r.describe("animations",{_fallback:"animation"}),r.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function N2e(r){r.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const LH=new Map;function U2e(r,e){e=e||{};const t=r+JSON.stringify(e);let n=LH.get(t);return n||(n=new Intl.NumberFormat(r,e),LH.set(t,n)),n}function wC(r,e,t){return U2e(e,t).format(r)}const ZY={values(r){return oi(r)?r:""+r},numeric(r,e,t){if(r===0)return"0";const n=this.chart.options.locale;let i,s=r;if(t.length>1){const A=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(A<1e-4||A>1e15)&&(i="scientific"),s=M2e(r,t)}const a=b0(Math.abs(s)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),wC(r,n,l)},logarithmic(r,e,t){if(r===0)return"0";const n=t[e].significand||r/Math.pow(10,Math.floor(b0(r)));return[1,2,3,5,10,15].includes(n)||e>.8*t.length?ZY.numeric.call(this,r,e,t):""}};function M2e(r,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&r!==Math.floor(r)&&(t=r-Math.floor(r)),t}var L4={formatters:ZY};function O2e(r){r.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:L4.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),r.route("scale.ticks","color","","color"),r.route("scale.grid","color","","borderColor"),r.route("scale.border","color","","borderColor"),r.route("scale.title","color","","color"),r.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),r.describe("scales",{_fallback:"scale"}),r.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const zm=Object.create(null),kR=Object.create(null);function Xx(r,e){if(!e)return r;const t=e.split(".");for(let n=0,i=t.length;n<i;++n){const s=t[n];r=r[s]||(r[s]=Object.create(null))}return r}function vk(r,e,t){return typeof e=="string"?$_(Xx(r,e),t):$_(Xx(r,""),e)}class Q2e{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>mk(i.backgroundColor),this.hoverBorderColor=(n,i)=>mk(i.borderColor),this.hoverColor=(n,i)=>mk(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return vk(this,e,t)}get(e){return Xx(this,e)}describe(e,t){return vk(kR,e,t)}override(e,t){return vk(zm,e,t)}route(e,t,n,i){const s=Xx(this,e),a=Xx(this,n),o="_"+t;Object.defineProperties(s,{[o]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const l=this[o],A=a[i];return Pr(l)?Object.assign({},A,l):cr(l,A)},set(l){this[o]=l}}})}apply(e){e.forEach(t=>t(this))}}var li=new Q2e({_scriptable:r=>!r.startsWith("on"),_indexable:r=>r!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[D2e,N2e,O2e]);function H2e(r){return!r||Tr(r.size)||Tr(r.family)?null:(r.style?r.style+" ":"")+(r.weight?r.weight+" ":"")+r.size+"px "+r.family}function tF(r,e,t,n,i){let s=e[i];return s||(s=e[i]=r.measureText(i).width,t.push(i)),s>n&&(n=s),n}function V2e(r,e,t,n){n=n||{};let i=n.data=n.data||{},s=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(i=n.data={},s=n.garbageCollect=[],n.font=e),r.save(),r.font=e;let a=0;const o=t.length;let l,A,c,u,h;for(l=0;l<o;l++)if(u=t[l],u!=null&&!oi(u))a=tF(r,i,s,a,u);else if(oi(u))for(A=0,c=u.length;A<c;A++)h=u[A],h!=null&&!oi(h)&&(a=tF(r,i,s,a,h));r.restore();const f=s.length/2;if(f>t.length){for(l=0;l<f;l++)delete i[s[l]];s.splice(0,f)}return a}function Lp(r,e,t){const n=r.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*n)/n+i}function PH(r,e){!e&&!r||(e=e||r.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,r.width,r.height),e.restore())}function LR(r,e,t,n){eJ(r,e,t,n,null)}function eJ(r,e,t,n,i){let s,a,o,l,A,c,u,h;const f=e.pointStyle,g=e.rotation,p=e.radius;let v=(g||0)*_2e;if(f&&typeof f=="object"&&(s=f.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){r.save(),r.translate(t,n),r.rotate(v),r.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),r.restore();return}if(!(isNaN(p)||p<=0)){switch(r.beginPath(),f){default:i?r.ellipse(t,n,i/2,p,0,0,Zn):r.arc(t,n,p,0,Zn),r.closePath();break;case"triangle":c=i?i/2:p,r.moveTo(t+Math.sin(v)*c,n-Math.cos(v)*p),v+=CH,r.lineTo(t+Math.sin(v)*c,n-Math.cos(v)*p),v+=CH,r.lineTo(t+Math.sin(v)*c,n-Math.cos(v)*p),r.closePath();break;case"rectRounded":A=p*.516,l=p-A,a=Math.cos(v+kp)*l,u=Math.cos(v+kp)*(i?i/2-A:l),o=Math.sin(v+kp)*l,h=Math.sin(v+kp)*(i?i/2-A:l),r.arc(t-u,n-o,A,v-Zr,v-Ji),r.arc(t+h,n-a,A,v-Ji,v),r.arc(t+u,n+o,A,v,v+Ji),r.arc(t-h,n+a,A,v+Ji,v+Zr),r.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*p,c=i?i/2:l,r.rect(t-c,n-l,2*c,2*l);break}v+=kp;case"rectRot":u=Math.cos(v)*(i?i/2:p),a=Math.cos(v)*p,o=Math.sin(v)*p,h=Math.sin(v)*(i?i/2:p),r.moveTo(t-u,n-o),r.lineTo(t+h,n-a),r.lineTo(t+u,n+o),r.lineTo(t-h,n+a),r.closePath();break;case"crossRot":v+=kp;case"cross":u=Math.cos(v)*(i?i/2:p),a=Math.cos(v)*p,o=Math.sin(v)*p,h=Math.sin(v)*(i?i/2:p),r.moveTo(t-u,n-o),r.lineTo(t+u,n+o),r.moveTo(t+h,n-a),r.lineTo(t-h,n+a);break;case"star":u=Math.cos(v)*(i?i/2:p),a=Math.cos(v)*p,o=Math.sin(v)*p,h=Math.sin(v)*(i?i/2:p),r.moveTo(t-u,n-o),r.lineTo(t+u,n+o),r.moveTo(t+h,n-a),r.lineTo(t-h,n+a),v+=kp,u=Math.cos(v)*(i?i/2:p),a=Math.cos(v)*p,o=Math.sin(v)*p,h=Math.sin(v)*(i?i/2:p),r.moveTo(t-u,n-o),r.lineTo(t+u,n+o),r.moveTo(t+h,n-a),r.lineTo(t-h,n+a);break;case"line":a=i?i/2:Math.cos(v)*p,o=Math.sin(v)*p,r.moveTo(t-a,n-o),r.lineTo(t+a,n+o);break;case"dash":r.moveTo(t,n),r.lineTo(t+Math.cos(v)*(i?i/2:p),n+Math.sin(v)*p);break;case!1:r.closePath();break}r.fill(),e.borderWidth>0&&r.stroke()}}function ff(r,e,t){return t=t||.5,!e||r&&r.x>e.left-t&&r.x<e.right+t&&r.y>e.top-t&&r.y<e.bottom+t}function P4(r,e){r.save(),r.beginPath(),r.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),r.clip()}function R4(r){r.restore()}function j2e(r,e,t,n,i){if(!e)return r.lineTo(t.x,t.y);if(i==="middle"){const s=(e.x+t.x)/2;r.lineTo(s,e.y),r.lineTo(s,t.y)}else i==="after"!=!!n?r.lineTo(e.x,t.y):r.lineTo(t.x,e.y);r.lineTo(t.x,t.y)}function K2e(r,e,t,n){if(!e)return r.lineTo(t.x,t.y);r.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?t.cp2x:t.cp1x,n?t.cp2y:t.cp1y,t.x,t.y)}function z2e(r,e){e.translation&&r.translate(e.translation[0],e.translation[1]),Tr(e.rotation)||r.rotate(e.rotation),e.color&&(r.fillStyle=e.color),e.textAlign&&(r.textAlign=e.textAlign),e.textBaseline&&(r.textBaseline=e.textBaseline)}function W2e(r,e,t,n,i){if(i.strikethrough||i.underline){const s=r.measureText(n),a=e-s.actualBoundingBoxLeft,o=e+s.actualBoundingBoxRight,l=t-s.actualBoundingBoxAscent,A=t+s.actualBoundingBoxDescent,c=i.strikethrough?(l+A)/2:A;r.strokeStyle=r.fillStyle,r.beginPath(),r.lineWidth=i.decorationWidth||2,r.moveTo(a,c),r.lineTo(o,c),r.stroke()}}function G2e(r,e){const t=r.fillStyle;r.fillStyle=e.color,r.fillRect(e.left,e.top,e.width,e.height),r.fillStyle=t}function Wm(r,e,t,n,i,s={}){const a=oi(e)?e:[e],o=s.strokeWidth>0&&s.strokeColor!=="";let l,A;for(r.save(),r.font=i.string,z2e(r,s),l=0;l<a.length;++l)A=a[l],s.backdrop&&G2e(r,s.backdrop),o&&(s.strokeColor&&(r.strokeStyle=s.strokeColor),Tr(s.strokeWidth)||(r.lineWidth=s.strokeWidth),r.strokeText(A,t,n,s.maxWidth)),r.fillText(A,t,n,s.maxWidth),W2e(r,t,n,A,s),n+=Number(i.lineHeight);r.restore()}function Y_(r,e){const{x:t,y:n,w:i,h:s,radius:a}=e;r.arc(t+a.topLeft,n+a.topLeft,a.topLeft,1.5*Zr,Zr,!0),r.lineTo(t,n+s-a.bottomLeft),r.arc(t+a.bottomLeft,n+s-a.bottomLeft,a.bottomLeft,Zr,Ji,!0),r.lineTo(t+i-a.bottomRight,n+s),r.arc(t+i-a.bottomRight,n+s-a.bottomRight,a.bottomRight,Ji,0,!0),r.lineTo(t+i,n+a.topRight),r.arc(t+i-a.topRight,n+a.topRight,a.topRight,0,-Ji,!0),r.lineTo(t+a.topLeft,n)}const $2e=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,q2e=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function X2e(r,e){const t=(""+r).match($2e);if(!t||t[1]==="normal")return e*1.2;switch(r=+t[2],t[3]){case"px":return r;case"%":r/=100;break}return e*r}const Y2e=r=>+r||0;function aM(r,e){const t={},n=Pr(e),i=n?Object.keys(e):e,s=Pr(r)?n?a=>cr(r[a],r[e[a]]):a=>r[a]:()=>r;for(const a of i)t[a]=Y2e(s(a));return t}function tJ(r){return aM(r,{top:"y",right:"x",bottom:"y",left:"x"})}function Em(r){return aM(r,["topLeft","topRight","bottomLeft","bottomRight"])}function Ya(r){const e=tJ(r);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Cs(r,e){r=r||{},e=e||li.font;let t=cr(r.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let n=cr(r.style,e.style);n&&!(""+n).match(q2e)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:cr(r.family,e.family),lineHeight:X2e(cr(r.lineHeight,e.lineHeight),t),size:t,style:n,weight:cr(r.weight,e.weight),string:""};return i.string=H2e(i),i}function hx(r,e,t,n){let i,s,a;for(i=0,s=r.length;i<s;++i)if(a=r[i],a!==void 0&&a!==void 0)return a}function J2e(r,e,t){const{min:n,max:i}=r,s=jY(e,(i-n)/2),a=(o,l)=>t&&o===0?0:o+l;return{min:a(n,-Math.abs(s)),max:a(i,s)}}function pp(r,e){return Object.assign(Object.create(r),e)}function oM(r,e=[""],t,n,i=()=>r[0]){const s=t||r;typeof n>"u"&&(n=sJ("_fallback",r));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:r,_rootScopes:s,_fallback:n,_getTarget:i,override:o=>oM([o,...r],e,s,n)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete o._keys,delete r[0][l],!0},get(o,l){return nJ(o,l,()=>axe(l,e,r,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(r[0])},has(o,l){return DH(o).includes(l)},ownKeys(o){return DH(o)},set(o,l,A){const c=o._storage||(o._storage=i());return o[l]=c[l]=A,delete o._keys,!0}})}function Ey(r,e,t,n){const i={_cacheable:!1,_proxy:r,_context:e,_subProxy:t,_stack:new Set,_descriptors:rJ(r,n),setContext:s=>Ey(r,s,t,n),override:s=>Ey(r.override(s),e,t,n)};return new Proxy(i,{deleteProperty(s,a){return delete s[a],delete r[a],!0},get(s,a,o){return nJ(s,a,()=>exe(s,a,o))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(r,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(r,a)},getPrototypeOf(){return Reflect.getPrototypeOf(r)},has(s,a){return Reflect.has(r,a)},ownKeys(){return Reflect.ownKeys(r)},set(s,a,o){return r[a]=o,delete s[a],!0}})}function rJ(r,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:n=e.indexable,_allKeys:i=e.allKeys}=r;return{allKeys:i,scriptable:t,indexable:n,isScriptable:ap(t)?t:()=>t,isIndexable:ap(n)?n:()=>n}}const Z2e=(r,e)=>r?r+tM(e):e,lM=(r,e)=>Pr(e)&&r!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function nJ(r,e,t){if(Object.prototype.hasOwnProperty.call(r,e)||e==="constructor")return r[e];const n=t();return r[e]=n,n}function exe(r,e,t){const{_proxy:n,_context:i,_subProxy:s,_descriptors:a}=r;let o=n[e];return ap(o)&&a.isScriptable(e)&&(o=txe(e,o,r,t)),oi(o)&&o.length&&(o=rxe(e,o,r,a.isIndexable)),lM(e,o)&&(o=Ey(o,i,s&&s[e],a)),o}function txe(r,e,t,n){const{_proxy:i,_context:s,_subProxy:a,_stack:o}=t;if(o.has(r))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+r);o.add(r);let l=e(s,a||n);return o.delete(r),lM(r,l)&&(l=AM(i._scopes,i,r,l)),l}function rxe(r,e,t,n){const{_proxy:i,_context:s,_subProxy:a,_descriptors:o}=t;if(typeof s.index<"u"&&n(r))return e[s.index%e.length];if(Pr(e[0])){const l=e,A=i._scopes.filter(c=>c!==l);e=[];for(const c of l){const u=AM(A,i,r,c);e.push(Ey(u,s,a&&a[r],o))}}return e}function iJ(r,e,t){return ap(r)?r(e,t):r}const nxe=(r,e)=>r===!0?e:typeof r=="string"?sp(e,r):void 0;function ixe(r,e,t,n,i){for(const s of e){const a=nxe(t,s);if(a){r.add(a);const o=iJ(a._fallback,t,i);if(typeof o<"u"&&o!==t&&o!==n)return o}else if(a===!1&&typeof n<"u"&&t!==n)return null}return!1}function AM(r,e,t,n){const i=e._rootScopes,s=iJ(e._fallback,t,n),a=[...r,...i],o=new Set;o.add(n);let l=RH(o,a,t,s||t,n);return l===null||typeof s<"u"&&s!==t&&(l=RH(o,a,s,l,n),l===null)?!1:oM(Array.from(o),[""],i,s,()=>sxe(e,t,n))}function RH(r,e,t,n,i){for(;t;)t=ixe(r,e,t,n,i);return t}function sxe(r,e,t){const n=r._getTarget();e in n||(n[e]={});const i=n[e];return oi(i)&&Pr(t)?t:i||{}}function axe(r,e,t,n){let i;for(const s of e)if(i=sJ(Z2e(s,r),t),typeof i<"u")return lM(r,i)?AM(t,n,r,i):i}function sJ(r,e){for(const t of e){if(!t)continue;const n=t[r];if(typeof n<"u")return n}}function DH(r){let e=r._keys;return e||(e=r._keys=oxe(r._scopes)),e}function oxe(r){const e=new Set;for(const t of r)for(const n of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(n);return Array.from(e)}function aJ(r,e,t,n){const{iScale:i}=r,{key:s="r"}=this._parsing,a=new Array(n);let o,l,A,c;for(o=0,l=n;o<l;++o)A=o+t,c=e[A],a[o]={r:i.parse(sp(c,s),A)};return a}const lxe=Number.EPSILON||1e-14,Cy=(r,e)=>e<r.length&&!r[e].skip&&r[e],oJ=r=>r==="x"?"y":"x";function Axe(r,e,t,n){const i=r.skip?e:r,s=e,a=t.skip?e:t,o=IR(s,i),l=IR(a,s);let A=o/(o+l),c=l/(o+l);A=isNaN(A)?0:A,c=isNaN(c)?0:c;const u=n*A,h=n*c;return{previous:{x:s.x-u*(a.x-i.x),y:s.y-u*(a.y-i.y)},next:{x:s.x+h*(a.x-i.x),y:s.y+h*(a.y-i.y)}}}function cxe(r,e,t){const n=r.length;let i,s,a,o,l,A=Cy(r,0);for(let c=0;c<n-1;++c)if(l=A,A=Cy(r,c+1),!(!l||!A)){if($x(e[c],0,lxe)){t[c]=t[c+1]=0;continue}i=t[c]/e[c],s=t[c+1]/e[c],o=Math.pow(i,2)+Math.pow(s,2),!(o<=9)&&(a=3/Math.sqrt(o),t[c]=i*a*e[c],t[c+1]=s*a*e[c])}}function uxe(r,e,t="x"){const n=oJ(t),i=r.length;let s,a,o,l=Cy(r,0);for(let A=0;A<i;++A){if(a=o,o=l,l=Cy(r,A+1),!o)continue;const c=o[t],u=o[n];a&&(s=(c-a[t])/3,o[`cp1${t}`]=c-s,o[`cp1${n}`]=u-s*e[A]),l&&(s=(l[t]-c)/3,o[`cp2${t}`]=c+s,o[`cp2${n}`]=u+s*e[A])}}function hxe(r,e="x"){const t=oJ(e),n=r.length,i=Array(n).fill(0),s=Array(n);let a,o,l,A=Cy(r,0);for(a=0;a<n;++a)if(o=l,l=A,A=Cy(r,a+1),!!l){if(A){const c=A[e]-l[e];i[a]=c!==0?(A[t]-l[t])/c:0}s[a]=o?A?Uu(i[a-1])!==Uu(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}cxe(r,i,s),uxe(r,s,e)}function PB(r,e,t){return Math.max(Math.min(r,t),e)}function fxe(r,e){let t,n,i,s,a,o=ff(r[0],e);for(t=0,n=r.length;t<n;++t)a=s,s=o,o=t<n-1&&ff(r[t+1],e),s&&(i=r[t],a&&(i.cp1x=PB(i.cp1x,e.left,e.right),i.cp1y=PB(i.cp1y,e.top,e.bottom)),o&&(i.cp2x=PB(i.cp2x,e.left,e.right),i.cp2y=PB(i.cp2y,e.top,e.bottom)))}function dxe(r,e,t,n,i){let s,a,o,l;if(e.spanGaps&&(r=r.filter(A=>!A.skip)),e.cubicInterpolationMode==="monotone")hxe(r,i);else{let A=n?r[r.length-1]:r[0];for(s=0,a=r.length;s<a;++s)o=r[s],l=Axe(A,o,r[Math.min(s+1,a-(n?0:1))%a],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,A=o}e.capBezierPoints&&fxe(r,t)}function cM(){return typeof window<"u"&&typeof document<"u"}function uM(r){let e=r.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function rF(r,e,t){let n;return typeof r=="string"?(n=parseInt(r,10),r.indexOf("%")!==-1&&(n=n/100*e.parentNode[t])):n=r,n}const D4=r=>r.ownerDocument.defaultView.getComputedStyle(r,null);function pxe(r,e){return D4(r).getPropertyValue(e)}const gxe=["top","right","bottom","left"];function Cm(r,e,t){const n={};t=t?"-"+t:"";for(let i=0;i<4;i++){const s=gxe[i];n[s]=parseFloat(r[e+"-"+s+t])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const mxe=(r,e,t)=>(r>0||e>0)&&(!t||!t.shadowRoot);function vxe(r,e){const t=r.touches,n=t&&t.length?t[0]:r,{offsetX:i,offsetY:s}=n;let a=!1,o,l;if(mxe(i,s,r.target))o=i,l=s;else{const A=e.getBoundingClientRect();o=n.clientX-A.left,l=n.clientY-A.top,a=!0}return{x:o,y:l,box:a}}function jp(r,e){if("native"in r)return r;const{canvas:t,currentDevicePixelRatio:n}=e,i=D4(t),s=i.boxSizing==="border-box",a=Cm(i,"padding"),o=Cm(i,"border","width"),{x:l,y:A,box:c}=vxe(r,t),u=a.left+(c&&o.left),h=a.top+(c&&o.top);let{width:f,height:g}=e;return s&&(f-=a.width+o.width,g-=a.height+o.height),{x:Math.round((l-u)/f*t.width/n),y:Math.round((A-h)/g*t.height/n)}}function wxe(r,e,t){let n,i;if(e===void 0||t===void 0){const s=r&&uM(r);if(!s)e=r.clientWidth,t=r.clientHeight;else{const a=s.getBoundingClientRect(),o=D4(s),l=Cm(o,"border","width"),A=Cm(o,"padding");e=a.width-A.width-l.width,t=a.height-A.height-l.height,n=rF(o.maxWidth,s,"clientWidth"),i=rF(o.maxHeight,s,"clientHeight")}}return{width:e,height:t,maxWidth:n||eF,maxHeight:i||eF}}const E0=r=>Math.round(r*10)/10;function yxe(r,e,t,n){const i=D4(r),s=Cm(i,"margin"),a=rF(i.maxWidth,r,"clientWidth")||eF,o=rF(i.maxHeight,r,"clientHeight")||eF,l=wxe(r,e,t);let{width:A,height:c}=l;if(i.boxSizing==="content-box"){const h=Cm(i,"border","width"),f=Cm(i,"padding");A-=f.width+h.width,c-=f.height+h.height}return A=Math.max(0,A-s.width),c=Math.max(0,n?A/n:c-s.height),A=E0(Math.min(A,a,l.maxWidth)),c=E0(Math.min(c,o,l.maxHeight)),A&&!c&&(c=E0(A/2)),(e!==void 0||t!==void 0)&&n&&l.height&&c>l.height&&(c=l.height,A=E0(Math.floor(c*n))),{width:A,height:c}}function NH(r,e,t){const n=e||1,i=E0(r.height*n),s=E0(r.width*n);r.height=E0(r.height),r.width=E0(r.width);const a=r.canvas;return a.style&&(t||!a.style.height&&!a.style.width)&&(a.style.height=`${r.height}px`,a.style.width=`${r.width}px`),r.currentDevicePixelRatio!==n||a.height!==i||a.width!==s?(r.currentDevicePixelRatio=n,a.height=i,a.width=s,r.ctx.setTransform(n,0,0,n,0,0),!0):!1}const xxe=function(){let r=!1;try{const e={get passive(){return r=!0,!1}};cM()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return r}();function UH(r,e){const t=pxe(r,e),n=t&&t.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Kp(r,e,t,n){return{x:r.x+t*(e.x-r.x),y:r.y+t*(e.y-r.y)}}function _xe(r,e,t,n){return{x:r.x+t*(e.x-r.x),y:n==="middle"?t<.5?r.y:e.y:n==="after"?t<1?r.y:e.y:t>0?e.y:r.y}}function bxe(r,e,t,n){const i={x:r.cp2x,y:r.cp2y},s={x:e.cp1x,y:e.cp1y},a=Kp(r,i,t),o=Kp(i,s,t),l=Kp(s,e,t),A=Kp(a,o,t),c=Kp(o,l,t);return Kp(A,c,t)}const Exe=function(r,e){return{x(t){return r+r+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,n){return t-n},leftForLtr(t,n){return t-n}}},Cxe=function(){return{x(r){return r},setWidth(r){},textAlign(r){return r},xPlus(r,e){return r+e},leftForLtr(r,e){return r}}};function Fv(r,e,t){return r?Exe(e,t):Cxe()}function lJ(r,e){let t,n;(e==="ltr"||e==="rtl")&&(t=r.canvas.style,n=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),r.prevTextDirection=n)}function AJ(r,e){e!==void 0&&(delete r.prevTextDirection,r.canvas.style.setProperty("direction",e[0],e[1]))}function cJ(r){return r==="angle"?{between:X_,compare:B2e,normalize:Qa}:{between:uf,compare:(e,t)=>e-t,normalize:e=>e}}function MH({start:r,end:e,count:t,loop:n,style:i}){return{start:r%t,end:e%t,loop:n&&(e-r+1)%t===0,style:i}}function Bxe(r,e,t){const{property:n,start:i,end:s}=t,{between:a,normalize:o}=cJ(n),l=e.length;let{start:A,end:c,loop:u}=r,h,f;if(u){for(A+=l,c+=l,h=0,f=l;h<f&&a(o(e[A%l][n]),i,s);++h)A--,c--;A%=l,c%=l}return c<A&&(c+=l),{start:A,end:c,loop:u,style:r.style}}function uJ(r,e,t){if(!t)return[r];const{property:n,start:i,end:s}=t,a=e.length,{compare:o,between:l,normalize:A}=cJ(n),{start:c,end:u,loop:h,style:f}=Bxe(r,e,t),g=[];let p=!1,v=null,m,x,_;const S=()=>l(i,_,m)&&o(i,_)!==0,k=()=>o(s,m)===0||l(s,_,m),R=()=>p||S(),B=()=>!p||k();for(let E=c,b=c;E<=u;++E)x=e[E%a],!x.skip&&(m=A(x[n]),m!==_&&(p=l(m,i,s),v===null&&R()&&(v=o(m,i)===0?E:b),v!==null&&B()&&(g.push(MH({start:v,end:E,loop:h,count:a,style:f})),v=null),b=E,_=m));return v!==null&&g.push(MH({start:v,end:u,loop:h,count:a,style:f})),g}function hJ(r,e){const t=[],n=r.segments;for(let i=0;i<n.length;i++){const s=uJ(n[i],r.points,e);s.length&&t.push(...s)}return t}function Sxe(r,e,t,n){let i=0,s=e-1;if(t&&!n)for(;i<e&&!r[i].skip;)i++;for(;i<e&&r[i].skip;)i++;for(i%=e,t&&(s+=i);s>i&&r[s%e].skip;)s--;return s%=e,{start:i,end:s}}function Txe(r,e,t,n){const i=r.length,s=[];let a=e,o=r[e],l;for(l=e+1;l<=t;++l){const A=r[l%i];A.skip||A.stop?o.skip||(n=!1,s.push({start:e%i,end:(l-1)%i,loop:n}),e=a=A.stop?l:null):(a=l,o.skip&&(e=l)),o=A}return a!==null&&s.push({start:e%i,end:a%i,loop:n}),s}function Fxe(r,e){const t=r.points,n=r.options.spanGaps,i=t.length;if(!i)return[];const s=!!r._loop,{start:a,end:o}=Sxe(t,i,s,n);if(n===!0)return OH(r,[{start:a,end:o,loop:s}],t,e);const l=o<a?o+i:o,A=!!r._fullLoop&&a===0&&o===i-1;return OH(r,Txe(t,a,l,A),t,e)}function OH(r,e,t,n){return!n||!n.setContext||!t?e:Ixe(r,e,t,n)}function Ixe(r,e,t,n){const i=r._chart.getContext(),s=QH(r.options),{_datasetIndex:a,options:{spanGaps:o}}=r,l=t.length,A=[];let c=s,u=e[0].start,h=u;function f(g,p,v,m){const x=o?-1:1;if(g!==p){for(g+=l;t[g%l].skip;)g-=x;for(;t[p%l].skip;)p+=x;g%l!==p%l&&(A.push({start:g%l,end:p%l,loop:v,style:m}),c=m,u=p%l)}}for(const g of e){u=o?u:g.start;let p=t[u%l],v;for(h=u+1;h<=g.end;h++){const m=t[h%l];v=QH(n.setContext(pp(i,{type:"segment",p0:p,p1:m,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:a}))),kxe(v,c)&&f(u,h-1,g.loop,c),p=m,c=v}u<h-1&&f(u,h-1,g.loop,c)}return A}function QH(r){return{backgroundColor:r.backgroundColor,borderCapStyle:r.borderCapStyle,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderJoinStyle:r.borderJoinStyle,borderWidth:r.borderWidth,borderColor:r.borderColor}}function kxe(r,e){if(!e)return!1;const t=[],n=function(i,s){return sM(s)?(t.includes(s)||t.push(s),t.indexOf(s)):s};return JSON.stringify(r,n)!==JSON.stringify(e,n)}function RB(r,e,t){return r.options.clip?r[t]:e[t]}function Lxe(r,e){const{xScale:t,yScale:n}=r;return t&&n?{left:RB(t,e,"left"),right:RB(t,e,"right"),top:RB(n,e,"top"),bottom:RB(n,e,"bottom")}:e}function fJ(r,e){const t=e._clip;if(t.disabled)return!1;const n=Lxe(e,r.chartArea);return{left:t.left===!1?0:n.left-(t.left===!0?0:t.left),right:t.right===!1?r.width:n.right+(t.right===!0?0:t.right),top:t.top===!1?0:n.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?r.height:n.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Pxe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,i){const s=t.listeners[i],a=t.duration;s.forEach(o=>o({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(n-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=qY.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const s=n.items;let a=s.length-1,o=!1,l;for(;a>=0;--a)l=s[a],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(e),o=!0):(s[a]=s[s.length-1],s.pop());o&&(i.draw(),this._notify(i,n,e,"progress")),s.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),t+=s.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var dh=new Pxe;const HH="transparent",Rxe={boolean(r,e,t){return t>.5?e:r},color(r,e,t){const n=kH(r||HH),i=n.valid&&kH(e||HH);return i&&i.valid?i.mix(n,t).hexString():e},number(r,e,t){return r+(e-r)*t}};class Dxe{constructor(e,t,n,i){const s=t[n];i=hx([e.to,i,s,e.from]);const a=hx([e.from,s,i]);this._active=!0,this._fn=e.fn||Rxe[e.type||typeof a],this._easing=qx[e.easing]||qx.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const i=this._target[this._prop],s=n-this._start,a=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=hx([e.to,t,i,e.from]),this._from=hx([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,i=this._prop,s=this._from,a=this._loop,o=this._to;let l;if(this._active=s!==o&&(a||t<n),!this._active){this._target[i]=o,this._notify(!0);return}if(t<0){this._target[i]=s;return}l=t/n%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,o,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,n)=>{e.push({res:t,rej:n})})}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][t]()}}class dJ{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Pr(e))return;const t=Object.keys(li.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!Pr(s))return;const a={};for(const o of t)a[o]=s[o];(oi(s.properties)&&s.properties||[i]).forEach(o=>{(o===i||!n.has(o))&&n.set(o,a)})})}_animateOptions(e,t){const n=t.options,i=Uxe(e,n);if(!i)return[];const s=this._createAnimations(i,n);return n.$shared&&Nxe(e.options.$animations,n).then(()=>{e.options=n},()=>{}),s}_createAnimations(e,t){const n=this._properties,i=[],s=e.$animations||(e.$animations={}),a=Object.keys(t),o=Date.now();let l;for(l=a.length-1;l>=0;--l){const A=a[l];if(A.charAt(0)==="$")continue;if(A==="options"){i.push(...this._animateOptions(e,t));continue}const c=t[A];let u=s[A];const h=n.get(A);if(u)if(h&&u.active()){u.update(h,c,o);continue}else u.cancel();if(!h||!h.duration){e[A]=c;continue}s[A]=u=new Dxe(h,e,A,c),i.push(u)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const n=this._createAnimations(e,t);if(n.length)return dh.add(this._chart,n),!0}}function Nxe(r,e){const t=[],n=Object.keys(e);for(let i=0;i<n.length;i++){const s=r[n[i]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}function Uxe(r,e){if(!e)return;let t=r.options;if(!t){r.options=e;return}return t.$shared&&(r.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function VH(r,e){const t=r&&r.options||{},n=t.reverse,i=t.min===void 0?e:0,s=t.max===void 0?e:0;return{start:n?s:i,end:n?i:s}}function Mxe(r,e,t){if(t===!1)return!1;const n=VH(r,t),i=VH(e,t);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function Oxe(r){let e,t,n,i;return Pr(r)?(e=r.top,t=r.right,n=r.bottom,i=r.left):e=t=n=i=r,{top:e,right:t,bottom:n,left:i,disabled:r===!1}}function pJ(r,e){const t=[],n=r._getSortedDatasetMetas(e);let i,s;for(i=0,s=n.length;i<s;++i)t.push(n[i].index);return t}function jH(r,e,t,n={}){const i=r.keys,s=n.mode==="single";let a,o,l,A;if(e===null)return;let c=!1;for(a=0,o=i.length;a<o;++a){if(l=+i[a],l===t){if(c=!0,n.all)continue;break}A=r.values[l],Di(A)&&(s||e===0||Uu(e)===Uu(A))&&(e+=A)}return!c&&!n.all?0:e}function Qxe(r,e){const{iScale:t,vScale:n}=e,i=t.axis==="x"?"x":"y",s=n.axis==="x"?"x":"y",a=Object.keys(r),o=new Array(a.length);let l,A,c;for(l=0,A=a.length;l<A;++l)c=a[l],o[l]={[i]:c,[s]:r[c]};return o}function wk(r,e){const t=r&&r.options.stacked;return t||t===void 0&&e.stack!==void 0}function Hxe(r,e,t){return`${r.id}.${e.id}.${t.stack||t.type}`}function Vxe(r){const{min:e,max:t,minDefined:n,maxDefined:i}=r.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function jxe(r,e,t){const n=r[e]||(r[e]={});return n[t]||(n[t]={})}function KH(r,e,t,n){for(const i of e.getMatchingVisibleMetas(n).reverse()){const s=r[i.index];if(t&&s>0||!t&&s<0)return i.index}return null}function zH(r,e){const{chart:t,_cachedMeta:n}=r,i=t._stacks||(t._stacks={}),{iScale:s,vScale:a,index:o}=n,l=s.axis,A=a.axis,c=Hxe(s,a,n),u=e.length;let h;for(let f=0;f<u;++f){const g=e[f],{[l]:p,[A]:v}=g,m=g._stacks||(g._stacks={});h=m[A]=jxe(i,c,p),h[o]=v,h._top=KH(h,a,!0,n.type),h._bottom=KH(h,a,!1,n.type);const x=h._visualValues||(h._visualValues={});x[o]=v}}function yk(r,e){const t=r.scales;return Object.keys(t).filter(n=>t[n].axis===e).shift()}function Kxe(r,e){return pp(r,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function zxe(r,e,t){return pp(r,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function x2(r,e){const t=r.controller.index,n=r.vScale&&r.vScale.axis;if(n){e=e||r._parsed;for(const i of e){const s=i._stacks;if(!s||s[n]===void 0||s[n][t]===void 0)return;delete s[n][t],s[n]._visualValues!==void 0&&s[n]._visualValues[t]!==void 0&&delete s[n]._visualValues[t]}}}const xk=r=>r==="reset"||r==="none",WH=(r,e)=>e?r:Object.assign({},r),Wxe=(r,e,t)=>r&&!e.hidden&&e._stacked&&{keys:pJ(t,!0),values:null};class Ec{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=wk(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&x2(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),i=(u,h,f,g)=>u==="x"?h:u==="r"?g:f,s=t.xAxisID=cr(n.xAxisID,yk(e,"x")),a=t.yAxisID=cr(n.yAxisID,yk(e,"y")),o=t.rAxisID=cr(n.rAxisID,yk(e,"r")),l=t.indexAxis,A=t.iAxisID=i(l,s,a,o),c=t.vAxisID=i(l,a,s,o);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(o),t.iScale=this.getScaleForId(A),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&TH(this._data,this),e._stacked&&x2(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(Pr(t)){const i=this._cachedMeta;this._data=Qxe(t,i)}else if(n!==t){if(n){TH(n,this);const i=this._cachedMeta;x2(i),i._parsed=[]}t&&Object.isExtensible(t)&&I2e(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const s=t._stacked;t._stacked=wk(t.vScale,t),t.stack!==n.stack&&(i=!0,x2(t),t.stack=n.stack),this._resyncElements(e),(i||s!==t._stacked)&&(zH(this,t._parsed),t._stacked=wk(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:i}=this,{iScale:s,_stacked:a}=n,o=s.axis;let l=e===0&&t===i.length?!0:n._sorted,A=e>0&&n._parsed[e-1],c,u,h;if(this._parsing===!1)n._parsed=i,n._sorted=!0,h=i;else{oi(i[e])?h=this.parseArrayData(n,i,e,t):Pr(i[e])?h=this.parseObjectData(n,i,e,t):h=this.parsePrimitiveData(n,i,e,t);const f=()=>u[o]===null||A&&u[o]<A[o];for(c=0;c<t;++c)n._parsed[c+e]=u=h[c],l&&(f()&&(l=!1),A=u);n._sorted=l}a&&zH(this,h)}parsePrimitiveData(e,t,n,i){const{iScale:s,vScale:a}=e,o=s.axis,l=a.axis,A=s.getLabels(),c=s===a,u=new Array(i);let h,f,g;for(h=0,f=i;h<f;++h)g=h+n,u[h]={[o]:c||s.parse(A[g],g),[l]:a.parse(t[g],g)};return u}parseArrayData(e,t,n,i){const{xScale:s,yScale:a}=e,o=new Array(i);let l,A,c,u;for(l=0,A=i;l<A;++l)c=l+n,u=t[c],o[l]={x:s.parse(u[0],c),y:a.parse(u[1],c)};return o}parseObjectData(e,t,n,i){const{xScale:s,yScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,A=new Array(i);let c,u,h,f;for(c=0,u=i;c<u;++c)h=c+n,f=t[h],A[c]={x:s.parse(sp(f,o),h),y:a.parse(sp(f,l),h)};return A}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const i=this.chart,s=this._cachedMeta,a=t[e.axis],o={keys:pJ(i,!0),values:t._stacks[e.axis]._visualValues};return jH(o,a,s.index,{mode:n})}updateRangeFromParsed(e,t,n,i){const s=n[t.axis];let a=s===null?NaN:s;const o=i&&n._stacks[t.axis];i&&o&&(i.values=o,a=jH(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const n=this._cachedMeta,i=n._parsed,s=n._sorted&&e===n.iScale,a=i.length,o=this._getOtherScale(e),l=Wxe(t,n,this.chart),A={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=Vxe(o);let h,f;function g(){f=i[h];const p=f[o.axis];return!Di(f[e.axis])||c>p||u<p}for(h=0;h<a&&!(!g()&&(this.updateRangeFromParsed(A,e,f,l),s));++h);if(s){for(h=a-1;h>=0;--h)if(!g()){this.updateRangeFromParsed(A,e,f,l);break}}return A}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let i,s,a;for(i=0,s=t.length;i<s;++i)a=t[i][e.axis],Di(a)&&n.push(a);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,i=t.vScale,s=this.getParsed(e);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=Oxe(cr(this.options.clip,Mxe(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,i=n.data||[],s=t.chartArea,a=[],o=this._drawStart||0,l=this._drawCount||i.length-o,A=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,s,o,l),c=o;c<o+l;++c){const u=i[c];u.hidden||(u.active&&A?a.push(u):u.draw(e,s))}for(c=0;c<a.length;++c)a[c].draw(e,s)}getStyle(e,t){const n=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=zxe(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=Kxe(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=n,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",n){const i=t==="active",s=this._cachedDataOpts,a=e+"-"+t,o=s[a],l=this.enableOptionSharing&&q_(n);if(o)return WH(o,l);const A=this.chart.config,c=A.datasetElementScopeKeys(this._type,e),u=i?[`${e}Hover`,"hover",e,""]:[e,""],h=A.getOptionScopes(this.getDataset(),c),f=Object.keys(li.elements[e]),g=()=>this.getContext(n,i,t),p=A.resolveNamedOptions(h,f,g,u);return p.$shared&&(p.$shared=l,s[a]=Object.freeze(WH(p,l))),p}_resolveAnimations(e,t,n){const i=this.chart,s=this._cachedDataOpts,a=`animation-${t}`,o=s[a];if(o)return o;let l;if(i.options.animation!==!1){const c=this.chart.config,u=c.datasetAnimationScopeKeys(this._type,t),h=c.getOptionScopes(this.getDataset(),u);l=c.createResolver(h,this.getContext(e,n,t))}const A=new dJ(i,l&&l.animations);return l&&l._cacheable&&(s[a]=Object.freeze(A)),A}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||xk(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),i=this._sharedOptions,s=this.getSharedOptions(n),a=this.includeOptions(t,s)||s!==i;return this.updateSharedOptions(s,t,n),{sharedOptions:s,includeOptions:a}}updateElement(e,t,n,i){xk(i)?Object.assign(e,n):this._resolveAnimations(t,i).update(e,n)}updateSharedOptions(e,t,n){e&&!xk(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,i){e.active=i;const s=this.getStyle(t,i);this._resolveAnimations(t,n,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[o,l,A]of this._syncList)this[o](l,A);this._syncList=[];const i=n.length,s=t.length,a=Math.min(s,i);a&&this.parse(0,a),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,t,n=!0){const i=this._cachedMeta,s=i.data,a=e+t;let o;const l=A=>{for(A.length+=t,o=A.length-1;o>=a;o--)A[o]=A[o-t]};for(l(s),o=e;o<a;++o)s[o]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,t),n&&this.updateElements(s,e,t,"reset")}updateElements(e,t,n,i){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,t);n._stacked&&x2(n,i)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,i]=e;this[t](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ce(Ec,"defaults",{}),Ce(Ec,"datasetElementType",null),Ce(Ec,"dataElementType",null);function Gxe(r,e){if(!r._cache.$bar){const t=r.getMatchingVisibleMetas(e);let n=[];for(let i=0,s=t.length;i<s;i++)n=n.concat(t[i].controller.getAllParsedValues(r));r._cache.$bar=$Y(n.sort((i,s)=>i-s))}return r._cache.$bar}function $xe(r){const e=r.iScale,t=Gxe(e,r.type);let n=e._length,i,s,a,o;const l=()=>{a===32767||a===-32768||(q_(o)&&(n=Math.min(n,Math.abs(a-o)||n)),o=a)};for(i=0,s=t.length;i<s;++i)a=e.getPixelForValue(t[i]),l();for(o=void 0,i=0,s=e.ticks.length;i<s;++i)a=e.getPixelForTick(i),l();return n}function qxe(r,e,t,n){const i=t.barThickness;let s,a;return Tr(i)?(s=e.min*t.categoryPercentage,a=t.barPercentage):(s=i*n,a=1),{chunk:s/n,ratio:a,start:e.pixels[r]-s/2}}function Xxe(r,e,t,n){const i=e.pixels,s=i[r];let a=r>0?i[r-1]:null,o=r<i.length-1?i[r+1]:null;const l=t.categoryPercentage;a===null&&(a=s-(o===null?e.end-e.start:o-s)),o===null&&(o=s+s-a);const A=s-(s-Math.min(a,o))/2*l;return{chunk:Math.abs(o-a)/2*l/n,ratio:t.barPercentage,start:A}}function Yxe(r,e,t,n){const i=t.parse(r[0],n),s=t.parse(r[1],n),a=Math.min(i,s),o=Math.max(i,s);let l=a,A=o;Math.abs(a)>Math.abs(o)&&(l=o,A=a),e[t.axis]=A,e._custom={barStart:l,barEnd:A,start:i,end:s,min:a,max:o}}function gJ(r,e,t,n){return oi(r)?Yxe(r,e,t,n):e[t.axis]=t.parse(r,n),e}function GH(r,e,t,n){const i=r.iScale,s=r.vScale,a=i.getLabels(),o=i===s,l=[];let A,c,u,h;for(A=t,c=t+n;A<c;++A)h=e[A],u={},u[i.axis]=o||i.parse(a[A],A),l.push(gJ(h,u,s,A));return l}function _k(r){return r&&r.barStart!==void 0&&r.barEnd!==void 0}function Jxe(r,e,t){return r!==0?Uu(r):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function Zxe(r){let e,t,n,i,s;return r.horizontal?(e=r.base>r.x,t="left",n="right"):(e=r.base<r.y,t="bottom",n="top"),e?(i="end",s="start"):(i="start",s="end"),{start:t,end:n,reverse:e,top:i,bottom:s}}function e_e(r,e,t,n){let i=e.borderSkipped;const s={};if(!i){r.borderSkipped=s;return}if(i===!0){r.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:o,reverse:l,top:A,bottom:c}=Zxe(r);i==="middle"&&t&&(r.enableBorderRadius=!0,(t._top||0)===n?i=A:(t._bottom||0)===n?i=c:(s[$H(c,a,o,l)]=!0,i=A)),s[$H(i,a,o,l)]=!0,r.borderSkipped=s}function $H(r,e,t,n){return n?(r=t_e(r,e,t),r=qH(r,t,e)):r=qH(r,e,t),r}function t_e(r,e,t){return r===e?t:r===t?e:r}function qH(r,e,t){return r==="start"?e:r==="end"?t:r}function r_e(r,{inflateAmount:e},t){r.inflateAmount=e==="auto"?t===1?.33:0:e}class y5 extends Ec{parsePrimitiveData(e,t,n,i){return GH(e,t,n,i)}parseArrayData(e,t,n,i){return GH(e,t,n,i)}parseObjectData(e,t,n,i){const{iScale:s,vScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,A=s.axis==="x"?o:l,c=a.axis==="x"?o:l,u=[];let h,f,g,p;for(h=n,f=n+i;h<f;++h)p=t[h],g={},g[s.axis]=s.parse(sp(p,A),h),u.push(gJ(sp(p,c),g,a,h));return u}updateRangeFromParsed(e,t,n,i){super.updateRangeFromParsed(e,t,n,i);const s=n._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:i}=t,s=this.getParsed(e),a=s._custom,o=_k(a)?"["+a.start+", "+a.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+n.getLabelForValue(s[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,i){const s=i==="reset",{index:a,_cachedMeta:{vScale:o}}=this,l=o.getBasePixel(),A=o.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:h}=this._getSharedOptions(t,i);for(let f=t;f<t+n;f++){const g=this.getParsed(f),p=s||Tr(g[o.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),v=this._calculateBarIndexPixels(f,c),m=(g._stacks||{})[o.axis],x={horizontal:A,base:p.base,enableBorderRadius:!m||_k(g._custom)||a===m._top||a===m._bottom,x:A?p.head:v.center,y:A?v.center:p.head,height:A?v.size:Math.abs(p.size),width:A?Math.abs(p.size):v.size};h&&(x.options=u||this.resolveDataElementOptions(f,e[f].active?"active":i));const _=x.options||e[f].options;e_e(x,_,m,a),r_e(x,_,c.ratio),this.updateElement(e[f],f,x,i)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter(c=>c.controller.options.grouped),s=n.options.stacked,a=[],o=this._cachedMeta.controller.getParsed(t),l=o&&o[n.axis],A=c=>{const u=c._parsed.find(f=>f[n.axis]===l),h=u&&u[c.vScale.axis];if(Tr(h)||isNaN(h))return!0};for(const c of i)if(!(t!==void 0&&A(c))&&((s===!1||a.indexOf(c.stack)===-1||s===void 0&&c.stack===void 0)&&a.push(c.stack),c.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[cr(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,n){const i=this._getStacks(e,n),s=t!==void 0?i.indexOf(t):-1;return s===-1?i.length-1:s}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,i=[];let s,a;for(s=0,a=t.data.length;s<a;++s)i.push(n.getPixelForValue(this.getParsed(s)[n.axis],s));const o=e.barThickness;return{min:o||$xe(t),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:i},options:{base:s,minBarLength:a}}=this,o=s||0,l=this.getParsed(e),A=l._custom,c=_k(A);let u=l[t.axis],h=0,f=n?this.applyStack(t,l,n):u,g,p;f!==u&&(h=f-u,f=u),c&&(u=A.barStart,f=A.barEnd-A.barStart,u!==0&&Uu(u)!==Uu(A.barEnd)&&(h=0),h+=u);const v=!Tr(s)&&!c?s:h;let m=t.getPixelForValue(v);if(this.chart.getDataVisibility(e)?g=t.getPixelForValue(h+f):g=m,p=g-m,Math.abs(p)<a){p=Jxe(p,t,o)*a,u===o&&(m-=p/2);const x=t.getPixelForDecimal(0),_=t.getPixelForDecimal(1),S=Math.min(x,_),k=Math.max(x,_);m=Math.max(Math.min(m,k),S),g=m+p,n&&!c&&(l._stacks[t.axis]._visualValues[i]=t.getValueForPixel(g)-t.getValueForPixel(m))}if(m===t.getPixelForValue(o)){const x=Uu(p)*t.getLineWidthForValue(o)/2;m+=x,p-=x}return{size:p,base:m,head:g,center:g+p/2}}_calculateBarIndexPixels(e,t){const n=t.scale,i=this.options,s=i.skipNull,a=cr(i.maxBarThickness,1/0);let o,l;const A=this._getAxisCount();if(t.grouped){const c=s?this._getStackCount(e):t.stackCount,u=i.barThickness==="flex"?Xxe(e,t,i,c*A):qxe(e,t,i,c*A),h=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,f=this._getAxis().indexOf(cr(h,this.getFirstScaleIdForIndexAxis())),g=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+f;o=u.start+u.chunk*g+u.chunk/2,l=Math.min(a,u.chunk*u.ratio)}else o=n.getPixelForValue(this.getParsed(e)[n.axis],e),l=Math.min(a,t.min*t.ratio);return{base:o-l/2,head:o+l/2,center:o,size:l}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,i=n.length;let s=0;for(;s<i;++s)this.getParsed(s)[t.axis]!==null&&!n[s].hidden&&n[s].draw(this._ctx)}}Ce(y5,"id","bar"),Ce(y5,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Ce(y5,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class x5 extends Ec{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,i){const s=super.parsePrimitiveData(e,t,n,i);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+n).radius;return s}parseArrayData(e,t,n,i){const s=super.parseArrayData(e,t,n,i);for(let a=0;a<s.length;a++){const o=t[n+a];s[a]._custom=cr(o[2],this.resolveDataElementOptions(a+n).radius)}return s}parseObjectData(e,t,n,i){const s=super.parseObjectData(e,t,n,i);for(let a=0;a<s.length;a++){const o=t[n+a];s[a]._custom=cr(o&&o.r&&+o.r,this.resolveDataElementOptions(a+n).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:s}=t,a=this.getParsed(e),o=i.getLabelForValue(a.x),l=s.getLabelForValue(a.y),A=a._custom;return{label:n[e]||"",value:"("+o+", "+l+(A?", "+A:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,i){const s=i==="reset",{iScale:a,vScale:o}=this._cachedMeta,{sharedOptions:l,includeOptions:A}=this._getSharedOptions(t,i),c=a.axis,u=o.axis;for(let h=t;h<t+n;h++){const f=e[h],g=!s&&this.getParsed(h),p={},v=p[c]=s?a.getPixelForDecimal(.5):a.getPixelForValue(g[c]),m=p[u]=s?o.getBasePixel():o.getPixelForValue(g[u]);p.skip=isNaN(v)||isNaN(m),A&&(p.options=l||this.resolveDataElementOptions(h,f.active?"active":i),s&&(p.options.radius=0)),this.updateElement(f,h,p,i)}}resolveDataElementOptions(e,t){const n=this.getParsed(e);let i=super.resolveDataElementOptions(e,t);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const s=i.radius;return t!=="active"&&(i.radius=0),i.radius+=cr(n&&n._custom,s),i}}Ce(x5,"id","bubble"),Ce(x5,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Ce(x5,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function n_e(r,e,t){let n=1,i=1,s=0,a=0;if(e<Zn){const o=r,l=o+e,A=Math.cos(o),c=Math.sin(o),u=Math.cos(l),h=Math.sin(l),f=(_,S,k)=>X_(_,o,l,!0)?1:Math.max(S,S*t,k,k*t),g=(_,S,k)=>X_(_,o,l,!0)?-1:Math.min(S,S*t,k,k*t),p=f(0,A,u),v=f(Ji,c,h),m=g(Zr,A,u),x=g(Zr+Ji,c,h);n=(p-m)/2,i=(v-x)/2,s=-(p+m)/2,a=-(v+x)/2}return{ratioX:n,ratioY:i,offsetX:s,offsetY:a}}class ng extends Ec{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=n;else{let s=l=>+n[l];if(Pr(n[e])){const{key:l="value"}=this._parsing;s=A=>+sp(n[A],l)}let a,o;for(a=e,o=e+t;a<o;++a)i._parsed[a]=s(a)}}_getRotation(){return wc(this.options.rotation-90)}_getCircumference(){return wc(this.options.circumference)}_getRotationExtents(){let e=Zn,t=-Zn;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,s=i._getRotation(),a=i._getCircumference();e=Math.min(e,s),t=Math.max(t,s+a)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,i=this._cachedMeta,s=i.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-a)/2,0),l=Math.min(p2e(this.options.cutout,o),1),A=this._getRingWeight(this.index),{circumference:c,rotation:u}=this._getRotationExtents(),{ratioX:h,ratioY:f,offsetX:g,offsetY:p}=n_e(u,c,l),v=(n.width-a)/h,m=(n.height-a)/f,x=Math.max(Math.min(v,m)/2,0),_=jY(this.options.radius,x),S=Math.max(_*l,0),k=(_-S)/this._getVisibleDatasetWeightTotal();this.offsetX=g*_,this.offsetY=p*_,i.total=this.calculateTotal(),this.outerRadius=_-k*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-k*A,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const n=this.options,i=this._cachedMeta,s=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/Zn)}updateElements(e,t,n,i){const s=i==="reset",a=this.chart,o=a.chartArea,A=a.options.animation,c=(o.left+o.right)/2,u=(o.top+o.bottom)/2,h=s&&A.animateScale,f=h?0:this.innerRadius,g=h?0:this.outerRadius,{sharedOptions:p,includeOptions:v}=this._getSharedOptions(t,i);let m=this._getRotation(),x;for(x=0;x<t;++x)m+=this._circumference(x,s);for(x=t;x<t+n;++x){const _=this._circumference(x,s),S=e[x],k={x:c+this.offsetX,y:u+this.offsetY,startAngle:m,endAngle:m+_,circumference:_,outerRadius:g,innerRadius:f};v&&(k.options=p||this.resolveDataElementOptions(x,S.active?"active":i)),m+=_,this.updateElement(S,x,k,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n=0,i;for(i=0;i<t.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!t[i].hidden&&(n+=Math.abs(s))}return n}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Zn*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,i=n.data.labels||[],s=wC(t._parsed[e],n.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const n=this.chart;let i,s,a,o,l;if(!e){for(i=0,s=n.data.datasets.length;i<s;++i)if(n.isDatasetVisible(i)){a=n.getDatasetMeta(i),e=a.data,o=a.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)l=o.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(t=Math.max(t,l.borderWidth||0,l.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,i=e.length;n<i;++n){const s=this.resolveDataElementOptions(n);t=Math.max(t,s.offset||0,s.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(cr(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Ce(ng,"id","doughnut"),Ce(ng,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Ce(ng,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Ce(ng,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data,{labels:{pointStyle:n,textAlign:i,color:s,useBorderRadius:a,borderRadius:o}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((l,A)=>{const u=e.getDatasetMeta(0).controller.getStyle(A);return{text:l,fillStyle:u.backgroundColor,fontColor:s,hidden:!e.getDataVisibility(A),lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:u.borderWidth,strokeStyle:u.borderColor,textAlign:i,pointStyle:n,borderRadius:a&&(o||u.borderRadius),index:A}}):[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}});class _5 extends Ec{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:i=[],_dataset:s}=t,a=this.chart._animationsDisabled;let{start:o,count:l}=YY(t,i,a);this._drawStart=o,this._drawCount=l,JY(t)&&(o=0,l=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!s._decimated,n.points=i;const A=this.resolveDatasetElementOptions(e);this.options.showLine||(A.borderWidth=0),A.segment=this.options.segment,this.updateElement(n,void 0,{animated:!a,options:A},e),this.updateElements(i,o,l,e)}updateElements(e,t,n,i){const s=i==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:A}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(t,i),h=a.axis,f=o.axis,{spanGaps:g,segment:p}=this.options,v=by(g)?g:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||s||i==="none",x=t+n,_=e.length;let S=t>0&&this.getParsed(t-1);for(let k=0;k<_;++k){const R=e[k],B=m?R:{};if(k<t||k>=x){B.skip=!0;continue}const E=this.getParsed(k),b=Tr(E[f]),I=B[h]=a.getPixelForValue(E[h],k),T=B[f]=s||b?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,E,l):E[f],k);B.skip=isNaN(I)||isNaN(T)||b,B.stop=k>0&&Math.abs(E[h]-S[h])>v,p&&(B.parsed=E,B.raw=A.data[k]),u&&(B.options=c||this.resolveDataElementOptions(k,R.active?"active":i)),m||this.updateElement(R,k,B,i),S=E}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return n;const s=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,s,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Ce(_5,"id","line"),Ce(_5,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Ce(_5,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Yx extends Ec{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,i=n.data.labels||[],s=wC(t._parsed[e].r,n.options.locale);return{label:i[e]||"",value:s}}parseObjectData(e,t,n,i){return aJ.bind(this)(e,t,n,i)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((n,i)=>{const s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<t.min&&(t.min=s),s>t.max&&(t.max=s))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,n=e.options,i=Math.min(t.right-t.left,t.bottom-t.top),s=Math.max(i/2,0),a=Math.max(n.cutoutPercentage?s/100*n.cutoutPercentage:1,0),o=(s-a)/e.getVisibleDatasetCount();this.outerRadius=s-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(e,t,n,i){const s=i==="reset",a=this.chart,l=a.options.animation,A=this._cachedMeta.rScale,c=A.xCenter,u=A.yCenter,h=A.getIndexAngle(0)-.5*Zr;let f=h,g;const p=360/this.countVisibleElements();for(g=0;g<t;++g)f+=this._computeAngle(g,i,p);for(g=t;g<t+n;g++){const v=e[g];let m=f,x=f+this._computeAngle(g,i,p),_=a.getDataVisibility(g)?A.getDistanceFromCenterForValue(this.getParsed(g).r):0;f=x,s&&(l.animateScale&&(_=0),l.animateRotate&&(m=x=h));const S={x:c,y:u,innerRadius:0,outerRadius:_,startAngle:m,endAngle:x,options:this.resolveDataElementOptions(g,v.active?"active":i)};this.updateElement(v,g,S,i)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((n,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&t++}),t}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?wc(this.resolveDataElementOptions(e,t).angle||n):0}}Ce(Yx,"id","polarArea"),Ce(Yx,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Ce(Yx,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:i}}=e.legend.options;return t.labels.map((s,a)=>{const l=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class PR extends ng{}Ce(PR,"id","pie"),Ce(PR,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class b5 extends Ec{getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,i){return aJ.bind(this)(e,t,n,i)}update(e){const t=this._cachedMeta,n=t.dataset,i=t.data||[],s=t.iScale.getLabels();if(n.points=i,e!=="resize"){const a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);const o={_loop:!0,_fullLoop:s.length===i.length,options:a};this.updateElement(n,void 0,o,e)}this.updateElements(i,0,i.length,e)}updateElements(e,t,n,i){const s=this._cachedMeta.rScale,a=i==="reset";for(let o=t;o<t+n;o++){const l=e[o],A=this.resolveDataElementOptions(o,l.active?"active":i),c=s.getPointPositionForValue(o,this.getParsed(o).r),u=a?s.xCenter:c.x,h=a?s.yCenter:c.y,f={x:u,y:h,angle:c.angle,skip:isNaN(u)||isNaN(h),options:A};this.updateElement(l,o,f,i)}}}Ce(b5,"id","radar"),Ce(b5,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Ce(b5,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class E5 extends Ec{getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:s}=t,a=this.getParsed(e),o=i.getLabelForValue(a.x),l=s.getLabelForValue(a.y);return{label:n[e]||"",value:"("+o+", "+l+")"}}update(e){const t=this._cachedMeta,{data:n=[]}=t,i=this.chart._animationsDisabled;let{start:s,count:a}=YY(t,n,i);if(this._drawStart=s,this._drawCount=a,JY(t)&&(s=0,a=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:o,_dataset:l}=t;o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!l._decimated,o.points=n;const A=this.resolveDatasetElementOptions(e);A.segment=this.options.segment,this.updateElement(o,void 0,{animated:!i,options:A},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(n,s,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,n,i){const s=i==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:A}=this._cachedMeta,c=this.resolveDataElementOptions(t,i),u=this.getSharedOptions(c),h=this.includeOptions(i,u),f=a.axis,g=o.axis,{spanGaps:p,segment:v}=this.options,m=by(p)?p:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||s||i==="none";let _=t>0&&this.getParsed(t-1);for(let S=t;S<t+n;++S){const k=e[S],R=this.getParsed(S),B=x?k:{},E=Tr(R[g]),b=B[f]=a.getPixelForValue(R[f],S),I=B[g]=s||E?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,R,l):R[g],S);B.skip=isNaN(b)||isNaN(I)||E,B.stop=S>0&&Math.abs(R[f]-_[f])>m,v&&(B.parsed=R,B.raw=A.data[S]),h&&(B.options=u||this.resolveDataElementOptions(S,k.active?"active":i)),x||this.updateElement(k,S,B,i),_=R}this.updateSharedOptions(u,i,c)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let o=0;for(let l=t.length-1;l>=0;--l)o=Math.max(o,t[l].size(this.resolveDataElementOptions(l))/2);return o>0&&o}const n=e.dataset,i=n.options&&n.options.borderWidth||0;if(!t.length)return i;const s=t[0].size(this.resolveDataElementOptions(0)),a=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(i,s,a)/2}}Ce(E5,"id","scatter"),Ce(E5,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Ce(E5,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var i_e=Object.freeze({__proto__:null,BarController:y5,BubbleController:x5,DoughnutController:ng,LineController:_5,PieController:PR,PolarAreaController:Yx,RadarController:b5,ScatterController:E5});function Pp(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class hM{constructor(e){Ce(this,"options");this.options=e||{}}static override(e){Object.assign(hM.prototype,e)}init(){}formats(){return Pp()}parse(){return Pp()}format(){return Pp()}add(){return Pp()}diff(){return Pp()}startOf(){return Pp()}endOf(){return Pp()}}var s_e={_date:hM};function a_e(r,e,t,n){const{controller:i,data:s,_sorted:a}=r,o=i._cachedMeta.iScale,l=r.dataset&&r.dataset.options?r.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&a&&s.length){const A=o._reversePixels?T2e:hf;if(n){if(i._sharedOptions){const c=s[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const h=A(s,e,t-u),f=A(s,e,t+u);return{lo:h.lo,hi:f.hi}}}}else{const c=A(s,e,t);if(l){const{vScale:u}=i._cachedMeta,{_parsed:h}=r,f=h.slice(0,c.lo+1).reverse().findIndex(p=>!Tr(p[u.axis]));c.lo-=Math.max(0,f);const g=h.slice(c.hi).findIndex(p=>!Tr(p[u.axis]));c.hi+=Math.max(0,g)}return c}}return{lo:0,hi:s.length-1}}function N4(r,e,t,n,i){const s=r.getSortedVisibleDatasetMetas(),a=t[e];for(let o=0,l=s.length;o<l;++o){const{index:A,data:c}=s[o],{lo:u,hi:h}=a_e(s[o],e,a,i);for(let f=u;f<=h;++f){const g=c[f];g.skip||n(g,A,f)}}}function o_e(r){const e=r.indexOf("x")!==-1,t=r.indexOf("y")!==-1;return function(n,i){const s=e?Math.abs(n.x-i.x):0,a=t?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function bk(r,e,t,n,i){const s=[];return!i&&!r.isPointInArea(e)||N4(r,t,e,function(o,l,A){!i&&!ff(o,r.chartArea,0)||o.inRange(e.x,e.y,n)&&s.push({element:o,datasetIndex:l,index:A})},!0),s}function l_e(r,e,t,n){let i=[];function s(a,o,l){const{startAngle:A,endAngle:c}=a.getProps(["startAngle","endAngle"],n),{angle:u}=WY(a,{x:e.x,y:e.y});X_(u,A,c)&&i.push({element:a,datasetIndex:o,index:l})}return N4(r,t,e,s),i}function A_e(r,e,t,n,i,s){let a=[];const o=o_e(t);let l=Number.POSITIVE_INFINITY;function A(c,u,h){const f=c.inRange(e.x,e.y,i);if(n&&!f)return;const g=c.getCenterPoint(i);if(!(!!s||r.isPointInArea(g))&&!f)return;const v=o(e,g);v<l?(a=[{element:c,datasetIndex:u,index:h}],l=v):v===l&&a.push({element:c,datasetIndex:u,index:h})}return N4(r,t,e,A),a}function Ek(r,e,t,n,i,s){return!s&&!r.isPointInArea(e)?[]:t==="r"&&!n?l_e(r,e,t,i):A_e(r,e,t,n,i,s)}function XH(r,e,t,n,i){const s=[],a=t==="x"?"inXRange":"inYRange";let o=!1;return N4(r,t,e,(l,A,c)=>{l[a]&&l[a](e[t],i)&&(s.push({element:l,datasetIndex:A,index:c}),o=o||l.inRange(e.x,e.y,i))}),n&&!o?[]:s}var c_e={modes:{index(r,e,t,n){const i=jp(e,r),s=t.axis||"x",a=t.includeInvisible||!1,o=t.intersect?bk(r,i,s,n,a):Ek(r,i,s,!1,n,a),l=[];return o.length?(r.getSortedVisibleDatasetMetas().forEach(A=>{const c=o[0].index,u=A.data[c];u&&!u.skip&&l.push({element:u,datasetIndex:A.index,index:c})}),l):[]},dataset(r,e,t,n){const i=jp(e,r),s=t.axis||"xy",a=t.includeInvisible||!1;let o=t.intersect?bk(r,i,s,n,a):Ek(r,i,s,!1,n,a);if(o.length>0){const l=o[0].datasetIndex,A=r.getDatasetMeta(l).data;o=[];for(let c=0;c<A.length;++c)o.push({element:A[c],datasetIndex:l,index:c})}return o},point(r,e,t,n){const i=jp(e,r),s=t.axis||"xy",a=t.includeInvisible||!1;return bk(r,i,s,n,a)},nearest(r,e,t,n){const i=jp(e,r),s=t.axis||"xy",a=t.includeInvisible||!1;return Ek(r,i,s,t.intersect,n,a)},x(r,e,t,n){const i=jp(e,r);return XH(r,i,"x",t.intersect,n)},y(r,e,t,n){const i=jp(e,r);return XH(r,i,"y",t.intersect,n)}}};const mJ=["left","top","right","bottom"];function _2(r,e){return r.filter(t=>t.pos===e)}function YH(r,e){return r.filter(t=>mJ.indexOf(t.pos)===-1&&t.box.axis===e)}function b2(r,e){return r.sort((t,n)=>{const i=e?n:t,s=e?t:n;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function u_e(r){const e=[];let t,n,i,s,a,o;for(t=0,n=(r||[]).length;t<n;++t)i=r[t],{position:s,options:{stack:a,stackWeight:o=1}}=i,e.push({index:t,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&s+a,stackWeight:o});return e}function h_e(r){const e={};for(const t of r){const{stack:n,pos:i,stackWeight:s}=t;if(!n||!mJ.includes(i))continue;const a=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return e}function f_e(r,e){const t=h_e(r),{vBoxMaxWidth:n,hBoxMaxHeight:i}=e;let s,a,o;for(s=0,a=r.length;s<a;++s){o=r[s];const{fullSize:l}=o.box,A=t[o.stack],c=A&&o.stackWeight/A.weight;o.horizontal?(o.width=c?c*n:l&&e.availableWidth,o.height=i):(o.width=n,o.height=c?c*i:l&&e.availableHeight)}return t}function d_e(r){const e=u_e(r),t=b2(e.filter(A=>A.box.fullSize),!0),n=b2(_2(e,"left"),!0),i=b2(_2(e,"right")),s=b2(_2(e,"top"),!0),a=b2(_2(e,"bottom")),o=YH(e,"x"),l=YH(e,"y");return{fullSize:t,leftAndTop:n.concat(s),rightAndBottom:i.concat(l).concat(a).concat(o),chartArea:_2(e,"chartArea"),vertical:n.concat(i).concat(l),horizontal:s.concat(a).concat(o)}}function JH(r,e,t,n){return Math.max(r[t],e[t])+Math.max(r[n],e[n])}function vJ(r,e){r.top=Math.max(r.top,e.top),r.left=Math.max(r.left,e.left),r.bottom=Math.max(r.bottom,e.bottom),r.right=Math.max(r.right,e.right)}function p_e(r,e,t,n){const{pos:i,box:s}=t,a=r.maxPadding;if(!Pr(i)){t.size&&(r[i]-=t.size);const u=n[t.stack]||{size:0,count:1};u.size=Math.max(u.size,t.horizontal?s.height:s.width),t.size=u.size/u.count,r[i]+=t.size}s.getPadding&&vJ(a,s.getPadding());const o=Math.max(0,e.outerWidth-JH(a,r,"left","right")),l=Math.max(0,e.outerHeight-JH(a,r,"top","bottom")),A=o!==r.w,c=l!==r.h;return r.w=o,r.h=l,t.horizontal?{same:A,other:c}:{same:c,other:A}}function g_e(r){const e=r.maxPadding;function t(n){const i=Math.max(e[n]-r[n],0);return r[n]+=i,i}r.y+=t("top"),r.x+=t("left"),t("right"),t("bottom")}function m_e(r,e){const t=e.maxPadding;function n(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{s[a]=Math.max(e[a],t[a])}),s}return n(r?["left","right"]:["top","bottom"])}function fx(r,e,t,n){const i=[];let s,a,o,l,A,c;for(s=0,a=r.length,A=0;s<a;++s){o=r[s],l=o.box,l.update(o.width||e.w,o.height||e.h,m_e(o.horizontal,e));const{same:u,other:h}=p_e(e,t,o,n);A|=u&&i.length,c=c||h,l.fullSize||i.push(o)}return A&&fx(i,e,t,n)||c}function DB(r,e,t,n,i){r.top=t,r.left=e,r.right=e+n,r.bottom=t+i,r.width=n,r.height=i}function ZH(r,e,t,n){const i=t.padding;let{x:s,y:a}=e;for(const o of r){const l=o.box,A=n[o.stack]||{placed:0,weight:1},c=o.stackWeight/A.weight||1;if(o.horizontal){const u=e.w*c,h=A.size||l.height;q_(A.start)&&(a=A.start),l.fullSize?DB(l,i.left,a,t.outerWidth-i.right-i.left,h):DB(l,e.left+A.placed,a,u,h),A.start=a,A.placed+=u,a=l.bottom}else{const u=e.h*c,h=A.size||l.width;q_(A.start)&&(s=A.start),l.fullSize?DB(l,s,i.top,h,t.outerHeight-i.bottom-i.top):DB(l,s,e.top+A.placed,h,u),A.start=s,A.placed+=u,s=l.right}}e.x=s,e.y=a}var Wa={addBox(r,e){r.boxes||(r.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},r.boxes.push(e)},removeBox(r,e){const t=r.boxes?r.boxes.indexOf(e):-1;t!==-1&&r.boxes.splice(t,1)},configure(r,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(r,e,t,n){if(!r)return;const i=Ya(r.options.layout.padding),s=Math.max(e-i.width,0),a=Math.max(t-i.height,0),o=d_e(r.boxes),l=o.vertical,A=o.horizontal;dn(r.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const c=l.reduce((p,v)=>v.box.options&&v.box.options.display===!1?p:p+1,0)||1,u=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/c,hBoxMaxHeight:a/2}),h=Object.assign({},i);vJ(h,Ya(n));const f=Object.assign({maxPadding:h,w:s,h:a,x:i.left,y:i.top},i),g=f_e(l.concat(A),u);fx(o.fullSize,f,u,g),fx(l,f,u,g),fx(A,f,u,g)&&fx(l,f,u,g),g_e(f),ZH(o.leftAndTop,f,u,g),f.x+=f.w,f.y+=f.h,ZH(o.rightAndBottom,f,u,g),r.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},dn(o.chartArea,p=>{const v=p.box;Object.assign(v,r.chartArea),v.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class wJ{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,i){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):n)}}isAttached(e){return!0}updateConfig(e){}}class v_e extends wJ{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const C5="$chartjs",w_e={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},e7=r=>r===null||r==="";function y_e(r,e){const t=r.style,n=r.getAttribute("height"),i=r.getAttribute("width");if(r[C5]={initial:{height:n,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",e7(i)){const s=UH(r,"width");s!==void 0&&(r.width=s)}if(e7(n))if(r.style.height==="")r.height=r.width/(e||2);else{const s=UH(r,"height");s!==void 0&&(r.height=s)}return r}const yJ=xxe?{passive:!0}:!1;function x_e(r,e,t){r&&r.addEventListener(e,t,yJ)}function __e(r,e,t){r&&r.canvas&&r.canvas.removeEventListener(e,t,yJ)}function b_e(r,e){const t=w_e[r.type]||r.type,{x:n,y:i}=jp(r,e);return{type:t,chart:e,native:r,x:n!==void 0?n:null,y:i!==void 0?i:null}}function nF(r,e){for(const t of r)if(t===e||t.contains(e))return!0}function E_e(r,e,t){const n=r.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||nF(o.addedNodes,n),a=a&&!nF(o.removedNodes,n);a&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function C_e(r,e,t){const n=r.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||nF(o.removedNodes,n),a=a&&!nF(o.addedNodes,n);a&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const J_=new Map;let t7=0;function xJ(){const r=window.devicePixelRatio;r!==t7&&(t7=r,J_.forEach((e,t)=>{t.currentDevicePixelRatio!==r&&e()}))}function B_e(r,e){J_.size||window.addEventListener("resize",xJ),J_.set(r,e)}function S_e(r){J_.delete(r),J_.size||window.removeEventListener("resize",xJ)}function T_e(r,e,t){const n=r.canvas,i=n&&uM(n);if(!i)return;const s=XY((o,l)=>{const A=i.clientWidth;t(o,l),A<i.clientWidth&&t()},window),a=new ResizeObserver(o=>{const l=o[0],A=l.contentRect.width,c=l.contentRect.height;A===0&&c===0||s(A,c)});return a.observe(i),B_e(r,s),a}function Ck(r,e,t){t&&t.disconnect(),e==="resize"&&S_e(r)}function F_e(r,e,t){const n=r.canvas,i=XY(s=>{r.ctx!==null&&t(b_e(s,r))},r);return x_e(n,e,i),i}class I_e extends wJ{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(y_e(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[C5])return!1;const n=t[C5].initial;["height","width"].forEach(s=>{const a=n[s];Tr(a)?t.removeAttribute(s):t.setAttribute(s,a)});const i=n.style||{};return Object.keys(i).forEach(s=>{t.style[s]=i[s]}),t.width=t.width,delete t[C5],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),a={attach:E_e,detach:C_e,resize:T_e}[t]||F_e;i[t]=a(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),i=n[t];if(!i)return;({attach:Ck,detach:Ck,resize:Ck}[t]||__e)(e,t,i),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,i){return yxe(e,t,n,i)}isAttached(e){const t=e&&uM(e);return!!(t&&t.isConnected)}}function k_e(r){return!cM()||typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas?v_e:I_e}class Sc{constructor(){Ce(this,"x");Ce(this,"y");Ce(this,"active",!1);Ce(this,"options");Ce(this,"$animations")}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return by(this.x)&&by(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const i={};return e.forEach(s=>{i[s]=n[s]&&n[s].active()?n[s]._to:this[s]}),i}}Ce(Sc,"defaults",{}),Ce(Sc,"defaultRoutes");function L_e(r,e){const t=r.options.ticks,n=P_e(r),i=Math.min(t.maxTicksLimit||n,n),s=t.major.enabled?D_e(e):[],a=s.length,o=s[0],l=s[a-1],A=[];if(a>i)return N_e(e,A,s,a/i),A;const c=R_e(s,e,i);if(a>0){let u,h;const f=a>1?Math.round((l-o)/(a-1)):null;for(NB(e,A,c,Tr(f)?0:o-f,o),u=0,h=a-1;u<h;u++)NB(e,A,c,s[u],s[u+1]);return NB(e,A,c,l,Tr(f)?e.length:l+f),A}return NB(e,A,c),A}function P_e(r){const e=r.options.offset,t=r._tickSize(),n=r._length/t+(e?0:1),i=r._maxLength/t;return Math.floor(Math.min(n,i))}function R_e(r,e,t){const n=U_e(r),i=e.length/t;if(!n)return Math.max(i,1);const s=b2e(n);for(let a=0,o=s.length-1;a<o;a++){const l=s[a];if(l>i)return l}return Math.max(i,1)}function D_e(r){const e=[];let t,n;for(t=0,n=r.length;t<n;t++)r[t].major&&e.push(t);return e}function N_e(r,e,t,n){let i=0,s=t[0],a;for(n=Math.ceil(n),a=0;a<r.length;a++)a===s&&(e.push(r[a]),i++,s=t[i*n])}function NB(r,e,t,n,i){const s=cr(n,0),a=Math.min(cr(i,r.length),r.length);let o=0,l,A,c;for(t=Math.ceil(t),i&&(l=i-n,t=l/Math.floor(l/t)),c=s;c<0;)o++,c=Math.round(s+o*t);for(A=Math.max(s,0);A<a;A++)A===c&&(e.push(r[A]),o++,c=Math.round(s+o*t))}function U_e(r){const e=r.length;let t,n;if(e<2)return!1;for(n=r[0],t=1;t<e;++t)if(r[t]-r[t-1]!==n)return!1;return n}const M_e=r=>r==="left"?"right":r==="right"?"left":r,r7=(r,e,t)=>e==="top"||e==="left"?r[e]+t:r[e]-t,n7=(r,e)=>Math.min(e||r,r);function i7(r,e){const t=[],n=r.length/e,i=r.length;let s=0;for(;s<i;s+=n)t.push(r[Math.floor(s)]);return t}function O_e(r,e,t){const n=r.ticks.length,i=Math.min(e,n-1),s=r._startPixel,a=r._endPixel,o=1e-6;let l=r.getPixelForTick(i),A;if(!(t&&(n===1?A=Math.max(l-s,a-l):e===0?A=(r.getPixelForTick(1)-l)/2:A=(l-r.getPixelForTick(i-1))/2,l+=i<e?A:-A,l<s-o||l>a+o)))return l}function Q_e(r,e){dn(r,t=>{const n=t.gc,i=n.length/2;let s;if(i>e){for(s=0;s<i;++s)delete t.data[n[s]];n.splice(0,i)}})}function E2(r){return r.drawTicks?r.tickLength:0}function s7(r,e){if(!r.display)return 0;const t=Cs(r.font,e),n=Ya(r.padding);return(oi(r.text)?r.text.length:1)*t.lineHeight+n.height}function H_e(r,e){return pp(r,{scale:e,type:"scale"})}function V_e(r,e,t){return pp(r,{tick:t,index:e,type:"tick"})}function j_e(r,e,t){let n=iM(r);return(t&&e!=="right"||!t&&e==="right")&&(n=M_e(n)),n}function K_e(r,e,t,n){const{top:i,left:s,bottom:a,right:o,chart:l}=r,{chartArea:A,scales:c}=l;let u=0,h,f,g;const p=a-i,v=o-s;if(r.isHorizontal()){if(f=Ua(n,s,o),Pr(t)){const m=Object.keys(t)[0],x=t[m];g=c[m].getPixelForValue(x)+p-e}else t==="center"?g=(A.bottom+A.top)/2+p-e:g=r7(r,t,e);h=o-s}else{if(Pr(t)){const m=Object.keys(t)[0],x=t[m];f=c[m].getPixelForValue(x)-v+e}else t==="center"?f=(A.left+A.right)/2-v+e:f=r7(r,t,e);g=Ua(n,a,i),u=t==="left"?-Ji:Ji}return{titleX:f,titleY:g,maxWidth:h,rotation:u}}class o1 extends Sc{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:i}=this;return e=vl(e,Number.POSITIVE_INFINITY),t=vl(t,Number.NEGATIVE_INFINITY),n=vl(n,Number.POSITIVE_INFINITY),i=vl(i,Number.NEGATIVE_INFINITY),{min:vl(e,n),max:vl(t,i),minDefined:Di(e),maxDefined:Di(t)}}getMinMax(e){let{min:t,max:n,minDefined:i,maxDefined:s}=this.getUserBounds(),a;if(i&&s)return{min:t,max:n};const o=this.getMatchingVisibleMetas();for(let l=0,A=o.length;l<A;++l)a=o[l].controller.getMinMax(this,e),i||(t=Math.min(t,a.min)),s||(n=Math.max(n,a.max));return t=s&&t>n?n:t,n=i&&t>n?t:n,{min:vl(t,vl(n,t)),max:vl(n,vl(t,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Hn(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:i,grace:s,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=J2e(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?i7(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=L_e(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,n;this.isHorizontal()?(t=this.left,n=this.right):(t=this.top,n=this.bottom,e=!e),this._startPixel=t,this._endPixel=n,this._reversePixels=e,this._length=n-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Hn(this.options.afterUpdate,[this])}beforeSetDimensions(){Hn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Hn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Hn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Hn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,i,s;for(n=0,i=e.length;n<i;n++)s=e[n],s.label=Hn(t.callback,[s.value,n,e],this)}afterTickToLabelConversion(){Hn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Hn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=n7(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,s=t.maxRotation;let a=i,o,l,A;if(!this._isVisible()||!t.display||i>=s||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const c=this._getLabelSizes(),u=c.widest.width,h=c.highest.height,f=js(this.chart.width-u,0,this.maxWidth);o=e.offset?this.maxWidth/n:f/(n-1),u+6>o&&(o=f/(n-(e.offset?.5:1)),l=this.maxHeight-E2(e.grid)-t.padding-s7(e.title,this.chart.options.font),A=Math.sqrt(u*u+h*h),a=rM(Math.min(Math.asin(js((c.highest.height+6)/o,-1,1)),Math.asin(js(l/A,-1,1))-Math.asin(js(h/A,-1,1)))),a=Math.max(i,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){Hn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Hn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:i,grid:s}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const l=s7(i,t.options.font);if(o?(e.width=this.maxWidth,e.height=E2(s)+l):(e.height=this.maxHeight,e.width=E2(s)+l),n.display&&this.ticks.length){const{first:A,last:c,widest:u,highest:h}=this._getLabelSizes(),f=n.padding*2,g=wc(this.labelRotation),p=Math.cos(g),v=Math.sin(g);if(o){const m=n.mirror?0:v*u.width+p*h.height;e.height=Math.min(this.maxHeight,e.height+m+f)}else{const m=n.mirror?0:p*u.width+v*h.height;e.width=Math.min(this.maxWidth,e.width+m+f)}this._calculatePadding(A,c,v,p)}}this._handleMargins(),o?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,i){const{ticks:{align:s,padding:a},position:o}=this.options,l=this.labelRotation!==0,A=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const c=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,f=0;l?A?(h=i*e.width,f=n*t.height):(h=n*e.height,f=i*t.width):s==="start"?f=t.width:s==="end"?h=e.width:s!=="inner"&&(h=e.width/2,f=t.width/2),this.paddingLeft=Math.max((h-c+a)*this.width/(this.width-c),0),this.paddingRight=Math.max((f-u+a)*this.width/(this.width-u),0)}else{let c=t.height/2,u=e.height/2;s==="start"?(c=0,u=e.height):s==="end"&&(c=t.height,u=0),this.paddingTop=c+a,this.paddingBottom=u+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Hn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,n;for(t=0,n=e.length;t<n;t++)Tr(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=i7(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:i,_longestTextCache:s}=this,a=[],o=[],l=Math.floor(t/n7(t,n));let A=0,c=0,u,h,f,g,p,v,m,x,_,S,k;for(u=0;u<t;u+=l){if(g=e[u].label,p=this._resolveTickFontOptions(u),i.font=v=p.string,m=s[v]=s[v]||{data:{},gc:[]},x=p.lineHeight,_=S=0,!Tr(g)&&!oi(g))_=tF(i,m.data,m.gc,_,g),S=x;else if(oi(g))for(h=0,f=g.length;h<f;++h)k=g[h],!Tr(k)&&!oi(k)&&(_=tF(i,m.data,m.gc,_,k),S+=x);a.push(_),o.push(S),A=Math.max(_,A),c=Math.max(S,c)}Q_e(s,t);const R=a.indexOf(A),B=o.indexOf(c),E=b=>({width:a[b]||0,height:o[b]||0});return{first:E(0),last:E(t-1),widest:E(R),highest:E(B),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return S2e(this._alignToPixels?Lp(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=V_e(this.getContext(),e,n))}return this.$context||(this.$context=H_e(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=wc(this.labelRotation),n=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,o=s?s.widest.width+a:0,l=s?s.highest.height+a:0;return this.isHorizontal()?l*n>o*i?o/n:l/i:l*i<o*n?l/n:o/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,i=this.options,{grid:s,position:a,border:o}=i,l=s.offset,A=this.isHorizontal(),u=this.ticks.length+(l?1:0),h=E2(s),f=[],g=o.setContext(this.getContext()),p=g.display?g.width:0,v=p/2,m=function(oe){return Lp(n,oe,p)};let x,_,S,k,R,B,E,b,I,T,F,D;if(a==="top")x=m(this.bottom),B=this.bottom-h,b=x-v,T=m(e.top)+v,D=e.bottom;else if(a==="bottom")x=m(this.top),T=e.top,D=m(e.bottom)-v,B=x+v,b=this.top+h;else if(a==="left")x=m(this.right),R=this.right-h,E=x-v,I=m(e.left)+v,F=e.right;else if(a==="right")x=m(this.left),I=e.left,F=m(e.right)-v,R=x+v,E=this.left+h;else if(t==="x"){if(a==="center")x=m((e.top+e.bottom)/2+.5);else if(Pr(a)){const oe=Object.keys(a)[0],te=a[oe];x=m(this.chart.scales[oe].getPixelForValue(te))}T=e.top,D=e.bottom,B=x+v,b=B+h}else if(t==="y"){if(a==="center")x=m((e.left+e.right)/2);else if(Pr(a)){const oe=Object.keys(a)[0],te=a[oe];x=m(this.chart.scales[oe].getPixelForValue(te))}R=x-v,E=R-h,I=e.left,F=e.right}const q=cr(i.ticks.maxTicksLimit,u),ie=Math.max(1,Math.ceil(u/q));for(_=0;_<u;_+=ie){const oe=this.getContext(_),te=s.setContext(oe),re=o.setContext(oe),W=te.lineWidth,pe=te.color,_e=re.dash||[],P=re.dashOffset,O=te.tickWidth,H=te.tickColor,K=te.tickBorderDash||[],Z=te.tickBorderDashOffset;S=O_e(this,_,l),S!==void 0&&(k=Lp(n,S,W),A?R=E=I=F=k:B=b=T=D=k,f.push({tx1:R,ty1:B,tx2:E,ty2:b,x1:I,y1:T,x2:F,y2:D,width:W,color:pe,borderDash:_e,borderDashOffset:P,tickWidth:O,tickColor:H,tickBorderDash:K,tickBorderDashOffset:Z}))}return this._ticksLength=u,this._borderValue=x,f}_computeLabelItems(e){const t=this.axis,n=this.options,{position:i,ticks:s}=n,a=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:A,padding:c,mirror:u}=s,h=E2(n.grid),f=h+c,g=u?-c:f,p=-wc(this.labelRotation),v=[];let m,x,_,S,k,R,B,E,b,I,T,F,D="middle";if(i==="top")R=this.bottom-g,B=this._getXAxisLabelAlignment();else if(i==="bottom")R=this.top+g,B=this._getXAxisLabelAlignment();else if(i==="left"){const ie=this._getYAxisLabelAlignment(h);B=ie.textAlign,k=ie.x}else if(i==="right"){const ie=this._getYAxisLabelAlignment(h);B=ie.textAlign,k=ie.x}else if(t==="x"){if(i==="center")R=(e.top+e.bottom)/2+f;else if(Pr(i)){const ie=Object.keys(i)[0],oe=i[ie];R=this.chart.scales[ie].getPixelForValue(oe)+f}B=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")k=(e.left+e.right)/2-f;else if(Pr(i)){const ie=Object.keys(i)[0],oe=i[ie];k=this.chart.scales[ie].getPixelForValue(oe)}B=this._getYAxisLabelAlignment(h).textAlign}t==="y"&&(l==="start"?D="top":l==="end"&&(D="bottom"));const q=this._getLabelSizes();for(m=0,x=o.length;m<x;++m){_=o[m],S=_.label;const ie=s.setContext(this.getContext(m));E=this.getPixelForTick(m)+s.labelOffset,b=this._resolveTickFontOptions(m),I=b.lineHeight,T=oi(S)?S.length:1;const oe=T/2,te=ie.color,re=ie.textStrokeColor,W=ie.textStrokeWidth;let pe=B;a?(k=E,B==="inner"&&(m===x-1?pe=this.options.reverse?"left":"right":m===0?pe=this.options.reverse?"right":"left":pe="center"),i==="top"?A==="near"||p!==0?F=-T*I+I/2:A==="center"?F=-q.highest.height/2-oe*I+I:F=-q.highest.height+I/2:A==="near"||p!==0?F=I/2:A==="center"?F=q.highest.height/2-oe*I:F=q.highest.height-T*I,u&&(F*=-1),p!==0&&!ie.showLabelBackdrop&&(k+=I/2*Math.sin(p))):(R=E,F=(1-T)*I/2);let _e;if(ie.showLabelBackdrop){const P=Ya(ie.backdropPadding),O=q.heights[m],H=q.widths[m];let K=F-P.top,Z=0-P.left;switch(D){case"middle":K-=O/2;break;case"bottom":K-=O;break}switch(B){case"center":Z-=H/2;break;case"right":Z-=H;break;case"inner":m===x-1?Z-=H:m>0&&(Z-=H/2);break}_e={left:Z,top:K,width:H+P.width,height:O+P.height,color:ie.backdropColor}}v.push({label:S,font:b,textOffset:F,options:{rotation:p,color:te,strokeColor:re,strokeWidth:W,textAlign:pe,textBaseline:D,translation:[k,R],backdrop:_e}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-wc(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:i,padding:s}}=this.options,a=this._getLabelSizes(),o=e+s,l=a.widest.width;let A,c;return t==="left"?i?(c=this.right+s,n==="near"?A="left":n==="center"?(A="center",c+=l/2):(A="right",c+=l)):(c=this.right-o,n==="near"?A="right":n==="center"?(A="center",c-=l/2):(A="left",c=this.left)):t==="right"?i?(c=this.left+s,n==="near"?A="right":n==="center"?(A="center",c-=l/2):(A="left",c-=l)):(c=this.left+o,n==="near"?A="left":n==="center"?(A="center",c+=l/2):(A="right",c=this.right)):A="right",{textAlign:A,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:i,width:s,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,i,s,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const o=(l,A,c)=>{!c.width||!c.color||(n.save(),n.lineWidth=c.width,n.strokeStyle=c.color,n.setLineDash(c.borderDash||[]),n.lineDashOffset=c.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(A.x,A.y),n.stroke(),n.restore())};if(t.display)for(s=0,a=i.length;s<a;++s){const l=i[s];t.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),t.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:i}}=this,s=n.setContext(this.getContext()),a=n.display?s.width:0;if(!a)return;const o=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let A,c,u,h;this.isHorizontal()?(A=Lp(e,this.left,a)-a/2,c=Lp(e,this.right,o)+o/2,u=h=l):(u=Lp(e,this.top,a)-a/2,h=Lp(e,this.bottom,o)+o/2,A=c=l),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(A,u),t.lineTo(c,h),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&P4(n,i);const s=this.getLabelItems(e);for(const a of s){const o=a.options,l=a.font,A=a.label,c=a.textOffset;Wm(n,A,0,c,l,o)}i&&R4(n)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:i}}=this;if(!n.display)return;const s=Cs(n.font),a=Ya(n.padding),o=n.align;let l=s.lineHeight/2;t==="bottom"||t==="center"||Pr(t)?(l+=a.bottom,oi(n.text)&&(l+=s.lineHeight*(n.text.length-1))):l+=a.top;const{titleX:A,titleY:c,maxWidth:u,rotation:h}=K_e(this,l,t,o);Wm(e,n.text,0,0,s,{color:n.color,maxWidth:u,rotation:h,textAlign:j_e(o,t,i),textBaseline:"middle",translation:[A,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=cr(e.grid&&e.grid.z,-1),i=cr(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==o1.prototype.draw?[{z:t,draw:s=>{this.draw(s)}}]:[{z:n,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let s,a;for(s=0,a=t.length;s<a;++s){const o=t[s];o[n]===this.id&&(!e||o.type===e)&&i.push(o)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Cs(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class UB{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;G_e(t)&&(n=this.register(t));const i=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,z_e(e,a,n),this.override&&li.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,i=this.scope;n in t&&delete t[n],i&&n in li[i]&&(delete li[i][n],this.override&&delete zm[n])}}function z_e(r,e,t){const n=$_(Object.create(null),[t?li.get(t):{},li.get(e),r.defaults]);li.set(e,n),r.defaultRoutes&&W_e(e,r.defaultRoutes),r.descriptors&&li.describe(e,r.descriptors)}function W_e(r,e){Object.keys(e).forEach(t=>{const n=t.split("."),i=n.pop(),s=[r].concat(n).join("."),a=e[t].split("."),o=a.pop(),l=a.join(".");li.route(s,i,l,o)})}function G_e(r){return"id"in r&&"defaults"in r}class $_e{constructor(){this.controllers=new UB(Ec,"datasets",!0),this.elements=new UB(Sc,"elements"),this.plugins=new UB(Object,"plugins"),this.scales=new UB(o1,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,n){[...t].forEach(i=>{const s=n||this._getRegistryForType(i);n||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):dn(i,a=>{const o=n||this._getRegistryForType(a);this._exec(e,o,a)})})}_exec(e,t,n){const i=tM(e);Hn(n["before"+i],[],n),t[e](n),Hn(n["after"+i],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return i}}var tu=new $_e;class q_e{constructor(){this._init=void 0}notify(e,t,n,i){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const s=i?this._descriptors(e).filter(i):this._descriptors(e),a=this._notify(s,e,t,n);return t==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,t,n,i){i=i||{};for(const s of e){const a=s.plugin,o=a[n],l=[t,i,s.options];if(Hn(o,l,a)===!1&&i.cancelable)return!1}return!0}invalidate(){Tr(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,i=cr(n.options&&n.options.plugins,{}),s=X_e(n);return i===!1&&!t?[]:J_e(e,s,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,i=(s,a)=>s.filter(o=>!a.some(l=>o.plugin.id===l.plugin.id));this._notify(i(t,n),e,"stop"),this._notify(i(n,t),e,"start")}}function X_e(r){const e={},t=[],n=Object.keys(tu.plugins.items);for(let s=0;s<n.length;s++)t.push(tu.getPlugin(n[s]));const i=r.plugins||[];for(let s=0;s<i.length;s++){const a=i[s];t.indexOf(a)===-1&&(t.push(a),e[a.id]=!0)}return{plugins:t,localIds:e}}function Y_e(r,e){return!e&&r===!1?null:r===!0?{}:r}function J_e(r,{plugins:e,localIds:t},n,i){const s=[],a=r.getContext();for(const o of e){const l=o.id,A=Y_e(n[l],i);A!==null&&s.push({plugin:o,options:Z_e(r.config,{plugin:o,local:t[l]},A,a)})}return s}function Z_e(r,{plugin:e,local:t},n,i){const s=r.pluginScopeKeys(e),a=r.getOptionScopes(n,s);return t&&e.defaults&&a.push(e.defaults),r.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function RR(r,e){const t=li.datasets[r]||{};return((e.datasets||{})[r]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function ebe(r,e){let t=r;return r==="_index_"?t=e:r==="_value_"&&(t=e==="x"?"y":"x"),t}function tbe(r,e){return r===e?"_index_":"_value_"}function a7(r){if(r==="x"||r==="y"||r==="r")return r}function rbe(r){if(r==="top"||r==="bottom")return"x";if(r==="left"||r==="right")return"y"}function DR(r,...e){if(a7(r))return r;for(const t of e){const n=t.axis||rbe(t.position)||r.length>1&&a7(r[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${r}' axis. Please provide 'axis' or 'position' option.`)}function o7(r,e,t){if(t[e+"AxisID"]===r)return{axis:e}}function nbe(r,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(n=>n.xAxisID===r||n.yAxisID===r);if(t.length)return o7(r,"x",t[0])||o7(r,"y",t[0])}return{}}function ibe(r,e){const t=zm[r.type]||{scales:{}},n=e.scales||{},i=RR(r.type,e),s=Object.create(null);return Object.keys(n).forEach(a=>{const o=n[a];if(!Pr(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const l=DR(a,o,nbe(a,r),li.scales[o.type]),A=tbe(l,i),c=t.scales||{};s[a]=Gx(Object.create(null),[{axis:l},o,c[l],c[A]])}),r.data.datasets.forEach(a=>{const o=a.type||r.type,l=a.indexAxis||RR(o,e),c=(zm[o]||{}).scales||{};Object.keys(c).forEach(u=>{const h=ebe(u,l),f=a[h+"AxisID"]||h;s[f]=s[f]||Object.create(null),Gx(s[f],[{axis:h},n[f],c[u]])})}),Object.keys(s).forEach(a=>{const o=s[a];Gx(o,[li.scales[o.type],li.scale])}),s}function _J(r){const e=r.options||(r.options={});e.plugins=cr(e.plugins,{}),e.scales=ibe(r,e)}function bJ(r){return r=r||{},r.datasets=r.datasets||[],r.labels=r.labels||[],r}function sbe(r){return r=r||{},r.data=bJ(r.data),_J(r),r}const l7=new Map,EJ=new Set;function MB(r,e){let t=l7.get(r);return t||(t=e(),l7.set(r,t),EJ.add(t)),t}const C2=(r,e,t)=>{const n=sp(e,t);n!==void 0&&r.add(n)};class abe{constructor(e){this._config=sbe(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=bJ(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),_J(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return MB(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return MB(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return MB(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,n=this.type;return MB(`${n}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const n=this._scopeCache;let i=n.get(e);return(!i||t)&&(i=new Map,n.set(e,i)),i}getOptionScopes(e,t,n){const{options:i,type:s}=this,a=this._cachedScopes(e,n),o=a.get(t);if(o)return o;const l=new Set;t.forEach(c=>{e&&(l.add(e),c.forEach(u=>C2(l,e,u))),c.forEach(u=>C2(l,i,u)),c.forEach(u=>C2(l,zm[s]||{},u)),c.forEach(u=>C2(l,li,u)),c.forEach(u=>C2(l,kR,u))});const A=Array.from(l);return A.length===0&&A.push(Object.create(null)),EJ.has(t)&&a.set(t,A),A}chartOptionScopes(){const{options:e,type:t}=this;return[e,zm[t]||{},li.datasets[t]||{},{type:t},li,kR]}resolveNamedOptions(e,t,n,i=[""]){const s={$shared:!0},{resolver:a,subPrefixes:o}=A7(this._resolverCache,e,i);let l=a;if(lbe(a,t)){s.$shared=!1,n=ap(n)?n():n;const A=this.createResolver(e,n,o);l=Ey(a,n,A)}for(const A of t)s[A]=l[A];return s}createResolver(e,t,n=[""],i){const{resolver:s}=A7(this._resolverCache,e,n);return Pr(t)?Ey(s,t,void 0,i):s}}function A7(r,e,t){let n=r.get(e);n||(n=new Map,r.set(e,n));const i=t.join();let s=n.get(i);return s||(s={resolver:oM(e,t),subPrefixes:t.filter(o=>!o.toLowerCase().includes("hover"))},n.set(i,s)),s}const obe=r=>Pr(r)&&Object.getOwnPropertyNames(r).some(e=>ap(r[e]));function lbe(r,e){const{isScriptable:t,isIndexable:n}=rJ(r);for(const i of e){const s=t(i),a=n(i),o=(a||s)&&r[i];if(s&&(ap(o)||obe(o))||a&&oi(o))return!0}return!1}var Abe="4.5.1";const cbe=["top","bottom","left","right","chartArea"];function c7(r,e){return r==="top"||r==="bottom"||cbe.indexOf(r)===-1&&e==="x"}function u7(r,e){return function(t,n){return t[r]===n[r]?t[e]-n[e]:t[r]-n[r]}}function h7(r){const e=r.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Hn(t&&t.onComplete,[r],e)}function ube(r){const e=r.chart,t=e.options.animation;Hn(t&&t.onProgress,[r],e)}function CJ(r){return cM()&&typeof r=="string"?r=document.getElementById(r):r&&r.length&&(r=r[0]),r&&r.canvas&&(r=r.canvas),r}const B5={},f7=r=>{const e=CJ(r);return Object.values(B5).filter(t=>t.canvas===e).pop()};function hbe(r,e,t){const n=Object.keys(r);for(const i of n){const s=+i;if(s>=e){const a=r[i];delete r[i],(t>0||s>e)&&(r[s+t]=a)}}}function fbe(r,e,t,n){return!t||r.type==="mouseout"?null:n?e:r}class Cu{static register(...e){tu.add(...e),d7()}static unregister(...e){tu.remove(...e),d7()}constructor(e,t){const n=this.config=new abe(t),i=CJ(e),s=f7(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||k_e(i)),this.platform.updateConfig(n);const o=this.platform.acquireContext(i,a.aspectRatio),l=o&&o.canvas,A=l&&l.height,c=l&&l.width;if(this.id=d2e(),this.ctx=o,this.canvas=l,this.width=c,this.height=A,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new q_e,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=k2e(u=>this.update(u),a.resizeDelay||0),this._dataChanges=[],B5[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}dh.listen(this,"complete",h7),dh.listen(this,"progress",ube),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:i,_aspectRatio:s}=this;return Tr(e)?t&&s?s:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return tu}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():NH(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return PH(this.canvas,this.ctx),this}stop(){return dh.stop(this),this}resize(e,t){dh.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,i=this.canvas,s=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,e,t,s),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,NH(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),Hn(n.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};dn(t,(n,i)=>{n.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,i=Object.keys(n).reduce((a,o)=>(a[o]=!1,a),{});let s=[];t&&(s=s.concat(Object.keys(t).map(a=>{const o=t[a],l=DR(a,o),A=l==="r",c=l==="x";return{options:o,dposition:A?"chartArea":c?"bottom":"left",dtype:A?"radialLinear":c?"category":"linear"}}))),dn(s,a=>{const o=a.options,l=o.id,A=DR(l,o),c=cr(o.type,a.dtype);(o.position===void 0||c7(o.position,A)!==c7(a.dposition))&&(o.position=a.dposition),i[l]=!0;let u=null;if(l in n&&n[l].type===c)u=n[l];else{const h=tu.getScale(c);u=new h({id:l,type:c,ctx:this.ctx,chart:this}),n[u.id]=u}u.init(o,e)}),dn(i,(a,o)=>{a||delete n[o]}),dn(n,a=>{Wa.configure(this,a,a.options),Wa.addBox(this,a)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((i,s)=>i.index-s.index),n>t){for(let i=t;i<n;++i)this._destroyDatasetMeta(i);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(u7("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((n,i)=>{t.filter(s=>s===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=t.length;n<i;n++){const s=t[n];let a=this.getDatasetMeta(n);const o=s.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(n),a=this.getDatasetMeta(n)),a.type=o,a.indexAxis=s.indexAxis||RR(o,this.options),a.order=s.order||0,a.index=n,a.label=""+s.label,a.visible=this.isDatasetVisible(n),a.controller)a.controller.updateIndex(n),a.controller.linkScales();else{const l=tu.getController(o),{datasetElementType:A,dataElementType:c}=li.datasets[o];Object.assign(l,{dataElementType:tu.getElement(c),datasetElementType:A&&tu.getElement(A)}),a.controller=new l(this,n),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){dn(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let A=0,c=this.data.datasets.length;A<c;A++){const{controller:u}=this.getDatasetMeta(A),h=!i&&s.indexOf(u)===-1;u.buildOrUpdateElements(h),a=Math.max(+u.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),i||dn(s,A=>{A.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(u7("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){dn(this.scales,e=>{Wa.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!EH(t,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:s}of t){const a=n==="_removeElements"?-s:s;hbe(e,i,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=s=>new Set(e.filter(a=>a[0]===s).map((a,o)=>o+","+a.splice(1).join(","))),i=n(0);for(let s=1;s<t;s++)if(!EH(i,n(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Wa.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],dn(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,n=this.data.datasets.length;t<n;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,ap(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),i={meta:n,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(dh.has(this)?this.attached&&!dh.running(this)&&dh.start(this):(this.draw(),h7({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let i,s;for(i=0,s=t.length;i<s;++i){const a=t[i];(!e||a.visible)&&n.push(a)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n={meta:e,index:e.index,cancelable:!0},i=fJ(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(i&&P4(t,i),e.controller.draw(),i&&R4(t),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return ff(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,i){const s=c_e.modes[t];return typeof s=="function"?s(this,e,n,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let i=n.filter(s=>s&&s._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=pp(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!t.hidden}setDatasetVisibility(e,t){const n=this.getDatasetMeta(e);n.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const i=n?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,i);q_(t)?(s.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),a.update(s,{visible:n}),this.update(o=>o.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),dh.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),PH(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete B5[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(s,a)=>{t.addEventListener(this,s,a),e[s]=a},i=(s,a,o)=>{s.offsetX=a,s.offsetY=o,this._eventHandler(s)};dn(this.options.events,s=>n(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(l,A)=>{t.addEventListener(this,l,A),e[l]=A},i=(l,A)=>{e[l]&&(t.removeEventListener(this,l,A),delete e[l])},s=(l,A)=>{this.canvas&&this.resize(l,A)};let a;const o=()=>{i("attach",o),this.attached=!0,this.resize(),n("resize",s),n("detach",a)};a=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),n("attach",o)},t.isAttached(this.canvas)?o():a()}unbindEvents(){dn(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},dn(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const i=n?"set":"remove";let s,a,o,l;for(t==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),o=0,l=e.length;o<l;++o){a=e[o];const A=a&&this.getDatasetMeta(a.datasetIndex).controller;A&&A[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map(({datasetIndex:s,index:a})=>{const o=this.getDatasetMeta(s);if(!o)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:o.data[a],index:a}});!JT(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,n){const i=this.options.hover,s=(l,A)=>l.filter(c=>!A.some(u=>c.datasetIndex===u.datasetIndex&&c.index===u.index)),a=s(t,e),o=n?e:s(e,t);a.length&&this.updateHoverStyle(a,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const s=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(s||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:i=[],options:s}=this,a=t,o=this._getActiveElements(e,i,n,a),l=y2e(e),A=fbe(e,this._lastEvent,n,l);n&&(this._lastEvent=null,Hn(s.onHover,[e,o,this],this),l&&Hn(s.onClick,[e,o,this],this));const c=!JT(o,i);return(c||t)&&(this._active=o,this._updateHoverStyles(o,i,t)),this._lastEvent=A,c}_getActiveElements(e,t,n,i){if(e.type==="mouseout")return[];if(!n)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}}Ce(Cu,"defaults",li),Ce(Cu,"instances",B5),Ce(Cu,"overrides",zm),Ce(Cu,"registry",tu),Ce(Cu,"version",Abe),Ce(Cu,"getChart",f7);function d7(){return dn(Cu.instances,r=>r._plugins.invalidate())}function dbe(r,e,t){const{startAngle:n,x:i,y:s,outerRadius:a,innerRadius:o,options:l}=e,{borderWidth:A,borderJoinStyle:c}=l,u=Math.min(A/a,Qa(n-t));if(r.beginPath(),r.arc(i,s,a-A/2,n+u/2,t-u/2),o>0){const h=Math.min(A/o,Qa(n-t));r.arc(i,s,o+A/2,t-h/2,n+h/2,!0)}else{const h=Math.min(A/2,a*Qa(n-t));if(c==="round")r.arc(i,s,h,t-Zr/2,n+Zr/2,!0);else if(c==="bevel"){const f=2*h*h,g=-f*Math.cos(t+Zr/2)+i,p=-f*Math.sin(t+Zr/2)+s,v=f*Math.cos(n+Zr/2)+i,m=f*Math.sin(n+Zr/2)+s;r.lineTo(g,p),r.lineTo(v,m)}}r.closePath(),r.moveTo(0,0),r.rect(0,0,r.canvas.width,r.canvas.height),r.clip("evenodd")}function pbe(r,e,t){const{startAngle:n,pixelMargin:i,x:s,y:a,outerRadius:o,innerRadius:l}=e;let A=i/o;r.beginPath(),r.arc(s,a,o,n-A,t+A),l>i?(A=i/l,r.arc(s,a,l,t+A,n-A,!0)):r.arc(s,a,i,t+Ji,n-Ji),r.closePath(),r.clip()}function gbe(r){return aM(r,["outerStart","outerEnd","innerStart","innerEnd"])}function mbe(r,e,t,n){const i=gbe(r.options.borderRadius),s=(t-e)/2,a=Math.min(s,n*e/2),o=l=>{const A=(t-Math.min(s,l))*n/2;return js(l,0,Math.min(s,A))};return{outerStart:o(i.outerStart),outerEnd:o(i.outerEnd),innerStart:js(i.innerStart,0,a),innerEnd:js(i.innerEnd,0,a)}}function y1(r,e,t,n){return{x:t+r*Math.cos(e),y:n+r*Math.sin(e)}}function iF(r,e,t,n,i,s){const{x:a,y:o,startAngle:l,pixelMargin:A,innerRadius:c}=e,u=Math.max(e.outerRadius+n+t-A,0),h=c>0?c+n+t+A:0;let f=0;const g=i-l;if(n){const ie=c>0?c-n:0,oe=u>0?u-n:0,te=(ie+oe)/2,re=te!==0?g*te/(te+n):g;f=(g-re)/2}const p=Math.max(.001,g*u-t/Zr)/u,v=(g-p)/2,m=l+v+f,x=i-v-f,{outerStart:_,outerEnd:S,innerStart:k,innerEnd:R}=mbe(e,h,u,x-m),B=u-_,E=u-S,b=m+_/B,I=x-S/E,T=h+k,F=h+R,D=m+k/T,q=x-R/F;if(r.beginPath(),s){const ie=(b+I)/2;if(r.arc(a,o,u,b,ie),r.arc(a,o,u,ie,I),S>0){const W=y1(E,I,a,o);r.arc(W.x,W.y,S,I,x+Ji)}const oe=y1(F,x,a,o);if(r.lineTo(oe.x,oe.y),R>0){const W=y1(F,q,a,o);r.arc(W.x,W.y,R,x+Ji,q+Math.PI)}const te=(x-R/h+(m+k/h))/2;if(r.arc(a,o,h,x-R/h,te,!0),r.arc(a,o,h,te,m+k/h,!0),k>0){const W=y1(T,D,a,o);r.arc(W.x,W.y,k,D+Math.PI,m-Ji)}const re=y1(B,m,a,o);if(r.lineTo(re.x,re.y),_>0){const W=y1(B,b,a,o);r.arc(W.x,W.y,_,m-Ji,b)}}else{r.moveTo(a,o);const ie=Math.cos(b)*u+a,oe=Math.sin(b)*u+o;r.lineTo(ie,oe);const te=Math.cos(I)*u+a,re=Math.sin(I)*u+o;r.lineTo(te,re)}r.closePath()}function vbe(r,e,t,n,i){const{fullCircles:s,startAngle:a,circumference:o}=e;let l=e.endAngle;if(s){iF(r,e,t,n,l,i);for(let A=0;A<s;++A)r.fill();isNaN(o)||(l=a+(o%Zn||Zn))}return iF(r,e,t,n,l,i),r.fill(),l}function wbe(r,e,t,n,i){const{fullCircles:s,startAngle:a,circumference:o,options:l}=e,{borderWidth:A,borderJoinStyle:c,borderDash:u,borderDashOffset:h,borderRadius:f}=l,g=l.borderAlign==="inner";if(!A)return;r.setLineDash(u||[]),r.lineDashOffset=h,g?(r.lineWidth=A*2,r.lineJoin=c||"round"):(r.lineWidth=A,r.lineJoin=c||"bevel");let p=e.endAngle;if(s){iF(r,e,t,n,p,i);for(let v=0;v<s;++v)r.stroke();isNaN(o)||(p=a+(o%Zn||Zn))}g&&pbe(r,e,p),l.selfJoin&&p-a>=Zr&&f===0&&c!=="miter"&&dbe(r,e,p),s||(iF(r,e,t,n,p,i),r.stroke())}class dx extends Sc{constructor(t){super();Ce(this,"circumference");Ce(this,"endAngle");Ce(this,"fullCircles");Ce(this,"innerRadius");Ce(this,"outerRadius");Ce(this,"pixelMargin");Ce(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,n,i){const s=this.getProps(["x","y"],i),{angle:a,distance:o}=WY(s,{x:t,y:n}),{startAngle:l,endAngle:A,innerRadius:c,outerRadius:u,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),f=(this.options.spacing+this.options.borderWidth)/2,g=cr(h,A-l),p=X_(a,l,A)&&l!==A,v=g>=Zn||p,m=uf(o,c+f,u+f);return v&&m}getCenterPoint(t){const{x:n,y:i,startAngle:s,endAngle:a,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:A,spacing:c}=this.options,u=(s+a)/2,h=(o+l+c+A)/2;return{x:n+Math.cos(u)*h,y:i+Math.sin(u)*h}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:n,circumference:i}=this,s=(n.offset||0)/4,a=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>Zn?Math.floor(i/Zn):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const l=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(l)*s,Math.sin(l)*s);const A=1-Math.sin(Math.min(Zr,i||0)),c=s*A;t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,vbe(t,this,c,a,o),wbe(t,this,c,a,o),t.restore()}}Ce(dx,"id","arc"),Ce(dx,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Ce(dx,"defaultRoutes",{backgroundColor:"backgroundColor"}),Ce(dx,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function BJ(r,e,t=e){r.lineCap=cr(t.borderCapStyle,e.borderCapStyle),r.setLineDash(cr(t.borderDash,e.borderDash)),r.lineDashOffset=cr(t.borderDashOffset,e.borderDashOffset),r.lineJoin=cr(t.borderJoinStyle,e.borderJoinStyle),r.lineWidth=cr(t.borderWidth,e.borderWidth),r.strokeStyle=cr(t.borderColor,e.borderColor)}function ybe(r,e,t){r.lineTo(t.x,t.y)}function xbe(r){return r.stepped?j2e:r.tension||r.cubicInterpolationMode==="monotone"?K2e:ybe}function SJ(r,e,t={}){const n=r.length,{start:i=0,end:s=n-1}=t,{start:a,end:o}=e,l=Math.max(i,a),A=Math.min(s,o),c=i<a&&s<a||i>o&&s>o;return{count:n,start:l,loop:e.loop,ilen:A<l&&!c?n+A-l:A-l}}function _be(r,e,t,n){const{points:i,options:s}=e,{count:a,start:o,loop:l,ilen:A}=SJ(i,t,n),c=xbe(s);let{move:u=!0,reverse:h}=n||{},f,g,p;for(f=0;f<=A;++f)g=i[(o+(h?A-f:f))%a],!g.skip&&(u?(r.moveTo(g.x,g.y),u=!1):c(r,p,g,h,s.stepped),p=g);return l&&(g=i[(o+(h?A:0))%a],c(r,p,g,h,s.stepped)),!!l}function bbe(r,e,t,n){const i=e.points,{count:s,start:a,ilen:o}=SJ(i,t,n),{move:l=!0,reverse:A}=n||{};let c=0,u=0,h,f,g,p,v,m;const x=S=>(a+(A?o-S:S))%s,_=()=>{p!==v&&(r.lineTo(c,v),r.lineTo(c,p),r.lineTo(c,m))};for(l&&(f=i[x(0)],r.moveTo(f.x,f.y)),h=0;h<=o;++h){if(f=i[x(h)],f.skip)continue;const S=f.x,k=f.y,R=S|0;R===g?(k<p?p=k:k>v&&(v=k),c=(u*c+S)/++u):(_(),r.lineTo(S,k),g=R,u=0,p=v=k),m=k}_()}function NR(r){const e=r.options,t=e.borderDash&&e.borderDash.length;return!r._decimated&&!r._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?bbe:_be}function Ebe(r){return r.stepped?_xe:r.tension||r.cubicInterpolationMode==="monotone"?bxe:Kp}function Cbe(r,e,t,n){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,n)&&i.closePath()),BJ(r,e.options),r.stroke(i)}function Bbe(r,e,t,n){const{segments:i,options:s}=e,a=NR(e);for(const o of i)BJ(r,s,o.style),r.beginPath(),a(r,e,o,{start:t,end:t+n-1})&&r.closePath(),r.stroke()}const Sbe=typeof Path2D=="function";function Tbe(r,e,t,n){Sbe&&!e.options.segment?Cbe(r,e,t,n):Bbe(r,e,t,n)}class C0 extends Sc{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;dxe(this._points,n,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Fxe(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,i=e[t],s=this.points,a=hJ(this,{property:t,start:i,end:i});if(!a.length)return;const o=[],l=Ebe(n);let A,c;for(A=0,c=a.length;A<c;++A){const{start:u,end:h}=a[A],f=s[u],g=s[h];if(f===g){o.push(f);continue}const p=Math.abs((i-f[t])/(g[t]-f[t])),v=l(f,g,p,n.stepped);v[t]=e[t],o.push(v)}return o.length===1?o[0]:o}pathSegment(e,t,n){return NR(this)(e,this,t,n)}path(e,t,n){const i=this.segments,s=NR(this);let a=this._loop;t=t||0,n=n||this.points.length-t;for(const o of i)a&=s(e,this,o,{start:t,end:t+n-1});return!!a}draw(e,t,n,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),Tbe(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Ce(C0,"id","line"),Ce(C0,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Ce(C0,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ce(C0,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function p7(r,e,t,n){const i=r.options,{[t]:s}=r.getProps([t],n);return Math.abs(e-s)<i.radius+i.hitRadius}class S5 extends Sc{constructor(t){super();Ce(this,"parsed");Ce(this,"skip");Ce(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,i){const s=this.options,{x:a,y:o}=this.getProps(["x","y"],i);return Math.pow(t-a,2)+Math.pow(n-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,n){return p7(this,t,"x",n)}inYRange(t,n){return p7(this,t,"y",n)}getCenterPoint(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);const i=n&&t.borderWidth||0;return(n+i)*2}draw(t,n){const i=this.options;this.skip||i.radius<.1||!ff(this,n,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,LR(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}Ce(S5,"id","point"),Ce(S5,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ce(S5,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function TJ(r,e){const{x:t,y:n,base:i,width:s,height:a}=r.getProps(["x","y","base","width","height"],e);let o,l,A,c,u;return r.horizontal?(u=a/2,o=Math.min(t,i),l=Math.max(t,i),A=n-u,c=n+u):(u=s/2,o=t-u,l=t+u,A=Math.min(n,i),c=Math.max(n,i)),{left:o,top:A,right:l,bottom:c}}function B0(r,e,t,n){return r?0:js(e,t,n)}function Fbe(r,e,t){const n=r.options.borderWidth,i=r.borderSkipped,s=tJ(n);return{t:B0(i.top,s.top,0,t),r:B0(i.right,s.right,0,e),b:B0(i.bottom,s.bottom,0,t),l:B0(i.left,s.left,0,e)}}function Ibe(r,e,t){const{enableBorderRadius:n}=r.getProps(["enableBorderRadius"]),i=r.options.borderRadius,s=Em(i),a=Math.min(e,t),o=r.borderSkipped,l=n||Pr(i);return{topLeft:B0(!l||o.top||o.left,s.topLeft,0,a),topRight:B0(!l||o.top||o.right,s.topRight,0,a),bottomLeft:B0(!l||o.bottom||o.left,s.bottomLeft,0,a),bottomRight:B0(!l||o.bottom||o.right,s.bottomRight,0,a)}}function kbe(r){const e=TJ(r),t=e.right-e.left,n=e.bottom-e.top,i=Fbe(r,t/2,n/2),s=Ibe(r,t/2,n/2);return{outer:{x:e.left,y:e.top,w:t,h:n,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:t-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function Bk(r,e,t,n){const i=e===null,s=t===null,o=r&&!(i&&s)&&TJ(r,n);return o&&(i||uf(e,o.left,o.right))&&(s||uf(t,o.top,o.bottom))}function Lbe(r){return r.topLeft||r.topRight||r.bottomLeft||r.bottomRight}function Pbe(r,e){r.rect(e.x,e.y,e.w,e.h)}function Sk(r,e,t={}){const n=r.x!==t.x?-e:0,i=r.y!==t.y?-e:0,s=(r.x+r.w!==t.x+t.w?e:0)-n,a=(r.y+r.h!==t.y+t.h?e:0)-i;return{x:r.x+n,y:r.y+i,w:r.w+s,h:r.h+a,radius:r.radius}}class T5 extends Sc{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:i}}=this,{inner:s,outer:a}=kbe(this),o=Lbe(a.radius)?Y_:Pbe;e.save(),(a.w!==s.w||a.h!==s.h)&&(e.beginPath(),o(e,Sk(a,t,s)),e.clip(),o(e,Sk(s,-t,a)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),o(e,Sk(s,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,n){return Bk(this,e,t,n)}inXRange(e,t){return Bk(this,e,null,t)}inYRange(e,t){return Bk(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+i)/2:t,y:s?n:(n+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Ce(T5,"id","bar"),Ce(T5,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Ce(T5,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Rbe=Object.freeze({__proto__:null,ArcElement:dx,BarElement:T5,LineElement:C0,PointElement:S5});const UR=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],g7=UR.map(r=>r.replace("rgb(","rgba(").replace(")",", 0.5)"));function FJ(r){return UR[r%UR.length]}function IJ(r){return g7[r%g7.length]}function Dbe(r,e){return r.borderColor=FJ(e),r.backgroundColor=IJ(e),++e}function Nbe(r,e){return r.backgroundColor=r.data.map(()=>FJ(e++)),e}function Ube(r,e){return r.backgroundColor=r.data.map(()=>IJ(e++)),e}function Mbe(r){let e=0;return(t,n)=>{const i=r.getDatasetMeta(n).controller;i instanceof ng?e=Nbe(t,e):i instanceof Yx?e=Ube(t,e):i&&(e=Dbe(t,e))}}function m7(r){let e;for(e in r)if(r[e].borderColor||r[e].backgroundColor)return!0;return!1}function Obe(r){return r&&(r.borderColor||r.backgroundColor)}function Qbe(){return li.borderColor!=="rgba(0,0,0,0.1)"||li.backgroundColor!=="rgba(0,0,0,0.1)"}var Hbe={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(r,e,t){if(!t.enabled)return;const{data:{datasets:n},options:i}=r.config,{elements:s}=i,a=m7(n)||Obe(i)||s&&m7(s)||Qbe();if(!t.forceOverride&&a)return;const o=Mbe(r);n.forEach(o)}};function Vbe(r,e,t,n,i){const s=i.samples||n;if(s>=t)return r.slice(e,e+t);const a=[],o=(t-2)/(s-2);let l=0;const A=e+t-1;let c=e,u,h,f,g,p;for(a[l++]=r[c],u=0;u<s-2;u++){let v=0,m=0,x;const _=Math.floor((u+1)*o)+1+e,S=Math.min(Math.floor((u+2)*o)+1,t)+e,k=S-_;for(x=_;x<S;x++)v+=r[x].x,m+=r[x].y;v/=k,m/=k;const R=Math.floor(u*o)+1+e,B=Math.min(Math.floor((u+1)*o)+1,t)+e,{x:E,y:b}=r[c];for(f=g=-1,x=R;x<B;x++)g=.5*Math.abs((E-v)*(r[x].y-b)-(E-r[x].x)*(m-b)),g>f&&(f=g,h=r[x],p=x);a[l++]=h,c=p}return a[l++]=r[A],a}function jbe(r,e,t,n){let i=0,s=0,a,o,l,A,c,u,h,f,g,p;const v=[],m=e+t-1,x=r[e].x,S=r[m].x-x;for(a=e;a<e+t;++a){o=r[a],l=(o.x-x)/S*n,A=o.y;const k=l|0;if(k===c)A<g?(g=A,u=a):A>p&&(p=A,h=a),i=(s*i+o.x)/++s;else{const R=a-1;if(!Tr(u)&&!Tr(h)){const B=Math.min(u,h),E=Math.max(u,h);B!==f&&B!==R&&v.push({...r[B],x:i}),E!==f&&E!==R&&v.push({...r[E],x:i})}a>0&&R!==f&&v.push(r[R]),v.push(o),c=k,s=0,g=p=A,u=h=f=a}}return v}function kJ(r){if(r._decimated){const e=r._data;delete r._decimated,delete r._data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function v7(r){r.data.datasets.forEach(e=>{kJ(e)})}function Kbe(r,e){const t=e.length;let n=0,i;const{iScale:s}=r,{min:a,max:o,minDefined:l,maxDefined:A}=s.getUserBounds();return l&&(n=js(hf(e,s.axis,a).lo,0,t-1)),A?i=js(hf(e,s.axis,o).hi+1,n,t)-n:i=t-n,{start:n,count:i}}var zbe={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(r,e,t)=>{if(!t.enabled){v7(r);return}const n=r.width;r.data.datasets.forEach((i,s)=>{const{_data:a,indexAxis:o}=i,l=r.getDatasetMeta(s),A=a||i.data;if(hx([o,r.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const c=r.scales[l.xAxisID];if(c.type!=="linear"&&c.type!=="time"||r.options.parsing)return;let{start:u,count:h}=Kbe(l,A);const f=t.threshold||4*n;if(h<=f){kJ(i);return}Tr(a)&&(i._data=A,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(p){this._data=p}}));let g;switch(t.algorithm){case"lttb":g=Vbe(A,u,h,n,t);break;case"min-max":g=jbe(A,u,h,n);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}i._decimated=g})},destroy(r){v7(r)}};function Wbe(r,e,t){const n=r.segments,i=r.points,s=e.points,a=[];for(const o of n){let{start:l,end:A}=o;A=U4(l,A,i);const c=MR(t,i[l],i[A],o.loop);if(!e.segments){a.push({source:o,target:c,start:i[l],end:i[A]});continue}const u=hJ(e,c);for(const h of u){const f=MR(t,s[h.start],s[h.end],h.loop),g=uJ(o,i,f);for(const p of g)a.push({source:p,target:h,start:{[t]:w7(c,f,"start",Math.max)},end:{[t]:w7(c,f,"end",Math.min)}})}}return a}function MR(r,e,t,n){if(n)return;let i=e[r],s=t[r];return r==="angle"&&(i=Qa(i),s=Qa(s)),{property:r,start:i,end:s}}function Gbe(r,e){const{x:t=null,y:n=null}=r||{},i=e.points,s=[];return e.segments.forEach(({start:a,end:o})=>{o=U4(a,o,i);const l=i[a],A=i[o];n!==null?(s.push({x:l.x,y:n}),s.push({x:A.x,y:n})):t!==null&&(s.push({x:t,y:l.y}),s.push({x:t,y:A.y}))}),s}function U4(r,e,t){for(;e>r;e--){const n=t[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function w7(r,e,t,n){return r&&e?n(r[t],e[t]):r?r[t]:e?e[t]:0}function LJ(r,e){let t=[],n=!1;return oi(r)?(n=!0,t=r):t=Gbe(r,e),t.length?new C0({points:t,options:{tension:0},_loop:n,_fullLoop:n}):null}function y7(r){return r&&r.fill!==!1}function $be(r,e,t){let i=r[e].fill;const s=[e];let a;if(!t)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!Di(i))return i;if(a=r[i],!a)return!1;if(a.visible)return i;s.push(i),i=a.fill}return!1}function qbe(r,e,t){const n=Zbe(r);if(Pr(n))return isNaN(n.value)?!1:n;let i=parseFloat(n);return Di(i)&&Math.floor(i)===i?Xbe(n[0],e,i,t):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function Xbe(r,e,t,n){return(r==="-"||r==="+")&&(t=e+t),t===e||t<0||t>=n?!1:t}function Ybe(r,e){let t=null;return r==="start"?t=e.bottom:r==="end"?t=e.top:Pr(r)?t=e.getPixelForValue(r.value):e.getBasePixel&&(t=e.getBasePixel()),t}function Jbe(r,e,t){let n;return r==="start"?n=t:r==="end"?n=e.options.reverse?e.min:e.max:Pr(r)?n=r.value:n=e.getBaseValue(),n}function Zbe(r){const e=r.options,t=e.fill;let n=cr(t&&t.target,t);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function eEe(r){const{scale:e,index:t,line:n}=r,i=[],s=n.segments,a=n.points,o=tEe(e,t);o.push(LJ({x:null,y:e.bottom},n));for(let l=0;l<s.length;l++){const A=s[l];for(let c=A.start;c<=A.end;c++)rEe(i,a[c],o)}return new C0({points:i,options:{}})}function tEe(r,e){const t=[],n=r.getMatchingVisibleMetas("line");for(let i=0;i<n.length;i++){const s=n[i];if(s.index===e)break;s.hidden||t.unshift(s.dataset)}return t}function rEe(r,e,t){const n=[];for(let i=0;i<t.length;i++){const s=t[i],{first:a,last:o,point:l}=nEe(s,e,"x");if(!(!l||a&&o)){if(a)n.unshift(l);else if(r.push(l),!o)break}}r.push(...n)}function nEe(r,e,t){const n=r.interpolate(e,t);if(!n)return{};const i=n[t],s=r.segments,a=r.points;let o=!1,l=!1;for(let A=0;A<s.length;A++){const c=s[A],u=a[c.start][t],h=a[c.end][t];if(uf(i,u,h)){o=i===u,l=i===h;break}}return{first:o,last:l,point:n}}class PJ{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){const{x:i,y:s,radius:a}=this;return t=t||{start:0,end:Zn},e.arc(i,s,a,t.end,t.start,!0),!n.bounds}interpolate(e){const{x:t,y:n,radius:i}=this,s=e.angle;return{x:t+Math.cos(s)*i,y:n+Math.sin(s)*i,angle:s}}}function iEe(r){const{chart:e,fill:t,line:n}=r;if(Di(t))return sEe(e,t);if(t==="stack")return eEe(r);if(t==="shape")return!0;const i=aEe(r);return i instanceof PJ?i:LJ(i,n)}function sEe(r,e){const t=r.getDatasetMeta(e);return t&&r.isDatasetVisible(e)?t.dataset:null}function aEe(r){return(r.scale||{}).getPointPositionForValue?lEe(r):oEe(r)}function oEe(r){const{scale:e={},fill:t}=r,n=Ybe(t,e);if(Di(n)){const i=e.isHorizontal();return{x:i?n:null,y:i?null:n}}return null}function lEe(r){const{scale:e,fill:t}=r,n=e.options,i=e.getLabels().length,s=n.reverse?e.max:e.min,a=Jbe(t,e,s),o=[];if(n.grid.circular){const l=e.getPointPositionForValue(0,s);return new PJ({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(a)})}for(let l=0;l<i;++l)o.push(e.getPointPositionForValue(l,a));return o}function Tk(r,e,t){const n=iEe(e),{chart:i,index:s,line:a,scale:o,axis:l}=e,A=a.options,c=A.fill,u=A.backgroundColor,{above:h=u,below:f=u}=c||{},g=i.getDatasetMeta(s),p=fJ(i,g);n&&a.points.length&&(P4(r,t),AEe(r,{line:a,target:n,above:h,below:f,area:t,scale:o,axis:l,clip:p}),R4(r))}function AEe(r,e){const{line:t,target:n,above:i,below:s,area:a,scale:o,clip:l}=e,A=t._loop?"angle":e.axis;r.save();let c=s;s!==i&&(A==="x"?(x7(r,n,a.top),Fk(r,{line:t,target:n,color:i,scale:o,property:A,clip:l}),r.restore(),r.save(),x7(r,n,a.bottom)):A==="y"&&(_7(r,n,a.left),Fk(r,{line:t,target:n,color:s,scale:o,property:A,clip:l}),r.restore(),r.save(),_7(r,n,a.right),c=i)),Fk(r,{line:t,target:n,color:c,scale:o,property:A,clip:l}),r.restore()}function x7(r,e,t){const{segments:n,points:i}=e;let s=!0,a=!1;r.beginPath();for(const o of n){const{start:l,end:A}=o,c=i[l],u=i[U4(l,A,i)];s?(r.moveTo(c.x,c.y),s=!1):(r.lineTo(c.x,t),r.lineTo(c.x,c.y)),a=!!e.pathSegment(r,o,{move:a}),a?r.closePath():r.lineTo(u.x,t)}r.lineTo(e.first().x,t),r.closePath(),r.clip()}function _7(r,e,t){const{segments:n,points:i}=e;let s=!0,a=!1;r.beginPath();for(const o of n){const{start:l,end:A}=o,c=i[l],u=i[U4(l,A,i)];s?(r.moveTo(c.x,c.y),s=!1):(r.lineTo(t,c.y),r.lineTo(c.x,c.y)),a=!!e.pathSegment(r,o,{move:a}),a?r.closePath():r.lineTo(t,u.y)}r.lineTo(t,e.first().y),r.closePath(),r.clip()}function Fk(r,e){const{line:t,target:n,property:i,color:s,scale:a,clip:o}=e,l=Wbe(t,n,i);for(const{source:A,target:c,start:u,end:h}of l){const{style:{backgroundColor:f=s}={}}=A,g=n!==!0;r.save(),r.fillStyle=f,cEe(r,a,o,g&&MR(i,u,h)),r.beginPath();const p=!!t.pathSegment(r,A);let v;if(g){p?r.closePath():b7(r,n,h,i);const m=!!n.pathSegment(r,c,{move:p,reverse:!0});v=p&&m,v||b7(r,n,u,i)}r.closePath(),r.fill(v?"evenodd":"nonzero"),r.restore()}}function cEe(r,e,t,n){const i=e.chart.chartArea,{property:s,start:a,end:o}=n||{};if(s==="x"||s==="y"){let l,A,c,u;s==="x"?(l=a,A=i.top,c=o,u=i.bottom):(l=i.left,A=a,c=i.right,u=o),r.beginPath(),t&&(l=Math.max(l,t.left),c=Math.min(c,t.right),A=Math.max(A,t.top),u=Math.min(u,t.bottom)),r.rect(l,A,c-l,u-A),r.clip()}}function b7(r,e,t,n){const i=e.interpolate(t,n);i&&r.lineTo(i.x,i.y)}var uEe={id:"filler",afterDatasetsUpdate(r,e,t){const n=(r.data.datasets||[]).length,i=[];let s,a,o,l;for(a=0;a<n;++a)s=r.getDatasetMeta(a),o=s.dataset,l=null,o&&o.options&&o instanceof C0&&(l={visible:r.isDatasetVisible(a),index:a,fill:qbe(o,a,n),chart:r,axis:s.controller.options.indexAxis,scale:s.vScale,line:o}),s.$filler=l,i.push(l);for(a=0;a<n;++a)l=i[a],!(!l||l.fill===!1)&&(l.fill=$be(i,a,t.propagate))},beforeDraw(r,e,t){const n=t.drawTime==="beforeDraw",i=r.getSortedVisibleDatasetMetas(),s=r.chartArea;for(let a=i.length-1;a>=0;--a){const o=i[a].$filler;o&&(o.line.updateControlPoints(s,o.axis),n&&o.fill&&Tk(r.ctx,o,s))}},beforeDatasetsDraw(r,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const n=r.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i){const s=n[i].$filler;y7(s)&&Tk(r.ctx,s,r.chartArea)}},beforeDatasetDraw(r,e,t){const n=e.meta.$filler;!y7(n)||t.drawTime!=="beforeDatasetDraw"||Tk(r.ctx,n,r.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const E7=(r,e)=>{let{boxHeight:t=e,boxWidth:n=e}=r;return r.usePointStyle&&(t=Math.min(t,e),n=r.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:t,itemHeight:Math.max(e,t)}},hEe=(r,e)=>r!==null&&e!==null&&r.datasetIndex===e.datasetIndex&&r.index===e.index;class C7 extends Sc{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Hn(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(n=>e.filter(n,this.chart.data))),e.sort&&(t=t.sort((n,i)=>e.sort(n,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,i=Cs(n.font),s=i.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=E7(n,s);let A,c;t.font=i.string,this.isHorizontal()?(A=this.maxWidth,c=this._fitRows(a,s,o,l)+10):(c=this.maxHeight,A=this._fitCols(a,i,o,l)+10),this.width=Math.min(A,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,i){const{ctx:s,maxWidth:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],A=this.lineWidths=[0],c=i+o;let u=e;s.textAlign="left",s.textBaseline="middle";let h=-1,f=-c;return this.legendItems.forEach((g,p)=>{const v=n+t/2+s.measureText(g.text).width;(p===0||A[A.length-1]+v+2*o>a)&&(u+=c,A[A.length-(p>0?0:1)]=0,f+=c,h++),l[p]={left:0,top:f,row:h,width:v,height:i},A[A.length-1]+=v+o}),u}_fitCols(e,t,n,i){const{ctx:s,maxHeight:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],A=this.columnSizes=[],c=a-e;let u=o,h=0,f=0,g=0,p=0;return this.legendItems.forEach((v,m)=>{const{itemWidth:x,itemHeight:_}=fEe(n,t,s,v,i);m>0&&f+_+2*o>c&&(u+=h+o,A.push({width:h,height:f}),g+=h+o,p++,h=f=0),l[m]={left:g,top:f,col:p,width:x,height:_},h=Math.max(h,x),f+=_+o}),u+=h,A.push({width:h,height:f}),u}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:i},rtl:s}}=this,a=Fv(s,this.left,this.width);if(this.isHorizontal()){let o=0,l=Ua(n,this.left+i,this.right-this.lineWidths[o]);for(const A of t)o!==A.row&&(o=A.row,l=Ua(n,this.left+i,this.right-this.lineWidths[o])),A.top+=this.top+e+i,A.left=a.leftForLtr(a.x(l),A.width),l+=A.width+i}else{let o=0,l=Ua(n,this.top+e+i,this.bottom-this.columnSizes[o].height);for(const A of t)A.col!==o&&(o=A.col,l=Ua(n,this.top+e+i,this.bottom-this.columnSizes[o].height)),A.top=l,A.left+=this.left+i,A.left=a.leftForLtr(a.x(A.left),A.width),l+=A.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;P4(e,this),this._draw(),R4(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:i}=this,{align:s,labels:a}=e,o=li.color,l=Fv(e.rtl,this.left,this.width),A=Cs(a.font),{padding:c}=a,u=A.size,h=u/2;let f;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=A.string;const{boxWidth:g,boxHeight:p,itemHeight:v}=E7(a,u),m=function(R,B,E){if(isNaN(g)||g<=0||isNaN(p)||p<0)return;i.save();const b=cr(E.lineWidth,1);if(i.fillStyle=cr(E.fillStyle,o),i.lineCap=cr(E.lineCap,"butt"),i.lineDashOffset=cr(E.lineDashOffset,0),i.lineJoin=cr(E.lineJoin,"miter"),i.lineWidth=b,i.strokeStyle=cr(E.strokeStyle,o),i.setLineDash(cr(E.lineDash,[])),a.usePointStyle){const I={radius:p*Math.SQRT2/2,pointStyle:E.pointStyle,rotation:E.rotation,borderWidth:b},T=l.xPlus(R,g/2),F=B+h;eJ(i,I,T,F,a.pointStyleWidth&&g)}else{const I=B+Math.max((u-p)/2,0),T=l.leftForLtr(R,g),F=Em(E.borderRadius);i.beginPath(),Object.values(F).some(D=>D!==0)?Y_(i,{x:T,y:I,w:g,h:p,radius:F}):i.rect(T,I,g,p),i.fill(),b!==0&&i.stroke()}i.restore()},x=function(R,B,E){Wm(i,E.text,R,B+v/2,A,{strikethrough:E.hidden,textAlign:l.textAlign(E.textAlign)})},_=this.isHorizontal(),S=this._computeTitleHeight();_?f={x:Ua(s,this.left+c,this.right-n[0]),y:this.top+c+S,line:0}:f={x:this.left+c,y:Ua(s,this.top+S+c,this.bottom-t[0].height),line:0},lJ(this.ctx,e.textDirection);const k=v+c;this.legendItems.forEach((R,B)=>{i.strokeStyle=R.fontColor,i.fillStyle=R.fontColor;const E=i.measureText(R.text).width,b=l.textAlign(R.textAlign||(R.textAlign=a.textAlign)),I=g+h+E;let T=f.x,F=f.y;l.setWidth(this.width),_?B>0&&T+I+c>this.right&&(F=f.y+=k,f.line++,T=f.x=Ua(s,this.left+c,this.right-n[f.line])):B>0&&F+k>this.bottom&&(T=f.x=T+t[f.line].width+c,f.line++,F=f.y=Ua(s,this.top+S+c,this.bottom-t[f.line].height));const D=l.x(T);if(m(D,F,R),T=L2e(b,T+g+h,_?T+I:this.right,e.rtl),x(l.x(T),F,R),_)f.x+=I+c;else if(typeof R.text!="string"){const q=A.lineHeight;f.y+=RJ(R,q)+c}else f.y+=k}),AJ(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=Cs(t.font),i=Ya(t.padding);if(!t.display)return;const s=Fv(e.rtl,this.left,this.width),a=this.ctx,o=t.position,l=n.size/2,A=i.top+l;let c,u=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),c=this.top+A,u=Ua(e.align,u,this.right-h);else{const g=this.columnSizes.reduce((p,v)=>Math.max(p,v.height),0);c=A+Ua(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const f=Ua(o,u,u+h);a.textAlign=s.textAlign(iM(o)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=n.string,Wm(a,t.text,f,c,n)}_computeTitleHeight(){const e=this.options.title,t=Cs(e.font),n=Ya(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,i,s;if(uf(e,this.left,this.right)&&uf(t,this.top,this.bottom)){for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(i=s[n],uf(e,i.left,i.left+i.width)&&uf(t,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(e){const t=this.options;if(!gEe(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=hEe(i,n);i&&!s&&Hn(t.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!s&&Hn(t.onHover,[e,n,this],this)}else n&&Hn(t.onClick,[e,n,this],this)}}function fEe(r,e,t,n,i){const s=dEe(n,r,e,t),a=pEe(i,n,e.lineHeight);return{itemWidth:s,itemHeight:a}}function dEe(r,e,t,n){let i=r.text;return i&&typeof i!="string"&&(i=i.reduce((s,a)=>s.length>a.length?s:a)),e+t.size/2+n.measureText(i).width}function pEe(r,e,t){let n=r;return typeof e.text!="string"&&(n=RJ(e,t)),n}function RJ(r,e){const t=r.text?r.text.length:0;return e*t}function gEe(r,e){return!!((r==="mousemove"||r==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(r==="click"||r==="mouseup"))}var mEe={id:"legend",_element:C7,start(r,e,t){const n=r.legend=new C7({ctx:r.ctx,options:t,chart:r});Wa.configure(r,n,t),Wa.addBox(r,n)},stop(r){Wa.removeBox(r,r.legend),delete r.legend},beforeUpdate(r,e,t){const n=r.legend;Wa.configure(r,n,t),n.options=t},afterUpdate(r){const e=r.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(r,e){e.replay||r.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(r,e,t){const n=e.datasetIndex,i=t.chart;i.isDatasetVisible(n)?(i.hide(n),e.hidden=!0):(i.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:r=>r.chart.options.color,boxWidth:40,padding:10,generateLabels(r){const e=r.data.datasets,{labels:{usePointStyle:t,pointStyle:n,textAlign:i,color:s,useBorderRadius:a,borderRadius:o}}=r.legend.options;return r._getSortedDatasetMetas().map(l=>{const A=l.controller.getStyle(t?0:void 0),c=Ya(A.borderWidth);return{text:e[l.index].label,fillStyle:A.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:A.borderCapStyle,lineDash:A.borderDash,lineDashOffset:A.borderDashOffset,lineJoin:A.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:A.borderColor,pointStyle:n||A.pointStyle,rotation:A.rotation,textAlign:i||A.textAlign,borderRadius:a&&(o||A.borderRadius),datasetIndex:l.index}},this)}},title:{color:r=>r.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:r=>!r.startsWith("on"),labels:{_scriptable:r=>!["generateLabels","filter","sort"].includes(r)}}};class fM extends Sc{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const i=oi(n.text)?n.text.length:1;this._padding=Ya(n.padding);const s=i*Cs(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:n,bottom:i,right:s,options:a}=this,o=a.align;let l=0,A,c,u;return this.isHorizontal()?(c=Ua(o,n,s),u=t+e,A=s-n):(a.position==="left"?(c=n+e,u=Ua(o,i,t),l=Zr*-.5):(c=s-e,u=Ua(o,t,i),l=Zr*.5),A=i-t),{titleX:c,titleY:u,maxWidth:A,rotation:l}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=Cs(t.font),s=n.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:l,rotation:A}=this._drawArgs(s);Wm(e,t.text,0,0,n,{color:t.color,maxWidth:l,rotation:A,textAlign:iM(t.align),textBaseline:"middle",translation:[a,o]})}}function vEe(r,e){const t=new fM({ctx:r.ctx,options:e,chart:r});Wa.configure(r,t,e),Wa.addBox(r,t),r.titleBlock=t}var wEe={id:"title",_element:fM,start(r,e,t){vEe(r,t)},stop(r){const e=r.titleBlock;Wa.removeBox(r,e),delete r.titleBlock},beforeUpdate(r,e,t){const n=r.titleBlock;Wa.configure(r,n,t),n.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const OB=new WeakMap;var yEe={id:"subtitle",start(r,e,t){const n=new fM({ctx:r.ctx,options:t,chart:r});Wa.configure(r,n,t),Wa.addBox(r,n),OB.set(r,n)},stop(r){Wa.removeBox(r,OB.get(r)),OB.delete(r)},beforeUpdate(r,e,t){const n=OB.get(r);Wa.configure(r,n,t),n.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const px={average(r){if(!r.length)return!1;let e,t,n=new Set,i=0,s=0;for(e=0,t=r.length;e<t;++e){const o=r[e].element;if(o&&o.hasValue()){const l=o.tooltipPosition();n.add(l.x),i+=l.y,++s}}return s===0||n.size===0?!1:{x:[...n].reduce((o,l)=>o+l)/n.size,y:i/s}},nearest(r,e){if(!r.length)return!1;let t=e.x,n=e.y,i=Number.POSITIVE_INFINITY,s,a,o;for(s=0,a=r.length;s<a;++s){const l=r[s].element;if(l&&l.hasValue()){const A=l.getCenterPoint(),c=IR(e,A);c<i&&(i=c,o=l)}}if(o){const l=o.tooltipPosition();t=l.x,n=l.y}return{x:t,y:n}}};function Jc(r,e){return e&&(oi(e)?Array.prototype.push.apply(r,e):r.push(e)),r}function ph(r){return(typeof r=="string"||r instanceof String)&&r.indexOf(`
`)>-1?r.split(`
`):r}function xEe(r,e){const{element:t,datasetIndex:n,index:i}=e,s=r.getDatasetMeta(n).controller,{label:a,value:o}=s.getLabelAndValue(i);return{chart:r,label:a,parsed:s.getParsed(i),raw:r.data.datasets[n].data[i],formattedValue:o,dataset:s.getDataset(),dataIndex:i,datasetIndex:n,element:t}}function B7(r,e){const t=r.chart.ctx,{body:n,footer:i,title:s}=r,{boxWidth:a,boxHeight:o}=e,l=Cs(e.bodyFont),A=Cs(e.titleFont),c=Cs(e.footerFont),u=s.length,h=i.length,f=n.length,g=Ya(e.padding);let p=g.height,v=0,m=n.reduce((S,k)=>S+k.before.length+k.lines.length+k.after.length,0);if(m+=r.beforeBody.length+r.afterBody.length,u&&(p+=u*A.lineHeight+(u-1)*e.titleSpacing+e.titleMarginBottom),m){const S=e.displayColors?Math.max(o,l.lineHeight):l.lineHeight;p+=f*S+(m-f)*l.lineHeight+(m-1)*e.bodySpacing}h&&(p+=e.footerMarginTop+h*c.lineHeight+(h-1)*e.footerSpacing);let x=0;const _=function(S){v=Math.max(v,t.measureText(S).width+x)};return t.save(),t.font=A.string,dn(r.title,_),t.font=l.string,dn(r.beforeBody.concat(r.afterBody),_),x=e.displayColors?a+2+e.boxPadding:0,dn(n,S=>{dn(S.before,_),dn(S.lines,_),dn(S.after,_)}),x=0,t.font=c.string,dn(r.footer,_),t.restore(),v+=g.width,{width:v,height:p}}function _Ee(r,e){const{y:t,height:n}=e;return t<n/2?"top":t>r.height-n/2?"bottom":"center"}function bEe(r,e,t,n){const{x:i,width:s}=n,a=t.caretSize+t.caretPadding;if(r==="left"&&i+s+a>e.width||r==="right"&&i-s-a<0)return!0}function EEe(r,e,t,n){const{x:i,width:s}=t,{width:a,chartArea:{left:o,right:l}}=r;let A="center";return n==="center"?A=i<=(o+l)/2?"left":"right":i<=s/2?A="left":i>=a-s/2&&(A="right"),bEe(A,r,e,t)&&(A="center"),A}function S7(r,e,t){const n=t.yAlign||e.yAlign||_Ee(r,t);return{xAlign:t.xAlign||e.xAlign||EEe(r,e,t,n),yAlign:n}}function CEe(r,e){let{x:t,width:n}=r;return e==="right"?t-=n:e==="center"&&(t-=n/2),t}function BEe(r,e,t){let{y:n,height:i}=r;return e==="top"?n+=t:e==="bottom"?n-=i+t:n-=i/2,n}function T7(r,e,t,n){const{caretSize:i,caretPadding:s,cornerRadius:a}=r,{xAlign:o,yAlign:l}=t,A=i+s,{topLeft:c,topRight:u,bottomLeft:h,bottomRight:f}=Em(a);let g=CEe(e,o);const p=BEe(e,l,A);return l==="center"?o==="left"?g+=A:o==="right"&&(g-=A):o==="left"?g-=Math.max(c,h)+i:o==="right"&&(g+=Math.max(u,f)+i),{x:js(g,0,n.width-e.width),y:js(p,0,n.height-e.height)}}function QB(r,e,t){const n=Ya(t.padding);return e==="center"?r.x+r.width/2:e==="right"?r.x+r.width-n.right:r.x+n.left}function F7(r){return Jc([],ph(r))}function SEe(r,e,t){return pp(r,{tooltip:e,tooltipItems:t,type:"tooltip"})}function I7(r,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?r.override(t):r}const DJ={beforeTitle:sh,title(r){if(r.length>0){const e=r[0],t=e.chart.data.labels,n=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return t[e.dataIndex]}return""},afterTitle:sh,beforeBody:sh,beforeLabel:sh,label(r){if(this&&this.options&&this.options.mode==="dataset")return r.label+": "+r.formattedValue||r.formattedValue;let e=r.dataset.label||"";e&&(e+=": ");const t=r.formattedValue;return Tr(t)||(e+=t),e},labelColor(r){const t=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(r){const t=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:sh,afterBody:sh,beforeFooter:sh,footer:sh,afterFooter:sh};function Do(r,e,t,n){const i=r[e].call(t,n);return typeof i>"u"?DJ[e].call(t,n):i}class OR extends Sc{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&t.options.animation&&n.animations,s=new dJ(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=SEe(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:n}=t,i=Do(n,"beforeTitle",this,e),s=Do(n,"title",this,e),a=Do(n,"afterTitle",this,e);let o=[];return o=Jc(o,ph(i)),o=Jc(o,ph(s)),o=Jc(o,ph(a)),o}getBeforeBody(e,t){return F7(Do(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,i=[];return dn(e,s=>{const a={before:[],lines:[],after:[]},o=I7(n,s);Jc(a.before,ph(Do(o,"beforeLabel",this,s))),Jc(a.lines,Do(o,"label",this,s)),Jc(a.after,ph(Do(o,"afterLabel",this,s))),i.push(a)}),i}getAfterBody(e,t){return F7(Do(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,i=Do(n,"beforeFooter",this,e),s=Do(n,"footer",this,e),a=Do(n,"afterFooter",this,e);let o=[];return o=Jc(o,ph(i)),o=Jc(o,ph(s)),o=Jc(o,ph(a)),o}_createItems(e){const t=this._active,n=this.chart.data,i=[],s=[],a=[];let o=[],l,A;for(l=0,A=t.length;l<A;++l)o.push(xEe(this.chart,t[l]));return e.filter&&(o=o.filter((c,u,h)=>e.filter(c,u,h,n))),e.itemSort&&(o=o.sort((c,u)=>e.itemSort(c,u,n))),dn(o,c=>{const u=I7(e.callbacks,c);i.push(Do(u,"labelColor",this,c)),s.push(Do(u,"labelPointStyle",this,c)),a.push(Do(u,"labelTextColor",this,c))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=o,o}update(e,t){const n=this.options.setContext(this.getContext()),i=this._active;let s,a=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const o=px[n.position].call(this,i,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);const l=this._size=B7(this,n),A=Object.assign({},o,l),c=S7(this.chart,n,A),u=T7(n,A,c,this.chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,s={opacity:1,x:u.x,y:u.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,i){const s=this.getCaretPosition(e,n,i);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,n){const{xAlign:i,yAlign:s}=this,{caretSize:a,cornerRadius:o}=n,{topLeft:l,topRight:A,bottomLeft:c,bottomRight:u}=Em(o),{x:h,y:f}=e,{width:g,height:p}=t;let v,m,x,_,S,k;return s==="center"?(S=f+p/2,i==="left"?(v=h,m=v-a,_=S+a,k=S-a):(v=h+g,m=v+a,_=S-a,k=S+a),x=v):(i==="left"?m=h+Math.max(l,c)+a:i==="right"?m=h+g-Math.max(A,u)-a:m=this.caretX,s==="top"?(_=f,S=_-a,v=m-a,x=m+a):(_=f+p,S=_+a,v=m+a,x=m-a),k=_),{x1:v,x2:m,x3:x,y1:_,y2:S,y3:k}}drawTitle(e,t,n){const i=this.title,s=i.length;let a,o,l;if(s){const A=Fv(n.rtl,this.x,this.width);for(e.x=QB(this,n.titleAlign,n),t.textAlign=A.textAlign(n.titleAlign),t.textBaseline="middle",a=Cs(n.titleFont),o=n.titleSpacing,t.fillStyle=n.titleColor,t.font=a.string,l=0;l<s;++l)t.fillText(i[l],A.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,l+1===s&&(e.y+=n.titleMarginBottom-o)}}_drawColorBox(e,t,n,i,s){const a=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:l,boxWidth:A}=s,c=Cs(s.bodyFont),u=QB(this,"left",s),h=i.x(u),f=l<c.lineHeight?(c.lineHeight-l)/2:0,g=t.y+f;if(s.usePointStyle){const p={radius:Math.min(A,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},v=i.leftForLtr(h,A)+A/2,m=g+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,LR(e,p,v,m),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,LR(e,p,v,m)}else{e.lineWidth=Pr(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const p=i.leftForLtr(h,A),v=i.leftForLtr(i.xPlus(h,1),A-2),m=Em(a.borderRadius);Object.values(m).some(x=>x!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Y_(e,{x:p,y:g,w:A,h:l,radius:m}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Y_(e,{x:v,y:g+1,w:A-2,h:l-2,radius:m}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(p,g,A,l),e.strokeRect(p,g,A,l),e.fillStyle=a.backgroundColor,e.fillRect(v,g+1,A-2,l-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:i}=this,{bodySpacing:s,bodyAlign:a,displayColors:o,boxHeight:l,boxWidth:A,boxPadding:c}=n,u=Cs(n.bodyFont);let h=u.lineHeight,f=0;const g=Fv(n.rtl,this.x,this.width),p=function(E){t.fillText(E,g.x(e.x+f),e.y+h/2),e.y+=h+s},v=g.textAlign(a);let m,x,_,S,k,R,B;for(t.textAlign=a,t.textBaseline="middle",t.font=u.string,e.x=QB(this,v,n),t.fillStyle=n.bodyColor,dn(this.beforeBody,p),f=o&&v!=="right"?a==="center"?A/2+c:A+2+c:0,S=0,R=i.length;S<R;++S){for(m=i[S],x=this.labelTextColors[S],t.fillStyle=x,dn(m.before,p),_=m.lines,o&&_.length&&(this._drawColorBox(t,e,S,g,n),h=Math.max(u.lineHeight,l)),k=0,B=_.length;k<B;++k)p(_[k]),h=u.lineHeight;dn(m.after,p)}f=0,h=u.lineHeight,dn(this.afterBody,p),e.y-=s}drawFooter(e,t,n){const i=this.footer,s=i.length;let a,o;if(s){const l=Fv(n.rtl,this.x,this.width);for(e.x=QB(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=l.textAlign(n.footerAlign),t.textBaseline="middle",a=Cs(n.footerFont),t.fillStyle=n.footerColor,t.font=a.string,o=0;o<s;++o)t.fillText(i[o],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+n.footerSpacing}}drawBackground(e,t,n,i){const{xAlign:s,yAlign:a}=this,{x:o,y:l}=e,{width:A,height:c}=n,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:g}=Em(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(o+u,l),a==="top"&&this.drawCaret(e,t,n,i),t.lineTo(o+A-h,l),t.quadraticCurveTo(o+A,l,o+A,l+h),a==="center"&&s==="right"&&this.drawCaret(e,t,n,i),t.lineTo(o+A,l+c-g),t.quadraticCurveTo(o+A,l+c,o+A-g,l+c),a==="bottom"&&this.drawCaret(e,t,n,i),t.lineTo(o+f,l+c),t.quadraticCurveTo(o,l+c,o,l+c-f),a==="center"&&s==="left"&&this.drawCaret(e,t,n,i),t.lineTo(o,l+u),t.quadraticCurveTo(o,l,o+u,l),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,i=n&&n.x,s=n&&n.y;if(i||s){const a=px[e.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=B7(this,e),l=Object.assign({},a,this._size),A=S7(t,e,l),c=T7(e,l,A,t);(i._to!==c.x||s._to!==c.y)&&(this.xAlign=A.xAlign,this.yAlign=A.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const a=Ya(t.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&o&&(e.save(),e.globalAlpha=n,this.drawBackground(s,e,i,t),lJ(e,t.textDirection),s.y+=a.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),AJ(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,i=e.map(({datasetIndex:o,index:l})=>{const A=this.chart.getDatasetMeta(o);if(!A)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:A.data[l],index:l}}),s=!JT(n,i),a=this._positionChanged(i,t);(s||a)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,n=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],a=this._getActiveElements(e,s,t,n),o=this._positionChanged(a,e),l=t||!JT(a,s)||o;return l&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),l}_getActiveElements(e,t,n,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,s.mode,s,n);return s.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:n,caretY:i,options:s}=this,a=px[s.position].call(this,e,t);return a!==!1&&(n!==a.x||i!==a.y)}}Ce(OR,"positioners",px);var TEe={id:"tooltip",_element:OR,positioners:px,afterInit(r,e,t){t&&(r.tooltip=new OR({chart:r,options:t}))},beforeUpdate(r,e,t){r.tooltip&&r.tooltip.initialize(t)},reset(r,e,t){r.tooltip&&r.tooltip.initialize(t)},afterDraw(r){const e=r.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(r.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(r.ctx),r.notifyPlugins("afterTooltipDraw",t)}},afterEvent(r,e){if(r.tooltip){const t=e.replay;r.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(r,e)=>e.bodyFont.size,boxWidth:(r,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:DJ},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:r=>r!=="filter"&&r!=="itemSort"&&r!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},FEe=Object.freeze({__proto__:null,Colors:Hbe,Decimation:zbe,Filler:uEe,Legend:mEe,SubTitle:yEe,Title:wEe,Tooltip:TEe});const IEe=(r,e,t,n)=>(typeof e=="string"?(t=r.push(e)-1,n.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function kEe(r,e,t,n){const i=r.indexOf(e);if(i===-1)return IEe(r,e,t,n);const s=r.lastIndexOf(e);return i!==s?t:i}const LEe=(r,e)=>r===null?null:js(Math.round(r),0,e);function k7(r){const e=this.getLabels();return r>=0&&r<e.length?e[r]:r}class QR extends o1{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const n=this.getLabels();for(const{index:i,label:s}of t)n[i]===s&&n.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Tr(e))return null;const n=this.getLabels();return t=isFinite(t)&&n[t]===e?t:kEe(n,e,cr(t,e),this._addedLabels),LEe(t,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),t||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,i=[];let s=this.getLabels();s=e===0&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let a=e;a<=t;a++)i.push({value:a});return i}getLabelForValue(e){return k7.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Ce(QR,"id","category"),Ce(QR,"defaults",{ticks:{callback:k7}});function PEe(r,e){const t=[],{bounds:i,step:s,min:a,max:o,precision:l,count:A,maxTicks:c,maxDigits:u,includeBounds:h}=r,f=s||1,g=c-1,{min:p,max:v}=e,m=!Tr(a),x=!Tr(o),_=!Tr(A),S=(v-p)/(u+1);let k=BH((v-p)/g/f)*f,R,B,E,b;if(k<1e-14&&!m&&!x)return[{value:p},{value:v}];b=Math.ceil(v/k)-Math.floor(p/k),b>g&&(k=BH(b*k/g/f)*f),Tr(l)||(R=Math.pow(10,l),k=Math.ceil(k*R)/R),i==="ticks"?(B=Math.floor(p/k)*k,E=Math.ceil(v/k)*k):(B=p,E=v),m&&x&&s&&C2e((o-a)/s,k/1e3)?(b=Math.round(Math.min((o-a)/k,c)),k=(o-a)/b,B=a,E=o):_?(B=m?a:B,E=x?o:E,b=A-1,k=(E-B)/b):(b=(E-B)/k,$x(b,Math.round(b),k/1e3)?b=Math.round(b):b=Math.ceil(b));const I=Math.max(SH(k),SH(B));R=Math.pow(10,Tr(l)?I:l),B=Math.round(B*R)/R,E=Math.round(E*R)/R;let T=0;for(m&&(h&&B!==a?(t.push({value:a}),B<a&&T++,$x(Math.round((B+T*k)*R)/R,a,L7(a,S,r))&&T++):B<a&&T++);T<b;++T){const F=Math.round((B+T*k)*R)/R;if(x&&F>o)break;t.push({value:F})}return x&&h&&E!==o?t.length&&$x(t[t.length-1].value,o,L7(o,S,r))?t[t.length-1].value=o:t.push({value:o}):(!x||E===o)&&t.push({value:E}),t}function L7(r,e,{horizontal:t,minRotation:n}){const i=wc(n),s=(t?Math.sin(i):Math.cos(i))||.001,a=.75*e*(""+r).length;return Math.min(e/s,a)}class sF extends o1{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Tr(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this;const a=l=>i=t?i:l,o=l=>s=n?s:l;if(e){const l=Uu(i),A=Uu(s);l<0&&A<0?o(0):l>0&&A>0&&a(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);o(s+l),e||a(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:n}=e,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},s=this._range||this,a=PEe(i,s);return e.bounds==="ticks"&&zY(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const i=(n-t)/Math.max(e.length-1,1)/2;t-=i,n+=i}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return wC(e,this.chart.options.locale,this.options.ticks.format)}}class HR extends sF{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Di(e)?e:0,this.max=Di(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=wc(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Ce(HR,"id","linear"),Ce(HR,"defaults",{ticks:{callback:L4.formatters.numeric}});const Z_=r=>Math.floor(b0(r)),Rp=(r,e)=>Math.pow(10,Z_(r)+e);function P7(r){return r/Math.pow(10,Z_(r))===1}function R7(r,e,t){const n=Math.pow(10,t),i=Math.floor(r/n);return Math.ceil(e/n)-i}function REe(r,e){const t=e-r;let n=Z_(t);for(;R7(r,e,n)>10;)n++;for(;R7(r,e,n)<10;)n--;return Math.min(n,Z_(r))}function DEe(r,{min:e,max:t}){e=vl(r.min,e);const n=[],i=Z_(e);let s=REe(e,t),a=s<0?Math.pow(10,Math.abs(s)):1;const o=Math.pow(10,s),l=i>s?Math.pow(10,i):0,A=Math.round((e-l)*a)/a,c=Math.floor((e-l)/o/10)*o*10;let u=Math.floor((A-c)/Math.pow(10,s)),h=vl(r.min,Math.round((l+c+u*Math.pow(10,s))*a)/a);for(;h<t;)n.push({value:h,major:P7(h),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(s++,u=2,a=s>=0?1:a),h=Math.round((l+c+u*Math.pow(10,s))*a)/a;const f=vl(r.max,h);return n.push({value:f,major:P7(f),significand:u}),n}class VR extends o1{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=sF.prototype.parse.apply(this,[e,t]);if(n===0){this._zero=!0;return}return Di(n)&&n>0?n:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Di(e)?Math.max(0,e):null,this.max=Di(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Di(this._userMin)&&(this.min=e===Rp(this.min,0)?Rp(this.min,-1):Rp(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,i=this.max;const s=o=>n=e?n:o,a=o=>i=t?i:o;n===i&&(n<=0?(s(1),a(10)):(s(Rp(n,-1)),a(Rp(i,1)))),n<=0&&s(Rp(i,-1)),i<=0&&a(Rp(n,1)),this.min=n,this.max=i}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},n=DEe(t,this);return e.bounds==="ticks"&&zY(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":wC(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=b0(e),this._valueRange=b0(this.max)-b0(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(b0(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}Ce(VR,"id","logarithmic"),Ce(VR,"defaults",{ticks:{callback:L4.formatters.logarithmic,major:{enabled:!0}}});function jR(r){const e=r.ticks;if(e.display&&r.display){const t=Ya(e.backdropPadding);return cr(e.font&&e.font.size,li.font.size)+t.height}return 0}function NEe(r,e,t){return t=oi(t)?t:[t],{w:V2e(r,e.string,t),h:t.length*e.lineHeight}}function D7(r,e,t,n,i){return r===n||r===i?{start:e-t/2,end:e+t/2}:r<n||r>i?{start:e-t,end:e}:{start:e,end:e+t}}function UEe(r){const e={l:r.left+r._padding.left,r:r.right-r._padding.right,t:r.top+r._padding.top,b:r.bottom-r._padding.bottom},t=Object.assign({},e),n=[],i=[],s=r._pointLabels.length,a=r.options.pointLabels,o=a.centerPointLabels?Zr/s:0;for(let l=0;l<s;l++){const A=a.setContext(r.getPointLabelContext(l));i[l]=A.padding;const c=r.getPointPosition(l,r.drawingArea+i[l],o),u=Cs(A.font),h=NEe(r.ctx,u,r._pointLabels[l]);n[l]=h;const f=Qa(r.getIndexAngle(l)+o),g=Math.round(rM(f)),p=D7(g,c.x,h.w,0,180),v=D7(g,c.y,h.h,90,270);MEe(t,e,f,p,v)}r.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),r._pointLabelItems=HEe(r,n,i)}function MEe(r,e,t,n,i){const s=Math.abs(Math.sin(t)),a=Math.abs(Math.cos(t));let o=0,l=0;n.start<e.l?(o=(e.l-n.start)/s,r.l=Math.min(r.l,e.l-o)):n.end>e.r&&(o=(n.end-e.r)/s,r.r=Math.max(r.r,e.r+o)),i.start<e.t?(l=(e.t-i.start)/a,r.t=Math.min(r.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/a,r.b=Math.max(r.b,e.b+l))}function OEe(r,e,t){const n=r.drawingArea,{extra:i,additionalAngle:s,padding:a,size:o}=t,l=r.getPointPosition(e,n+i+a,s),A=Math.round(rM(Qa(l.angle+Ji))),c=KEe(l.y,o.h,A),u=VEe(A),h=jEe(l.x,o.w,u);return{visible:!0,x:l.x,y:c,textAlign:u,left:h,top:c,right:h+o.w,bottom:c+o.h}}function QEe(r,e){if(!e)return!0;const{left:t,top:n,right:i,bottom:s}=r;return!(ff({x:t,y:n},e)||ff({x:t,y:s},e)||ff({x:i,y:n},e)||ff({x:i,y:s},e))}function HEe(r,e,t){const n=[],i=r._pointLabels.length,s=r.options,{centerPointLabels:a,display:o}=s.pointLabels,l={extra:jR(s)/2,additionalAngle:a?Zr/i:0};let A;for(let c=0;c<i;c++){l.padding=t[c],l.size=e[c];const u=OEe(r,c,l);n.push(u),o==="auto"&&(u.visible=QEe(u,A),u.visible&&(A=u))}return n}function VEe(r){return r===0||r===180?"center":r<180?"left":"right"}function jEe(r,e,t){return t==="right"?r-=e:t==="center"&&(r-=e/2),r}function KEe(r,e,t){return t===90||t===270?r-=e/2:(t>270||t<90)&&(r-=e),r}function zEe(r,e,t){const{left:n,top:i,right:s,bottom:a}=t,{backdropColor:o}=e;if(!Tr(o)){const l=Em(e.borderRadius),A=Ya(e.backdropPadding);r.fillStyle=o;const c=n-A.left,u=i-A.top,h=s-n+A.width,f=a-i+A.height;Object.values(l).some(g=>g!==0)?(r.beginPath(),Y_(r,{x:c,y:u,w:h,h:f,radius:l}),r.fill()):r.fillRect(c,u,h,f)}}function WEe(r,e){const{ctx:t,options:{pointLabels:n}}=r;for(let i=e-1;i>=0;i--){const s=r._pointLabelItems[i];if(!s.visible)continue;const a=n.setContext(r.getPointLabelContext(i));zEe(t,a,s);const o=Cs(a.font),{x:l,y:A,textAlign:c}=s;Wm(t,r._pointLabels[i],l,A+o.lineHeight/2,o,{color:a.color,textAlign:c,textBaseline:"middle"})}}function NJ(r,e,t,n){const{ctx:i}=r;if(t)i.arc(r.xCenter,r.yCenter,e,0,Zn);else{let s=r.getPointPosition(0,e);i.moveTo(s.x,s.y);for(let a=1;a<n;a++)s=r.getPointPosition(a,e),i.lineTo(s.x,s.y)}}function GEe(r,e,t,n,i){const s=r.ctx,a=e.circular,{color:o,lineWidth:l}=e;!a&&!n||!o||!l||t<0||(s.save(),s.strokeStyle=o,s.lineWidth=l,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),NJ(r,t,a,n),s.closePath(),s.stroke(),s.restore())}function $Ee(r,e,t){return pp(r,{label:t,index:e,type:"pointLabel"})}class gx extends sF{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Ya(jR(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=Di(e)&&!isNaN(e)?e:0,this.max=Di(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/jR(this.options))}generateTickLabels(e){sF.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,n)=>{const i=Hn(this.options.pointLabels.callback,[t,n],this);return i||i===0?i:""}).filter((t,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?UEe(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,i))}getIndexAngle(e){const t=Zn/(this._pointLabels.length||1),n=this.options.startAngle||0;return Qa(e*t+wc(n))}getDistanceFromCenterForValue(e){if(Tr(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Tr(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return $Ee(this.getContext(),e,n)}}getPointPosition(e,t,n=0){const i=this.getIndexAngle(e)-Ji+n;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:i,bottom:s}=this._pointLabelItems[e];return{left:t,top:n,right:i,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),NJ(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:i,border:s}=t,a=this._pointLabels.length;let o,l,A;if(t.pointLabels.display&&WEe(this,a),i.display&&this.ticks.forEach((c,u)=>{if(u!==0||u===0&&this.min<0){l=this.getDistanceFromCenterForValue(c.value);const h=this.getContext(u),f=i.setContext(h),g=s.setContext(h);GEe(this,f,l,a,g)}}),n.display){for(e.save(),o=a-1;o>=0;o--){const c=n.setContext(this.getPointLabelContext(o)),{color:u,lineWidth:h}=c;!h||!u||(e.lineWidth=h,e.strokeStyle=u,e.setLineDash(c.borderDash),e.lineDashOffset=c.borderDashOffset,l=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),A=this.getPointPosition(o,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(A.x,A.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let s,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((o,l)=>{if(l===0&&this.min>=0&&!t.reverse)return;const A=n.setContext(this.getContext(l)),c=Cs(A.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),A.showLabelBackdrop){e.font=c.string,a=e.measureText(o.label).width,e.fillStyle=A.backdropColor;const u=Ya(A.backdropPadding);e.fillRect(-a/2-u.left,-s-c.size/2-u.top,a+u.width,c.size+u.height)}Wm(e,o.label,0,-s,c,{color:A.color,strokeColor:A.textStrokeColor,strokeWidth:A.textStrokeWidth})}),e.restore()}drawTitle(){}}Ce(gx,"id","radialLinear"),Ce(gx,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:L4.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),Ce(gx,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Ce(gx,"descriptors",{angleLines:{_fallback:"grid"}});const M4={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},qo=Object.keys(M4);function N7(r,e){return r-e}function U7(r,e){if(Tr(e))return null;const t=r._adapter,{parser:n,round:i,isoWeekday:s}=r._parseOpts;let a=e;return typeof n=="function"&&(a=n(a)),Di(a)||(a=typeof n=="string"?t.parse(a,n):t.parse(a)),a===null?null:(i&&(a=i==="week"&&(by(s)||s===!0)?t.startOf(a,"isoWeek",s):t.startOf(a,i)),+a)}function M7(r,e,t,n){const i=qo.length;for(let s=qo.indexOf(r);s<i-1;++s){const a=M4[qo[s]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((t-e)/(o*a.size))<=n)return qo[s]}return qo[i-1]}function qEe(r,e,t,n,i){for(let s=qo.length-1;s>=qo.indexOf(t);s--){const a=qo[s];if(M4[a].common&&r._adapter.diff(i,n,a)>=e-1)return a}return qo[t?qo.indexOf(t):0]}function XEe(r){for(let e=qo.indexOf(r)+1,t=qo.length;e<t;++e)if(M4[qo[e]].common)return qo[e]}function O7(r,e,t){if(!t)r[e]=!0;else if(t.length){const{lo:n,hi:i}=nM(t,e),s=t[n]>=e?t[n]:t[i];r[s]=!0}}function YEe(r,e,t,n){const i=r._adapter,s=+i.startOf(e[0].value,n),a=e[e.length-1].value;let o,l;for(o=s;o<=a;o=+i.add(o,1,n))l=t[o],l>=0&&(e[l].major=!0);return e}function Q7(r,e,t){const n=[],i={},s=e.length;let a,o;for(a=0;a<s;++a)o=e[a],i[o]=a,n.push({value:o,major:!1});return s===0||!t?n:YEe(r,n,i,t)}class eb extends o1{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const n=e.time||(e.time={}),i=this._adapter=new s_e._date(e.adapters.date);i.init(t),Gx(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:U7(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:i,max:s,minDefined:a,maxDefined:o}=this.getUserBounds();function l(A){!a&&!isNaN(A.min)&&(i=Math.min(i,A.min)),!o&&!isNaN(A.max)&&(s=Math.max(s,A.max))}(!a||!o)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Di(i)&&!isNaN(i)?i:+t.startOf(Date.now(),n),s=Di(s)&&!isNaN(s)?s:+t.endOf(Date.now(),n)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,a=this.max,o=F2e(i,s,a);return this._unit=t.unit||(n.autoSkip?M7(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):qEe(this,o.length,t.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:XEe(this._unit),this.initOffsets(i),e.reverse&&o.reverse(),Q7(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,n=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?n=s:n=(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;t=js(t,0,a),n=js(n,0,a),this._offsets={start:t,end:n,factor:1/(t+1+n)}}_generate(){const e=this._adapter,t=this.min,n=this.max,i=this.options,s=i.time,a=s.unit||M7(s.minUnit,t,n,this._getLabelCapacity(t)),o=cr(i.ticks.stepSize,1),l=a==="week"?s.isoWeekday:!1,A=by(l)||l===!0,c={};let u=t,h,f;if(A&&(u=+e.startOf(u,"isoWeek",l)),u=+e.startOf(u,A?"day":a),e.diff(n,t,a)>1e5*o)throw new Error(t+" and "+n+" are too far apart with stepSize of "+o+" "+a);const g=i.ticks.source==="data"&&this.getDataTimestamps();for(h=u,f=0;h<n;h=+e.add(h,o,a),f++)O7(c,h,g);return(h===n||i.bounds==="ticks"||f===1)&&O7(c,h,g),Object.keys(c).sort(N7).map(p=>+p)}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,s=this._unit,a=t||i[s];return this._adapter.format(e,a)}_tickFormatFunction(e,t,n,i){const s=this.options,a=s.ticks.callback;if(a)return Hn(a,[e,t,n],this);const o=s.time.displayFormats,l=this._unit,A=this._majorUnit,c=l&&o[l],u=A&&o[A],h=n[t],f=A&&u&&h&&h.major;return this._adapter.format(e,i||(f?u:c))}generateTickLabels(e){let t,n,i;for(t=0,n=e.length;t<n;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,i=wc(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(i),a=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:n*s+o*a,h:n*a+o*s}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,i=n[t.unit]||n.millisecond,s=this._tickFormatFunction(e,0,Q7(this,[e],this._majorUnit),i),a=this._getLabelSize(s),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],t,n;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,n=i.length;t<n;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const i=this.getLabels();for(t=0,n=i.length;t<n;++t)e.push(U7(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return $Y(e.sort(N7))}}Ce(eb,"id","time"),Ce(eb,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function HB(r,e,t){let n=0,i=r.length-1,s,a,o,l;t?(e>=r[n].pos&&e<=r[i].pos&&({lo:n,hi:i}=hf(r,"pos",e)),{pos:s,time:o}=r[n],{pos:a,time:l}=r[i]):(e>=r[n].time&&e<=r[i].time&&({lo:n,hi:i}=hf(r,"time",e)),{time:s,pos:o}=r[n],{time:a,pos:l}=r[i]);const A=a-s;return A?o+(l-o)*(e-s)/A:o}class KR extends eb{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=HB(t,this.min),this._tableRange=HB(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,i=[],s=[];let a,o,l,A,c;for(a=0,o=e.length;a<o;++a)A=e[a],A>=t&&A<=n&&i.push(A);if(i.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(a=0,o=i.length;a<o;++a)c=i[a+1],l=i[a-1],A=i[a],Math.round((c+l)/2)!==A&&s.push({time:A,pos:a/(o-1)});return s}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(t)||n.length===1)&&n.push(t),n.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return t.length&&n.length?e=this.normalize(t.concat(n)):e=t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(HB(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return HB(this._table,n*this._tableRange+this._minPos,!0)}}Ce(KR,"id","timeseries"),Ce(KR,"defaults",eb.defaults);var JEe=Object.freeze({__proto__:null,CategoryScale:QR,LinearScale:HR,LogarithmicScale:VR,RadialLinearScale:gx,TimeScale:eb,TimeSeriesScale:KR});const ZEe=[i_e,Rbe,FEe,JEe];Cu.register(...ZEe);function H7(r,e){return e?e.includes("1")?r>=18?"":r>=9?"":"":[14,15,17,18,19,21].includes(r)?"":[6,7,8,9,10,11,12,13,16,20].includes(r)?"":"":" "}function UJ(r,e){const t=r.studentData.students.filter(i=>i.submitted);let n="";if(t.length===0)n='<div class="card p-8 printable-section"><h3 class="section-title">    </h3><p class="text-center text-gray-500">     .</p></div>';else{const i=t.map(A=>A.score),s=Math.max(...i),a=Math.min(...i),o=[];r.studentData.answerRates.forEach((A,c)=>{A===100&&o.push(c+1)});const l=[];r.studentData.answerRates.forEach((A,c)=>{A<=40&&l.push({qNum:c+1,rate:A})}),n=`
            <div id="pdf-section-features" class="card p-8 printable-section">
                <h3 class="section-title">    </h3>
                <div class="grid md:grid-cols-3 gap-6">
                    <div class="bg-indigo-50 p-4 rounded-lg border border-indigo-200">
                        <h4 class="font-semibold text-indigo-800">  </h4>
                        <p class="text-indigo-700 mt-2"> ${s},  ${a},  ${r.studentData.classAverage}</p>
                    </div>
                    <div class="bg-green-50 p-4 rounded-lg border border-green-200">
                        <h4 class="font-semibold text-green-800">   </h4>
                        <p class="text-green-700 mt-2">${o.length>0?o.map(A=>`${A}`).join(", "):""}</p>
                    </div>
                    <div class="bg-red-50 p-4 rounded-lg border border-red-200">
                        <h4 class="font-semibold text-red-800">    (40% )</h4>
                        ${l.length>0?l.map(A=>`<span class="text-red-700">${A.qNum} (${A.rate}%)</span>`).join(", "):'<p class="text-red-700 mt-2"></p>'}
                    </div>
                </div>
            </div>
        `}return n}function eCe(r,e,t,n){const i=UJ(r),s=e?e.summary.replace(/\n/g," "):'<div class="ai-spinner"></div>',a=e?e.common_weaknesses.replace(/\n/g," "):'<div class="ai-spinner"></div>',o=e?e.recommendations.replace(/\n/g," "):'<div class="ai-spinner"></div>',l=`
        <div id="pdf-section-ai-overall" class="card p-8 printable-section">
            <h3 class="section-title">   AI  </h3>
            <div class="w-full mb-8"><canvas id="scoreChart"></canvas></div>
            <div class="space-y-6">
                <div class="p-6 rounded-lg bg-gray-100 border border-gray-200">
                    <h4 class="font-bold text-lg text-gray-800 mb-2">  </h4>
                    <div class="text-gray-700 report-ai-content max-w-none">${s}</div>
                </div>
                <div class="p-6 rounded-lg bg-red-50 border-red-200">
                    <h4 class="font-bold text-lg text-red-800 mb-2">   </h4>
                    <div class="text-red-700 report-ai-content max-w-none">${a}</div>
                </div>
                <div class="p-6 rounded-lg bg-green-50 border-green-200">
                    <h4 class="font-bold text-lg text-green-800 mb-2">   </h4>
                    <div class="text-green-700 report-ai-content max-w-none">${o}</div>
                </div>
            </div>
        </div>
    `;let A='<tr><td colspan="4" class="text-center py-4">AI   ...</td></tr>';e&&(e.question_analysis&&e.question_analysis.length>0?A=e.question_analysis.map(u=>`
                <tr class="border-b bg-red-50 hover:bg-red-100">
                    <td class="px-4 py-3 text-center font-medium">${u.qNum}</td>
                    <td class="px-6 py-3">${u.unit||" ..."}</td>
                    <td class="px-6 py-3">${u.analysis_point||" ..."}</td>
                    <td class="px-6 py-3">${u.solution||" ..."}</td>
                </tr>
            `).join(""):A='<tr><td colspan="4" class="text-center py-4">   .</td></tr>');const c=`
        <div id="pdf-section-solutions-overall" class="card p-8 printable-section">
            <h3 class="section-title">     (AI )</h3>
            <div class="overflow-x-auto">
                <table class="w-full text-sm text-left text-gray-500">
                    <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                        <tr>
                            <th class="px-4 py-3 text-center"></th>
                            <th class="px-6 py-3">   (AI)</th>
                            <th class="px-6 py-3"> </th>
                            <th class="px-6 py-3"> </th>
                        </tr>
                    </thead>
                    <tbody>
                        ${A}
                    </tbody>
                </table>
            </div>
        </div>
    `;return`
        <div class="text-center my-4 print:hidden">
            <h2 class="text-3xl font-bold text-gray-800">${t} ${n}</h2>
            <p class="text-xl text-gray-600">  ( )</p>
        </div>
        
        <div class="report-page active" data-page-name=" ">
            ${i}
            ${l}
        </div>
        
        <div class="report-page" data-page-name="  ">
            ${c}
        </div>
    `}function tCe(r,e,t,n,i,s){var x,_,S;if(!r.submitted)return`
            <div class="text-center my-4 print:hidden">
                <h2 class="text-3xl font-bold text-gray-800">${i} ${s}</h2>
                <p class="text-xl text-gray-600">${r.name}  </p>
            </div>
            <div class="card p-8 text-center">
                <p class="text-xl text-gray-600 p-8">       .</p>
            </div>
        `;const a=UJ(e),o=`
        <div id="pdf-section-comment" class="card p-8 printable-section">
            <h3 class="section-title">   </h3>
            <div class="p-6 rounded-lg bg-blue-50 border border-blue-200">
                <textarea id="instructorComment" 
                    class="w-full h-40 p-3 bg-white border border-blue-200 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none transition duration-150 ease-in-out" 
                    placeholder="   ..."></textarea>
            </div>
        </div>
    `,l=t?t.strengths.replace(/\n/g," "):'<div class="ai-spinner"></div>',A=t?t.weaknesses.replace(/\n/g," "):'<div class="ai-spinner"></div>',c=t?t.recommendations.replace(/\n/g," "):'<div class="ai-spinner"></div>',u=`
        <div id="pdf-section-chart" class="card p-8 printable-section">
            <h3 class="section-title"> ${r.name}   </h3>
            <div class="w-full"><canvas id="scoreChart"></canvas></div>
        </div>
    `,h=`
        <div id="pdf-section-ai-boxes" class="card p-8 printable-section">
            <h3 class="section-title"> ${r.name}  AI  </h3>
            
            <div class="space-y-6">
                <div class="p-6 rounded-lg bg-blue-50 border border-blue-200">
                    <h4 class="font-bold text-lg text-blue-800 mb-2">  (Strengths)</h4>
                    <div class="text-blue-700 report-ai-content max-w-none">${l}</div>
                </div>
                <div class="p-6 rounded-lg bg-red-50 border-red-200">
                    <h4 class="font-bold text-lg text-red-800 mb-2">  (Weaknesses)</h4>
                    <div class="text-red-700 report-ai-content max-w-none">${A}</div>
                </div>
                <div class="p-6 rounded-lg bg-green-50 border-green-200">
                    <h4 class="font-bold text-lg text-green-800 mb-2">   (Recommendations)</h4>
                    <div class="text-green-700 report-ai-content max-w-none">${c}</div>
                </div>
            </div>
        </div>
    `,f=new Map;(_=(x=e.questionUnitMap)==null?void 0:x.question_units)==null||_.forEach(k=>f.set(k.qNum,k.unit)),(S=t==null?void 0:t.incorrect_analysis)==null||S.forEach(k=>{k.unit&&f.set(k.qNum,k.unit)});const p=`
        <div id="pdf-section-errata" class="card p-8 printable-section">
            <h3 class="section-title">  </h3>
            <div class="overflow-x-auto">
                <table class="w-full text-sm text-left text-gray-500">
                    <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                        <tr>
                            <th class="px-4 py-3 text-center"></th>
                            <th class="px-6 py-3">   (AI )</th>
                            <th class="px-4 py-3 text-center"></th>
                            <th class="px-4 py-3 text-center"></th>
                            <th class="px-4 py-3 text-center">  (%)</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${r.answers.map((k,R)=>`
        <tr class="border-b ${k.isCorrect?"hover:bg-gray-50":"bg-red-50 hover:bg-red-100"}">
            <td class="px-4 py-3 text-center font-medium ${k.isCorrect?"":"text-red-600"}">${k.qNum}</td>
            <td class="px-6 py-3">${f.get(k.qNum)||""}</td>
            <td class="px-4 py-3 text-center">${H7(k.qNum,i)}</td>
            <td class="px-4 py-3 text-center font-bold ${k.isCorrect?"text-blue-600":"text-red-600"}">${k.isCorrect?"O":"X"}</td>
            <td class="px-4 py-3 text-center">${e.studentData.answerRates[R]??"N/A"}%</td>
        </tr>
    `).join("")}
                    </tbody>
                </table>
            </div>
        </div>
    `;let v='<tr><td colspan="5" class="text-center py-4">AI   ...</td></tr>';t&&(t.incorrect_analysis&&t.incorrect_analysis.length>0?v=t.incorrect_analysis.map(k=>`
                <tr class="border-b bg-red-50 hover:bg-red-100">
                    <td class="px-4 py-3 text-center font-medium">${k.qNum}</td>
                    <td class="px-6 py-3">${f.get(k.qNum)||" "}</td>
                    <td class="px-4 py-3 text-center">${H7(k.qNum,i)}</td>
                    <td class="px-6 py-3">${k.analysis_point||"AI  ..."}</td>
                    <td class="px-6 py-3">${k.solution||"AI  ..."}</td>
                </tr>
            `).join(""):v='<tr><td colspan="5" class="text-center py-4">  !</td></tr>');const m=`
        <div id="pdf-section-solutions" class="card p-8 printable-section">
            <h3 class="section-title">      (AI )</h3>
            <div class="overflow-x-auto">
                <table class="w-full text-sm text-left text-gray-500">
                    <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                        <tr>
                            <th class="px-4 py-3 text-center"></th>
                            <th class="px-6 py-3">  </th>
                            <th class="px-4 py-3 text-center"></th>
                            <th class="px-6 py-3">  (AI)</th>
                            <th class="px-6 py-3">  (AI)</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${v}
                    </tbody>
                </table>
            </div>
        </div>
    `;return`
        <div class="text-center my-4 print:hidden">
            <h2 class="text-3xl font-bold text-gray-800">${i} ${s}</h2>
            <p class="text-xl text-gray-600">${r.name}  </p>
        </div>

        <div class="report-page active" data-page-name=" ">
            ${a}
            ${o}
            ${u} {/* 1.  1  */}
        </div>
        
        <div class="report-page" data-page-name="AI ">
            ${h} {/* 2. AI  2  */}
        </div>
        
        <div class="report-page" data-page-name=" ">
            ${p} {/* 3.  3  */}
        </div>

        <div class="report-page" data-page-name=" ">
            ${m} {/* 4.   4 */}
        </div>
    `}function V7(r,e,t){if(!r)return null;const n=r.getContext("2d");if(!n)return null;const s=[...e.students.filter(c=>c.submitted)].sort((c,u)=>u.score-c.score),a=s.map((c,u)=>t&&c.name===t.name?c.name:t?` ${u+1}`:c.name),o=s.map(c=>c.score),l=s.map(c=>t&&c.name===t.name?"rgba(59, 130, 246, 0.7)":"rgba(156, 163, 175, 0.5)"),A=s.map(c=>t&&c.name===t.name?"rgba(37, 99, 235, 1)":"rgba(107, 114, 128, 1)");return new Cu(n,{type:"bar",data:{labels:a,datasets:[{label:t?" ":" ",data:o,backgroundColor:l,borderColor:A,borderWidth:1,order:2},{label:" ",data:Array(o.length).fill(e.classAverage),type:"line",fill:!1,borderColor:"rgb(239, 68, 68)",backgroundColor:"rgb(239, 68, 68)",tension:.1,borderWidth:3,pointRadius:0,order:1}]},options:{responsive:!0,maintainAspectRatio:!0,scales:{y:{beginAtZero:!0,max:100},x:{ticks:{display:t||s.length<=10}}},plugins:{title:{display:!0,text:"    ()",font:{size:16}},legend:{position:"bottom"},tooltip:{callbacks:{label:function(c){let u=c.dataset.label||"";return u&&(u+=": "),c.dataset.type==="line"?u=" ":u=t?c.label:s[c.dataIndex].name,c.parsed.y!==null&&(u+=`${c.parsed.y}`),u}}}}}})}const rCe=()=>{const{testData:r,currentPage:e,selectedClass:t,selectedDate:n,selectedStudent:i,setReportHTML:s,setCurrentPage:a,setErrorMessage:o,setReportCurrentPage:l}=Ic(),A=nr.useCallback(()=>{var f,g,p;const c=(f=r[t])==null?void 0:f[n];if(!c){o("    ."),a("page4");return}const u=i?(p=(g=c.studentData)==null?void 0:g.students)==null?void 0:p.find(v=>v.name===i):null;if(i&&!u){o(` '${i}'  .`),a("page4");return}if(!c.aiOverallAnalysis||!c.questionUnitMap){o("  . (  ) ''    ."),a("page4");return}if(i&&u.submitted&&!u.aiAnalysis){o(`'${i}'  AI  . ''    .`),a("page4");return}const h=i?tCe(u,c,u==null?void 0:u.aiAnalysis,c.aiOverallAnalysis,t,n):eCe(c,c.aiOverallAnalysis,t,n);s(h),l(1)},[r,t,n,i,s,o,a,l]);return nr.useEffect(()=>{e==="page5"&&A()},[e,A]),{}};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var zR=function(r,e){return zR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},zR(r,e)};function kc(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");zR(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var WR=function(){return WR=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},WR.apply(this,arguments)};function co(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(c){try{A(n.next(c))}catch(u){a(u)}}function l(c){try{A(n.throw(c))}catch(u){a(u)}}function A(c){c.done?s(c.value):i(c.value).then(o,l)}A((n=n.apply(r,[])).next())})}function Na(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(A){return function(c){return l([A,c])}}function l(A){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(s=A[0]&2?i.return:A[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,A[1])).done)return s;switch(i=0,s&&(A=[A[0]&2,s.value]),A[0]){case 0:case 1:s=A;break;case 4:return t.label++,{value:A[1],done:!1};case 5:t.label++,i=A[1],A=[0];continue;case 7:A=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(A[0]===6||A[0]===2)){t=0;continue}if(A[0]===3&&(!s||A[1]>s[0]&&A[1]<s[3])){t.label=A[1];break}if(A[0]===6&&t.label<s[1]){t.label=s[1],s=A;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(A);break}s[2]&&t.ops.pop(),t.trys.pop();continue}A=e.call(r,t)}catch(c){A=[6,c],i=0}finally{n=s=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}}function VB(r,e,t){if(arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return r.concat(s||e)}var Lf=function(){function r(e,t,n,i){this.left=e,this.top=t,this.width=n,this.height=i}return r.prototype.add=function(e,t,n,i){return new r(this.left+e,this.top+t,this.width+n,this.height+i)},r.fromClientRect=function(e,t){return new r(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},r.fromDOMRectList=function(e,t){var n=Array.from(t).find(function(i){return i.width!==0});return n?new r(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):r.EMPTY},r.EMPTY=new r(0,0,0,0),r}(),O4=function(r,e){return Lf.fromClientRect(r,e.getBoundingClientRect())},nCe=function(r){var e=r.body,t=r.documentElement;if(!e||!t)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),i=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new Lf(0,0,n,i)},Q4=function(r){for(var e=[],t=0,n=r.length;t<n;){var i=r.charCodeAt(t++);if(i>=55296&&i<=56319&&t<n){var s=r.charCodeAt(t++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),t--)}else e.push(i)}return e},Wi=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var t=r.length;if(!t)return"";for(var n=[],i=-1,s="";++i<t;){var a=r[i];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(i+1===t||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},j7="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",iCe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var jB=0;jB<j7.length;jB++)iCe[j7.charCodeAt(jB)]=jB;var K7="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mx=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var KB=0;KB<K7.length;KB++)mx[K7.charCodeAt(KB)]=KB;var sCe=function(r){var e=r.length*.75,t=r.length,n,i=0,s,a,o,l;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var A=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),c=Array.isArray(A)?A:new Uint8Array(A);for(n=0;n<t;n+=4)s=mx[r.charCodeAt(n)],a=mx[r.charCodeAt(n+1)],o=mx[r.charCodeAt(n+2)],l=mx[r.charCodeAt(n+3)],c[i++]=s<<2|a>>4,c[i++]=(a&15)<<4|o>>2,c[i++]=(o&3)<<6|l&63;return A},aCe=function(r){for(var e=r.length,t=[],n=0;n<e;n+=2)t.push(r[n+1]<<8|r[n]);return t},oCe=function(r){for(var e=r.length,t=[],n=0;n<e;n+=4)t.push(r[n+3]<<24|r[n+2]<<16|r[n+1]<<8|r[n]);return t},Bm=5,dM=11,Ik=2,lCe=dM-Bm,MJ=65536>>Bm,ACe=1<<Bm,kk=ACe-1,cCe=1024>>Bm,uCe=MJ+cCe,hCe=uCe,fCe=32,dCe=hCe+fCe,pCe=65536>>dM,gCe=1<<lCe,mCe=gCe-1,z7=function(r,e,t){return r.slice?r.slice(e,t):new Uint16Array(Array.prototype.slice.call(r,e,t))},vCe=function(r,e,t){return r.slice?r.slice(e,t):new Uint32Array(Array.prototype.slice.call(r,e,t))},wCe=function(r,e){var t=sCe(r),n=Array.isArray(t)?oCe(t):new Uint32Array(t),i=Array.isArray(t)?aCe(t):new Uint16Array(t),s=24,a=z7(i,s/2,n[4]/2),o=n[5]===2?z7(i,(s+n[4])/2):vCe(n,Math.ceil((s+n[4])/4));return new yCe(n[0],n[1],n[2],n[3],a,o)},yCe=function(){function r(e,t,n,i,s,a){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=a}return r.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>Bm],t=(t<<Ik)+(e&kk),this.data[t];if(e<=65535)return t=this.index[MJ+(e-55296>>Bm)],t=(t<<Ik)+(e&kk),this.data[t];if(e<this.highStart)return t=dCe-pCe+(e>>dM),t=this.index[t],t+=e>>Bm&mCe,t=this.index[t],t=(t<<Ik)+(e&kk),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r}(),W7="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xCe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var zB=0;zB<W7.length;zB++)xCe[W7.charCodeAt(zB)]=zB;var _Ce="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",G7=50,bCe=1,OJ=2,QJ=3,ECe=4,CCe=5,$7=7,HJ=8,q7=9,S0=10,GR=11,X7=12,$R=13,BCe=14,vx=15,qR=16,WB=17,B2=18,SCe=19,Y7=20,XR=21,S2=22,Lk=23,x1=24,gl=25,wx=26,yx=27,_1=28,TCe=29,Gp=30,FCe=31,GB=32,$B=33,YR=34,JR=35,ZR=36,tb=37,eD=38,F5=39,I5=40,Pk=41,VJ=42,ICe=43,kCe=[9001,65288],jJ="!",kr="",qB="",tD=wCe(_Ce),ah=[Gp,ZR],rD=[bCe,OJ,QJ,CCe],KJ=[S0,HJ],J7=[yx,wx],LCe=rD.concat(KJ),Z7=[eD,F5,I5,YR,JR],PCe=[vx,$R],RCe=function(r,e){e===void 0&&(e="strict");var t=[],n=[],i=[];return r.forEach(function(s,a){var o=tD.get(s);if(o>G7?(i.push(!0),o-=G7):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return n.push(a),t.push(qR);if(o===ECe||o===GR){if(a===0)return n.push(a),t.push(Gp);var l=t[a-1];return LCe.indexOf(l)===-1?(n.push(n[a-1]),t.push(l)):(n.push(a),t.push(Gp))}if(n.push(a),o===FCe)return t.push(e==="strict"?XR:tb);if(o===VJ||o===TCe)return t.push(Gp);if(o===ICe)return s>=131072&&s<=196605||s>=196608&&s<=262141?t.push(tb):t.push(Gp);t.push(o)}),[n,t,i]},Rk=function(r,e,t,n){var i=n[t];if(Array.isArray(r)?r.indexOf(i)!==-1:r===i)for(var s=t;s<=n.length;){s++;var a=n[s];if(a===e)return!0;if(a!==S0)break}if(i===S0)for(var s=t;s>0;){s--;var o=n[s];if(Array.isArray(r)?r.indexOf(o)!==-1:r===o)for(var l=t;l<=n.length;){l++;var a=n[l];if(a===e)return!0;if(a!==S0)break}if(o!==S0)break}return!1},e9=function(r,e){for(var t=r;t>=0;){var n=e[t];if(n===S0)t--;else return n}return 0},DCe=function(r,e,t,n,i){if(t[n]===0)return kr;var s=n-1;if(Array.isArray(i)&&i[s]===!0)return kr;var a=s-1,o=s+1,l=e[s],A=a>=0?e[a]:0,c=e[o];if(l===OJ&&c===QJ)return kr;if(rD.indexOf(l)!==-1)return jJ;if(rD.indexOf(c)!==-1||KJ.indexOf(c)!==-1)return kr;if(e9(s,e)===HJ)return qB;if(tD.get(r[s])===GR||(l===GB||l===$B)&&tD.get(r[o])===GR||l===$7||c===$7||l===q7||[S0,$R,vx].indexOf(l)===-1&&c===q7||[WB,B2,SCe,x1,_1].indexOf(c)!==-1||e9(s,e)===S2||Rk(Lk,S2,s,e)||Rk([WB,B2],XR,s,e)||Rk(X7,X7,s,e))return kr;if(l===S0)return qB;if(l===Lk||c===Lk)return kr;if(c===qR||l===qR)return qB;if([$R,vx,XR].indexOf(c)!==-1||l===BCe||A===ZR&&PCe.indexOf(l)!==-1||l===_1&&c===ZR||c===Y7||ah.indexOf(c)!==-1&&l===gl||ah.indexOf(l)!==-1&&c===gl||l===yx&&[tb,GB,$B].indexOf(c)!==-1||[tb,GB,$B].indexOf(l)!==-1&&c===wx||ah.indexOf(l)!==-1&&J7.indexOf(c)!==-1||J7.indexOf(l)!==-1&&ah.indexOf(c)!==-1||[yx,wx].indexOf(l)!==-1&&(c===gl||[S2,vx].indexOf(c)!==-1&&e[o+1]===gl)||[S2,vx].indexOf(l)!==-1&&c===gl||l===gl&&[gl,_1,x1].indexOf(c)!==-1)return kr;if([gl,_1,x1,WB,B2].indexOf(c)!==-1)for(var u=s;u>=0;){var h=e[u];if(h===gl)return kr;if([_1,x1].indexOf(h)!==-1)u--;else break}if([yx,wx].indexOf(c)!==-1)for(var u=[WB,B2].indexOf(l)!==-1?a:s;u>=0;){var h=e[u];if(h===gl)return kr;if([_1,x1].indexOf(h)!==-1)u--;else break}if(eD===l&&[eD,F5,YR,JR].indexOf(c)!==-1||[F5,YR].indexOf(l)!==-1&&[F5,I5].indexOf(c)!==-1||[I5,JR].indexOf(l)!==-1&&c===I5||Z7.indexOf(l)!==-1&&[Y7,wx].indexOf(c)!==-1||Z7.indexOf(c)!==-1&&l===yx||ah.indexOf(l)!==-1&&ah.indexOf(c)!==-1||l===x1&&ah.indexOf(c)!==-1||ah.concat(gl).indexOf(l)!==-1&&c===S2&&kCe.indexOf(r[o])===-1||ah.concat(gl).indexOf(c)!==-1&&l===B2)return kr;if(l===Pk&&c===Pk){for(var f=t[s],g=1;f>0&&(f--,e[f]===Pk);)g++;if(g%2!==0)return kr}return l===GB&&c===$B?kr:qB},NCe=function(r,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=RCe(r,e.lineBreak),n=t[0],i=t[1],s=t[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(o){return[gl,Gp,VJ].indexOf(o)!==-1?tb:o}));var a=e.wordBreak==="keep-all"?s.map(function(o,l){return o&&r[l]>=19968&&r[l]<=40959}):void 0;return[n,i,a]},UCe=function(){function r(e,t,n,i){this.codePoints=e,this.required=t===jJ,this.start=n,this.end=i}return r.prototype.slice=function(){return Wi.apply(void 0,this.codePoints.slice(this.start,this.end))},r}(),MCe=function(r,e){var t=Q4(r),n=NCe(t,e),i=n[0],s=n[1],a=n[2],o=t.length,l=0,A=0;return{next:function(){if(A>=o)return{done:!0,value:null};for(var c=kr;A<o&&(c=DCe(t,s,i,++A,a))===kr;);if(c!==kr||A===o){var u=new UCe(t,c,l,A);return l=A,{value:u,done:!1}}return{done:!0,value:null}}}},OCe=1,QCe=2,yC=4,t9=8,aF=10,r9=47,Jx=92,HCe=9,VCe=32,XB=34,T2=61,jCe=35,KCe=36,zCe=37,YB=39,JB=40,F2=41,WCe=95,Go=45,GCe=33,$Ce=60,qCe=62,XCe=64,YCe=91,JCe=93,ZCe=61,eBe=123,ZB=63,tBe=125,n9=124,rBe=126,nBe=128,i9=65533,Dk=42,ig=43,iBe=44,sBe=58,aBe=59,rb=46,oBe=0,lBe=8,ABe=11,cBe=14,uBe=31,hBe=127,$c=-1,zJ=48,WJ=97,GJ=101,fBe=102,dBe=117,pBe=122,$J=65,qJ=69,XJ=70,gBe=85,mBe=90,Ha=function(r){return r>=zJ&&r<=57},vBe=function(r){return r>=55296&&r<=57343},b1=function(r){return Ha(r)||r>=$J&&r<=XJ||r>=WJ&&r<=fBe},wBe=function(r){return r>=WJ&&r<=pBe},yBe=function(r){return r>=$J&&r<=mBe},xBe=function(r){return wBe(r)||yBe(r)},_Be=function(r){return r>=nBe},eS=function(r){return r===aF||r===HCe||r===VCe},oF=function(r){return xBe(r)||_Be(r)||r===WCe},s9=function(r){return oF(r)||Ha(r)||r===Go},bBe=function(r){return r>=oBe&&r<=lBe||r===ABe||r>=cBe&&r<=uBe||r===hBe},dd=function(r,e){return r!==Jx?!1:e!==aF},tS=function(r,e,t){return r===Go?oF(e)||dd(e,t):oF(r)?!0:!!(r===Jx&&dd(r,e))},Nk=function(r,e,t){return r===ig||r===Go?Ha(e)?!0:e===rb&&Ha(t):Ha(r===rb?e:r)},EBe=function(r){var e=0,t=1;(r[e]===ig||r[e]===Go)&&(r[e]===Go&&(t=-1),e++);for(var n=[];Ha(r[e]);)n.push(r[e++]);var i=n.length?parseInt(Wi.apply(void 0,n),10):0;r[e]===rb&&e++;for(var s=[];Ha(r[e]);)s.push(r[e++]);var a=s.length,o=a?parseInt(Wi.apply(void 0,s),10):0;(r[e]===qJ||r[e]===GJ)&&e++;var l=1;(r[e]===ig||r[e]===Go)&&(r[e]===Go&&(l=-1),e++);for(var A=[];Ha(r[e]);)A.push(r[e++]);var c=A.length?parseInt(Wi.apply(void 0,A),10):0;return t*(i+o*Math.pow(10,-a))*Math.pow(10,l*c)},CBe={type:2},BBe={type:3},SBe={type:4},TBe={type:13},FBe={type:8},IBe={type:21},kBe={type:9},LBe={type:10},PBe={type:11},RBe={type:12},DBe={type:14},rS={type:23},NBe={type:1},UBe={type:25},MBe={type:24},OBe={type:26},QBe={type:27},HBe={type:28},VBe={type:29},jBe={type:31},nD={type:32},YJ=function(){function r(){this._value=[]}return r.prototype.write=function(e){this._value=this._value.concat(Q4(e))},r.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==nD;)e.push(t),t=this.consumeToken();return e},r.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case XB:return this.consumeStringToken(XB);case jCe:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(s9(t)||dd(n,i)){var s=tS(t,n,i)?QCe:OCe,a=this.consumeName();return{type:5,value:a,flags:s}}break;case KCe:if(this.peekCodePoint(0)===T2)return this.consumeCodePoint(),TBe;break;case YB:return this.consumeStringToken(YB);case JB:return CBe;case F2:return BBe;case Dk:if(this.peekCodePoint(0)===T2)return this.consumeCodePoint(),DBe;break;case ig:if(Nk(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case iBe:return SBe;case Go:var o=e,l=this.peekCodePoint(0),A=this.peekCodePoint(1);if(Nk(o,l,A))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(tS(o,l,A))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===Go&&A===qCe)return this.consumeCodePoint(),this.consumeCodePoint(),MBe;break;case rb:if(Nk(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case r9:if(this.peekCodePoint(0)===Dk)for(this.consumeCodePoint();;){var c=this.consumeCodePoint();if(c===Dk&&(c=this.consumeCodePoint(),c===r9))return this.consumeToken();if(c===$c)return this.consumeToken()}break;case sBe:return OBe;case aBe:return QBe;case $Ce:if(this.peekCodePoint(0)===GCe&&this.peekCodePoint(1)===Go&&this.peekCodePoint(2)===Go)return this.consumeCodePoint(),this.consumeCodePoint(),UBe;break;case XCe:var u=this.peekCodePoint(0),h=this.peekCodePoint(1),f=this.peekCodePoint(2);if(tS(u,h,f)){var a=this.consumeName();return{type:7,value:a}}break;case YCe:return HBe;case Jx:if(dd(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case JCe:return VBe;case ZCe:if(this.peekCodePoint(0)===T2)return this.consumeCodePoint(),FBe;break;case eBe:return PBe;case tBe:return RBe;case dBe:case gBe:var g=this.peekCodePoint(0),p=this.peekCodePoint(1);return g===ig&&(b1(p)||p===ZB)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case n9:if(this.peekCodePoint(0)===T2)return this.consumeCodePoint(),kBe;if(this.peekCodePoint(0)===n9)return this.consumeCodePoint(),IBe;break;case rBe:if(this.peekCodePoint(0)===T2)return this.consumeCodePoint(),LBe;break;case $c:return nD}return eS(e)?(this.consumeWhiteSpace(),jBe):Ha(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):oF(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Wi(e)}},r.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},r.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},r.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},r.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();b1(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===ZB&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(Wi.apply(void 0,e.map(function(l){return l===ZB?zJ:l})),16),s=parseInt(Wi.apply(void 0,e.map(function(l){return l===ZB?XJ:l})),16);return{type:30,start:i,end:s}}var a=parseInt(Wi.apply(void 0,e),16);if(this.peekCodePoint(0)===Go&&b1(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var o=[];b1(t)&&o.length<6;)o.push(t),t=this.consumeCodePoint();var s=parseInt(Wi.apply(void 0,o),16);return{type:30,start:a,end:s}}else return{type:30,start:a,end:a}},r.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===JB?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===JB?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},r.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===$c)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===YB||t===XB){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===$c||this.peekCodePoint(0)===F2)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),rS)}for(;;){var i=this.consumeCodePoint();if(i===$c||i===F2)return{type:22,value:Wi.apply(void 0,e)};if(eS(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===$c||this.peekCodePoint(0)===F2?(this.consumeCodePoint(),{type:22,value:Wi.apply(void 0,e)}):(this.consumeBadUrlRemnants(),rS);if(i===XB||i===YB||i===JB||bBe(i))return this.consumeBadUrlRemnants(),rS;if(i===Jx)if(dd(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),rS;else e.push(i)}},r.prototype.consumeWhiteSpace=function(){for(;eS(this.peekCodePoint(0));)this.consumeCodePoint()},r.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===F2||e===$c)return;dd(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},r.prototype.consumeStringSlice=function(e){for(var t=5e4,n="";e>0;){var i=Math.min(t,e);n+=Wi.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),n},r.prototype.consumeStringToken=function(e){var t="",n=0;do{var i=this._value[n];if(i===$c||i===void 0||i===e)return t+=this.consumeStringSlice(n),{type:0,value:t};if(i===aF)return this._value.splice(0,n),NBe;if(i===Jx){var s=this._value[n+1];s!==$c&&s!==void 0&&(s===aF?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):dd(i,s)&&(t+=this.consumeStringSlice(n),t+=Wi(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},r.prototype.consumeNumber=function(){var e=[],t=yC,n=this.peekCodePoint(0);for((n===ig||n===Go)&&e.push(this.consumeCodePoint());Ha(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===rb&&Ha(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=t9;Ha(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===qJ||n===GJ)&&((i===ig||i===Go)&&Ha(s)||Ha(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=t9;Ha(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[EBe(e),t]},r.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);if(tS(i,s,a)){var o=this.consumeName();return{type:15,number:t,flags:n,unit:o}}return i===zCe?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},r.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(b1(e)){for(var t=Wi(e);b1(this.peekCodePoint(0))&&t.length<6;)t+=Wi(this.consumeCodePoint());eS(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return n===0||vBe(n)||n>1114111?i9:n}return e===$c?i9:e},r.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(s9(t))e+=Wi(t);else if(dd(t,this.peekCodePoint(0)))e+=Wi(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},r}(),JJ=function(){function r(e){this._tokens=e}return r.create=function(e){var t=new YJ;return t.write(e),new r(t.read())},r.parseValue=function(e){return r.create(e).parseComponentValue()},r.parseValues=function(e){return r.create(e).parseComponentValues()},r.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},r.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},r.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},r.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||zBe(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},r.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},r.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?nD:e},r.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},r}(),xC=function(r){return r.type===15},Qy=function(r){return r.type===17},En=function(r){return r.type===20},KBe=function(r){return r.type===0},iD=function(r,e){return En(r)&&r.value===e},ZJ=function(r){return r.type!==31},By=function(r){return r.type!==31&&r.type!==4},zu=function(r){var e=[],t=[];return r.forEach(function(n){if(n.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(t),t=[];return}n.type!==31&&t.push(n)}),t.length&&e.push(t),e},zBe=function(r,e){return e===11&&r.type===12||e===28&&r.type===29?!0:e===2&&r.type===3},op=function(r){return r.type===17||r.type===15},ls=function(r){return r.type===16||op(r)},eZ=function(r){return r.length>1?[r[0],r[1]]:[r[0]]},ua={type:17,number:0,flags:yC},pM={type:16,number:50,flags:yC},T0={type:16,number:100,flags:yC},xx=function(r,e,t){var n=r[0],i=r[1];return[Vn(n,e),Vn(typeof i<"u"?i:n,t)]},Vn=function(r,e){if(r.type===16)return r.number/100*e;if(xC(r))switch(r.unit){case"rem":case"em":return 16*r.number;case"px":default:return r.number}return r.number},tZ="deg",rZ="grad",nZ="rad",iZ="turn",H4={name:"angle",parse:function(r,e){if(e.type===15)switch(e.unit){case tZ:return Math.PI*e.number/180;case rZ:return Math.PI/200*e.number;case nZ:return e.number;case iZ:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},sZ=function(r){return r.type===15&&(r.unit===tZ||r.unit===rZ||r.unit===nZ||r.unit===iZ)},aZ=function(r){var e=r.filter(En).map(function(t){return t.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ua,ua];case"to top":case"bottom":return TA(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ua,T0];case"to right":case"left":return TA(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[T0,T0];case"to bottom":case"top":return TA(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[T0,ua];case"to left":case"right":return TA(270)}return 0},TA=function(r){return Math.PI*r/180},W0={name:"color",parse:function(r,e){if(e.type===18){var t=WBe[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(r,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);return F0(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3),a=e.value.substring(3,4);return F0(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(a+a,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6);return F0(parseInt(n,16),parseInt(i,16),parseInt(s,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),a=e.value.substring(6,8);return F0(parseInt(n,16),parseInt(i,16),parseInt(s,16),parseInt(a,16)/255)}}if(e.type===20){var o=wf[e.value.toUpperCase()];if(typeof o<"u")return o}return wf.TRANSPARENT}},G0=function(r){return(255&r)===0},ks=function(r){var e=255&r,t=255&r>>8,n=255&r>>16,i=255&r>>24;return e<255?"rgba("+i+","+n+","+t+","+e/255+")":"rgb("+i+","+n+","+t+")"},F0=function(r,e,t,n){return(r<<24|e<<16|t<<8|Math.round(n*255)<<0)>>>0},a9=function(r,e){if(r.type===17)return r.number;if(r.type===16){var t=e===3?1:255;return e===3?r.number/100*t:Math.round(r.number/100*t)}return 0},o9=function(r,e){var t=e.filter(By);if(t.length===3){var n=t.map(a9),i=n[0],s=n[1],a=n[2];return F0(i,s,a,1)}if(t.length===4){var o=t.map(a9),i=o[0],s=o[1],a=o[2],l=o[3];return F0(i,s,a,l)}return 0};function Uk(r,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-r)*t*6+r:t<1/2?e:t<2/3?(e-r)*6*(2/3-t)+r:r}var l9=function(r,e){var t=e.filter(By),n=t[0],i=t[1],s=t[2],a=t[3],o=(n.type===17?TA(n.number):H4.parse(r,n))/(Math.PI*2),l=ls(i)?i.number/100:0,A=ls(s)?s.number/100:0,c=typeof a<"u"&&ls(a)?Vn(a,1):1;if(l===0)return F0(A*255,A*255,A*255,1);var u=A<=.5?A*(l+1):A+l-A*l,h=A*2-u,f=Uk(h,u,o+1/3),g=Uk(h,u,o),p=Uk(h,u,o-1/3);return F0(f*255,g*255,p*255,c)},WBe={hsl:l9,hsla:l9,rgb:o9,rgba:o9},Zx=function(r,e){return W0.parse(r,JJ.create(e).parseComponentValue())},wf={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},GBe={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(r,e){return e.map(function(t){if(En(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},$Be={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},V4=function(r,e){var t=W0.parse(r,e[0]),n=e[1];return n&&ls(n)?{color:t,stop:n}:{color:t,stop:null}},A9=function(r,e){var t=r[0],n=r[r.length-1];t.stop===null&&(t.stop=ua),n.stop===null&&(n.stop=T0);for(var i=[],s=0,a=0;a<r.length;a++){var o=r[a].stop;if(o!==null){var l=Vn(o,e);l>s?i.push(l):i.push(s),s=l}else i.push(null)}for(var A=null,a=0;a<i.length;a++){var c=i[a];if(c===null)A===null&&(A=a);else if(A!==null){for(var u=a-A,h=i[A-1],f=(c-h)/(u+1),g=1;g<=u;g++)i[A+g-1]=f*g;A=null}}return r.map(function(p,v){var m=p.color;return{color:m,stop:Math.max(Math.min(1,i[v]/e),0)}})},qBe=function(r,e,t){var n=e/2,i=t/2,s=Vn(r[0],e)-n,a=i-Vn(r[1],t);return(Math.atan2(a,s)+Math.PI*2)%(Math.PI*2)},XBe=function(r,e,t){var n=typeof r=="number"?r:qBe(r,e,t),i=Math.abs(e*Math.sin(n))+Math.abs(t*Math.cos(n)),s=e/2,a=t/2,o=i/2,l=Math.sin(n-Math.PI/2)*o,A=Math.cos(n-Math.PI/2)*o;return[i,s-A,s+A,a-l,a+l]},JA=function(r,e){return Math.sqrt(r*r+e*e)},c9=function(r,e,t,n,i){var s=[[0,0],[0,e],[r,0],[r,e]];return s.reduce(function(a,o){var l=o[0],A=o[1],c=JA(t-l,n-A);return(i?c<a.optimumDistance:c>a.optimumDistance)?{optimumCorner:o,optimumDistance:c}:a},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},YBe=function(r,e,t,n,i){var s=0,a=0;switch(r.size){case 0:r.shape===0?s=a=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(t),Math.abs(t-i)):r.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-n)),a=Math.min(Math.abs(t),Math.abs(t-i)));break;case 2:if(r.shape===0)s=a=Math.min(JA(e,t),JA(e,t-i),JA(e-n,t),JA(e-n,t-i));else if(r.shape===1){var o=Math.min(Math.abs(t),Math.abs(t-i))/Math.min(Math.abs(e),Math.abs(e-n)),l=c9(n,i,e,t,!0),A=l[0],c=l[1];s=JA(A-e,(c-t)/o),a=o*s}break;case 1:r.shape===0?s=a=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(t),Math.abs(t-i)):r.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-n)),a=Math.max(Math.abs(t),Math.abs(t-i)));break;case 3:if(r.shape===0)s=a=Math.max(JA(e,t),JA(e,t-i),JA(e-n,t),JA(e-n,t-i));else if(r.shape===1){var o=Math.max(Math.abs(t),Math.abs(t-i))/Math.max(Math.abs(e),Math.abs(e-n)),u=c9(n,i,e,t,!1),A=u[0],c=u[1];s=JA(A-e,(c-t)/o),a=o*s}break}return Array.isArray(r.size)&&(s=Vn(r.size[0],n),a=r.size.length===2?Vn(r.size[1],i):s),[s,a]},JBe=function(r,e){var t=TA(180),n=[];return zu(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&a.value==="to"){t=aZ(i);return}else if(sZ(a)){t=H4.parse(r,a);return}}var o=V4(r,i);n.push(o)}),{angle:t,stops:n,type:1}},nS=function(r,e){var t=TA(180),n=[];return zu(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){t=aZ(i);return}else if(sZ(a)){t=(H4.parse(r,a)+TA(270))%TA(360);return}}var o=V4(r,i);n.push(o)}),{angle:t,stops:n,type:1}},ZBe=function(r,e){var t=TA(180),n=[],i=1,s=0,a=3,o=[];return zu(e).forEach(function(l,A){var c=l[0];if(A===0){if(En(c)&&c.value==="linear"){i=1;return}else if(En(c)&&c.value==="radial"){i=2;return}}if(c.type===18){if(c.name==="from"){var u=W0.parse(r,c.values[0]);n.push({stop:ua,color:u})}else if(c.name==="to"){var u=W0.parse(r,c.values[0]);n.push({stop:T0,color:u})}else if(c.name==="color-stop"){var h=c.values.filter(By);if(h.length===2){var u=W0.parse(r,h[1]),f=h[0];Qy(f)&&n.push({stop:{type:16,number:f.number*100,flags:f.flags},color:u})}}}}),i===1?{angle:(t+TA(180))%TA(360),stops:n,type:i}:{size:a,shape:s,stops:n,position:o,type:i}},oZ="closest-side",lZ="farthest-side",AZ="closest-corner",cZ="farthest-corner",uZ="circle",hZ="ellipse",fZ="cover",dZ="contain",eSe=function(r,e){var t=0,n=3,i=[],s=[];return zu(e).forEach(function(a,o){var l=!0;if(o===0){var A=!1;l=a.reduce(function(u,h){if(A)if(En(h))switch(h.value){case"center":return s.push(pM),u;case"top":case"left":return s.push(ua),u;case"right":case"bottom":return s.push(T0),u}else(ls(h)||op(h))&&s.push(h);else if(En(h))switch(h.value){case uZ:return t=0,!1;case hZ:return t=1,!1;case"at":return A=!0,!1;case oZ:return n=0,!1;case fZ:case lZ:return n=1,!1;case dZ:case AZ:return n=2,!1;case cZ:return n=3,!1}else if(op(h)||ls(h))return Array.isArray(n)||(n=[]),n.push(h),!1;return u},l)}if(l){var c=V4(r,a);i.push(c)}}),{size:n,shape:t,stops:i,position:s,type:2}},iS=function(r,e){var t=0,n=3,i=[],s=[];return zu(e).forEach(function(a,o){var l=!0;if(o===0?l=a.reduce(function(c,u){if(En(u))switch(u.value){case"center":return s.push(pM),!1;case"top":case"left":return s.push(ua),!1;case"right":case"bottom":return s.push(T0),!1}else if(ls(u)||op(u))return s.push(u),!1;return c},l):o===1&&(l=a.reduce(function(c,u){if(En(u))switch(u.value){case uZ:return t=0,!1;case hZ:return t=1,!1;case dZ:case oZ:return n=0,!1;case lZ:return n=1,!1;case AZ:return n=2,!1;case fZ:case cZ:return n=3,!1}else if(op(u)||ls(u))return Array.isArray(n)||(n=[]),n.push(u),!1;return c},l)),l){var A=V4(r,a);i.push(A)}}),{size:n,shape:t,stops:i,position:s,type:2}},tSe=function(r){return r.type===1},rSe=function(r){return r.type===2},gM={name:"image",parse:function(r,e){if(e.type===22){var t={url:e.value,type:0};return r.cache.addImage(e.value),t}if(e.type===18){var n=pZ[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(r,e.values)}throw new Error("Unsupported image type "+e.type)}};function nSe(r){return!(r.type===20&&r.value==="none")&&(r.type!==18||!!pZ[r.name])}var pZ={"linear-gradient":JBe,"-moz-linear-gradient":nS,"-ms-linear-gradient":nS,"-o-linear-gradient":nS,"-webkit-linear-gradient":nS,"radial-gradient":eSe,"-moz-radial-gradient":iS,"-ms-radial-gradient":iS,"-o-radial-gradient":iS,"-webkit-radial-gradient":iS,"-webkit-gradient":ZBe},iSe={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(r,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(n){return By(n)&&nSe(n)}).map(function(n){return gM.parse(r,n)})}},sSe={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(r,e){return e.map(function(t){if(En(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},aSe={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(r,e){return zu(e).map(function(t){return t.filter(ls)}).map(eZ)}},oSe={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(r,e){return zu(e).map(function(t){return t.filter(En).map(function(n){return n.value}).join(" ")}).map(lSe)}},lSe=function(r){switch(r){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Iv;(function(r){r.AUTO="auto",r.CONTAIN="contain",r.COVER="cover"})(Iv||(Iv={}));var ASe={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(r,e){return zu(e).map(function(t){return t.filter(cSe)})}},cSe=function(r){return En(r)||ls(r)},j4=function(r){return{name:"border-"+r+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},uSe=j4("top"),hSe=j4("right"),fSe=j4("bottom"),dSe=j4("left"),K4=function(r){return{name:"border-radius-"+r,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return eZ(t.filter(ls))}}},pSe=K4("top-left"),gSe=K4("top-right"),mSe=K4("bottom-right"),vSe=K4("bottom-left"),z4=function(r){return{name:"border-"+r+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},wSe=z4("top"),ySe=z4("right"),xSe=z4("bottom"),_Se=z4("left"),W4=function(r){return{name:"border-"+r+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return xC(t)?t.number:0}}},bSe=W4("top"),ESe=W4("right"),CSe=W4("bottom"),BSe=W4("left"),SSe={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},TSe={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(r,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},FSe={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(r,e){return e.filter(En).reduce(function(t,n){return t|ISe(n.value)},0)}},ISe=function(r){switch(r){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},kSe={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},LSe={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(r,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},lF;(function(r){r.NORMAL="normal",r.STRICT="strict"})(lF||(lF={}));var PSe={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"strict":return lF.STRICT;case"normal":default:return lF.NORMAL}}},RSe={name:"line-height",initialValue:"normal",prefix:!1,type:4},u9=function(r,e){return En(r)&&r.value==="normal"?1.2*e:r.type===17?e*r.number:ls(r)?Vn(r,e):e},DSe={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(r,e){return e.type===20&&e.value==="none"?null:gM.parse(r,e)}},NSe={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(r,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},sD={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},G4=function(r){return{name:"margin-"+r,initialValue:"0",prefix:!1,type:4}},USe=G4("top"),MSe=G4("right"),OSe=G4("bottom"),QSe=G4("left"),HSe={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(r,e){return e.filter(En).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},VSe={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},$4=function(r){return{name:"padding-"+r,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},jSe=$4("top"),KSe=$4("right"),zSe=$4("bottom"),WSe=$4("left"),GSe={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(r,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},$Se={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(r,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},qSe={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.length===1&&iD(e[0],"none")?[]:zu(e).map(function(t){for(var n={color:wf.TRANSPARENT,offsetX:ua,offsetY:ua,blur:ua},i=0,s=0;s<t.length;s++){var a=t[s];op(a)?(i===0?n.offsetX=a:i===1?n.offsetY=a:n.blur=a,i++):n.color=W0.parse(r,a)}return n})}},XSe={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},YSe={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(r,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=e5e[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},JSe=function(r){var e=r.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},ZSe=function(r){var e=r.filter(function(l){return l.type===17}).map(function(l){return l.number}),t=e[0],n=e[1];e[2],e[3];var i=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],o=e[13];return e[14],e[15],e.length===16?[t,n,i,s,a,o]:null},e5e={matrix:JSe,matrix3d:ZSe},h9={type:16,number:50,flags:yC},t5e=[h9,h9],r5e={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(r,e){var t=e.filter(ls);return t.length!==2?t5e:[t[0],t[1]]}},n5e={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},e_;(function(r){r.NORMAL="normal",r.BREAK_ALL="break-all",r.KEEP_ALL="keep-all"})(e_||(e_={}));var i5e={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"break-all":return e_.BREAK_ALL;case"keep-all":return e_.KEEP_ALL;case"normal":default:return e_.NORMAL}}},s5e={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(r,e){if(e.type===20)return{auto:!0,order:0};if(Qy(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},gZ={name:"time",parse:function(r,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},a5e={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(r,e){return Qy(e)?e.number:1}},o5e={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},l5e={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(r,e){return e.filter(En).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},A5e={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(r,e){var t=[],n=[];return e.forEach(function(i){switch(i.type){case 20:case 0:t.push(i.value);break;case 17:t.push(i.number.toString());break;case 4:n.push(t.join(" ")),t.length=0;break}}),t.length&&n.push(t.join(" ")),n.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},c5e={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},u5e={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(r,e){if(Qy(e))return e.number;if(En(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},h5e={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.filter(En).map(function(t){return t.value})}},f5e={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},_s=function(r,e){return(r&e)!==0},d5e={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(r,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},p5e={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var n=[],i=e.filter(ZJ),s=0;s<i.length;s++){var a=i[s],o=i[s+1];if(a.type===20){var l=o&&Qy(o)?o.number:1;n.push({counter:a.value,increment:l})}}return n}},g5e={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return[];for(var t=[],n=e.filter(ZJ),i=0;i<n.length;i++){var s=n[i],a=n[i+1];if(En(s)&&s.value!=="none"){var o=a&&Qy(a)?a.number:0;t.push({counter:s.value,reset:o})}}return t}},m5e={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(r,e){return e.filter(xC).map(function(t){return gZ.parse(r,t)})}},v5e={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var n=[],i=e.filter(KBe);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var a=i[s].value,o=i[s+1].value;n.push({open:a,close:o})}return n}},f9=function(r,e,t){if(!r)return"";var n=r[Math.min(e,r.length-1)];return n?t?n.open:n.close:""},w5e={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.length===1&&iD(e[0],"none")?[]:zu(e).map(function(t){for(var n={color:255,offsetX:ua,offsetY:ua,blur:ua,spread:ua,inset:!1},i=0,s=0;s<t.length;s++){var a=t[s];iD(a,"inset")?n.inset=!0:op(a)?(i===0?n.offsetX=a:i===1?n.offsetY=a:i===2?n.blur=a:n.spread=a,i++):n.color=W0.parse(r,a)}return n})}},y5e={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(r,e){var t=[0,1,2],n=[];return e.filter(En).forEach(function(i){switch(i.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),t.forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),n}},x5e={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},_5e={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(r,e){return xC(e)?e.number:0}},b5e=function(){function r(e,t){var n,i;this.animationDuration=xt(e,m5e,t.animationDuration),this.backgroundClip=xt(e,GBe,t.backgroundClip),this.backgroundColor=xt(e,$Be,t.backgroundColor),this.backgroundImage=xt(e,iSe,t.backgroundImage),this.backgroundOrigin=xt(e,sSe,t.backgroundOrigin),this.backgroundPosition=xt(e,aSe,t.backgroundPosition),this.backgroundRepeat=xt(e,oSe,t.backgroundRepeat),this.backgroundSize=xt(e,ASe,t.backgroundSize),this.borderTopColor=xt(e,uSe,t.borderTopColor),this.borderRightColor=xt(e,hSe,t.borderRightColor),this.borderBottomColor=xt(e,fSe,t.borderBottomColor),this.borderLeftColor=xt(e,dSe,t.borderLeftColor),this.borderTopLeftRadius=xt(e,pSe,t.borderTopLeftRadius),this.borderTopRightRadius=xt(e,gSe,t.borderTopRightRadius),this.borderBottomRightRadius=xt(e,mSe,t.borderBottomRightRadius),this.borderBottomLeftRadius=xt(e,vSe,t.borderBottomLeftRadius),this.borderTopStyle=xt(e,wSe,t.borderTopStyle),this.borderRightStyle=xt(e,ySe,t.borderRightStyle),this.borderBottomStyle=xt(e,xSe,t.borderBottomStyle),this.borderLeftStyle=xt(e,_Se,t.borderLeftStyle),this.borderTopWidth=xt(e,bSe,t.borderTopWidth),this.borderRightWidth=xt(e,ESe,t.borderRightWidth),this.borderBottomWidth=xt(e,CSe,t.borderBottomWidth),this.borderLeftWidth=xt(e,BSe,t.borderLeftWidth),this.boxShadow=xt(e,w5e,t.boxShadow),this.color=xt(e,SSe,t.color),this.direction=xt(e,TSe,t.direction),this.display=xt(e,FSe,t.display),this.float=xt(e,kSe,t.cssFloat),this.fontFamily=xt(e,A5e,t.fontFamily),this.fontSize=xt(e,c5e,t.fontSize),this.fontStyle=xt(e,f5e,t.fontStyle),this.fontVariant=xt(e,h5e,t.fontVariant),this.fontWeight=xt(e,u5e,t.fontWeight),this.letterSpacing=xt(e,LSe,t.letterSpacing),this.lineBreak=xt(e,PSe,t.lineBreak),this.lineHeight=xt(e,RSe,t.lineHeight),this.listStyleImage=xt(e,DSe,t.listStyleImage),this.listStylePosition=xt(e,NSe,t.listStylePosition),this.listStyleType=xt(e,sD,t.listStyleType),this.marginTop=xt(e,USe,t.marginTop),this.marginRight=xt(e,MSe,t.marginRight),this.marginBottom=xt(e,OSe,t.marginBottom),this.marginLeft=xt(e,QSe,t.marginLeft),this.opacity=xt(e,a5e,t.opacity);var s=xt(e,HSe,t.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=xt(e,VSe,t.overflowWrap),this.paddingTop=xt(e,jSe,t.paddingTop),this.paddingRight=xt(e,KSe,t.paddingRight),this.paddingBottom=xt(e,zSe,t.paddingBottom),this.paddingLeft=xt(e,WSe,t.paddingLeft),this.paintOrder=xt(e,y5e,t.paintOrder),this.position=xt(e,$Se,t.position),this.textAlign=xt(e,GSe,t.textAlign),this.textDecorationColor=xt(e,o5e,(n=t.textDecorationColor)!==null&&n!==void 0?n:t.color),this.textDecorationLine=xt(e,l5e,(i=t.textDecorationLine)!==null&&i!==void 0?i:t.textDecoration),this.textShadow=xt(e,qSe,t.textShadow),this.textTransform=xt(e,XSe,t.textTransform),this.transform=xt(e,YSe,t.transform),this.transformOrigin=xt(e,r5e,t.transformOrigin),this.visibility=xt(e,n5e,t.visibility),this.webkitTextStrokeColor=xt(e,x5e,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=xt(e,_5e,t.webkitTextStrokeWidth),this.wordBreak=xt(e,i5e,t.wordBreak),this.zIndex=xt(e,s5e,t.zIndex)}return r.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},r.prototype.isTransparent=function(){return G0(this.backgroundColor)},r.prototype.isTransformed=function(){return this.transform!==null},r.prototype.isPositioned=function(){return this.position!==0},r.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},r.prototype.isFloating=function(){return this.float!==0},r.prototype.isInlineLevel=function(){return _s(this.display,4)||_s(this.display,33554432)||_s(this.display,268435456)||_s(this.display,536870912)||_s(this.display,67108864)||_s(this.display,134217728)},r}(),E5e=function(){function r(e,t){this.content=xt(e,d5e,t.content),this.quotes=xt(e,v5e,t.quotes)}return r}(),d9=function(){function r(e,t){this.counterIncrement=xt(e,p5e,t.counterIncrement),this.counterReset=xt(e,g5e,t.counterReset)}return r}(),xt=function(r,e,t){var n=new YJ,i=t!==null&&typeof t<"u"?t.toString():e.initialValue;n.write(i);var s=new JJ(n.read());switch(e.type){case 2:var a=s.parseComponentValue();return e.parse(r,En(a)?a.value:e.initialValue);case 0:return e.parse(r,s.parseComponentValue());case 1:return e.parse(r,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return H4.parse(r,s.parseComponentValue());case"color":return W0.parse(r,s.parseComponentValue());case"image":return gM.parse(r,s.parseComponentValue());case"length":var o=s.parseComponentValue();return op(o)?o:ua;case"length-percentage":var l=s.parseComponentValue();return ls(l)?l:ua;case"time":return gZ.parse(r,s.parseComponentValue())}break}},C5e="data-html2canvas-debug",B5e=function(r){var e=r.getAttribute(C5e);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},aD=function(r,e){var t=B5e(r);return t===1||e===t},Wu=function(){function r(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,aD(t,3))debugger;this.styles=new b5e(e,window.getComputedStyle(t,null)),AD(t)&&(this.styles.animationDuration.some(function(n){return n>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=O4(this.context,t),aD(t,4)&&(this.flags|=16)}return r}(),S5e="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",p9="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_x=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var sS=0;sS<p9.length;sS++)_x[p9.charCodeAt(sS)]=sS;var T5e=function(r){var e=r.length*.75,t=r.length,n,i=0,s,a,o,l;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var A=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),c=Array.isArray(A)?A:new Uint8Array(A);for(n=0;n<t;n+=4)s=_x[r.charCodeAt(n)],a=_x[r.charCodeAt(n+1)],o=_x[r.charCodeAt(n+2)],l=_x[r.charCodeAt(n+3)],c[i++]=s<<2|a>>4,c[i++]=(a&15)<<4|o>>2,c[i++]=(o&3)<<6|l&63;return A},F5e=function(r){for(var e=r.length,t=[],n=0;n<e;n+=2)t.push(r[n+1]<<8|r[n]);return t},I5e=function(r){for(var e=r.length,t=[],n=0;n<e;n+=4)t.push(r[n+3]<<24|r[n+2]<<16|r[n+1]<<8|r[n]);return t},Sm=5,mM=11,Mk=2,k5e=mM-Sm,mZ=65536>>Sm,L5e=1<<Sm,Ok=L5e-1,P5e=1024>>Sm,R5e=mZ+P5e,D5e=R5e,N5e=32,U5e=D5e+N5e,M5e=65536>>mM,O5e=1<<k5e,Q5e=O5e-1,g9=function(r,e,t){return r.slice?r.slice(e,t):new Uint16Array(Array.prototype.slice.call(r,e,t))},H5e=function(r,e,t){return r.slice?r.slice(e,t):new Uint32Array(Array.prototype.slice.call(r,e,t))},V5e=function(r,e){var t=T5e(r),n=Array.isArray(t)?I5e(t):new Uint32Array(t),i=Array.isArray(t)?F5e(t):new Uint16Array(t),s=24,a=g9(i,s/2,n[4]/2),o=n[5]===2?g9(i,(s+n[4])/2):H5e(n,Math.ceil((s+n[4])/4));return new j5e(n[0],n[1],n[2],n[3],a,o)},j5e=function(){function r(e,t,n,i,s,a){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=a}return r.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>Sm],t=(t<<Mk)+(e&Ok),this.data[t];if(e<=65535)return t=this.index[mZ+(e-55296>>Sm)],t=(t<<Mk)+(e&Ok),this.data[t];if(e<this.highStart)return t=U5e-M5e+(e>>mM),t=this.index[t],t+=e>>Sm&Q5e,t=this.index[t],t=(t<<Mk)+(e&Ok),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r}(),m9="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",K5e=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var aS=0;aS<m9.length;aS++)K5e[m9.charCodeAt(aS)]=aS;var z5e=1,Qk=2,Hk=3,v9=4,w9=5,W5e=7,y9=8,Vk=9,jk=10,x9=11,_9=12,b9=13,E9=14,Kk=15,G5e=function(r){for(var e=[],t=0,n=r.length;t<n;){var i=r.charCodeAt(t++);if(i>=55296&&i<=56319&&t<n){var s=r.charCodeAt(t++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),t--)}else e.push(i)}return e},$5e=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var t=r.length;if(!t)return"";for(var n=[],i=-1,s="";++i<t;){var a=r[i];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(i+1===t||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},q5e=V5e(S5e),cA="",zk="",X5e=function(r){return q5e.get(r)},Y5e=function(r,e,t){var n=t-2,i=e[n],s=e[t-1],a=e[t];if(s===Qk&&a===Hk)return cA;if(s===Qk||s===Hk||s===v9||a===Qk||a===Hk||a===v9)return zk;if(s===y9&&[y9,Vk,x9,_9].indexOf(a)!==-1||(s===x9||s===Vk)&&(a===Vk||a===jk)||(s===_9||s===jk)&&a===jk||a===b9||a===w9||a===W5e||s===z5e)return cA;if(s===b9&&a===E9){for(;i===w9;)i=e[--n];if(i===E9)return cA}if(s===Kk&&a===Kk){for(var o=0;i===Kk;)o++,i=e[--n];if(o%2===0)return cA}return zk},J5e=function(r){var e=G5e(r),t=e.length,n=0,i=0,s=e.map(X5e);return{next:function(){if(n>=t)return{done:!0,value:null};for(var a=cA;n<t&&(a=Y5e(e,s,++n))===cA;);if(a!==cA||n===t){var o=$5e.apply(null,e.slice(i,n));return i=n,{value:o,done:!1}}return{done:!0,value:null}}}},Z5e=function(r){for(var e=J5e(r),t=[],n;!(n=e.next()).done;)n.value&&t.push(n.value.slice());return t},eTe=function(r){var e=123;if(r.createRange){var t=r.createRange();if(t.getBoundingClientRect){var n=r.createElement("boundtest");n.style.height=e+"px",n.style.display="block",r.body.appendChild(n),t.selectNode(n);var i=t.getBoundingClientRect(),s=Math.round(i.height);if(r.body.removeChild(n),s===e)return!0}}return!1},tTe=function(r){var e=r.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",r.body.appendChild(e);var t=r.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,i=Q4(n.data).map(function(l){return Wi(l)}),s=0,a={},o=i.every(function(l,A){t.setStart(n,s),t.setEnd(n,s+l.length);var c=t.getBoundingClientRect();s+=l.length;var u=c.x>a.x||c.y>a.y;return a=c,A===0?!0:u});return r.body.removeChild(e),o},rTe=function(){return typeof new Image().crossOrigin<"u"},nTe=function(){return typeof new XMLHttpRequest().responseType=="string"},iTe=function(r){var e=new Image,t=r.createElement("canvas"),n=t.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),t.toDataURL()}catch{return!1}return!0},C9=function(r){return r[0]===0&&r[1]===255&&r[2]===0&&r[3]===255},sTe=function(r){var e=r.createElement("canvas"),t=100;e.width=t,e.height=t;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,t,t);var i=new Image,s=e.toDataURL();i.src=s;var a=oD(t,t,0,0,i);return n.fillStyle="red",n.fillRect(0,0,t,t),B9(a).then(function(o){n.drawImage(o,0,0);var l=n.getImageData(0,0,t,t).data;n.fillStyle="red",n.fillRect(0,0,t,t);var A=r.createElement("div");return A.style.backgroundImage="url("+s+")",A.style.height=t+"px",C9(l)?B9(oD(t,t,0,0,A)):Promise.reject(!1)}).then(function(o){return n.drawImage(o,0,0),C9(n.getImageData(0,0,t,t).data)}).catch(function(){return!1})},oD=function(r,e,t,n,i){var s="http://www.w3.org/2000/svg",a=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return a.setAttributeNS(null,"width",r.toString()),a.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",t.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(o),o.appendChild(i),a},B9=function(r){return new Promise(function(e,t){var n=new Image;n.onload=function(){return e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},ia={get SUPPORT_RANGE_BOUNDS(){var r=eTe(document);return Object.defineProperty(ia,"SUPPORT_RANGE_BOUNDS",{value:r}),r},get SUPPORT_WORD_BREAKING(){var r=ia.SUPPORT_RANGE_BOUNDS&&tTe(document);return Object.defineProperty(ia,"SUPPORT_WORD_BREAKING",{value:r}),r},get SUPPORT_SVG_DRAWING(){var r=iTe(document);return Object.defineProperty(ia,"SUPPORT_SVG_DRAWING",{value:r}),r},get SUPPORT_FOREIGNOBJECT_DRAWING(){var r=typeof Array.from=="function"&&typeof window.fetch=="function"?sTe(document):Promise.resolve(!1);return Object.defineProperty(ia,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:r}),r},get SUPPORT_CORS_IMAGES(){var r=rTe();return Object.defineProperty(ia,"SUPPORT_CORS_IMAGES",{value:r}),r},get SUPPORT_RESPONSE_TYPE(){var r=nTe();return Object.defineProperty(ia,"SUPPORT_RESPONSE_TYPE",{value:r}),r},get SUPPORT_CORS_XHR(){var r="withCredentials"in new XMLHttpRequest;return Object.defineProperty(ia,"SUPPORT_CORS_XHR",{value:r}),r},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var r=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(ia,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:r}),r}},t_=function(){function r(e,t){this.text=e,this.bounds=t}return r}(),aTe=function(r,e,t,n){var i=ATe(e,t),s=[],a=0;return i.forEach(function(o){if(t.textDecorationLine.length||o.trim().length>0)if(ia.SUPPORT_RANGE_BOUNDS){var l=S9(n,a,o.length).getClientRects();if(l.length>1){var A=vM(o),c=0;A.forEach(function(h){s.push(new t_(h,Lf.fromDOMRectList(r,S9(n,c+a,h.length).getClientRects()))),c+=h.length})}else s.push(new t_(o,Lf.fromDOMRectList(r,l)))}else{var u=n.splitText(o.length);s.push(new t_(o,oTe(r,n))),n=u}else ia.SUPPORT_RANGE_BOUNDS||(n=n.splitText(o.length));a+=o.length}),s},oTe=function(r,e){var t=e.ownerDocument;if(t){var n=t.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(n,e);var s=O4(r,n);return n.firstChild&&i.replaceChild(n.firstChild,n),s}}return Lf.EMPTY},S9=function(r,e,t){var n=r.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(r,e),i.setEnd(r,e+t),i},vM=function(r){if(ia.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(r)).map(function(t){return t.segment})}return Z5e(r)},lTe=function(r,e){if(ia.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(r)).map(function(n){return n.segment})}return uTe(r,e)},ATe=function(r,e){return e.letterSpacing!==0?vM(r):lTe(r,e)},cTe=[32,160,4961,65792,65793,4153,4241],uTe=function(r,e){for(var t=MCe(r,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],i,s=function(){if(i.value){var a=i.value.slice(),o=Q4(a),l="";o.forEach(function(A){cTe.indexOf(A)===-1?l+=Wi(A):(l.length&&n.push(l),n.push(Wi(A)),l="")}),l.length&&n.push(l)}};!(i=t.next()).done;)s();return n},hTe=function(){function r(e,t,n){this.text=fTe(t.data,n.textTransform),this.textBounds=aTe(e,this.text,n,t)}return r}(),fTe=function(r,e){switch(e){case 1:return r.toLowerCase();case 3:return r.replace(dTe,pTe);case 2:return r.toUpperCase();default:return r}},dTe=/(^|\s|:|-|\(|\))([a-z])/g,pTe=function(r,e,t){return r.length>0?e+t.toUpperCase():r},vZ=function(r){kc(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return e}(Wu),wZ=function(r){kc(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return e}(Wu),yZ=function(r){kc(e,r);function e(t,n){var i=r.call(this,t,n)||this,s=new XMLSerializer,a=O4(t,n);return n.setAttribute("width",a.width+"px"),n.setAttribute("height",a.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e}(Wu),xZ=function(r){kc(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.value=n.value,i}return e}(Wu),lD=function(r){kc(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.start=n.start,i.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,i}return e}(Wu),gTe=[{type:15,flags:0,unit:"px",number:3}],mTe=[{type:16,flags:0,number:50}],vTe=function(r){return r.width>r.height?new Lf(r.left+(r.width-r.height)/2,r.top,r.height,r.height):r.width<r.height?new Lf(r.left,r.top+(r.height-r.width)/2,r.width,r.width):r},wTe=function(r){var e=r.type===yTe?new Array(r.value.length+1).join(""):r.value;return e.length===0?r.placeholder||"":e},AF="checkbox",cF="radio",yTe="password",T9=707406591,wM=function(r){kc(e,r);function e(t,n){var i=r.call(this,t,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=wTe(n),(i.type===AF||i.type===cF)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=vTe(i.bounds)),i.type){case AF:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=gTe;break;case cF:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=mTe;break}return i}return e}(Wu),_Z=function(r){kc(e,r);function e(t,n){var i=r.call(this,t,n)||this,s=n.options[n.selectedIndex||0];return i.value=s&&s.text||"",i}return e}(Wu),bZ=function(r){kc(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.value=n.value,i}return e}(Wu),EZ=function(r){kc(e,r);function e(t,n){var i=r.call(this,t,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=BZ(t,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?Zx(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):wf.TRANSPARENT,a=n.contentWindow.document.body?Zx(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):wf.TRANSPARENT;i.backgroundColor=G0(s)?G0(a)?i.styles.backgroundColor:a:s}}catch{}return i}return e}(Wu),xTe=["OL","UL","MENU"],k5=function(r,e,t,n){for(var i=e.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,SZ(i)&&i.data.trim().length>0)t.textNodes.push(new hTe(r,i,t.styles));else if(lv(i))if(kZ(i)&&i.assignedNodes)i.assignedNodes().forEach(function(o){return k5(r,o,t,n)});else{var a=CZ(r,i);a.styles.isVisible()&&(_Te(i,a,n)?a.flags|=4:bTe(a.styles)&&(a.flags|=2),xTe.indexOf(i.tagName)!==-1&&(a.flags|=8),t.elements.push(a),i.slot,i.shadowRoot?k5(r,i.shadowRoot,a,n):!uF(i)&&!TZ(i)&&!hF(i)&&k5(r,i,a,n))}},CZ=function(r,e){return cD(e)?new vZ(r,e):FZ(e)?new wZ(r,e):TZ(e)?new yZ(r,e):ETe(e)?new xZ(r,e):CTe(e)?new lD(r,e):BTe(e)?new wM(r,e):hF(e)?new _Z(r,e):uF(e)?new bZ(r,e):IZ(e)?new EZ(r,e):new Wu(r,e)},BZ=function(r,e){var t=CZ(r,e);return t.flags|=4,k5(r,e,t,t),t},_Te=function(r,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||yM(r)&&t.styles.isTransparent()},bTe=function(r){return r.isPositioned()||r.isFloating()},SZ=function(r){return r.nodeType===Node.TEXT_NODE},lv=function(r){return r.nodeType===Node.ELEMENT_NODE},AD=function(r){return lv(r)&&typeof r.style<"u"&&!L5(r)},L5=function(r){return typeof r.className=="object"},ETe=function(r){return r.tagName==="LI"},CTe=function(r){return r.tagName==="OL"},BTe=function(r){return r.tagName==="INPUT"},STe=function(r){return r.tagName==="HTML"},TZ=function(r){return r.tagName==="svg"},yM=function(r){return r.tagName==="BODY"},FZ=function(r){return r.tagName==="CANVAS"},F9=function(r){return r.tagName==="VIDEO"},cD=function(r){return r.tagName==="IMG"},IZ=function(r){return r.tagName==="IFRAME"},I9=function(r){return r.tagName==="STYLE"},TTe=function(r){return r.tagName==="SCRIPT"},uF=function(r){return r.tagName==="TEXTAREA"},hF=function(r){return r.tagName==="SELECT"},kZ=function(r){return r.tagName==="SLOT"},k9=function(r){return r.tagName.indexOf("-")>0},FTe=function(){function r(){this.counters={}}return r.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},r.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},r.prototype.pop=function(e){var t=this;e.forEach(function(n){return t.counters[n].pop()})},r.prototype.parse=function(e){var t=this,n=e.counterIncrement,i=e.counterReset,s=!0;n!==null&&n.forEach(function(o){var l=t.counters[o.counter];l&&o.increment!==0&&(s=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=o.increment)});var a=[];return s&&i.forEach(function(o){var l=t.counters[o.counter];a.push(o.counter),l||(l=t.counters[o.counter]=[]),l.push(o.reset)}),a},r}(),L9={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},P9={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},ITe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},kTe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},E1=function(r,e,t,n,i,s){return r<e||r>t?nb(r,i,s.length>0):n.integers.reduce(function(a,o,l){for(;r>=o;)r-=o,a+=n.values[l];return a},"")+s},LZ=function(r,e,t,n){var i="";do t||r--,i=n(r)+i,r/=e;while(r*e>=e);return i},Vi=function(r,e,t,n,i){var s=t-e+1;return(r<0?"-":"")+(LZ(Math.abs(r),s,n,function(a){return Wi(Math.floor(a%s)+e)})+i)},Dp=function(r,e,t){t===void 0&&(t=". ");var n=e.length;return LZ(Math.abs(r),n,!1,function(i){return e[Math.floor(i%n)]})+t},j1=1,cd=2,ud=4,bx=8,oh=function(r,e,t,n,i,s){if(r<-9999||r>9999)return nb(r,4,i.length>0);var a=Math.abs(r),o=i;if(a===0)return e[0]+o;for(var l=0;a>0&&l<=4;l++){var A=a%10;A===0&&_s(s,j1)&&o!==""?o=e[A]+o:A>1||A===1&&l===0||A===1&&l===1&&_s(s,cd)||A===1&&l===1&&_s(s,ud)&&r>100||A===1&&l>1&&_s(s,bx)?o=e[A]+(l>0?t[l-1]:"")+o:A===1&&l>0&&(o=t[l-1]+o),a=Math.floor(a/10)}return(r<0?n:"")+o},R9="",D9="",N9="",Wk="",nb=function(r,e,t){var n=t?". ":"",i=t?"":"",s=t?", ":"",a=t?" ":"";switch(e){case 0:return""+a;case 1:return""+a;case 2:return""+a;case 5:var o=Vi(r,48,57,!0,n);return o.length<4?"0"+o:o;case 4:return Dp(r,"",i);case 6:return E1(r,1,3999,L9,3,n).toLowerCase();case 7:return E1(r,1,3999,L9,3,n);case 8:return Vi(r,945,969,!1,n);case 9:return Vi(r,97,122,!1,n);case 10:return Vi(r,65,90,!1,n);case 11:return Vi(r,1632,1641,!0,n);case 12:case 49:return E1(r,1,9999,P9,3,n);case 35:return E1(r,1,9999,P9,3,n).toLowerCase();case 13:return Vi(r,2534,2543,!0,n);case 14:case 30:return Vi(r,6112,6121,!0,n);case 15:return Dp(r,"",i);case 16:return Dp(r,"",i);case 17:case 48:return oh(r,"",R9,"",i,cd|ud|bx);case 47:return oh(r,"",D9,"",i,j1|cd|ud|bx);case 42:return oh(r,"",R9,"",i,cd|ud|bx);case 41:return oh(r,"",D9,"",i,j1|cd|ud|bx);case 26:return oh(r,"","",N9,i,0);case 25:return oh(r,"","",N9,i,j1|cd|ud);case 31:return oh(r,"","",Wk,s,j1|cd|ud);case 33:return oh(r,"","",Wk,s,0);case 32:return oh(r,"","",Wk,s,j1|cd|ud);case 18:return Vi(r,2406,2415,!0,n);case 20:return E1(r,1,19999,kTe,3,n);case 21:return Vi(r,2790,2799,!0,n);case 22:return Vi(r,2662,2671,!0,n);case 22:return E1(r,1,10999,ITe,3,n);case 23:return Dp(r,"");case 24:return Dp(r,"");case 27:return Vi(r,3302,3311,!0,n);case 28:return Dp(r,"",i);case 29:return Dp(r,"",i);case 34:return Vi(r,3792,3801,!0,n);case 37:return Vi(r,6160,6169,!0,n);case 38:return Vi(r,4160,4169,!0,n);case 39:return Vi(r,2918,2927,!0,n);case 40:return Vi(r,1776,1785,!0,n);case 43:return Vi(r,3046,3055,!0,n);case 44:return Vi(r,3174,3183,!0,n);case 45:return Vi(r,3664,3673,!0,n);case 46:return Vi(r,3872,3881,!0,n);case 3:default:return Vi(r,48,57,!0,n)}},PZ="data-html2canvas-ignore",U9=function(){function r(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new FTe,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return r.prototype.toIFrame=function(e,t){var n=this,i=LTe(e,t);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,o=i.contentWindow,l=o.document,A=DTe(i).then(function(){return co(n,void 0,void 0,function(){var c,u;return Na(this,function(h){switch(h.label){case 0:return this.scrolledElements.forEach(OTe),o&&(o.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==t.top||o.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-t.left,o.scrollY-t.top,0,0))),c=this.options.onclone,u=this.clonedReferenceElement,typeof u>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:h.sent(),h.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,RTe(l)]:[3,4];case 3:h.sent(),h.label=4;case 4:return typeof c=="function"?[2,Promise.resolve().then(function(){return c(l,u)}).then(function(){return i})]:[2,i]}})})});return l.open(),l.write(UTe(document.doctype)+"<html></html>"),MTe(this.referenceElement.ownerDocument,s,a),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),A},r.prototype.createElementClone=function(e){if(aD(e,2))debugger;if(FZ(e))return this.createCanvasClone(e);if(F9(e))return this.createVideoClone(e);if(I9(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return cD(t)&&(cD(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),k9(t)?this.createCustomElementClone(t):t},r.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return Gk(e.style,t),t},r.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce(function(s,a){return a&&typeof a.cssText=="string"?s+a.cssText:s},""),i=e.cloneNode(!1);return i.textContent=n,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},r.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var s=e.getContext("2d"),a=i.getContext("2d");if(a)if(!this.options.allowTaint&&s)a.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var o=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(o){var l=o.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},r.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},r.prototype.appendChildNode=function(e,t,n){(!lv(t)||!TTe(t)&&!t.hasAttribute(PZ)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!lv(t)||!I9(t))&&e.appendChild(this.cloneNode(t,n))},r.prototype.cloneChildNodes=function(e,t,n){for(var i=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(lv(s)&&kZ(s)&&typeof s.assignedNodes=="function"){var a=s.assignedNodes();a.length&&a.forEach(function(o){return i.appendChildNode(t,o,n)})}else this.appendChildNode(t,s,n)},r.prototype.cloneNode=function(e,t){if(SZ(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&lv(e)&&(AD(e)||L5(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var s=n.getComputedStyle(e),a=n.getComputedStyle(e,":before"),o=n.getComputedStyle(e,":after");this.referenceElement===e&&AD(i)&&(this.clonedReferenceElement=i),yM(i)&&VTe(i);var l=this.counters.parse(new d9(this.context,s)),A=this.resolvePseudoContent(e,i,a,r_.BEFORE);k9(e)&&(t=!0),F9(e)||this.cloneChildNodes(e,i,t),A&&i.insertBefore(A,i.firstChild);var c=this.resolvePseudoContent(e,i,o,r_.AFTER);return c&&i.appendChild(c),this.counters.pop(l),(s&&(this.options.copyStyles||L5(e))&&!IZ(e)||t)&&Gk(s,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(uF(e)||hF(e))&&(uF(i)||hF(i))&&(i.value=e.value),i}return e.cloneNode(!1)},r.prototype.resolvePseudoContent=function(e,t,n,i){var s=this;if(n){var a=n.content,o=t.ownerDocument;if(!(!o||!a||a==="none"||a==="-moz-alt-content"||n.display==="none")){this.counters.parse(new d9(this.context,n));var l=new E5e(this.context,n),A=o.createElement("html2canvaspseudoelement");Gk(n,A),l.content.forEach(function(u){if(u.type===0)A.appendChild(o.createTextNode(u.value));else if(u.type===22){var h=o.createElement("img");h.src=u.value,h.style.opacity="1",A.appendChild(h)}else if(u.type===18){if(u.name==="attr"){var f=u.values.filter(En);f.length&&A.appendChild(o.createTextNode(e.getAttribute(f[0].value)||""))}else if(u.name==="counter"){var g=u.values.filter(By),p=g[0],v=g[1];if(p&&En(p)){var m=s.counters.getCounterValue(p.value),x=v&&En(v)?sD.parse(s.context,v.value):3;A.appendChild(o.createTextNode(nb(m,x,!1)))}}else if(u.name==="counters"){var _=u.values.filter(By),p=_[0],S=_[1],v=_[2];if(p&&En(p)){var k=s.counters.getCounterValues(p.value),R=v&&En(v)?sD.parse(s.context,v.value):3,B=S&&S.type===0?S.value:"",E=k.map(function(T){return nb(T,R,!1)}).join(B);A.appendChild(o.createTextNode(E))}}}else if(u.type===20)switch(u.value){case"open-quote":A.appendChild(o.createTextNode(f9(l.quotes,s.quoteDepth++,!0)));break;case"close-quote":A.appendChild(o.createTextNode(f9(l.quotes,--s.quoteDepth,!1)));break;default:A.appendChild(o.createTextNode(u.value))}}),A.className=uD+" "+hD;var c=i===r_.BEFORE?" "+uD:" "+hD;return L5(t)?t.className.baseValue+=c:t.className+=c,A}}},r.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},r}(),r_;(function(r){r[r.BEFORE=0]="BEFORE",r[r.AFTER=1]="AFTER"})(r_||(r_={}));var LTe=function(r,e){var t=r.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute(PZ,"true"),r.body.appendChild(t),t},PTe=function(r){return new Promise(function(e){if(r.complete){e();return}if(!r.src){e();return}r.onload=e,r.onerror=e})},RTe=function(r){return Promise.all([].slice.call(r.images,0).map(PTe))},DTe=function(r){return new Promise(function(e,t){var n=r.contentWindow;if(!n)return t("No window assigned for iframe");var i=n.document;n.onload=r.onload=function(){n.onload=r.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),e(r))},50)}})},NTe=["all","d","content"],Gk=function(r,e){for(var t=r.length-1;t>=0;t--){var n=r.item(t);NTe.indexOf(n)===-1&&e.style.setProperty(n,r.getPropertyValue(n))}return e},UTe=function(r){var e="";return r&&(e+="<!DOCTYPE ",r.name&&(e+=r.name),r.internalSubset&&(e+=r.internalSubset),r.publicId&&(e+='"'+r.publicId+'"'),r.systemId&&(e+='"'+r.systemId+'"'),e+=">"),e},MTe=function(r,e,t){r&&r.defaultView&&(e!==r.defaultView.pageXOffset||t!==r.defaultView.pageYOffset)&&r.defaultView.scrollTo(e,t)},OTe=function(r){var e=r[0],t=r[1],n=r[2];e.scrollLeft=t,e.scrollTop=n},QTe=":before",HTe=":after",uD="___html2canvas___pseudoelement_before",hD="___html2canvas___pseudoelement_after",M9=`{
    content: "" !important;
    display: none !important;
}`,VTe=function(r){jTe(r,"."+uD+QTe+M9+`
         .`+hD+HTe+M9)},jTe=function(r,e){var t=r.ownerDocument;if(t){var n=t.createElement("style");n.textContent=e,r.appendChild(n)}},RZ=function(){function r(){}return r.getOrigin=function(e){var t=r._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},r.isSameOrigin=function(e){return r.getOrigin(e)===r._origin},r.setContext=function(e){r._link=e.document.createElement("a"),r._origin=r.getOrigin(e.location.href)},r._origin="about:blank",r}(),KTe=function(){function r(e,t){this.context=e,this._options=t,this._cache={}}return r.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(qk(e)||$Te(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},r.prototype.match=function(e){return this._cache[e]},r.prototype.loadImage=function(e){return co(this,void 0,void 0,function(){var t,n,i,s,a=this;return Na(this,function(o){switch(o.label){case 0:return t=RZ.isSameOrigin(e),n=!$k(e)&&this._options.useCORS===!0&&ia.SUPPORT_CORS_IMAGES&&!t,i=!$k(e)&&!t&&!qk(e)&&typeof this._options.proxy=="string"&&ia.SUPPORT_CORS_XHR&&!n,!t&&this._options.allowTaint===!1&&!$k(e)&&!qk(e)&&!i&&!n?[2]:(s=e,i?[4,this.proxy(s)]:[3,2]);case 1:s=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,A){var c=new Image;c.onload=function(){return l(c)},c.onerror=A,(qTe(s)||n)&&(c.crossOrigin="anonymous"),c.src=s,c.complete===!0&&setTimeout(function(){return l(c)},500),a._options.imageTimeout>0&&setTimeout(function(){return A("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},r.prototype.has=function(e){return typeof this._cache[e]<"u"},r.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},r.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(s,a){var o=ia.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(o==="text")s(l.response);else{var u=new FileReader;u.addEventListener("load",function(){return s(u.result)},!1),u.addEventListener("error",function(h){return a(h)},!1),u.readAsDataURL(l.response)}else a("Failed to proxy resource "+i+" with status code "+l.status)},l.onerror=a;var A=n.indexOf("?")>-1?"&":"?";if(l.open("GET",""+n+A+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=o),t._options.imageTimeout){var c=t._options.imageTimeout;l.timeout=c,l.ontimeout=function(){return a("Timed out ("+c+"ms) proxying "+i)}}l.send()})},r}(),zTe=/^data:image\/svg\+xml/i,WTe=/^data:image\/.*;base64,/i,GTe=/^data:image\/.*/i,$Te=function(r){return ia.SUPPORT_SVG_DRAWING||!XTe(r)},$k=function(r){return GTe.test(r)},qTe=function(r){return WTe.test(r)},qk=function(r){return r.substr(0,4)==="blob"},XTe=function(r){return r.substr(-3).toLowerCase()==="svg"||zTe.test(r)},yt=function(){function r(e,t){this.type=0,this.x=e,this.y=t}return r.prototype.add=function(e,t){return new r(this.x+e,this.y+t)},r}(),C1=function(r,e,t){return new yt(r.x+(e.x-r.x)*t,r.y+(e.y-r.y)*t)},oS=function(){function r(e,t,n,i){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=i}return r.prototype.subdivide=function(e,t){var n=C1(this.start,this.startControl,e),i=C1(this.startControl,this.endControl,e),s=C1(this.endControl,this.end,e),a=C1(n,i,e),o=C1(i,s,e),l=C1(a,o,e);return t?new r(this.start,n,a,l):new r(l,o,s,this.end)},r.prototype.add=function(e,t){return new r(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},r.prototype.reverse=function(){return new r(this.end,this.endControl,this.startControl,this.start)},r}(),EA=function(r){return r.type===1},YTe=function(){function r(e){var t=e.styles,n=e.bounds,i=xx(t.borderTopLeftRadius,n.width,n.height),s=i[0],a=i[1],o=xx(t.borderTopRightRadius,n.width,n.height),l=o[0],A=o[1],c=xx(t.borderBottomRightRadius,n.width,n.height),u=c[0],h=c[1],f=xx(t.borderBottomLeftRadius,n.width,n.height),g=f[0],p=f[1],v=[];v.push((s+l)/n.width),v.push((g+u)/n.width),v.push((a+p)/n.height),v.push((A+h)/n.height);var m=Math.max.apply(Math,v);m>1&&(s/=m,a/=m,l/=m,A/=m,u/=m,h/=m,g/=m,p/=m);var x=n.width-l,_=n.height-h,S=n.width-u,k=n.height-p,R=t.borderTopWidth,B=t.borderRightWidth,E=t.borderBottomWidth,b=t.borderLeftWidth,I=Vn(t.paddingTop,e.bounds.width),T=Vn(t.paddingRight,e.bounds.width),F=Vn(t.paddingBottom,e.bounds.width),D=Vn(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||a>0?ei(n.left+b/3,n.top+R/3,s-b/3,a-R/3,an.TOP_LEFT):new yt(n.left+b/3,n.top+R/3),this.topRightBorderDoubleOuterBox=s>0||a>0?ei(n.left+x,n.top+R/3,l-B/3,A-R/3,an.TOP_RIGHT):new yt(n.left+n.width-B/3,n.top+R/3),this.bottomRightBorderDoubleOuterBox=u>0||h>0?ei(n.left+S,n.top+_,u-B/3,h-E/3,an.BOTTOM_RIGHT):new yt(n.left+n.width-B/3,n.top+n.height-E/3),this.bottomLeftBorderDoubleOuterBox=g>0||p>0?ei(n.left+b/3,n.top+k,g-b/3,p-E/3,an.BOTTOM_LEFT):new yt(n.left+b/3,n.top+n.height-E/3),this.topLeftBorderDoubleInnerBox=s>0||a>0?ei(n.left+b*2/3,n.top+R*2/3,s-b*2/3,a-R*2/3,an.TOP_LEFT):new yt(n.left+b*2/3,n.top+R*2/3),this.topRightBorderDoubleInnerBox=s>0||a>0?ei(n.left+x,n.top+R*2/3,l-B*2/3,A-R*2/3,an.TOP_RIGHT):new yt(n.left+n.width-B*2/3,n.top+R*2/3),this.bottomRightBorderDoubleInnerBox=u>0||h>0?ei(n.left+S,n.top+_,u-B*2/3,h-E*2/3,an.BOTTOM_RIGHT):new yt(n.left+n.width-B*2/3,n.top+n.height-E*2/3),this.bottomLeftBorderDoubleInnerBox=g>0||p>0?ei(n.left+b*2/3,n.top+k,g-b*2/3,p-E*2/3,an.BOTTOM_LEFT):new yt(n.left+b*2/3,n.top+n.height-E*2/3),this.topLeftBorderStroke=s>0||a>0?ei(n.left+b/2,n.top+R/2,s-b/2,a-R/2,an.TOP_LEFT):new yt(n.left+b/2,n.top+R/2),this.topRightBorderStroke=s>0||a>0?ei(n.left+x,n.top+R/2,l-B/2,A-R/2,an.TOP_RIGHT):new yt(n.left+n.width-B/2,n.top+R/2),this.bottomRightBorderStroke=u>0||h>0?ei(n.left+S,n.top+_,u-B/2,h-E/2,an.BOTTOM_RIGHT):new yt(n.left+n.width-B/2,n.top+n.height-E/2),this.bottomLeftBorderStroke=g>0||p>0?ei(n.left+b/2,n.top+k,g-b/2,p-E/2,an.BOTTOM_LEFT):new yt(n.left+b/2,n.top+n.height-E/2),this.topLeftBorderBox=s>0||a>0?ei(n.left,n.top,s,a,an.TOP_LEFT):new yt(n.left,n.top),this.topRightBorderBox=l>0||A>0?ei(n.left+x,n.top,l,A,an.TOP_RIGHT):new yt(n.left+n.width,n.top),this.bottomRightBorderBox=u>0||h>0?ei(n.left+S,n.top+_,u,h,an.BOTTOM_RIGHT):new yt(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=g>0||p>0?ei(n.left,n.top+k,g,p,an.BOTTOM_LEFT):new yt(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||a>0?ei(n.left+b,n.top+R,Math.max(0,s-b),Math.max(0,a-R),an.TOP_LEFT):new yt(n.left+b,n.top+R),this.topRightPaddingBox=l>0||A>0?ei(n.left+Math.min(x,n.width-B),n.top+R,x>n.width+B?0:Math.max(0,l-B),Math.max(0,A-R),an.TOP_RIGHT):new yt(n.left+n.width-B,n.top+R),this.bottomRightPaddingBox=u>0||h>0?ei(n.left+Math.min(S,n.width-b),n.top+Math.min(_,n.height-E),Math.max(0,u-B),Math.max(0,h-E),an.BOTTOM_RIGHT):new yt(n.left+n.width-B,n.top+n.height-E),this.bottomLeftPaddingBox=g>0||p>0?ei(n.left+b,n.top+Math.min(k,n.height-E),Math.max(0,g-b),Math.max(0,p-E),an.BOTTOM_LEFT):new yt(n.left+b,n.top+n.height-E),this.topLeftContentBox=s>0||a>0?ei(n.left+b+D,n.top+R+I,Math.max(0,s-(b+D)),Math.max(0,a-(R+I)),an.TOP_LEFT):new yt(n.left+b+D,n.top+R+I),this.topRightContentBox=l>0||A>0?ei(n.left+Math.min(x,n.width+b+D),n.top+R+I,x>n.width+b+D?0:l-b+D,A-(R+I),an.TOP_RIGHT):new yt(n.left+n.width-(B+T),n.top+R+I),this.bottomRightContentBox=u>0||h>0?ei(n.left+Math.min(S,n.width-(b+D)),n.top+Math.min(_,n.height+R+I),Math.max(0,u-(B+T)),h-(E+F),an.BOTTOM_RIGHT):new yt(n.left+n.width-(B+T),n.top+n.height-(E+F)),this.bottomLeftContentBox=g>0||p>0?ei(n.left+b+D,n.top+k,Math.max(0,g-(b+D)),p-(E+F),an.BOTTOM_LEFT):new yt(n.left+b+D,n.top+n.height-(E+F))}return r}(),an;(function(r){r[r.TOP_LEFT=0]="TOP_LEFT",r[r.TOP_RIGHT=1]="TOP_RIGHT",r[r.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",r[r.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(an||(an={}));var ei=function(r,e,t,n,i){var s=4*((Math.sqrt(2)-1)/3),a=t*s,o=n*s,l=r+t,A=e+n;switch(i){case an.TOP_LEFT:return new oS(new yt(r,A),new yt(r,A-o),new yt(l-a,e),new yt(l,e));case an.TOP_RIGHT:return new oS(new yt(r,e),new yt(r+a,e),new yt(l,A-o),new yt(l,A));case an.BOTTOM_RIGHT:return new oS(new yt(l,e),new yt(l,e+o),new yt(r+a,A),new yt(r,A));case an.BOTTOM_LEFT:default:return new oS(new yt(l,A),new yt(l-a,A),new yt(r,e+o),new yt(r,e))}},fF=function(r){return[r.topLeftBorderBox,r.topRightBorderBox,r.bottomRightBorderBox,r.bottomLeftBorderBox]},JTe=function(r){return[r.topLeftContentBox,r.topRightContentBox,r.bottomRightContentBox,r.bottomLeftContentBox]},dF=function(r){return[r.topLeftPaddingBox,r.topRightPaddingBox,r.bottomRightPaddingBox,r.bottomLeftPaddingBox]},ZTe=function(){function r(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return r}(),lS=function(){function r(e,t){this.path=e,this.target=t,this.type=1}return r}(),eFe=function(){function r(e){this.opacity=e,this.type=2,this.target=6}return r}(),tFe=function(r){return r.type===0},DZ=function(r){return r.type===1},rFe=function(r){return r.type===2},O9=function(r,e){return r.length===e.length?r.some(function(t,n){return t===e[n]}):!1},nFe=function(r,e,t,n,i){return r.map(function(s,a){switch(a){case 0:return s.add(e,t);case 1:return s.add(e+n,t);case 2:return s.add(e+n,t+i);case 3:return s.add(e,t+i)}return s})},NZ=function(){function r(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return r}(),UZ=function(){function r(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new YTe(this.container),this.container.styles.opacity<1&&this.effects.push(new eFe(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new ZTe(n,i,s))}if(this.container.styles.overflowX!==0){var a=fF(this.curves),o=dF(this.curves);O9(a,o)?this.effects.push(new lS(a,6)):(this.effects.push(new lS(a,2)),this.effects.push(new lS(o,4)))}}return r.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,i=this.effects.slice(0);n;){var s=n.effects.filter(function(l){return!DZ(l)});if(t||n.container.styles.position!==0||!n.parent){if(i.unshift.apply(i,s),t=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var a=fF(n.curves),o=dF(n.curves);O9(a,o)||i.unshift(new lS(o,6))}}else i.unshift.apply(i,s);n=n.parent}return i.filter(function(l){return _s(l.target,e)})},r}(),fD=function(r,e,t,n){r.container.elements.forEach(function(i){var s=_s(i.flags,4),a=_s(i.flags,2),o=new UZ(i,r);_s(i.styles.display,2048)&&n.push(o);var l=_s(i.flags,8)?[]:n;if(s||a){var A=s||i.styles.isPositioned()?t:e,c=new NZ(o);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var u=i.styles.zIndex.order;if(u<0){var h=0;A.negativeZIndex.some(function(g,p){return u>g.element.container.styles.zIndex.order?(h=p,!1):h>0}),A.negativeZIndex.splice(h,0,c)}else if(u>0){var f=0;A.positiveZIndex.some(function(g,p){return u>=g.element.container.styles.zIndex.order?(f=p+1,!1):f>0}),A.positiveZIndex.splice(f,0,c)}else A.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else i.styles.isFloating()?A.nonPositionedFloats.push(c):A.nonPositionedInlineLevel.push(c);fD(o,c,s?c:t,l)}else i.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),fD(o,e,t,l);_s(i.flags,8)&&MZ(i,l)})},MZ=function(r,e){for(var t=r instanceof lD?r.start:1,n=r instanceof lD?r.reversed:!1,i=0;i<e.length;i++){var s=e[i];s.container instanceof xZ&&typeof s.container.value=="number"&&s.container.value!==0&&(t=s.container.value),s.listValue=nb(t,s.container.styles.listStyleType,!0),t+=n?-1:1}},iFe=function(r){var e=new UZ(r,null),t=new NZ(e),n=[];return fD(e,t,t,n),MZ(e.container,n),t},Q9=function(r,e){switch(e){case 0:return FA(r.topLeftBorderBox,r.topLeftPaddingBox,r.topRightBorderBox,r.topRightPaddingBox);case 1:return FA(r.topRightBorderBox,r.topRightPaddingBox,r.bottomRightBorderBox,r.bottomRightPaddingBox);case 2:return FA(r.bottomRightBorderBox,r.bottomRightPaddingBox,r.bottomLeftBorderBox,r.bottomLeftPaddingBox);case 3:default:return FA(r.bottomLeftBorderBox,r.bottomLeftPaddingBox,r.topLeftBorderBox,r.topLeftPaddingBox)}},sFe=function(r,e){switch(e){case 0:return FA(r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox,r.topRightBorderBox,r.topRightBorderDoubleOuterBox);case 1:return FA(r.topRightBorderBox,r.topRightBorderDoubleOuterBox,r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox);case 2:return FA(r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox,r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox);case 3:default:return FA(r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox,r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox)}},aFe=function(r,e){switch(e){case 0:return FA(r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox,r.topRightBorderDoubleInnerBox,r.topRightPaddingBox);case 1:return FA(r.topRightBorderDoubleInnerBox,r.topRightPaddingBox,r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox);case 2:return FA(r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox,r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox);case 3:default:return FA(r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox,r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox)}},oFe=function(r,e){switch(e){case 0:return AS(r.topLeftBorderStroke,r.topRightBorderStroke);case 1:return AS(r.topRightBorderStroke,r.bottomRightBorderStroke);case 2:return AS(r.bottomRightBorderStroke,r.bottomLeftBorderStroke);case 3:default:return AS(r.bottomLeftBorderStroke,r.topLeftBorderStroke)}},AS=function(r,e){var t=[];return EA(r)?t.push(r.subdivide(.5,!1)):t.push(r),EA(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},FA=function(r,e,t,n){var i=[];return EA(r)?i.push(r.subdivide(.5,!1)):i.push(r),EA(t)?i.push(t.subdivide(.5,!0)):i.push(t),EA(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),EA(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},OZ=function(r){var e=r.bounds,t=r.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},pF=function(r){var e=r.styles,t=r.bounds,n=Vn(e.paddingLeft,t.width),i=Vn(e.paddingRight,t.width),s=Vn(e.paddingTop,t.width),a=Vn(e.paddingBottom,t.width);return t.add(n+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+i),-(e.borderTopWidth+e.borderBottomWidth+s+a))},lFe=function(r,e){return r===0?e.bounds:r===2?pF(e):OZ(e)},AFe=function(r,e){return r===0?e.bounds:r===2?pF(e):OZ(e)},Xk=function(r,e,t){var n=lFe(K1(r.styles.backgroundOrigin,e),r),i=AFe(K1(r.styles.backgroundClip,e),r),s=cFe(K1(r.styles.backgroundSize,e),t,n),a=s[0],o=s[1],l=xx(K1(r.styles.backgroundPosition,e),n.width-a,n.height-o),A=uFe(K1(r.styles.backgroundRepeat,e),l,s,n,i),c=Math.round(n.left+l[0]),u=Math.round(n.top+l[1]);return[A,c,u,a,o]},B1=function(r){return En(r)&&r.value===Iv.AUTO},cS=function(r){return typeof r=="number"},cFe=function(r,e,t){var n=e[0],i=e[1],s=e[2],a=r[0],o=r[1];if(!a)return[0,0];if(ls(a)&&o&&ls(o))return[Vn(a,t.width),Vn(o,t.height)];var l=cS(s);if(En(a)&&(a.value===Iv.CONTAIN||a.value===Iv.COVER)){if(cS(s)){var A=t.width/t.height;return A<s!=(a.value===Iv.COVER)?[t.width,t.width/s]:[t.height*s,t.height]}return[t.width,t.height]}var c=cS(n),u=cS(i),h=c||u;if(B1(a)&&(!o||B1(o))){if(c&&u)return[n,i];if(!l&&!h)return[t.width,t.height];if(h&&l){var f=c?n:i*s,g=u?i:n/s;return[f,g]}var p=c?n:t.width,v=u?i:t.height;return[p,v]}if(l){var m=0,x=0;return ls(a)?m=Vn(a,t.width):ls(o)&&(x=Vn(o,t.height)),B1(a)?m=x*s:(!o||B1(o))&&(x=m/s),[m,x]}var _=null,S=null;if(ls(a)?_=Vn(a,t.width):o&&ls(o)&&(S=Vn(o,t.height)),_!==null&&(!o||B1(o))&&(S=c&&u?_/n*i:t.height),S!==null&&B1(a)&&(_=c&&u?S/i*n:t.width),_!==null&&S!==null)return[_,S];throw new Error("Unable to calculate background-size for element")},K1=function(r,e){var t=r[e];return typeof t>"u"?r[0]:t},uFe=function(r,e,t,n,i){var s=e[0],a=e[1],o=t[0],l=t[1];switch(r){case 2:return[new yt(Math.round(n.left),Math.round(n.top+a)),new yt(Math.round(n.left+n.width),Math.round(n.top+a)),new yt(Math.round(n.left+n.width),Math.round(l+n.top+a)),new yt(Math.round(n.left),Math.round(l+n.top+a))];case 3:return[new yt(Math.round(n.left+s),Math.round(n.top)),new yt(Math.round(n.left+s+o),Math.round(n.top)),new yt(Math.round(n.left+s+o),Math.round(n.height+n.top)),new yt(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new yt(Math.round(n.left+s),Math.round(n.top+a)),new yt(Math.round(n.left+s+o),Math.round(n.top+a)),new yt(Math.round(n.left+s+o),Math.round(n.top+a+l)),new yt(Math.round(n.left+s),Math.round(n.top+a+l))];default:return[new yt(Math.round(i.left),Math.round(i.top)),new yt(Math.round(i.left+i.width),Math.round(i.top)),new yt(Math.round(i.left+i.width),Math.round(i.height+i.top)),new yt(Math.round(i.left),Math.round(i.height+i.top))]}},hFe="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",H9="Hidden Text",fFe=function(){function r(e){this._data={},this._document=e}return r.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),a=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",a.appendChild(n),i.src=hFe,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=t,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(H9)),n.appendChild(s),n.appendChild(i);var o=i.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(H9)),n.style.lineHeight="normal",i.style.verticalAlign="super";var l=i.offsetTop-n.offsetTop+2;return a.removeChild(n),{baseline:o,middle:l}},r.prototype.getMetrics=function(e,t){var n=e+" "+t;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},r}(),QZ=function(){function r(e,t){this.context=e,this.options=t}return r}(),dFe=1e4,pFe=function(r){kc(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new fFe(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return e.prototype.applyEffects=function(t){for(var n=this;this._activeEffects.length;)this.popEffect();t.forEach(function(i){return n.applyEffect(i)})},e.prototype.applyEffect=function(t){this.ctx.save(),rFe(t)&&(this.ctx.globalAlpha=t.opacity),tFe(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),DZ(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return co(this,void 0,void 0,function(){var n;return Na(this,function(i){switch(i.label){case 0:return n=t.element.container.styles,n.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return co(this,void 0,void 0,function(){return Na(this,function(n){switch(n.label){case 0:if(_s(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(t)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,n,i){var s=this;if(n===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+i);else{var a=vM(t.text);a.reduce(function(o,l){return s.ctx.fillText(l,o,t.bounds.top+i),o+s.ctx.measureText(l).width},t.bounds.left)}},e.prototype.createFontStyle=function(t){var n=t.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),i=yFe(t.fontFamily).join(", "),s=xC(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,n,t.fontWeight,s,i].join(" "),i,s]},e.prototype.renderTextNode=function(t,n){return co(this,void 0,void 0,function(){var i,s,a,o,l,A,c,u,h=this;return Na(this,function(f){return i=this.createFontStyle(n),s=i[0],a=i[1],o=i[2],this.ctx.font=s,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(a,o),A=l.baseline,c=l.middle,u=n.paintOrder,t.textBounds.forEach(function(g){u.forEach(function(p){switch(p){case 0:h.ctx.fillStyle=ks(n.color),h.renderTextWithLetterSpacing(g,n.letterSpacing,A);var v=n.textShadow;v.length&&g.text.trim().length&&(v.slice(0).reverse().forEach(function(m){h.ctx.shadowColor=ks(m.color),h.ctx.shadowOffsetX=m.offsetX.number*h.options.scale,h.ctx.shadowOffsetY=m.offsetY.number*h.options.scale,h.ctx.shadowBlur=m.blur.number,h.renderTextWithLetterSpacing(g,n.letterSpacing,A)}),h.ctx.shadowColor="",h.ctx.shadowOffsetX=0,h.ctx.shadowOffsetY=0,h.ctx.shadowBlur=0),n.textDecorationLine.length&&(h.ctx.fillStyle=ks(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(m){switch(m){case 1:h.ctx.fillRect(g.bounds.left,Math.round(g.bounds.top+A),g.bounds.width,1);break;case 2:h.ctx.fillRect(g.bounds.left,Math.round(g.bounds.top),g.bounds.width,1);break;case 3:h.ctx.fillRect(g.bounds.left,Math.ceil(g.bounds.top+c),g.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&g.text.trim().length&&(h.ctx.strokeStyle=ks(n.webkitTextStrokeColor),h.ctx.lineWidth=n.webkitTextStrokeWidth,h.ctx.lineJoin=window.chrome?"miter":"round",h.ctx.strokeText(g.text,g.bounds.left,g.bounds.top+A)),h.ctx.strokeStyle="",h.ctx.lineWidth=0,h.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(t,n,i){if(i&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var s=pF(t),a=dF(n);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,t.intrinsicWidth,t.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return co(this,void 0,void 0,function(){var n,i,s,a,o,l,x,x,A,c,u,h,S,f,g,k,p,v,m,x,_,S,k;return Na(this,function(R){switch(R.label){case 0:this.applyEffects(t.getEffects(4)),n=t.container,i=t.curves,s=n.styles,a=0,o=n.textNodes,R.label=1;case 1:return a<o.length?(l=o[a],[4,this.renderTextNode(l,s)]):[3,4];case 2:R.sent(),R.label=3;case 3:return a++,[3,1];case 4:if(!(n instanceof vZ))return[3,8];R.label=5;case 5:return R.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return x=R.sent(),this.renderReplacedElement(n,i,x),[3,8];case 7:return R.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof wZ&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof yZ))return[3,12];R.label=9;case 9:return R.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return x=R.sent(),this.renderReplacedElement(n,i,x),[3,12];case 11:return R.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof EZ&&n.tree?(A=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,A.render(n.tree)]):[3,14];case 13:c=R.sent(),n.width&&n.height&&this.ctx.drawImage(c,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),R.label=14;case 14:if(n instanceof wM&&(u=Math.min(n.bounds.width,n.bounds.height),n.type===AF?n.checked&&(this.ctx.save(),this.path([new yt(n.bounds.left+u*.39363,n.bounds.top+u*.79),new yt(n.bounds.left+u*.16,n.bounds.top+u*.5549),new yt(n.bounds.left+u*.27347,n.bounds.top+u*.44071),new yt(n.bounds.left+u*.39694,n.bounds.top+u*.5649),new yt(n.bounds.left+u*.72983,n.bounds.top+u*.23),new yt(n.bounds.left+u*.84,n.bounds.top+u*.34085),new yt(n.bounds.left+u*.39363,n.bounds.top+u*.79)]),this.ctx.fillStyle=ks(T9),this.ctx.fill(),this.ctx.restore()):n.type===cF&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+u/2,n.bounds.top+u/2,u/4,0,Math.PI*2,!0),this.ctx.fillStyle=ks(T9),this.ctx.fill(),this.ctx.restore())),gFe(n)&&n.value.length){switch(h=this.createFontStyle(s),S=h[0],f=h[1],g=this.fontMetrics.getMetrics(S,f).baseline,this.ctx.font=S,this.ctx.fillStyle=ks(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=vFe(n.styles.textAlign),k=pF(n),p=0,n.styles.textAlign){case 1:p+=k.width/2;break;case 2:p+=k.width;break}v=k.add(p,0,0,-k.height/2+1),this.ctx.save(),this.path([new yt(k.left,k.top),new yt(k.left+k.width,k.top),new yt(k.left+k.width,k.top+k.height),new yt(k.left,k.top+k.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new t_(n.value,v),s.letterSpacing,g),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!_s(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(m=n.styles.listStyleImage,m.type!==0)return[3,18];x=void 0,_=m.url,R.label=15;case 15:return R.trys.push([15,17,,18]),[4,this.context.cache.match(_)];case 16:return x=R.sent(),this.ctx.drawImage(x,n.bounds.left-(x.width+10),n.bounds.top),[3,18];case 17:return R.sent(),this.context.logger.error("Error loading list-style-image "+_),[3,18];case 18:return[3,20];case 19:t.listValue&&n.styles.listStyleType!==-1&&(S=this.createFontStyle(s)[0],this.ctx.font=S,this.ctx.fillStyle=ks(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",k=new Lf(n.bounds.left,n.bounds.top+Vn(n.styles.paddingTop,n.bounds.width),n.bounds.width,u9(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new t_(t.listValue,k),s.letterSpacing,u9(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),R.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return co(this,void 0,void 0,function(){var n,i,m,s,a,m,o,l,m,A,c,m,u,h,m,f,g,m,p,v,m;return Na(this,function(x){switch(x.label){case 0:if(_s(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:x.sent(),n=0,i=t.negativeZIndex,x.label=2;case 2:return n<i.length?(m=i[n],[4,this.renderStack(m)]):[3,5];case 3:x.sent(),x.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:x.sent(),s=0,a=t.nonInlineLevel,x.label=7;case 7:return s<a.length?(m=a[s],[4,this.renderNode(m)]):[3,10];case 8:x.sent(),x.label=9;case 9:return s++,[3,7];case 10:o=0,l=t.nonPositionedFloats,x.label=11;case 11:return o<l.length?(m=l[o],[4,this.renderStack(m)]):[3,14];case 12:x.sent(),x.label=13;case 13:return o++,[3,11];case 14:A=0,c=t.nonPositionedInlineLevel,x.label=15;case 15:return A<c.length?(m=c[A],[4,this.renderStack(m)]):[3,18];case 16:x.sent(),x.label=17;case 17:return A++,[3,15];case 18:u=0,h=t.inlineLevel,x.label=19;case 19:return u<h.length?(m=h[u],[4,this.renderNode(m)]):[3,22];case 20:x.sent(),x.label=21;case 21:return u++,[3,19];case 22:f=0,g=t.zeroOrAutoZIndexOrTransformedOrOpacity,x.label=23;case 23:return f<g.length?(m=g[f],[4,this.renderStack(m)]):[3,26];case 24:x.sent(),x.label=25;case 25:return f++,[3,23];case 26:p=0,v=t.positiveZIndex,x.label=27;case 27:return p<v.length?(m=v[p],[4,this.renderStack(m)]):[3,30];case 28:x.sent(),x.label=29;case 29:return p++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var n=this;t.forEach(function(i,s){var a=EA(i)?i.start:i;s===0?n.ctx.moveTo(a.x,a.y):n.ctx.lineTo(a.x,a.y),EA(i)&&n.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(t,n,i,s){this.path(t),this.ctx.fillStyle=n,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},e.prototype.resizeImage=function(t,n,i){var s;if(t.width===n&&t.height===i)return t;var a=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,o=a.createElement("canvas");o.width=Math.max(1,n),o.height=Math.max(1,i);var l=o.getContext("2d");return l.drawImage(t,0,0,t.width,t.height,0,0,n,i),o},e.prototype.renderBackgroundImage=function(t){return co(this,void 0,void 0,function(){var n,i,s,a,o,l;return Na(this,function(A){switch(A.label){case 0:n=t.styles.backgroundImage.length-1,i=function(c){var u,h,f,I,oe,te,D,q,E,g,I,oe,te,D,q,p,v,m,x,_,S,k,R,B,E,b,I,T,F,D,q,ie,oe,te,re,W,pe,_e,P,O,H,K;return Na(this,function(Z){switch(Z.label){case 0:if(c.type!==0)return[3,5];u=void 0,h=c.url,Z.label=1;case 1:return Z.trys.push([1,3,,4]),[4,s.context.cache.match(h)];case 2:return u=Z.sent(),[3,4];case 3:return Z.sent(),s.context.logger.error("Error loading background-image "+h),[3,4];case 4:return u&&(f=Xk(t,n,[u.width,u.height,u.width/u.height]),I=f[0],oe=f[1],te=f[2],D=f[3],q=f[4],E=s.ctx.createPattern(s.resizeImage(u,D,q),"repeat"),s.renderRepeat(I,E,oe,te)),[3,6];case 5:tSe(c)?(g=Xk(t,n,[null,null,null]),I=g[0],oe=g[1],te=g[2],D=g[3],q=g[4],p=XBe(c.angle,D,q),v=p[0],m=p[1],x=p[2],_=p[3],S=p[4],k=document.createElement("canvas"),k.width=D,k.height=q,R=k.getContext("2d"),B=R.createLinearGradient(m,_,x,S),A9(c.stops,v).forEach(function(he){return B.addColorStop(he.stop,ks(he.color))}),R.fillStyle=B,R.fillRect(0,0,D,q),D>0&&q>0&&(E=s.ctx.createPattern(k,"repeat"),s.renderRepeat(I,E,oe,te))):rSe(c)&&(b=Xk(t,n,[null,null,null]),I=b[0],T=b[1],F=b[2],D=b[3],q=b[4],ie=c.position.length===0?[pM]:c.position,oe=Vn(ie[0],D),te=Vn(ie[ie.length-1],q),re=YBe(c,oe,te,D,q),W=re[0],pe=re[1],W>0&&pe>0&&(_e=s.ctx.createRadialGradient(T+oe,F+te,0,T+oe,F+te,W),A9(c.stops,W*2).forEach(function(he){return _e.addColorStop(he.stop,ks(he.color))}),s.path(I),s.ctx.fillStyle=_e,W!==pe?(P=t.bounds.left+.5*t.bounds.width,O=t.bounds.top+.5*t.bounds.height,H=pe/W,K=1/H,s.ctx.save(),s.ctx.translate(P,O),s.ctx.transform(1,0,0,H,0,0),s.ctx.translate(-P,-O),s.ctx.fillRect(T,K*(F-O)+O,D,q*K),s.ctx.restore()):s.ctx.fill())),Z.label=6;case 6:return n--,[2]}})},s=this,a=0,o=t.styles.backgroundImage.slice(0).reverse(),A.label=1;case 1:return a<o.length?(l=o[a],[5,i(l)]):[3,4];case 2:A.sent(),A.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,n,i){return co(this,void 0,void 0,function(){return Na(this,function(s){return this.path(Q9(i,n)),this.ctx.fillStyle=ks(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,n,i,s){return co(this,void 0,void 0,function(){var a,o;return Na(this,function(l){switch(l.label){case 0:return n<3?[4,this.renderSolidBorder(t,i,s)]:[3,2];case 1:return l.sent(),[2];case 2:return a=sFe(s,i),this.path(a),this.ctx.fillStyle=ks(t),this.ctx.fill(),o=aFe(s,i),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return co(this,void 0,void 0,function(){var n,i,s,a,o,l,A,c,u=this;return Na(this,function(h){switch(h.label){case 0:return this.applyEffects(t.getEffects(2)),n=t.container.styles,i=!G0(n.backgroundColor)||n.backgroundImage.length,s=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],a=mFe(K1(n.backgroundClip,0),t.curves),i||n.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),G0(n.backgroundColor)||(this.ctx.fillStyle=ks(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:h.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(f){u.ctx.save();var g=fF(t.curves),p=f.inset?0:dFe,v=nFe(g,-p+(f.inset?1:-1)*f.spread.number,(f.inset?1:-1)*f.spread.number,f.spread.number*(f.inset?-2:2),f.spread.number*(f.inset?-2:2));f.inset?(u.path(g),u.ctx.clip(),u.mask(v)):(u.mask(g),u.ctx.clip(),u.path(v)),u.ctx.shadowOffsetX=f.offsetX.number+p,u.ctx.shadowOffsetY=f.offsetY.number,u.ctx.shadowColor=ks(f.color),u.ctx.shadowBlur=f.blur.number,u.ctx.fillStyle=f.inset?ks(f.color):"rgba(0,0,0,1)",u.ctx.fill(),u.ctx.restore()}),h.label=2;case 2:o=0,l=0,A=s,h.label=3;case 3:return l<A.length?(c=A[l],c.style!==0&&!G0(c.color)&&c.width>0?c.style!==2?[3,5]:[4,this.renderDashedDottedBorder(c.color,c.width,o,t.curves,2)]:[3,11]):[3,13];case 4:return h.sent(),[3,11];case 5:return c.style!==3?[3,7]:[4,this.renderDashedDottedBorder(c.color,c.width,o,t.curves,3)];case 6:return h.sent(),[3,11];case 7:return c.style!==4?[3,9]:[4,this.renderDoubleBorder(c.color,c.width,o,t.curves)];case 8:return h.sent(),[3,11];case 9:return[4,this.renderSolidBorder(c.color,o,t.curves)];case 10:h.sent(),h.label=11;case 11:o++,h.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,n,i,s,a){return co(this,void 0,void 0,function(){var o,l,A,c,u,h,f,g,p,v,m,x,_,S,k,R,k,R;return Na(this,function(B){return this.ctx.save(),o=oFe(s,i),l=Q9(s,i),a===2&&(this.path(l),this.ctx.clip()),EA(l[0])?(A=l[0].start.x,c=l[0].start.y):(A=l[0].x,c=l[0].y),EA(l[1])?(u=l[1].end.x,h=l[1].end.y):(u=l[1].x,h=l[1].y),i===0||i===2?f=Math.abs(A-u):f=Math.abs(c-h),this.ctx.beginPath(),a===3?this.formatPath(o):this.formatPath(l.slice(0,2)),g=n<3?n*3:n*2,p=n<3?n*2:n,a===3&&(g=n,p=n),v=!0,f<=g*2?v=!1:f<=g*2+p?(m=f/(2*g+p),g*=m,p*=m):(x=Math.floor((f+p)/(g+p)),_=(f-x*g)/(x-1),S=(f-(x+1)*g)/x,p=S<=0||Math.abs(p-_)<Math.abs(p-S)?_:S),v&&(a===3?this.ctx.setLineDash([0,g+p]):this.ctx.setLineDash([g,p])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=ks(t),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(EA(l[0])&&(k=l[3],R=l[0],this.ctx.beginPath(),this.formatPath([new yt(k.end.x,k.end.y),new yt(R.start.x,R.start.y)]),this.ctx.stroke()),EA(l[1])&&(k=l[1],R=l[2],this.ctx.beginPath(),this.formatPath([new yt(k.end.x,k.end.y),new yt(R.start.x,R.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return co(this,void 0,void 0,function(){var n;return Na(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ks(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=iFe(t),[4,this.renderStack(n)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(QZ),gFe=function(r){return r instanceof bZ||r instanceof _Z?!0:r instanceof wM&&r.type!==cF&&r.type!==AF},mFe=function(r,e){switch(r){case 0:return fF(e);case 2:return JTe(e);case 1:default:return dF(e)}},vFe=function(r){switch(r){case 1:return"center";case 2:return"right";case 0:default:return"left"}},wFe=["-apple-system","system-ui"],yFe=function(r){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?r.filter(function(e){return wFe.indexOf(e)===-1}):r},xFe=function(r){kc(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return e.prototype.render=function(t){return co(this,void 0,void 0,function(){var n,i;return Na(this,function(s){switch(s.label){case 0:return n=oD(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,_Fe(n)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ks(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(QZ),_Fe=function(r){return new Promise(function(e,t){var n=new Image;n.onload=function(){e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},bFe=function(){function r(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return r.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,VB([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.prototype.getTime=function(){return Date.now()-this.start},r.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,VB([this.id,this.getTime()+"ms"],e))},r.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,VB([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,VB([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.instances={},r}(),EFe=function(){function r(e,t){var n;this.windowBounds=t,this.instanceName="#"+r.instanceCount++,this.logger=new bFe({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new KTe(this,e)}return r.instanceCount=1,r}(),HZ=function(r,e){return e===void 0&&(e={}),CFe(r,e)};typeof window<"u"&&RZ.setContext(window);var CFe=function(r,e){return co(void 0,void 0,void 0,function(){var t,n,i,s,a,o,l,A,c,u,h,f,g,p,v,m,x,_,S,k,B,R,B,E,b,I,T,F,D,q,ie,oe,te,re,W,pe,_e,P,O,H;return Na(this,function(K){switch(K.label){case 0:if(!r||typeof r!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=r.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(n=t.defaultView,!n)throw new Error("Document is not attached to a Window");return i={allowTaint:(E=e.allowTaint)!==null&&E!==void 0?E:!1,imageTimeout:(b=e.imageTimeout)!==null&&b!==void 0?b:15e3,proxy:e.proxy,useCORS:(I=e.useCORS)!==null&&I!==void 0?I:!1},s=WR({logging:(T=e.logging)!==null&&T!==void 0?T:!0,cache:e.cache},i),a={windowWidth:(F=e.windowWidth)!==null&&F!==void 0?F:n.innerWidth,windowHeight:(D=e.windowHeight)!==null&&D!==void 0?D:n.innerHeight,scrollX:(q=e.scrollX)!==null&&q!==void 0?q:n.pageXOffset,scrollY:(ie=e.scrollY)!==null&&ie!==void 0?ie:n.pageYOffset},o=new Lf(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),l=new EFe(s,o),A=(oe=e.foreignObjectRendering)!==null&&oe!==void 0?oe:!1,c={allowTaint:(te=e.allowTaint)!==null&&te!==void 0?te:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:A,copyStyles:A},l.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),u=new U9(l,r,c),h=u.clonedReferenceElement,h?[4,u.toIFrame(t,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return f=K.sent(),g=yM(h)||STe(h)?nCe(h.ownerDocument):O4(l,h),p=g.width,v=g.height,m=g.left,x=g.top,_=BFe(l,h,e.backgroundColor),S={canvas:e.canvas,backgroundColor:_,scale:(W=(re=e.scale)!==null&&re!==void 0?re:n.devicePixelRatio)!==null&&W!==void 0?W:1,x:((pe=e.x)!==null&&pe!==void 0?pe:0)+m,y:((_e=e.y)!==null&&_e!==void 0?_e:0)+x,width:(P=e.width)!==null&&P!==void 0?P:Math.ceil(p),height:(O=e.height)!==null&&O!==void 0?O:Math.ceil(v)},A?(l.logger.debug("Document cloned, using foreign object rendering"),B=new xFe(l,S),[4,B.render(h)]):[3,3];case 2:return k=K.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+m+","+x+" with size "+p+"x"+v+" using computed rendering"),l.logger.debug("Starting DOM parsing"),R=BZ(l,h),_===R.styles.backgroundColor&&(R.styles.backgroundColor=wf.TRANSPARENT),l.logger.debug("Starting renderer for element at "+S.x+","+S.y+" with size "+S.width+"x"+S.height),B=new pFe(l,S),[4,B.render(R)];case 4:k=K.sent(),K.label=5;case 5:return(!((H=e.removeContainer)!==null&&H!==void 0)||H)&&(U9.destroy(f)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,k]}})})},BFe=function(r,e,t){var n=e.ownerDocument,i=n.documentElement?Zx(r,getComputedStyle(n.documentElement).backgroundColor):wf.TRANSPARENT,s=n.body?Zx(r,getComputedStyle(n.body).backgroundColor):wf.TRANSPARENT,a=typeof t=="string"?Zx(r,t):t===null?wf.TRANSPARENT:4294967295;return e===n.documentElement?G0(i)?G0(s)?a:s:i:a};const SFe=Object.freeze(Object.defineProperty({__proto__:null,default:HZ},Symbol.toStringTag,{value:"Module"})),TFe="modulepreload",FFe=function(r){return"/"+r},V9={},Yk=function(e,t,n){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(t.map(l=>{if(l=FFe(l),l in V9)return;V9[l]=!0;const A=l.endsWith(".css"),c=A?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const u=document.createElement("link");if(u.rel=A?"stylesheet":TFe,A||(u.as="script"),u.crossOrigin="",u.href=l,o&&u.setAttribute("nonce",o),document.head.appendChild(u),A)return new Promise((h,f)=>{u.addEventListener("load",h),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function pn(r){"@babel/helpers - typeof";return pn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pn(r)}var Tc=Uint8Array,Kl=Uint16Array,xM=Int32Array,_M=new Tc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),bM=new Tc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),j9=new Tc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),VZ=function(r,e){for(var t=new Kl(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var i=new xM(t[30]),n=1;n<30;++n)for(var s=t[n];s<t[n+1];++s)i[s]=s-t[n]<<5|n;return{b:t,r:i}},jZ=VZ(_M,2),IFe=jZ.b,dD=jZ.r;IFe[28]=258,dD[258]=28;var kFe=VZ(bM,0),K9=kFe.r,pD=new Kl(32768);for(var Yn=0;Yn<32768;++Yn){var od=(Yn&43690)>>1|(Yn&21845)<<1;od=(od&52428)>>2|(od&13107)<<2,od=(od&61680)>>4|(od&3855)<<4,pD[Yn]=((od&65280)>>8|(od&255)<<8)>>1}var n_=function(r,e,t){for(var n=r.length,i=0,s=new Kl(e);i<n;++i)r[i]&&++s[r[i]-1];var a=new Kl(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(t){o=new Kl(1<<e);var l=15-e;for(i=0;i<n;++i)if(r[i])for(var A=i<<4|r[i],c=e-r[i],u=a[r[i]-1]++<<c,h=u|(1<<c)-1;u<=h;++u)o[pD[u]>>l]=A}else for(o=new Kl(n),i=0;i<n;++i)r[i]&&(o[i]=pD[a[r[i]-1]++]>>15-r[i]);return o},Gm=new Tc(288);for(var Yn=0;Yn<144;++Yn)Gm[Yn]=8;for(var Yn=144;Yn<256;++Yn)Gm[Yn]=9;for(var Yn=256;Yn<280;++Yn)Gm[Yn]=7;for(var Yn=280;Yn<288;++Yn)Gm[Yn]=8;var gF=new Tc(32);for(var Yn=0;Yn<32;++Yn)gF[Yn]=5;var LFe=n_(Gm,9,0),PFe=n_(gF,5,0),KZ=function(r){return(r+7)/8|0},RFe=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new Tc(r.subarray(e,t))},lh=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8},I2=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8,r[n+2]|=t>>16},Jk=function(r,e){for(var t=[],n=0;n<r.length;++n)r[n]&&t.push({s:n,f:r[n]});var i=t.length,s=t.slice();if(!i)return{t:WZ,l:0};if(i==1){var a=new Tc(t[0].s+1);return a[t[0].s]=1,{t:a,l:1}}t.sort(function(k,R){return k.f-R.f}),t.push({s:-1,f:25001});var o=t[0],l=t[1],A=0,c=1,u=2;for(t[0]={s:-1,f:o.f+l.f,l:o,r:l};c!=i-1;)o=t[t[A].f<t[u].f?A++:u++],l=t[A!=c&&t[A].f<t[u].f?A++:u++],t[c++]={s:-1,f:o.f+l.f,l:o,r:l};for(var h=s[0].s,n=1;n<i;++n)s[n].s>h&&(h=s[n].s);var f=new Kl(h+1),g=gD(t[c-1],f,0);if(g>e){var n=0,p=0,v=g-e,m=1<<v;for(s.sort(function(R,B){return f[B.s]-f[R.s]||R.f-B.f});n<i;++n){var x=s[n].s;if(f[x]>e)p+=m-(1<<g-f[x]),f[x]=e;else break}for(p>>=v;p>0;){var _=s[n].s;f[_]<e?p-=1<<e-f[_]++-1:++n}for(;n>=0&&p;--n){var S=s[n].s;f[S]==e&&(--f[S],++p)}g=e}return{t:new Tc(f),l:g}},gD=function(r,e,t){return r.s==-1?Math.max(gD(r.l,e,t+1),gD(r.r,e,t+1)):e[r.s]=t},z9=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new Kl(++e),n=0,i=r[0],s=1,a=function(l){t[n++]=l},o=1;o<=e;++o)if(r[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=r[o]}return{c:t.subarray(0,n),n:e}},k2=function(r,e){for(var t=0,n=0;n<e.length;++n)t+=r[n]*e[n];return t},zZ=function(r,e,t){var n=t.length,i=KZ(e+2);r[i]=n&255,r[i+1]=n>>8,r[i+2]=r[i]^255,r[i+3]=r[i+1]^255;for(var s=0;s<n;++s)r[i+s+4]=t[s];return(i+4+n)*8},W9=function(r,e,t,n,i,s,a,o,l,A,c){lh(e,c++,t),++i[256];for(var u=Jk(i,15),h=u.t,f=u.l,g=Jk(s,15),p=g.t,v=g.l,m=z9(h),x=m.c,_=m.n,S=z9(p),k=S.c,R=S.n,B=new Kl(19),E=0;E<x.length;++E)++B[x[E]&31];for(var E=0;E<k.length;++E)++B[k[E]&31];for(var b=Jk(B,7),I=b.t,T=b.l,F=19;F>4&&!I[j9[F-1]];--F);var D=A+5<<3,q=k2(i,Gm)+k2(s,gF)+a,ie=k2(i,h)+k2(s,p)+a+14+3*F+k2(B,I)+2*B[16]+3*B[17]+7*B[18];if(l>=0&&D<=q&&D<=ie)return zZ(e,c,r.subarray(l,l+A));var oe,te,re,W;if(lh(e,c,1+(ie<q)),c+=2,ie<q){oe=n_(h,f,0),te=h,re=n_(p,v,0),W=p;var pe=n_(I,T,0);lh(e,c,_-257),lh(e,c+5,R-1),lh(e,c+10,F-4),c+=14;for(var E=0;E<F;++E)lh(e,c+3*E,I[j9[E]]);c+=3*F;for(var _e=[x,k],P=0;P<2;++P)for(var O=_e[P],E=0;E<O.length;++E){var H=O[E]&31;lh(e,c,pe[H]),c+=I[H],H>15&&(lh(e,c,O[E]>>5&127),c+=O[E]>>12)}}else oe=LFe,te=Gm,re=PFe,W=gF;for(var E=0;E<o;++E){var K=n[E];if(K>255){var H=K>>18&31;I2(e,c,oe[H+257]),c+=te[H+257],H>7&&(lh(e,c,K>>23&31),c+=_M[H]);var Z=K&31;I2(e,c,re[Z]),c+=W[Z],Z>3&&(I2(e,c,K>>5&8191),c+=bM[Z])}else I2(e,c,oe[K]),c+=te[K]}return I2(e,c,oe[256]),c+te[256]},DFe=new xM([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),WZ=new Tc(0),NFe=function(r,e,t,n,i,s){var a=s.z||r.length,o=new Tc(n+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(n,o.length-i),A=s.l,c=(s.r||0)&7;if(e){c&&(l[0]=s.r>>3);for(var u=DFe[e-1],h=u>>13,f=u&8191,g=(1<<t)-1,p=s.p||new Kl(32768),v=s.h||new Kl(g+1),m=Math.ceil(t/3),x=2*m,_=function(Se){return(r[Se]^r[Se+1]<<m^r[Se+2]<<x)&g},S=new xM(25e3),k=new Kl(288),R=new Kl(32),B=0,E=0,b=s.i||0,I=0,T=s.w||0,F=0;b+2<a;++b){var D=_(b),q=b&32767,ie=v[D];if(p[q]=ie,v[D]=q,T<=b){var oe=a-b;if((B>7e3||I>24576)&&(oe>423||!A)){c=W9(r,l,0,S,k,R,E,I,F,b-F,c),I=B=E=0,F=b;for(var te=0;te<286;++te)k[te]=0;for(var te=0;te<30;++te)R[te]=0}var re=2,W=0,pe=f,_e=q-ie&32767;if(oe>2&&D==_(b-_e))for(var P=Math.min(h,oe)-1,O=Math.min(32767,b),H=Math.min(258,oe);_e<=O&&--pe&&q!=ie;){if(r[b+re]==r[b+re-_e]){for(var K=0;K<H&&r[b+K]==r[b+K-_e];++K);if(K>re){if(re=K,W=_e,K>P)break;for(var Z=Math.min(_e,K-2),he=0,te=0;te<Z;++te){var xe=b-_e+te&32767,ye=p[xe],be=xe-ye&32767;be>he&&(he=be,ie=xe)}}}q=ie,ie=p[q],_e+=q-ie&32767}if(W){S[I++]=268435456|dD[re]<<18|K9[W];var Fe=dD[re]&31,ne=K9[W]&31;E+=_M[Fe]+bM[ne],++k[257+Fe],++R[ne],T=b+re,++B}else S[I++]=r[b],++k[r[b]]}}for(b=Math.max(b,T);b<a;++b)S[I++]=r[b],++k[r[b]];c=W9(r,l,A,S,k,R,E,I,F,b-F,c),A||(s.r=c&7|l[c/8|0]<<3,c-=7,s.h=v,s.p=p,s.i=b,s.w=T)}else{for(var b=s.w||0;b<a+A;b+=65535){var We=b+65535;We>=a&&(l[c/8|0]=A,We=a),c=zZ(l,c+1,r.subarray(b,We))}s.i=a}return RFe(o,0,n+KZ(c)+i)},GZ=function(){var r=1,e=0;return{p:function(t){for(var n=r,i=e,s=t.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=n+=t[a];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}r=n,e=i},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},UFe=function(r,e,t,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new Tc(s.length+r.length);a.set(s),a.set(r,s.length),r=a,i.w=s.length}return NFe(r,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,n,i)},$Z=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},MFe=function(r,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=n<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var i=GZ();i.p(e.dictionary),$Z(r,2,i.d())}};function mD(r,e){e||(e={});var t=GZ();t.p(r);var n=UFe(r,e,e.dictionary?6:2,4);return MFe(n,e),$Z(n,n.length-4,t.d()),n}var OFe=typeof TextDecoder<"u"&&new TextDecoder,QFe=0;try{OFe.decode(WZ,{stream:!0}),QFe=1}catch{}function HFe(r){if(Array.isArray(r))return r}function VFe(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,s,a,o=[],l=!0,A=!1;try{if(s=(t=t.call(r)).next,e!==0)for(;!(l=(n=s.call(t)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(c){A=!0,i=c}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(A)throw i}}return o}}function G9(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function jFe(r,e){if(r){if(typeof r=="string")return G9(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?G9(r,e):void 0}}function KFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $9(r,e){return HFe(r)||VFe(r,e)||jFe(r,e)||KFe()}function q9(r,e="utf8"){return new TextDecoder(e).decode(r)}const zFe=new TextEncoder;function WFe(r){return zFe.encode(r)}const GFe=1024*8,$Fe=(()=>{const r=new Uint8Array(4),e=new Uint32Array(r.buffer);return!((e[0]=1)&r[0])})(),Zk={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class EM{constructor(e=GFe,t={}){Ce(this,"buffer");Ce(this,"byteLength");Ce(this,"byteOffset");Ce(this,"length");Ce(this,"offset");Ce(this,"lastWrittenByte");Ce(this,"littleEndian");Ce(this,"_data");Ce(this,"_mark");Ce(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=t.offset?t.offset>>>0:0,s=e.byteLength-i;let a=i;(ArrayBuffer.isView(e)||e instanceof EM)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const n=Zk[t].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+n);if(this.littleEndian===$Fe&&t!=="uint8"&&t!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+n));o.reverse();const l=new Zk[t](o.buffer);return this.offset+=n,l.reverse(),l}const a=new Zk[t](s);return this.offset+=n,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let n=0;n<e;n++)t+=this.readChar();return t}readUtf8(e=1){return q9(this.readBytes(e))}decodeText(e=1,t="utf8"){return q9(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(WFe(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Hy(r){let e=r.length;for(;--e>=0;)r[e]=0}const qFe=3,XFe=258,qZ=29,YFe=256,JFe=YFe+1+qZ,XZ=30,ZFe=512,e4e=new Array((JFe+2)*2);Hy(e4e);const t4e=new Array(XZ*2);Hy(t4e);const r4e=new Array(ZFe);Hy(r4e);const n4e=new Array(XFe-qFe+1);Hy(n4e);const i4e=new Array(qZ);Hy(i4e);const s4e=new Array(XZ);Hy(s4e);const a4e=(r,e,t,n)=>{let i=r&65535|0,s=r>>>16&65535|0,a=0;for(;t!==0;){a=t>2e3?2e3:t,t-=a;do i=i+e[n++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0};var vD=a4e;const o4e=()=>{let r,e=[];for(var t=0;t<256;t++){r=t;for(var n=0;n<8;n++)r=r&1?3988292384^r>>>1:r>>>1;e[t]=r}return e},l4e=new Uint32Array(o4e()),A4e=(r,e,t,n)=>{const i=l4e,s=n+t;r^=-1;for(let a=n;a<s;a++)r=r>>>8^i[(r^e[a])&255];return r^-1};var qc=A4e,wD={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},YZ={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const c4e=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var u4e=function(r){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const n in t)c4e(t,n)&&(r[n]=t[n])}}return r},h4e=r=>{let e=0;for(let n=0,i=r.length;n<i;n++)e+=r[n].length;const t=new Uint8Array(e);for(let n=0,i=0,s=r.length;n<s;n++){let a=r[n];t.set(a,i),i+=a.length}return t},JZ={assign:u4e,flattenChunks:h4e};let ZZ=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{ZZ=!1}const ib=new Uint8Array(256);for(let r=0;r<256;r++)ib[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;ib[254]=ib[254]=1;var f4e=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let e,t,n,i,s,a=r.length,o=0;for(i=0;i<a;i++)t=r.charCodeAt(i),(t&64512)===55296&&i+1<a&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),i++)),o+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(o),s=0,i=0;s<o;i++)t=r.charCodeAt(i),(t&64512)===55296&&i+1<a&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),i++)),t<128?e[s++]=t:t<2048?(e[s++]=192|t>>>6,e[s++]=128|t&63):t<65536?(e[s++]=224|t>>>12,e[s++]=128|t>>>6&63,e[s++]=128|t&63):(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63,e[s++]=128|t>>>6&63,e[s++]=128|t&63);return e};const d4e=(r,e)=>{if(e<65534&&r.subarray&&ZZ)return String.fromCharCode.apply(null,r.length===e?r:r.subarray(0,e));let t="";for(let n=0;n<e;n++)t+=String.fromCharCode(r[n]);return t};var p4e=(r,e)=>{const t=e||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,e));let n,i;const s=new Array(t*2);for(i=0,n=0;n<t;){let a=r[n++];if(a<128){s[i++]=a;continue}let o=ib[a];if(o>4){s[i++]=65533,n+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&n<t;)a=a<<6|r[n++]&63,o--;if(o>1){s[i++]=65533;continue}a<65536?s[i++]=a:(a-=65536,s[i++]=55296|a>>10&1023,s[i++]=56320|a&1023)}return d4e(s,i)},g4e=(r,e)=>{e=e||r.length,e>r.length&&(e=r.length);let t=e-1;for(;t>=0&&(r[t]&192)===128;)t--;return t<0||t===0?e:t+ib[r[t]]>e?t:e},yD={string2buf:f4e,buf2string:p4e,utf8border:g4e};function m4e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var v4e=m4e;const uS=16209,w4e=16191;var y4e=function(e,t){let n,i,s,a,o,l,A,c,u,h,f,g,p,v,m,x,_,S,k,R,B,E,b,I;const T=e.state;n=e.next_in,b=e.input,i=n+(e.avail_in-5),s=e.next_out,I=e.output,a=s-(t-e.avail_out),o=s+(e.avail_out-257),l=T.dmax,A=T.wsize,c=T.whave,u=T.wnext,h=T.window,f=T.hold,g=T.bits,p=T.lencode,v=T.distcode,m=(1<<T.lenbits)-1,x=(1<<T.distbits)-1;e:do{g<15&&(f+=b[n++]<<g,g+=8,f+=b[n++]<<g,g+=8),_=p[f&m];t:for(;;){if(S=_>>>24,f>>>=S,g-=S,S=_>>>16&255,S===0)I[s++]=_&65535;else if(S&16){k=_&65535,S&=15,S&&(g<S&&(f+=b[n++]<<g,g+=8),k+=f&(1<<S)-1,f>>>=S,g-=S),g<15&&(f+=b[n++]<<g,g+=8,f+=b[n++]<<g,g+=8),_=v[f&x];r:for(;;){if(S=_>>>24,f>>>=S,g-=S,S=_>>>16&255,S&16){if(R=_&65535,S&=15,g<S&&(f+=b[n++]<<g,g+=8,g<S&&(f+=b[n++]<<g,g+=8)),R+=f&(1<<S)-1,R>l){e.msg="invalid distance too far back",T.mode=uS;break e}if(f>>>=S,g-=S,S=s-a,R>S){if(S=R-S,S>c&&T.sane){e.msg="invalid distance too far back",T.mode=uS;break e}if(B=0,E=h,u===0){if(B+=A-S,S<k){k-=S;do I[s++]=h[B++];while(--S);B=s-R,E=I}}else if(u<S){if(B+=A+u-S,S-=u,S<k){k-=S;do I[s++]=h[B++];while(--S);if(B=0,u<k){S=u,k-=S;do I[s++]=h[B++];while(--S);B=s-R,E=I}}}else if(B+=u-S,S<k){k-=S;do I[s++]=h[B++];while(--S);B=s-R,E=I}for(;k>2;)I[s++]=E[B++],I[s++]=E[B++],I[s++]=E[B++],k-=3;k&&(I[s++]=E[B++],k>1&&(I[s++]=E[B++]))}else{B=s-R;do I[s++]=I[B++],I[s++]=I[B++],I[s++]=I[B++],k-=3;while(k>2);k&&(I[s++]=I[B++],k>1&&(I[s++]=I[B++]))}}else if(S&64){e.msg="invalid distance code",T.mode=uS;break e}else{_=v[(_&65535)+(f&(1<<S)-1)];continue r}break}}else if(S&64)if(S&32){T.mode=w4e;break e}else{e.msg="invalid literal/length code",T.mode=uS;break e}else{_=p[(_&65535)+(f&(1<<S)-1)];continue t}break}}while(n<i&&s<o);k=g>>3,n-=k,g-=k<<3,f&=(1<<g)-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=s<o?257+(o-s):257-(s-o),T.hold=f,T.bits=g};const S1=15,X9=852,Y9=592,J9=0,e3=1,Z9=2,x4e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),_4e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),b4e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),E4e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),C4e=(r,e,t,n,i,s,a,o)=>{const l=o.bits;let A=0,c=0,u=0,h=0,f=0,g=0,p=0,v=0,m=0,x=0,_,S,k,R,B,E=null,b;const I=new Uint16Array(S1+1),T=new Uint16Array(S1+1);let F=null,D,q,ie;for(A=0;A<=S1;A++)I[A]=0;for(c=0;c<n;c++)I[e[t+c]]++;for(f=l,h=S1;h>=1&&I[h]===0;h--);if(f>h&&(f=h),h===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,o.bits=1,0;for(u=1;u<h&&I[u]===0;u++);for(f<u&&(f=u),v=1,A=1;A<=S1;A++)if(v<<=1,v-=I[A],v<0)return-1;if(v>0&&(r===J9||h!==1))return-1;for(T[1]=0,A=1;A<S1;A++)T[A+1]=T[A]+I[A];for(c=0;c<n;c++)e[t+c]!==0&&(a[T[e[t+c]]++]=c);if(r===J9?(E=F=a,b=20):r===e3?(E=x4e,F=_4e,b=257):(E=b4e,F=E4e,b=0),x=0,c=0,A=u,B=s,g=f,p=0,k=-1,m=1<<f,R=m-1,r===e3&&m>X9||r===Z9&&m>Y9)return 1;for(;;){D=A-p,a[c]+1<b?(q=0,ie=a[c]):a[c]>=b?(q=F[a[c]-b],ie=E[a[c]-b]):(q=96,ie=0),_=1<<A-p,S=1<<g,u=S;do S-=_,i[B+(x>>p)+S]=D<<24|q<<16|ie|0;while(S!==0);for(_=1<<A-1;x&_;)_>>=1;if(_!==0?(x&=_-1,x+=_):x=0,c++,--I[A]===0){if(A===h)break;A=e[t+a[c]]}if(A>f&&(x&R)!==k){for(p===0&&(p=f),B+=u,g=A-p,v=1<<g;g+p<h&&(v-=I[g+p],!(v<=0));)g++,v<<=1;if(m+=1<<g,r===e3&&m>X9||r===Z9&&m>Y9)return 1;k=x&R,i[k]=f<<24|g<<16|B-s|0}}return x!==0&&(i[B+x]=A-p<<24|64<<16|0),o.bits=f,0};var i_=C4e;const B4e=0,eee=1,tee=2,{Z_FINISH:eV,Z_BLOCK:S4e,Z_TREES:hS,Z_OK:$m,Z_STREAM_END:T4e,Z_NEED_DICT:F4e,Z_STREAM_ERROR:NA,Z_DATA_ERROR:ree,Z_MEM_ERROR:nee,Z_BUF_ERROR:I4e,Z_DEFLATED:tV}=YZ,q4=16180,rV=16181,nV=16182,iV=16183,sV=16184,aV=16185,oV=16186,lV=16187,AV=16188,cV=16189,mF=16190,Ah=16191,t3=16192,uV=16193,r3=16194,hV=16195,fV=16196,dV=16197,pV=16198,fS=16199,dS=16200,gV=16201,mV=16202,vV=16203,wV=16204,yV=16205,n3=16206,xV=16207,_V=16208,ti=16209,iee=16210,see=16211,k4e=852,L4e=592,P4e=15,R4e=P4e,bV=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function D4e(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const l1=r=>{if(!r)return 1;const e=r.state;return!e||e.strm!==r||e.mode<q4||e.mode>see?1:0},aee=r=>{if(l1(r))return NA;const e=r.state;return r.total_in=r.total_out=e.total=0,r.msg="",e.wrap&&(r.adler=e.wrap&1),e.mode=q4,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(k4e),e.distcode=e.distdyn=new Int32Array(L4e),e.sane=1,e.back=-1,$m},oee=r=>{if(l1(r))return NA;const e=r.state;return e.wsize=0,e.whave=0,e.wnext=0,aee(r)},lee=(r,e)=>{let t;if(l1(r))return NA;const n=r.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?NA:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=t,n.wbits=e,oee(r))},Aee=(r,e)=>{if(!r)return NA;const t=new D4e;r.state=t,t.strm=r,t.window=null,t.mode=q4;const n=lee(r,e);return n!==$m&&(r.state=null),n},N4e=r=>Aee(r,R4e);let EV=!0,i3,s3;const U4e=r=>{if(EV){i3=new Int32Array(512),s3=new Int32Array(32);let e=0;for(;e<144;)r.lens[e++]=8;for(;e<256;)r.lens[e++]=9;for(;e<280;)r.lens[e++]=7;for(;e<288;)r.lens[e++]=8;for(i_(eee,r.lens,0,288,i3,0,r.work,{bits:9}),e=0;e<32;)r.lens[e++]=5;i_(tee,r.lens,0,32,s3,0,r.work,{bits:5}),EV=!1}r.lencode=i3,r.lenbits=9,r.distcode=s3,r.distbits=5},cee=(r,e,t,n)=>{let i;const s=r.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(e.subarray(t-n,t-n+i),s.wnext),n-=i,n?(s.window.set(e.subarray(t-n,t),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},M4e=(r,e)=>{let t,n,i,s,a,o,l,A,c,u,h,f,g,p,v=0,m,x,_,S,k,R,B,E;const b=new Uint8Array(4);let I,T;const F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(l1(r)||!r.output||!r.input&&r.avail_in!==0)return NA;t=r.state,t.mode===Ah&&(t.mode=t3),a=r.next_out,i=r.output,l=r.avail_out,s=r.next_in,n=r.input,o=r.avail_in,A=t.hold,c=t.bits,u=o,h=l,E=$m;e:for(;;)switch(t.mode){case q4:if(t.wrap===0){t.mode=t3;break}for(;c<16;){if(o===0)break e;o--,A+=n[s++]<<c,c+=8}if(t.wrap&2&&A===35615){t.wbits===0&&(t.wbits=15),t.check=0,b[0]=A&255,b[1]=A>>>8&255,t.check=qc(t.check,b,2,0),A=0,c=0,t.mode=rV;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((A&255)<<8)+(A>>8))%31){r.msg="incorrect header check",t.mode=ti;break}if((A&15)!==tV){r.msg="unknown compression method",t.mode=ti;break}if(A>>>=4,c-=4,B=(A&15)+8,t.wbits===0&&(t.wbits=B),B>15||B>t.wbits){r.msg="invalid window size",t.mode=ti;break}t.dmax=1<<t.wbits,t.flags=0,r.adler=t.check=1,t.mode=A&512?cV:Ah,A=0,c=0;break;case rV:for(;c<16;){if(o===0)break e;o--,A+=n[s++]<<c,c+=8}if(t.flags=A,(t.flags&255)!==tV){r.msg="unknown compression method",t.mode=ti;break}if(t.flags&57344){r.msg="unknown header flags set",t.mode=ti;break}t.head&&(t.head.text=A>>8&1),t.flags&512&&t.wrap&4&&(b[0]=A&255,b[1]=A>>>8&255,t.check=qc(t.check,b,2,0)),A=0,c=0,t.mode=nV;case nV:for(;c<32;){if(o===0)break e;o--,A+=n[s++]<<c,c+=8}t.head&&(t.head.time=A),t.flags&512&&t.wrap&4&&(b[0]=A&255,b[1]=A>>>8&255,b[2]=A>>>16&255,b[3]=A>>>24&255,t.check=qc(t.check,b,4,0)),A=0,c=0,t.mode=iV;case iV:for(;c<16;){if(o===0)break e;o--,A+=n[s++]<<c,c+=8}t.head&&(t.head.xflags=A&255,t.head.os=A>>8),t.flags&512&&t.wrap&4&&(b[0]=A&255,b[1]=A>>>8&255,t.check=qc(t.check,b,2,0)),A=0,c=0,t.mode=sV;case sV:if(t.flags&1024){for(;c<16;){if(o===0)break e;o--,A+=n[s++]<<c,c+=8}t.length=A,t.head&&(t.head.extra_len=A),t.flags&512&&t.wrap&4&&(b[0]=A&255,b[1]=A>>>8&255,t.check=qc(t.check,b,2,0)),A=0,c=0}else t.head&&(t.head.extra=null);t.mode=aV;case aV:if(t.flags&1024&&(f=t.length,f>o&&(f=o),f&&(t.head&&(B=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(s,s+f),B)),t.flags&512&&t.wrap&4&&(t.check=qc(t.check,n,f,s)),o-=f,s+=f,t.length-=f),t.length))break e;t.length=0,t.mode=oV;case oV:if(t.flags&2048){if(o===0)break e;f=0;do B=n[s+f++],t.head&&B&&t.length<65536&&(t.head.name+=String.fromCharCode(B));while(B&&f<o);if(t.flags&512&&t.wrap&4&&(t.check=qc(t.check,n,f,s)),o-=f,s+=f,B)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=lV;case lV:if(t.flags&4096){if(o===0)break e;f=0;do B=n[s+f++],t.head&&B&&t.length<65536&&(t.head.comment+=String.fromCharCode(B));while(B&&f<o);if(t.flags&512&&t.wrap&4&&(t.check=qc(t.check,n,f,s)),o-=f,s+=f,B)break e}else t.head&&(t.head.comment=null);t.mode=AV;case AV:if(t.flags&512){for(;c<16;){if(o===0)break e;o--,A+=n[s++]<<c,c+=8}if(t.wrap&4&&A!==(t.check&65535)){r.msg="header crc mismatch",t.mode=ti;break}A=0,c=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),r.adler=t.check=0,t.mode=Ah;break;case cV:for(;c<32;){if(o===0)break e;o--,A+=n[s++]<<c,c+=8}r.adler=t.check=bV(A),A=0,c=0,t.mode=mF;case mF:if(t.havedict===0)return r.next_out=a,r.avail_out=l,r.next_in=s,r.avail_in=o,t.hold=A,t.bits=c,F4e;r.adler=t.check=1,t.mode=Ah;case Ah:if(e===S4e||e===hS)break e;case t3:if(t.last){A>>>=c&7,c-=c&7,t.mode=n3;break}for(;c<3;){if(o===0)break e;o--,A+=n[s++]<<c,c+=8}switch(t.last=A&1,A>>>=1,c-=1,A&3){case 0:t.mode=uV;break;case 1:if(U4e(t),t.mode=fS,e===hS){A>>>=2,c-=2;break e}break;case 2:t.mode=fV;break;case 3:r.msg="invalid block type",t.mode=ti}A>>>=2,c-=2;break;case uV:for(A>>>=c&7,c-=c&7;c<32;){if(o===0)break e;o--,A+=n[s++]<<c,c+=8}if((A&65535)!==(A>>>16^65535)){r.msg="invalid stored block lengths",t.mode=ti;break}if(t.length=A&65535,A=0,c=0,t.mode=r3,e===hS)break e;case r3:t.mode=hV;case hV:if(f=t.length,f){if(f>o&&(f=o),f>l&&(f=l),f===0)break e;i.set(n.subarray(s,s+f),a),o-=f,s+=f,l-=f,a+=f,t.length-=f;break}t.mode=Ah;break;case fV:for(;c<14;){if(o===0)break e;o--,A+=n[s++]<<c,c+=8}if(t.nlen=(A&31)+257,A>>>=5,c-=5,t.ndist=(A&31)+1,A>>>=5,c-=5,t.ncode=(A&15)+4,A>>>=4,c-=4,t.nlen>286||t.ndist>30){r.msg="too many length or distance symbols",t.mode=ti;break}t.have=0,t.mode=dV;case dV:for(;t.have<t.ncode;){for(;c<3;){if(o===0)break e;o--,A+=n[s++]<<c,c+=8}t.lens[F[t.have++]]=A&7,A>>>=3,c-=3}for(;t.have<19;)t.lens[F[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,I={bits:t.lenbits},E=i_(B4e,t.lens,0,19,t.lencode,0,t.work,I),t.lenbits=I.bits,E){r.msg="invalid code lengths set",t.mode=ti;break}t.have=0,t.mode=pV;case pV:for(;t.have<t.nlen+t.ndist;){for(;v=t.lencode[A&(1<<t.lenbits)-1],m=v>>>24,x=v>>>16&255,_=v&65535,!(m<=c);){if(o===0)break e;o--,A+=n[s++]<<c,c+=8}if(_<16)A>>>=m,c-=m,t.lens[t.have++]=_;else{if(_===16){for(T=m+2;c<T;){if(o===0)break e;o--,A+=n[s++]<<c,c+=8}if(A>>>=m,c-=m,t.have===0){r.msg="invalid bit length repeat",t.mode=ti;break}B=t.lens[t.have-1],f=3+(A&3),A>>>=2,c-=2}else if(_===17){for(T=m+3;c<T;){if(o===0)break e;o--,A+=n[s++]<<c,c+=8}A>>>=m,c-=m,B=0,f=3+(A&7),A>>>=3,c-=3}else{for(T=m+7;c<T;){if(o===0)break e;o--,A+=n[s++]<<c,c+=8}A>>>=m,c-=m,B=0,f=11+(A&127),A>>>=7,c-=7}if(t.have+f>t.nlen+t.ndist){r.msg="invalid bit length repeat",t.mode=ti;break}for(;f--;)t.lens[t.have++]=B}}if(t.mode===ti)break;if(t.lens[256]===0){r.msg="invalid code -- missing end-of-block",t.mode=ti;break}if(t.lenbits=9,I={bits:t.lenbits},E=i_(eee,t.lens,0,t.nlen,t.lencode,0,t.work,I),t.lenbits=I.bits,E){r.msg="invalid literal/lengths set",t.mode=ti;break}if(t.distbits=6,t.distcode=t.distdyn,I={bits:t.distbits},E=i_(tee,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,I),t.distbits=I.bits,E){r.msg="invalid distances set",t.mode=ti;break}if(t.mode=fS,e===hS)break e;case fS:t.mode=dS;case dS:if(o>=6&&l>=258){r.next_out=a,r.avail_out=l,r.next_in=s,r.avail_in=o,t.hold=A,t.bits=c,y4e(r,h),a=r.next_out,i=r.output,l=r.avail_out,s=r.next_in,n=r.input,o=r.avail_in,A=t.hold,c=t.bits,t.mode===Ah&&(t.back=-1);break}for(t.back=0;v=t.lencode[A&(1<<t.lenbits)-1],m=v>>>24,x=v>>>16&255,_=v&65535,!(m<=c);){if(o===0)break e;o--,A+=n[s++]<<c,c+=8}if(x&&!(x&240)){for(S=m,k=x,R=_;v=t.lencode[R+((A&(1<<S+k)-1)>>S)],m=v>>>24,x=v>>>16&255,_=v&65535,!(S+m<=c);){if(o===0)break e;o--,A+=n[s++]<<c,c+=8}A>>>=S,c-=S,t.back+=S}if(A>>>=m,c-=m,t.back+=m,t.length=_,x===0){t.mode=yV;break}if(x&32){t.back=-1,t.mode=Ah;break}if(x&64){r.msg="invalid literal/length code",t.mode=ti;break}t.extra=x&15,t.mode=gV;case gV:if(t.extra){for(T=t.extra;c<T;){if(o===0)break e;o--,A+=n[s++]<<c,c+=8}t.length+=A&(1<<t.extra)-1,A>>>=t.extra,c-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=mV;case mV:for(;v=t.distcode[A&(1<<t.distbits)-1],m=v>>>24,x=v>>>16&255,_=v&65535,!(m<=c);){if(o===0)break e;o--,A+=n[s++]<<c,c+=8}if(!(x&240)){for(S=m,k=x,R=_;v=t.distcode[R+((A&(1<<S+k)-1)>>S)],m=v>>>24,x=v>>>16&255,_=v&65535,!(S+m<=c);){if(o===0)break e;o--,A+=n[s++]<<c,c+=8}A>>>=S,c-=S,t.back+=S}if(A>>>=m,c-=m,t.back+=m,x&64){r.msg="invalid distance code",t.mode=ti;break}t.offset=_,t.extra=x&15,t.mode=vV;case vV:if(t.extra){for(T=t.extra;c<T;){if(o===0)break e;o--,A+=n[s++]<<c,c+=8}t.offset+=A&(1<<t.extra)-1,A>>>=t.extra,c-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){r.msg="invalid distance too far back",t.mode=ti;break}t.mode=wV;case wV:if(l===0)break e;if(f=h-l,t.offset>f){if(f=t.offset-f,f>t.whave&&t.sane){r.msg="invalid distance too far back",t.mode=ti;break}f>t.wnext?(f-=t.wnext,g=t.wsize-f):g=t.wnext-f,f>t.length&&(f=t.length),p=t.window}else p=i,g=a-t.offset,f=t.length;f>l&&(f=l),l-=f,t.length-=f;do i[a++]=p[g++];while(--f);t.length===0&&(t.mode=dS);break;case yV:if(l===0)break e;i[a++]=t.length,l--,t.mode=dS;break;case n3:if(t.wrap){for(;c<32;){if(o===0)break e;o--,A|=n[s++]<<c,c+=8}if(h-=l,r.total_out+=h,t.total+=h,t.wrap&4&&h&&(r.adler=t.check=t.flags?qc(t.check,i,h,a-h):vD(t.check,i,h,a-h)),h=l,t.wrap&4&&(t.flags?A:bV(A))!==t.check){r.msg="incorrect data check",t.mode=ti;break}A=0,c=0}t.mode=xV;case xV:if(t.wrap&&t.flags){for(;c<32;){if(o===0)break e;o--,A+=n[s++]<<c,c+=8}if(t.wrap&4&&A!==(t.total&4294967295)){r.msg="incorrect length check",t.mode=ti;break}A=0,c=0}t.mode=_V;case _V:E=T4e;break e;case ti:E=ree;break e;case iee:return nee;case see:default:return NA}return r.next_out=a,r.avail_out=l,r.next_in=s,r.avail_in=o,t.hold=A,t.bits=c,(t.wsize||h!==r.avail_out&&t.mode<ti&&(t.mode<n3||e!==eV))&&cee(r,r.output,r.next_out,h-r.avail_out),u-=r.avail_in,h-=r.avail_out,r.total_in+=u,r.total_out+=h,t.total+=h,t.wrap&4&&h&&(r.adler=t.check=t.flags?qc(t.check,i,h,r.next_out-h):vD(t.check,i,h,r.next_out-h)),r.data_type=t.bits+(t.last?64:0)+(t.mode===Ah?128:0)+(t.mode===fS||t.mode===r3?256:0),(u===0&&h===0||e===eV)&&E===$m&&(E=I4e),E},O4e=r=>{if(l1(r))return NA;let e=r.state;return e.window&&(e.window=null),r.state=null,$m},Q4e=(r,e)=>{if(l1(r))return NA;const t=r.state;return t.wrap&2?(t.head=e,e.done=!1,$m):NA},H4e=(r,e)=>{const t=e.length;let n,i,s;return l1(r)||(n=r.state,n.wrap!==0&&n.mode!==mF)?NA:n.mode===mF&&(i=1,i=vD(i,e,t,0),i!==n.check)?ree:(s=cee(r,e,t,t),s?(n.mode=iee,nee):(n.havedict=1,$m))};var V4e=oee,j4e=lee,K4e=aee,z4e=N4e,W4e=Aee,G4e=M4e,$4e=O4e,q4e=Q4e,X4e=H4e,Y4e="pako inflate (from Nodeca project)",xh={inflateReset:V4e,inflateReset2:j4e,inflateResetKeep:K4e,inflateInit:z4e,inflateInit2:W4e,inflate:G4e,inflateEnd:$4e,inflateGetHeader:q4e,inflateSetDictionary:X4e,inflateInfo:Y4e};function J4e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Z4e=J4e;const uee=Object.prototype.toString,{Z_NO_FLUSH:eIe,Z_FINISH:tIe,Z_OK:sb,Z_STREAM_END:a3,Z_NEED_DICT:o3,Z_STREAM_ERROR:rIe,Z_DATA_ERROR:CV,Z_MEM_ERROR:nIe}=YZ;function _C(r){this.options=JZ.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(r&&r.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new v4e,this.strm.avail_out=0;let t=xh.inflateInit2(this.strm,e.windowBits);if(t!==sb)throw new Error(wD[t]);if(this.header=new Z4e,xh.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=yD.string2buf(e.dictionary):uee.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=xh.inflateSetDictionary(this.strm,e.dictionary),t!==sb)))throw new Error(wD[t])}_C.prototype.push=function(r,e){const t=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?tIe:eIe,uee.call(r)==="[object ArrayBuffer]"?t.input=new Uint8Array(r):t.input=r,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),s=xh.inflate(t,a),s===o3&&i&&(s=xh.inflateSetDictionary(t,i),s===sb?s=xh.inflate(t,a):s===CV&&(s=o3));t.avail_in>0&&s===a3&&t.state.wrap>0&&r[t.next_in]!==0;)xh.inflateReset(t),s=xh.inflate(t,a);switch(s){case rIe:case CV:case o3:case nIe:return this.onEnd(s),this.ended=!0,!1}if(o=t.avail_out,t.next_out&&(t.avail_out===0||s===a3))if(this.options.to==="string"){let l=yD.utf8border(t.output,t.next_out),A=t.next_out-l,c=yD.buf2string(t.output,l);t.next_out=A,t.avail_out=n-A,A&&t.output.set(t.output.subarray(l,l+A),0),this.onData(c)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===sb&&o===0)){if(s===a3)return s=xh.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};_C.prototype.onData=function(r){this.chunks.push(r)};_C.prototype.onEnd=function(r){r===sb&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=JZ.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function iIe(r,e){const t=new _C(e);if(t.push(r),t.err)throw t.msg||wD[t.err];return t.result}var sIe=_C,aIe=iIe,oIe={Inflate:sIe,inflate:aIe};const{Inflate:lIe,inflate:AIe}=oIe;var BV=lIe,cIe=AIe;const hee=[];for(let r=0;r<256;r++){let e=r;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;hee[r]=e}const SV=4294967295;function uIe(r,e,t){let n=r;for(let i=0;i<t;i++)n=hee[(n^e[i])&255]^n>>>8;return n}function hIe(r,e){return(uIe(SV,r,e)^SV)>>>0}function TV(r,e,t){const n=r.readUint32(),i=hIe(new Uint8Array(r.buffer,r.byteOffset+r.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${t}. Expected ${n}, found ${i}`)}function fee(r,e,t){for(let n=0;n<t;n++)e[n]=r[n]}function dee(r,e,t,n){let i=0;for(;i<n;i++)e[i]=r[i];for(;i<t;i++)e[i]=r[i]+e[i-n]&255}function pee(r,e,t,n){let i=0;if(t.length===0)for(;i<n;i++)e[i]=r[i];else for(;i<n;i++)e[i]=r[i]+t[i]&255}function gee(r,e,t,n,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=r[s];for(;s<n;s++)e[s]=r[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=r[s]+(t[s]>>1)&255;for(;s<n;s++)e[s]=r[s]+(e[s-i]+t[s]>>1)&255}}function mee(r,e,t,n,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=r[s];for(;s<n;s++)e[s]=r[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=r[s]+t[s]&255;for(;s<n;s++)e[s]=r[s]+fIe(e[s-i],t[s],t[s-i])&255}}function fIe(r,e,t){const n=r+e-t,i=Math.abs(n-r),s=Math.abs(n-e),a=Math.abs(n-t);return i<=s&&i<=a?r:s<=a?e:t}function dIe(r,e,t,n,i,s){switch(r){case 0:fee(e,t,i);break;case 1:dee(e,t,i,s);break;case 2:pee(e,t,n,i);break;case 3:gee(e,t,n,i,s);break;case 4:mee(e,t,n,i,s);break;default:throw new Error(`Unsupported filter: ${r}`)}}const pIe=new Uint16Array([255]),gIe=new Uint8Array(pIe.buffer),mIe=gIe[0]===255;function vIe(r){const{data:e,width:t,height:n,channels:i,depth:s}=r,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*i,l=new Uint8Array(n*t*o);let A=0;for(let c=0;c<7;c++){const u=a[c],h=Math.ceil((t-u.x)/u.xStep),f=Math.ceil((n-u.y)/u.yStep);if(h<=0||f<=0)continue;const g=h*o,p=new Uint8Array(g);for(let v=0;v<f;v++){const m=e[A++],x=e.subarray(A,A+g);A+=g;const _=new Uint8Array(g);dIe(m,x,_,p,g,o),p.set(_);for(let S=0;S<h;S++){const k=u.x+S*u.xStep,R=u.y+v*u.yStep;if(!(k>=t||R>=n))for(let B=0;B<o;B++)l[(R*t+k)*o+B]=_[S*o+B]}}}if(s===16){const c=new Uint16Array(l.buffer);if(mIe)for(let u=0;u<c.length;u++)c[u]=wIe(c[u]);return c}else return l}function wIe(r){return(r&255)<<8|r>>8&255}const yIe=new Uint16Array([255]),xIe=new Uint8Array(yIe.buffer),_Ie=xIe[0]===255,bIe=new Uint8Array(0);function FV(r){const{data:e,width:t,height:n,channels:i,depth:s}=r,a=Math.ceil(s/8)*i,o=Math.ceil(s/8*i*t),l=new Uint8Array(n*o);let A=bIe,c=0,u,h;for(let f=0;f<n;f++){switch(u=e.subarray(c+1,c+1+o),h=l.subarray(f*o,(f+1)*o),e[c]){case 0:fee(u,h,o);break;case 1:dee(u,h,o,a);break;case 2:pee(u,h,A,o);break;case 3:gee(u,h,A,o,a);break;case 4:mee(u,h,A,o,a);break;default:throw new Error(`Unsupported filter: ${e[c]}`)}A=h,c+=o+1}if(s===16){const f=new Uint16Array(l.buffer);if(_Ie)for(let g=0;g<f.length;g++)f[g]=EIe(f[g]);return f}else return l}function EIe(r){return(r&255)<<8|r>>8&255}const P5=Uint8Array.of(137,80,78,71,13,10,26,10);function IV(r){if(!CIe(r.readBytes(P5.length)))throw new Error("wrong PNG signature")}function CIe(r){if(r.length<P5.length)return!1;for(let e=0;e<P5.length;e++)if(r[e]!==P5[e])return!1;return!0}const BIe="tEXt",SIe=0,vee=new TextDecoder("latin1");function TIe(r){if(IIe(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const FIe=/^[\u0000-\u00FF]*$/;function IIe(r){if(!FIe.test(r))throw new Error("invalid latin1 text")}function kIe(r,e,t){const n=wee(e);r[n]=LIe(e,t-n.length-1)}function wee(r){for(r.mark();r.readByte()!==SIe;);const e=r.offset;r.reset();const t=vee.decode(r.readBytes(e-r.offset-1));return r.skip(1),TIe(t),t}function LIe(r,e){return vee.decode(r.readBytes(e))}const pl={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},l3={UNKNOWN:-1,DEFLATE:0},kV={UNKNOWN:-1,ADAPTIVE:0},A3={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},pS={NONE:0,BACKGROUND:1,PREVIOUS:2},c3={SOURCE:0,OVER:1};class PIe extends EM{constructor(t,n={}){super(t);Ce(this,"_checkCrc");Ce(this,"_inflator");Ce(this,"_png");Ce(this,"_apng");Ce(this,"_end");Ce(this,"_hasPalette");Ce(this,"_palette");Ce(this,"_hasTransparency");Ce(this,"_transparency");Ce(this,"_compressionMethod");Ce(this,"_filterMethod");Ce(this,"_interlaceMethod");Ce(this,"_colorType");Ce(this,"_isAnimated");Ce(this,"_numberOfFrames");Ce(this,"_numberOfPlays");Ce(this,"_frames");Ce(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new BV,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=l3.UNKNOWN,this._filterMethod=kV.UNKNOWN,this._interlaceMethod=A3.UNKNOWN,this._colorType=pl.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(IV(this);!this._end;){const t=this.readUint32(),n=this.readChars(4);this.decodeChunk(t,n)}return this.decodeImage(),this._png}decodeApng(){for(IV(this);!this._end;){const t=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(t,n)}return this.decodeApngImage(),this._apng}decodeChunk(t,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case BIe:kIe(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?TV(this,t+4,n):this.skip(4)}decodeApngChunk(t,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,n),this.offset=i+t;break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?TV(this,t+4,n):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=RIe(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case pl.GREYSCALE:i=1;break;case pl.TRUECOLOUR:i=3;break;case pl.INDEXED_COLOUR:i=1;break;case pl.GREYSCALE_ALPHA:i=2;break;case pl.TRUECOLOUR_ALPHA:i=4;break;case pl.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==l3.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const n=t/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<n;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const n=t,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let n=t,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case pl.GREYSCALE:case pl.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let n=0;n<t/2;n++)this._transparency[n]=this.readUint16();break}case pl.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let n=0;for(;n<t;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case pl.UNKNOWN:case pl.GREYSCALE_ALPHA:case pl.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const n=wee(this),i=this.readUint8();if(i!==l3.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(t-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:cIe(s)}}decodepHYs(){const t=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:t,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const n={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(t);if(i){if(i.data=FV({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const s=this._apng.frames.at(t-1);this.disposeFrame(i,s,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(t,n,i){switch(t.disposeOp){case pS.NONE:break;case pS.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let a=0;a<this._png.width;a++){const o=(s*t.width+a)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case pS.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,n){const i=1<<this._png.depth,s=(a,o)=>{const l=((a+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,A=(a*n.width+o)*this._png.channels;return{index:l,frameIndex:A}};switch(n.blendOp){case c3.SOURCE:for(let a=0;a<n.height;a++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:A}=s(a,o);for(let c=0;c<this._png.channels;c++)t.data[l+c]=n.data[A+c]}break;case c3.OVER:for(let a=0;a<n.height;a++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:A}=s(a,o);for(let c=0;c<this._png.channels;c++){const u=n.data[A+this._png.channels-1]/i,h=c%(this._png.channels-1)===0?1:n.data[A+c],f=Math.floor(u*h+(1-u)*t.data[l+c]);t.data[l+c]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==kV.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===A3.NO_INTERLACE)this._png.data=FV({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===A3.ADAM7)this._png.data=vIe({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,n=this._frames.at(-1);n?n.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:pS.NONE,blendOp:c3.SOURCE,data:t}),this._inflator=new BV,this._writingDataChunks=!1}}function RIe(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var LV;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(LV||(LV={}));function DIe(r,e){return new PIe(r,e).decode()}var rr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function u3(){rr.console&&typeof rr.console.log=="function"&&rr.console.log.apply(rr.console,arguments)}var Ln={log:u3,warn:function(r){rr.console&&(typeof rr.console.warn=="function"?rr.console.warn.apply(rr.console,arguments):u3.call(null,arguments))},error:function(r){rr.console&&(typeof rr.console.error=="function"?rr.console.error.apply(rr.console,arguments):u3(r))}};function h3(r,e,t){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){zp(n.response,e,t)},n.onerror=function(){Ln.error("could not download file")},n.send()}function PV(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function gS(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var zp=rr.saveAs||((typeof window>"u"?"undefined":pn(window))!=="object"||window!==rr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var n=rr.URL||rr.webkitURL,i=document.createElement("a");e=e||r.name||"download",i.download=e,i.rel="noopener",typeof r=="string"?(i.href=r,i.origin!==location.origin?PV(i.href)?h3(r,e,t):gS(i,i.target="_blank"):gS(i)):(i.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){gS(i)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(PV(r))h3(r,e,t);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){gS(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:pn(s)!=="object"&&(Ln.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(r,t),e)}:function(r,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return h3(r,e,t);var i=r.type==="application/octet-stream",s=/constructor/i.test(rr.HTMLElement)||rr.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":pn(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var c=o.result;c=a?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=c:location=c,n=null},o.readAsDataURL(r)}else{var l=rr.URL||rr.webkitURL,A=l.createObjectURL(r);n?n.location=A:location.href=A,n=null,setTimeout(function(){l.revokeObjectURL(A)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function yee(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<t.length;n++){var i=t[n].re,s=t[n].process,a=i.exec(r);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),A=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),A.length==1&&(A="0"+A),"#"+o+l+A}}var R5=rr.atob.bind(rr),RV=rr.btoa.bind(rr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function f3(r,e){var t=r[0],n=r[1],i=r[2],s=r[3];t=Ca(t,n,i,s,e[0],7,-680876936),s=Ca(s,t,n,i,e[1],12,-389564586),i=Ca(i,s,t,n,e[2],17,606105819),n=Ca(n,i,s,t,e[3],22,-1044525330),t=Ca(t,n,i,s,e[4],7,-176418897),s=Ca(s,t,n,i,e[5],12,1200080426),i=Ca(i,s,t,n,e[6],17,-1473231341),n=Ca(n,i,s,t,e[7],22,-45705983),t=Ca(t,n,i,s,e[8],7,1770035416),s=Ca(s,t,n,i,e[9],12,-1958414417),i=Ca(i,s,t,n,e[10],17,-42063),n=Ca(n,i,s,t,e[11],22,-1990404162),t=Ca(t,n,i,s,e[12],7,1804603682),s=Ca(s,t,n,i,e[13],12,-40341101),i=Ca(i,s,t,n,e[14],17,-1502002290),t=Ba(t,n=Ca(n,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Ba(s,t,n,i,e[6],9,-1069501632),i=Ba(i,s,t,n,e[11],14,643717713),n=Ba(n,i,s,t,e[0],20,-373897302),t=Ba(t,n,i,s,e[5],5,-701558691),s=Ba(s,t,n,i,e[10],9,38016083),i=Ba(i,s,t,n,e[15],14,-660478335),n=Ba(n,i,s,t,e[4],20,-405537848),t=Ba(t,n,i,s,e[9],5,568446438),s=Ba(s,t,n,i,e[14],9,-1019803690),i=Ba(i,s,t,n,e[3],14,-187363961),n=Ba(n,i,s,t,e[8],20,1163531501),t=Ba(t,n,i,s,e[13],5,-1444681467),s=Ba(s,t,n,i,e[2],9,-51403784),i=Ba(i,s,t,n,e[7],14,1735328473),t=Sa(t,n=Ba(n,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Sa(s,t,n,i,e[8],11,-2022574463),i=Sa(i,s,t,n,e[11],16,1839030562),n=Sa(n,i,s,t,e[14],23,-35309556),t=Sa(t,n,i,s,e[1],4,-1530992060),s=Sa(s,t,n,i,e[4],11,1272893353),i=Sa(i,s,t,n,e[7],16,-155497632),n=Sa(n,i,s,t,e[10],23,-1094730640),t=Sa(t,n,i,s,e[13],4,681279174),s=Sa(s,t,n,i,e[0],11,-358537222),i=Sa(i,s,t,n,e[3],16,-722521979),n=Sa(n,i,s,t,e[6],23,76029189),t=Sa(t,n,i,s,e[9],4,-640364487),s=Sa(s,t,n,i,e[12],11,-421815835),i=Sa(i,s,t,n,e[15],16,530742520),t=Ta(t,n=Sa(n,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Ta(s,t,n,i,e[7],10,1126891415),i=Ta(i,s,t,n,e[14],15,-1416354905),n=Ta(n,i,s,t,e[5],21,-57434055),t=Ta(t,n,i,s,e[12],6,1700485571),s=Ta(s,t,n,i,e[3],10,-1894986606),i=Ta(i,s,t,n,e[10],15,-1051523),n=Ta(n,i,s,t,e[1],21,-2054922799),t=Ta(t,n,i,s,e[8],6,1873313359),s=Ta(s,t,n,i,e[15],10,-30611744),i=Ta(i,s,t,n,e[6],15,-1560198380),n=Ta(n,i,s,t,e[13],21,1309151649),t=Ta(t,n,i,s,e[4],6,-145523070),s=Ta(s,t,n,i,e[11],10,-1120210379),i=Ta(i,s,t,n,e[2],15,718787259),n=Ta(n,i,s,t,e[9],21,-343485551),r[0]=I0(t,r[0]),r[1]=I0(n,r[1]),r[2]=I0(i,r[2]),r[3]=I0(s,r[3])}function X4(r,e,t,n,i,s){return e=I0(I0(e,r),I0(n,s)),I0(e<<i|e>>>32-i,t)}function Ca(r,e,t,n,i,s,a){return X4(e&t|~e&n,r,e,i,s,a)}function Ba(r,e,t,n,i,s,a){return X4(e&n|t&~n,r,e,i,s,a)}function Sa(r,e,t,n,i,s,a){return X4(e^t^n,r,e,i,s,a)}function Ta(r,e,t,n,i,s,a){return X4(t^(e|~n),r,e,i,s,a)}function xee(r){var e,t=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)f3(n,NIe(r.substring(e-64,e)));r=r.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)i[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(f3(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,f3(n,i),n}function NIe(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}var DV="0123456789abcdef".split("");function UIe(r){for(var e="",t=0;t<4;t++)e+=DV[r>>8*t+4&15]+DV[r>>8*t&15];return e}function MIe(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function xD(r){return xee(r).map(MIe).join("")}var OIe=function(r){for(var e=0;e<r.length;e++)r[e]=UIe(r[e]);return r.join("")}(xee("hello"))!="5d41402abc4b2a76b9719d911017c592";function I0(r,e){if(OIe){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function _D(r,e){var t,n,i,s;if(r!==t){for(var a=(i=r,s=1+(256/r.length|0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var A=0;for(l=0;l<256;l++){var c=o[l];A=(A+c+a.charCodeAt(l))%256,o[l]=o[A],o[A]=c}t=r,n=o}else o=n;var u=e.length,h=0,f=0,g="";for(l=0;l<u;l++)f=(f+(c=o[h=(h+1)%256]))%256,o[h]=o[f],o[f]=c,a=o[(o[h]+o[f])%256],g+=String.fromCharCode(e.charCodeAt(l)^a);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var NV={print:4,modify:8,copy:16,"annot-forms":32};function z1(r,e,t,n){this.v=1,this.r=2;var i=192;r.forEach(function(o){if(NV.perm!==void 0)throw new Error("Invalid permission: "+o);i+=NV[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=xD(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=_D(this.encryptionKey,this.padding)}function W1(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,n=0;n<t;n++){var i=r.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):r[n]}return e}function UV(r){if(pn(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,i){if(i=i||!1,typeof t!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[n,!!i],s},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var a=e[t][s];try{a[0].apply(r,n)}catch(o){rr.console&&Ln.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function vF(r){if(!(this instanceof vF))return new vF(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function _ee(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function $p(r,e,t,n,i){if(!(this instanceof $p))return new $p(r,e,t,n,i);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,_ee.call(this,n,i)}function Av(r,e,t,n,i){if(!(this instanceof Av))return new Av(r,e,t,n,i);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,_ee.call(this,n,i)}function Vt(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,A="S",c=null;pn(r=r||{})==="object"&&(t=r.orientation,n=r.unit||n,i=r.format||i,s=r.compress||r.compressPdf||s,(c=r.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),o=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(l=r.floatPrecision),A=r.defaultPathOperation||"S"),a=r.filters||(s===!0?["FlateEncode"]:a),n=n||"mm",t=(""+(t||"P")).toLowerCase();var u=r.putOnlyUsedFonts||!1,h={},f={internal:{},__private__:{}};f.__private__.PubSub=UV;var g="1.3",p=f.__private__.getPdfVersion=function(){return g};f.__private__.setPdfVersion=function(L){g=L};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return v};var m=f.__private__.getPageFormat=function(L){return v[L]};i=i||"a4";var x="compat",_="advanced",S=x;function k(){this.saveGraphicsState(),ce(new Kt(at,0,0,-at,0,eA()*at).toString()+" cm"),this.setFontSize(this.getFontSize()/at),A="n",S=_}function R(){this.restoreGraphicsState(),A="S",S=x}var B=f.__private__.combineFontStyleAndFontWeight=function(L,G){if(L=="bold"&&G=="normal"||L=="bold"&&G==400||L=="normal"&&G=="italic"||L=="bold"&&G=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return G&&(L=G==400||G==="normal"?L==="italic"?"italic":"normal":G!=700&&G!=="bold"||L!=="normal"?(G==700?"bold":G)+""+L:"bold"),L};f.advancedAPI=function(L){var G=S===x;return G&&k.call(this),typeof L!="function"||(L(this),G&&R.call(this)),this},f.compatAPI=function(L){var G=S===_;return G&&R.call(this),typeof L!="function"||(L(this),G&&k.call(this)),this},f.isAdvancedAPI=function(){return S===_};var E,b=function(L){if(S!==_)throw new Error(L+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},I=f.roundToPrecision=f.__private__.roundToPrecision=function(L,G){var de=e||G;if(isNaN(L)||isNaN(de))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return L.toFixed(de).replace(/0+$/,"")};E=f.hpf=f.__private__.hpf=typeof l=="number"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return I(L,l)}:l==="smart"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return I(L,L>-1&&L<1?16:5)}:function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return I(L,16)};var T=f.f2=f.__private__.f2=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f2");return I(L,2)},F=f.__private__.f3=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f3");return I(L,3)},D=f.scale=f.__private__.scale=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.scale");return S===x?L*at:S===_?L:void 0},q=function(L){return D(function(G){return S===x?eA()-G:S===_?G:void 0}(L))};f.__private__.setPrecision=f.setPrecision=function(L){typeof parseInt(L,10)=="number"&&(e=parseInt(L,10))};var ie,oe="00000000000000000000000000000000",te=f.__private__.getFileId=function(){return oe},re=f.__private__.setFileId=function(L){return oe=L!==void 0&&/^[a-fA-F0-9]{32}$/.test(L)?L.toUpperCase():oe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(ln=new z1(c.userPermissions,c.userPassword,c.ownerPassword,oe)),oe};f.setFileId=function(L){return re(L),this},f.getFileId=function(){return te()};var W=f.__private__.convertDateToPDFDate=function(L){var G=L.getTimezoneOffset(),de=G<0?"+":"-",Ee=Math.floor(Math.abs(G/60)),Ie=Math.abs(G%60),Ke=[de,H(Ee),"'",H(Ie),"'"].join("");return["D:",L.getFullYear(),H(L.getMonth()+1),H(L.getDate()),H(L.getHours()),H(L.getMinutes()),H(L.getSeconds()),Ke].join("")},pe=f.__private__.convertPDFDateToDate=function(L){var G=parseInt(L.substr(2,4),10),de=parseInt(L.substr(6,2),10)-1,Ee=parseInt(L.substr(8,2),10),Ie=parseInt(L.substr(10,2),10),Ke=parseInt(L.substr(12,2),10),Xe=parseInt(L.substr(14,2),10);return new Date(G,de,Ee,Ie,Ke,Xe,0)},_e=f.__private__.setCreationDate=function(L){var G;if(L===void 0&&(L=new Date),L instanceof Date)G=W(L);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(L))throw new Error("Invalid argument passed to jsPDF.setCreationDate");G=L}return ie=G},P=f.__private__.getCreationDate=function(L){var G=ie;return L==="jsDate"&&(G=pe(ie)),G};f.setCreationDate=function(L){return _e(L),this},f.getCreationDate=function(L){return P(L)};var O,H=f.__private__.padd2=function(L){return("0"+parseInt(L)).slice(-2)},K=f.__private__.padd2Hex=function(L){return("00"+(L=L.toString())).substr(L.length)},Z=0,he=[],xe=[],ye=0,be=[],Fe=[],ne=!1,We=xe;f.__private__.setCustomOutputDestination=function(L){ne=!0,We=L};var Se=function(L){ne||(We=L)};f.__private__.resetCustomOutputDestination=function(){ne=!1,We=xe};var ce=f.__private__.out=function(L){return L=L.toString(),ye+=L.length+1,We.push(L),We},qe=f.__private__.write=function(L){return ce(arguments.length===1?L.toString():Array.prototype.join.call(arguments," "))},Ve=f.__private__.getArrayBuffer=function(L){for(var G=L.length,de=new ArrayBuffer(G),Ee=new Uint8Array(de);G--;)Ee[G]=L.charCodeAt(G);return de},$e=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return $e};var He=r.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(L){return He=S===_?L/at:L,this};var ht,nt=f.__private__.getFontSize=f.getFontSize=function(){return S===x?He:He*at},Nt=r.R2L||!1;f.__private__.setR2L=f.setR2L=function(L){return Nt=L,this},f.__private__.getR2L=f.getR2L=function(){return Nt};var gt,Bt=f.__private__.setZoomMode=function(L){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(L))ht=L;else if(isNaN(L)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(L)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+L+'" is not recognized.');ht=L}else ht=parseInt(L,10)};f.__private__.getZoomMode=function(){return ht};var bt,lt=f.__private__.setPageMode=function(L){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(L)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+L+'" is not recognized.');gt=L};f.__private__.getPageMode=function(){return gt};var Ft=f.__private__.setLayoutMode=function(L){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(L)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+L+'" is not recognized.');bt=L};f.__private__.getLayoutMode=function(){return bt},f.__private__.setDisplayMode=f.setDisplayMode=function(L,G,de){return Bt(L),Ft(G),lt(de),this};var mt={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(L){if(Object.keys(mt).indexOf(L)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return mt[L]},f.__private__.getDocumentProperties=function(){return mt},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(L){for(var G in mt)mt.hasOwnProperty(G)&&L[G]&&(mt[G]=L[G]);return this},f.__private__.setDocumentProperty=function(L,G){if(Object.keys(mt).indexOf(L)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return mt[L]=G};var vt,at,ct,jt,Qt,wt={},Yt={},en=[],zt={},pr={},Jt={},Cn={},Bn=null,Kr=0,Wt=[],br=new UV(f),Yl=r.hotfixes||[],Ai={},Bo={},Fs=[],Kt=function L(G,de,Ee,Ie,Ke,Xe){if(!(this instanceof L))return new L(G,de,Ee,Ie,Ke,Xe);isNaN(G)&&(G=1),isNaN(de)&&(de=0),isNaN(Ee)&&(Ee=0),isNaN(Ie)&&(Ie=1),isNaN(Ke)&&(Ke=0),isNaN(Xe)&&(Xe=0),this._matrix=[G,de,Ee,Ie,Ke,Xe]};Object.defineProperty(Kt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Kt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Kt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Kt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Kt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Kt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Kt.prototype,"a",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Kt.prototype,"b",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Kt.prototype,"c",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Kt.prototype,"d",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Kt.prototype,"e",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Kt.prototype,"f",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Kt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Kt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Kt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Kt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Kt.prototype.join=function(L){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(E).join(L)},Kt.prototype.multiply=function(L){var G=L.sx*this.sx+L.shy*this.shx,de=L.sx*this.shy+L.shy*this.sy,Ee=L.shx*this.sx+L.sy*this.shx,Ie=L.shx*this.shy+L.sy*this.sy,Ke=L.tx*this.sx+L.ty*this.shx+this.tx,Xe=L.tx*this.shy+L.ty*this.sy+this.ty;return new Kt(G,de,Ee,Ie,Ke,Xe)},Kt.prototype.decompose=function(){var L=this.sx,G=this.shy,de=this.shx,Ee=this.sy,Ie=this.tx,Ke=this.ty,Xe=Math.sqrt(L*L+G*G),Et=(L/=Xe)*de+(G/=Xe)*Ee;de-=L*Et,Ee-=G*Et;var Rt=Math.sqrt(de*de+Ee*Ee);return Et/=Rt,L*(Ee/=Rt)<G*(de/=Rt)&&(L=-L,G=-G,Et=-Et,Xe=-Xe),{scale:new Kt(Xe,0,0,Rt,0,0),translate:new Kt(1,0,0,1,Ie,Ke),rotate:new Kt(L,G,-G,L,0,0),skew:new Kt(1,0,Et,1,0,0)}},Kt.prototype.toString=function(L){return this.join(" ")},Kt.prototype.inversed=function(){var L=this.sx,G=this.shy,de=this.shx,Ee=this.sy,Ie=this.tx,Ke=this.ty,Xe=1/(L*Ee-G*de),Et=Ee*Xe,Rt=-G*Xe,qt=-de*Xe,tr=L*Xe;return new Kt(Et,Rt,qt,tr,-Et*Ie-qt*Ke,-Rt*Ie-tr*Ke)},Kt.prototype.applyToPoint=function(L){var G=L.x*this.sx+L.y*this.shx+this.tx,de=L.x*this.shy+L.y*this.sy+this.ty;return new Mc(G,de)},Kt.prototype.applyToRectangle=function(L){var G=this.applyToPoint(L),de=this.applyToPoint(new Mc(L.x+L.w,L.y+L.h));return new jf(G.x,G.y,de.x-G.x,de.y-G.y)},Kt.prototype.clone=function(){var L=this.sx,G=this.shy,de=this.shx,Ee=this.sy,Ie=this.tx,Ke=this.ty;return new Kt(L,G,de,Ee,Ie,Ke)},f.Matrix=Kt;var Sn=f.matrixMult=function(L,G){return G.multiply(L)},So=new Kt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=So;var xi=function(L,G){if(!pr[L]){var de=(G instanceof $p?"Sh":"P")+(Object.keys(zt).length+1).toString(10);G.id=de,pr[L]=de,zt[de]=G,br.publish("addPattern",G)}};f.ShadingPattern=$p,f.TilingPattern=Av,f.addShadingPattern=function(L,G){return b("addShadingPattern()"),xi(L,G),this},f.beginTilingPattern=function(L){b("beginTilingPattern()"),Oc(L.boundingBox[0],L.boundingBox[1],L.boundingBox[2]-L.boundingBox[0],L.boundingBox[3]-L.boundingBox[1],L.matrix)},f.endTilingPattern=function(L,G){b("endTilingPattern()"),G.stream=Fe[O].join(`
`),xi(L,G),br.publish("endTilingPattern",G),Fs.pop().restore()};var Zi,Nn=f.__private__.newObject=function(){var L=_i();return Y(L,!0),L},_i=f.__private__.newObjectDeferred=function(){return Z++,he[Z]=function(){return ye},Z},Y=function(L,G){return G=typeof G=="boolean"&&G,he[L]=ye,G&&ce(L+" 0 obj"),L},ge=f.__private__.newAdditionalObject=function(){var L={objId:_i(),content:""};return be.push(L),L},le=_i(),ue=_i(),fe=f.__private__.decodeColorString=function(L){var G=L.split(" ");if(G.length!==2||G[1]!=="g"&&G[1]!=="G")G.length!==5||G[4]!=="k"&&G[4]!=="K"||(G=[(1-G[0])*(1-G[3]),(1-G[1])*(1-G[3]),(1-G[2])*(1-G[3]),"r"]);else{var de=parseFloat(G[0]);G=[de,de,de,"r"]}for(var Ee="#",Ie=0;Ie<3;Ie++)Ee+=("0"+Math.floor(255*parseFloat(G[Ie])).toString(16)).slice(-2);return Ee},we=f.__private__.encodeColorString=function(L){var G;typeof L=="string"&&(L={ch1:L});var de=L.ch1,Ee=L.ch2,Ie=L.ch3,Ke=L.ch4,Xe=L.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof de=="string"&&de.charAt(0)!=="#"){var Et=new yee(de);if(Et.ok)de=Et.toHex();else if(!/^\d*\.?\d*$/.test(de))throw new Error('Invalid color "'+de+'" passed to jsPDF.encodeColorString.')}if(typeof de=="string"&&/^#[0-9A-Fa-f]{3}$/.test(de)&&(de="#"+de[1]+de[1]+de[2]+de[2]+de[3]+de[3]),typeof de=="string"&&/^#[0-9A-Fa-f]{6}$/.test(de)){var Rt=parseInt(de.substr(1),16);de=Rt>>16&255,Ee=Rt>>8&255,Ie=255&Rt}if(Ee===void 0||Ke===void 0&&de===Ee&&Ee===Ie)G=typeof de=="string"?de+" "+Xe[0]:L.precision===2?T(de/255)+" "+Xe[0]:F(de/255)+" "+Xe[0];else if(Ke===void 0||pn(Ke)==="object"){if(Ke&&!isNaN(Ke.a)&&Ke.a===0)return["1.","1.","1.",Xe[1]].join(" ");G=typeof de=="string"?[de,Ee,Ie,Xe[1]].join(" "):L.precision===2?[T(de/255),T(Ee/255),T(Ie/255),Xe[1]].join(" "):[F(de/255),F(Ee/255),F(Ie/255),Xe[1]].join(" ")}else G=typeof de=="string"?[de,Ee,Ie,Ke,Xe[2]].join(" "):L.precision===2?[T(de),T(Ee),T(Ie),T(Ke),Xe[2]].join(" "):[F(de),F(Ee),F(Ie),F(Ke),Xe[2]].join(" ");return G},Pe=f.__private__.getFilters=function(){return a},Qe=f.__private__.putStream=function(L){var G=(L=L||{}).data||"",de=L.filters||Pe(),Ee=L.alreadyAppliedFilters||[],Ie=L.addLength1||!1,Ke=G.length,Xe=L.objectId,Et=function(bi){return bi};if(c!==null&&Xe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(Et=ln.encryptor(Xe,0));var Rt={};de===!0&&(de=["FlateEncode"]);var qt=L.additionalKeyValues||[],tr=(Rt=Vt.API.processDataByFilters!==void 0?Vt.API.processDataByFilters(G,de):{data:G,reverseChain:[]}).reverseChain+(Array.isArray(Ee)?Ee.join(" "):Ee.toString());if(Rt.data.length!==0&&(qt.push({key:"Length",value:Rt.data.length}),Ie===!0&&qt.push({key:"Length1",value:Ke})),tr.length!=0)if(tr.split("/").length-1==1)qt.push({key:"Filter",value:tr});else{qt.push({key:"Filter",value:"["+tr+"]"});for(var Or=0;Or<qt.length;Or+=1)if(qt[Or].key==="DecodeParms"){for(var tn=[],ui=0;ui<Rt.reverseChain.split("/").length-1;ui+=1)tn.push("null");tn.push(qt[Or].value),qt[Or].value="["+tn.join(" ")+"]"}}ce("<<");for(var An=0;An<qt.length;An++)ce("/"+qt[An].key+" "+qt[An].value);ce(">>"),Rt.data.length!==0&&(ce("stream"),ce(Et(Rt.data)),ce("endstream"))},Re=f.__private__.putPage=function(L){var G=L.number,de=L.data,Ee=L.objId,Ie=L.contentsObjId;Y(Ee,!0),ce("<</Type /Page"),ce("/Parent "+L.rootDictionaryObjId+" 0 R"),ce("/Resources "+L.resourceDictionaryObjId+" 0 R"),ce("/MediaBox ["+parseFloat(E(L.mediaBox.bottomLeftX))+" "+parseFloat(E(L.mediaBox.bottomLeftY))+" "+E(L.mediaBox.topRightX)+" "+E(L.mediaBox.topRightY)+"]"),L.cropBox!==null&&ce("/CropBox ["+E(L.cropBox.bottomLeftX)+" "+E(L.cropBox.bottomLeftY)+" "+E(L.cropBox.topRightX)+" "+E(L.cropBox.topRightY)+"]"),L.bleedBox!==null&&ce("/BleedBox ["+E(L.bleedBox.bottomLeftX)+" "+E(L.bleedBox.bottomLeftY)+" "+E(L.bleedBox.topRightX)+" "+E(L.bleedBox.topRightY)+"]"),L.trimBox!==null&&ce("/TrimBox ["+E(L.trimBox.bottomLeftX)+" "+E(L.trimBox.bottomLeftY)+" "+E(L.trimBox.topRightX)+" "+E(L.trimBox.topRightY)+"]"),L.artBox!==null&&ce("/ArtBox ["+E(L.artBox.bottomLeftX)+" "+E(L.artBox.bottomLeftY)+" "+E(L.artBox.topRightX)+" "+E(L.artBox.topRightY)+"]"),typeof L.userUnit=="number"&&L.userUnit!==1&&ce("/UserUnit "+L.userUnit),br.publish("putPage",{objId:Ee,pageContext:Wt[G],pageNumber:G,page:de}),ce("/Contents "+Ie+" 0 R"),ce(">>"),ce("endobj");var Ke=de.join(`
`);return S===_&&(Ke+=`
Q`),Y(Ie,!0),Qe({data:Ke,filters:Pe(),objectId:Ie}),ce("endobj"),Ee},De=f.__private__.putPages=function(){var L,G,de=[];for(L=1;L<=Kr;L++)Wt[L].objId=_i(),Wt[L].contentsObjId=_i();for(L=1;L<=Kr;L++)de.push(Re({number:L,data:Fe[L],objId:Wt[L].objId,contentsObjId:Wt[L].contentsObjId,mediaBox:Wt[L].mediaBox,cropBox:Wt[L].cropBox,bleedBox:Wt[L].bleedBox,trimBox:Wt[L].trimBox,artBox:Wt[L].artBox,userUnit:Wt[L].userUnit,rootDictionaryObjId:le,resourceDictionaryObjId:ue}));Y(le,!0),ce("<</Type /Pages");var Ee="/Kids [";for(G=0;G<Kr;G++)Ee+=de[G]+" 0 R ";ce(Ee+"]"),ce("/Count "+Kr),ce(">>"),ce("endobj"),br.publish("postPutPages")},Ue=function(L){br.publish("putFont",{font:L,out:ce,newObject:Nn,putStream:Qe}),L.isAlreadyPutted!==!0&&(L.objectNumber=Nn(),ce("<<"),ce("/Type /Font"),ce("/BaseFont /"+W1(L.postScriptName)),ce("/Subtype /Type1"),typeof L.encoding=="string"&&ce("/Encoding /"+L.encoding),ce("/FirstChar 32"),ce("/LastChar 255"),ce(">>"),ce("endobj"))},et=function(L){L.objectNumber=Nn();var G=[];G.push({key:"Type",value:"/XObject"}),G.push({key:"Subtype",value:"/Form"}),G.push({key:"BBox",value:"["+[E(L.x),E(L.y),E(L.x+L.width),E(L.y+L.height)].join(" ")+"]"}),G.push({key:"Matrix",value:"["+L.matrix.toString()+"]"});var de=L.pages[1].join(`
`);Qe({data:de,additionalKeyValues:G,objectId:L.objectNumber}),ce("endobj")},At=function(L,G){G||(G=21);var de=Nn(),Ee=function(Xe,Et){var Rt,qt=[],tr=1/(Et-1);for(Rt=0;Rt<1;Rt+=tr)qt.push(Rt);if(qt.push(1),Xe[0].offset!=0){var Or={offset:0,color:Xe[0].color};Xe.unshift(Or)}if(Xe[Xe.length-1].offset!=1){var tn={offset:1,color:Xe[Xe.length-1].color};Xe.push(tn)}for(var ui="",An=0,bi=0;bi<qt.length;bi++){for(Rt=qt[bi];Rt>Xe[An+1].offset;)An++;var hi=Xe[An].offset,Ei=(Rt-hi)/(Xe[An+1].offset-hi),Un=Xe[An].color,Ws=Xe[An+1].color;ui+=K(Math.round((1-Ei)*Un[0]+Ei*Ws[0]).toString(16))+K(Math.round((1-Ei)*Un[1]+Ei*Ws[1]).toString(16))+K(Math.round((1-Ei)*Un[2]+Ei*Ws[2]).toString(16))}return ui.trim()}(L.colors,G),Ie=[];Ie.push({key:"FunctionType",value:"0"}),Ie.push({key:"Domain",value:"[0.0 1.0]"}),Ie.push({key:"Size",value:"["+G+"]"}),Ie.push({key:"BitsPerSample",value:"8"}),Ie.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ie.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Qe({data:Ee,additionalKeyValues:Ie,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:de}),ce("endobj"),L.objectNumber=Nn(),ce("<< /ShadingType "+L.type),ce("/ColorSpace /DeviceRGB");var Ke="/Coords ["+E(parseFloat(L.coords[0]))+" "+E(parseFloat(L.coords[1]))+" ";L.type===2?Ke+=E(parseFloat(L.coords[2]))+" "+E(parseFloat(L.coords[3])):Ke+=E(parseFloat(L.coords[2]))+" "+E(parseFloat(L.coords[3]))+" "+E(parseFloat(L.coords[4]))+" "+E(parseFloat(L.coords[5])),ce(Ke+="]"),L.matrix&&ce("/Matrix ["+L.matrix.toString()+"]"),ce("/Function "+de+" 0 R"),ce("/Extend [true true]"),ce(">>"),ce("endobj")},pt=function(L,G){var de=_i(),Ee=Nn();G.push({resourcesOid:de,objectOid:Ee}),L.objectNumber=Ee;var Ie=[];Ie.push({key:"Type",value:"/Pattern"}),Ie.push({key:"PatternType",value:"1"}),Ie.push({key:"PaintType",value:"1"}),Ie.push({key:"TilingType",value:"1"}),Ie.push({key:"BBox",value:"["+L.boundingBox.map(E).join(" ")+"]"}),Ie.push({key:"XStep",value:E(L.xStep)}),Ie.push({key:"YStep",value:E(L.yStep)}),Ie.push({key:"Resources",value:de+" 0 R"}),L.matrix&&Ie.push({key:"Matrix",value:"["+L.matrix.toString()+"]"}),Qe({data:L.stream,additionalKeyValues:Ie,objectId:L.objectNumber}),ce("endobj")},it=function(L){for(var G in L.objectNumber=Nn(),ce("<<"),L)switch(G){case"opacity":ce("/ca "+T(L[G]));break;case"stroke-opacity":ce("/CA "+T(L[G]))}ce(">>"),ce("endobj")},ut=function(L){Y(L.resourcesOid,!0),ce("<<"),ce("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var G in ce("/Font <<"),wt)wt.hasOwnProperty(G)&&(u===!1||u===!0&&h.hasOwnProperty(G))&&ce("/"+G+" "+wt[G].objectNumber+" 0 R");ce(">>")}(),function(){if(Object.keys(zt).length>0){for(var G in ce("/Shading <<"),zt)zt.hasOwnProperty(G)&&zt[G]instanceof $p&&zt[G].objectNumber>=0&&ce("/"+G+" "+zt[G].objectNumber+" 0 R");br.publish("putShadingPatternDict"),ce(">>")}}(),function(G){if(Object.keys(zt).length>0){for(var de in ce("/Pattern <<"),zt)zt.hasOwnProperty(de)&&zt[de]instanceof f.TilingPattern&&zt[de].objectNumber>=0&&zt[de].objectNumber<G&&ce("/"+de+" "+zt[de].objectNumber+" 0 R");br.publish("putTilingPatternDict"),ce(">>")}}(L.objectOid),function(){if(Object.keys(Jt).length>0){var G;for(G in ce("/ExtGState <<"),Jt)Jt.hasOwnProperty(G)&&Jt[G].objectNumber>=0&&ce("/"+G+" "+Jt[G].objectNumber+" 0 R");br.publish("putGStateDict"),ce(">>")}}(),function(){for(var G in ce("/XObject <<"),Ai)Ai.hasOwnProperty(G)&&Ai[G].objectNumber>=0&&ce("/"+G+" "+Ai[G].objectNumber+" 0 R");br.publish("putXobjectDict"),ce(">>")}(),ce(">>"),ce("endobj")},$t=function(L){Yt[L.fontName]=Yt[L.fontName]||{},Yt[L.fontName][L.fontStyle]=L.id},Yr=function(L,G,de,Ee,Ie){var Ke={id:"F"+(Object.keys(wt).length+1).toString(10),postScriptName:L,fontName:G,fontStyle:de,encoding:Ee,isStandardFont:Ie||!1,metadata:{}};return br.publish("addFont",{font:Ke,instance:this}),wt[Ke.id]=Ke,$t(Ke),Ke.id},gr=f.__private__.pdfEscape=f.pdfEscape=function(L,G){return function(de,Ee){var Ie,Ke,Xe,Et,Rt,qt,tr,Or,tn;if(Xe=(Ee=Ee||{}).sourceEncoding||"Unicode",Rt=Ee.outputEncoding,(Ee.autoencode||Rt)&&wt[vt].metadata&&wt[vt].metadata[Xe]&&wt[vt].metadata[Xe].encoding&&(Et=wt[vt].metadata[Xe].encoding,!Rt&&wt[vt].encoding&&(Rt=wt[vt].encoding),!Rt&&Et.codePages&&(Rt=Et.codePages[0]),typeof Rt=="string"&&(Rt=Et[Rt]),Rt)){for(tr=!1,qt=[],Ie=0,Ke=de.length;Ie<Ke;Ie++)(Or=Rt[de.charCodeAt(Ie)])?qt.push(String.fromCharCode(Or)):qt.push(de[Ie]),qt[Ie].charCodeAt(0)>>8&&(tr=!0);de=qt.join("")}for(Ie=de.length;tr===void 0&&Ie!==0;)de.charCodeAt(Ie-1)>>8&&(tr=!0),Ie--;if(!tr)return de;for(qt=Ee.noBOM?[]:[254,255],Ie=0,Ke=de.length;Ie<Ke;Ie++){if((tn=(Or=de.charCodeAt(Ie))>>8)>>8)throw new Error("Character at position "+Ie+" of string '"+de+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");qt.push(tn),qt.push(Or-(tn<<8))}return String.fromCharCode.apply(void 0,qt)}(L,G).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},nn=f.__private__.beginPage=function(L){Fe[++Kr]=[],Wt[Kr]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(L[0]),topRightY:Number(L[1])}},nl(Kr),Se(Fe[O])},To=function(L,G){var de,Ee,Ie;switch(t=G||t,typeof L=="string"&&(de=m(L.toLowerCase()),Array.isArray(de)&&(Ee=de[0],Ie=de[1])),Array.isArray(L)&&(Ee=L[0]*at,Ie=L[1]*at),isNaN(Ee)&&(Ee=i[0],Ie=i[1]),(Ee>14400||Ie>14400)&&(Ln.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ee=Math.min(14400,Ee),Ie=Math.min(14400,Ie)),i=[Ee,Ie],t.substr(0,1)){case"l":Ie>Ee&&(i=[Ie,Ee]);break;case"p":Ee>Ie&&(i=[Ie,Ee])}nn(i),Uc(Qf),ce(HA),vn!==0&&ce(vn+" J"),_p!==0&&ce(_p+" j"),br.publish("addPage",{pageNumber:Kr})},rl=function(L){L>0&&L<=Kr&&(Fe.splice(L,1),Wt.splice(L,1),Kr--,O>Kr&&(O=Kr),this.setPage(O))},nl=function(L){L>0&&L<=Kr&&(O=L)},Za=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Fe.length-1},MA=function(L,G,de){var Ee,Ie=void 0;return de=de||{},L=L!==void 0?L:wt[vt].fontName,G=G!==void 0?G:wt[vt].fontStyle,Ee=L.toLowerCase(),Yt[Ee]!==void 0&&Yt[Ee][G]!==void 0?Ie=Yt[Ee][G]:Yt[L]!==void 0&&Yt[L][G]!==void 0?Ie=Yt[L][G]:de.disableWarning===!1&&Ln.warn("Unable to look up font label for font '"+L+"', '"+G+"'. Refer to getFontList() for available fonts."),Ie||de.noFallback||(Ie=Yt.times[G])==null&&(Ie=Yt.times.normal),Ie},es=f.__private__.putInfo=function(){var L=Nn(),G=function(Ee){return Ee};for(var de in c!==null&&(G=ln.encryptor(L,0)),ce("<<"),ce("/Producer ("+gr(G("jsPDF "+Vt.version))+")"),mt)mt.hasOwnProperty(de)&&mt[de]&&ce("/"+de.substr(0,1).toUpperCase()+de.substr(1)+" ("+gr(G(mt[de]))+")");ce("/CreationDate ("+gr(G(ie))+")"),ce(">>"),ce("endobj")},mp=f.__private__.putCatalog=function(L){var G=(L=L||{}).rootDictionaryObjId||le;switch(Nn(),ce("<<"),ce("/Type /Catalog"),ce("/Pages "+G+" 0 R"),ht||(ht="fullwidth"),ht){case"fullwidth":ce("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ce("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ce("/OpenAction [3 0 R /Fit]");break;case"original":ce("/OpenAction [3 0 R /XYZ null null 1]");break;default:var de=""+ht;de.substr(de.length-1)==="%"&&(ht=parseInt(ht)/100),typeof ht=="number"&&ce("/OpenAction [3 0 R /XYZ null null "+T(ht)+"]")}switch(bt||(bt="continuous"),bt){case"continuous":ce("/PageLayout /OneColumn");break;case"single":ce("/PageLayout /SinglePage");break;case"two":case"twoleft":ce("/PageLayout /TwoColumnLeft");break;case"tworight":ce("/PageLayout /TwoColumnRight")}gt&&ce("/PageMode /"+gt),br.publish("putCatalog"),ce(">>"),ce("endobj")},ci=f.__private__.putTrailer=function(){ce("trailer"),ce("<<"),ce("/Size "+(Z+1)),ce("/Root "+Z+" 0 R"),ce("/Info "+(Z-1)+" 0 R"),c!==null&&ce("/Encrypt "+ln.oid+" 0 R"),ce("/ID [ <"+oe+"> <"+oe+"> ]"),ce(">>")},vp=f.__private__.putHeader=function(){ce("%PDF-"+g),ce("%")},c1=f.__private__.putXRef=function(){var L="0000000000";ce("xref"),ce("0 "+(Z+1)),ce("0000000000 65535 f ");for(var G=1;G<=Z;G++)typeof he[G]=="function"?ce((L+he[G]()).slice(-10)+" 00000 n "):he[G]!==void 0?ce((L+he[G]).slice(-10)+" 00000 n "):ce("0000000000 00000 n ")},OA=f.__private__.buildDocument=function(){var L;Z=0,ye=0,xe=[],he=[],be=[],le=_i(),ue=_i(),Se(xe),br.publish("buildDocument"),vp(),De(),function(){br.publish("putAdditionalObjects");for(var de=0;de<be.length;de++){var Ee=be[de];Y(Ee.objId,!0),ce(Ee.content),ce("endobj")}br.publish("postPutAdditionalObjects")}(),L=[],function(){for(var de in wt)wt.hasOwnProperty(de)&&(u===!1||u===!0&&h.hasOwnProperty(de))&&Ue(wt[de])}(),function(){var de;for(de in Jt)Jt.hasOwnProperty(de)&&it(Jt[de])}(),function(){for(var de in Ai)Ai.hasOwnProperty(de)&&et(Ai[de])}(),function(de){var Ee;for(Ee in zt)zt.hasOwnProperty(Ee)&&(zt[Ee]instanceof $p?At(zt[Ee]):zt[Ee]instanceof Av&&pt(zt[Ee],de))}(L),br.publish("putResources"),L.forEach(ut),ut({resourcesOid:ue,objectOid:Number.MAX_SAFE_INTEGER}),br.publish("postPutResources"),c!==null&&(ln.oid=Nn(),ce("<<"),ce("/Filter /Standard"),ce("/V "+ln.v),ce("/R "+ln.r),ce("/U <"+ln.toHexString(ln.U)+">"),ce("/O <"+ln.toHexString(ln.O)+">"),ce("/P "+ln.P),ce(">>"),ce("endobj")),es(),mp();var G=ye;return c1(),ci(),ce("startxref"),ce(""+G),ce("%%EOF"),Se(Fe[O]),xe.join(`
`)},Rc=f.__private__.getBlob=function(L){return new Blob([Ve(L)],{type:"application/pdf"})},Fo=f.output=f.__private__.output=(Zi=function(L,G){switch(typeof(G=G||{})=="string"?G={filename:G}:G.filename=G.filename||"generated.pdf",L){case void 0:return OA();case"save":f.save(G.filename);break;case"arraybuffer":return Ve(OA());case"blob":return Rc(OA());case"bloburi":case"bloburl":if(rr.URL!==void 0&&typeof rr.URL.createObjectURL=="function")return rr.URL&&rr.URL.createObjectURL(Rc(OA()))||void 0;Ln.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var de="",Ee=OA();try{de=RV(Ee)}catch{de=RV(unescape(encodeURIComponent(Ee)))}return"data:application/pdf;filename="+G.filename+";base64,"+de;case"pdfobjectnewwindow":if(Object.prototype.toString.call(rr)==="[object Window]"){var Ie="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ke=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';G.pdfObjectUrl&&(Ie=G.pdfObjectUrl,Ke="");var Xe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ie+'"'+Ke+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(G)+");<\/script></body></html>",Et=rr.open();return Et!==null&&Et.document.write(Xe),Et}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(rr)==="[object Window]"){var Rt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(G.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+G.filename+'" width="500px" height="400px" /></body></html>',qt=rr.open();if(qt!==null){qt.document.write(Rt);var tr=this;qt.document.documentElement.querySelector("#pdfViewer").onload=function(){qt.document.title=G.filename,qt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(tr.output("bloburl"))}}return qt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(rr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Or='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",G)+'"></iframe></body></html>',tn=rr.open();if(tn!==null&&(tn.document.write(Or),tn.document.title=G.filename),tn||typeof safari>"u")return tn;break;case"datauri":case"dataurl":return rr.document.location.href=this.output("datauristring",G);default:return null}},Zi.foo=function(){try{return Zi.apply(this,arguments)}catch(de){var L=de.stack||"";~L.indexOf(" at ")&&(L=L.split(" at ")[1]);var G="Error in function "+L.split(`
`)[0].split("<")[0]+": "+de.message;if(!rr.console)throw new Error(G);rr.console.error(G,de),rr.alert&&alert(G)}},Zi.foo.bar=Zi,Zi.foo),$u=function(L){return Array.isArray(Yl)===!0&&Yl.indexOf(L)>-1};switch(n){case"pt":at=1;break;case"mm":at=72/25.4;break;case"cm":at=72/2.54;break;case"in":at=72;break;case"px":at=$u("px_scaling")==1?.75:96/72;break;case"pc":case"em":at=12;break;case"ex":at=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);at=n}var ln=null;_e(),re();var eo=f.__private__.getPageInfo=f.getPageInfo=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Wt[L].objId,pageNumber:L,pageContext:Wt[L]}},Mf=f.__private__.getPageInfoByObjId=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var G in Wt)if(Wt[G].objId===L)break;return eo(G)},Of=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Wt[O].objId,pageNumber:O,pageContext:Wt[O]}};f.addPage=function(){return To.apply(this,arguments),this},f.setPage=function(){return nl.apply(this,arguments),Se.call(this,Fe[O]),this},f.insertPage=function(L){return this.addPage(),this.movePage(O,L),this},f.movePage=function(L,G){var de,Ee;if(L>G){de=Fe[L],Ee=Wt[L];for(var Ie=L;Ie>G;Ie--)Fe[Ie]=Fe[Ie-1],Wt[Ie]=Wt[Ie-1];Fe[G]=de,Wt[G]=Ee,this.setPage(G)}else if(L<G){de=Fe[L],Ee=Wt[L];for(var Ke=L;Ke<G;Ke++)Fe[Ke]=Fe[Ke+1],Wt[Ke]=Wt[Ke+1];Fe[G]=de,Wt[G]=Ee,this.setPage(G)}return this},f.deletePage=function(){return rl.apply(this,arguments),this},f.__private__.text=f.text=function(L,G,de,Ee,Ie){var Ke,Xe,Et,Rt,qt,tr,Or,tn,ui,An=(Ee=Ee||{}).scope||this;if(typeof L=="number"&&typeof G=="number"&&(typeof de=="string"||Array.isArray(de))){var bi=de;de=G,G=L,L=bi}if(arguments[3]instanceof Kt==0?(Et=arguments[4],Rt=arguments[5],pn(Or=arguments[3])==="object"&&Or!==null||(typeof Et=="string"&&(Rt=Et,Et=null),typeof Or=="string"&&(Rt=Or,Or=null),typeof Or=="number"&&(Et=Or,Or=null),Ee={flags:Or,angle:Et,align:Rt})):(b("The transform parameter of text() with a Matrix value"),ui=Ie),isNaN(G)||isNaN(de)||L==null)throw new Error("Invalid arguments passed to jsPDF.text");if(L.length===0)return An;var hi,Ei="",Un=typeof Ee.lineHeightFactor=="number"?Ee.lineHeightFactor:Nc,Ws=An.internal.scaleFactor;function Bp(sn){return sn=sn.split("	").join(Array(Ee.TabLen||9).join(" ")),gr(sn,Or)}function sl(sn){for(var Tn,Mi=sn.concat(),hs=[],th=Mi.length;th--;)typeof(Tn=Mi.shift())=="string"?hs.push(Tn):Array.isArray(sn)&&(Tn.length===1||Tn[1]===void 0&&Tn[2]===void 0)?hs.push(Tn[0]):hs.push([Tn[0],Tn[1],Tn[2]]);return hs}function y(sn,Tn){var Mi;if(typeof sn=="string")Mi=Tn(sn)[0];else if(Array.isArray(sn)){for(var hs,th,t2=sn.concat(),d1=[],EC=t2.length;EC--;)typeof(hs=t2.shift())=="string"?d1.push(Tn(hs)[0]):Array.isArray(hs)&&typeof hs[0]=="string"&&(th=Tn(hs[0],hs[1],hs[2]),d1.push([th[0],th[1],th[2]]));Mi=d1}return Mi}var U=!1,j=!0;if(typeof L=="string")U=!0;else if(Array.isArray(L)){var ae=L.concat();Xe=[];for(var ke,Oe=ae.length;Oe--;)(typeof(ke=ae.shift())!="string"||Array.isArray(ke)&&typeof ke[0]!="string")&&(j=!1);U=j}if(U===!1)throw new Error('Type of text must be string or Array. "'+L+'" is not recognized.');typeof L=="string"&&(L=L.match(/[\r?\n]/)?L.split(/\r\n|\r|\n/g):[L]);var ot=He/An.internal.scaleFactor,Rr=ot*(Un-1);switch(Ee.baseline){case"bottom":de-=Rr;break;case"top":de+=ot-Rr;break;case"hanging":de+=ot-2*Rr;break;case"middle":de+=ot/2-Rr}if((tr=Ee.maxWidth||0)>0&&(typeof L=="string"?L=An.splitTextToSize(L,tr):Object.prototype.toString.call(L)==="[object Array]"&&(L=L.reduce(function(sn,Tn){return sn.concat(An.splitTextToSize(Tn,tr))},[]))),Ke={text:L,x:G,y:de,options:Ee,mutex:{pdfEscape:gr,activeFontKey:vt,fonts:wt,activeFontSize:He}},br.publish("preProcessText",Ke),L=Ke.text,Et=(Ee=Ke.options).angle,ui instanceof Kt==0&&Et&&typeof Et=="number"){Et*=Math.PI/180,Ee.rotationDirection===0&&(Et=-Et),S===_&&(Et=-Et);var fi=Math.cos(Et),Br=Math.sin(Et);ui=new Kt(fi,Br,-Br,fi,0,0)}else Et&&Et instanceof Kt&&(ui=Et);S!==_||ui||(ui=So),(qt=Ee.charSpace||Yu)!==void 0&&(Ei+=E(D(qt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(tn=Ee.horizontalScale)!==void 0&&(Ei+=E(100*tn)+` Tz
`),Ee.lang;var Cr=-1,Mn=Ee.renderingMode!==void 0?Ee.renderingMode:Ee.stroke,al=An.internal.getCurrentPageInfo().pageContext;switch(Mn){case 0:case!1:case"fill":Cr=0;break;case 1:case!0:case"stroke":Cr=1;break;case 2:case"fillThenStroke":Cr=2;break;case 3:case"invisible":Cr=3;break;case 4:case"fillAndAddForClipping":Cr=4;break;case 5:case"strokeAndAddPathForClipping":Cr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Cr=6;break;case 7:case"addToPathForClipping":Cr=7}var wa=al.usedRenderingMode!==void 0?al.usedRenderingMode:-1;Cr!==-1?Ei+=Cr+` Tr
`:wa!==-1&&(Ei+=`0 Tr
`),Cr!==-1&&(al.usedRenderingMode=Cr),Rt=Ee.align||"left";var Gs,jA=He*Un,$y=An.internal.pageSize.getWidth(),qy=wt[vt];qt=Ee.charSpace||Yu,tr=Ee.maxWidth||0,Or=Object.assign({autoencode:!0,noBOM:!0},Ee.flags);var zf=[],Sp=function(sn){return An.getStringUnitWidth(sn,{font:qy,charSpace:qt,fontSize:He,doKerning:!1})*He/Ws};if(Object.prototype.toString.call(L)==="[object Array]"){var ol;Xe=sl(L),Rt!=="left"&&(Gs=Xe.map(Sp));var ll,Wf=0;if(Rt==="right"){G-=Gs[0],L=[],Oe=Xe.length;for(var eh=0;eh<Oe;eh++)eh===0?(ll=Is(G),ol=QA(de)):(ll=D(Wf-Gs[eh]),ol=-jA),L.push([Xe[eh],ll,ol]),Wf=Gs[eh]}else if(Rt==="center"){G-=Gs[0]/2,L=[],Oe=Xe.length;for(var Gf=0;Gf<Oe;Gf++)Gf===0?(ll=Is(G),ol=QA(de)):(ll=D((Wf-Gs[Gf])/2),ol=-jA),L.push([Xe[Gf],ll,ol]),Wf=Gs[Gf]}else if(Rt==="left"){L=[],Oe=Xe.length;for(var Xy=0;Xy<Oe;Xy++)L.push(Xe[Xy])}else if(Rt==="justify"&&qy.encoding==="Identity-H"){L=[],Oe=Xe.length,tr=tr!==0?tr:$y;for(var f1=0,Ui=0;Ui<Oe;Ui++)if(ol=Ui===0?QA(de):-jA,ll=Ui===0?Is(G):f1,Ui<Oe-1){var bC=D((tr-Gs[Ui])/(Xe[Ui].split(" ").length-1)),Hc=Xe[Ui].split(" ");L.push([Hc[0]+" ",ll,ol]),f1=0;for(var Vc=1;Vc<Hc.length;Vc++){var Yy=(Sp(Hc[Vc-1]+" "+Hc[Vc])-Sp(Hc[Vc]))*Ws+bC;Vc==Hc.length-1?L.push([Hc[Vc],Yy,0]):L.push([Hc[Vc]+" ",Yy,0]),f1-=Yy}}else L.push([Xe[Ui],ll,ol]);L.push(["",f1,0])}else{if(Rt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(L=[],Oe=Xe.length,tr=tr!==0?tr:$y,Ui=0;Ui<Oe;Ui++){ol=Ui===0?QA(de):-jA,ll=Ui===0?Is(G):0;var Jy=Xe[Ui].split(" ").length-1,Zy=Jy>0?(tr-Gs[Ui])/Jy:0;Ui<Oe-1?zf.push(E(D(Zy))):zf.push(0),L.push([Xe[Ui],ll,ol])}}}(typeof Ee.R2L=="boolean"?Ee.R2L:Nt)===!0&&(L=y(L,function(sn,Tn,Mi){return[sn.split("").reverse().join(""),Tn,Mi]})),Ke={text:L,x:G,y:de,options:Ee,mutex:{pdfEscape:gr,activeFontKey:vt,fonts:wt,activeFontSize:He}},br.publish("postProcessText",Ke),L=Ke.text,hi=Ke.mutex.isHex||!1;var e2=wt[vt].encoding;e2!=="WinAnsiEncoding"&&e2!=="StandardEncoding"||(L=y(L,function(sn,Tn,Mi){return[Bp(sn),Tn,Mi]})),Xe=sl(L),L=[];for(var $f,qf,Xf,Tp=Array.isArray(Xe[0])?1:0,Yf="",Fp=function(sn,Tn,Mi){var hs="";return Mi instanceof Kt?(Mi=typeof Ee.angle=="number"?Sn(Mi,new Kt(1,0,0,1,sn,Tn)):Sn(new Kt(1,0,0,1,sn,Tn),Mi),S===_&&(Mi=Sn(new Kt(1,0,0,-1,0,0),Mi)),hs=Mi.join(" ")+` Tm
`):hs=E(sn)+" "+E(Tn)+` Td
`,hs},tA=0;tA<Xe.length;tA++){switch(Yf="",Tp){case 1:Xf=(hi?"<":"(")+Xe[tA][0]+(hi?">":")"),$f=parseFloat(Xe[tA][1]),qf=parseFloat(Xe[tA][2]);break;case 0:Xf=(hi?"<":"(")+Xe[tA]+(hi?">":")"),$f=Is(G),qf=QA(de)}zf!==void 0&&zf[tA]!==void 0&&(Yf=zf[tA]+` Tw
`),tA===0?L.push(Yf+Fp($f,qf,ui)+Xf):Tp===0?L.push(Yf+Xf):Tp===1&&L.push(Yf+Fp($f,qf,ui)+Xf)}L=Tp===0?L.join(` Tj
T* `):L.join(` Tj
`),L+=` Tj
`;var jc=`BT
/`;return jc+=vt+" "+He+` Tf
`,jc+=E(He*Un)+` TL
`,jc+=il+`
`,jc+=Ei,jc+=L,ce(jc+="ET"),h[vt]=!0,An};var u1=f.__private__.clip=f.clip=function(L){return ce(L==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return u1("evenodd")},f.__private__.discardPath=f.discardPath=function(){return ce("n"),this};var Ir=f.__private__.isValidStyle=function(L){var G=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(L)!==-1&&(G=!0),G};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(L){return Ir(L)&&(A=L),this};var qu=f.__private__.getStyle=f.getStyle=function(L){var G=A;switch(L){case"D":case"S":G="S";break;case"F":G="f";break;case"FD":case"DF":G="B";break;case"f":case"f*":case"B":case"B*":G=L}return G},Dc=f.close=function(){return ce("h"),this};f.stroke=function(){return ce("S"),this},f.fill=function(L){return Io("f",L),this},f.fillEvenOdd=function(L){return Io("f*",L),this},f.fillStroke=function(L){return Io("B",L),this},f.fillStrokeEvenOdd=function(L){return Io("B*",L),this};var Io=function(L,G){pn(G)==="object"?Vy(G,L):ce(L)},wp=function(L){L===null||S===_&&L===void 0||(L=qu(L),ce(L))};function h1(L,G,de,Ee,Ie){var Ke=new Av(G||this.boundingBox,de||this.xStep,Ee||this.yStep,this.gState,Ie||this.matrix);Ke.stream=this.stream;var Xe=L+"$$"+this.cloneIndex+++"$$";return xi(Xe,Ke),Ke}var Vy=function(L,G){var de=pr[L.key],Ee=zt[de];if(Ee instanceof $p)ce("q"),ce(jy(G)),Ee.gState&&f.setGState(Ee.gState),ce(L.matrix.toString()+" cm"),ce("/"+de+" sh"),ce("Q");else if(Ee instanceof Av){var Ie=new Kt(1,0,0,-1,0,eA());L.matrix&&(Ie=Ie.multiply(L.matrix||So),de=h1.call(Ee,L.key,L.boundingBox,L.xStep,L.yStep,Ie).id),ce("q"),ce("/Pattern cs"),ce("/"+de+" scn"),Ee.gState&&f.setGState(Ee.gState),ce(G),ce("Q")}},jy=function(L){switch(L){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},yp=f.moveTo=function(L,G){return ce(E(D(L))+" "+E(q(G))+" m"),this},Xu=f.lineTo=function(L,G){return ce(E(D(L))+" "+E(q(G))+" l"),this},ko=f.curveTo=function(L,G,de,Ee,Ie,Ke){return ce([E(D(L)),E(q(G)),E(D(de)),E(q(Ee)),E(D(Ie)),E(q(Ke)),"c"].join(" ")),this};f.__private__.line=f.line=function(L,G,de,Ee,Ie){if(isNaN(L)||isNaN(G)||isNaN(de)||isNaN(Ee)||!Ir(Ie))throw new Error("Invalid arguments passed to jsPDF.line");return S===x?this.lines([[de-L,Ee-G]],L,G,[1,1],Ie||"S"):this.lines([[de-L,Ee-G]],L,G,[1,1]).stroke()},f.__private__.lines=f.lines=function(L,G,de,Ee,Ie,Ke){var Xe,Et,Rt,qt,tr,Or,tn,ui,An,bi,hi,Ei;if(typeof L=="number"&&(Ei=de,de=G,G=L,L=Ei),Ee=Ee||[1,1],Ke=Ke||!1,isNaN(G)||isNaN(de)||!Array.isArray(L)||!Array.isArray(Ee)||!Ir(Ie)||typeof Ke!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(yp(G,de),Xe=Ee[0],Et=Ee[1],qt=L.length,bi=G,hi=de,Rt=0;Rt<qt;Rt++)(tr=L[Rt]).length===2?(bi=tr[0]*Xe+bi,hi=tr[1]*Et+hi,Xu(bi,hi)):(Or=tr[0]*Xe+bi,tn=tr[1]*Et+hi,ui=tr[2]*Xe+bi,An=tr[3]*Et+hi,bi=tr[4]*Xe+bi,hi=tr[5]*Et+hi,ko(Or,tn,ui,An,bi,hi));return Ke&&Dc(),wp(Ie),this},f.path=function(L){for(var G=0;G<L.length;G++){var de=L[G],Ee=de.c;switch(de.op){case"m":yp(Ee[0],Ee[1]);break;case"l":Xu(Ee[0],Ee[1]);break;case"c":ko.apply(this,Ee);break;case"h":Dc()}}return this},f.__private__.rect=f.rect=function(L,G,de,Ee,Ie){if(isNaN(L)||isNaN(G)||isNaN(de)||isNaN(Ee)||!Ir(Ie))throw new Error("Invalid arguments passed to jsPDF.rect");return S===x&&(Ee=-Ee),ce([E(D(L)),E(q(G)),E(D(de)),E(D(Ee)),"re"].join(" ")),wp(Ie),this},f.__private__.triangle=f.triangle=function(L,G,de,Ee,Ie,Ke,Xe){if(isNaN(L)||isNaN(G)||isNaN(de)||isNaN(Ee)||isNaN(Ie)||isNaN(Ke)||!Ir(Xe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[de-L,Ee-G],[Ie-de,Ke-Ee],[L-Ie,G-Ke]],L,G,[1,1],Xe,!0),this},f.__private__.roundedRect=f.roundedRect=function(L,G,de,Ee,Ie,Ke,Xe){if(isNaN(L)||isNaN(G)||isNaN(de)||isNaN(Ee)||isNaN(Ie)||isNaN(Ke)||!Ir(Xe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Et=4/3*(Math.SQRT2-1);return Ie=Math.min(Ie,.5*de),Ke=Math.min(Ke,.5*Ee),this.lines([[de-2*Ie,0],[Ie*Et,0,Ie,Ke-Ke*Et,Ie,Ke],[0,Ee-2*Ke],[0,Ke*Et,-Ie*Et,Ke,-Ie,Ke],[2*Ie-de,0],[-Ie*Et,0,-Ie,-Ke*Et,-Ie,-Ke],[0,2*Ke-Ee],[0,-Ke*Et,Ie*Et,-Ke,Ie,-Ke]],L+Ie,G,[1,1],Xe,!0),this},f.__private__.ellipse=f.ellipse=function(L,G,de,Ee,Ie){if(isNaN(L)||isNaN(G)||isNaN(de)||isNaN(Ee)||!Ir(Ie))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ke=4/3*(Math.SQRT2-1)*de,Xe=4/3*(Math.SQRT2-1)*Ee;return yp(L+de,G),ko(L+de,G-Xe,L+Ke,G-Ee,L,G-Ee),ko(L-Ke,G-Ee,L-de,G-Xe,L-de,G),ko(L-de,G+Xe,L-Ke,G+Ee,L,G+Ee),ko(L+Ke,G+Ee,L+de,G+Xe,L+de,G),wp(Ie),this},f.__private__.circle=f.circle=function(L,G,de,Ee){if(isNaN(L)||isNaN(G)||isNaN(de)||!Ir(Ee))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(L,G,de,de,Ee)},f.setFont=function(L,G,de){return de&&(G=B(G,de)),vt=MA(L,G,{disableWarning:!1}),this};var Jl=f.__private__.getFont=f.getFont=function(){return wt[MA.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var L,G,de={};for(L in Yt)if(Yt.hasOwnProperty(L))for(G in de[L]=[],Yt[L])Yt[L].hasOwnProperty(G)&&de[L].push(G);return de},f.addFont=function(L,G,de,Ee,Ie){var Ke=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ke.indexOf(arguments[3])!==-1?Ie=arguments[3]:arguments[3]&&Ke.indexOf(arguments[3])==-1&&(de=B(de,Ee)),Yr.call(this,L,G,de,Ie=Ie||"Identity-H")};var Nc,Qf=r.lineWidth||.200025,Zt=f.__private__.getLineWidth=f.getLineWidth=function(){return Qf},Uc=f.__private__.setLineWidth=f.setLineWidth=function(L){return Qf=L,ce(E(D(L))+" w"),this};f.__private__.setLineDash=Vt.API.setLineDash=Vt.API.setLineDashPattern=function(L,G){if(L=L||[],G=G||0,isNaN(G)||!Array.isArray(L))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return L=L.map(function(de){return E(D(de))}).join(" "),G=E(D(G)),ce("["+L+"] "+G+" d"),this};var Ky=f.__private__.getLineHeight=f.getLineHeight=function(){return He*Nc};f.__private__.getLineHeight=f.getLineHeight=function(){return He*Nc};var zy=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(L){return typeof(L=L||1.15)=="number"&&(Nc=L),this},Wy=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Nc};zy(r.lineHeight);var Is=f.__private__.getHorizontalCoordinate=function(L){return D(L)},QA=f.__private__.getVerticalCoordinate=function(L){return S===_?L:Wt[O].mediaBox.topRightY-Wt[O].mediaBox.bottomLeftY-D(L)},Gy=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(L){return E(Is(L))},Hf=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(L){return E(QA(L))},HA=r.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return fe(HA)},f.__private__.setStrokeColor=f.setDrawColor=function(L,G,de,Ee){return HA=we({ch1:L,ch2:G,ch3:de,ch4:Ee,pdfColorType:"draw",precision:2}),ce(HA),this};var Vf=r.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return fe(Vf)},f.__private__.setFillColor=f.setFillColor=function(L,G,de,Ee){return Vf=we({ch1:L,ch2:G,ch3:de,ch4:Ee,pdfColorType:"fill",precision:2}),ce(Vf),this};var il=r.textColor||"0 g",Zl=f.__private__.getTextColor=f.getTextColor=function(){return fe(il)};f.__private__.setTextColor=f.setTextColor=function(L,G,de,Ee){return il=we({ch1:L,ch2:G,ch3:de,ch4:Ee,pdfColorType:"text",precision:3}),this};var Yu=r.charSpace,xp=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Yu||0)};f.__private__.setCharSpace=f.setCharSpace=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Yu=L,this};var vn=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(L){var G=f.CapJoinStyles[L];if(G===void 0)throw new Error("Line cap style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return vn=G,ce(G+" J"),this};var _p=0;f.__private__.setLineJoin=f.setLineJoin=function(L){var G=f.CapJoinStyles[L];if(G===void 0)throw new Error("Line join style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return _p=G,ce(G+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(L){if(L=L||0,isNaN(L))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ce(E(D(L))+" M"),this},f.GState=vF,f.setGState=function(L){(L=typeof L=="string"?Jt[Cn[L]]:Ju(null,L)).equals(Bn)||(ce("/"+L.id+" gs"),Bn=L)};var Ju=function(L,G){if(!L||!Cn[L]){var de=!1;for(var Ee in Jt)if(Jt.hasOwnProperty(Ee)&&Jt[Ee].equals(G)){de=!0;break}if(de)G=Jt[Ee];else{var Ie="GS"+(Object.keys(Jt).length+1).toString(10);Jt[Ie]=G,G.id=Ie}return L&&(Cn[L]=G.id),br.publish("addGState",G),G}};f.addGState=function(L,G){return Ju(L,G),this},f.saveGraphicsState=function(){return ce("q"),en.push({key:vt,size:He,color:il}),this},f.restoreGraphicsState=function(){ce("Q");var L=en.pop();return vt=L.key,He=L.size,il=L.color,Bn=null,this},f.setCurrentTransformationMatrix=function(L){return ce(L.toString()+" cm"),this},f.comment=function(L){return ce("#"+L),this};var Mc=function(L,G){var de=L||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return de},set:function(Ke){isNaN(Ke)||(de=parseFloat(Ke))}});var Ee=G||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ee},set:function(Ke){isNaN(Ke)||(Ee=parseFloat(Ke))}});var Ie="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ie},set:function(Ke){Ie=Ke.toString()}}),this},jf=function(L,G,de,Ee){Mc.call(this,L,G),this.type="rect";var Ie=de||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ie},set:function(Xe){isNaN(Xe)||(Ie=parseFloat(Xe))}});var Ke=Ee||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ke},set:function(Xe){isNaN(Xe)||(Ke=parseFloat(Xe))}}),this},Zu=function(){this.page=Kr,this.currentPage=O,this.pages=Fe.slice(0),this.pagesContext=Wt.slice(0),this.x=ct,this.y=jt,this.matrix=Qt,this.width=Lo(O),this.height=VA(O),this.outputDestination=We,this.id="",this.objectNumber=-1};Zu.prototype.restore=function(){Kr=this.page,O=this.currentPage,Wt=this.pagesContext,Fe=this.pages,ct=this.x,jt=this.y,Qt=this.matrix,bp(O,this.width),to(O,this.height),We=this.outputDestination};var Oc=function(L,G,de,Ee,Ie){Fs.push(new Zu),Kr=O=0,Fe=[],ct=L,jt=G,Qt=Ie,nn([de,Ee])};for(var Qc in f.beginFormObject=function(L,G,de,Ee,Ie){return Oc(L,G,de,Ee,Ie),this},f.endFormObject=function(L){return function(G){if(Bo[G])Fs.pop().restore();else{var de=new Zu,Ee="Xo"+(Object.keys(Ai).length+1).toString(10);de.id=Ee,Bo[G]=Ee,Ai[Ee]=de,br.publish("addFormObject",de),Fs.pop().restore()}}(L),this},f.doFormObject=function(L,G){var de=Ai[Bo[L]];return ce("q"),ce(G.toString()+" cm"),ce("/"+de.id+" Do"),ce("Q"),this},f.getFormObject=function(L){var G=Ai[Bo[L]];return{x:G.x,y:G.y,width:G.width,height:G.height,matrix:G.matrix}},f.save=function(L,G){return L=L||"generated.pdf",(G=G||{}).returnPromise=G.returnPromise||!1,G.returnPromise===!1?(zp(Rc(OA()),L),typeof zp.unload=="function"&&rr.setTimeout&&setTimeout(zp.unload,911),this):new Promise(function(de,Ee){try{var Ie=zp(Rc(OA()),L);typeof zp.unload=="function"&&rr.setTimeout&&setTimeout(zp.unload,911),de(Ie)}catch(Ke){Ee(Ke.message)}})},Vt.API)Vt.API.hasOwnProperty(Qc)&&(Qc==="events"&&Vt.API.events.length?function(L,G){var de,Ee,Ie;for(Ie=G.length-1;Ie!==-1;Ie--)de=G[Ie][0],Ee=G[Ie][1],L.subscribe.apply(L,[de].concat(typeof Ee=="function"?[Ee]:Ee))}(br,Vt.API.events):f[Qc]=Vt.API[Qc]);function Lo(L){return Wt[L].mediaBox.topRightX-Wt[L].mediaBox.bottomLeftX}function bp(L,G){Wt[L].mediaBox.topRightX=G+Wt[L].mediaBox.bottomLeftX}function VA(L){return Wt[L].mediaBox.topRightY-Wt[L].mediaBox.bottomLeftY}function to(L,G){Wt[L].mediaBox.topRightY=G+Wt[L].mediaBox.bottomLeftY}var Ep=f.getPageWidth=function(L){return Lo(L=L||O)/at},Kf=f.setPageWidth=function(L,G){bp(L,G*at)},eA=f.getPageHeight=function(L){return VA(L=L||O)/at},Cp=f.setPageHeight=function(L,G){to(L,G*at)};return f.internal={pdfEscape:gr,getStyle:qu,getFont:Jl,getFontSize:nt,getCharSpace:xp,getTextColor:Zl,getLineHeight:Ky,getLineHeightFactor:Wy,getLineWidth:Zt,write:qe,getHorizontalCoordinate:Is,getVerticalCoordinate:QA,getCoordinateString:Gy,getVerticalCoordinateString:Hf,collections:{},newObject:Nn,newAdditionalObject:ge,newObjectDeferred:_i,newObjectDeferredBegin:Y,getFilters:Pe,putStream:Qe,events:br,scaleFactor:at,pageSize:{getWidth:function(){return Ep(O)},setWidth:function(L){Kf(O,L)},getHeight:function(){return eA(O)},setHeight:function(L){Cp(O,L)}},encryptionOptions:c,encryption:ln,getEncryptor:function(L){return c!==null?ln.encryptor(L,0):function(G){return G}},output:Fo,getNumberOfPages:Za,pages:Fe,out:ce,f2:T,f3:F,getPageInfo:eo,getPageInfoByObjId:Mf,getCurrentPageInfo:Of,getPDFVersion:p,Point:Mc,Rectangle:jf,Matrix:Kt,hasHotfix:$u},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Ep(O)},set:function(L){Kf(O,L)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return eA(O)},set:function(L){Cp(O,L)},enumerable:!0,configurable:!0}),(function(L){for(var G=0,de=$e.length;G<de;G++){var Ee=Yr.call(this,L[G][0],L[G][1],L[G][2],$e[G][3],!0);u===!1&&(h[Ee]=!0);var Ie=L[G][0].split("-");$t({id:Ee,fontName:Ie[0],fontStyle:Ie[1]||""})}br.publish("addFonts",{fonts:wt,dictionary:Yt})}).call(f,$e),vt="F1",To(i,t),br.publish("initialized"),f}z1.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},z1.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},z1.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},z1.prototype.processOwnerPassword=function(r,e){return _D(xD(e).substr(0,5),r)},z1.prototype.encryptor=function(r,e){var t=xD(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return _D(t,n)}},vF.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||pn(r)!==pn(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;n++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},Vt.API={events:[]},Vt.version="3.0.3";var Ii=Vt.API,CM=1,A1=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},T1=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ar=function(r){return r.toFixed(2)},ld=function(r){return r.toFixed(5)};Ii.__acroform__={};var tl=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},MV=function(r){return r*CM},Zc=function(r){var e=new Eee,t=Pt.internal.getHeight(r)||0,n=Pt.internal.getWidth(r)||0;return e.BBox=[0,0,Number(ar(n)),Number(ar(t))],e},QIe=Ii.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<e},HIe=Ii.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<e)},VIe=Ii.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},qi=Ii.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return VIe(r,e-1)},Xi=Ii.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return QIe(r,e-1)},Yi=Ii.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return HIe(r,e-1)},jIe=Ii.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=r[0],s=r[1],a=r[2],o=r[3],l={};return l.lowerLeft_X=t(i)||0,l.lowerLeft_Y=n(s+o)||0,l.upperRight_X=t(i+a)||0,l.upperRight_Y=n(s)||0,[Number(ar(l.lowerLeft_X)),Number(ar(l.lowerLeft_Y)),Number(ar(l.upperRight_X)),Number(ar(l.upperRight_Y))]},KIe=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,n=bD(r,t),i=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+i+" "+ar(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Zc(r);return s.scope=r.scope,s.stream=e.join(`
`),s}},bD=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=r.multiline?i.map(function(T){return T.split(`
`)}):i.map(function(T){return[T]});var s=t,a=Pt.internal.getHeight(r)||0;a=a<0?-a:a;var o=Pt.internal.getWidth(r)||0;o=o<0?-o:o;var l=function(T,F,D){if(T+1<i.length){var q=F+" "+i[T+1][0];return mS(q,r,D).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var A,c,u=mS("3",r,s).height,h=r.multiline?a-s:(a-u)/2,f=h+=2,g=0,p=0,v=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+mS(e,r,s=12).width+", FieldWidth:"+o+`
`;break}for(var m="",x=0,_=0;_<i.length;_++)if(i.hasOwnProperty(_)){var S=!1;if(i[_].length!==1&&v!==i[_].length-1){if((u+2)*(x+2)+2>a)continue e;m+=i[_][v],S=!0,p=_,_--}else{m=(m+=i[_][v]+" ").substr(m.length-1)==" "?m.substr(0,m.length-1):m;var k=parseInt(_),R=l(k,m,s),B=_>=i.length-1;if(R&&!B){m+=" ",v=0;continue}if(R||B){if(B)p=k;else if(r.multiline&&(u+2)*(x+2)+2>a)continue e}else{if(!r.multiline||(u+2)*(x+2)+2>a)continue e;p=k}}for(var E="",b=g;b<=p;b++){var I=i[b];if(r.multiline){if(b===p){E+=I[v]+" ",v=(v+1)%I.length;continue}if(b===g){E+=I[I.length-1]+" ";continue}}E+=I[0]+" "}switch(E=E.substr(E.length-1)==" "?E.substr(0,E.length-1):E,c=mS(E,r,s).width,r.textAlign){case"right":A=o-c-2;break;case"center":A=(o-c)/2;break;default:A=2}e+=ar(A)+" "+ar(f)+` Td
`,e+="("+A1(E)+`) Tj
`,e+=-ar(A)+` 0 Td
`,f=-(s+2),c=0,g=S?p:p+1,x++,m=""}break}return n.text=e,n.fontSize=s,n},mS=function(r,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},zIe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},WIe=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},GIe=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(Lc.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(zIe)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");CM=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new Cee,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&WIe(s,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(n,i){var s=!n;for(var a in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var o=n[a],l=[],A=o.Rect;if(o.Rect&&(o.Rect=jIe(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Pt.createDefaultAppearanceStream(o),pn(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=A,o.hasAppearanceStream&&!o.appearanceStreamContent){var c=KIe(o);l.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(o.appearanceStreamContent){var u="";for(var h in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(h)){var f=o.appearanceStreamContent[h];if(u+="/"+h+" ",u+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var a in f)if(f.hasOwnProperty(a)){var g=f[a];typeof g=="function"&&(g=g.call(i,o)),u+="/"+a+" "+g+" ",i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g)}}else typeof(g=f)=="function"&&(g=g.call(i,o)),u+="/"+a+" "+g,i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g);u+=">>"}l.push({key:"AP",value:`<<
`+u+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&function(p,v){for(var m in p)if(p.hasOwnProperty(m)){var x=m,_=p[m];v.internal.newObjectDeferredBegin(_.objId,!0),pn(_)==="object"&&typeof _.putStream=="function"&&_.putStream(),delete p[x]}}(i.internal.acroformPlugin.xForms,i)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},bee=Ii.__acroform__.arrayToPdfArray=function(r,e,t){var n=function(a){return a};if(Array.isArray(r)){for(var i="[",s=0;s<r.length;s++)switch(s!==0&&(i+=" "),pn(r[s])){case"boolean":case"number":case"object":i+=r[s].toString();break;case"string":r[s].substr(0,1)!=="/"?(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),i+="("+A1(n(r[s].toString()))+")"):i+=r[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},d3=function(r,e,t){var n=function(i){return i};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(r=r||"").toString(),"("+A1(n(r))+")"},Tu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Tu.prototype.toString=function(){return this.objId+" 0 R"},Tu.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},Tu.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],i=this[n];i&&(Array.isArray(i)?r.push({key:n,value:bee(i,this.objId,this.scope)}):i instanceof Tu?(i.scope=this.scope,r.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&r.push({key:n,value:i}))}return r};var Eee=function(){Tu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};tl(Eee,Tu);var Cee=function(){Tu.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+A1(t(r))+")"}},set:function(t){r=t}})};tl(Cee,Tu);var Lc=function r(){Tu.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute F supplied.');e=m}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!qi(e,3)},set:function(m){m?this.F=Xi(e,3):this.F=Yi(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute Ff supplied.');t=m}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(m){n=m!==void 0?m:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(m){n[0]=m}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(m){n[1]=m}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(m){n[2]=m}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(m){n[3]=m}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(m){switch(m){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=m;break;default:throw new Error('Invalid value "'+m+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof wF)return;s="FieldObject"+r.FieldNum++}var m=function(x){return x};return this.scope&&(m=this.scope.internal.getEncryptor(this.objId)),"("+A1(m(s))+")"},set:function(m){s=m.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(m){s=m}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(m){a=m}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(m){o=m}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(m){l=m}});var A=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return A===void 0?50/CM:A},set:function(m){A=m}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(m){c=m}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof wF||this instanceof Tm))return d3(u,this.objId,this.scope)},set:function(m){m=m.toString(),u=m}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Vs==0?d3(h,this.objId,this.scope):h},set:function(m){m=m.toString(),h=this instanceof Vs==0?m.substr(0,1)==="("?T1(m.substr(1,m.length-2)):T1(m):m}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Vs==1?T1(h.substr(1,h.length-1)):h},set:function(m){m=m.toString(),h=this instanceof Vs==1?"/"+m:m}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(m){this.V=m}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Vs==0?d3(f,this.objId,this.scope):f},set:function(m){m=m.toString(),f=this instanceof Vs==0?m.substr(0,1)==="("?T1(m.substr(1,m.length-2)):T1(m):m}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Vs==1?T1(f.substr(1,f.length-1)):f},set:function(m){m=m.toString(),f=this instanceof Vs==1?"/"+m:m}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,p=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return p},set:function(m){m=!!m,p=m}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(m){g=m}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,1)},set:function(m){m?this.Ff=Xi(this.Ff,1):this.Ff=Yi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,2)},set:function(m){m?this.Ff=Xi(this.Ff,2):this.Ff=Yi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,3)},set:function(m){m?this.Ff=Xi(this.Ff,3):this.Ff=Yi(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(m){if([0,1,2].indexOf(m)===-1)throw new Error('Invalid value "'+m+'" for attribute Q supplied.');v=m}}),Object.defineProperty(this,"textAlign",{get:function(){var m;switch(v){case 0:default:m="left";break;case 1:m="center";break;case 2:m="right"}return m},configurable:!0,enumerable:!0,set:function(m){switch(m){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};tl(Lc,Tu);var kv=function(){Lc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return bee(e,this.objId,this.scope)},set:function(t){var n,i;i=[],typeof(n=t)=="string"&&(i=function(s,a,o){o||(o=1);for(var l,A=[];l=a.exec(s);)A.push(l[o]);return A}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,18)},set:function(t){t?this.Ff=Xi(this.Ff,18):this.Ff=Yi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Xi(this.Ff,19):this.Ff=Yi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,20)},set:function(t){t?(this.Ff=Xi(this.Ff,20),e.sort()):this.Ff=Yi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,22)},set:function(t){t?this.Ff=Xi(this.Ff,22):this.Ff=Yi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,23)},set:function(t){t?this.Ff=Xi(this.Ff,23):this.Ff=Yi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,27)},set:function(t){t?this.Ff=Xi(this.Ff,27):this.Ff=Yi(this.Ff,27)}}),this.hasAppearanceStream=!1};tl(kv,Lc);var Lv=function(){kv.call(this),this.fontName="helvetica",this.combo=!1};tl(Lv,kv);var Pv=function(){Lv.call(this),this.combo=!0};tl(Pv,Lv);var D5=function(){Pv.call(this),this.edit=!0};tl(D5,Pv);var Vs=function(){Lc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,15)},set:function(t){t?this.Ff=Xi(this.Ff,15):this.Ff=Yi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,16)},set:function(t){t?this.Ff=Xi(this.Ff,16):this.Ff=Yi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,17)},set:function(t){t?this.Ff=Xi(this.Ff,17):this.Ff=Yi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,26)},set:function(t){t?this.Ff=Xi(this.Ff,26):this.Ff=Yi(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+A1(t(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){pn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};tl(Vs,Lc);var N5=function(){Vs.call(this),this.pushButton=!0};tl(N5,Vs);var Rv=function(){Vs.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};tl(Rv,Vs);var wF=function(){var r,e;Lc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),n)a.push("/"+s+" ("+A1(i(n[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){pn(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Pt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};tl(wF,Lc),Rv.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},Rv.prototype.createOption=function(r){var e=new wF;return e.Parent=this,e.optionName=r,this.Kids.push(e),$Ie.call(this.scope,e),e};var U5=function(){Vs.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Pt.CheckBox.createAppearanceStream()};tl(U5,Vs);var Tm=function(){Lc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,13)},set:function(e){e?this.Ff=Xi(this.Ff,13):this.Ff=Yi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,21)},set:function(e){e?this.Ff=Xi(this.Ff,21):this.Ff=Yi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,23)},set:function(e){e?this.Ff=Xi(this.Ff,23):this.Ff=Yi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,24)},set:function(e){e?this.Ff=Xi(this.Ff,24):this.Ff=Yi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,25)},set:function(e){e?this.Ff=Xi(this.Ff,25):this.Ff=Yi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,26)},set:function(e){e?this.Ff=Xi(this.Ff,26):this.Ff=Yi(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};tl(Tm,Lc);var M5=function(){Tm.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,14)},set:function(r){r?this.Ff=Xi(this.Ff,14):this.Ff=Yi(this.Ff,14)}}),this.password=!0};tl(M5,Tm);var Pt={CheckBox:{createAppearanceStream:function(){return{N:{On:Pt.CheckBox.YesNormal},D:{On:Pt.CheckBox.YesPushDown,Off:Pt.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=Zc(r);e.scope=r.scope;var t=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,i=r.scope.__private__.encodeColorString(r.color),s=bD(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+ar(Pt.internal.getWidth(r))+" "+ar(Pt.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+ar(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=Zc(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),i=[],s=Pt.internal.getHeight(r),a=Pt.internal.getWidth(r),o=bD(r,r.caption);return i.push("1 g"),i.push("0 0 "+ar(a)+" "+ar(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+ar(a-1)+" "+ar(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+ar(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(r){var e=Zc(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+ar(Pt.internal.getWidth(r))+" "+ar(Pt.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:Pt.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=Pt.RadioButton.Circle.YesNormal,e.D[r]=Pt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=Zc(r);e.scope=r.scope;var t=[],n=Pt.internal.getWidth(r)<=Pt.internal.getHeight(r)?Pt.internal.getWidth(r)/4:Pt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Pt.internal.Bezier_C,s=Number((n*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+ld(Pt.internal.getWidth(r)/2)+" "+ld(Pt.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),t.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),t.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),t.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=Zc(r);e.scope=r.scope;var t=[],n=Pt.internal.getWidth(r)<=Pt.internal.getHeight(r)?Pt.internal.getWidth(r)/4:Pt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Pt.internal.Bezier_C).toFixed(5)),a=Number((n*Pt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+ld(Pt.internal.getWidth(r)/2)+" "+ld(Pt.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+ld(Pt.internal.getWidth(r)/2)+" "+ld(Pt.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),t.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),t.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),t.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=Zc(r);e.scope=r.scope;var t=[],n=Pt.internal.getWidth(r)<=Pt.internal.getHeight(r)?Pt.internal.getWidth(r)/4:Pt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Pt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+ld(Pt.internal.getWidth(r)/2)+" "+ld(Pt.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:Pt.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=Pt.RadioButton.Cross.YesNormal,e.D[r]=Pt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=Zc(r);e.scope=r.scope;var t=[],n=Pt.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+ar(Pt.internal.getWidth(r)-2)+" "+ar(Pt.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(ar(n.x1.x)+" "+ar(n.x1.y)+" m"),t.push(ar(n.x2.x)+" "+ar(n.x2.y)+" l"),t.push(ar(n.x4.x)+" "+ar(n.x4.y)+" m"),t.push(ar(n.x3.x)+" "+ar(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=Zc(r);e.scope=r.scope;var t=Pt.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+ar(Pt.internal.getWidth(r))+" "+ar(Pt.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+ar(Pt.internal.getWidth(r)-2)+" "+ar(Pt.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(ar(t.x1.x)+" "+ar(t.x1.y)+" m"),n.push(ar(t.x2.x)+" "+ar(t.x2.y)+" l"),n.push(ar(t.x4.x)+" "+ar(t.x4.y)+" m"),n.push(ar(t.x3.x)+" "+ar(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(r){var e=Zc(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+ar(Pt.internal.getWidth(r))+" "+ar(Pt.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};Pt.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=Pt.internal.getWidth(r),t=Pt.internal.getHeight(r),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},Pt.internal.getWidth=function(r){var e=0;return pn(r)==="object"&&(e=MV(r.Rect[2])),e},Pt.internal.getHeight=function(r){var e=0;return pn(r)==="object"&&(e=MV(r.Rect[3])),e};var $Ie=Ii.addField=function(r){if(GIe(this,r),!(r instanceof Lc))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};Ii.AcroFormChoiceField=kv,Ii.AcroFormListBox=Lv,Ii.AcroFormComboBox=Pv,Ii.AcroFormEditBox=D5,Ii.AcroFormButton=Vs,Ii.AcroFormPushButton=N5,Ii.AcroFormRadioButton=Rv,Ii.AcroFormCheckBox=U5,Ii.AcroFormTextField=Tm,Ii.AcroFormPasswordField=M5,Ii.AcroFormAppearance=Pt,Ii.AcroForm={ChoiceField:kv,ListBox:Lv,ComboBox:Pv,EditBox:D5,Button:Vs,PushButton:N5,RadioButton:Rv,CheckBox:U5,TextField:Tm,PasswordField:M5,Appearance:Pt},Vt.AcroForm={ChoiceField:kv,ListBox:Lv,ComboBox:Pv,EditBox:D5,Button:Vs,PushButton:N5,RadioButton:Rv,CheckBox:U5,TextField:Tm,PasswordField:M5,Appearance:Pt};Vt.AcroForm;function Bee(r){return r.reduce(function(e,t,n){return e[t]=n,e},{})}(function(r){var e="addImage_";r.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=r.__addimage__.getImageFileTypeByImageData=function(T,F){var D,q,ie,oe,te,re=t;if((F=F||t)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(R(T))for(te in n)for(ie=n[te],D=0;D<ie.length;D+=1){for(oe=!0,q=0;q<ie[D].length;q+=1)if(ie[D][q]!==void 0&&ie[D][q]!==T[q]){oe=!1;break}if(oe===!0){re=te;break}}else for(te in n)for(ie=n[te],D=0;D<ie.length;D+=1){for(oe=!0,q=0;q<ie[D].length;q+=1)if(ie[D][q]!==void 0&&ie[D][q]!==T.charCodeAt(q)){oe=!1;break}if(oe===!0){re=te;break}}return re===t&&F!==t&&(re=F),re},s=function T(F){for(var D=this.internal.write,q=this.internal.putStream,ie=(0,this.internal.getFilters)();ie.indexOf("FlateEncode")!==-1;)ie.splice(ie.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var oe=[];if(oe.push({key:"Type",value:"/XObject"}),oe.push({key:"Subtype",value:"/Image"}),oe.push({key:"Width",value:F.width}),oe.push({key:"Height",value:F.height}),F.colorSpace===m.INDEXED?oe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(oe.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===m.DEVICE_CMYK&&oe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),oe.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&oe.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)&&F.transparency.length>0){for(var te="",re=0,W=F.transparency.length;re<W;re++)te+=F.transparency[re]+" "+F.transparency[re]+" ";oe.push({key:"Mask",value:"["+te+"]"})}F.sMask!==void 0&&oe.push({key:"SMask",value:F.objectId+1+" 0 R"});var pe=F.filter!==void 0?["/"+F.filter]:void 0;if(q({data:F.data,additionalKeyValues:oe,alreadyAppliedFilters:pe,objectId:F.objectId}),D("endobj"),"sMask"in F&&F.sMask!==void 0){var _e,P=(_e=F.sMaskBitsPerComponent)!==null&&_e!==void 0?_e:F.bitsPerComponent,O={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:P,data:F.sMask};"filter"in F&&(O.decodeParameters="/Predictor ".concat(F.predictor," /Colors 1 /BitsPerComponent ").concat(P," /Columns ").concat(F.width),O.filter=F.filter),T.call(this,O)}if(F.colorSpace===m.INDEXED){var H=this.internal.newObject();q({data:E(new Uint8Array(F.palette)),objectId:H}),D("endobj")}},a=function(){var T=this.internal.collections[e+"images"];for(var F in T)s.call(this,T[F])},o=function(){var T,F=this.internal.collections[e+"images"],D=this.internal.write;for(var q in F)D("/I"+(T=F[q]).index,T.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},A=function(){var T=this.internal.collections[e+"images"];return l.call(this),T},c=function(){return Object.keys(this.internal.collections[e+"images"]).length},u=function(T){return typeof r["process"+T.toUpperCase()]=="function"},h=function(T){return pn(T)==="object"&&T.nodeType===1},f=function(T,F){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var D=""+T.getAttribute("src");if(D.indexOf("data:image/")===0)return R5(unescape(D).split("base64,").pop());var q=r.loadFile(D,!0);if(q!==void 0)return q}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var ie;switch(F){case"PNG":ie="image/png";break;case"WEBP":ie="image/webp";break;default:ie="image/jpeg"}return R5(T.toDataURL(ie,1).split("base64,").pop())}},g=function(T){var F=this.internal.collections[e+"images"];if(F){for(var D in F)if(T===F[D].alias)return F[D]}},p=function(T,F,D){return T||F||(T=-96,F=-96),T<0&&(T=-1*D.width*72/T/this.internal.scaleFactor),F<0&&(F=-1*D.height*72/F/this.internal.scaleFactor),T===0&&(T=F*D.width/D.height),F===0&&(F=T*D.height/D.width),[T,F]},v=function(T,F,D,q,ie,oe){var te=p.call(this,D,q,ie),re=this.internal.getCoordinateString,W=this.internal.getVerticalCoordinateString,pe=A.call(this);if(D=te[0],q=te[1],pe[ie.index]=ie,oe){oe*=Math.PI/180;var _e=Math.cos(oe),P=Math.sin(oe),O=function(K){return K.toFixed(4)},H=[O(_e),O(P),O(-1*P),O(_e),0,0,"cm"]}this.internal.write("q"),oe?(this.internal.write([1,"0","0",1,re(T),W(F+q),"cm"].join(" ")),this.internal.write(H.join(" ")),this.internal.write([re(D),"0","0",re(q),"0","0","cm"].join(" "))):this.internal.write([re(D),"0","0",re(q),re(T),W(F+q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ie.index+" Do"),this.internal.write("Q")},m=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=r.__addimage__.sHashCode=function(T){var F,D,q=0;if(typeof T=="string")for(D=T.length,F=0;F<D;F++)q=(q<<5)-q+T.charCodeAt(F),q|=0;else if(R(T))for(D=T.byteLength/2,F=0;F<D;F++)q=(q<<5)-q+T[F],q|=0;return q},S=r.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var F=!0;return T.length===0&&(F=!1),T.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(F=!1),F},k=r.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var F=T.indexOf(",");return F<0?null:T.substring(0,F).trim().endsWith("base64")?T.substring(F+1):null};r.__addimage__.isArrayBuffer=function(T){return T instanceof ArrayBuffer};var R=r.__addimage__.isArrayBufferView=function(T){return T instanceof Int8Array||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array},B=r.__addimage__.binaryStringToUint8Array=function(T){for(var F=T.length,D=new Uint8Array(F),q=0;q<F;q++)D[q]=T.charCodeAt(q);return D},E=r.__addimage__.arrayBufferToBinaryString=function(T){for(var F="",D=R(T)?T:new Uint8Array(T),q=0;q<D.length;q+=8192)F+=String.fromCharCode.apply(null,D.subarray(q,q+8192));return F};r.addImage=function(){var T,F,D,q,ie,oe,te,re,W;if(typeof arguments[1]=="number"?(F=t,D=arguments[1],q=arguments[2],ie=arguments[3],oe=arguments[4],te=arguments[5],re=arguments[6],W=arguments[7]):(F=arguments[1],D=arguments[2],q=arguments[3],ie=arguments[4],oe=arguments[5],te=arguments[6],re=arguments[7],W=arguments[8]),pn(T=arguments[0])==="object"&&!h(T)&&"imageData"in T){var pe=T;T=pe.imageData,F=pe.format||F||t,D=pe.x||D||0,q=pe.y||q||0,ie=pe.w||pe.width||ie,oe=pe.h||pe.height||oe,te=pe.alias||te,re=pe.compression||re,W=pe.rotation||pe.angle||W}var _e=this.internal.getFilters();if(re===void 0&&_e.indexOf("FlateEncode")!==-1&&(re="SLOW"),isNaN(D)||isNaN(q))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var P=b.call(this,T,F,te,re);return v.call(this,D,q,ie,oe,P,W),this};var b=function(T,F,D,q){var ie,oe,te;if(typeof T=="string"&&i(T)===t){T=unescape(T);var re=I(T,!1);(re!==""||(re=r.loadFile(T,!0))!==void 0)&&(T=re)}if(h(T)&&(T=f(T,F)),F=i(T,F),!u(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((te=D)==null||te.length===0)&&(D=function(W){return typeof W=="string"||R(W)?_(W):R(W.data)?_(W.data):null}(T)),(ie=g.call(this,D))||(T instanceof Uint8Array||F==="RGBA"||(oe=T,T=B(T)),ie=this["process"+F.toUpperCase()](T,c.call(this),D,function(W){return W&&typeof W=="string"&&(W=W.toUpperCase()),W in r.image_compression?W:x.NONE}(q),oe)),!ie)throw new Error("An unknown error occurred whilst processing the image.");return ie},I=r.__addimage__.convertBase64ToBinaryString=function(T,F){F=typeof F!="boolean"||F;var D,q="";if(typeof T=="string"){var ie;D=(ie=k(T))!==null&&ie!==void 0?ie:T;try{q=R5(D)}catch(oe){if(F)throw S(D)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+oe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return q};r.getImageProperties=function(T){var F,D,q="";if(h(T)&&(T=f(T)),typeof T=="string"&&i(T)===t&&((q=I(T,!1))===""&&(q=r.loadFile(T)||""),T=q),D=i(T),!u(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(T instanceof Uint8Array||(T=B(T)),!(F=this["process"+D.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=D,F}})(Vt.API),function(r){var e=function(t){if(t!==void 0&&t!="")return!0};Vt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var n,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(t.objId),A=t.pageContext.annotations,c=!1,u=0;u<A.length&&!c;u++)switch((n=A[u]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var h=0;h<A.length;h++){n=A[h];var f=this.internal.pdfEscape,g=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var p=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),m=this.internal.getEncryptor(p.objId),x=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+f(m(n.contents))+")",s+=" /Popup "+v.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+f(m(x))+") >>",p.content=s;var _=p.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+_,n.open&&(s+=" /Open true"),s+=" >>",v.content=s,this.internal.write(p.objId,"0 R",v.objId,"0 R");break;case"freetext":i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var S=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(g(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+S+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var k=this.annotations._nameMap[n.options.name];n.options.pageNumber=k.page,n.options.top=k.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var R=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+R+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},r.link=function(t,n,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,A=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(t),y:A(n),w:l(t+i),h:A(n+s)},options:a,type:"link"})},r.textWithLink=function(t,n,i,s){var a,o,l=this.getTextWidth(t),A=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var c=this.splitTextToSize(t,o).length;a=Math.ceil(A*c)}else o=l,a=A;return this.text(t,n,i,s),i+=.2*A,s.align==="center"&&(n-=l/2),s.align==="right"&&(n-=l),this.link(n,i-A,o,a,s),l},r.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}}(Vt.API),function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];r.__arabicParser__={};var s=r.__arabicParser__.isInArabicSubstitutionA=function(p){return e[p.charCodeAt(0)]!==void 0},a=r.__arabicParser__.isArabicLetter=function(p){return typeof p=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(p)},o=r.__arabicParser__.isArabicEndLetter=function(p){return a(p)&&s(p)&&e[p.charCodeAt(0)].length<=2},l=r.__arabicParser__.isArabicAlfLetter=function(p){return a(p)&&i.indexOf(p.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(p){return a(p)&&s(p)&&e[p.charCodeAt(0)].length>=1};var A=r.__arabicParser__.arabicLetterHasFinalForm=function(p){return a(p)&&s(p)&&e[p.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(p){return a(p)&&s(p)&&e[p.charCodeAt(0)].length>=3};var c=r.__arabicParser__.arabicLetterHasMedialForm=function(p){return a(p)&&s(p)&&e[p.charCodeAt(0)].length==4},u=r.__arabicParser__.resolveLigatures=function(p){var v=0,m=t,x="",_=0;for(v=0;v<p.length;v+=1)m[p.charCodeAt(v)]!==void 0?(_++,typeof(m=m[p.charCodeAt(v)])=="number"&&(x+=String.fromCharCode(m),m=t,_=0),v===p.length-1&&(m=t,x+=p.charAt(v-(_-1)),v-=_-1,_=0)):(m=t,x+=p.charAt(v-_),v-=_,_=0);return x};r.__arabicParser__.isArabicDiacritic=function(p){return p!==void 0&&n[p.charCodeAt(0)]!==void 0};var h=r.__arabicParser__.getCorrectForm=function(p,v,m){return a(p)?s(p)===!1?-1:!A(p)||!a(v)&&!a(m)||!a(m)&&o(v)||o(p)&&!a(v)||o(p)&&l(v)||o(p)&&o(v)?0:c(p)&&a(v)&&!o(v)&&a(m)&&A(m)?3:o(p)||!a(m)?1:2:-1},f=function(p){var v=0,m=0,x=0,_="",S="",k="",R=(p=p||"").split("\\s+"),B=[];for(v=0;v<R.length;v+=1){for(B.push(""),m=0;m<R[v].length;m+=1)_=R[v][m],S=R[v][m-1],k=R[v][m+1],a(_)?(x=h(_,S,k),B[v]+=x!==-1?String.fromCharCode(e[_.charCodeAt(0)][x]):_):B[v]+=_;B[v]=u(B[v])}return B.join(" ")},g=r.__arabicParser__.processArabic=r.processArabic=function(){var p,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,m=[];if(Array.isArray(v)){var x=0;for(m=[],x=0;x<v.length;x+=1)Array.isArray(v[x])?m.push([f(v[x][0]),v[x][1],v[x][2]]):m.push([f(v[x])]);p=m}else p=f(v);return typeof arguments[0]=="string"?p:(arguments[0].text=p,arguments[0])};r.events.push(["preProcessText",g])}(Vt.API),Vt.API.autoPrint=function(r){var e;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(o){t=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var i;if((t=t||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Vt.API),function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(p){l=p}});var A=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return A},set:function(p){A=p}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(p){c=p}});var u=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return u},set:function(p){u=p}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(p){h=p}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(p){f=p}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(p){g=p}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},r.getTextDimensions=function(l,A){n.call(this);var c=(A=A||{}).fontSize||this.getFontSize(),u=A.font||this.getFont(),h=A.scaleFactor||this.internal.scaleFactor,f=0,g=0,p=0,v=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var m=A.maxWidth;m>0?typeof l=="string"?l=this.splitTextToSize(l,m):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(_,S){return _.concat(v.splitTextToSize(S,m))},[])):l=Array.isArray(l)?l:[l];for(var x=0;x<l.length;x++)f<(p=this.getStringUnitWidth(l[x],{font:u})*c)&&(f=p);return f!==0&&(g=l.length),{w:f/=h,h:Math.max((g*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/h,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=r.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var A=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,u=this.internal.__cell__.margins||e,h=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return A.lineNumber!==void 0&&(A.lineNumber===l.lineNumber?(l.x=(A.x||0)+(A.width||0),l.y=A.y||0):A.y+A.height+l.height+u.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=u.top,f&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=A.y+A.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,t===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-c,l.y+c,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+c,{align:"center",baseline:"top",maxWidth:l.width-c-c}):this.text(l.text,l.x+c,l.y+c,{align:"left",baseline:"top",maxWidth:l.width-c-c})),this.internal.__cell__.lastCell=l,this};r.table=function(l,A,c,u,h){if(n.call(this),!c)throw new Error("No data for PDF table.");var f,g,p,v,m=[],x=[],_=[],S={},k={},R=[],B=[],E=(h=h||{}).autoSize||!1,b=h.printHeaders!==!1,I=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,T=h.margins||Object.assign({width:this.getPageWidth()},e),F=typeof h.padding=="number"?h.padding:3,D=h.headerBackgroundColor||"#c8c8c8",q=h.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=b,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=I,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=D,this.internal.__cell__.headerTextColor=q,this.setFontSize(I),u==null)x=m=Object.keys(c[0]),_=m.map(function(){return"left"});else if(Array.isArray(u)&&pn(u[0])==="object")for(m=u.map(function(pe){return pe.name}),x=u.map(function(pe){return pe.prompt||pe.name||""}),_=u.map(function(pe){return pe.align||"left"}),f=0;f<u.length;f+=1)k[u[f].name]=.7499990551181103*u[f].width;else Array.isArray(u)&&typeof u[0]=="string"&&(x=m=u,_=m.map(function(){return"left"}));if(E||Array.isArray(u)&&typeof u[0]=="string")for(f=0;f<m.length;f+=1){for(S[v=m[f]]=c.map(function(pe){return pe[v]}),this.setFont(void 0,"bold"),R.push(this.getTextDimensions(x[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=S[v],this.setFont(void 0,"normal"),p=0;p<g.length;p+=1)R.push(this.getTextDimensions(g[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);k[v]=Math.max.apply(null,R)+F+F,R=[]}if(b){var ie={};for(f=0;f<m.length;f+=1)ie[m[f]]={},ie[m[f]].text=x[f],ie[m[f]].align=_[f];var oe=o.call(this,ie,k);B=m.map(function(pe){return new s(l,A,k[pe],oe,ie[pe].text,void 0,ie[pe].align)}),this.setTableHeaderRow(B),this.printHeaderRow(1,!1)}var te=u.reduce(function(pe,_e){return pe[_e.name]=_e.align,pe},{});for(f=0;f<c.length;f+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:f,data:c[f]},this);var re=o.call(this,c[f],k);for(p=0;p<m.length;p+=1){var W=c[f][m[p]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:f,col:p,data:W},this),a.call(this,new s(l,A,k[m[p]],re,W,f+2,te[m[p]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=A,this};var o=function(l,A){var c=this.internal.__cell__.padding,u=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(f){var g=l[f];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,A[f]-c-c)},this).map(function(f){return this.getLineHeightFactor()*f.length*u/h+c+c},this).reduce(function(f,g){return Math.max(f,g)},0)};r.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},r.printHeaderRow=function(l,A){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var u=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(u[0],u[1],u[2],u[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){c=this.internal.__cell__.tableHeaderRow[f].clone(),A&&(c.y=this.internal.__cell__.margins.top||0,h.push(c)),c.lineNumber=l;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,c),this.setTextColor(g)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),t=!1}}(Vt.API);var See={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Tee=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],ED=Bee(Tee),Fee=[100,200,300,400,500,600,700,800,900],qIe=Bee(Fee);function p3(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=function(s){return See[s=s||"normal"]?s:"normal"}(r.style),n=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(r.weight),i=function(s){return typeof ED[s=s||"normal"]=="number"?s:"normal"}(r.stretch);return{family:e,style:t,weight:n,stretch:i,src:r.src||[],ref:r.ref||{name:e,style:[i,t,n].join(" ")}}}function OV(r,e,t,n){var i;for(i=t;i>=0&&i<e.length;i+=n)if(r[e[i]])return r[e[i]];for(i=t;i>=0&&i<e.length;i-=n)if(r[e[i]])return r[e[i]]}var XIe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},QV={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function HV(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function VV(r){return r.trimLeft()}function YIe(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function JIe(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var vS,jV,KV,F1,wS,zV,WV,GV,g3=["times"];function $V(r,e,t,n,i){var s=4,a=XV;switch(i){case Vt.API.image_compression.FAST:s=1,a=qV;break;case Vt.API.image_compression.MEDIUM:s=6,a=YV;break;case Vt.API.image_compression.SLOW:s=9,a=JV}r=function(l,A,c,u){for(var h,f=l.length/A,g=new Uint8Array(l.length+f),p=[ZIe,qV,XV,YV,JV],v=0;v<f;v+=1){var m=v*A,x=l.subarray(m,m+A);if(u)g.set(u(x,c,h),m+v);else{for(var _=p.length,S=[],k=0;k<_;k+=1)S[k]=p[k](x,c,h);var R=tke(S.concat());g.set(S[R],m+v)}h=x}return g}(r,e,Math.ceil(t*n/8),a);var o=mD(r,{level:s});return Vt.API.__addimage__.arrayBufferToBinaryString(o)}function ZIe(r){var e=Array.apply([],r);return e.unshift(0),e}function qV(r,e){var t=r.length,n=[];n[0]=1;for(var i=0;i<t;i+=1){var s=r[i-e]||0;n[i+1]=r[i]-s+256&255}return n}function XV(r,e,t){var n=r.length,i=[];i[0]=2;for(var s=0;s<n;s+=1){var a=t&&t[s]||0;i[s+1]=r[s]-a+256&255}return i}function YV(r,e,t){var n=r.length,i=[];i[0]=3;for(var s=0;s<n;s+=1){var a=r[s-e]||0,o=t&&t[s]||0;i[s+1]=r[s]+256-(a+o>>>1)&255}return i}function JV(r,e,t){var n=r.length,i=[];i[0]=4;for(var s=0;s<n;s+=1){var a=eke(r[s-e]||0,t&&t[s]||0,t&&t[s-e]||0);i[s+1]=r[s]-a+256&255}return i}function eke(r,e,t){if(r===e&&e===t)return r;var n=Math.abs(e-t),i=Math.abs(r-t),s=Math.abs(r+e-t-t);return n<=i&&n<=s?r:i<=s?e:t}function tke(r){var e=r.map(function(t){return t.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function m3(r,e,t){var n=e*t,i=Math.floor(n/8),s=16-(n-8*i+t),a=(1<<t)-1;return Iee(r,i)>>s&a}function ZV(r,e,t,n){var i=t*n,s=Math.floor(i/8),a=16-(i-8*s+n),o=(1<<n)-1,l=(e&o)<<a;(function(A,c,u){if(c+1<A.byteLength)A.setUint16(c,u,!1);else{var h=u>>8&255;A.setUint8(c,h)}})(r,s,Iee(r,s)&~(o<<a)&65535|l)}function Iee(r,e){return e+1<r.byteLength?r.getUint16(e,!1):r.getUint8(e)<<8}function rke(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,n=r[e++]|r[e++]<<8,i=r[e++],s=i>>7,a=1<<1+(7&i);r[e++],r[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var A=!0,c=[],u=0,h=null,f=0,g=null;for(this.width=t,this.height=n;A&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,g=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((T=r[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var p=r[e++];u=r[e++]|r[e++]<<8,h=r[e++],1&p||(h=null),f=p>>2&7,e++;break;case 254:for(;;){if(!((T=r[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var v=r[e++]|r[e++]<<8,m=r[e++]|r[e++]<<8,x=r[e++]|r[e++]<<8,_=r[e++]|r[e++]<<8,S=r[e++],k=S>>6&1,R=1<<1+(7&S),B=o,E=l,b=!1;S>>7&&(b=!0,B=e,E=R,e+=3*R);var I=e;for(e++;;){var T;if(!((T=r[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}c.push({x:v,y:m,width:x,height:_,has_local_palette:b,palette_offset:B,palette_size:E,data_offset:I,data_length:e-I,transparent_index:h,interlaced:!!k,delay:u,disposal:f});break;case 59:A=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return g},this.frameInfo=function(F){if(F<0||F>=c.length)throw new Error("Frame index out of range.");return c[F]},this.decodeAndBlitFrameBGRA=function(F,D){var q=this.frameInfo(F),ie=q.width*q.height,oe=new Uint8Array(ie);ej(r,q.data_offset,oe,ie);var te=q.palette_offset,re=q.transparent_index;re===null&&(re=256);var W=q.width,pe=t-W,_e=W,P=4*(q.y*t+q.x),O=4*((q.y+q.height)*t+q.x),H=P,K=4*pe;q.interlaced===!0&&(K+=4*t*7);for(var Z=8,he=0,xe=oe.length;he<xe;++he){var ye=oe[he];if(_e===0&&(_e=W,(H+=K)>=O&&(K=4*pe+4*t*(Z-1),H=P+(W+pe)*(Z<<1),Z>>=1)),ye===re)H+=4;else{var be=r[te+3*ye],Fe=r[te+3*ye+1],ne=r[te+3*ye+2];D[H++]=ne,D[H++]=Fe,D[H++]=be,D[H++]=255}--_e}},this.decodeAndBlitFrameRGBA=function(F,D){var q=this.frameInfo(F),ie=q.width*q.height,oe=new Uint8Array(ie);ej(r,q.data_offset,oe,ie);var te=q.palette_offset,re=q.transparent_index;re===null&&(re=256);var W=q.width,pe=t-W,_e=W,P=4*(q.y*t+q.x),O=4*((q.y+q.height)*t+q.x),H=P,K=4*pe;q.interlaced===!0&&(K+=4*t*7);for(var Z=8,he=0,xe=oe.length;he<xe;++he){var ye=oe[he];if(_e===0&&(_e=W,(H+=K)>=O&&(K=4*pe+4*t*(Z-1),H=P+(W+pe)*(Z<<1),Z>>=1)),ye===re)H+=4;else{var be=r[te+3*ye],Fe=r[te+3*ye+1],ne=r[te+3*ye+2];D[H++]=be,D[H++]=Fe,D[H++]=ne,D[H++]=255}--_e}}}function ej(r,e,t,n){for(var i=r[e++],s=1<<i,a=s+1,o=a+1,l=i+1,A=(1<<l)-1,c=0,u=0,h=0,f=r[e++],g=new Int32Array(4096),p=null;;){for(;c<16&&f!==0;)u|=r[e++]<<c,c+=8,f===1?f=r[e++]:--f;if(c<l)break;var v=u&A;if(u>>=l,c-=l,v!==s){if(v===a)break;for(var m=v<o?v:p,x=0,_=m;_>s;)_=g[_]>>8,++x;var S=_;if(h+x+(m!==v?1:0)>n)return void Ln.log("Warning, gif stream longer than expected.");t[h++]=S;var k=h+=x;for(m!==v&&(t[h++]=S),_=m;x--;)_=g[_],t[--k]=255&_,_>>=8;p!==null&&o<4096&&(g[o++]=p<<8|S,o>=A+1&&l<12&&(++l,A=A<<1|1)),p=v}else o=a+1,A=(1<<(l=i+1))-1,p=null}return h!==n&&Ln.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function v3(r){var e,t,n,i,s,a=Math.floor,o=new Array(64),l=new Array(64),A=new Array(64),c=new Array(64),u=new Array(65535),h=new Array(65535),f=new Array(64),g=new Array(64),p=[],v=0,m=7,x=new Array(64),_=new Array(64),S=new Array(64),k=new Array(256),R=new Array(2048),B=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],b=[0,1,2,3,4,5,6,7,8,9,10,11],I=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ie=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function oe(P,O){for(var H=0,K=0,Z=new Array,he=1;he<=16;he++){for(var xe=1;xe<=P[he];xe++)Z[O[K]]=[],Z[O[K]][0]=H,Z[O[K]][1]=he,K++,H++;H*=2}return Z}function te(P){for(var O=P[0],H=P[1]-1;H>=0;)O&1<<H&&(v|=1<<m),H--,--m<0&&(v==255?(re(255),re(0)):re(v),m=7,v=0)}function re(P){p.push(P)}function W(P){re(P>>8&255),re(255&P)}function pe(P,O,H,K,Z){for(var he,xe=Z[0],ye=Z[240],be=function(He,ht){var nt,Nt,gt,Bt,bt,lt,Ft,mt,vt,at,ct=0;for(vt=0;vt<8;++vt){nt=He[ct],Nt=He[ct+1],gt=He[ct+2],Bt=He[ct+3],bt=He[ct+4],lt=He[ct+5],Ft=He[ct+6];var jt=nt+(mt=He[ct+7]),Qt=nt-mt,wt=Nt+Ft,Yt=Nt-Ft,en=gt+lt,zt=gt-lt,pr=Bt+bt,Jt=Bt-bt,Cn=jt+pr,Bn=jt-pr,Kr=wt+en,Wt=wt-en;He[ct]=Cn+Kr,He[ct+4]=Cn-Kr;var br=.707106781*(Wt+Bn);He[ct+2]=Bn+br,He[ct+6]=Bn-br;var Yl=.382683433*((Cn=Jt+zt)-(Wt=Yt+Qt)),Ai=.5411961*Cn+Yl,Bo=1.306562965*Wt+Yl,Fs=.707106781*(Kr=zt+Yt),Kt=Qt+Fs,Sn=Qt-Fs;He[ct+5]=Sn+Ai,He[ct+3]=Sn-Ai,He[ct+1]=Kt+Bo,He[ct+7]=Kt-Bo,ct+=8}for(ct=0,vt=0;vt<8;++vt){nt=He[ct],Nt=He[ct+8],gt=He[ct+16],Bt=He[ct+24],bt=He[ct+32],lt=He[ct+40],Ft=He[ct+48];var So=nt+(mt=He[ct+56]),xi=nt-mt,Zi=Nt+Ft,Nn=Nt-Ft,_i=gt+lt,Y=gt-lt,ge=Bt+bt,le=Bt-bt,ue=So+ge,fe=So-ge,we=Zi+_i,Pe=Zi-_i;He[ct]=ue+we,He[ct+32]=ue-we;var Qe=.707106781*(Pe+fe);He[ct+16]=fe+Qe,He[ct+48]=fe-Qe;var Re=.382683433*((ue=le+Y)-(Pe=Nn+xi)),De=.5411961*ue+Re,Ue=1.306562965*Pe+Re,et=.707106781*(we=Y+Nn),At=xi+et,pt=xi-et;He[ct+40]=pt+De,He[ct+24]=pt-De,He[ct+8]=At+Ue,He[ct+56]=At-Ue,ct++}for(vt=0;vt<64;++vt)at=He[vt]*ht[vt],f[vt]=at>0?at+.5|0:at-.5|0;return f}(P,O),Fe=0;Fe<64;++Fe)g[B[Fe]]=be[Fe];var ne=g[0]-H;H=g[0],ne==0?te(K[0]):(te(K[h[he=32767+ne]]),te(u[he]));for(var We=63;We>0&&g[We]==0;)We--;if(We==0)return te(xe),H;for(var Se,ce=1;ce<=We;){for(var qe=ce;g[ce]==0&&ce<=We;)++ce;var Ve=ce-qe;if(Ve>=16){Se=Ve>>4;for(var $e=1;$e<=Se;++$e)te(ye);Ve&=15}he=32767+g[ce],te(Z[(Ve<<4)+h[he]]),te(u[he]),ce++}return We!=63&&te(xe),H}function _e(P){P=Math.min(Math.max(P,1),100),s!=P&&(function(O){for(var H=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],K=0;K<64;K++){var Z=a((H[K]*O+50)/100);Z=Math.min(Math.max(Z,1),255),o[B[K]]=Z}for(var he=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],xe=0;xe<64;xe++){var ye=a((he[xe]*O+50)/100);ye=Math.min(Math.max(ye,1),255),l[B[xe]]=ye}for(var be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Fe=0,ne=0;ne<8;ne++)for(var We=0;We<8;We++)A[Fe]=1/(o[B[Fe]]*be[ne]*be[We]*8),c[Fe]=1/(l[B[Fe]]*be[ne]*be[We]*8),Fe++}(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),s=P)}this.encode=function(P,O){O&&_e(O),p=new Array,v=0,m=7,W(65496),W(65504),W(16),re(74),re(70),re(73),re(70),re(0),re(1),re(1),re(0),W(1),W(1),re(0),re(0),function(){W(65499),W(132),re(0);for(var Nt=0;Nt<64;Nt++)re(o[Nt]);re(1);for(var gt=0;gt<64;gt++)re(l[gt])}(),function(Nt,gt){W(65472),W(17),re(8),W(gt),W(Nt),re(3),re(1),re(17),re(0),re(2),re(17),re(1),re(3),re(17),re(1)}(P.width,P.height),function(){W(65476),W(418),re(0);for(var Nt=0;Nt<16;Nt++)re(E[Nt+1]);for(var gt=0;gt<=11;gt++)re(b[gt]);re(16);for(var Bt=0;Bt<16;Bt++)re(I[Bt+1]);for(var bt=0;bt<=161;bt++)re(T[bt]);re(1);for(var lt=0;lt<16;lt++)re(F[lt+1]);for(var Ft=0;Ft<=11;Ft++)re(D[Ft]);re(17);for(var mt=0;mt<16;mt++)re(q[mt+1]);for(var vt=0;vt<=161;vt++)re(ie[vt])}(),W(65498),W(12),re(3),re(1),re(0),re(2),re(17),re(3),re(17),re(0),re(63),re(0);var H=0,K=0,Z=0;v=0,m=7,this.encode.displayName="_encode_";for(var he,xe,ye,be,Fe,ne,We,Se,ce,qe=P.data,Ve=P.width,$e=P.height,He=4*Ve,ht=0;ht<$e;){for(he=0;he<He;){for(Fe=He*ht+he,We=-1,Se=0,ce=0;ce<64;ce++)ne=Fe+(Se=ce>>3)*He+(We=4*(7&ce)),ht+Se>=$e&&(ne-=He*(ht+1+Se-$e)),he+We>=He&&(ne-=he+We-He+4),xe=qe[ne++],ye=qe[ne++],be=qe[ne++],x[ce]=(R[xe]+R[ye+256|0]+R[be+512|0]>>16)-128,_[ce]=(R[xe+768|0]+R[ye+1024|0]+R[be+1280|0]>>16)-128,S[ce]=(R[xe+1280|0]+R[ye+1536|0]+R[be+1792|0]>>16)-128;H=pe(x,A,H,e,n),K=pe(_,c,K,t,i),Z=pe(S,c,Z,t,i),he+=32}ht+=8}if(m>=0){var nt=[];nt[1]=m+1,nt[0]=(1<<m+1)-1,te(nt)}return W(65497),new Uint8Array(p)},r=r||50,function(){for(var P=String.fromCharCode,O=0;O<256;O++)k[O]=P(O)}(),e=oe(E,b),t=oe(F,D),n=oe(I,T),i=oe(q,ie),function(){for(var P=1,O=2,H=1;H<=15;H++){for(var K=P;K<O;K++)h[32767+K]=H,u[32767+K]=[],u[32767+K][1]=H,u[32767+K][0]=K;for(var Z=-(O-1);Z<=-P;Z++)h[32767+Z]=H,u[32767+Z]=[],u[32767+Z][1]=H,u[32767+Z][0]=O-1+Z;P<<=1,O<<=1}}(),function(){for(var P=0;P<256;P++)R[P]=19595*P,R[P+256|0]=38470*P,R[P+512|0]=7471*P+32768,R[P+768|0]=-11059*P,R[P+1024|0]=-21709*P,R[P+1280|0]=32768*P+8421375,R[P+1536|0]=-27439*P,R[P+1792|0]=-5329*P}(),_e(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function XA(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function tj(r){function e(b){if(!b)throw Error("assert :P")}function t(b,I,T){for(var F=0;4>F;F++)if(b[I+F]!=T.charCodeAt(F))return!0;return!1}function n(b,I,T,F,D){for(var q=0;q<D;q++)b[I+q]=T[F+q]}function i(b,I,T,F){for(var D=0;D<F;D++)b[I+D]=T}function s(b){return new Int32Array(b)}function a(b,I){for(var T=[],F=0;F<b;F++)T.push(new I);return T}function o(b,I){var T=[];return function F(D,q,ie){for(var oe=ie[q],te=0;te<oe&&(D.push(ie.length>q+1?[]:new I),!(ie.length<q+1));te++)F(D[te],q+1,ie)}(T,0,b),T}var l=function(){var b=this;function I(w,C){for(var N=1<<C-1>>>0;w&N;)N>>>=1;return N?(w&N-1)+N:w}function T(w,C,N,Q,X){e(!(Q%N));do w[C+(Q-=N)]=X;while(0<Q)}function F(w,C,N,Q,X){if(e(2328>=X),512>=X)var J=s(512);else if((J=s(X))==null)return 0;return function(ee,se,Ae,me,Be,Me){var ve,Te,Le=se,je=1<<Ae,Ne=s(16),ze=s(16);for(e(Be!=0),e(me!=null),e(ee!=null),e(0<Ae),Te=0;Te<Be;++Te){if(15<me[Te])return 0;++Ne[me[Te]]}if(Ne[0]==Be)return 0;for(ze[1]=0,ve=1;15>ve;++ve){if(Ne[ve]>1<<ve)return 0;ze[ve+1]=ze[ve]+Ne[ve]}for(Te=0;Te<Be;++Te)ve=me[Te],0<me[Te]&&(Me[ze[ve]++]=Te);if(ze[15]==1)return(me=new D).g=0,me.value=Me[0],T(ee,Le,1,je,me),je;var Ge,rt=-1,Je=je-1,Ht=0,It=1,wr=1,Ut=1<<Ae;for(Te=0,ve=1,Be=2;ve<=Ae;++ve,Be<<=1){if(It+=wr<<=1,0>(wr-=Ne[ve]))return 0;for(;0<Ne[ve];--Ne[ve])(me=new D).g=ve,me.value=Me[Te++],T(ee,Le+Ht,Be,Ut,me),Ht=I(Ht,ve)}for(ve=Ae+1,Be=2;15>=ve;++ve,Be<<=1){if(It+=wr<<=1,0>(wr-=Ne[ve]))return 0;for(;0<Ne[ve];--Ne[ve]){if(me=new D,(Ht&Je)!=rt){for(Le+=Ut,Ge=1<<(rt=ve)-Ae;15>rt&&!(0>=(Ge-=Ne[rt]));)++rt,Ge<<=1;je+=Ut=1<<(Ge=rt-Ae),ee[se+(rt=Ht&Je)].g=Ge+Ae,ee[se+rt].value=Le-se-rt}me.g=ve-Ae,me.value=Me[Te++],T(ee,Le+(Ht>>Ae),Be,Ut,me),Ht=I(Ht,ve)}}return It!=2*ze[15]-1?0:je}(w,C,N,Q,X,J)}function D(){this.value=this.g=0}function q(){this.value=this.g=0}function ie(){this.G=a(5,D),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Sp,q)}function oe(w,C,N,Q){e(w!=null),e(C!=null),e(2147483648>Q),w.Ca=254,w.I=0,w.b=-8,w.Ka=0,w.oa=C,w.pa=N,w.Jd=C,w.Yc=N+Q,w.Zc=4<=Q?N+Q-4+1:N,xe(w)}function te(w,C){for(var N=0;0<C--;)N|=be(w,128)<<C;return N}function re(w,C){var N=te(w,C);return ye(w)?-N:N}function W(w,C,N,Q){var X,J=0;for(e(w!=null),e(C!=null),e(4294967288>Q),w.Sb=Q,w.Ra=0,w.u=0,w.h=0,4<Q&&(Q=4),X=0;X<Q;++X)J+=C[N+X]<<8*X;w.Ra=J,w.bb=Q,w.oa=C,w.pa=N}function pe(w){for(;8<=w.u&&w.bb<w.Sb;)w.Ra>>>=8,w.Ra+=w.oa[w.pa+w.bb]<<Wf-8>>>0,++w.bb,w.u-=8;K(w)&&(w.h=1,w.u=0)}function _e(w,C){if(e(0<=C),!w.h&&C<=ll){var N=H(w)&ol[C];return w.u+=C,pe(w),N}return w.h=1,w.u=0}function P(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function O(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(w){return w.Ra>>>(w.u&Wf-1)>>>0}function K(w){return e(w.bb<=w.Sb),w.h||w.bb==w.Sb&&w.u>Wf}function Z(w,C){w.u=C,w.h=K(w)}function he(w){w.u>=eh&&(e(w.u>=eh),pe(w))}function xe(w){e(w!=null&&w.oa!=null),w.pa<w.Zc?(w.I=(w.oa[w.pa++]|w.I<<8)>>>0,w.b+=8):(e(w!=null&&w.oa!=null),w.pa<w.Yc?(w.b+=8,w.I=w.oa[w.pa++]|w.I<<8):w.Ka?w.b=0:(w.I<<=8,w.b+=8,w.Ka=1))}function ye(w){return te(w,1)}function be(w,C){var N=w.Ca;0>w.b&&xe(w);var Q=w.b,X=N*C>>>8,J=(w.I>>>Q>X)+0;for(J?(N-=X,w.I-=X+1<<Q>>>0):N=X+1,Q=N,X=0;256<=Q;)X+=8,Q>>=8;return Q=7^X+Gf[Q],w.b-=Q,w.Ca=(N<<Q)-1,J}function Fe(w,C,N){w[C+0]=N>>24&255,w[C+1]=N>>16&255,w[C+2]=N>>8&255,w[C+3]=255&N}function ne(w,C){return w[C+0]|w[C+1]<<8}function We(w,C){return ne(w,C)|w[C+2]<<16}function Se(w,C){return ne(w,C)|ne(w,C+2)<<16}function ce(w,C){var N=1<<C;return e(w!=null),e(0<C),w.X=s(N),w.X==null?0:(w.Mb=32-C,w.Xa=C,1)}function qe(w,C){e(w!=null),e(C!=null),e(w.Xa==C.Xa),n(C.X,0,w.X,0,1<<C.Xa)}function Ve(){this.X=[],this.Xa=this.Mb=0}function $e(w,C,N,Q){e(N!=null),e(Q!=null);var X=N[0],J=Q[0];return X==0&&(X=(w*J+C/2)/C),J==0&&(J=(C*X+w/2)/w),0>=X||0>=J?0:(N[0]=X,Q[0]=J,1)}function He(w,C){return w+(1<<C)-1>>>C}function ht(w,C){return((4278255360&w)+(4278255360&C)>>>0&4278255360)+((16711935&w)+(16711935&C)>>>0&16711935)>>>0}function nt(w,C){b[C]=function(N,Q,X,J,ee,se,Ae){var me;for(me=0;me<ee;++me){var Be=b[w](se[Ae+me-1],X,J+me);se[Ae+me]=ht(N[Q+me],Be)}}}function Nt(){this.ud=this.hd=this.jd=0}function gt(w,C){return((4278124286&(w^C))>>>1)+(w&C)>>>0}function Bt(w){return 0<=w&&256>w?w:0>w?0:255<w?255:void 0}function bt(w,C){return Bt(w+(w-C+.5>>1))}function lt(w,C,N){return Math.abs(C-N)-Math.abs(w-N)}function Ft(w,C,N,Q,X,J,ee){for(Q=J[ee-1],N=0;N<X;++N)J[ee+N]=Q=ht(w[C+N],Q)}function mt(w,C,N,Q,X){var J;for(J=0;J<N;++J){var ee=w[C+J],se=ee>>8&255,Ae=16711935&(Ae=(Ae=16711935&ee)+((se<<16)+se));Q[X+J]=(4278255360&ee)+Ae>>>0}}function vt(w,C){C.jd=255&w,C.hd=w>>8&255,C.ud=w>>16&255}function at(w,C,N,Q,X,J){var ee;for(ee=0;ee<Q;++ee){var se=C[N+ee],Ae=se>>>8,me=se,Be=255&(Be=(Be=se>>>16)+((w.jd<<24>>24)*(Ae<<24>>24)>>>5));me=255&(me=(me+=(w.hd<<24>>24)*(Ae<<24>>24)>>>5)+((w.ud<<24>>24)*(Be<<24>>24)>>>5)),X[J+ee]=(4278255360&se)+(Be<<16)+me}}function ct(w,C,N,Q,X){b[C]=function(J,ee,se,Ae,me,Be,Me,ve,Te){for(Ae=Me;Ae<ve;++Ae)for(Me=0;Me<Te;++Me)me[Be++]=X(se[Q(J[ee++])])},b[w]=function(J,ee,se,Ae,me,Be,Me){var ve=8>>J.b,Te=J.Ea,Le=J.K[0],je=J.w;if(8>ve)for(J=(1<<J.b)-1,je=(1<<ve)-1;ee<se;++ee){var Ne,ze=0;for(Ne=0;Ne<Te;++Ne)Ne&J||(ze=Q(Ae[me++])),Be[Me++]=X(Le[ze&je]),ze>>=ve}else b["VP8LMapColor"+N](Ae,me,Le,je,Be,Me,ee,se,Te)}}function jt(w,C,N,Q,X){for(N=C+N;C<N;){var J=w[C++];Q[X++]=J>>16&255,Q[X++]=J>>8&255,Q[X++]=255&J}}function Qt(w,C,N,Q,X){for(N=C+N;C<N;){var J=w[C++];Q[X++]=J>>16&255,Q[X++]=J>>8&255,Q[X++]=255&J,Q[X++]=J>>24&255}}function wt(w,C,N,Q,X){for(N=C+N;C<N;){var J=(ee=w[C++])>>16&240|ee>>12&15,ee=240&ee|ee>>28&15;Q[X++]=J,Q[X++]=ee}}function Yt(w,C,N,Q,X){for(N=C+N;C<N;){var J=(ee=w[C++])>>16&248|ee>>13&7,ee=ee>>5&224|ee>>3&31;Q[X++]=J,Q[X++]=ee}}function en(w,C,N,Q,X){for(N=C+N;C<N;){var J=w[C++];Q[X++]=255&J,Q[X++]=J>>8&255,Q[X++]=J>>16&255}}function zt(w,C,N,Q,X,J){if(J==0)for(N=C+N;C<N;)Fe(Q,((J=w[C++])[0]>>24|J[1]>>8&65280|J[2]<<8&16711680|J[3]<<24)>>>0),X+=32;else n(Q,X,w,C,N)}function pr(w,C){b[C][0]=b[w+"0"],b[C][1]=b[w+"1"],b[C][2]=b[w+"2"],b[C][3]=b[w+"3"],b[C][4]=b[w+"4"],b[C][5]=b[w+"5"],b[C][6]=b[w+"6"],b[C][7]=b[w+"7"],b[C][8]=b[w+"8"],b[C][9]=b[w+"9"],b[C][10]=b[w+"10"],b[C][11]=b[w+"11"],b[C][12]=b[w+"12"],b[C][13]=b[w+"13"],b[C][14]=b[w+"0"],b[C][15]=b[w+"0"]}function Jt(w){return w==eI||w==tI||w==IC||w==rI}function Cn(){this.eb=[],this.size=this.A=this.fb=0}function Bn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Kr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Cn,this.f.kb=new Bn,this.sd=null}function Wt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function br(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Yl(w){return alert("todo:WebPSamplerProcessPlane"),w.T}function Ai(w,C){var N=w.T,Q=C.ba.f.RGBA,X=Q.eb,J=Q.fb+w.ka*Q.A,ee=nA[C.ba.S],se=w.y,Ae=w.O,me=w.f,Be=w.N,Me=w.ea,ve=w.W,Te=C.cc,Le=C.dc,je=C.Mc,Ne=C.Nc,ze=w.ka,Ge=w.ka+w.T,rt=w.U,Je=rt+1>>1;for(ze==0?ee(se,Ae,null,null,me,Be,Me,ve,me,Be,Me,ve,X,J,null,null,rt):(ee(C.ec,C.fc,se,Ae,Te,Le,je,Ne,me,Be,Me,ve,X,J-Q.A,X,J,rt),++N);ze+2<Ge;ze+=2)Te=me,Le=Be,je=Me,Ne=ve,Be+=w.Rc,ve+=w.Rc,J+=2*Q.A,ee(se,(Ae+=2*w.fa)-w.fa,se,Ae,Te,Le,je,Ne,me,Be,Me,ve,X,J-Q.A,X,J,rt);return Ae+=w.fa,w.j+Ge<w.o?(n(C.ec,C.fc,se,Ae,rt),n(C.cc,C.dc,me,Be,Je),n(C.Mc,C.Nc,Me,ve,Je),N--):1&Ge||ee(se,Ae,null,null,me,Be,Me,ve,me,Be,Me,ve,X,J+Q.A,null,null,rt),N}function Bo(w,C,N){var Q=w.F,X=[w.J];if(Q!=null){var J=w.U,ee=C.ba.S,se=ee==FC||ee==IC;C=C.ba.f.RGBA;var Ae=[0],me=w.ka;Ae[0]=w.T,w.Kb&&(me==0?--Ae[0]:(--me,X[0]-=w.width),w.j+w.ka+w.T==w.o&&(Ae[0]=w.o-w.j-me));var Be=C.eb;me=C.fb+me*C.A,w=OM(Q,X[0],w.width,J,Ae,Be,me+(se?0:3),C.A),e(N==Ae),w&&Jt(ee)&&r2(Be,me,se,J,Ae,C.A)}return 0}function Fs(w){var C=w.ma,N=C.ba.S,Q=11>N,X=N==SC||N==TC||N==FC||N==Z4||N==12||Jt(N);if(C.memory=null,C.Ib=null,C.Jb=null,C.Nd=null,!$y(C.Oa,w,X?11:12))return 0;if(X&&Jt(N)&&Bp(),w.da)alert("todo:use_scaling");else{if(Q){if(C.Ib=Yl,w.Kb){if(N=w.U+1>>1,C.memory=s(w.U+2*N),C.memory==null)return 0;C.ec=C.memory,C.fc=0,C.cc=C.ec,C.dc=C.fc+w.U,C.Mc=C.cc,C.Nc=C.dc+N,C.Ib=Ai,Bp()}}else alert("todo:EmitYUV");X&&(C.Jb=Bo,Q&&Un())}if(Q&&!tO){for(w=0;256>w;++w)hte[w]=89858*(w-128)+LC>>kC,pte[w]=-22014*(w-128)+LC,dte[w]=-45773*(w-128),fte[w]=113618*(w-128)+LC>>kC;for(w=i2;w<sI;++w)C=76283*(w-16)+LC>>kC,gte[w-i2]=Cr(C,255),mte[w-i2]=Cr(C+8>>4,15);tO=1}return 1}function Kt(w){var C=w.ma,N=w.U,Q=w.T;return e(!(1&w.ka)),0>=N||0>=Q?0:(N=C.Ib(w,C),C.Jb!=null&&C.Jb(w,C,N),C.Dc+=N,1)}function Sn(w){w.ma.memory=null}function So(w,C,N,Q){return _e(w,8)!=47?0:(C[0]=_e(w,14)+1,N[0]=_e(w,14)+1,Q[0]=_e(w,1),_e(w,3)!=0?0:!w.h)}function xi(w,C){if(4>w)return w+1;var N=w-2>>1;return(2+(1&w)<<N)+_e(C,N)+1}function Zi(w,C){return 120<C?C-120:1<=(N=((N=Jee[C-1])>>4)*w+(8-(15&N)))?N:1;var N}function Nn(w,C,N){var Q=H(N),X=w[C+=255&Q].g-8;return 0<X&&(Z(N,N.u+8),Q=H(N),C+=w[C].value,C+=Q&(1<<X)-1),Z(N,N.u+w[C].g),w[C].value}function _i(w,C,N){return N.g+=w.g,N.value+=w.value<<C>>>0,e(8>=N.g),w.g}function Y(w,C,N){var Q=w.xc;return e((C=Q==0?0:w.vc[w.md*(N>>Q)+(C>>Q)])<w.Wb),w.Ya[C]}function ge(w,C,N,Q){var X=w.ab,J=w.c*C,ee=w.C;C=ee+C;var se=N,Ae=Q;for(Q=w.Ta,N=w.Ua;0<X--;){var me=w.gc[X],Be=ee,Me=C,ve=se,Te=Ae,Le=(Ae=Q,se=N,me.Ea);switch(e(Be<Me),e(Me<=me.nc),me.hc){case 2:Ui(ve,Te,(Me-Be)*Le,Ae,se);break;case 0:var je=Be,Ne=Me,ze=Ae,Ge=se,rt=(Ut=me).Ea;je==0&&(Xy(ve,Te,null,null,1,ze,Ge),Ft(ve,Te+1,0,0,rt-1,ze,Ge+1),Te+=rt,Ge+=rt,++je);for(var Je=1<<Ut.b,Ht=Je-1,It=He(rt,Ut.b),wr=Ut.K,Ut=Ut.w+(je>>Ut.b)*It;je<Ne;){var Dr=wr,fs=Ut,yr=1;for(f1(ve,Te,ze,Ge-rt,1,ze,Ge);yr<rt;){var Mt=(yr&~Ht)+Je;Mt>rt&&(Mt=rt),(0,Jy[Dr[fs++]>>8&15])(ve,Te+ +yr,ze,Ge+yr-rt,Mt-yr,ze,Ge+yr),yr=Mt}Te+=rt,Ge+=rt,++je&Ht||(Ut+=It)}Me!=me.nc&&n(Ae,se-Le,Ae,se+(Me-Be-1)*Le,Le);break;case 1:for(Le=ve,Ne=Te,rt=(ve=me.Ea)-(Ge=ve&~(ze=(Te=1<<me.b)-1)),je=He(ve,me.b),Je=me.K,me=me.w+(Be>>me.b)*je;Be<Me;){for(Ht=Je,It=me,wr=new Nt,Ut=Ne+Ge,Dr=Ne+ve;Ne<Ut;)vt(Ht[It++],wr),Zy(wr,Le,Ne,Te,Ae,se),Ne+=Te,se+=Te;Ne<Dr&&(vt(Ht[It++],wr),Zy(wr,Le,Ne,rt,Ae,se),Ne+=rt,se+=rt),++Be&ze||(me+=je)}break;case 3:if(ve==Ae&&Te==se&&0<me.b){for(Ne=Ae,ve=Le=se+(Me-Be)*Le-(Ge=(Me-Be)*He(me.Ea,me.b)),Te=Ae,ze=se,je=[],Ge=(rt=Ge)-1;0<=Ge;--Ge)je[Ge]=Te[ze+Ge];for(Ge=rt-1;0<=Ge;--Ge)Ne[ve+Ge]=je[Ge];bC(me,Be,Me,Ae,Le,Ae,se)}else bC(me,Be,Me,ve,Te,Ae,se)}se=Q,Ae=N}Ae!=N&&n(Q,N,se,Ae,J)}function le(w,C){var N=w.V,Q=w.Ba+w.c*w.C,X=C-w.C;if(e(C<=w.l.o),e(16>=X),0<X){var J=w.l,ee=w.Ta,se=w.Ua,Ae=J.width;if(ge(w,X,N,Q),X=se=[se],e((N=w.C)<(Q=C)),e(J.v<J.va),Q>J.o&&(Q=J.o),N<J.j){var me=J.j-N;N=J.j,X[0]+=me*Ae}if(N>=Q?N=0:(X[0]+=4*J.v,J.ka=N-J.j,J.U=J.va-J.v,J.T=Q-N,N=1),N){if(se=se[0],11>(N=w.ca).S){var Be=N.f.RGBA,Me=(Q=N.S,X=J.U,J=J.T,me=Be.eb,Be.A),ve=J;for(Be=Be.fb+w.Ma*Be.A;0<ve--;){var Te=ee,Le=se,je=X,Ne=me,ze=Be;switch(Q){case BC:e2(Te,Le,je,Ne,ze);break;case SC:$f(Te,Le,je,Ne,ze);break;case eI:$f(Te,Le,je,Ne,ze),r2(Ne,ze,0,je,1,0);break;case WM:Tp(Te,Le,je,Ne,ze);break;case TC:zt(Te,Le,je,Ne,ze,1);break;case tI:zt(Te,Le,je,Ne,ze,1),r2(Ne,ze,0,je,1,0);break;case FC:zt(Te,Le,je,Ne,ze,0);break;case IC:zt(Te,Le,je,Ne,ze,0),r2(Ne,ze,1,je,1,0);break;case Z4:qf(Te,Le,je,Ne,ze);break;case rI:qf(Te,Le,je,Ne,ze),MM(Ne,ze,je,1,0);break;case GM:Xf(Te,Le,je,Ne,ze);break;default:e(0)}se+=Ae,Be+=Me}w.Ma+=J}else alert("todo:EmitRescaledRowsYUVA");e(w.Ma<=N.height)}}w.C=C,e(w.C<=w.i)}function ue(w){var C;if(0<w.ua)return 0;for(C=0;C<w.Wb;++C){var N=w.Ya[C].G,Q=w.Ya[C].H;if(0<N[1][Q[1]+0].g||0<N[2][Q[2]+0].g||0<N[3][Q[3]+0].g)return 0}return 1}function fe(w,C,N,Q,X,J){if(w.Z!=0){var ee=w.qd,se=w.rd;for(e(Zf[w.Z]!=null);C<N;++C)Zf[w.Z](ee,se,Q,X,Q,X,J),ee=Q,se=X,X+=J;w.qd=ee,w.rd=se}}function we(w,C){var N=w.l.ma,Q=N.Z==0||N.Z==1?w.l.j:w.C;if(Q=w.C<Q?Q:w.C,e(C<=w.l.o),C>Q){var X=w.l.width,J=N.ca,ee=N.tb+X*Q,se=w.V,Ae=w.Ba+w.c*Q,me=w.gc;e(w.ab==1),e(me[0].hc==3),Vc(me[0],Q,C,se,Ae,J,ee),fe(N,Q,C,J,ee,X)}w.C=w.Ma=C}function Pe(w,C,N,Q,X,J,ee){var se=w.$/Q,Ae=w.$%Q,me=w.m,Be=w.s,Me=N+w.$,ve=Me;X=N+Q*X;var Te=N+Q*J,Le=280+Be.ua,je=w.Pb?se:16777216,Ne=0<Be.ua?Be.Wa:null,ze=Be.wc,Ge=Me<Te?Y(Be,Ae,se):null;e(w.C<J),e(Te<=X);var rt=!1;e:for(;;){for(;rt||Me<Te;){var Je=0;if(se>=je){var Ht=Me-N;e((je=w).Pb),je.wd=je.m,je.xd=Ht,0<je.s.ua&&qe(je.s.Wa,je.s.vb),je=se+ete}if(Ae&ze||(Ge=Y(Be,Ae,se)),e(Ge!=null),Ge.Qb&&(C[Me]=Ge.qb,rt=!0),!rt)if(he(me),Ge.jc){Je=me,Ht=C;var It=Me,wr=Ge.pd[H(Je)&Sp-1];e(Ge.jc),256>wr.g?(Z(Je,Je.u+wr.g),Ht[It]=wr.value,Je=0):(Z(Je,Je.u+wr.g-256),e(256<=wr.value),Je=wr.value),Je==0&&(rt=!0)}else Je=Nn(Ge.G[0],Ge.H[0],me);if(me.h)break;if(rt||256>Je){if(!rt)if(Ge.nd)C[Me]=(Ge.qb|Je<<8)>>>0;else{if(he(me),rt=Nn(Ge.G[1],Ge.H[1],me),he(me),Ht=Nn(Ge.G[2],Ge.H[2],me),It=Nn(Ge.G[3],Ge.H[3],me),me.h)break;C[Me]=(It<<24|rt<<16|Je<<8|Ht)>>>0}if(rt=!1,++Me,++Ae>=Q&&(Ae=0,++se,ee!=null&&se<=J&&!(se%16)&&ee(w,se),Ne!=null))for(;ve<Me;)Je=C[ve++],Ne.X[(506832829*Je&4294967295)>>>Ne.Mb]=Je}else if(280>Je){if(Je=xi(Je-256,me),Ht=Nn(Ge.G[4],Ge.H[4],me),he(me),Ht=Zi(Q,Ht=xi(Ht,me)),me.h)break;if(Me-N<Ht||X-Me<Je)break e;for(It=0;It<Je;++It)C[Me+It]=C[Me+It-Ht];for(Me+=Je,Ae+=Je;Ae>=Q;)Ae-=Q,++se,ee!=null&&se<=J&&!(se%16)&&ee(w,se);if(e(Me<=X),Ae&ze&&(Ge=Y(Be,Ae,se)),Ne!=null)for(;ve<Me;)Je=C[ve++],Ne.X[(506832829*Je&4294967295)>>>Ne.Mb]=Je}else{if(!(Je<Le))break e;for(rt=Je-280,e(Ne!=null);ve<Me;)Je=C[ve++],Ne.X[(506832829*Je&4294967295)>>>Ne.Mb]=Je;Je=Me,e(!(rt>>>(Ht=Ne).Xa)),C[Je]=Ht.X[rt],rt=!0}rt||e(me.h==K(me))}if(w.Pb&&me.h&&Me<X)e(w.m.h),w.a=5,w.m=w.wd,w.$=w.xd,0<w.s.ua&&qe(w.s.vb,w.s.Wa);else{if(me.h)break e;ee!=null&&ee(w,se>J?J:se),w.a=0,w.$=Me-N}return 1}return w.a=3,0}function Qe(w){e(w!=null),w.vc=null,w.yc=null,w.Ya=null;var C=w.Wa;C!=null&&(C.X=null),w.vb=null,e(w!=null)}function Re(){var w=new Rt;return w==null?null:(w.a=0,w.xb=XM,pr("Predictor","VP8LPredictors"),pr("Predictor","VP8LPredictors_C"),pr("PredictorAdd","VP8LPredictorsAdd"),pr("PredictorAdd","VP8LPredictorsAdd_C"),Ui=mt,Zy=at,e2=jt,$f=Qt,qf=wt,Xf=Yt,Tp=en,b.VP8LMapColor32b=Hc,b.VP8LMapColor8b=Yy,w)}function De(w,C,N,Q,X){var J=1,ee=[w],se=[C],Ae=Q.m,me=Q.s,Be=null,Me=0;e:for(;;){if(N)for(;J&&_e(Ae,1);){var ve=ee,Te=se,Le=Q,je=1,Ne=Le.m,ze=Le.gc[Le.ab],Ge=_e(Ne,2);if(Le.Oc&1<<Ge)J=0;else{switch(Le.Oc|=1<<Ge,ze.hc=Ge,ze.Ea=ve[0],ze.nc=Te[0],ze.K=[null],++Le.ab,e(4>=Le.ab),Ge){case 0:case 1:ze.b=_e(Ne,3)+2,je=De(He(ze.Ea,ze.b),He(ze.nc,ze.b),0,Le,ze.K),ze.K=ze.K[0];break;case 3:var rt,Je=_e(Ne,8)+1,Ht=16<Je?0:4<Je?1:2<Je?2:3;if(ve[0]=He(ze.Ea,Ht),ze.b=Ht,rt=je=De(Je,1,0,Le,ze.K)){var It,wr=Je,Ut=ze,Dr=1<<(8>>Ut.b),fs=s(Dr);if(fs==null)rt=0;else{var yr=Ut.K[0],Mt=Ut.w;for(fs[0]=Ut.K[0][0],It=1;It<1*wr;++It)fs[It]=ht(yr[Mt+It],fs[It-1]);for(;It<4*Dr;++It)fs[It]=0;Ut.K[0]=null,Ut.K[0]=fs,rt=1}}je=rt;break;case 2:break;default:e(0)}J=je}}if(ee=ee[0],se=se[0],J&&_e(Ae,1)&&!(J=1<=(Me=_e(Ae,4))&&11>=Me)){Q.a=3;break e}var ft;if(ft=J)t:{var Oi,hr,Qr,Wn=Q,$s=ee,ro=se,Ci=Me,ya=N,no=Wn.m,ds=Wn.s,zr=[null],cn=1,Bi=0,un=Zee[Ci];r:for(;;){if(ya&&_e(no,1)){var qs=_e(no,3)+2,zA=He($s,qs),Qi=He(ro,qs),Po=zA*Qi;if(!De(zA,Qi,0,Wn,zr))break r;for(zr=zr[0],ds.xc=qs,Oi=0;Oi<Po;++Oi){var Fn=zr[Oi]>>8&65535;zr[Oi]=Fn,Fn>=cn&&(cn=Fn+1)}}if(no.h)break r;for(hr=0;5>hr;++hr){var ps=$M[hr];!hr&&0<Ci&&(ps+=1<<Ci),Bi<ps&&(Bi=ps)}var cl=a(cn*un,D),io=cn,ul=a(io,ie);if(ul==null)var hl=null;else e(65536>=io),hl=ul;var Ro=s(Bi);if(hl==null||Ro==null||cl==null){Wn.a=1;break r}var fl=cl;for(Oi=Qr=0;Oi<cn;++Oi){var On=hl[Oi],dl=On.G,WA=On.H,Ip=0,nh=1,Xs=0;for(hr=0;5>hr;++hr){ps=$M[hr],dl[hr]=fl,WA[hr]=Qr,!hr&&0<Ci&&(ps+=1<<Ci);i:{var RC,aI=ps,DC=Wn,s2=Ro,yte=fl,xte=Qr,oI=0,ed=DC.m,_te=_e(ed,1);if(i(s2,0,0,aI),_te){var bte=_e(ed,1)+1,Ete=_e(ed,1),iO=_e(ed,Ete==0?1:8);s2[iO]=1,bte==2&&(s2[iO=_e(ed,8)]=1);var NC=1}else{var sO=s(19),aO=_e(ed,4)+4;if(19<aO){DC.a=3;var UC=0;break i}for(RC=0;RC<aO;++RC)sO[Yee[RC]]=_e(ed,3);var lI=void 0,a2=void 0,oO=DC,Cte=sO,MC=aI,lO=s2,AI=0,td=oO.m,AO=8,cO=a(128,D);n:for(;F(cO,0,7,Cte,19);){if(_e(td,1)){var Bte=2+2*_e(td,3);if((lI=2+_e(td,Bte))>MC)break n}else lI=MC;for(a2=0;a2<MC&&lI--;){he(td);var uO=cO[0+(127&H(td))];Z(td,td.u+uO.g);var p1=uO.value;if(16>p1)lO[a2++]=p1,p1!=0&&(AO=p1);else{var Ste=p1==16,hO=p1-16,Tte=qee[hO],fO=_e(td,$ee[hO])+Tte;if(a2+fO>MC)break n;for(var Fte=Ste?AO:0;0<fO--;)lO[a2++]=Fte}}AI=1;break n}AI||(oO.a=3),NC=AI}(NC=NC&&!ed.h)&&(oI=F(yte,xte,8,s2,aI)),NC&&oI!=0?UC=oI:(DC.a=3,UC=0)}if(UC==0)break r;if(nh&&Xee[hr]==1&&(nh=fl[Qr].g==0),Ip+=fl[Qr].g,Qr+=UC,3>=hr){var o2,cI=Ro[0];for(o2=1;o2<ps;++o2)Ro[o2]>cI&&(cI=Ro[o2]);Xs+=cI}}if(On.nd=nh,On.Qb=0,nh&&(On.qb=(dl[3][WA[3]+0].value<<24|dl[1][WA[1]+0].value<<16|dl[2][WA[2]+0].value)>>>0,Ip==0&&256>dl[0][WA[0]+0].value&&(On.Qb=1,On.qb+=dl[0][WA[0]+0].value<<8)),On.jc=!On.Qb&&6>Xs,On.jc){var OC,ih=On;for(OC=0;OC<Sp;++OC){var rd=OC,nd=ih.pd[rd],QC=ih.G[0][ih.H[0]+rd];256<=QC.value?(nd.g=QC.g+256,nd.value=QC.value):(nd.g=0,nd.value=0,rd>>=_i(QC,8,nd),rd>>=_i(ih.G[1][ih.H[1]+rd],16,nd),rd>>=_i(ih.G[2][ih.H[2]+rd],0,nd),_i(ih.G[3][ih.H[3]+rd],24,nd))}}}ds.vc=zr,ds.Wb=cn,ds.Ya=hl,ds.yc=cl,ft=1;break t}ft=0}if(!(J=ft)){Q.a=3;break e}if(0<Me){if(me.ua=1<<Me,!ce(me.Wa,Me)){Q.a=1,J=0;break e}}else me.ua=0;var uI=Q,dO=ee,Ite=se,hI=uI.s,fI=hI.xc;if(uI.c=dO,uI.i=Ite,hI.md=He(dO,fI),hI.wc=fI==0?-1:(1<<fI)-1,N){Q.xb=ote;break e}if((Be=s(ee*se))==null){Q.a=1,J=0;break e}J=(J=Pe(Q,Be,0,ee,se,se,null))&&!Ae.h;break e}return J?(X!=null?X[0]=Be:(e(Be==null),e(N)),Q.$=0,N||Qe(me)):Qe(me),J}function Ue(w,C){var N=w.c*w.i,Q=N+C+16*C;return e(w.c<=C),w.V=s(Q),w.V==null?(w.Ta=null,w.Ua=0,w.a=1,0):(w.Ta=w.V,w.Ua=w.Ba+N+C,1)}function et(w,C){var N=w.C,Q=C-N,X=w.V,J=w.Ba+w.c*N;for(e(C<=w.l.o);0<Q;){var ee=16<Q?16:Q,se=w.l.ma,Ae=w.l.width,me=Ae*ee,Be=se.ca,Me=se.tb+Ae*N,ve=w.Ta,Te=w.Ua;ge(w,ee,X,J),QM(ve,Te,Be,Me,me),fe(se,N,N+ee,Be,Me,Ae),Q-=ee,X+=ee*w.c,N+=ee}e(N==C),w.C=w.Ma=C}function At(){this.ub=this.yd=this.td=this.Rb=0}function pt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function it(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function ut(){this.Yb=function(){var w=[];return function C(N,Q,X){for(var J=X[Q],ee=0;ee<J&&(N.push(X.length>Q+1?[]:0),!(X.length<Q+1));ee++)C(N[ee],Q+1,X)}(w,0,[3,11]),w}()}function $t(){this.jb=s(3),this.Wc=o([4,8],ut),this.Xc=o([4,17],ut)}function Yr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function gr(){this.ld=this.La=this.dd=this.tc=0}function nn(){this.Na=this.la=0}function To(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function rl(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function nl(){this.uc=this.M=this.Nb=0,this.wa=Array(new gr),this.Y=0,this.ya=Array(new rl),this.aa=0,this.l=new es}function Za(){this.y=s(16),this.f=s(8),this.ea=s(8)}function MA(){this.cb=this.a=0,this.sc="",this.m=new P,this.Od=new At,this.Kc=new pt,this.ed=new Yr,this.Qa=new it,this.Ic=this.$c=this.Aa=0,this.D=new nl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,P),this.ia=0,this.pb=a(4,To),this.Pa=new $t,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Za),this.Hd=0,this.rb=Array(new nn),this.sb=0,this.wa=Array(new gr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new rl),this.L=this.aa=0,this.gd=o([4,2],gr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function es(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function mp(){var w=new MA;return w!=null&&(w.a=0,w.sc="OK",w.cb=0,w.Xb=0,n2||(n2=OA)),w}function ci(w,C,N){return w.a==0&&(w.a=C,w.sc=N,w.cb=0),0}function vp(w,C,N){return 3<=N&&w[C+0]==157&&w[C+1]==1&&w[C+2]==42}function c1(w,C){if(w==null)return 0;if(w.a=0,w.sc="OK",C==null)return ci(w,2,"null VP8Io passed to VP8GetHeaders()");var N=C.data,Q=C.w,X=C.ha;if(4>X)return ci(w,7,"Truncated header.");var J=N[Q+0]|N[Q+1]<<8|N[Q+2]<<16,ee=w.Od;if(ee.Rb=!(1&J),ee.td=J>>1&7,ee.yd=J>>4&1,ee.ub=J>>5,3<ee.td)return ci(w,3,"Incorrect keyframe parameters.");if(!ee.yd)return ci(w,4,"Frame not displayable.");Q+=3,X-=3;var se=w.Kc;if(ee.Rb){if(7>X)return ci(w,7,"cannot parse picture header");if(!vp(N,Q,X))return ci(w,3,"Bad code word");se.c=16383&(N[Q+4]<<8|N[Q+3]),se.Td=N[Q+4]>>6,se.i=16383&(N[Q+6]<<8|N[Q+5]),se.Ud=N[Q+6]>>6,Q+=7,X-=7,w.za=se.c+15>>4,w.Ub=se.i+15>>4,C.width=se.c,C.height=se.i,C.Da=0,C.j=0,C.v=0,C.va=C.width,C.o=C.height,C.da=0,C.ib=C.width,C.hb=C.height,C.U=C.width,C.T=C.height,i((J=w.Pa).jb,0,255,J.jb.length),e((J=w.Qa)!=null),J.Cb=0,J.Bb=0,J.Fb=1,i(J.Zb,0,0,J.Zb.length),i(J.Lb,0,0,J.Lb)}if(ee.ub>X)return ci(w,7,"bad partition length");oe(J=w.m,N,Q,ee.ub),Q+=ee.ub,X-=ee.ub,ee.Rb&&(se.Ld=ye(J),se.Kd=ye(J)),se=w.Qa;var Ae,me=w.Pa;if(e(J!=null),e(se!=null),se.Cb=ye(J),se.Cb){if(se.Bb=ye(J),ye(J)){for(se.Fb=ye(J),Ae=0;4>Ae;++Ae)se.Zb[Ae]=ye(J)?re(J,7):0;for(Ae=0;4>Ae;++Ae)se.Lb[Ae]=ye(J)?re(J,6):0}if(se.Bb)for(Ae=0;3>Ae;++Ae)me.jb[Ae]=ye(J)?te(J,8):255}else se.Bb=0;if(J.Ka)return ci(w,3,"cannot parse segment header");if((se=w.ed).zd=ye(J),se.Tb=te(J,6),se.wb=te(J,3),se.Pc=ye(J),se.Pc&&ye(J)){for(me=0;4>me;++me)ye(J)&&(se.vd[me]=re(J,6));for(me=0;4>me;++me)ye(J)&&(se.od[me]=re(J,6))}if(w.L=se.Tb==0?0:se.zd?1:2,J.Ka)return ci(w,3,"cannot parse filter header");var Be=X;if(X=Ae=Q,Q=Ae+Be,se=Be,w.Xb=(1<<te(w.m,2))-1,Be<3*(me=w.Xb))N=7;else{for(Ae+=3*me,se-=3*me,Be=0;Be<me;++Be){var Me=N[X+0]|N[X+1]<<8|N[X+2]<<16;Me>se&&(Me=se),oe(w.Jc[+Be],N,Ae,Me),Ae+=Me,se-=Me,X+=3}oe(w.Jc[+me],N,Ae,se),N=Ae<Q?0:5}if(N!=0)return ci(w,N,"cannot parse partitions");for(N=te(Ae=w.m,7),X=ye(Ae)?re(Ae,4):0,Q=ye(Ae)?re(Ae,4):0,se=ye(Ae)?re(Ae,4):0,me=ye(Ae)?re(Ae,4):0,Ae=ye(Ae)?re(Ae,4):0,Be=w.Qa,Me=0;4>Me;++Me){if(Be.Cb){var ve=Be.Zb[Me];Be.Fb||(ve+=N)}else{if(0<Me){w.pb[Me]=w.pb[0];continue}ve=N}var Te=w.pb[Me];Te.Sc[0]=nI[Cr(ve+X,127)],Te.Sc[1]=iI[Cr(ve+0,127)],Te.Eb[0]=2*nI[Cr(ve+Q,127)],Te.Eb[1]=101581*iI[Cr(ve+se,127)]>>16,8>Te.Eb[1]&&(Te.Eb[1]=8),Te.Qc[0]=nI[Cr(ve+me,117)],Te.Qc[1]=iI[Cr(ve+Ae,127)],Te.lc=ve+Ae}if(!ee.Rb)return ci(w,4,"Not a key frame.");for(ye(J),ee=w.Pa,N=0;4>N;++N){for(X=0;8>X;++X)for(Q=0;3>Q;++Q)for(se=0;11>se;++se)me=be(J,ste[N][X][Q][se])?te(J,8):nte[N][X][Q][se],ee.Wc[N][X].Yb[Q][se]=me;for(X=0;17>X;++X)ee.Xc[N][X]=ee.Wc[N][ate[X]]}return w.kc=ye(J),w.kc&&(w.Bd=te(J,8)),w.cb=1}function OA(w,C,N,Q,X,J,ee){var se=C[X].Yb[N];for(N=0;16>X;++X){if(!be(w,se[N+0]))return X;for(;!be(w,se[N+1]);)if(se=C[++X].Yb[0],N=0,X==16)return 16;var Ae=C[X+1].Yb;if(be(w,se[N+2])){var me=w,Be=0;if(be(me,(ve=se)[(Me=N)+3]))if(be(me,ve[Me+6])){for(se=0,Me=2*(Be=be(me,ve[Me+8]))+(ve=be(me,ve[Me+9+Be])),Be=0,ve=tte[Me];ve[se];++se)Be+=Be+be(me,ve[se]);Be+=3+(8<<Me)}else be(me,ve[Me+7])?(Be=7+2*be(me,165),Be+=be(me,145)):Be=5+be(me,159);else Be=be(me,ve[Me+4])?3+be(me,ve[Me+5]):2;se=Ae[2]}else Be=1,se=Ae[1];Ae=ee+rte[X],0>(me=w).b&&xe(me);var Me,ve=me.b,Te=(Me=me.Ca>>1)-(me.I>>ve)>>31;--me.b,me.Ca+=Te,me.Ca|=1,me.I-=(Me+1&Te)<<ve,J[Ae]=((Be^Te)-Te)*Q[(0<X)+0]}return 16}function Rc(w){var C=w.rb[w.sb-1];C.la=0,C.Na=0,i(w.zc,0,0,w.zc.length),w.ja=0}function Fo(w,C,N,Q,X){X=w[C+N+32*Q]+(X>>3),w[C+N+32*Q]=-256&X?0>X?0:255:X}function $u(w,C,N,Q,X,J){Fo(w,C,0,N,Q+X),Fo(w,C,1,N,Q+J),Fo(w,C,2,N,Q-J),Fo(w,C,3,N,Q-X)}function ln(w){return(20091*w>>16)+w}function eo(w,C,N,Q){var X,J=0,ee=s(16);for(X=0;4>X;++X){var se=w[C+0]+w[C+8],Ae=w[C+0]-w[C+8],me=(35468*w[C+4]>>16)-ln(w[C+12]),Be=ln(w[C+4])+(35468*w[C+12]>>16);ee[J+0]=se+Be,ee[J+1]=Ae+me,ee[J+2]=Ae-me,ee[J+3]=se-Be,J+=4,C++}for(X=J=0;4>X;++X)se=(w=ee[J+0]+4)+ee[J+8],Ae=w-ee[J+8],me=(35468*ee[J+4]>>16)-ln(ee[J+12]),Fo(N,Q,0,0,se+(Be=ln(ee[J+4])+(35468*ee[J+12]>>16))),Fo(N,Q,1,0,Ae+me),Fo(N,Q,2,0,Ae-me),Fo(N,Q,3,0,se-Be),J++,Q+=32}function Mf(w,C,N,Q){var X=w[C+0]+4,J=35468*w[C+4]>>16,ee=ln(w[C+4]),se=35468*w[C+1]>>16;$u(N,Q,0,X+ee,w=ln(w[C+1]),se),$u(N,Q,1,X+J,w,se),$u(N,Q,2,X-J,w,se),$u(N,Q,3,X-ee,w,se)}function Of(w,C,N,Q,X){eo(w,C,N,Q),X&&eo(w,C+16,N,Q+4)}function u1(w,C,N,Q){Fp(w,C+0,N,Q,1),Fp(w,C+32,N,Q+128,1)}function Ir(w,C,N,Q){var X;for(w=w[C+0]+4,X=0;4>X;++X)for(C=0;4>C;++C)Fo(N,Q,C,X,w)}function qu(w,C,N,Q){w[C+0]&&sn(w,C+0,N,Q),w[C+16]&&sn(w,C+16,N,Q+4),w[C+32]&&sn(w,C+32,N,Q+128),w[C+48]&&sn(w,C+48,N,Q+128+4)}function Dc(w,C,N,Q){var X,J=s(16);for(X=0;4>X;++X){var ee=w[C+0+X]+w[C+12+X],se=w[C+4+X]+w[C+8+X],Ae=w[C+4+X]-w[C+8+X],me=w[C+0+X]-w[C+12+X];J[0+X]=ee+se,J[8+X]=ee-se,J[4+X]=me+Ae,J[12+X]=me-Ae}for(X=0;4>X;++X)ee=(w=J[0+4*X]+3)+J[3+4*X],se=J[1+4*X]+J[2+4*X],Ae=J[1+4*X]-J[2+4*X],me=w-J[3+4*X],N[Q+0]=ee+se>>3,N[Q+16]=me+Ae>>3,N[Q+32]=ee-se>>3,N[Q+48]=me-Ae>>3,Q+=64}function Io(w,C,N){var Q,X=C-32,J=Al,ee=255-w[X-1];for(Q=0;Q<N;++Q){var se,Ae=J,me=ee+w[C-1];for(se=0;se<N;++se)w[C+se]=Ae[me+w[X+se]];C+=32}}function wp(w,C){Io(w,C,4)}function h1(w,C){Io(w,C,8)}function Vy(w,C){Io(w,C,16)}function jy(w,C){var N;for(N=0;16>N;++N)n(w,C+32*N,w,C-32,16)}function yp(w,C){var N;for(N=16;0<N;--N)i(w,C,w[C-1],16),C+=32}function Xu(w,C,N){var Q;for(Q=0;16>Q;++Q)i(C,N+32*Q,w,16)}function ko(w,C){var N,Q=16;for(N=0;16>N;++N)Q+=w[C-1+32*N]+w[C+N-32];Xu(Q>>5,w,C)}function Jl(w,C){var N,Q=8;for(N=0;16>N;++N)Q+=w[C-1+32*N];Xu(Q>>4,w,C)}function Nc(w,C){var N,Q=8;for(N=0;16>N;++N)Q+=w[C+N-32];Xu(Q>>4,w,C)}function Qf(w,C){Xu(128,w,C)}function Zt(w,C,N){return w+2*C+N+2>>2}function Uc(w,C){var N,Q=C-32;for(Q=new Uint8Array([Zt(w[Q-1],w[Q+0],w[Q+1]),Zt(w[Q+0],w[Q+1],w[Q+2]),Zt(w[Q+1],w[Q+2],w[Q+3]),Zt(w[Q+2],w[Q+3],w[Q+4])]),N=0;4>N;++N)n(w,C+32*N,Q,0,Q.length)}function Ky(w,C){var N=w[C-1],Q=w[C-1+32],X=w[C-1+64],J=w[C-1+96];Fe(w,C+0,16843009*Zt(w[C-1-32],N,Q)),Fe(w,C+32,16843009*Zt(N,Q,X)),Fe(w,C+64,16843009*Zt(Q,X,J)),Fe(w,C+96,16843009*Zt(X,J,J))}function zy(w,C){var N,Q=4;for(N=0;4>N;++N)Q+=w[C+N-32]+w[C-1+32*N];for(Q>>=3,N=0;4>N;++N)i(w,C+32*N,Q,4)}function Wy(w,C){var N=w[C-1+0],Q=w[C-1+32],X=w[C-1+64],J=w[C-1-32],ee=w[C+0-32],se=w[C+1-32],Ae=w[C+2-32],me=w[C+3-32];w[C+0+96]=Zt(Q,X,w[C-1+96]),w[C+1+96]=w[C+0+64]=Zt(N,Q,X),w[C+2+96]=w[C+1+64]=w[C+0+32]=Zt(J,N,Q),w[C+3+96]=w[C+2+64]=w[C+1+32]=w[C+0+0]=Zt(ee,J,N),w[C+3+64]=w[C+2+32]=w[C+1+0]=Zt(se,ee,J),w[C+3+32]=w[C+2+0]=Zt(Ae,se,ee),w[C+3+0]=Zt(me,Ae,se)}function Is(w,C){var N=w[C+1-32],Q=w[C+2-32],X=w[C+3-32],J=w[C+4-32],ee=w[C+5-32],se=w[C+6-32],Ae=w[C+7-32];w[C+0+0]=Zt(w[C+0-32],N,Q),w[C+1+0]=w[C+0+32]=Zt(N,Q,X),w[C+2+0]=w[C+1+32]=w[C+0+64]=Zt(Q,X,J),w[C+3+0]=w[C+2+32]=w[C+1+64]=w[C+0+96]=Zt(X,J,ee),w[C+3+32]=w[C+2+64]=w[C+1+96]=Zt(J,ee,se),w[C+3+64]=w[C+2+96]=Zt(ee,se,Ae),w[C+3+96]=Zt(se,Ae,Ae)}function QA(w,C){var N=w[C-1+0],Q=w[C-1+32],X=w[C-1+64],J=w[C-1-32],ee=w[C+0-32],se=w[C+1-32],Ae=w[C+2-32],me=w[C+3-32];w[C+0+0]=w[C+1+64]=J+ee+1>>1,w[C+1+0]=w[C+2+64]=ee+se+1>>1,w[C+2+0]=w[C+3+64]=se+Ae+1>>1,w[C+3+0]=Ae+me+1>>1,w[C+0+96]=Zt(X,Q,N),w[C+0+64]=Zt(Q,N,J),w[C+0+32]=w[C+1+96]=Zt(N,J,ee),w[C+1+32]=w[C+2+96]=Zt(J,ee,se),w[C+2+32]=w[C+3+96]=Zt(ee,se,Ae),w[C+3+32]=Zt(se,Ae,me)}function Gy(w,C){var N=w[C+0-32],Q=w[C+1-32],X=w[C+2-32],J=w[C+3-32],ee=w[C+4-32],se=w[C+5-32],Ae=w[C+6-32],me=w[C+7-32];w[C+0+0]=N+Q+1>>1,w[C+1+0]=w[C+0+64]=Q+X+1>>1,w[C+2+0]=w[C+1+64]=X+J+1>>1,w[C+3+0]=w[C+2+64]=J+ee+1>>1,w[C+0+32]=Zt(N,Q,X),w[C+1+32]=w[C+0+96]=Zt(Q,X,J),w[C+2+32]=w[C+1+96]=Zt(X,J,ee),w[C+3+32]=w[C+2+96]=Zt(J,ee,se),w[C+3+64]=Zt(ee,se,Ae),w[C+3+96]=Zt(se,Ae,me)}function Hf(w,C){var N=w[C-1+0],Q=w[C-1+32],X=w[C-1+64],J=w[C-1+96];w[C+0+0]=N+Q+1>>1,w[C+2+0]=w[C+0+32]=Q+X+1>>1,w[C+2+32]=w[C+0+64]=X+J+1>>1,w[C+1+0]=Zt(N,Q,X),w[C+3+0]=w[C+1+32]=Zt(Q,X,J),w[C+3+32]=w[C+1+64]=Zt(X,J,J),w[C+3+64]=w[C+2+64]=w[C+0+96]=w[C+1+96]=w[C+2+96]=w[C+3+96]=J}function HA(w,C){var N=w[C-1+0],Q=w[C-1+32],X=w[C-1+64],J=w[C-1+96],ee=w[C-1-32],se=w[C+0-32],Ae=w[C+1-32],me=w[C+2-32];w[C+0+0]=w[C+2+32]=N+ee+1>>1,w[C+0+32]=w[C+2+64]=Q+N+1>>1,w[C+0+64]=w[C+2+96]=X+Q+1>>1,w[C+0+96]=J+X+1>>1,w[C+3+0]=Zt(se,Ae,me),w[C+2+0]=Zt(ee,se,Ae),w[C+1+0]=w[C+3+32]=Zt(N,ee,se),w[C+1+32]=w[C+3+64]=Zt(Q,N,ee),w[C+1+64]=w[C+3+96]=Zt(X,Q,N),w[C+1+96]=Zt(J,X,Q)}function Vf(w,C){var N;for(N=0;8>N;++N)n(w,C+32*N,w,C-32,8)}function il(w,C){var N;for(N=0;8>N;++N)i(w,C,w[C-1],8),C+=32}function Zl(w,C,N){var Q;for(Q=0;8>Q;++Q)i(C,N+32*Q,w,8)}function Yu(w,C){var N,Q=8;for(N=0;8>N;++N)Q+=w[C+N-32]+w[C-1+32*N];Zl(Q>>4,w,C)}function xp(w,C){var N,Q=4;for(N=0;8>N;++N)Q+=w[C+N-32];Zl(Q>>3,w,C)}function vn(w,C){var N,Q=4;for(N=0;8>N;++N)Q+=w[C-1+32*N];Zl(Q>>3,w,C)}function _p(w,C){Zl(128,w,C)}function Ju(w,C,N){var Q=w[C-N],X=w[C+0],J=3*(X-Q)+J4[1020+w[C-2*N]-w[C+N]],ee=CC[112+(J+4>>3)];w[C-N]=Al[255+Q+CC[112+(J+3>>3)]],w[C+0]=Al[255+X-ee]}function Mc(w,C,N,Q){var X=w[C+0],J=w[C+N];return rA[255+w[C-2*N]-w[C-N]]>Q||rA[255+J-X]>Q}function jf(w,C,N,Q){return 4*rA[255+w[C-N]-w[C+0]]+rA[255+w[C-2*N]-w[C+N]]<=Q}function Zu(w,C,N,Q,X){var J=w[C-3*N],ee=w[C-2*N],se=w[C-N],Ae=w[C+0],me=w[C+N],Be=w[C+2*N],Me=w[C+3*N];return 4*rA[255+se-Ae]+rA[255+ee-me]>Q?0:rA[255+w[C-4*N]-J]<=X&&rA[255+J-ee]<=X&&rA[255+ee-se]<=X&&rA[255+Me-Be]<=X&&rA[255+Be-me]<=X&&rA[255+me-Ae]<=X}function Oc(w,C,N,Q){var X=2*Q+1;for(Q=0;16>Q;++Q)jf(w,C+Q,N,X)&&Ju(w,C+Q,N)}function Qc(w,C,N,Q){var X=2*Q+1;for(Q=0;16>Q;++Q)jf(w,C+Q*N,1,X)&&Ju(w,C+Q*N,1)}function Lo(w,C,N,Q){var X;for(X=3;0<X;--X)Oc(w,C+=4*N,N,Q)}function bp(w,C,N,Q){var X;for(X=3;0<X;--X)Qc(w,C+=4,N,Q)}function VA(w,C,N,Q,X,J,ee,se){for(J=2*J+1;0<X--;){if(Zu(w,C,N,J,ee))if(Mc(w,C,N,se))Ju(w,C,N);else{var Ae=w,me=C,Be=N,Me=Ae[me-2*Be],ve=Ae[me-Be],Te=Ae[me+0],Le=Ae[me+Be],je=Ae[me+2*Be],Ne=27*(Ge=J4[1020+3*(Te-ve)+J4[1020+Me-Le]])+63>>7,ze=18*Ge+63>>7,Ge=9*Ge+63>>7;Ae[me-3*Be]=Al[255+Ae[me-3*Be]+Ge],Ae[me-2*Be]=Al[255+Me+ze],Ae[me-Be]=Al[255+ve+Ne],Ae[me+0]=Al[255+Te-Ne],Ae[me+Be]=Al[255+Le-ze],Ae[me+2*Be]=Al[255+je-Ge]}C+=Q}}function to(w,C,N,Q,X,J,ee,se){for(J=2*J+1;0<X--;){if(Zu(w,C,N,J,ee))if(Mc(w,C,N,se))Ju(w,C,N);else{var Ae=w,me=C,Be=N,Me=Ae[me-Be],ve=Ae[me+0],Te=Ae[me+Be],Le=CC[112+(4+(je=3*(ve-Me))>>3)],je=CC[112+(je+3>>3)],Ne=Le+1>>1;Ae[me-2*Be]=Al[255+Ae[me-2*Be]+Ne],Ae[me-Be]=Al[255+Me+je],Ae[me+0]=Al[255+ve-Le],Ae[me+Be]=Al[255+Te-Ne]}C+=Q}}function Ep(w,C,N,Q,X,J){VA(w,C,N,1,16,Q,X,J)}function Kf(w,C,N,Q,X,J){VA(w,C,1,N,16,Q,X,J)}function eA(w,C,N,Q,X,J){var ee;for(ee=3;0<ee;--ee)to(w,C+=4*N,N,1,16,Q,X,J)}function Cp(w,C,N,Q,X,J){var ee;for(ee=3;0<ee;--ee)to(w,C+=4,1,N,16,Q,X,J)}function L(w,C,N,Q,X,J,ee,se){VA(w,C,X,1,8,J,ee,se),VA(N,Q,X,1,8,J,ee,se)}function G(w,C,N,Q,X,J,ee,se){VA(w,C,1,X,8,J,ee,se),VA(N,Q,1,X,8,J,ee,se)}function de(w,C,N,Q,X,J,ee,se){to(w,C+4*X,X,1,8,J,ee,se),to(N,Q+4*X,X,1,8,J,ee,se)}function Ee(w,C,N,Q,X,J,ee,se){to(w,C+4,1,X,8,J,ee,se),to(N,Q+4,1,X,8,J,ee,se)}function Ie(){this.ba=new Kr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new br,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ke(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Xe(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Et(){this.ua=0,this.Wa=new Ve,this.vb=new Ve,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ie,this.yc=new D}function Rt(){this.xb=this.a=0,this.l=new es,this.ca=new Kr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new O,this.Pb=0,this.wd=new O,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Et,this.ab=0,this.gc=a(4,Xe),this.Oc=0}function qt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new es,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function tr(w,C,N,Q,X,J,ee){for(w=w==null?0:w[C+0],C=0;C<ee;++C)X[J+C]=w+N[Q+C]&255,w=X[J+C]}function Or(w,C,N,Q,X,J,ee){var se;if(w==null)tr(null,null,N,Q,X,J,ee);else for(se=0;se<ee;++se)X[J+se]=w[C+se]+N[Q+se]&255}function tn(w,C,N,Q,X,J,ee){if(w==null)tr(null,null,N,Q,X,J,ee);else{var se,Ae=w[C+0],me=Ae,Be=Ae;for(se=0;se<ee;++se)me=Be+(Ae=w[C+se])-me,Be=N[Q+se]+(-256&me?0>me?0:255:me)&255,me=Ae,X[J+se]=Be}}function ui(w,C,N,Q){var X=C.width,J=C.o;if(e(w!=null&&C!=null),0>N||0>=Q||N+Q>J)return null;if(!w.Cc){if(w.ga==null){var ee;if(w.ga=new qt,(ee=w.ga==null)||(ee=C.width*C.o,e(w.Gb.length==0),w.Gb=s(ee),w.Uc=0,w.Gb==null?ee=0:(w.mb=w.Gb,w.nb=w.Uc,w.rc=null,ee=1),ee=!ee),!ee){ee=w.ga;var se=w.Fa,Ae=w.P,me=w.qc,Be=w.mb,Me=w.nb,ve=Ae+1,Te=me-1,Le=ee.l;if(e(se!=null&&Be!=null&&C!=null),Zf[0]=null,Zf[1]=tr,Zf[2]=Or,Zf[3]=tn,ee.ca=Be,ee.tb=Me,ee.c=C.width,ee.i=C.height,e(0<ee.c&&0<ee.i),1>=me)C=0;else if(ee.$a=3&se[Ae+0],ee.Z=se[Ae+0]>>2&3,ee.Lc=se[Ae+0]>>4&3,Ae=se[Ae+0]>>6&3,0>ee.$a||1<ee.$a||4<=ee.Z||1<ee.Lc||Ae)C=0;else if(Le.put=Kt,Le.ac=Fs,Le.bc=Sn,Le.ma=ee,Le.width=C.width,Le.height=C.height,Le.Da=C.Da,Le.v=C.v,Le.va=C.va,Le.j=C.j,Le.o=C.o,ee.$a)e:{e(ee.$a==1),C=Re();t:for(;;){if(C==null){C=0;break e}if(e(ee!=null),ee.mc=C,C.c=ee.c,C.i=ee.i,C.l=ee.l,C.l.ma=ee,C.l.width=ee.c,C.l.height=ee.i,C.a=0,W(C.m,se,ve,Te),!De(ee.c,ee.i,1,C,null)||(C.ab==1&&C.gc[0].hc==3&&ue(C.s)?(ee.ic=1,se=C.c*C.i,C.Ta=null,C.Ua=0,C.V=s(se),C.Ba=0,C.V==null?(C.a=1,C=0):C=1):(ee.ic=0,C=Ue(C,ee.c)),!C))break t;C=1;break e}ee.mc=null,C=0}else C=Te>=ee.c*ee.i;ee=!C}if(ee)return null;w.ga.Lc!=1?w.Ga=0:Q=J-N}e(w.ga!=null),e(N+Q<=J);e:{if(C=(se=w.ga).c,J=se.l.o,se.$a==0){if(ve=w.rc,Te=w.Vc,Le=w.Fa,Ae=w.P+1+N*C,me=w.mb,Be=w.nb+N*C,e(Ae<=w.P+w.qc),se.Z!=0)for(e(Zf[se.Z]!=null),ee=0;ee<Q;++ee)Zf[se.Z](ve,Te,Le,Ae,me,Be,C),ve=me,Te=Be,Be+=C,Ae+=C;else for(ee=0;ee<Q;++ee)n(me,Be,Le,Ae,C),ve=me,Te=Be,Be+=C,Ae+=C;w.rc=ve,w.Vc=Te}else{if(e(se.mc!=null),C=N+Q,e((ee=se.mc)!=null),e(C<=ee.i),ee.C>=C)C=1;else if(se.ic||Un(),se.ic){se=ee.V,ve=ee.Ba,Te=ee.c;var je=ee.i,Ne=(Le=1,Ae=ee.$/Te,me=ee.$%Te,Be=ee.m,Me=ee.s,ee.$),ze=Te*je,Ge=Te*C,rt=Me.wc,Je=Ne<Ge?Y(Me,me,Ae):null;e(Ne<=ze),e(C<=je),e(ue(Me));t:for(;;){for(;!Be.h&&Ne<Ge;){if(me&rt||(Je=Y(Me,me,Ae)),e(Je!=null),he(Be),256>(je=Nn(Je.G[0],Je.H[0],Be)))se[ve+Ne]=je,++Ne,++me>=Te&&(me=0,++Ae<=C&&!(Ae%16)&&we(ee,Ae));else{if(!(280>je)){Le=0;break t}je=xi(je-256,Be);var Ht,It=Nn(Je.G[4],Je.H[4],Be);if(he(Be),!(Ne>=(It=Zi(Te,It=xi(It,Be)))&&ze-Ne>=je)){Le=0;break t}for(Ht=0;Ht<je;++Ht)se[ve+Ne+Ht]=se[ve+Ne+Ht-It];for(Ne+=je,me+=je;me>=Te;)me-=Te,++Ae<=C&&!(Ae%16)&&we(ee,Ae);Ne<Ge&&me&rt&&(Je=Y(Me,me,Ae))}e(Be.h==K(Be))}we(ee,Ae>C?C:Ae);break t}!Le||Be.h&&Ne<ze?(Le=0,ee.a=Be.h?5:3):ee.$=Ne,C=Le}else C=Pe(ee,ee.V,ee.Ba,ee.c,ee.i,C,et);if(!C){Q=0;break e}}N+Q>=J&&(w.Cc=1),Q=1}if(!Q)return null;if(w.Cc&&((Q=w.ga)!=null&&(Q.mc=null),w.ga=null,0<w.Ga))return alert("todo:WebPDequantizeLevels"),null}return w.nb+N*X}function An(w,C,N,Q,X,J){for(;0<X--;){var ee,se=w,Ae=C+(N?1:0),me=w,Be=C+(N?0:3);for(ee=0;ee<Q;++ee){var Me=me[Be+4*ee];Me!=255&&(Me*=32897,se[Ae+4*ee+0]=se[Ae+4*ee+0]*Me>>23,se[Ae+4*ee+1]=se[Ae+4*ee+1]*Me>>23,se[Ae+4*ee+2]=se[Ae+4*ee+2]*Me>>23)}C+=J}}function bi(w,C,N,Q,X){for(;0<Q--;){var J;for(J=0;J<N;++J){var ee=w[C+2*J+0],se=15&(me=w[C+2*J+1]),Ae=4369*se,me=(240&me|me>>4)*Ae>>16;w[C+2*J+0]=(240&ee|ee>>4)*Ae>>16&240|(15&ee|ee<<4)*Ae>>16>>4&15,w[C+2*J+1]=240&me|se}C+=X}}function hi(w,C,N,Q,X,J,ee,se){var Ae,me,Be=255;for(me=0;me<X;++me){for(Ae=0;Ae<Q;++Ae){var Me=w[C+Ae];J[ee+4*Ae]=Me,Be&=Me}C+=N,ee+=se}return Be!=255}function Ei(w,C,N,Q,X){var J;for(J=0;J<X;++J)N[Q+J]=w[C+J]>>8}function Un(){r2=An,MM=bi,OM=hi,QM=Ei}function Ws(w,C,N){b[w]=function(Q,X,J,ee,se,Ae,me,Be,Me,ve,Te,Le,je,Ne,ze,Ge,rt){var Je,Ht=rt-1>>1,It=se[Ae+0]|me[Be+0]<<16,wr=Me[ve+0]|Te[Le+0]<<16;e(Q!=null);var Ut=3*It+wr+131074>>2;for(C(Q[X+0],255&Ut,Ut>>16,je,Ne),J!=null&&(Ut=3*wr+It+131074>>2,C(J[ee+0],255&Ut,Ut>>16,ze,Ge)),Je=1;Je<=Ht;++Je){var Dr=se[Ae+Je]|me[Be+Je]<<16,fs=Me[ve+Je]|Te[Le+Je]<<16,yr=It+Dr+wr+fs+524296,Mt=yr+2*(Dr+wr)>>3;Ut=Mt+It>>1,It=(yr=yr+2*(It+fs)>>3)+Dr>>1,C(Q[X+2*Je-1],255&Ut,Ut>>16,je,Ne+(2*Je-1)*N),C(Q[X+2*Je-0],255&It,It>>16,je,Ne+(2*Je-0)*N),J!=null&&(Ut=yr+wr>>1,It=Mt+fs>>1,C(J[ee+2*Je-1],255&Ut,Ut>>16,ze,Ge+(2*Je-1)*N),C(J[ee+2*Je+0],255&It,It>>16,ze,Ge+(2*Je+0)*N)),It=Dr,wr=fs}1&rt||(Ut=3*It+wr+131074>>2,C(Q[X+rt-1],255&Ut,Ut>>16,je,Ne+(rt-1)*N),J!=null&&(Ut=3*wr+It+131074>>2,C(J[ee+rt-1],255&Ut,Ut>>16,ze,Ge+(rt-1)*N)))}}function Bp(){nA[BC]=lte,nA[SC]=YM,nA[WM]=Ate,nA[TC]=JM,nA[FC]=ZM,nA[Z4]=eO,nA[GM]=cte,nA[eI]=YM,nA[tI]=JM,nA[IC]=ZM,nA[rI]=eO}function sl(w){return w&-16384?0>w?0:255:w>>ute}function y(w,C){return sl((19077*w>>8)+(26149*C>>8)-14234)}function U(w,C,N){return sl((19077*w>>8)-(6419*C>>8)-(13320*N>>8)+8708)}function j(w,C){return sl((19077*w>>8)+(33050*C>>8)-17685)}function ae(w,C,N,Q,X){Q[X+0]=y(w,N),Q[X+1]=U(w,C,N),Q[X+2]=j(w,C)}function ke(w,C,N,Q,X){Q[X+0]=j(w,C),Q[X+1]=U(w,C,N),Q[X+2]=y(w,N)}function Oe(w,C,N,Q,X){var J=U(w,C,N);C=J<<3&224|j(w,C)>>3,Q[X+0]=248&y(w,N)|J>>5,Q[X+1]=C}function ot(w,C,N,Q,X){var J=240&j(w,C)|15;Q[X+0]=240&y(w,N)|U(w,C,N)>>4,Q[X+1]=J}function Rr(w,C,N,Q,X){Q[X+0]=255,ae(w,C,N,Q,X+1)}function fi(w,C,N,Q,X){ke(w,C,N,Q,X),Q[X+3]=255}function Br(w,C,N,Q,X){ae(w,C,N,Q,X),Q[X+3]=255}function Cr(w,C){return 0>w?0:w>C?C:w}function Mn(w,C,N){b[w]=function(Q,X,J,ee,se,Ae,me,Be,Me){for(var ve=Be+(-2&Me)*N;Be!=ve;)C(Q[X+0],J[ee+0],se[Ae+0],me,Be),C(Q[X+1],J[ee+0],se[Ae+0],me,Be+N),X+=2,++ee,++Ae,Be+=2*N;1&Me&&C(Q[X+0],J[ee+0],se[Ae+0],me,Be)}}function al(w,C,N){return N==0?w==0?C==0?6:5:C==0?4:0:N}function wa(w,C,N,Q,X){switch(w>>>30){case 3:Fp(C,N,Q,X,0);break;case 2:tA(C,N,Q,X);break;case 1:sn(C,N,Q,X)}}function Gs(w,C){var N,Q,X=C.M,J=C.Nb,ee=w.oc,se=w.pc+40,Ae=w.oc,me=w.pc+584,Be=w.oc,Me=w.pc+600;for(N=0;16>N;++N)ee[se+32*N-1]=129;for(N=0;8>N;++N)Ae[me+32*N-1]=129,Be[Me+32*N-1]=129;for(0<X?ee[se-1-32]=Ae[me-1-32]=Be[Me-1-32]=129:(i(ee,se-32-1,127,21),i(Ae,me-32-1,127,9),i(Be,Me-32-1,127,9)),Q=0;Q<w.za;++Q){var ve=C.ya[C.aa+Q];if(0<Q){for(N=-1;16>N;++N)n(ee,se+32*N-4,ee,se+32*N+12,4);for(N=-1;8>N;++N)n(Ae,me+32*N-4,Ae,me+32*N+4,4),n(Be,Me+32*N-4,Be,Me+32*N+4,4)}var Te=w.Gd,Le=w.Hd+Q,je=ve.ad,Ne=ve.Hc;if(0<X&&(n(ee,se-32,Te[Le].y,0,16),n(Ae,me-32,Te[Le].f,0,8),n(Be,Me-32,Te[Le].ea,0,8)),ve.Za){var ze=ee,Ge=se-32+16;for(0<X&&(Q>=w.za-1?i(ze,Ge,Te[Le].y[15],4):n(ze,Ge,Te[Le+1].y,0,4)),N=0;4>N;N++)ze[Ge+128+N]=ze[Ge+256+N]=ze[Ge+384+N]=ze[Ge+0+N];for(N=0;16>N;++N,Ne<<=2)ze=ee,Ge=se+rO[N],KA[ve.Ob[N]](ze,Ge),wa(Ne,je,16*+N,ze,Ge)}else if(ze=al(Q,X,ve.Ob[0]),Jf[ze](ee,se),Ne!=0)for(N=0;16>N;++N,Ne<<=2)wa(Ne,je,16*+N,ee,se+rO[N]);for(N=ve.Gc,ze=al(Q,X,ve.Dd),rh[ze](Ae,me),rh[ze](Be,Me),Ne=je,ze=Ae,Ge=me,255&(ve=0|N)&&(170&ve?jc(Ne,256,ze,Ge):Tn(Ne,256,ze,Ge)),ve=Be,Ne=Me,255&(N>>=8)&&(170&N?jc(je,320,ve,Ne):Tn(je,320,ve,Ne)),X<w.Ub-1&&(n(Te[Le].y,0,ee,se+480,16),n(Te[Le].f,0,Ae,me+224,8),n(Te[Le].ea,0,Be,Me+224,8)),N=8*J*w.B,Te=w.sa,Le=w.ta+16*Q+16*J*w.R,je=w.qa,ve=w.ra+8*Q+N,Ne=w.Ha,ze=w.Ia+8*Q+N,N=0;16>N;++N)n(Te,Le+N*w.R,ee,se+32*N,16);for(N=0;8>N;++N)n(je,ve+N*w.B,Ae,me+32*N,8),n(Ne,ze+N*w.B,Be,Me+32*N,8)}}function jA(w,C,N,Q,X,J,ee,se,Ae){var me=[0],Be=[0],Me=0,ve=Ae!=null?Ae.kd:0,Te=Ae??new Ke;if(w==null||12>N)return 7;Te.data=w,Te.w=C,Te.ha=N,C=[C],N=[N],Te.gb=[Te.gb];e:{var Le=C,je=N,Ne=Te.gb;if(e(w!=null),e(je!=null),e(Ne!=null),Ne[0]=0,12<=je[0]&&!t(w,Le[0],"RIFF")){if(t(w,Le[0]+8,"WEBP")){Ne=3;break e}var ze=Se(w,Le[0]+4);if(12>ze||4294967286<ze){Ne=3;break e}if(ve&&ze>je[0]-8){Ne=7;break e}Ne[0]=ze,Le[0]+=12,je[0]-=12}Ne=0}if(Ne!=0)return Ne;for(ze=0<Te.gb[0],N=N[0];;){e:{var Ge=w;je=C,Ne=N;var rt=me,Je=Be,Ht=Le=[0];if((Ut=Me=[Me])[0]=0,8>Ne[0])Ne=7;else{if(!t(Ge,je[0],"VP8X")){if(Se(Ge,je[0]+4)!=10){Ne=3;break e}if(18>Ne[0]){Ne=7;break e}var It=Se(Ge,je[0]+8),wr=1+We(Ge,je[0]+12);if(2147483648<=wr*(Ge=1+We(Ge,je[0]+15))){Ne=3;break e}Ht!=null&&(Ht[0]=It),rt!=null&&(rt[0]=wr),Je!=null&&(Je[0]=Ge),je[0]+=18,Ne[0]-=18,Ut[0]=1}Ne=0}}if(Me=Me[0],Le=Le[0],Ne!=0)return Ne;if(je=!!(2&Le),!ze&&Me)return 3;if(J!=null&&(J[0]=!!(16&Le)),ee!=null&&(ee[0]=je),se!=null&&(se[0]=0),ee=me[0],Le=Be[0],Me&&je&&Ae==null){Ne=0;break}if(4>N){Ne=7;break}if(ze&&Me||!ze&&!Me&&!t(w,C[0],"ALPH")){N=[N],Te.na=[Te.na],Te.P=[Te.P],Te.Sa=[Te.Sa];e:{It=w,Ne=C,ze=N;var Ut=Te.gb;rt=Te.na,Je=Te.P,Ht=Te.Sa,wr=22,e(It!=null),e(ze!=null),Ge=Ne[0];var Dr=ze[0];for(e(rt!=null),e(Ht!=null),rt[0]=null,Je[0]=null,Ht[0]=0;;){if(Ne[0]=Ge,ze[0]=Dr,8>Dr){Ne=7;break e}var fs=Se(It,Ge+4);if(4294967286<fs){Ne=3;break e}var yr=8+fs+1&-2;if(wr+=yr,0<Ut&&wr>Ut){Ne=3;break e}if(!t(It,Ge,"VP8 ")||!t(It,Ge,"VP8L")){Ne=0;break e}if(Dr[0]<yr){Ne=7;break e}t(It,Ge,"ALPH")||(rt[0]=It,Je[0]=Ge+8,Ht[0]=fs),Ge+=yr,Dr-=yr}}if(N=N[0],Te.na=Te.na[0],Te.P=Te.P[0],Te.Sa=Te.Sa[0],Ne!=0)break}N=[N],Te.Ja=[Te.Ja],Te.xa=[Te.xa];e:if(Ut=w,Ne=C,ze=N,rt=Te.gb[0],Je=Te.Ja,Ht=Te.xa,It=Ne[0],Ge=!t(Ut,It,"VP8 "),wr=!t(Ut,It,"VP8L"),e(Ut!=null),e(ze!=null),e(Je!=null),e(Ht!=null),8>ze[0])Ne=7;else{if(Ge||wr){if(Ut=Se(Ut,It+4),12<=rt&&Ut>rt-12){Ne=3;break e}if(ve&&Ut>ze[0]-8){Ne=7;break e}Je[0]=Ut,Ne[0]+=8,ze[0]-=8,Ht[0]=wr}else Ht[0]=5<=ze[0]&&Ut[It+0]==47&&!(Ut[It+4]>>5),Je[0]=ze[0];Ne=0}if(N=N[0],Te.Ja=Te.Ja[0],Te.xa=Te.xa[0],C=C[0],Ne!=0)break;if(4294967286<Te.Ja)return 3;if(se==null||je||(se[0]=Te.xa?2:1),ee=[ee],Le=[Le],Te.xa){if(5>N){Ne=7;break}se=ee,ve=Le,je=J,w==null||5>N?w=0:5<=N&&w[C+0]==47&&!(w[C+4]>>5)?(ze=[0],Ut=[0],rt=[0],W(Je=new O,w,C,N),So(Je,ze,Ut,rt)?(se!=null&&(se[0]=ze[0]),ve!=null&&(ve[0]=Ut[0]),je!=null&&(je[0]=rt[0]),w=1):w=0):w=0}else{if(10>N){Ne=7;break}se=Le,w==null||10>N||!vp(w,C+3,N-3)?w=0:(ve=w[C+0]|w[C+1]<<8|w[C+2]<<16,je=16383&(w[C+7]<<8|w[C+6]),w=16383&(w[C+9]<<8|w[C+8]),1&ve||3<(ve>>1&7)||!(ve>>4&1)||ve>>5>=Te.Ja||!je||!w?w=0:(ee&&(ee[0]=je),se&&(se[0]=w),w=1))}if(!w||(ee=ee[0],Le=Le[0],Me&&(me[0]!=ee||Be[0]!=Le)))return 3;Ae!=null&&(Ae[0]=Te,Ae.offset=C-Ae.w,e(4294967286>C-Ae.w),e(Ae.offset==Ae.ha-N));break}return Ne==0||Ne==7&&Me&&Ae==null?(J!=null&&(J[0]|=Te.na!=null&&0<Te.na.length),Q!=null&&(Q[0]=ee),X!=null&&(X[0]=Le),0):Ne}function $y(w,C,N){var Q=C.width,X=C.height,J=0,ee=0,se=Q,Ae=X;if(C.Da=w!=null&&0<w.Da,C.Da&&(se=w.cd,Ae=w.bd,J=w.v,ee=w.j,11>N||(J&=-2,ee&=-2),0>J||0>ee||0>=se||0>=Ae||J+se>Q||ee+Ae>X))return 0;if(C.v=J,C.j=ee,C.va=J+se,C.o=ee+Ae,C.U=se,C.T=Ae,C.da=w!=null&&0<w.da,C.da){if(!$e(se,Ae,N=[w.ib],J=[w.hb]))return 0;C.ib=N[0],C.hb=J[0]}return C.ob=w!=null&&w.ob,C.Kb=w==null||!w.Sd,C.da&&(C.ob=C.ib<3*Q/4&&C.hb<3*X/4,C.Kb=0),1}function qy(w){if(w==null)return 2;if(11>w.S){var C=w.f.RGBA;C.fb+=(w.height-1)*C.A,C.A=-C.A}else C=w.f.kb,w=w.height,C.O+=(w-1)*C.fa,C.fa=-C.fa,C.N+=(w-1>>1)*C.Ab,C.Ab=-C.Ab,C.W+=(w-1>>1)*C.Db,C.Db=-C.Db,C.F!=null&&(C.J+=(w-1)*C.lb,C.lb=-C.lb);return 0}function zf(w,C,N,Q){if(Q==null||0>=w||0>=C)return 2;if(N!=null){if(N.Da){var X=N.cd,J=N.bd,ee=-2&N.v,se=-2&N.j;if(0>ee||0>se||0>=X||0>=J||ee+X>w||se+J>C)return 2;w=X,C=J}if(N.da){if(!$e(w,C,X=[N.ib],J=[N.hb]))return 2;w=X[0],C=J[0]}}Q.width=w,Q.height=C;e:{var Ae=Q.width,me=Q.height;if(w=Q.S,0>=Ae||0>=me||!(w>=BC&&13>w))w=2;else{if(0>=Q.Rd&&Q.sd==null){ee=J=X=C=0;var Be=(se=Ae*nO[w])*me;if(11>w||(J=(me+1)/2*(C=(Ae+1)/2),w==12&&(ee=(X=Ae)*me)),(me=s(Be+2*J+ee))==null){w=1;break e}Q.sd=me,11>w?((Ae=Q.f.RGBA).eb=me,Ae.fb=0,Ae.A=se,Ae.size=Be):((Ae=Q.f.kb).y=me,Ae.O=0,Ae.fa=se,Ae.Fd=Be,Ae.f=me,Ae.N=0+Be,Ae.Ab=C,Ae.Cd=J,Ae.ea=me,Ae.W=0+Be+J,Ae.Db=C,Ae.Ed=J,w==12&&(Ae.F=me,Ae.J=0+Be+2*J),Ae.Tc=ee,Ae.lb=X)}if(C=1,X=Q.S,J=Q.width,ee=Q.height,X>=BC&&13>X)if(11>X)w=Q.f.RGBA,C&=(se=Math.abs(w.A))*(ee-1)+J<=w.size,C&=se>=J*nO[X],C&=w.eb!=null;else{w=Q.f.kb,se=(J+1)/2,Be=(ee+1)/2,Ae=Math.abs(w.fa),me=Math.abs(w.Ab);var Me=Math.abs(w.Db),ve=Math.abs(w.lb),Te=ve*(ee-1)+J;C&=Ae*(ee-1)+J<=w.Fd,C&=me*(Be-1)+se<=w.Cd,C=(C&=Me*(Be-1)+se<=w.Ed)&Ae>=J&me>=se&Me>=se,C&=w.y!=null,C&=w.f!=null,C&=w.ea!=null,X==12&&(C&=ve>=J,C&=Te<=w.Tc,C&=w.F!=null)}else C=0;w=C?0:2}}return w!=0||N!=null&&N.fd&&(w=qy(Q)),w}var Sp=64,ol=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ll=24,Wf=32,eh=8,Gf=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];nt("Predictor0","PredictorAdd0"),b.Predictor0=function(){return 4278190080},b.Predictor1=function(w){return w},b.Predictor2=function(w,C,N){return C[N+0]},b.Predictor3=function(w,C,N){return C[N+1]},b.Predictor4=function(w,C,N){return C[N-1]},b.Predictor5=function(w,C,N){return gt(gt(w,C[N+1]),C[N+0])},b.Predictor6=function(w,C,N){return gt(w,C[N-1])},b.Predictor7=function(w,C,N){return gt(w,C[N+0])},b.Predictor8=function(w,C,N){return gt(C[N-1],C[N+0])},b.Predictor9=function(w,C,N){return gt(C[N+0],C[N+1])},b.Predictor10=function(w,C,N){return gt(gt(w,C[N-1]),gt(C[N+0],C[N+1]))},b.Predictor11=function(w,C,N){var Q=C[N+0];return 0>=lt(Q>>24&255,w>>24&255,(C=C[N-1])>>24&255)+lt(Q>>16&255,w>>16&255,C>>16&255)+lt(Q>>8&255,w>>8&255,C>>8&255)+lt(255&Q,255&w,255&C)?Q:w},b.Predictor12=function(w,C,N){var Q=C[N+0];return(Bt((w>>24&255)+(Q>>24&255)-((C=C[N-1])>>24&255))<<24|Bt((w>>16&255)+(Q>>16&255)-(C>>16&255))<<16|Bt((w>>8&255)+(Q>>8&255)-(C>>8&255))<<8|Bt((255&w)+(255&Q)-(255&C)))>>>0},b.Predictor13=function(w,C,N){var Q=C[N-1];return(bt((w=gt(w,C[N+0]))>>24&255,Q>>24&255)<<24|bt(w>>16&255,Q>>16&255)<<16|bt(w>>8&255,Q>>8&255)<<8|bt(255&w,255&Q))>>>0};var Xy=b.PredictorAdd0;b.PredictorAdd1=Ft,nt("Predictor2","PredictorAdd2"),nt("Predictor3","PredictorAdd3"),nt("Predictor4","PredictorAdd4"),nt("Predictor5","PredictorAdd5"),nt("Predictor6","PredictorAdd6"),nt("Predictor7","PredictorAdd7"),nt("Predictor8","PredictorAdd8"),nt("Predictor9","PredictorAdd9"),nt("Predictor10","PredictorAdd10"),nt("Predictor11","PredictorAdd11"),nt("Predictor12","PredictorAdd12"),nt("Predictor13","PredictorAdd13");var f1=b.PredictorAdd2;ct("ColorIndexInverseTransform","MapARGB","32b",function(w){return w>>8&255},function(w){return w}),ct("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(w){return w},function(w){return w>>8&255});var Ui,bC=b.ColorIndexInverseTransform,Hc=b.MapARGB,Vc=b.VP8LColorIndexInverseTransformAlpha,Yy=b.MapAlpha,Jy=b.VP8LPredictorsAdd=[];Jy.length=16,(b.VP8LPredictors=[]).length=16,(b.VP8LPredictorsAdd_C=[]).length=16,(b.VP8LPredictors_C=[]).length=16;var Zy,e2,$f,qf,Xf,Tp,Yf,Fp,tA,jc,sn,Tn,Mi,hs,th,t2,d1,EC,LM,PM,RM,DM,NM,UM,r2,MM,OM,QM,HM=s(511),VM=s(2041),jM=s(225),KM=s(767),zM=0,J4=VM,CC=jM,Al=KM,rA=HM,BC=0,SC=1,WM=2,TC=3,FC=4,Z4=5,GM=6,eI=7,tI=8,IC=9,rI=10,$ee=[2,3,7],qee=[3,3,11],$M=[280,256,256,256,40],Xee=[0,1,1,1,0],Yee=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Jee=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Zee=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ete=8,nI=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],iI=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],n2=null,tte=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],rte=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],qM=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],nte=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ite=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ste=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ate=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Jf=[],KA=[],rh=[],ote=1,XM=2,Zf=[],nA=[];Ws("UpsampleRgbLinePair",ae,3),Ws("UpsampleBgrLinePair",ke,3),Ws("UpsampleRgbaLinePair",Br,4),Ws("UpsampleBgraLinePair",fi,4),Ws("UpsampleArgbLinePair",Rr,4),Ws("UpsampleRgba4444LinePair",ot,2),Ws("UpsampleRgb565LinePair",Oe,2);var lte=b.UpsampleRgbLinePair,Ate=b.UpsampleBgrLinePair,YM=b.UpsampleRgbaLinePair,JM=b.UpsampleBgraLinePair,ZM=b.UpsampleArgbLinePair,eO=b.UpsampleRgba4444LinePair,cte=b.UpsampleRgb565LinePair,kC=16,LC=1<<kC-1,i2=-227,sI=482,ute=6,tO=0,hte=s(256),fte=s(256),dte=s(256),pte=s(256),gte=s(sI-i2),mte=s(sI-i2);Mn("YuvToRgbRow",ae,3),Mn("YuvToBgrRow",ke,3),Mn("YuvToRgbaRow",Br,4),Mn("YuvToBgraRow",fi,4),Mn("YuvToArgbRow",Rr,4),Mn("YuvToRgba4444Row",ot,2),Mn("YuvToRgb565Row",Oe,2);var rO=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],PC=[0,2,8],vte=[8,7,6,4,4,2,2,2,1,1,1,1],wte=1;this.WebPDecodeRGBA=function(w,C,N,Q,X){var J=SC,ee=new Ie,se=new Kr;ee.ba=se,se.S=J,se.width=[se.width],se.height=[se.height];var Ae=se.width,me=se.height,Be=new Wt;if(Be==null||w==null)var Me=2;else e(Be!=null),Me=jA(w,C,N,Be.width,Be.height,Be.Pd,Be.Qd,Be.format,null);if(Me!=0?Ae=0:(Ae!=null&&(Ae[0]=Be.width[0]),me!=null&&(me[0]=Be.height[0]),Ae=1),Ae){se.width=se.width[0],se.height=se.height[0],Q!=null&&(Q[0]=se.width),X!=null&&(X[0]=se.height);e:{if(Q=new es,(X=new Ke).data=w,X.w=C,X.ha=N,X.kd=1,C=[0],e(X!=null),((w=jA(X.data,X.w,X.ha,null,null,null,C,null,X))==0||w==7)&&C[0]&&(w=4),(C=w)==0){if(e(ee!=null),Q.data=X.data,Q.w=X.w+X.offset,Q.ha=X.ha-X.offset,Q.put=Kt,Q.ac=Fs,Q.bc=Sn,Q.ma=ee,X.xa){if((w=Re())==null){ee=1;break e}if(function(ve,Te){var Le=[0],je=[0],Ne=[0];t:for(;;){if(ve==null)return 0;if(Te==null)return ve.a=2,0;if(ve.l=Te,ve.a=0,W(ve.m,Te.data,Te.w,Te.ha),!So(ve.m,Le,je,Ne)){ve.a=3;break t}if(ve.xb=XM,Te.width=Le[0],Te.height=je[0],!De(Le[0],je[0],1,ve,null))break t;return 1}return e(ve.a!=0),0}(w,Q)){if(Q=(C=zf(Q.width,Q.height,ee.Oa,ee.ba))==0){t:{Q=w;r:for(;;){if(Q==null){Q=0;break t}if(e(Q.s.yc!=null),e(Q.s.Ya!=null),e(0<Q.s.Wb),e((N=Q.l)!=null),e((X=N.ma)!=null),Q.xb!=0){if(Q.ca=X.ba,Q.tb=X.tb,e(Q.ca!=null),!$y(X.Oa,N,TC)){Q.a=2;break r}if(!Ue(Q,N.width)||N.da)break r;if((N.da||Jt(Q.ca.S))&&Un(),11>Q.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Q.ca.f.kb.F!=null&&Un()),Q.Pb&&0<Q.s.ua&&Q.s.vb.X==null&&!ce(Q.s.vb,Q.s.Wa.Xa)){Q.a=1;break r}Q.xb=0}if(!Pe(Q,Q.V,Q.Ba,Q.c,Q.i,N.o,le))break r;X.Dc=Q.Ma,Q=1;break t}e(Q.a!=0),Q=0}Q=!Q}Q&&(C=w.a)}else C=w.a}else{if((w=new mp)==null){ee=1;break e}if(w.Fa=X.na,w.P=X.P,w.qc=X.Sa,c1(w,Q)){if((C=zf(Q.width,Q.height,ee.Oa,ee.ba))==0){if(w.Aa=0,N=ee.Oa,e((X=w)!=null),N!=null){if(0<(Ae=0>(Ae=N.Md)?0:100<Ae?255:255*Ae/100)){for(me=Be=0;4>me;++me)12>(Me=X.pb[me]).lc&&(Me.ia=Ae*vte[0>Me.lc?0:Me.lc]>>3),Be|=Me.ia;Be&&(alert("todo:VP8InitRandom"),X.ia=1)}X.Ga=N.Id,100<X.Ga?X.Ga=100:0>X.Ga&&(X.Ga=0)}(function(ve,Te){if(ve==null)return 0;if(Te==null)return ci(ve,2,"NULL VP8Io parameter in VP8Decode().");if(!ve.cb&&!c1(ve,Te))return 0;if(e(ve.cb),Te.ac==null||Te.ac(Te)){Te.ob&&(ve.L=0);var Le=PC[ve.L];if(ve.L==2?(ve.yb=0,ve.zb=0):(ve.yb=Te.v-Le>>4,ve.zb=Te.j-Le>>4,0>ve.yb&&(ve.yb=0),0>ve.zb&&(ve.zb=0)),ve.Va=Te.o+15+Le>>4,ve.Hb=Te.va+15+Le>>4,ve.Hb>ve.za&&(ve.Hb=ve.za),ve.Va>ve.Ub&&(ve.Va=ve.Ub),0<ve.L){var je=ve.ed;for(Le=0;4>Le;++Le){var Ne;if(ve.Qa.Cb){var ze=ve.Qa.Lb[Le];ve.Qa.Fb||(ze+=je.Tb)}else ze=je.Tb;for(Ne=0;1>=Ne;++Ne){var Ge=ve.gd[Le][Ne],rt=ze;if(je.Pc&&(rt+=je.vd[0],Ne&&(rt+=je.od[0])),0<(rt=0>rt?0:63<rt?63:rt)){var Je=rt;0<je.wb&&(Je=4<je.wb?Je>>2:Je>>1)>9-je.wb&&(Je=9-je.wb),1>Je&&(Je=1),Ge.dd=Je,Ge.tc=2*rt+Je,Ge.ld=40<=rt?2:15<=rt?1:0}else Ge.tc=0;Ge.La=Ne}}}Le=0}else ci(ve,6,"Frame setup failed"),Le=ve.a;if(Le=Le==0){if(Le){ve.$c=0,0<ve.Aa||(ve.Ic=wte);t:{Le=ve.Ic,je=4*(Je=ve.za);var Ht=32*Je,It=Je+1,wr=0<ve.L?Je*(0<ve.Aa?2:1):0,Ut=(ve.Aa==2?2:1)*Je;if((Ge=je+832+(Ne=3*(16*Le+PC[ve.L])/2*Ht)+(ze=ve.Fa!=null&&0<ve.Fa.length?ve.Kc.c*ve.Kc.i:0))!=Ge)Le=0;else{if(Ge>ve.Vb){if(ve.Vb=0,ve.Ec=s(Ge),ve.Fc=0,ve.Ec==null){Le=ci(ve,1,"no memory during frame initialization.");break t}ve.Vb=Ge}Ge=ve.Ec,rt=ve.Fc,ve.Ac=Ge,ve.Bc=rt,rt+=je,ve.Gd=a(Ht,Za),ve.Hd=0,ve.rb=a(It+1,nn),ve.sb=1,ve.wa=wr?a(wr,gr):null,ve.Y=0,ve.D.Nb=0,ve.D.wa=ve.wa,ve.D.Y=ve.Y,0<ve.Aa&&(ve.D.Y+=Je),e(!0),ve.oc=Ge,ve.pc=rt,rt+=832,ve.ya=a(Ut,rl),ve.aa=0,ve.D.ya=ve.ya,ve.D.aa=ve.aa,ve.Aa==2&&(ve.D.aa+=Je),ve.R=16*Je,ve.B=8*Je,Je=(Ht=PC[ve.L])*ve.R,Ht=Ht/2*ve.B,ve.sa=Ge,ve.ta=rt+Je,ve.qa=ve.sa,ve.ra=ve.ta+16*Le*ve.R+Ht,ve.Ha=ve.qa,ve.Ia=ve.ra+8*Le*ve.B+Ht,ve.$c=0,rt+=Ne,ve.mb=ze?Ge:null,ve.nb=ze?rt:null,e(rt+ze<=ve.Fc+ve.Vb),Rc(ve),i(ve.Ac,ve.Bc,0,je),Le=1}}if(Le){if(Te.ka=0,Te.y=ve.sa,Te.O=ve.ta,Te.f=ve.qa,Te.N=ve.ra,Te.ea=ve.Ha,Te.Vd=ve.Ia,Te.fa=ve.R,Te.Rc=ve.B,Te.F=null,Te.J=0,!zM){for(Le=-255;255>=Le;++Le)HM[255+Le]=0>Le?-Le:Le;for(Le=-1020;1020>=Le;++Le)VM[1020+Le]=-128>Le?-128:127<Le?127:Le;for(Le=-112;112>=Le;++Le)jM[112+Le]=-16>Le?-16:15<Le?15:Le;for(Le=-255;510>=Le;++Le)KM[255+Le]=0>Le?0:255<Le?255:Le;zM=1}Yf=Dc,Fp=Of,jc=u1,sn=Ir,Tn=qu,tA=Mf,Mi=Ep,hs=Kf,th=L,t2=G,d1=eA,EC=Cp,LM=de,PM=Ee,RM=Oc,DM=Qc,NM=Lo,UM=bp,KA[0]=zy,KA[1]=wp,KA[2]=Uc,KA[3]=Ky,KA[4]=Wy,KA[5]=QA,KA[6]=Is,KA[7]=Gy,KA[8]=HA,KA[9]=Hf,Jf[0]=ko,Jf[1]=Vy,Jf[2]=jy,Jf[3]=yp,Jf[4]=Jl,Jf[5]=Nc,Jf[6]=Qf,rh[0]=Yu,rh[1]=h1,rh[2]=Vf,rh[3]=il,rh[4]=vn,rh[5]=xp,rh[6]=_p,Le=1}else Le=0}Le&&(Le=function(Dr,fs){for(Dr.M=0;Dr.M<Dr.Va;++Dr.M){var yr,Mt=Dr.Jc[Dr.M&Dr.Xb],ft=Dr.m,Oi=Dr;for(yr=0;yr<Oi.za;++yr){var hr=ft,Qr=Oi,Wn=Qr.Ac,$s=Qr.Bc+4*yr,ro=Qr.zc,Ci=Qr.ya[Qr.aa+yr];if(Qr.Qa.Bb?Ci.$b=be(hr,Qr.Pa.jb[0])?2+be(hr,Qr.Pa.jb[2]):be(hr,Qr.Pa.jb[1]):Ci.$b=0,Qr.kc&&(Ci.Ad=be(hr,Qr.Bd)),Ci.Za=!be(hr,145)+0,Ci.Za){var ya=Ci.Ob,no=0;for(Qr=0;4>Qr;++Qr){var ds,zr=ro[0+Qr];for(ds=0;4>ds;++ds){zr=ite[Wn[$s+ds]][zr];for(var cn=qM[be(hr,zr[0])];0<cn;)cn=qM[2*cn+be(hr,zr[cn])];zr=-cn,Wn[$s+ds]=zr}n(ya,no,Wn,$s,4),no+=4,ro[0+Qr]=zr}}else zr=be(hr,156)?be(hr,128)?1:3:be(hr,163)?2:0,Ci.Ob[0]=zr,i(Wn,$s,zr,4),i(ro,0,zr,4);Ci.Dd=be(hr,142)?be(hr,114)?be(hr,183)?1:3:2:0}if(Oi.m.Ka)return ci(Dr,7,"Premature end-of-partition0 encountered.");for(;Dr.ja<Dr.za;++Dr.ja){if(Oi=Mt,hr=(ft=Dr).rb[ft.sb-1],Wn=ft.rb[ft.sb+ft.ja],yr=ft.ya[ft.aa+ft.ja],$s=ft.kc?yr.Ad:0)hr.la=Wn.la=0,yr.Za||(hr.Na=Wn.Na=0),yr.Hc=0,yr.Gc=0,yr.ia=0;else{var Bi,un;if(hr=Wn,Wn=Oi,$s=ft.Pa.Xc,ro=ft.ya[ft.aa+ft.ja],Ci=ft.pb[ro.$b],Qr=ro.ad,ya=0,no=ft.rb[ft.sb-1],zr=ds=0,i(Qr,ya,0,384),ro.Za)var qs=0,zA=$s[3];else{cn=s(16);var Qi=hr.Na+no.Na;if(Qi=n2(Wn,$s[1],Qi,Ci.Eb,0,cn,0),hr.Na=no.Na=(0<Qi)+0,1<Qi)Yf(cn,0,Qr,ya);else{var Po=cn[0]+3>>3;for(cn=0;256>cn;cn+=16)Qr[ya+cn]=Po}qs=1,zA=$s[0]}var Fn=15&hr.la,ps=15&no.la;for(cn=0;4>cn;++cn){var cl=1&ps;for(Po=un=0;4>Po;++Po)Fn=Fn>>1|(cl=(Qi=n2(Wn,zA,Qi=cl+(1&Fn),Ci.Sc,qs,Qr,ya))>qs)<<7,un=un<<2|(3<Qi?3:1<Qi?2:Qr[ya+0]!=0),ya+=16;Fn>>=4,ps=ps>>1|cl<<7,ds=(ds<<8|un)>>>0}for(zA=Fn,qs=ps>>4,Bi=0;4>Bi;Bi+=2){for(un=0,Fn=hr.la>>4+Bi,ps=no.la>>4+Bi,cn=0;2>cn;++cn){for(cl=1&ps,Po=0;2>Po;++Po)Qi=cl+(1&Fn),Fn=Fn>>1|(cl=0<(Qi=n2(Wn,$s[2],Qi,Ci.Qc,0,Qr,ya)))<<3,un=un<<2|(3<Qi?3:1<Qi?2:Qr[ya+0]!=0),ya+=16;Fn>>=2,ps=ps>>1|cl<<5}zr|=un<<4*Bi,zA|=Fn<<4<<Bi,qs|=(240&ps)<<Bi}hr.la=zA,no.la=qs,ro.Hc=ds,ro.Gc=zr,ro.ia=43690&zr?0:Ci.ia,$s=!(ds|zr)}if(0<ft.L&&(ft.wa[ft.Y+ft.ja]=ft.gd[yr.$b][yr.Za],ft.wa[ft.Y+ft.ja].La|=!$s),Oi.Ka)return ci(Dr,7,"Premature end-of-file encountered.")}if(Rc(Dr),ft=fs,Oi=1,yr=(Mt=Dr).D,hr=0<Mt.L&&Mt.M>=Mt.zb&&Mt.M<=Mt.Va,Mt.Aa==0)t:{if(yr.M=Mt.M,yr.uc=hr,Gs(Mt,yr),Oi=1,yr=(un=Mt.D).Nb,hr=(zr=PC[Mt.L])*Mt.R,Wn=zr/2*Mt.B,cn=16*yr*Mt.R,Po=8*yr*Mt.B,$s=Mt.sa,ro=Mt.ta-hr+cn,Ci=Mt.qa,Qr=Mt.ra-Wn+Po,ya=Mt.Ha,no=Mt.Ia-Wn+Po,ps=(Fn=un.M)==0,ds=Fn>=Mt.Va-1,Mt.Aa==2&&Gs(Mt,un),un.uc)for(cl=(Qi=Mt).D.M,e(Qi.D.uc),un=Qi.yb;un<Qi.Hb;++un){qs=un,zA=cl;var io=(ul=(Xs=Qi).D).Nb;Bi=Xs.R;var ul=ul.wa[ul.Y+qs],hl=Xs.sa,Ro=Xs.ta+16*io*Bi+16*qs,fl=ul.dd,On=ul.tc;if(On!=0)if(e(3<=On),Xs.L==1)0<qs&&DM(hl,Ro,Bi,On+4),ul.La&&UM(hl,Ro,Bi,On),0<zA&&RM(hl,Ro,Bi,On+4),ul.La&&NM(hl,Ro,Bi,On);else{var dl=Xs.B,WA=Xs.qa,Ip=Xs.ra+8*io*dl+8*qs,nh=Xs.Ha,Xs=Xs.Ia+8*io*dl+8*qs;io=ul.ld,0<qs&&(hs(hl,Ro,Bi,On+4,fl,io),t2(WA,Ip,nh,Xs,dl,On+4,fl,io)),ul.La&&(EC(hl,Ro,Bi,On,fl,io),PM(WA,Ip,nh,Xs,dl,On,fl,io)),0<zA&&(Mi(hl,Ro,Bi,On+4,fl,io),th(WA,Ip,nh,Xs,dl,On+4,fl,io)),ul.La&&(d1(hl,Ro,Bi,On,fl,io),LM(WA,Ip,nh,Xs,dl,On,fl,io))}}if(Mt.ia&&alert("todo:DitherRow"),ft.put!=null){if(un=16*Fn,Fn=16*(Fn+1),ps?(ft.y=Mt.sa,ft.O=Mt.ta+cn,ft.f=Mt.qa,ft.N=Mt.ra+Po,ft.ea=Mt.Ha,ft.W=Mt.Ia+Po):(un-=zr,ft.y=$s,ft.O=ro,ft.f=Ci,ft.N=Qr,ft.ea=ya,ft.W=no),ds||(Fn-=zr),Fn>ft.o&&(Fn=ft.o),ft.F=null,ft.J=null,Mt.Fa!=null&&0<Mt.Fa.length&&un<Fn&&(ft.J=ui(Mt,ft,un,Fn-un),ft.F=Mt.mb,ft.F==null&&ft.F.length==0)){Oi=ci(Mt,3,"Could not decode alpha data.");break t}un<ft.j&&(zr=ft.j-un,un=ft.j,e(!(1&zr)),ft.O+=Mt.R*zr,ft.N+=Mt.B*(zr>>1),ft.W+=Mt.B*(zr>>1),ft.F!=null&&(ft.J+=ft.width*zr)),un<Fn&&(ft.O+=ft.v,ft.N+=ft.v>>1,ft.W+=ft.v>>1,ft.F!=null&&(ft.J+=ft.v),ft.ka=un-ft.j,ft.U=ft.va-ft.v,ft.T=Fn-un,Oi=ft.put(ft))}yr+1!=Mt.Ic||ds||(n(Mt.sa,Mt.ta-hr,$s,ro+16*Mt.R,hr),n(Mt.qa,Mt.ra-Wn,Ci,Qr+8*Mt.B,Wn),n(Mt.Ha,Mt.Ia-Wn,ya,no+8*Mt.B,Wn))}if(!Oi)return ci(Dr,6,"Output aborted.")}return 1}(ve,Te)),Te.bc!=null&&Te.bc(Te),Le&=1}return Le?(ve.cb=0,Le):0})(w,Q)||(C=w.a)}}else C=w.a}C==0&&ee.Oa!=null&&ee.Oa.fd&&(C=qy(ee.ba))}ee=C}J=ee!=0?null:11>J?se.f.RGBA.eb:se.f.kb.y}else J=null;return J};var nO=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function A(b,I){for(var T="",F=0;F<4;F++)T+=String.fromCharCode(b[I++]);return T}function c(b,I){return b[I+0]|b[I+1]<<8}function u(b,I){return(b[I+0]|b[I+1]<<8|b[I+2]<<16)>>>0}function h(b,I){return(b[I+0]|b[I+1]<<8|b[I+2]<<16|b[I+3]<<24)>>>0}new l;var f=[0],g=[0],p=[],v=new l,m=r,x=function(b,I){var T={},F=0,D=!1,q=0,ie=0;if(T.frames=[],!function(P,O){for(var H=0;H<4;H++)if(P[O+H]!="RIFF".charCodeAt(H))return!0;return!1}(b,I)){for(h(b,I+=4),I+=8;I<b.length;){var oe=A(b,I),te=h(b,I+=4);I+=4;var re=te+(1&te);switch(oe){case"VP8 ":case"VP8L":T.frames[F]===void 0&&(T.frames[F]={}),(_e=T.frames[F]).src_off=D?ie:I-8,_e.src_size=q+te+8,F++,D&&(D=!1,q=0,ie=0);break;case"VP8X":(_e=T.header={}).feature_flags=b[I];var W=I+4;_e.canvas_width=1+u(b,W),W+=3,_e.canvas_height=1+u(b,W),W+=3;break;case"ALPH":D=!0,q=re+8,ie=I-8;break;case"ANIM":(_e=T.header).bgcolor=h(b,I),W=I+4,_e.loop_count=c(b,W),W+=2;break;case"ANMF":var pe,_e;(_e=T.frames[F]={}).offset_x=2*u(b,I),I+=3,_e.offset_y=2*u(b,I),I+=3,_e.width=1+u(b,I),I+=3,_e.height=1+u(b,I),I+=3,_e.duration=u(b,I),I+=3,pe=b[I++],_e.dispose=1&pe,_e.blend=pe>>1&1}oe!="ANMF"&&(I+=re)}return T}}(m,0);x.response=m,x.rgbaoutput=!0,x.dataurl=!1;var _=x.header?x.header:null,S=x.frames?x.frames:null;if(_){_.loop_counter=_.loop_count,f=[_.canvas_height],g=[_.canvas_width];for(var k=0;k<S.length&&S[k].blend!=0;k++);}var R=S[0],B=v.WebPDecodeRGBA(m,R.src_off,R.src_size,g,f);R.rgba=B,R.imgwidth=g[0],R.imgheight=f[0];for(var E=0;E<g[0]*f[0]*4;E++)p[E]=B[E];return this.width=g,this.height=f,this.data=p,this}(function(r){var e,t,n,i,s,a,o,l,A,c=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new l,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new a,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new a,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new u(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,A=new c}]);var u=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var O=P;Object.defineProperty(this,"pdf",{get:function(){return O}});var H=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return H},set:function(Se){H=!!Se}});var K=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return K},set:function(Se){K=!!Se}});var Z=0;Object.defineProperty(this,"posX",{get:function(){return Z},set:function(Se){isNaN(Se)||(Z=Se)}});var he=0;Object.defineProperty(this,"posY",{get:function(){return he},set:function(Se){isNaN(Se)||(he=Se)}}),Object.defineProperty(this,"margin",{get:function(){return A.margin},set:function(Se){var ce;typeof Se=="number"?ce=[Se,Se,Se,Se]:((ce=new Array(4))[0]=Se[0],ce[1]=Se.length>=2?Se[1]:ce[0],ce[2]=Se.length>=3?Se[2]:ce[0],ce[3]=Se.length>=4?Se[3]:ce[1]),A.margin=ce}});var xe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return xe},set:function(Se){xe=Se}});var ye=0;Object.defineProperty(this,"lastBreak",{get:function(){return ye},set:function(Se){ye=Se}});var be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return be},set:function(Se){be=Se}}),Object.defineProperty(this,"ctx",{get:function(){return A},set:function(Se){Se instanceof c&&(A=Se)}}),Object.defineProperty(this,"path",{get:function(){return A.path},set:function(Se){A.path=Se}});var Fe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Fe},set:function(Se){Fe=Se}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Se){var ce;ce=h(Se),this.ctx.fillStyle=ce.style,this.ctx.isFillTransparent=ce.a===0,this.ctx.fillOpacity=ce.a,this.pdf.setFillColor(ce.r,ce.g,ce.b,{a:ce.a}),this.pdf.setTextColor(ce.r,ce.g,ce.b,{a:ce.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Se){var ce=h(Se);this.ctx.strokeStyle=ce.style,this.ctx.isStrokeTransparent=ce.a===0,this.ctx.strokeOpacity=ce.a,ce.a===0?this.pdf.setDrawColor(255,255,255):(ce.a,this.pdf.setDrawColor(ce.r,ce.g,ce.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Se){["butt","round","square"].indexOf(Se)!==-1&&(this.ctx.lineCap=Se,this.pdf.setLineCap(Se))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Se){isNaN(Se)||(this.ctx.lineWidth=Se,this.pdf.setLineWidth(Se))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Se){["bevel","round","miter"].indexOf(Se)!==-1&&(this.ctx.lineJoin=Se,this.pdf.setLineJoin(Se))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Se){isNaN(Se)||(this.ctx.miterLimit=Se,this.pdf.setMiterLimit(Se))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Se){this.ctx.textBaseline=Se}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Se){["right","end","center","left","start"].indexOf(Se)!==-1&&(this.ctx.textAlign=Se)}});var ne=null,We=null;Object.defineProperty(this,"fontFaces",{get:function(){return We},set:function(Se){ne=null,We=Se}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Se){var ce;if(this.ctx.font=Se,(ce=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Se))!==null){var qe=ce[1];ce[2];var Ve=ce[3],$e=ce[4];ce[5];var He=ce[6],ht=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec($e)[2];$e=Math.floor(ht==="px"?parseFloat($e)*this.pdf.internal.scaleFactor:ht==="em"?parseFloat($e)*this.pdf.getFontSize():parseFloat($e)*this.pdf.internal.scaleFactor),this.pdf.setFontSize($e);var nt=function(at){var ct,jt,Qt=[],wt=at.trim();if(wt==="")return g3;if(wt in QV)return[QV[wt]];for(;wt!=="";){switch(jt=null,ct=(wt=VV(wt)).charAt(0)){case'"':case"'":jt=YIe(wt.substring(1),ct);break;default:jt=JIe(wt)}if(jt===null||(Qt.push(jt[0]),(wt=VV(jt[1]))!==""&&wt.charAt(0)!==","))return g3;wt=wt.replace(/^,/,"")}return Qt}(He);if(this.fontFaces){var Nt=function(at,ct){if(ne===null){var jt=function(Qt){var wt=[];return Object.keys(Qt).forEach(function(Yt){Qt[Yt].forEach(function(en){var zt=null;switch(en){case"bold":zt={family:Yt,weight:"bold"};break;case"italic":zt={family:Yt,style:"italic"};break;case"bolditalic":zt={family:Yt,weight:"bold",style:"italic"};break;case"":case"normal":zt={family:Yt}}zt!==null&&(zt.ref={name:Yt,style:en},wt.push(zt))})}),wt}(at.getFontList());ne=function(Qt){for(var wt={},Yt=0;Yt<Qt.length;++Yt){var en=p3(Qt[Yt]),zt=en.family,pr=en.stretch,Jt=en.style,Cn=en.weight;wt[zt]=wt[zt]||{},wt[zt][pr]=wt[zt][pr]||{},wt[zt][pr][Jt]=wt[zt][pr][Jt]||{},wt[zt][pr][Jt][Cn]=en}return wt}(jt.concat(ct))}return ne}(this.pdf,this.fontFaces),gt=nt.map(function(at){return{family:at,stretch:"normal",weight:Ve,style:qe}}),Bt=function(at,ct,jt){for(var Qt=(jt=jt||{}).defaultFontFamily||"times",wt=Object.assign({},XIe,jt.genericFontFamilies||{}),Yt=null,en=null,zt=0;zt<ct.length;++zt)if(wt[(Yt=p3(ct[zt])).family]&&(Yt.family=wt[Yt.family]),at.hasOwnProperty(Yt.family)){en=at[Yt.family];break}if(!(en=en||at[Qt]))throw new Error("Could not find a font-family for the rule '"+HV(Yt)+"' and default family '"+Qt+"'.");if(en=function(pr,Jt){if(Jt[pr])return Jt[pr];var Cn=ED[pr],Bn=Cn<=ED.normal?-1:1,Kr=OV(Jt,Tee,Cn,Bn);if(!Kr)throw new Error("Could not find a matching font-stretch value for "+pr);return Kr}(Yt.stretch,en),en=function(pr,Jt){if(Jt[pr])return Jt[pr];for(var Cn=See[pr],Bn=0;Bn<Cn.length;++Bn)if(Jt[Cn[Bn]])return Jt[Cn[Bn]];throw new Error("Could not find a matching font-style for "+pr)}(Yt.style,en),!(en=function(pr,Jt){if(Jt[pr])return Jt[pr];if(pr===400&&Jt[500])return Jt[500];if(pr===500&&Jt[400])return Jt[400];var Cn=qIe[pr],Bn=OV(Jt,Fee,Cn,pr<400?-1:1);if(!Bn)throw new Error("Could not find a matching font-weight for value "+pr);return Bn}(Yt.weight,en)))throw new Error("Failed to resolve a font for the rule '"+HV(Yt)+"'.");return en}(Nt,gt);this.pdf.setFont(Bt.ref.name,Bt.ref.style)}else{var bt="";(Ve==="bold"||parseInt(Ve,10)>=700||qe==="bold")&&(bt="bold"),qe==="italic"&&(bt+="italic"),bt.length===0&&(bt="normal");for(var lt="",Ft={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},mt=0;mt<nt.length;mt++){if(this.pdf.internal.getFont(nt[mt],bt,{noFallback:!0,disableWarning:!0})!==void 0){lt=nt[mt];break}if(bt==="bolditalic"&&this.pdf.internal.getFont(nt[mt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)lt=nt[mt],bt="bold";else if(this.pdf.internal.getFont(nt[mt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){lt=nt[mt],bt="normal";break}}if(lt===""){for(var vt=0;vt<nt.length;vt++)if(Ft[nt[vt]]){lt=Ft[nt[vt]];break}}lt=lt===""?"Times":lt,this.pdf.setFont(lt,bt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Se){this.ctx.globalCompositeOperation=Se}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Se){this.ctx.globalAlpha=Se}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Se){this.ctx.lineDashOffset=Se,_e.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Se){this.ctx.lineDash=Se,_e.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Se){this.ctx.ignoreClearRect=!!Se}})};u.prototype.setLineDash=function(P){this.lineDash=P},u.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},u.prototype.fill=function(){S.call(this,"fill",!1)},u.prototype.stroke=function(){S.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(P,O){if(isNaN(P)||isNaN(O))throw Ln.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var H=this.ctx.transform.applyToPoint(new a(P,O));this.path.push({type:"mt",x:H.x,y:H.y}),this.ctx.lastPoint=new a(P,O)},u.prototype.closePath=function(){var P=new a(0,0),O=0;for(O=this.path.length-1;O!==-1;O--)if(this.path[O].type==="begin"&&pn(this.path[O+1])==="object"&&typeof this.path[O+1].x=="number"){P=new a(this.path[O+1].x,this.path[O+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(P.x,P.y)},u.prototype.lineTo=function(P,O){if(isNaN(P)||isNaN(O))throw Ln.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var H=this.ctx.transform.applyToPoint(new a(P,O));this.path.push({type:"lt",x:H.x,y:H.y}),this.ctx.lastPoint=new a(H.x,H.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),S.call(this,null,!0)},u.prototype.quadraticCurveTo=function(P,O,H,K){if(isNaN(H)||isNaN(K)||isNaN(P)||isNaN(O))throw Ln.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Z=this.ctx.transform.applyToPoint(new a(H,K)),he=this.ctx.transform.applyToPoint(new a(P,O));this.path.push({type:"qct",x1:he.x,y1:he.y,x:Z.x,y:Z.y}),this.ctx.lastPoint=new a(Z.x,Z.y)},u.prototype.bezierCurveTo=function(P,O,H,K,Z,he){if(isNaN(Z)||isNaN(he)||isNaN(P)||isNaN(O)||isNaN(H)||isNaN(K))throw Ln.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var xe=this.ctx.transform.applyToPoint(new a(Z,he)),ye=this.ctx.transform.applyToPoint(new a(P,O)),be=this.ctx.transform.applyToPoint(new a(H,K));this.path.push({type:"bct",x1:ye.x,y1:ye.y,x2:be.x,y2:be.y,x:xe.x,y:xe.y}),this.ctx.lastPoint=new a(xe.x,xe.y)},u.prototype.arc=function(P,O,H,K,Z,he){if(isNaN(P)||isNaN(O)||isNaN(H)||isNaN(K)||isNaN(Z))throw Ln.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(he=!!he,!this.ctx.transform.isIdentity){var xe=this.ctx.transform.applyToPoint(new a(P,O));P=xe.x,O=xe.y;var ye=this.ctx.transform.applyToPoint(new a(0,H)),be=this.ctx.transform.applyToPoint(new a(0,0));H=Math.sqrt(Math.pow(ye.x-be.x,2)+Math.pow(ye.y-be.y,2))}Math.abs(Z-K)>=2*Math.PI&&(K=0,Z=2*Math.PI),this.path.push({type:"arc",x:P,y:O,radius:H,startAngle:K,endAngle:Z,counterclockwise:he})},u.prototype.arcTo=function(P,O,H,K,Z){throw new Error("arcTo not implemented.")},u.prototype.rect=function(P,O,H,K){if(isNaN(P)||isNaN(O)||isNaN(H)||isNaN(K))throw Ln.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,O),this.lineTo(P+H,O),this.lineTo(P+H,O+K),this.lineTo(P,O+K),this.lineTo(P,O),this.lineTo(P+H,O),this.lineTo(P,O)},u.prototype.fillRect=function(P,O,H,K){if(isNaN(P)||isNaN(O)||isNaN(H)||isNaN(K))throw Ln.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var Z={};this.lineCap!=="butt"&&(Z.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Z.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,O,H,K),this.fill(),Z.hasOwnProperty("lineCap")&&(this.lineCap=Z.lineCap),Z.hasOwnProperty("lineJoin")&&(this.lineJoin=Z.lineJoin)}},u.prototype.strokeRect=function(P,O,H,K){if(isNaN(P)||isNaN(O)||isNaN(H)||isNaN(K))throw Ln.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(P,O,H,K),this.stroke())},u.prototype.clearRect=function(P,O,H,K){if(isNaN(P)||isNaN(O)||isNaN(H)||isNaN(K))throw Ln.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,O,H,K))},u.prototype.save=function(P){P=typeof P!="boolean"||P;for(var O=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("q");if(this.pdf.setPage(O),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var K=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=K}},u.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var O=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("Q");this.pdf.setPage(O),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},u.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(P){var O,H,K,Z;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))O=0,H=0,K=0,Z=0;else{var he=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(he!==null)O=parseInt(he[1]),H=parseInt(he[2]),K=parseInt(he[3]),Z=1;else if((he=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)O=parseInt(he[1]),H=parseInt(he[2]),K=parseInt(he[3]),Z=parseFloat(he[4]);else{if(Z=1,typeof P=="string"&&P.charAt(0)!=="#"){var xe=new yee(P);P=xe.ok?xe.toHex():"#000000"}P.length===4?(O=P.substring(1,2),O+=O,H=P.substring(2,3),H+=H,K=P.substring(3,4),K+=K):(O=P.substring(1,3),H=P.substring(3,5),K=P.substring(5,7)),O=parseInt(O,16),H=parseInt(H,16),K=parseInt(K,16)}}return{r:O,g:H,b:K,a:Z,style:P}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};u.prototype.fillText=function(P,O,H,K){if(isNaN(O)||isNaN(H)||typeof P!="string")throw Ln.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(K=isNaN(K)?void 0:K,!f.call(this)){var Z=re(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;F.call(this,{text:P,x:O,y:H,scale:he,angle:Z,align:this.textAlign,maxWidth:K})}},u.prototype.strokeText=function(P,O,H,K){if(isNaN(O)||isNaN(H)||typeof P!="string")throw Ln.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){K=isNaN(K)?void 0:K;var Z=re(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;F.call(this,{text:P,x:O,y:H,scale:he,renderingMode:"stroke",angle:Z,align:this.textAlign,maxWidth:K})}},u.prototype.measureText=function(P){if(typeof P!="string")throw Ln.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var O=this.pdf,H=this.pdf.internal.scaleFactor,K=O.internal.getFontSize(),Z=O.getStringUnitWidth(P)*K/O.internal.scaleFactor;return new function(he){var xe=(he=he||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return xe}}),this}({width:Z*=Math.round(96*H/72*1e4)/1e4})},u.prototype.scale=function(P,O){if(isNaN(P)||isNaN(O))throw Ln.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var H=new l(P,0,0,O,0,0);this.ctx.transform=this.ctx.transform.multiply(H)},u.prototype.rotate=function(P){if(isNaN(P))throw Ln.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var O=new l(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(O)},u.prototype.translate=function(P,O){if(isNaN(P)||isNaN(O))throw Ln.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var H=new l(1,0,0,1,P,O);this.ctx.transform=this.ctx.transform.multiply(H)},u.prototype.transform=function(P,O,H,K,Z,he){if(isNaN(P)||isNaN(O)||isNaN(H)||isNaN(K)||isNaN(Z)||isNaN(he))throw Ln.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var xe=new l(P,O,H,K,Z,he);this.ctx.transform=this.ctx.transform.multiply(xe)},u.prototype.setTransform=function(P,O,H,K,Z,he){P=isNaN(P)?1:P,O=isNaN(O)?0:O,H=isNaN(H)?0:H,K=isNaN(K)?1:K,Z=isNaN(Z)?0:Z,he=isNaN(he)?0:he,this.ctx.transform=new l(P,O,H,K,Z,he)};var p=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};u.prototype.drawImage=function(P,O,H,K,Z,he,xe,ye,be){var Fe=this.pdf.getImageProperties(P),ne=1,We=1,Se=1,ce=1;K!==void 0&&ye!==void 0&&(Se=ye/K,ce=be/Z,ne=Fe.width/K*ye/K,We=Fe.height/Z*be/Z),he===void 0&&(he=O,xe=H,O=0,H=0),K!==void 0&&ye===void 0&&(ye=K,be=Z),K===void 0&&ye===void 0&&(ye=Fe.width,be=Fe.height);for(var qe,Ve=this.ctx.transform.decompose(),$e=re(Ve.rotate.shx),He=new l,ht=(He=(He=(He=He.multiply(Ve.translate)).multiply(Ve.skew)).multiply(Ve.scale)).applyToRectangle(new o(he-O*Se,xe-H*ce,K*ne,Z*We)),nt=v.call(this,ht),Nt=[],gt=0;gt<nt.length;gt+=1)Nt.indexOf(nt[gt])===-1&&Nt.push(nt[gt]);if(_(Nt),this.autoPaging)for(var Bt=Nt[0],bt=Nt[Nt.length-1],lt=Bt;lt<bt+1;lt++){this.pdf.setPage(lt);var Ft=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],mt=lt===1?this.posY+this.margin[0]:this.margin[0],vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],at=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ct=lt===1?0:vt+(lt-2)*at;if(this.ctx.clip_path.length!==0){var jt=this.path;qe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(qe,this.posX+this.margin[3],-ct+mt+this.ctx.prevPageLastElemOffset),k.call(this,"fill",!0),this.path=jt}var Qt=JSON.parse(JSON.stringify(ht));Qt=x([Qt],this.posX+this.margin[3],-ct+mt+this.ctx.prevPageLastElemOffset)[0];var wt=(lt>Bt||lt<bt)&&p.call(this);wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ft,at,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",Qt.x,Qt.y,Qt.w,Qt.h,null,null,$e),wt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(P,"JPEG",ht.x,ht.y,ht.w,ht.h,null,null,$e)};var v=function(P,O,H){var K=[];O=O||this.pdf.internal.pageSize.width,H=H||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Z=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":K.push(Math.floor((P.y+Z)/H)+1);break;case"arc":K.push(Math.floor((P.y+Z-P.radius)/H)+1),K.push(Math.floor((P.y+Z+P.radius)/H)+1);break;case"qct":var he=W(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);K.push(Math.floor((he.y+Z)/H)+1),K.push(Math.floor((he.y+he.h+Z)/H)+1);break;case"bct":var xe=pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);K.push(Math.floor((xe.y+Z)/H)+1),K.push(Math.floor((xe.y+xe.h+Z)/H)+1);break;case"rect":K.push(Math.floor((P.y+Z)/H)+1),K.push(Math.floor((P.y+P.h+Z)/H)+1)}for(var ye=0;ye<K.length;ye+=1)for(;this.pdf.internal.getNumberOfPages()<K[ye];)m.call(this);return K},m=function(){var P=this.fillStyle,O=this.strokeStyle,H=this.font,K=this.lineCap,Z=this.lineWidth,he=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=O,this.font=H,this.lineCap=K,this.lineWidth=Z,this.lineJoin=he},x=function(P,O,H){for(var K=0;K<P.length;K++)switch(P[K].type){case"bct":P[K].x2+=O,P[K].y2+=H;case"qct":P[K].x1+=O,P[K].y1+=H;default:P[K].x+=O,P[K].y+=H}return P},_=function(P){return P.sort(function(O,H){return O-H})},S=function(P,O){for(var H,K,Z=this.fillStyle,he=this.strokeStyle,xe=this.lineCap,ye=this.lineWidth,be=Math.abs(ye*this.ctx.transform.scaleX),Fe=this.lineJoin,ne=JSON.parse(JSON.stringify(this.path)),We=JSON.parse(JSON.stringify(this.path)),Se=[],ce=0;ce<We.length;ce++)if(We[ce].x!==void 0)for(var qe=v.call(this,We[ce]),Ve=0;Ve<qe.length;Ve+=1)Se.indexOf(qe[Ve])===-1&&Se.push(qe[Ve]);for(var $e=0;$e<Se.length;$e++)for(;this.pdf.internal.getNumberOfPages()<Se[$e];)m.call(this);if(_(Se),this.autoPaging)for(var He=Se[0],ht=Se[Se.length-1],nt=He;nt<ht+1;nt++){this.pdf.setPage(nt),this.fillStyle=Z,this.strokeStyle=he,this.lineCap=xe,this.lineWidth=be,this.lineJoin=Fe;var Nt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],gt=nt===1?this.posY+this.margin[0]:this.margin[0],Bt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],lt=nt===1?0:Bt+(nt-2)*bt;if(this.ctx.clip_path.length!==0){var Ft=this.path;H=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(H,this.posX+this.margin[3],-lt+gt+this.ctx.prevPageLastElemOffset),k.call(this,P,!0),this.path=Ft}if(K=JSON.parse(JSON.stringify(ne)),this.path=x(K,this.posX+this.margin[3],-lt+gt+this.ctx.prevPageLastElemOffset),O===!1||nt===0){var mt=(nt>He||nt<ht)&&p.call(this);mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nt,bt,null).clip().discardPath()),k.call(this,P,O),mt&&this.pdf.restoreGraphicsState()}this.lineWidth=ye}else this.lineWidth=be,k.call(this,P,O),this.lineWidth=ye;this.path=ne},k=function(P,O){if((P!=="stroke"||O||!g.call(this))&&(P==="stroke"||O||!f.call(this))){for(var H,K,Z=[],he=this.path,xe=0;xe<he.length;xe++){var ye=he[xe];switch(ye.type){case"begin":Z.push({begin:!0});break;case"close":Z.push({close:!0});break;case"mt":Z.push({start:ye,deltas:[],abs:[]});break;case"lt":var be=Z.length;if(he[xe-1]&&!isNaN(he[xe-1].x)&&(H=[ye.x-he[xe-1].x,ye.y-he[xe-1].y],be>0)){for(;be>=0;be--)if(Z[be-1].close!==!0&&Z[be-1].begin!==!0){Z[be-1].deltas.push(H),Z[be-1].abs.push(ye);break}}break;case"bct":H=[ye.x1-he[xe-1].x,ye.y1-he[xe-1].y,ye.x2-he[xe-1].x,ye.y2-he[xe-1].y,ye.x-he[xe-1].x,ye.y-he[xe-1].y],Z[Z.length-1].deltas.push(H);break;case"qct":var Fe=he[xe-1].x+2/3*(ye.x1-he[xe-1].x),ne=he[xe-1].y+2/3*(ye.y1-he[xe-1].y),We=ye.x+2/3*(ye.x1-ye.x),Se=ye.y+2/3*(ye.y1-ye.y),ce=ye.x,qe=ye.y;H=[Fe-he[xe-1].x,ne-he[xe-1].y,We-he[xe-1].x,Se-he[xe-1].y,ce-he[xe-1].x,qe-he[xe-1].y],Z[Z.length-1].deltas.push(H);break;case"arc":Z.push({deltas:[],abs:[],arc:!0}),Array.isArray(Z[Z.length-1].abs)&&Z[Z.length-1].abs.push(ye)}}K=O?null:P==="stroke"?"stroke":"fill";for(var Ve=!1,$e=0;$e<Z.length;$e++)if(Z[$e].arc)for(var He=Z[$e].abs,ht=0;ht<He.length;ht++){var nt=He[ht];nt.type==="arc"?E.call(this,nt.x,nt.y,nt.radius,nt.startAngle,nt.endAngle,nt.counterclockwise,void 0,O,!Ve):D.call(this,nt.x,nt.y),Ve=!0}else if(Z[$e].close===!0)this.pdf.internal.out("h"),Ve=!1;else if(Z[$e].begin!==!0){var Nt=Z[$e].start.x,gt=Z[$e].start.y;q.call(this,Z[$e].deltas,Nt,gt),Ve=!0}K&&b.call(this,K),O&&I.call(this)}},R=function(P){var O=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,H=O*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-H;case"top":return P+O-H;case"hanging":return P+O-2*H;case"middle":return P+O/2-H;default:return P}},B=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};u.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(O,H){this.colorStops.push([O,H])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function(P,O,H,K,Z,he,xe,ye,be){for(var Fe=oe.call(this,H,K,Z,he),ne=0;ne<Fe.length;ne++){var We=Fe[ne];ne===0&&(be?T.call(this,We.x1+P,We.y1+O):D.call(this,We.x1+P,We.y1+O)),ie.call(this,P,O,We.x2,We.y2,We.x3,We.y3,We.x4,We.y4)}ye?I.call(this):b.call(this,xe)},b=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},I=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(P,O){this.pdf.internal.out(t(P)+" "+n(O)+" m")},F=function(P){var O;switch(P.align){case"right":case"end":O="right";break;case"center":O="center";break;default:O="left"}var H=this.pdf.getTextDimensions(P.text),K=R.call(this,P.y),Z=B.call(this,K)-H.h,he=this.ctx.transform.applyToPoint(new a(P.x,K)),xe=this.ctx.transform.decompose(),ye=new l;ye=(ye=(ye=ye.multiply(xe.translate)).multiply(xe.skew)).multiply(xe.scale);for(var be,Fe,ne,We=this.ctx.transform.applyToRectangle(new o(P.x,K,H.w,H.h)),Se=ye.applyToRectangle(new o(P.x,Z,H.w,H.h)),ce=v.call(this,Se),qe=[],Ve=0;Ve<ce.length;Ve+=1)qe.indexOf(ce[Ve])===-1&&qe.push(ce[Ve]);if(_(qe),this.autoPaging)for(var $e=qe[0],He=qe[qe.length-1],ht=$e;ht<He+1;ht++){this.pdf.setPage(ht);var nt=ht===1?this.posY+this.margin[0]:this.margin[0],Nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gt=this.pdf.internal.pageSize.height-this.margin[2],Bt=gt-this.margin[0],bt=this.pdf.internal.pageSize.width-this.margin[1],lt=bt-this.margin[3],Ft=ht===1?0:Nt+(ht-2)*Bt;if(this.ctx.clip_path.length!==0){var mt=this.path;be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(be,this.posX+this.margin[3],-1*Ft+nt),k.call(this,"fill",!0),this.path=mt}var vt=x([JSON.parse(JSON.stringify(Se))],this.posX+this.margin[3],-Ft+nt+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(Fe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Fe*P.scale),ne=this.lineWidth,this.lineWidth=ne*P.scale);var at=this.autoPaging!=="text";if(at||vt.y+vt.h<=gt){if(at||vt.y>=nt&&vt.x<=bt){var ct=at?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||bt-vt.x)[0],jt=x([JSON.parse(JSON.stringify(We))],this.posX+this.margin[3],-Ft+nt+this.ctx.prevPageLastElemOffset)[0],Qt=at&&(ht>$e||ht<He)&&p.call(this);Qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lt,Bt,null).clip().discardPath()),this.pdf.text(ct,jt.x,jt.y,{angle:P.angle,align:O,renderingMode:P.renderingMode}),Qt&&this.pdf.restoreGraphicsState()}}else vt.y<gt&&(this.ctx.prevPageLastElemOffset+=gt-vt.y);P.scale>=.01&&(this.pdf.setFontSize(Fe),this.lineWidth=ne)}else P.scale>=.01&&(Fe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Fe*P.scale),ne=this.lineWidth,this.lineWidth=ne*P.scale),this.pdf.text(P.text,he.x+this.posX,he.y+this.posY,{angle:P.angle,align:O,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(Fe),this.lineWidth=ne)},D=function(P,O,H,K){H=H||0,K=K||0,this.pdf.internal.out(t(P+H)+" "+n(O+K)+" l")},q=function(P,O,H){return this.pdf.lines(P,O,H,null,null)},ie=function(P,O,H,K,Z,he,xe,ye){this.pdf.internal.out([e(i(H+P)),e(s(K+O)),e(i(Z+P)),e(s(he+O)),e(i(xe+P)),e(s(ye+O)),"c"].join(" "))},oe=function(P,O,H,K){for(var Z=2*Math.PI,he=Math.PI/2;O>H;)O-=Z;var xe=Math.abs(H-O);xe<Z&&K&&(xe=Z-xe);for(var ye=[],be=K?-1:1,Fe=O;xe>1e-5;){var ne=Fe+be*Math.min(xe,he);ye.push(te.call(this,P,Fe,ne)),xe-=Math.abs(ne-Fe),Fe=ne}return ye},te=function(P,O,H){var K=(H-O)/2,Z=P*Math.cos(K),he=P*Math.sin(K),xe=Z,ye=-he,be=xe*xe+ye*ye,Fe=be+xe*Z+ye*he,ne=4/3*(Math.sqrt(2*be*Fe)-Fe)/(xe*he-ye*Z),We=xe-ne*ye,Se=ye+ne*xe,ce=We,qe=-Se,Ve=K+O,$e=Math.cos(Ve),He=Math.sin(Ve);return{x1:P*Math.cos(O),y1:P*Math.sin(O),x2:We*$e-Se*He,y2:We*He+Se*$e,x3:ce*$e-qe*He,y3:ce*He+qe*$e,x4:P*Math.cos(H),y4:P*Math.sin(H)}},re=function(P){return 180*P/Math.PI},W=function(P,O,H,K,Z,he){var xe=P+.5*(H-P),ye=O+.5*(K-O),be=Z+.5*(H-Z),Fe=he+.5*(K-he),ne=Math.min(P,Z,xe,be),We=Math.max(P,Z,xe,be),Se=Math.min(O,he,ye,Fe),ce=Math.max(O,he,ye,Fe);return new o(ne,Se,We-ne,ce-Se)},pe=function(P,O,H,K,Z,he,xe,ye){var be,Fe,ne,We,Se,ce,qe,Ve,$e,He,ht,nt,Nt,gt,Bt=H-P,bt=K-O,lt=Z-H,Ft=he-K,mt=xe-Z,vt=ye-he;for(Fe=0;Fe<41;Fe++)$e=(qe=(ne=P+(be=Fe/40)*Bt)+be*((Se=H+be*lt)-ne))+be*(Se+be*(Z+be*mt-Se)-qe),He=(Ve=(We=O+be*bt)+be*((ce=K+be*Ft)-We))+be*(ce+be*(he+be*vt-ce)-Ve),Fe==0?(ht=$e,nt=He,Nt=$e,gt=He):(ht=Math.min(ht,$e),nt=Math.min(nt,He),Nt=Math.max(Nt,$e),gt=Math.max(gt,He));return new o(Math.round(ht),Math.round(nt),Math.round(Nt-ht),Math.round(gt-nt))},_e=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,O,H=(P=this.ctx.lineDash,O=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:O}));this.prevLineDash!==H&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=H)}}})(Vt.API),function(r){var e=function(a){var o,l,A,c,u,h,f,g,p,v;for(l=[],A=0,c=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;c>A;A+=4)(u=(a.charCodeAt(A)<<24)+(a.charCodeAt(A+1)<<16)+(a.charCodeAt(A+2)<<8)+a.charCodeAt(A+3))!==0?(h=(u=((u=((u=((u=(u-(v=u%85))/85)-(p=u%85))/85)-(g=u%85))/85)-(f=u%85))/85)%85,l.push(h+33,f+33,g+33,p+33,v+33)):l.push(122);return function(m,x){for(var _=x;_>0;_--)m.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},t=function(a){var o,l,A,c,u,h=String,f="length",g=255,p="charCodeAt",v="slice",m="replace";for(a[v](-2),a=a[v](0,-2)[m](/\s/g,"")[m]("z","!!!!!"),A=[],c=0,u=(a+=o="uuuuu"[v](a[f]%5||5))[f];u>c;c+=5)l=52200625*(a[p](c)-33)+614125*(a[p](c+1)-33)+7225*(a[p](c+2)-33)+85*(a[p](c+3)-33)+(a[p](c+4)-33),A.push(g&l>>24,g&l>>16,g&l>>8,g&l);return function(x,_){for(var S=_;S>0;S--)x.pop()}(A,o[f]),h.fromCharCode.apply(h,A)},n=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",A=0;A<a.length;A+=2)l+=String.fromCharCode("0x"+(a[A]+a[A+1]));return l},s=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return(o=mD(o)).reduce(function(A,c){return A+String.fromCharCode(c)},"")};r.processDataByFilters=function(a,o){var l=0,A=a||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":A=t(A),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":A=e(A),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":A=i(A),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":A=n(A),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":A=s(A),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:A,reverseChain:c.reverse().join(" ")}}}(Vt.API),function(r){r.loadFile=function(e,t,n){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,A,c){var u=new XMLHttpRequest,h=0,f=function(g){var p=g.length,v=[],m=String.fromCharCode;for(h=0;h<p;h+=1)v.push(m(255&g.charCodeAt(h)));return v.join("")};if(u.open("GET",l,!A),u.overrideMimeType("text/plain; charset=x-user-defined"),A===!1&&(u.onload=function(){u.status===200?c(f(this.responseText)):c(void 0)}),u.send(null),A&&u.status===200)return f(u.responseText)}(i,s,a)}catch{}return o}(e,t,n)},r.loadImageFile=r.loadFile}(Vt.API),function(r){function e(){return(rr.html2canvas?Promise.resolve(rr.html2canvas):Yk(()=>Promise.resolve().then(()=>SFe),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function t(){return(rr.DOMPurify?Promise.resolve(rr.DOMPurify):Yk(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=pn(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var A=document.createElement(o);for(var c in l.className&&(A.className=l.className),l.innerHTML&&l.dompurify&&(A.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)A.style[c]=l.style[c];return A},s=function o(l,A){for(var c=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),u=l.firstChild;u;u=u.nextSibling)A!==!0&&u.nodeType===1&&u.nodeName==="SCRIPT"||c.appendChild(o(u,A));return l.nodeType===1&&(l.nodeName==="CANVAS"?(c.width=l.width,c.height=l.height,c.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(c.value=l.value),c.addEventListener("load",function(){c.scrollTop=l.scrollTop,c.scrollLeft=l.scrollLeft},!0)),c},a=function o(l){var A=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),A);return(c=c.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(A){switch(n(A)){case"string":return"string";case"element":return A.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(t).then(function(A){return this.set({src:i("div",{innerHTML:o,dompurify:A})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var A=Object.assign({},this.opt.html2canvas);return delete A.onrendered,l(this.prop.container,A)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var A=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,A.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,A.context2d.posX=this.opt.x,A.context2d.posY=this.opt.y,A.context2d.margin=this.opt.margin,A.context2d.fontFaces=c,c)for(var f=0;f<c.length;++f){var g=c[f],p=g.src.find(function(v){return v.format==="truetype"});p&&A.addFont(p.url,g.ref.name,g.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,A.context2d.save(!0),l(this.prop.container,h)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,A){return(A=A||"pdf").toLowerCase()==="img"||A.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(A){if(A in a.template.prop)return function(){this.prop[A]=o[A]};switch(A){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[A]=o[A]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var A=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(A):A})},a.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(A,c){return Math.floor(A*c/72*96)}return this.then(function(){(o=o||Vt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,A,c){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),A!=null&&(this.progress.n=A),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,A,c){return this.setProgress(o?this.progress.val+o:null,l||null,A?this.progress.n+A:null,c?this.progress.stack.concat(c):null)},a.prototype.then=function(o,l){var A=this;return this.thenCore(o,l,function(c,u){return A.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(h){return A.updateProgress(null,c),h}).then(c,u).then(function(h){return A.updateProgress(1),h})})},a.prototype.thenCore=function(o,l,A){A=A||Promise.prototype.then;var c=this;o&&(o=o.bind(c)),l&&(l=l.bind(c));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?c:a.convert(Object.assign({},c),Promise.prototype),h=A.call(u,o,l);return a.convert(h,c.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(A){l=l.thenCore(A)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Vt.getPageSize=function(o,l,A){if(pn(o)==="object"){var c=o;o=c.orientation,l=c.unit||l,A=c.format||A}l=l||"mm",A=A||"a4",o=(""+(o||"P")).toLowerCase();var u,h=(""+A).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+l}var g,p=0,v=0;if(f.hasOwnProperty(h))p=f[h][1]/u,v=f[h][0]/u;else try{p=A[1],v=A[0]}catch{throw new Error("Invalid format: "+A)}if(o==="p"||o==="portrait")o="p",v>p&&(g=v,v=p,p=g);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",p>v&&(g=v,v=p,p=g)}return{width:v,height:p,unit:l,k:u,orientation:o}},r.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(p3):null;var A=new a(l);return l.worker?A:A.from(o).doCallback()}}(Vt.API),Vt.API.addJS=function(r){return KV=r,this.internal.events.subscribe("postPutResources",function(){vS=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(vS+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),jV=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+KV+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){vS!==void 0&&jV!==void 0&&this.internal.out("/Names <</JavaScript "+vS+" 0 R>>")}),this},function(r){var e;r.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=n.exec(a);if(o!=null){var l=o[1];t.internal.newObjectDeferredBegin(l,!1)}t.internal.write(a)}if(this.outline.createNamedDestinations){var A=this.internal.pages.length,c=[];for(s=0;s<A;s++){var u=t.internal.newObject();c.push(u);var h=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var f=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<c.length;s++)t.internal.write("(page_"+(s+1)+")"+c[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+f+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,i,s){var a={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(a),a},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var a=n.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=t.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var A=0;A<n.children.length;A++)this.renderItems(n.children[A])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(Vt.API),function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,n,i,s,a,o){var l,A=this.decode.DCT_DECODE,c=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=a||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,l=function(u){for(var h,f=256*u.charCodeAt(4)+u.charCodeAt(5),g=u.length,p={width:0,height:0,numcomponents:1},v=4;v<g;v+=2){if(v+=f,e.indexOf(u.charCodeAt(v+1))!==-1){h=256*u.charCodeAt(v+5)+u.charCodeAt(v+6),p={width:256*u.charCodeAt(v+7)+u.charCodeAt(v+8),height:h,numcomponents:u.charCodeAt(v+9)};break}f=256*u.charCodeAt(v+2)+u.charCodeAt(v+3)}return p}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}c={data:t,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:A,index:n,alias:i}}return c}}(Vt.API),Vt.API.processPNG=function(r,e,t,n){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var i,s=DIe(r,{checkCrc:!0}),a=s.width,o=s.height,l=s.channels,A=s.palette,c=s.depth;i=A&&l===1?function(E){for(var b=E.width,I=E.height,T=E.data,F=E.palette,D=E.depth,q=!1,ie=[],oe=[],te=void 0,re=!1,W=0,pe=0;pe<F.length;pe++){var _e=$9(F[pe],4),P=_e[0],O=_e[1],H=_e[2],K=_e[3];ie.push(P,O,H),K!=null&&(K===0?(W++,oe.length<1&&oe.push(pe)):K<255&&(re=!0))}if(re||W>1){q=!0,oe=void 0;var Z=b*I;te=new Uint8Array(Z);for(var he=new DataView(T.buffer),xe=0;xe<Z;xe++){var ye=m3(he,xe,D),be=$9(F[ye],4)[3];te[xe]=be}}else W===0&&(oe=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:q?8:void 0,colorBytes:T,alphaBytes:te,needSMask:q,palette:ie,mask:oe}}(s):l===2||l===4?function(E){for(var b=E.data,I=E.width,T=E.height,F=E.channels,D=E.depth,q=F===2?"DeviceGray":"DeviceRGB",ie=F-1,oe=I*T,te=ie,re=oe*te,W=1*oe,pe=Math.ceil(re*D/8),_e=Math.ceil(W*D/8),P=new Uint8Array(pe),O=new Uint8Array(_e),H=new DataView(b.buffer),K=new DataView(P.buffer),Z=new DataView(O.buffer),he=!1,xe=0;xe<oe;xe++){for(var ye=xe*F,be=0;be<te;be++)ZV(K,m3(H,ye+be,D),xe*te+be,D);var Fe=m3(H,ye+te,D);Fe<(1<<D)-1&&(he=!0),ZV(Z,Fe,1*xe,D)}return{colorSpace:q,colorsPerPixel:ie,sMaskBitsPerComponent:he?D:void 0,colorBytes:P,alphaBytes:O,needSMask:he}}(s):function(E){var b=E.data,I=E.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:I,colorsPerPixel:I==="DeviceGray"?1:3,colorBytes:b instanceof Uint16Array?function(T){for(var F=T.length,D=new Uint8Array(2*F),q=new DataView(D.buffer,D.byteOffset,D.byteLength),ie=0;ie<F;ie++)q.setUint16(2*ie,T[ie],!1);return D}(b):b,needSMask:!1}}(s);var u,h,f,g=i,p=g.colorSpace,v=g.colorsPerPixel,m=g.sMaskBitsPerComponent,x=g.colorBytes,_=g.alphaBytes,S=g.needSMask,k=g.palette,R=g.mask,B=null;return n!==Vt.API.image_compression.NONE&&typeof mD=="function"?(B=function(E){var b;switch(E){case Vt.API.image_compression.FAST:b=11;break;case Vt.API.image_compression.MEDIUM:b=13;break;case Vt.API.image_compression.SLOW:b=14;break;default:b=12}return b}(n),u=this.decode.FLATE_DECODE,h="/Predictor ".concat(B," /Colors ").concat(v," /BitsPerComponent ").concat(c," /Columns ").concat(a),r=$V(x,Math.ceil(a*v*c/8),v,c,n),S&&(f=$V(_,Math.ceil(a*m/8),1,m,n))):(u=void 0,h=void 0,r=x,S&&(f=_)),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:t,data:r,index:e,filter:u,decodeParameters:h,transparency:R,palette:k,sMask:f,predictor:B,width:a,height:o,bitsPerComponent:c,sMaskBitsPerComponent:m,colorSpace:p}}},function(r){r.processGIF89A=function(e,t,n,i){var s=new rke(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var A={data:l,width:a,height:o},c=new v3(100).encode(A,100);return r.processJPEG.call(this,c,t,n,i)},r.processGIF87A=r.processGIF89A}(Vt.API),XA.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},XA.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){Ln.log("bit decode error:"+t)}},XA.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}t!==0&&(this.pos+=4-t)}},XA.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<r;i++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*i*4,o=s>>4,l=15&s,A=this.palette[o];if(this.data[a]=A.blue,this.data[a+1]=A.green,this.data[a+2]=A.red,this.data[a+3]=255,2*i+1>=this.width)break;A=this.palette[l],this.data[a+4]=A.blue,this.data[a+4+1]=A.green,this.data[a+4+2]=A.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},XA.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}r!==0&&(this.pos+=4-r)}},XA.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,A=s>>15?255:0,c=n*this.width*4+4*i;this.data[c]=l,this.data[c+1]=o,this.data[c+2]=a,this.data[c+3]=A}this.pos+=r}},XA.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&t)/t*255|0,A=(a>>11)/e*255|0,c=i*this.width*4+4*s;this.data[c]=A,this.data[c+1]=l,this.data[c+2]=o,this.data[c+3]=255}this.pos+=r}},XA.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},XA.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=a}},XA.prototype.getData=function(){return this.data},function(r){r.processBMP=function(e,t,n,i){var s=new XA(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},A=new v3(100).encode(l,100);return r.processJPEG.call(this,A,t,n,i)}}(Vt.API),tj.prototype.getData=function(){return this.data},function(r){r.processWEBP=function(e,t,n,i){var s=new tj(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},A=new v3(100).encode(l,100);return r.processJPEG.call(this,A,t,n,i)}}(Vt.API),Vt.API.processRGBA=function(r,e,t){for(var n=r.data,i=n.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,A=0;A<i;A+=4){var c=n[A],u=n[A+1],h=n[A+2],f=n[A+3];s[o++]=c,s[o++]=u,s[o++]=h,a[l++]=f}var g=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:g,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},Vt.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},F1=Vt.API,wS=F1.getCharWidthsArray=function(r,e){var t,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,A=e.kerning?e.kerning:i.metadata.Unicode.kerning,c=A.fof?A.fof:1,u=e.doKerning!==!1,h=0,f=r.length,g=0,p=o[0]||l,v=[];for(t=0;t<f;t++)n=r.charCodeAt(t),typeof i.metadata.widthOfString=="function"?v.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+a*(1e3/s)||0)/1e3):(h=u&&pn(A[n])==="object"&&!isNaN(parseInt(A[n][g],10))?A[n][g]/c:0,v.push((o[n]||p)/l+h)),g=n;return v},zV=F1.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return F1.processArabic&&(r=F1.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,t,i)/t:wS.apply(this,arguments).reduce(function(s,a){return s+a},0)},WV=function(r,e,t,n){for(var i=[],s=0,a=r.length,o=0;s!==a&&o+e[s]<t;)o+=e[s],s++;i.push(r.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>n&&(i.push(r.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(r.slice(l,s)),i},GV=function(r,e,t){t||(t={});var n,i,s,a,o,l,A,c=[],u=[c],h=t.textIndent||0,f=0,g=0,p=r.split(" "),v=wS.apply(this,[" ",t])[0];if(l=t.lineIndent===-1?p[0].length+2:t.lineIndent||0){var m=Array(l).join(" "),x=[];p.map(function(S){(S=S.split(/\s*\n/)).length>1?x=x.concat(S.map(function(k,R){return(R&&k.length?`
`:"")+k})):x.push(S[0])}),p=x,l=zV.apply(this,[m,t])}for(s=0,a=p.length;s<a;s++){var _=0;if(n=p[s],l&&n[0]==`
`&&(n=n.substr(1),_=1),h+f+(g=(i=wS.apply(this,[n,t])).reduce(function(S,k){return S+k},0))>e||_){if(g>e){for(o=WV.apply(this,[n,i,e-(h+f),e]),c.push(o.shift()),c=[o.pop()];o.length;)u.push([o.shift()]);g=i.slice(n.length-(c[0]?c[0].length:0)).reduce(function(S,k){return S+k},0)}else c=[n];u.push(c),h=g+l,f=v}else c.push(n),h+=f+g,f=v}return A=l?function(S,k){return(k?m:"")+S.join(" ")}:function(S){return S.join(" ")},u.map(A)},F1.splitTextToSize=function(r,e,t){var n,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var u=this.internal.getFont(c.fontName,c.fontStyle),h="Unicode";return u.metadata[h]?{widths:u.metadata[h].widths||{0:1},kerning:u.metadata[h].kerning||{}}:{font:u.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var o,l,A=[];for(o=0,l=n.length;o<l;o++)A=A.concat(GV.apply(this,[n[o],a,s]));return A},function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",n={},i={},s=0;s<16;s++)n[t[s]]=e[s],i[e[s]]=t[s];var a=function(h){return"0x"+parseInt(h,10).toString(16)},o=r.__fontmetrics__.compress=function(h){var f,g,p,v,m=["{"];for(var x in h){if(f=h[x],isNaN(parseInt(x,10))?g="'"+x+"'":(x=parseInt(x,10),g=(g=a(x).slice(2)).slice(0,-1)+i[g.slice(-1)]),typeof f=="number")f<0?(p=a(f).slice(3),v="-"):(p=a(f).slice(2),v=""),p=v+p.slice(0,-1)+i[p.slice(-1)];else{if(pn(f)!=="object")throw new Error("Don't know what to do with value type "+pn(f)+".");p=o(f)}m.push(g+p)}return m.push("}"),m.join("")},l=r.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,g,p,v,m={},x=1,_=m,S=[],k="",R="",B=h.length-1,E=1;E<B;E+=1)(v=h[E])=="'"?f?(p=f.join(""),f=void 0):f=[]:f?f.push(v):v=="{"?(S.push([_,p]),_={},p=void 0):v=="}"?((g=S.pop())[0][g[1]]=_,p=void 0,_=g[0]):v=="-"?x=-1:p===void 0?n.hasOwnProperty(v)?(k+=n[v],p=parseInt(k,16)*x,x=1,k=""):k+=v:n.hasOwnProperty(v)?(R+=n[v],_[p]=parseInt(R,16)*x,x=1,p=void 0,R=""):R+=v;return m},A={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:A,"Courier-Bold":A,"Courier-BoldOblique":A,"Courier-Oblique":A,Helvetica:A,"Helvetica-Bold":A,"Helvetica-BoldOblique":A,"Helvetica-Oblique":A,"Times-Roman":A,"Times-Bold":A,"Times-BoldItalic":A,"Times-Italic":A}},u={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(h){var f=h.font,g=u.Unicode[f.postScriptName];g&&(f.metadata.Unicode={},f.metadata.Unicode.widths=g.widths,f.metadata.Unicode.kerning=g.kerning);var p=c.Unicode[f.postScriptName];p&&(f.metadata.Unicode.encoding=p,f.encoding=p.codePages[0])}])}(Vt.API),function(r){var e=function(t){for(var n=t.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=t.charCodeAt(s);return i};r.API.events.push(["addFont",function(t){var n=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(R5(o)),a.metadata=r.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,n)}}])}(Vt),Vt.API.addSvgAsImage=function(r,e,t,n,i,s,a,o){if(isNaN(e)||isNaN(t))throw Ln.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw Ln.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=i;var A=l.getContext("2d");A.fillStyle="#fff",A.fillRect(0,0,l.width,l.height);var c={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},u=this;return(rr.canvg?Promise.resolve(rr.canvg):Yk(()=>import("./index.es-DAnS-FTu.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load canvg: "+h))}).then(function(h){return h.default?h.default:h}).then(function(h){return h.fromString(A,r,c)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(h){return h.render(c)}).then(function(){u.addImage(l.toDataURL("image/jpeg",1),e,t,n,i,a,o)})},Vt.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,t);return this},Vt.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var n,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],A=0,c=0,u=0;function h(g,p){var v,m=!1;for(v=0;v<g.length;v+=1)g[v]===p&&(m=!0);return m}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var f=o.length;for(u=0;u<f;u+=1)t[o[u]].value=t[o[u]].defaultValue,t[o[u]].explicitSet=!1}if(pn(r)==="object"){for(i in r)if(s=r[i],h(o,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&h(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(A=0;A<s.length;A+=1)if(n=!0,s[A].length===1&&typeof s[A][0]=="number")l.push(String(s[A]-1));else if(s[A].length>1){for(c=0;c<s[A].length;c+=1)typeof s[A][c]!="number"&&(n=!1);n===!0&&l.push([s[A][0]-1,s[A][1]-1].join(" "))}t[i].value="["+l.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,p=[];for(g in t)t[g].explicitSet===!0&&(t[g].type==="name"?p.push("/"+g+" /"+t[g].value):p.push("/"+g+" "+t[g].value));p.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+p.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(r){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),A=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+A+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(Vt.API),function(r){var e=r.API,t=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,A=["","0","00","000","0000"],c=[""],u=0,h=s.length;u<h;++u){if(o=a.metadata.characterToGlyph(s.charCodeAt(u)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(u),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return c.join("");o=o.toString(16),c.push(A[4-o.length],o)}return c.join("")},n=function(s){var a,o,l,A,c,u,h;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],u=0,h=(o=Object.keys(s).sort(function(f,g){return f-g})).length;u<h;u++)a=o[u],l.length>=100&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(A=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+A+">"));return l.length&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),c+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,A=a.newObject,c=a.putStream;if(o.metadata instanceof r.API.TTFFont&&o.encoding==="Identity-H"){for(var u=o.metadata.Unicode.widths,h=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),f="",g=0;g<h.length;g++)f+=String.fromCharCode(h[g]);var p=A();c({data:f,addLength1:!0,objectId:p}),l("endobj");var v=A();c({data:n(o.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var m=A();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+W1(o.fontName)),l("/FontFile2 "+p+" 0 R"),l("/FontBBox "+r.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var x=A();l("<<"),l("/Type /Font"),l("/BaseFont /"+W1(o.fontName)),l("/FontDescriptor "+m+" 0 R"),l("/W "+r.API.PDFObject.convert(u)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=A(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+v+" 0 R"),l("/BaseFont /"+W1(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+x+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,A=a.newObject,c=a.putStream;if(o.metadata instanceof r.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var u=o.metadata.rawData,h="",f=0;f<u.length;f++)h+=String.fromCharCode(u[f]);var g=A();c({data:h,addLength1:!0,objectId:g}),l("endobj");var p=A();c({data:n(o.metadata.toUnicode),addLength1:!0,objectId:p}),l("endobj");var v=A();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+g+" 0 R"),l("/Flags 96"),l("/FontBBox "+r.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+W1(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=A();for(var m=0;m<o.metadata.hmtx.widths.length;m++)o.metadata.hmtx.widths[m]=parseInt(o.metadata.hmtx.widths[m]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+p+" 0 R/BaseFont/"+W1(o.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,A=s.y,c=s.options||{},u=s.mutex||{},h=u.pdfEscape,f=u.activeFontKey,g=u.fonts,p=f,v="",m=0,x="",_=g[p].encoding;if(g[p].encoding!=="Identity-H")return{text:o,x:l,y:A,options:c,mutex:u};for(x=o,p=f,Array.isArray(o)&&(x=o[0]),m=0;m<x.length;m+=1)g[p].metadata.hasOwnProperty("cmap")&&(a=g[p].metadata.cmap.unicode.codeMap[x[m].charCodeAt(0)]),a||x[m].charCodeAt(0)<256&&g[p].metadata.hasOwnProperty("Unicode")?v+=x[m]:v+="";var S="";return parseInt(p.slice(1))<14||_==="WinAnsiEncoding"?S=h(v,p).split("").map(function(k){return k.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(S=t(v,g[p])),u.isHex=!0,{text:S,x:l,y:A,options:c,mutex:u}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var A=0;for(A=0;A<a.length;A+=1)Array.isArray(a[A])&&a[A].length===3?o.push([i(Object.assign({},l,{text:a[A][0]})).text,a[A][1],a[A][2]]):o.push(i(Object.assign({},l,{text:a[A]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])}(Vt),function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(Vt.API),function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var i,s,a,o,l,A,c,u=e,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],m=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,_=0;this.__bidiEngine__={};var S=function(T){var F=T.charCodeAt(),D=F>>8,q=p[D];return q!==void 0?u[256*q+(255&F)]:D===252||D===253?"AL":m.test(D)?"L":D===8?"R":"N"},k=function(T){for(var F,D=0;D<T.length;D++){if((F=S(T.charAt(D)))==="L")return!1;if(F==="R")return!0}return!1},R=function(T,F,D,q){var ie,oe,te,re,W=F[q];switch(W){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"N":case"AN":break;case"EN":x&&(W="AN");break;case"AL":x=!0,W="R";break;case"WS":case"BN":W="N";break;case"CS":q<1||q+1>=F.length||(ie=D[q-1])!=="EN"&&ie!=="AN"||(oe=F[q+1])!=="EN"&&oe!=="AN"?W="N":x&&(oe="AN"),W=oe===ie?oe:"N";break;case"ES":W=(ie=q>0?D[q-1]:"B")==="EN"&&q+1<F.length&&F[q+1]==="EN"?"EN":"N";break;case"ET":if(q>0&&D[q-1]==="EN"){W="EN";break}if(x){W="N";break}for(te=q+1,re=F.length;te<re&&F[te]==="ET";)te++;W=te<re&&F[te]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(re=F.length,te=q+1;te<re&&F[te]==="NSM";)te++;if(te<re){var pe=T[q],_e=pe>=1425&&pe<=2303||pe===64286;if(ie=F[te],_e&&(ie==="R"||ie==="AL")){W="R";break}}}W=q<1||(ie=F[q-1])==="B"?"N":D[q-1];break;case"B":x=!1,i=!0,W=_;break;case"S":s=!0,W="N"}return W},B=function(T,F,D){var q=T.split("");return D&&E(q,D,{hiLevel:_}),q.reverse(),F&&F.reverse(),q.join("")},E=function(T,F,D){var q,ie,oe,te,re,W=-1,pe=T.length,_e=0,P=[],O=_?f:h,H=[];for(x=!1,i=!1,s=!1,ie=0;ie<pe;ie++)H[ie]=S(T[ie]);for(oe=0;oe<pe;oe++){if(re=_e,P[oe]=R(T,H,P,oe),q=240&(_e=O[re][g[P[oe]]]),_e&=15,F[oe]=te=O[_e][5],q>0)if(q===16){for(ie=W;ie<oe;ie++)F[ie]=1;W=-1}else W=-1;if(O[_e][6])W===-1&&(W=oe);else if(W>-1){for(ie=W;ie<oe;ie++)F[ie]=te;W=-1}H[oe]==="B"&&(F[oe]=0),D.hiLevel|=te}s&&function(K,Z,he){for(var xe=0;xe<he;xe++)if(K[xe]==="S"){Z[xe]=_;for(var ye=xe-1;ye>=0&&K[ye]==="WS";ye--)Z[ye]=_}}(H,F,pe)},b=function(T,F,D,q,ie){if(!(ie.hiLevel<T)){if(T===1&&_===1&&!i)return F.reverse(),void(D&&D.reverse());for(var oe,te,re,W,pe=F.length,_e=0;_e<pe;){if(q[_e]>=T){for(re=_e+1;re<pe&&q[re]>=T;)re++;for(W=_e,te=re-1;W<te;W++,te--)oe=F[W],F[W]=F[te],F[te]=oe,D&&(oe=D[W],D[W]=D[te],D[te]=oe);_e=re}_e++}}},I=function(T,F,D){var q=T.split(""),ie={hiLevel:_};return D||(D=[]),E(q,D,ie),function(oe,te,re){if(re.hiLevel!==0&&c)for(var W,pe=0;pe<oe.length;pe++)te[pe]===1&&(W=v.indexOf(oe[pe]))>=0&&(oe[pe]=v[W+1])}(q,D,ie),b(2,q,F,D,ie),b(1,q,F,D,ie),q.join("")};return this.__bidiEngine__.doBidiReorder=function(T,F,D){if(function(ie,oe){if(oe)for(var te=0;te<ie.length;te++)oe[te]=te;o===void 0&&(o=k(ie)),A===void 0&&(A=k(ie))}(T,F),a||!l||A)if(a&&l&&o^A)_=o?1:0,T=B(T,F,D);else if(!a&&l&&A)_=o?1:0,T=I(T,F,D),T=B(T,F);else if(!a||o||l||A){if(a&&!l&&o^A)T=B(T,F),o?(_=0,T=I(T,F,D)):(_=1,T=I(T,F,D),T=B(T,F));else if(a&&o&&!l&&A)_=1,T=I(T,F,D),T=B(T,F);else if(!a&&!l&&o^A){var q=c;o?(_=1,T=I(T,F,D),_=0,c=!1,T=I(T,F,D),c=q):(_=0,T=I(T,F,D),T=B(T,F),_=1,c=!1,T=I(T,F,D),c=q,T=B(T,F))}}else _=0,T=I(T,F,D);else _=o?1:0,T=I(T,F,D);return T},this.__bidiEngine__.setOptions=function(T){T&&(a=T.isInputVisual,l=T.isOutputVisual,o=T.isInputRtl,A=T.isOutputRtl,c=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([t.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([t.doBidiReorder(i[o])]);n.text=a}else n.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(Vt),Vt.API.TTFFont=function(){function r(e){var t;if(this.rawData=e,t=this.contents=new lp(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new mke(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new nke(this.contents),this.head=new ske(this),this.name=new cke(this),this.cmap=new kee(this),this.toUnicode={},this.hhea=new ake(this),this.maxp=new uke(this),this.hmtx=new hke(this),this.post=new lke(this),this.os2=new oke(this),this.loca=new gke(this),this.glyf=new fke(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,A;for(A=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],A.push(Math.round(e*this.scaleFactor));return A}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,n){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/t)||0;return a*(t/1e3)},r.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},r}();var Pc,lp=function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(e){var t,n,i;for(i=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,n,i,s,a,o,l;return e=this.readByte(),t=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*i+16777216*s+65536*a+256*o+l},r.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},r.prototype.write=function(e){var t,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)t=e[n],s.push(this.writeByte(t));return s},r}(),nke=function(){var r;function e(t){var n,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,i,s,a,o,l,A,c,u,h,f,g,p;for(p in f=Object.keys(t).length,l=Math.log(2),u=16*Math.floor(Math.log(f)/l),a=Math.floor(u/l),c=16*f-u,(i=new lp).writeInt(this.scalarType),i.writeShort(f),i.writeShort(u),i.writeShort(a),i.writeShort(c),s=16*f,A=i.pos+s,o=null,g=[],t)for(h=t[p],i.writeString(p),i.writeInt(r(h)),i.writeInt(A),i.writeInt(h.length),g=g.concat(h),p==="head"&&(o=A),A+=h.length;A%4;)g.push(0),A++;return i.write(g),n=2981146554-r(i.data),i.pos=o+8,i.writeUInt32(n),i.data},r=function(t){var n,i,s,a;for(t=Lee.call(t);t.length%4;)t.push(0);for(s=new lp(t),i=0,n=0,a=t.length;n<a;n=n+=4)i+=s.readUInt32();return 4294967295&i},e}(),ike={}.hasOwnProperty,Gu=function(r,e){for(var t in e)ike.call(e,t)&&(r[t]=e[t]);function n(){this.constructor=r}return n.prototype=e.prototype,r.prototype=new n,r.__super__=e.prototype,r};Pc=function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r}();var ske=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Gu(r,Pc),r.prototype.tag="head",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},r.prototype.encode=function(e){var t;return(t=new lp).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},r}(),rj=function(){function r(e,t){var n,i,s,a,o,l,A,c,u,h,f,g,p,v,m,x,_;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),u=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),h=f/2,e.pos+=6,s=function(){var S,k;for(k=[],l=S=0;0<=h?S<h:S>h;l=0<=h?++S:--S)k.push(e.readUInt16());return k}(),e.pos+=2,p=function(){var S,k;for(k=[],l=S=0;0<=h?S<h:S>h;l=0<=h?++S:--S)k.push(e.readUInt16());return k}(),A=function(){var S,k;for(k=[],l=S=0;0<=h?S<h:S>h;l=0<=h?++S:--S)k.push(e.readUInt16());return k}(),c=function(){var S,k;for(k=[],l=S=0;0<=h?S<h:S>h;l=0<=h?++S:--S)k.push(e.readUInt16());return k}(),i=(this.length-e.pos+this.offset)/2,o=function(){var S,k;for(k=[],l=S=0;0<=i?S<i:S>i;l=0<=i?++S:--S)k.push(e.readUInt16());return k}(),l=m=0,_=s.length;m<_;l=++m)for(v=s[l],n=x=g=p[l];g<=v?x<=v:x>=v;n=g<=v?++x:--x)c[l]===0?a=n+A[l]:(a=o[c[l]/2+(n-g)-(h-l)]||0)!==0&&(a+=A[l]),this.codeMap[n]=65535&a}e.pos=u}return r.encode=function(e,t){var n,i,s,a,o,l,A,c,u,h,f,g,p,v,m,x,_,S,k,R,B,E,b,I,T,F,D,q,ie,oe,te,re,W,pe,_e,P,O,H,K,Z,he,xe,ye,be,Fe,ne;switch(q=new lp,a=Object.keys(e).sort(function(We,Se){return We-Se}),t){case"macroman":for(p=0,v=function(){var We=[];for(g=0;g<256;++g)We.push(0);return We}(),x={0:0},s={},ie=0,W=a.length;ie<W;ie++)x[ye=e[i=a[ie]]]==null&&(x[ye]=++p),s[i]={old:e[i],new:x[e[i]]},v[i]=x[e[i]];return q.writeUInt16(1),q.writeUInt16(0),q.writeUInt32(12),q.writeUInt16(0),q.writeUInt16(262),q.writeUInt16(0),q.write(v),{charMap:s,subtable:q.data,maxGlyphID:p+1};case"unicode":for(F=[],u=[],_=0,x={},n={},m=A=null,oe=0,pe=a.length;oe<pe;oe++)x[k=e[i=a[oe]]]==null&&(x[k]=++_),n[i]={old:k,new:x[k]},o=x[k]-i,m!=null&&o===A||(m&&u.push(m),F.push(i),A=o),m=i;for(m&&u.push(m),u.push(65535),F.push(65535),I=2*(b=F.length),E=2*Math.pow(Math.log(b)/Math.LN2,2),h=Math.log(E/2)/Math.LN2,B=2*b-E,l=[],R=[],f=[],g=te=0,_e=F.length;te<_e;g=++te){if(T=F[g],c=u[g],T===65535){l.push(0),R.push(0);break}if(T-(D=n[T].new)>=32768)for(l.push(0),R.push(2*(f.length+b-g)),i=re=T;T<=c?re<=c:re>=c;i=T<=c?++re:--re)f.push(n[i].new);else l.push(D-T),R.push(0)}for(q.writeUInt16(3),q.writeUInt16(1),q.writeUInt32(12),q.writeUInt16(4),q.writeUInt16(16+8*b+2*f.length),q.writeUInt16(0),q.writeUInt16(I),q.writeUInt16(E),q.writeUInt16(h),q.writeUInt16(B),he=0,P=u.length;he<P;he++)i=u[he],q.writeUInt16(i);for(q.writeUInt16(0),xe=0,O=F.length;xe<O;xe++)i=F[xe],q.writeUInt16(i);for(be=0,H=l.length;be<H;be++)o=l[be],q.writeUInt16(o);for(Fe=0,K=R.length;Fe<K;Fe++)S=R[Fe],q.writeUInt16(S);for(ne=0,Z=f.length;ne<Z;ne++)p=f[ne],q.writeUInt16(p);return{charMap:n,subtable:q.data,maxGlyphID:_+1}}},r}(),kee=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Gu(r,Pc),r.prototype.tag="cmap",r.prototype.parse=function(e){var t,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)t=new rj(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},r.encode=function(e,t){var n,i;return t==null&&(t="macroman"),n=rj.encode(e,t),(i=new lp).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},r}(),ake=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Gu(r,Pc),r.prototype.tag="hhea",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},r}(),oke=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Gu(r,Pc),r.prototype.tag="OS/2",r.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n}(),this.charRange=function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},r}(),lke=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Gu(r,Pc),r.prototype.tag="post",r.prototype.parse=function(e){var t,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)t=e.readByte(),i.push(this.names.push(e.readString(t)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var a,o,l;for(l=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)l.push(e.readUInt32());return l}).call(this)}},r}(),Ake=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},cke=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Gu(r,Pc),r.prototype.tag="name",r.prototype.parse=function(e){var t,n,i,s,a,o,l,A,c,u,h;for(e.pos=this.offset,e.readShort(),t=e.readShort(),o=e.readShort(),n=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},s=c=0,u=n.length;c<u;s=++c)i=n[s],e.pos=i.offset,A=e.readString(i.length),a=new Ake(A,i),l[h=i.nameID]==null&&(l[h]=[]),l[i.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},r}(),uke=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Gu(r,Pc),r.prototype.tag="maxp",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},r}(),hke=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Gu(r,Pc),r.prototype.tag="hmtx",r.prototype.parse=function(e){var t,n,i,s,a,o,l;for(e.pos=this.offset,this.metrics=[],t=0,o=this.file.hhea.numberOfMetrics;0<=o?t<o:t>o;t=0<=o?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var A,c;for(c=[],t=A=0;0<=i?A<i:A>i;t=0<=i?++A:--A)c.push(e.readInt16());return c}(),this.widths=(function(){var A,c,u,h;for(h=[],A=0,c=(u=this.metrics).length;A<c;A++)s=u[A],h.push(s.advance);return h}).call(this),n=this.widths[this.widths.length-1],l=[],t=a=0;0<=i?a<i:a>i;t=0<=i?++a:--a)l.push(this.widths.push(n));return l},r.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},r}(),Lee=[].slice,fke=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Gu(r,Pc),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(e){var t,n,i,s,a,o,l,A,c,u;return e in this.cache?this.cache[e]:(s=this.file.loca,t=this.file.contents,n=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+n,a=(o=new lp(t.read(i))).readShort(),A=o.readShort(),u=o.readShort(),l=o.readShort(),c=o.readShort(),this.cache[e]=a===-1?new pke(o,A,u,l,c):new dke(o,a,A,u,l,c),this.cache[e]))},r.prototype.encode=function(e,t,n){var i,s,a,o,l;for(a=[],s=[],o=0,l=t.length;o<l;o++)i=e[t[o]],s.push(a.length),i&&(a=a.concat(i.encode(n)));return s.push(a.length),{table:a,offsets:s}},r}(),dke=function(){function r(e,t,n,i,s,a){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r}(),pke=function(){function r(e,t,n,i,s){var a,o;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return r.prototype.encode=function(){var e,t,n;for(t=new lp(Lee.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},r}(),gke=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Gu(r,Pc),r.prototype.tag="loca",r.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=4)s.push(e.readUInt32());return s}).call(this)},r.prototype.indexOf=function(e){return this.offsets[e]},r.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},r.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),i=0,s=0,a=0;a<n.length;++a)if(n[a]=i,s<t.length&&t[s]==a){++s,n[a]=i;var o=this.offsets[a],l=this.offsets[a+1]-o;l>0&&(i+=l)}for(var A=new Array(4*n.length),c=0;c<n.length;++c)A[4*c+3]=255&n[c],A[4*c+2]=(65280&n[c])>>8,A[4*c+1]=(16711680&n[c])>>16,A[4*c]=(4278190080&n[c])>>24;return A},r}(),mke=function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,n,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[t],e[t]=i[n];return e},r.prototype.glyphsFor=function(e){var t,n,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(n=i[s])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(s in l=this.glyphsFor(t))n=l[s],i[s]=n;return i},r.prototype.encode=function(e,t){var n,i,s,a,o,l,A,c,u,h,f,g,p,v,m;for(i in n=kee.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),f={0:0},m=n.charMap)f[(l=m[i]).old]=l.new;for(g in h=n.maxGlyphID,a)g in f||(f[g]=h++);return c=function(x){var _,S;for(_ in S={},x)S[x[_]]=_;return S}(f),u=Object.keys(c).sort(function(x,_){return x-_}),p=function(){var x,_,S;for(S=[],x=0,_=u.length;x<_;x++)o=u[x],S.push(c[o]);return S}(),s=this.font.glyf.encode(a,p,f),A=this.font.loca.encode(s.offsets,p),v={cmap:this.font.cmap.raw(),glyf:s.table,loca:A,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},r}();Vt.API.PDFObject=function(){var r;function e(){}return r=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,i,s,a;if(Array.isArray(t))return"["+function(){var o,l,A;for(A=[],o=0,l=t.length;o<l;o++)n=t[o],A.push(e.convert(n));return A}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)a=t[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+t},e}();function Pee(r,e,t,n,i){n=n||{};var s=1.15,a=i.internal.scaleFactor,o=i.internal.getFontSize()/a,l=i.getLineHeightFactor?i.getLineHeightFactor():s,A=o*l,c=/\r\n|\r|\n/g,u="",h=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(u=typeof r=="string"?r.split(c):r,h=u.length||1),t+=o*(2-s),n.valign==="middle"?t-=h/2*A:n.valign==="bottom"&&(t-=h*A),n.halign==="center"||n.halign==="right"){var f=o;if(n.halign==="center"&&(f*=.5),u&&h>=1){for(var g=0;g<u.length;g++)i.text(u[g],e-i.getStringUnitWidth(u[g])*f,t),t+=A;return i}e-=i.getStringUnitWidth(r)*f}return n.halign==="justify"?i.text(r,e,t,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(r,e,t),i}var nj={},Dv=function(){function r(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return r.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:nj=e},r.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},r.prototype.applyStyles=function(e,t){var n,i,s;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var a=this.jsPDFDocument.internal.getFont(),o=a.fontStyle,l=a.fontName;if(e.font&&(l=e.font),e.fontStyle){o=e.fontStyle;var A=this.getFontList()[l];A&&A.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(A[0]),o=A[0])}if(this.jsPDFDocument.setFont(l,o),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var c=r.unifyColor(e.fillColor);c&&(n=this.jsPDFDocument).setFillColor.apply(n,c),c=r.unifyColor(e.textColor),c&&(i=this.jsPDFDocument).setTextColor.apply(i,c),c=r.unifyColor(e.lineColor),c&&(s=this.jsPDFDocument).setDrawColor.apply(s,c),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},r.prototype.splitTextToSize=function(e,t,n){return this.jsPDFDocument.splitTextToSize(e,t,n)},r.prototype.rect=function(e,t,n,i,s){return this.jsPDFDocument.rect(e,t,n,i,s)},r.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},r.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},r.prototype.getDocument=function(){return this.jsPDFDocument},r.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},r.prototype.addPage=function(){return this.jsPDFDocument.addPage()},r.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},r.prototype.getGlobalOptions=function(){return nj||{}},r.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},r.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},r.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},r.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},r.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},r.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},r}(),CD=function(r,e){return CD=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},CD(r,e)};function Ree(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");CD(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Dee=function(r){Ree(e,r);function e(t){var n=r.call(this)||this;return n._element=t,n}return e}(Array);function vke(r){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/r,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function wke(r){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[r]}function yF(r,e,t){t.applyStyles(e,!0);var n=Array.isArray(r)?r:[r],i=n.map(function(s){return t.getTextWidth(s)}).reduce(function(s,a){return Math.max(s,a)},0);return i}function Nee(r,e,t,n){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;r.applyStyles({lineWidth:i,lineColor:s});var a=Uee(i,!1);a&&r.rect(t.x,t.y,e.getWidth(r.pageSize().width),n.y-t.y,a)}function Uee(r,e){var t=r>0,n=e||e===0;return t&&n?"DF":t?"S":n?"F":null}function Y4(r,e){var t,n,i,s;if(r=r||e,Array.isArray(r)){if(r.length>=4)return{top:r[0],right:r[1],bottom:r[2],left:r[3]};if(r.length===3)return{top:r[0],right:r[1],bottom:r[2],left:r[1]};if(r.length===2)return{top:r[0],right:r[1],bottom:r[0],left:r[1]};r.length===1?r=r[0]:r=e}return typeof r=="object"?(typeof r.vertical=="number"&&(r.top=r.vertical,r.bottom=r.vertical),typeof r.horizontal=="number"&&(r.right=r.horizontal,r.left=r.horizontal),{left:(t=r.left)!==null&&t!==void 0?t:e,top:(n=r.top)!==null&&n!==void 0?n:e,right:(i=r.right)!==null&&i!==void 0?i:e,bottom:(s=r.bottom)!==null&&s!==void 0?s:e}):(typeof r!="number"&&(r=e),{top:r,right:r,bottom:r,left:r})}function Mee(r,e){var t=Y4(e.settings.margin,0);return r.pageSize().width-(t.left+t.right)}function yke(r,e,t,n,i){var s={},a=1.3333333333333333,o=w3(e,function(_){return i.getComputedStyle(_).backgroundColor});o!=null&&(s.fillColor=o);var l=w3(e,function(_){return i.getComputedStyle(_).color});l!=null&&(s.textColor=l);var A=_ke(n,t);A&&(s.cellPadding=A);var c="borderTopColor",u=a*t,h=n.borderTopWidth;if(n.borderBottomWidth===h&&n.borderRightWidth===h&&n.borderLeftWidth===h){var f=(parseFloat(h)||0)/u;f&&(s.lineWidth=f)}else s.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/u,right:(parseFloat(n.borderRightWidth)||0)/u,bottom:(parseFloat(n.borderBottomWidth)||0)/u,left:(parseFloat(n.borderLeftWidth)||0)/u},s.lineWidth.top||(s.lineWidth.right?c="borderRightColor":s.lineWidth.bottom?c="borderBottomColor":s.lineWidth.left&&(c="borderLeftColor"));var g=w3(e,function(_){return i.getComputedStyle(_)[c]});g!=null&&(s.lineColor=g);var p=["left","right","center","justify"];p.indexOf(n.textAlign)!==-1&&(s.halign=n.textAlign),p=["middle","bottom","top"],p.indexOf(n.verticalAlign)!==-1&&(s.valign=n.verticalAlign);var v=parseInt(n.fontSize||"");isNaN(v)||(s.fontSize=v/a);var m=xke(n);m&&(s.fontStyle=m);var x=(n.fontFamily||"").toLowerCase();return r.indexOf(x)!==-1&&(s.font=x),s}function xke(r){var e="";return(r.fontWeight==="bold"||r.fontWeight==="bolder"||parseInt(r.fontWeight)>=700)&&(e="bold"),(r.fontStyle==="italic"||r.fontStyle==="oblique")&&(e+="italic"),e}function w3(r,e){var t=Oee(r,e);if(!t)return null;var n=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],s=parseInt(n[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function Oee(r,e){var t=e(r);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?r.parentElement==null?null:Oee(r.parentElement,e):t}function _ke(r,e){var t=[r.paddingTop,r.paddingRight,r.paddingBottom,r.paddingLeft],n=96/(72/e),i=(parseInt(r.lineHeight)-parseInt(r.fontSize))/e/2,s=t.map(function(o){return parseInt(o||"0")/n}),a=Y4(s,0);return i>a.top&&(a.top=i),i>a.bottom&&(a.bottom=i),a}function Qee(r,e,t,n,i){var s,a;n===void 0&&(n=!1),i===void 0&&(i=!1);var o;typeof e=="string"?o=t.document.querySelector(e):o=e;var l=Object.keys(r.getFontList()),A=r.scaleFactor(),c=[],u=[],h=[];if(!o)return console.error("Html table could not be found with input: ",e),{head:c,body:u,foot:h};for(var f=0;f<o.rows.length;f++){var g=o.rows[f],p=(a=(s=g==null?void 0:g.parentElement)===null||s===void 0?void 0:s.tagName)===null||a===void 0?void 0:a.toLowerCase(),v=bke(l,A,t,g,n,i);v&&(p==="thead"?c.push(v):p==="tfoot"?h.push(v):u.push(v))}return{head:c,body:u,foot:h}}function bke(r,e,t,n,i,s){for(var a=new Dee(n),o=0;o<n.cells.length;o++){var l=n.cells[o],A=t.getComputedStyle(l);if(i||A.display!=="none"){var c=void 0;s&&(c=yke(r,l,e,A,t)),a.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:c,_element:l,content:Eke(l)})}}var u=t.getComputedStyle(n);if(a.length>0&&(i||u.display!=="none"))return a}function Eke(r){var e=r.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function Cke(r,e,t){for(var n=0,i=[r,e,t];n<i.length;n++){var s=i[n];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function df(r,e,t,n,i){if(r==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(r),a=1;a<arguments.length;a++){var o=arguments[a];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])}return s}function Hee(r,e){var t=new Dv(r),n=t.getDocumentOptions(),i=t.getGlobalOptions();Cke(i,n,e);var s=df({},i,n,e),a;typeof window<"u"&&(a=window);var o=Bke(i,n,e),l=Ske(i,n,e),A=Tke(t,s),c=Ike(t,s,a);return{id:e.tableId,content:c,hooks:l,styles:o,settings:A}}function Bke(r,e,t){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var A=r[l],c=e[l],u=t[l];n.columnStyles=df({},A,c,u)}else{var h=[r,e,t],f=h.map(function(g){return g[l]||{}});n[l]=df({},f[0],f[1],f[2])}},s=0,a=Object.keys(n);s<a.length;s++){var o=a[s];i(o)}return n}function Ske(r,e,t){for(var n=[r,e,t],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,a=n;s<a.length;s++){var o=a[s];o.didParseCell&&i.didParseCell.push(o.didParseCell),o.willDrawCell&&i.willDrawCell.push(o.willDrawCell),o.didDrawCell&&i.didDrawCell.push(o.didDrawCell),o.willDrawPage&&i.willDrawPage.push(o.willDrawPage),o.didDrawPage&&i.didDrawPage.push(o.didDrawPage)}return i}function Tke(r,e){var t,n,i,s,a,o,l,A,c,u,h,f,g=Y4(e.margin,40/r.scaleFactor()),p=(t=Fke(r,e.startY))!==null&&t!==void 0?t:g.top,v;e.showFoot===!0?v="everyPage":e.showFoot===!1?v="never":v=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var m;e.showHead===!0?m="everyPage":e.showHead===!1?m="never":m=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var x=(s=e.useCss)!==null&&s!==void 0?s:!1,_=e.theme||(x?"plain":"striped"),S=!!e.horizontalPageBreak,k=(a=e.horizontalPageBreakRepeat)!==null&&a!==void 0?a:null;return{includeHiddenHtml:(o=e.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:x,theme:_,startY:p,margin:g,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(A=e.rowPageBreak)!==null&&A!==void 0?A:"auto",tableWidth:(c=e.tableWidth)!==null&&c!==void 0?c:"auto",showHead:m,showFoot:v,tableLineWidth:(u=e.tableLineWidth)!==null&&u!==void 0?u:0,tableLineColor:(h=e.tableLineColor)!==null&&h!==void 0?h:200,horizontalPageBreak:S,horizontalPageBreakRepeat:k,horizontalPageBreakBehaviour:(f=e.horizontalPageBreakBehaviour)!==null&&f!==void 0?f:"afterAllRows"}}function Fke(r,e){var t=r.getLastAutoTable(),n=r.scaleFactor(),i=r.pageNumber(),s=!1;if(t&&t.startPageNumber){var a=t.startPageNumber+t.pageNumber-1;s=a===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&(t==null?void 0:t.finalY)!=null?t.finalY+20/n:null}function Ike(r,e,t){var n=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var a=e.includeHiddenHtml;if(t){var o=Qee(r,e.html,t,a,e.useCss)||{};n=o.head||n,i=o.body||n,s=o.foot||n}else console.error("Cannot parse html in non browser environment")}var l=e.columns||kke(n,i,s);return{columns:l,head:n,body:i,foot:s}}function kke(r,e,t){var n=r[0]||e[0]||t[0]||[],i=[];return Object.keys(n).filter(function(s){return s!=="_element"}).forEach(function(s){var a=1,o;Array.isArray(n)?o=n[parseInt(s)]:o=n[s],typeof o=="object"&&!Array.isArray(o)&&(a=(o==null?void 0:o.colSpan)||1);for(var l=0;l<a;l++){var A=void 0;Array.isArray(n)?A=i.length:A=s+(l>0?"_".concat(l):"");var c={dataKey:A};i.push(c)}}),i}var BD=function(){function r(e,t,n){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=n,this.doc=e.getDocument()}return r}(),Lke=function(r){Ree(e,r);function e(t,n,i,s,a,o){var l=r.call(this,t,n,o)||this;return l.cell=i,l.row=s,l.column=a,l.section=s.section,l}return e}(BD),Pke=function(){function r(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return r.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,n){return t+n.getMaxCellHeight(e)},0)},r.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,n){return t+n.getMaxCellHeight(e)},0)},r.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},r.prototype.callCellHooks=function(e,t,n,i,s,a){for(var o=0,l=t;o<l.length;o++){var A=l[o],c=new Lke(e,this,n,i,s,a),u=A(c)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],u)return!1}return!0},r.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var n=0,i=this.hooks.didDrawPage;n<i.length;n++){var s=i[n];s(new BD(e,this,t))}},r.prototype.callWillDrawPageHooks=function(e,t){for(var n=0,i=this.hooks.willDrawPage;n<i.length;n++){var s=i[n];s(new BD(e,this,t))}},r.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return t}else{var n=this.settings.margin;return e-n.left-n.right}},r}(),Vee=function(){function r(e,t,n,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof Dee&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=n,this.cells=i,this.spansMultiplePages=s}return r.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(n,i){var s;return Math.max(n,((s=t.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},r.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(n){var i=t.cells[n.index];return i?i.rowSpan>1:!1}).length>0},r.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},r.prototype.getMinimumRowHeight=function(e,t){var n=this;return e.reduce(function(i,s){var a=n.cells[s.index];if(!a)return 0;var o=t.getLineHeight(a.styles.fontSize),l=a.padding("vertical"),A=l+o;return A>i?A:i},0)},r}(),jee=function(){function r(e,t,n){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=n,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var a=s!=null?""+s:"",o=/\r\n|\r|\n/g;this.text=a.split(o)}return r.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");n=this.x+i/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},r.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var n=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*t,s=n*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},r.prototype.padding=function(e){var t=Y4(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},r}(),Rke=function(){function r(e,t,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=n}return r.prototype.getMaxCustomCellWidth=function(e){for(var t=0,n=0,i=e.allRows();n<i.length;n++){var s=i[n],a=s.cells[this.index];a&&typeof a.styles.cellWidth=="number"&&(t=Math.max(t,a.styles.cellWidth))}return t},r}();function Dke(r,e){Nke(r,e);var t=[],n=0;e.columns.forEach(function(s){var a=s.getMaxCustomCellWidth(e);a?s.width=a:(s.width=s.wrappedWidth,t.push(s)),n+=s.width});var i=e.getWidth(r.pageSize().width)-n;i&&(i=SD(t,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=SD(t,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/r.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),Mke(e),Oke(e,r),Uke(e)}function Nke(r,e){var t=r.scaleFactor(),n=e.settings.horizontalPageBreak,i=Mee(r,e);e.allRows().forEach(function(s){for(var a=0,o=e.columns;a<o.length;a++){var l=o[a],A=s.cells[l.index];if(A){var c=e.hooks.didParseCell;e.callCellHooks(r,c,A,s,l,null);var u=A.padding("horizontal");A.contentWidth=yF(A.text,A.styles,r)+u;var h=yF(A.text.join(" ").split(/[^\S\u00A0]+/),A.styles,r);if(A.minReadableWidth=h+A.padding("horizontal"),typeof A.styles.cellWidth=="number")A.minWidth=A.styles.cellWidth,A.wrappedWidth=A.styles.cellWidth;else if(A.styles.cellWidth==="wrap"||n===!0)A.contentWidth>i?(A.minWidth=i,A.wrappedWidth=i):(A.minWidth=A.contentWidth,A.wrappedWidth=A.contentWidth);else{var f=10/t;A.minWidth=A.styles.minCellWidth||f,A.wrappedWidth=A.contentWidth,A.minWidth>A.wrappedWidth&&(A.wrappedWidth=A.minWidth)}}}}),e.allRows().forEach(function(s){for(var a=0,o=e.columns;a<o.length;a++){var l=o[a],A=s.cells[l.index];if(A&&A.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,A.wrappedWidth),l.minWidth=Math.max(l.minWidth,A.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,A.minReadableWidth);else{var c=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},u=c.cellWidth||c.minCellWidth;u&&typeof u=="number"&&(l.minWidth=u,l.wrappedWidth=u)}A&&(A.colSpan>1&&!l.minWidth&&(l.minWidth=A.minWidth),A.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=A.minWidth))}})}function SD(r,e,t){for(var n=e,i=r.reduce(function(f,g){return f+g.wrappedWidth},0),s=0;s<r.length;s++){var a=r[s],o=a.wrappedWidth/i,l=n*o,A=a.width+l,c=t(a),u=A<c?c:A;e-=u-a.width,a.width=u}if(e=Math.round(e*1e10)/1e10,e){var h=r.filter(function(f){return e<0?f.width>t(f):!0});h.length&&(e=SD(h,e,t))}return e}function Uke(r){for(var e={},t=1,n=r.allRows(),i=0;i<n.length;i++)for(var s=n[i],a=0,o=r.columns;a<o.length;a++){var l=o[a],A=e[l.index];if(t>1)t--,delete s.cells[l.index];else if(A)A.cell.height+=s.height,t=A.cell.colSpan,delete s.cells[l.index],A.left--,A.left<=1&&delete e[l.index];else{var c=s.cells[l.index];if(!c)continue;if(c.height=s.height,c.rowSpan>1){var u=n.length-i,h=c.rowSpan>u?u:c.rowSpan;e[l.index]={cell:c,left:h,row:s}}}}}function Mke(r){for(var e=r.allRows(),t=0;t<e.length;t++)for(var n=e[t],i=null,s=0,a=0,o=0;o<r.columns.length;o++){var l=r.columns[o];if(a-=1,a>1&&r.columns[o+1])s+=l.width,delete n.cells[l.index];else if(i){var A=i;delete n.cells[l.index],i=null,A.width=l.width+s}else{var A=n.cells[l.index];if(!A)continue;if(a=A.colSpan,s=0,A.colSpan>1){i=A,s+=l.width;continue}A.width=l.width+s}}}function Oke(r,e){for(var t={count:0,height:0},n=0,i=r.allRows();n<i.length;n++){for(var s=i[n],a=0,o=r.columns;a<o.length;a++){var l=o[a],A=s.cells[l.index];if(A){e.applyStyles(A.styles,!0);var c=A.width-A.padding("horizontal");if(A.styles.overflow==="linebreak")A.text=e.splitTextToSize(A.text,c+1/e.scaleFactor(),{fontSize:A.styles.fontSize});else if(A.styles.overflow==="ellipsize")A.text=ij(A.text,c,A.styles,e,"...");else if(A.styles.overflow==="hidden")A.text=ij(A.text,c,A.styles,e,"");else if(typeof A.styles.overflow=="function"){var u=A.styles.overflow(A.text,c);typeof u=="string"?A.text=[u]:A.text=u}A.contentHeight=A.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var h=A.contentHeight/A.rowSpan;A.rowSpan>1&&t.count*t.height<h*A.rowSpan?t={height:h,count:A.rowSpan}:t&&t.count>0&&t.height>h&&(h=t.height),h>s.height&&(s.height=h)}}t.count--}}function ij(r,e,t,n,i){return r.map(function(s){return Qke(s,e,t,n,i)})}function Qke(r,e,t,n,i){var s=1e4*n.scaleFactor();if(e=Math.ceil(e*s)/s,e>=yF(r,t,n))return r;for(;e<yF(r+i,t,n)&&!(r.length<=1);)r=r.substring(0,r.length-1);return r.trim()+i}function Kee(r,e){var t=new Dv(r),n=Hke(e,t.scaleFactor()),i=new Pke(e,n);return Dke(t,i),t.applyStyles(t.userStyles),i}function Hke(r,e){var t=r.content,n=jke(t.columns);if(t.head.length===0){var i=sj(n,"head");i&&t.head.push(i)}if(t.foot.length===0){var i=sj(n,"foot");i&&t.foot.push(i)}var s=r.settings.theme,a=r.styles;return{columns:n,head:y3("head",t.head,n,a,s,e),body:y3("body",t.body,n,a,s,e),foot:y3("foot",t.foot,n,a,s,e)}}function y3(r,e,t,n,i,s){var a={},o=e.map(function(l,A){for(var c=0,u={},h=0,f=0,g=0,p=t;g<p.length;g++){var v=p[g];if(a[v.index]==null||a[v.index].left===0)if(f===0){var m=void 0;Array.isArray(l)?m=l[v.index-h-c]:m=l[v.dataKey];var x={};typeof m=="object"&&!Array.isArray(m)&&(x=(m==null?void 0:m.styles)||{});var _=Kke(r,v,A,i,n,s,x),S=new jee(m,_,r);u[v.dataKey]=S,u[v.index]=S,f=S.colSpan-1,a[v.index]={left:S.rowSpan-1,times:f}}else f--,h++;else a[v.index].left--,f=a[v.index].times,c++}return new Vee(l,A,r,u)});return o}function sj(r,e){var t={};return r.forEach(function(n){if(n.raw!=null){var i=Vke(e,n.raw);i!=null&&(t[n.dataKey]=i)}}),Object.keys(t).length>0?t:null}function Vke(r,e){if(r==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(r==="foot"&&typeof e=="object")return e.footer;return null}function jke(r){return r.map(function(e,t){var n,i;return typeof e=="object"?i=(n=e.dataKey)!==null&&n!==void 0?n:t:i=t,new Rke(i,e,t)})}function Kke(r,e,t,n,i,s,a){var o=wke(n),l;r==="head"?l=i.headStyles:r==="body"?l=i.bodyStyles:r==="foot"&&(l=i.footStyles);var A=df({},o.table,o[r],i.styles,l),c=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},u=r==="body"?c:{},h=r==="body"&&t%2===0?df({},o.alternateRow,i.alternateRowStyles):{},f=vke(s),g=df({},f,A,h,u);return df(g,a)}function zke(r,e,t){var n;t===void 0&&(t={});var i=Mee(r,e),s=new Map,a=[],o=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(h){var f=e.columns.find(function(g){return g.dataKey===h||g.index===h});f&&!s.has(f.index)&&(s.set(f.index,!0),a.push(f.index),o.push(e.columns[f.index]),i-=f.wrappedWidth)});for(var A=!0,c=(n=t==null?void 0:t.start)!==null&&n!==void 0?n:0;c<e.columns.length;){if(s.has(c)){c++;continue}var u=e.columns[c].wrappedWidth;if(A||i>=u)A=!1,a.push(c),o.push(e.columns[c]),i-=u;else break;c++}return{colIndexes:a,columns:o,lastIndex:c-1}}function Wke(r,e){for(var t=[],n=0;n<e.columns.length;n++){var i=zke(r,e,{start:n});i.columns.length&&(t.push(i),n=i.lastIndex)}return t}function zee(r,e){var t=e.settings,n=t.startY,i=t.margin,s={x:i.left,y:n},a=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),o=n+i.bottom+a;if(t.pageBreak==="avoid"){var l=e.body,A=l.reduce(function(h,f){return h+f.height},0);o+=A}var c=new Dv(r);(t.pageBreak==="always"||t.startY!=null&&o>c.pageSize().height)&&(Gee(c),s.y=i.top),e.callWillDrawPageHooks(c,s);var u=df({},s);e.startPageNumber=c.pageNumber(),t.horizontalPageBreak?Gke(c,e,u,s):(c.applyStyles(c.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(h){return Pf(c,e,h,s,e.columns)}),c.applyStyles(c.userStyles),e.body.forEach(function(h,f){var g=f===e.body.length-1;xF(c,e,h,g,u,s,e.columns)}),c.applyStyles(c.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(h){return Pf(c,e,h,s,e.columns)})),Nee(c,e,u,s),e.callEndPageHooks(c,s),e.finalY=s.y,r.lastAutoTable=e,c.applyStyles(c.userStyles)}function Gke(r,e,t,n){var i=Wke(r,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(A,c){r.applyStyles(r.userStyles),c>0?s_(r,e,t,n,A.columns,!0):aj(r,e,n,A.columns),$ke(r,e,t,n,A.columns),x3(r,e,n,A.columns)});else for(var a=-1,o=i[0],l=function(){var A=a;if(o){r.applyStyles(r.userStyles);var c=o.columns;a>=0?s_(r,e,t,n,c,!0):aj(r,e,n,c),A=oj(r,e,a+1,n,c),x3(r,e,n,c)}var u=A-a;i.slice(1).forEach(function(h){r.applyStyles(r.userStyles),s_(r,e,t,n,h.columns,!0),oj(r,e,a+1,n,h.columns,u),x3(r,e,n,h.columns)}),a=A};a<e.body.length-1;)l()}function aj(r,e,t,n){var i=e.settings;r.applyStyles(r.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return Pf(r,e,s,t,n)})}function $ke(r,e,t,n,i){r.applyStyles(r.userStyles),e.body.forEach(function(s,a){var o=a===e.body.length-1;xF(r,e,s,o,t,n,i)})}function oj(r,e,t,n,i,s){r.applyStyles(r.userStyles),s=s??e.body.length;var a=Math.min(t+s,e.body.length),o=-1;return e.body.slice(t,a).forEach(function(l,A){var c=t+A===e.body.length-1,u=Wee(r,e,c,n);l.canEntireRowFit(u,i)&&(Pf(r,e,l,n,i),o=t+A)}),o}function x3(r,e,t,n){var i=e.settings;r.applyStyles(r.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return Pf(r,e,s,t,n)})}function qke(r,e,t){var n=t.getLineHeight(r.styles.fontSize),i=r.padding("vertical"),s=Math.floor((e-i)/n);return Math.max(0,s)}function Xke(r,e,t,n){var i={};r.spansMultiplePages=!0,r.height=0;for(var s=0,a=0,o=t.columns;a<o.length;a++){var l=o[a],A=r.cells[l.index];if(A){Array.isArray(A.text)||(A.text=[A.text]);var c=new jee(A.raw,A.styles,A.section);c=df(c,A),c.text=[];var u=qke(A,e,n);A.text.length>u&&(c.text=A.text.splice(u,A.text.length));var h=n.scaleFactor(),f=n.getLineHeightFactor();A.contentHeight=A.getContentHeight(h,f),A.contentHeight>=e&&(A.contentHeight=e,c.styles.minCellHeight-=e),A.contentHeight>r.height&&(r.height=A.contentHeight),c.contentHeight=c.getContentHeight(h,f),c.contentHeight>s&&(s=c.contentHeight),i[l.index]=c}}var g=new Vee(r.raw,-1,r.section,i,!0);g.height=s;for(var p=0,v=t.columns;p<v.length;p++){var l=v[p],c=g.cells[l.index];c&&(c.height=g.height);var A=r.cells[l.index];A&&(A.height=r.height)}return g}function Yke(r,e,t,n){var i=r.pageSize().height,s=n.settings.margin,a=s.top+s.bottom,o=i-a;e.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=e.getMinimumRowHeight(n.columns,r),A=l<t;if(l>o)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!A)return!1;var c=e.hasRowSpan(n.columns),u=e.getMaxCellHeight(n.columns)>o;return u?(c&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(c||n.settings.rowPageBreak==="avoid")}function xF(r,e,t,n,i,s,a){var o=Wee(r,e,n,s);if(t.canEntireRowFit(o,a))Pf(r,e,t,s,a);else if(Yke(r,t,o,e)){var l=Xke(t,o,e,r);Pf(r,e,t,s,a),s_(r,e,i,s,a),xF(r,e,l,n,i,s,a)}else s_(r,e,i,s,a),xF(r,e,t,n,i,s,a)}function Pf(r,e,t,n,i){n.x=e.settings.margin.left;for(var s=0,a=i;s<a.length;s++){var o=a[s],l=t.cells[o.index];if(!l){n.x+=o.width;continue}r.applyStyles(l.styles),l.x=n.x,l.y=n.y;var A=e.callCellHooks(r,e.hooks.willDrawCell,l,t,o,n);if(A===!1){n.x+=o.width;continue}Jke(r,l,n);var c=l.getTextPos();Pee(l.text,c.x,c.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},r.getDocument()),e.callCellHooks(r,e.hooks.didDrawCell,l,t,o,n),n.x+=o.width}n.y+=t.height}function Jke(r,e,t){var n=e.styles;if(r.getDocument().setFillColor(r.getDocument().getFillColor()),typeof n.lineWidth=="number"){var i=Uee(n.lineWidth,n.fillColor);i&&r.rect(e.x,t.y,e.width,e.height,i)}else typeof n.lineWidth=="object"&&(n.fillColor&&r.rect(e.x,t.y,e.width,e.height,"F"),Zke(r,e,t,n.lineWidth))}function Zke(r,e,t,n){var i,s,a,o;n.top&&(i=t.x,s=t.y,a=t.x+e.width,o=t.y,n.right&&(a+=.5*n.right),n.left&&(i-=.5*n.left),l(n.top,i,s,a,o)),n.bottom&&(i=t.x,s=t.y+e.height,a=t.x+e.width,o=t.y+e.height,n.right&&(a+=.5*n.right),n.left&&(i-=.5*n.left),l(n.bottom,i,s,a,o)),n.left&&(i=t.x,s=t.y,a=t.x,o=t.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.left,i,s,a,o)),n.right&&(i=t.x+e.width,s=t.y,a=t.x+e.width,o=t.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.right,i,s,a,o));function l(A,c,u,h,f){r.getDocument().setLineWidth(A),r.getDocument().line(c,u,h,f,"S")}}function Wee(r,e,t,n){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&t)&&(i+=e.getFootHeight(e.columns)),r.pageSize().height-n.y-i}function s_(r,e,t,n,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),r.applyStyles(r.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(o){return Pf(r,e,o,n,i)}),e.callEndPageHooks(r,n);var a=e.settings.margin;Nee(r,e,t,n),Gee(r),e.pageNumber++,n.x=a.left,n.y=a.top,t.y=a.top,e.callWillDrawPageHooks(r,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(o){return Pf(r,e,o,n,i)}),r.applyStyles(r.userStyles))}function Gee(r){var e=r.pageNumber();r.setPage(e+1);var t=r.pageNumber();return t===e?(r.addPage(),!0):!1}function e3e(r){r.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0],i=Hee(this,n),s=Kee(this,i);return zee(this,s),this},r.API.lastAutoTable=!1,r.API.autoTableText=function(e,t,n,i){Pee(e,t,n,i,this)},r.API.autoTableSetDefaults=function(e){return Dv.setDefaults(e,this),this},r.autoTableSetDefaults=function(e,t){Dv.setDefaults(e,t)},r.API.autoTableHtmlToJson=function(e,t){var n;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Dv(this),s=Qee(i,e,window,t,!1),a=s.head,o=s.body,l=((n=a[0])===null||n===void 0?void 0:n.map(function(A){return A.content}))||[];return{columns:l,rows:o,data:o}}}var _3;function b3(r,e){var t=Hee(r,e),n=Kee(r,t);zee(r,n)}try{if(typeof window<"u"&&window){var lj=window,Aj=lj.jsPDF||((_3=lj.jspdf)===null||_3===void 0?void 0:_3.jsPDF);Aj&&e3e(Aj)}}catch(r){console.error("Could not apply autoTable plugin",r)}let E3=null;async function t3e(){if(E3)return E3;try{const r=await fetch("/NotoSansKR-Regular.ttf");if(!r.ok)throw new Error("NotoSansKR-Regular.ttf   /public    .");const e=await r.blob();return new Promise((t,n)=>{const i=new FileReader;i.onloadend=()=>{const s=i.result.split(",")[1];E3=s,t(s)},i.onerror=n,i.readAsDataURL(e)})}catch(r){throw console.error("  :",r),new Error("PDF    (NotoSansKR-Regular.ttf) /public    .")}}async function r3e(){const r=new Vt("p","mm","a4");if(r.getFontList().NotoSansKR===void 0){const e=await t3e();if(!e)throw new Error("PDF   .");try{r.addFileToVFS("NotoSansKR-Regular.ttf",e),r.addFont("NotoSansKR-Regular.ttf","NotoSansKR","normal")}catch(t){throw console.error("Failed to add font to jsPDF:",t),new Error(`PDF   : ${t.message}.`)}}return r.setFont("NotoSansKR","normal"),r}function I1(r,e,t){r.setFontSize(22),r.setFont("NotoSansKR","normal"),r.setTextColor(0,0,0),r.text(e,105,20,{align:"center"}),t&&(r.setFontSize(14),r.setTextColor(100),r.text(t,105,30,{align:"center"}))}function ch(r,e,t){r.setFontSize(16),r.setFont("NotoSansKR","normal"),r.setTextColor(29,78,216),r.text(e,15,t);const n=r.getTextDimensions(e).h;return t+n+4}function k0(r,e,t,n={}){const{x:i=15,maxWidth:s=180,fontSize:a=10,color:o=[40,40,40],lineSpacing:l=1.6}=n;r.setFontSize(a),r.setTextColor(o[0],o[1],o[2]),r.setFont("NotoSansKR","normal");const A=r.splitTextToSize(e||" ",s);r.text(A,i,t,{lineHeightFactor:l});const c=A.length*a*.352778*l;return t+c>280?(r.addPage(),20):t+c+2}function cj(r,e,t){if(!e||!e.studentData)return console.error("addFeaturesSection: Invalid data"),t;const i=e.studentData.students.filter(m=>m.submitted).map(m=>m.score).filter(m=>typeof m=="number"),s=i.length>0?Math.max.apply(null,i):"N/A",a=i.length>0?Math.min.apply(null,i):"N/A",o=e.studentData.classAverage??"N/A",l=[];e.studentData.answerRates.forEach((m,x)=>{m===100&&l.push(x+1)});const A=[];e.studentData.answerRates.forEach((m,x)=>{m<=40&&A.push({qNum:x+1,rate:m})});const c=58,u=7.5,h=15;let f=25;const g=A.length>0?A.map(m=>`${m.qNum} (${m.rate}%)`).join(", "):"";r.setFont("NotoSansKR","normal");const v=r.splitTextToSize(g,c-10).length*9*.352778*1.6+18;return f=Math.max(f,v),r.setLineWidth(.5),r.setFillColor(239,246,255),r.setDrawColor(224,231,255),r.rect(h,t,c,f,"FD"),r.setFontSize(11),r.setTextColor(49,46,129),r.text("  ",h+5,t+8),r.setFontSize(10),r.setTextColor(67,56,202),k0(r,` ${s},  ${a},  ${o}`,t+16,{x:h+5,maxWidth:c-10,fontSize:10,color:[67,56,202]}),r.setFillColor(240,253,244),r.setDrawColor(220,252,231),r.rect(h+c+u,t,c,f,"FD"),r.setFontSize(11),r.setTextColor(22,101,52),r.text("   ",h+c+u+5,t+8),r.setFontSize(10),r.setTextColor(21,128,61),k0(r,l.length>0?l.map(m=>`${m}`).join(", "):"",t+16,{x:h+c+u+5,maxWidth:c-10,fontSize:10,color:[21,128,61]}),r.setFillColor(254,242,242),r.setDrawColor(254,226,226),r.rect(h+(c+u)*2,t,c,f,"FD"),r.setFontSize(11),r.setTextColor(153,27,27),r.text("    (40% )",h+(c+u)*2+5,t+8),r.setFontSize(9),k0(r,g,t+16,{x:h+(c+u)*2+5,maxWidth:c-10,fontSize:9,color:[185,28,28]}),t+f+10}function Np(r,e,t,n,i="gray"){const a={gray:{bg:[243,244,246],border:[229,231,235],text:[55,65,81],title:[17,24,39]},blue:{bg:[239,246,255],border:[219,234,254],text:[30,64,175],title:[30,58,138]},red:{bg:[254,242,242],border:[254,226,226],text:[185,28,28],title:[153,27,27]},green:{bg:[240,253,244],border:[220,252,231],text:[21,128,61],title:[22,101,52]}}[i];let o=t;t===void 0?o="AI   ...":t===null?o="AI    .":typeof t=="string"&&t.trim()===""&&(o="( )"),typeof o=="string"&&(o=o.replace(/<br\s*\/?>/gi," "),o=o.replace(/\n/g," "),o=o.replace(/\s+/g," "),o=o.trim()),r.setFont("NotoSansKR","normal"),r.setFontSize(11);const l=r.getTextDimensions(e).h,A=r.splitTextToSize(o,170);r.setFontSize(10);const c=A.length*10*.352778*1.6,u=6,h=2,f=6,g=c>0&&o.length>0?c:0,p=u+l+(g>0?h+g:0)+f;n+p>280&&(r.addPage(),n=20),r.setDrawColor(a.border[0],a.border[1],a.border[2]),r.setFillColor(a.bg[0],a.bg[1],a.bg[2]),r.rect(15,n,180,p,"FD"),r.setFontSize(11),r.setTextColor(a.title[0],a.title[1],a.title[2]),r.text(e,20,n+u+11*.352778);const v=n+u+l+h+10*.352778;return k0(r,o,v,{x:20,maxWidth:170,color:a.text,fontSize:10,lineSpacing:1.6}),n+p+5}function uj(r,e){return e?e.includes("1")?r>=18?"":r>=9?"":"":[14,15,17,18,19,21].includes(r)?"":[6,7,8,9,10,11,12,13,16,20].includes(r)?"":"":" "}const n3e=()=>{const{currentPage:r,testData:e,selectedClass:t,selectedDate:n,selectedStudent:i,aiLoading:s,reportHTML:a,activeChart:o,setActiveChart:l,setErrorMessage:A,reportCurrentPage:c}=Ic(),u=nr.useRef(null);return nr.useEffect(()=>{var v;const f=(v=e[t])==null?void 0:v[n];if(!f||!f.studentData||!a)return;const g=i?f.studentData.students.find(m=>m.name===i):null;u.current&&u.current.destroy();const p=document.getElementById("scoreChart");return p&&(u.current=V7(p,f.studentData,g),u.current&&l(u.current)),()=>{u.current&&(u.current.destroy(),u.current=null),l(null)}},[a,s,e,t,n,i,l,r,c]),{handlePdfSave:nr.useCallback(async()=>{var x,_,S,k,R,B,E,b,I,T;const f=document.getElementById("savePdfBtn");if(!f)return;f.textContent=" ...",f.disabled=!0;let g=u.current;if(!g){const F=document.getElementById("scoreChart"),D=(x=e[t])==null?void 0:x[n];if(F&&(D!=null&&D.studentData)){f.textContent="  ...",console.warn("PDF       (ref is null)");const q=Cu.getChart(F);q&&q.destroy();const ie=D.studentData.students.find(te=>te.name===i)||null,oe=V7(F,D.studentData,ie);g=oe,u.current=oe,l(oe),await new Promise(te=>setTimeout(te,300))}}f.textContent=" ...";let p;try{p=await r3e()}catch(F){console.error(F),A(F.message),f.innerHTML='<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="16" width="16" xmlns="http://www.w3.org/2000/svg" style="margin-right: 8px;"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg> PDF ',f.disabled=!1;return}const v=f.dataset.reportType,m=f.dataset.studentName;try{const F=(_=e[t])==null?void 0:_[n];if(!F)throw new Error("PDF      .");const D=i?(k=(S=F.studentData)==null?void 0:S.students)==null?void 0:k.find(P=>P.name===i):null,q=F.aiOverallAnalysis,ie=D==null?void 0:D.aiAnalysis,oe=P=>P==null?" ":String(P).replace(/\n/g," "),te=new Map;(B=(R=F.questionUnitMap)==null?void 0:R.question_units)==null||B.forEach(P=>te.set(P.qNum,P.unit)),(E=ie==null?void 0:ie.incorrect_analysis)==null||E.forEach(P=>{P.unit&&te.set(P.qNum,P.unit)});let re=null;const W=document.getElementById("scoreChart");if(W)try{g&&typeof g.toBase64Image=="function"?re=g.toBase64Image("image/png",1):(console.warn("currentActiveChart(ref)  . html2canvas fallback "),re=await HZ(W,{scale:2,logging:!1,useCORS:!0,backgroundColor:null}).then(P=>P.toDataURL("image/png",1)))}catch(P){console.error("   (scoreChart):",P),re=null}let pe=40;if(v==="individual"){if(!D)throw new Error("    .");I1(p,`${n} Weekly Test`,`${t} / ${D.name}`),pe=ch(p,"   ",40),pe=cj(p,F,pe);const P=((b=document.getElementById("instructorComment"))==null?void 0:b.value)??"";pe=ch(p,"   ",pe+5),p.setDrawColor(107,114,128),p.setFillColor(243,244,246);const H=p.splitTextToSize(P||" ",170).length*10*.352778*1.6+12;if(p.rect(15,pe,180,Math.max(30,H),"FD"),k0(p,P||"(  )",pe+6,{x:20,maxWidth:170,color:[55,65,81]}),pe+=Math.max(30,H)+10,re)try{pe=ch(p," "+t+"  ",pe);const Z=p.getImageProperties(re),he=180;let xe=Z.height*he/Z.width;xe=Math.min(xe,100);const ye=(p.internal.pageSize.getWidth()-he)/2;pe+xe>280&&(p.addPage(),pe=20),p.addImage(re,void 0,ye,pe,he,xe,void 0,"FAST"),pe+=xe+10}catch(Z){console.error("PDF addImage  (scoreChart Page 1):",Z),pe=k0(p,"(   )",pe,{color:[220,38,38]})}else pe=k0(p,"(    .)",pe,{color:[220,38,38]});p.addPage(),p.setFont("NotoSansKR","normal"),I1(p,`${n} Weekly Test`,`${t} / ${D.name} (AI )`),pe=ch(p," AI  ",40),pe>250&&(p.addPage(),pe=20),D.submitted?(pe=Np(p,"  (Strengths)",ie==null?void 0:ie.strengths,pe,"blue"),pe=Np(p,"  (Weaknesses)",ie==null?void 0:ie.weaknesses,pe,"red"),pe=Np(p,"   (Recommendations)",ie==null?void 0:ie.recommendations,pe,"green")):pe=Np(p,"","    AI    .",pe,"gray"),p.addPage(),p.setFont("NotoSansKR","normal"),I1(p,`${n} Weekly Test`,`${t} / ${D.name} ( )`),pe=ch(p,"  ",40);const K=D.answers.map((Z,he)=>[`${Z.qNum}`,te.get(Z.qNum)||"",uj(Z.qNum,t),Z.isCorrect?"O":"X",`${F.studentData.answerRates[he]??"N/A"}%`]);if(b3(p,{startY:pe,head:[["","   (AI )","","","  (%)"]],body:K,theme:"grid",styles:{font:"NotoSansKR",fontStyle:"normal",fontSize:8,cellPadding:1.5},headStyles:{font:"NotoSansKR",fontStyle:"normal",fillColor:[248,250,252],textColor:[55,65,81],fontSize:9},didDrawCell:Z=>{Z.section==="body"&&Z.column.index===3&&(Z.cell.text[0]==="X"?(Z.cell.styles.textColor=[220,38,38],Z.cell.styles.fillColor=[254,242,242]):Z.cell.styles.textColor=[37,99,235])}}),((I=ie==null?void 0:ie.incorrect_analysis)==null?void 0:I.length)>0){p.addPage(),p.setFont("NotoSansKR","normal"),I1(p,`${n} Weekly Test`,`${t} / ${D.name} ( )`),pe=ch(p,"      (AI )",40);const Z=ie.incorrect_analysis.map(he=>[`${he.qNum}`,te.get(he.qNum)||" ",uj(he.qNum,t),oe(he.analysis_point),oe(he.solution)]);b3(p,{startY:pe,head:[["","  ","","  (AI)","  (AI)"]],body:Z,theme:"grid",styles:{font:"NotoSansKR",fontStyle:"normal",fontSize:8,cellPadding:1.5},headStyles:{font:"NotoSansKR",fontStyle:"normal",fillColor:[248,250,252],textColor:[55,65,81],fontSize:9},columnStyles:{3:{cellWidth:50},4:{cellWidth:50}},didDrawCell:he=>{he.section==="body"&&(he.cell.styles.fillColor=[254,242,242])}})}}else{if(I1(p,`${t} ${n}   ( )`),pe=ch(p,"    ",40),pe=cj(p,F,pe),pe=ch(p,"   AI  ",pe+5),re)try{const P=p.getImageProperties(re),O=180;let H=P.height*O/P.width;H=Math.min(H,100);const K=(p.internal.pageSize.getWidth()-O)/2;p.addImage(re,void 0,K,pe,O,H,void 0,"FAST"),pe+=H+10}catch(P){console.error("PDF addImage/getImageProperties :",P),pe+=10}else pe=k0(p,"(    .   .)",pe,{color:[220,38,38]}),pe+=5;if(pe=Np(p,"  ",q==null?void 0:q.summary,pe,"gray"),pe=Np(p,"   ",q==null?void 0:q.common_weaknesses,pe,"red"),pe=Np(p,"   ",q==null?void 0:q.recommendations,pe,"green"),((T=q==null?void 0:q.question_analysis)==null?void 0:T.length)>0){p.addPage(),p.setFont("NotoSansKR","normal"),I1(p,`${t} ${n}   ( )`),pe=ch(p,"     (AI )",40);const P=q.question_analysis.map(O=>[`${O.qNum}`,oe(O.unit),oe(O.analysis_point),oe(O.solution)]);b3(p,{startY:pe,head:[["","   (AI)"," "," "]],body:P,theme:"grid",styles:{font:"NotoSansKR",fontStyle:"normal",fontSize:8,cellPadding:1.5},headStyles:{font:"NotoSansKR",fontStyle:"normal",fillColor:[248,250,252],textColor:[55,65,81],fontSize:9},columnStyles:{2:{cellWidth:55},3:{cellWidth:55}},didDrawCell:O=>{O.section==="body"&&(O.cell.styles.fillColor=[254,242,242])}})}}const _e=v==="individual"?`${t}_${n}_${m}_.pdf`:`${t}_${n}__.pdf`;p.save(_e)}catch(F){console.error("PDF  :",F),A(`PDF    : ${F.message}.`)}finally{f.innerHTML='<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="16" width="16" xmlns="http://www.w3.org/2000/svg" style="margin-right: 8px;"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg> PDF ',f.disabled=!1}},[o,t,n,i,A,e,c,l])}},i3e=()=>{const{currentPage:r,reportCurrentPage:e,setReportCurrentPage:t,reportHTML:n,aiLoading:i}=Ic(),s=nr.useRef(null);return nr.useEffect(()=>{const a=s.current;if(r!=="page5"||!a||i)return;const o=a.querySelectorAll(".report-page"),l=a.querySelector("#pageIndicator"),A=a.querySelector("#prevPageBtn"),c=a.querySelector("#nextPageBtn"),u=a.querySelector("#pagination-controls");if(!l||!A||!c||!u)return;(p=>{o.forEach((v,m)=>{v.style.display=m===p-1?"block":"none"}),l.textContent=`${p} / ${o.length}`,A.disabled=p===1,c.disabled=p===o.length,u.style.display=o.length>1?"flex":"none"})(e);const f=()=>t(p=>p>1?p-1:p),g=()=>t(p=>p<o.length?p+1:p);A.onclick=null,c.onclick=null,A.onclick=f,c.onclick=g},[r,e,n,i,t]),s},s3e=()=>{const{currentPage:r,setCurrentPage:e,setSelectedClass:t,setSelectedDate:n,setSelectedStudent:i}=Ic(),s=nr.useCallback(()=>{r==="page5"?(e("page4"),i(null)):r==="page4"?(e("page2"),t("")):r==="page2"?(e("page3"),n("")):r==="page3"&&e("page1")},[r,e,t,n,i]),a=nr.useCallback(()=>{e("page1"),t(""),n(""),i(null)},[e,t,n,i]);return{goBack:s,goHome:a,showPage:e}};/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var a3e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3e=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=(r,e)=>{const t=nr.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...A},c)=>nr.createElement("svg",{ref:c,...a3e,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${o3e(r)}`,o].join(" "),...A},[...e.map(([u,h])=>nr.createElement(u,h)),...Array.isArray(l)?l:[l]]));return t.displayName=`${r}`,t};/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3e=gp("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3e=gp("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3e=gp("CloudUpload",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3e=gp("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3e=gp("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3e=gp("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3e=gp("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3e=gp("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),hj=({handleFileChange:r,handleFileProcess:e,fileInputRef:t,selectedFiles:n,handleFileDrop:i})=>{const{processing:s,errorMessage:a,uploadDate:o,setUploadDate:l,showPage:A,testData:c,setSelectedDate:u,setErrorMessage:h}=Ic(),[f,g]=nr.useState(!1),p=b=>{b.preventDefault(),b.stopPropagation(),f||g(!0)},v=b=>{b.preventDefault(),b.stopPropagation(),g(!1)},m=b=>{b.preventDefault(),b.stopPropagation(),g(!1),b.dataTransfer.files&&b.dataTransfer.files.length>0&&(i(b.dataTransfer.files),b.dataTransfer.clearData())},x=()=>new Date().toISOString().split("T")[0],_=b=>{if(!b)return"";try{const[I,T,F]=b.split("-");return`${parseInt(T,10)} ${parseInt(F,10)}`}catch{return""}},S=b=>{if(!b)return x();const I=b.match(/(\d+) (\d+)/);if(I){const T=new Date().getFullYear(),F=I[1].padStart(2,"0"),D=I[2].padStart(2,"0");return`${T}-${F}-${D}`}return x()},[k,R]=nr.useState(()=>S(o));nr.useEffect(()=>{if(!o){const b=x();R(b),l(_(b))}},[o,l]);const B=b=>{const I=b.target.value;R(I),l(_(I))},E=()=>{if(!o){h("   .");return}const b=new Set;c&&typeof c=="object"&&Object.values(c).forEach(I=>{I&&typeof I=="object"&&Object.keys(I).forEach(T=>{b.add(T)})}),b.has(o)?(h(""),u(o),A("page2")):h(`'${o}'    . 
   '  ' .`)};return Ze.jsxs("div",{id:"fileUploadCard",className:"card",children:[Ze.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-gray-700",children:"AI   "}),Ze.jsxs("div",{className:"mb-4",children:[Ze.jsx("label",{htmlFor:"dateInput",className:"block text-sm font-medium text-gray-700 mb-1",children:"  ()"}),Ze.jsx("div",{className:"relative",children:Ze.jsx("input",{type:"date",id:"dateInput",className:"w-full px-4 py-2 border border-gray-300 rounded-lg",value:k,onChange:B})})]}),Ze.jsx("p",{className:"text-center text-gray-600 mb-6",children:" PDF     (CSV  XLSX)  . (  ** **  )"}),Ze.jsx("div",{className:`p-6 border-2 border-dashed rounded-xl transition-colors mb-4 ${f?"border-indigo-500 bg-indigo-50":"border-gray-300 hover:border-gray-400"}`,onDragOver:p,onDragEnter:p,onDragLeave:v,onDrop:m,children:Ze.jsxs("div",{className:"flex flex-col items-center justify-center space-y-3",children:[Ze.jsx(c3e,{size:30,className:`text-gray-400 transition-colors ${f?"text-indigo-600":""}`}),Ze.jsx("p",{className:`text-lg font-semibold transition-colors ${f?"text-indigo-600":"text-gray-500"}`,children:"  "}),Ze.jsx("label",{htmlFor:"fileInput",className:"btn btn-primary cursor-pointer max-w-xs",children:Ze.jsx("span",{children:" "})}),Ze.jsx("input",{type:"file",id:"fileInput",ref:t,className:"hidden",multiple:!0,accept:".pdf,.csv,.xlsx",onChange:r})]})}),n.length>0&&Ze.jsxs("div",{id:"fileListContainer",className:"mb-4",children:[Ze.jsx("h4",{className:"font-semibold mb-2 text-gray-600",children:" :"}),Ze.jsx("ul",{id:"fileList",className:"list-disc list-inside bg-gray-50 p-4 rounded-lg text-sm text-gray-700 max-h-40 overflow-y-auto",children:n.map((b,I)=>Ze.jsx("li",{children:b.name},I))})]}),a&&Ze.jsx("div",{id:"error-message",className:"text-red-600 bg-red-100 p-3 rounded-lg mb-4 text-sm",dangerouslySetInnerHTML:{__html:a.replace(/\n/g,"<br>")}}),Ze.jsxs("button",{id:"processBtn",className:"btn btn-primary w-full text-lg",disabled:s||n.length===0,onClick:e,children:[s&&Ze.jsx("span",{id:"loader",className:"spinner",style:{borderColor:"white",borderBottomColor:"transparent",width:"20px",height:"20px",marginRight:"8px"}}),Ze.jsx("span",{children:s?" ...":" "})]}),Ze.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[Ze.jsxs("button",{className:"btn btn-primary w-full text-md",onClick:E,disabled:s,children:[Ze.jsx(A3e,{size:18,className:"mr-2"}),"   "]}),Ze.jsx("button",{className:"btn btn-secondary w-full text-md",onClick:()=>{h(""),A("page3")},disabled:s,children:"  "})]})]})},g3e=()=>{const{testData:r,selectedDate:e,setSelectedClass:t,showPage:n}=Ic(),i=Object.keys(r).filter(s=>r[s]&&r[s][e]);return Ze.jsxs("div",{className:"card",children:[Ze.jsxs("h2",{className:"text-2xl font-bold text-center mb-6",children:[e," -  "]}),Ze.jsx("div",{id:"classButtons",className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.length>0?i.map(s=>Ze.jsx("button",{className:"btn btn-secondary",onClick:()=>{t(s),n("page4")},children:s},s)):Ze.jsx("p",{className:"text-center text-gray-500 col-span-full",children:"    ."})})]})},m3e=()=>{const{testData:r,setSelectedDate:e,showPage:t}=Ic(),n=new Set;Object.values(r).forEach(s=>{Object.keys(s).forEach(a=>{n.add(a)})});const i=Array.from(n);return Ze.jsxs("div",{className:"card",children:[Ze.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-gray-700",children:"  "}),Ze.jsx("div",{id:"dateButtons",className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:i.length>0?i.map(s=>Ze.jsx("button",{className:"btn btn-secondary",onClick:()=>{e(s),t("page2")},children:s},s)):Ze.jsxs("p",{className:"text-center text-gray-500 col-span-full py-8",children:["  . ",Ze.jsx("br",{})," ''    ."]})})]})},v3e=()=>{var a,o,l;const{testData:r,selectedClass:e,selectedDate:t,selectedStudent:n,setSelectedStudent:i,showPage:s}=Ic();return Ze.jsxs("div",{className:"card",children:[Ze.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:" "}),Ze.jsxs("div",{id:"reportSelectionButtons",className:"flex flex-wrap justify-center gap-3",children:[Ze.jsx("button",{className:`btn btn-secondary ${n===null?"btn-nav-active":""}`,onClick:()=>{i(null),s("page5")},children:" "}),(l=(o=(a=r[e])==null?void 0:a[t])==null?void 0:o.studentData)==null?void 0:l.students.map(A=>Ze.jsx("button",{className:`btn btn-secondary ${n===A.name?"btn-nav-active":""}`,onClick:()=>{i(A.name),s("page5")},children:A.name},A.name))]})]})},w3e=()=>{const{reportHTML:r}=Ic(),e=i3e();return Ze.jsxs("div",{id:"reportContainer",ref:e,children:[Ze.jsx("div",{id:"reportContent",className:"space-y-6",dangerouslySetInnerHTML:{__html:r}}),Ze.jsxs("div",{id:"pagination-controls",className:"flex justify-center items-center space-x-4 mt-4 print:hidden",style:{display:"none"},children:[Ze.jsx("button",{id:"prevPageBtn",className:"btn btn-secondary",children:"< "}),Ze.jsx("span",{id:"pageIndicator",children:"1 / 3"}),Ze.jsx("button",{id:"nextPageBtn",className:"btn btn-secondary",children:" >"})]})]})},y3e=({onLogin:r,onRegister:e,loginError:t,isLoggingIn:n,setLoginError:i})=>{const[s,a]=nr.useState(""),[o,l]=nr.useState(""),[A,c]=nr.useState(!1),u=h=>{if(h.preventDefault(),!s||!o){alert("   4 .");return}A?e(s,o):r(s,o)};return Ze.jsxs("div",{className:"card max-w-md mx-auto mt-20",children:[Ze.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-gray-700",children:A?" ":"AI   "}),Ze.jsx("p",{className:"text-center text-gray-600 mb-6",children:A?"    4 .":" . ()"}),Ze.jsxs("form",{onSubmit:u,className:"space-y-4",children:[Ze.jsxs("div",{children:[Ze.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:""}),Ze.jsx("input",{type:"text",id:"name",className:"w-full px-4 py-2 border border-gray-300 rounded-lg",value:s,onChange:h=>a(h.target.value),placeholder:": ",disabled:n})]}),Ze.jsxs("div",{children:[Ze.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"  4"}),Ze.jsx("input",{type:"tel",id:"phone",className:"w-full px-4 py-2 border border-gray-300 rounded-lg",value:o,onChange:h=>l(h.target.value.replace(/\D/g,"")),placeholder:": 1775",maxLength:4,pattern:"\\d{4}",disabled:n})]}),t&&Ze.jsxs("div",{className:"text-red-600 bg-red-100 p-3 rounded-lg text-sm",children:[Ze.jsx(d3e,{className:"w-4 h-4 mr-2 inline"}),t]}),Ze.jsxs("button",{type:"submit",className:"btn btn-primary w-full text-lg",disabled:n||!s||!o,children:[n&&Ze.jsx("span",{className:"spinner",style:{borderColor:"white",borderBottomColor:"transparent",width:"20px",height:"20px",marginRight:"8px"}}),Ze.jsx("span",{children:n?" ...":A?"":""})]})]}),Ze.jsx("div",{className:"text-center mt-6",children:Ze.jsx("button",{onClick:()=>{c(!A),i("")},className:"text-sm text-indigo-600 hover:text-indigo-800 font-medium",disabled:n,children:A?"  ? ":" ? "})})]})},x3e=()=>{const{currentPage:r,selectedClass:e,selectedDate:t,selectedStudent:n,initialLoading:i,setInitialLoading:s,errorMessage:a,setErrorMessage:o,currentTeacher:l,setCurrentTeacher:A,setTestData:c,showPage:u}=Ic(),[h,f]=nr.useState(!0),[g,p]=nr.useState(!1),[v,m]=nr.useState(""),{fileInputRef:x,selectedFiles:_,handleFileChange:S,handleFileProcess:k,handleFileDrop:R}=zye({saveDataToFirestore:aue}),{goBack:B,goHome:E}=s3e();rCe();const{handlePdfSave:b}=n3e();nr.useEffect(()=>{},[o]),nr.useEffect(()=>{(async()=>{try{AB.currentUser?console.log("[Auth]   :",AB.currentUser.uid):(console.log("[Auth]   ..."),await MAe(AB),console.log("[Auth]   :",AB.currentUser.uid)),f(!1)}catch(re){console.error("[Auth]   :",re),m("Firebase  . "+re.message),f(!1)}})()},[]);const I=async(te,re)=>{p(!0),m("");try{const W=await nue(te,re);W?await F(W):(m("   .   ."),p(!1))}catch(W){m(W.message),p(!1)}},T=async(te,re)=>{p(!0),m("");try{const W=await iue(te,re);alert(" .  ."),await F(W)}catch(W){m(W.message),p(!1)}},F=async te=>{A(te),s(!0);try{const re=await sue();c(re||{})}catch(re){console.error("  :",re),m("    : "+re.message),c({})}finally{s(!1),p(!1)}},D=()=>{A(null),c({}),u("page1"),o("")},q=()=>!l||r==="page1"?null:Ze.jsx("nav",{id:"navigation",className:"fixed top-0 left-0 right-0 bg-white shadow-md p-4 z-10 flex items-center h-16 print:hidden",children:Ze.jsxs("div",{className:"container mx-auto max-w-5xl flex justify-between items-center",children:[Ze.jsxs("div",{className:"flex items-center space-x-2",children:[Ze.jsxs("button",{id:"navHome",className:"btn btn-primary",onClick:E,children:[Ze.jsx(h3e,{size:20}),Ze.jsx("span",{className:"hidden sm:inline ml-2",children:""})]}),Ze.jsxs("button",{id:"navBack",className:"btn btn-secondary",onClick:B,children:[Ze.jsx(l3e,{size:20}),Ze.jsx("span",{className:"hidden sm:inline ml-2",children:""})]}),Ze.jsxs("div",{className:"text-sm text-gray-500 hidden sm:flex items-center",children:[["page2","page4","page5"].includes(r)&&Ze.jsx("span",{id:"navDateName",className:"font-semibold",children:`> ${t}`}),["page4","page5"].includes(r)&&Ze.jsx("span",{id:"navClassName",className:"font-semibold",children:`> ${e}`}),r==="page5"&&Ze.jsx("span",{id:"navReportName",className:"font-semibold",children:`> ${n||" "}`})]})]}),Ze.jsxs("div",{id:"navActions",className:"flex items-center space-x-3",children:[r==="page5"&&Ze.jsxs("button",{id:"savePdfBtn",className:"btn btn-secondary btn-sm",onClick:b,"data-report-type":n?"individual":"overall","data-student-name":n||"",children:[Ze.jsx(u3e,{size:16,className:"mr-2"})," PDF "]}),Ze.jsxs("span",{className:"text-sm font-medium text-gray-700 hidden sm:flex items-center",children:[Ze.jsx(p3e,{size:16,className:"mr-1.5"})," ",l.name,""]}),Ze.jsxs("button",{id:"logoutBtn",className:"btn btn-secondary btn-sm",onClick:D,children:[Ze.jsx(f3e,{size:16,className:"mr-0 sm:mr-2"}),Ze.jsx("span",{className:"hidden sm:inline",children:""})]})]})]})}),ie=()=>{if(h)return Ze.jsxs("div",{id:"initialLoader",className:"card p-8 text-center mt-20",children:[Ze.jsx("div",{className:"spinner mx-auto"}),Ze.jsx("p",{className:"mt-4 text-gray-600",children:"Firebase  ..."})]});if(!l)return Ze.jsx(y3e,{onLogin:I,onRegister:T,loginError:v,isLoggingIn:g,setLoginError:m});if(i)return Ze.jsxs("div",{id:"initialLoader",className:"card p-8 text-center mt-20",children:[Ze.jsx("div",{className:"spinner mx-auto"}),Ze.jsxs("p",{className:"mt-4 text-gray-600",children:[l.name,"     ..."]})]});switch(r){case"page1":return Ze.jsx(hj,{handleFileChange:S,handleFileProcess:k,fileInputRef:x,selectedFiles:_,handleFileDrop:R});case"page2":return Ze.jsx(g3e,{});case"page3":return Ze.jsx(m3e,{});case"page4":return Ze.jsx(v3e,{});case"page5":return Ze.jsx(w3e,{});default:return Ze.jsx(hj,{handleFileChange:S,handleFileProcess:k,fileInputRef:x,selectedFiles:_,handleFileDrop:R})}},oe=()=>!a||r==="page1"?null:Ze.jsx("div",{id:"global-error-message",children:" "});return Ze.jsxs("div",{className:"container mx-auto p-4 max-w-5xl",children:[q(),oe(),Ze.jsx("main",{className:l&&r!=="page1"?"mt-16 pt-8":"",children:ie()})]})};C3.createRoot(document.getElementById("root")).render(Ze.jsx(qte.StrictMode,{children:Ze.jsx(oie,{children:Ze.jsx(x3e,{})})}));export{pn as _,Pte as c,dj as g};
