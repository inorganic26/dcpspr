var KJ=Object.defineProperty;var zD=r=>{throw TypeError(r)};var zJ=(r,e,t)=>e in r?KJ(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var De=(r,e,t)=>zJ(r,typeof e!="symbol"?e+"":e,t),nF=(r,e,t)=>e.has(r)||zD("Cannot "+t);var g=(r,e,t)=>(nF(r,e,"read from private field"),t?t.call(r):e.get(r)),X=(r,e,t)=>e.has(r)?zD("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),V=(r,e,t,n)=>(nF(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),ee=(r,e,t)=>(nF(r,e,"access private method"),t);var Rs=(r,e,t,n)=>({set _(i){V(r,e,i,t)},get _(){return g(r,e,n)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var WJ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function D7(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var U7={exports:{}},b5={},M7={exports:{}},Tr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_=Symbol.for("react.element"),GJ=Symbol.for("react.portal"),$J=Symbol.for("react.fragment"),qJ=Symbol.for("react.strict_mode"),XJ=Symbol.for("react.profiler"),YJ=Symbol.for("react.provider"),JJ=Symbol.for("react.context"),ZJ=Symbol.for("react.forward_ref"),eZ=Symbol.for("react.suspense"),tZ=Symbol.for("react.memo"),rZ=Symbol.for("react.lazy"),WD=Symbol.iterator;function nZ(r){return r===null||typeof r!="object"?null:(r=WD&&r[WD]||r["@@iterator"],typeof r=="function"?r:null)}var O7={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q7=Object.assign,H7={};function Qv(r,e,t){this.props=r,this.context=e,this.refs=H7,this.updater=t||O7}Qv.prototype.isReactComponent={};Qv.prototype.setState=function(r,e){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,r,e,"setState")};Qv.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function V7(){}V7.prototype=Qv.prototype;function nP(r,e,t){this.props=r,this.context=e,this.refs=H7,this.updater=t||O7}var iP=nP.prototype=new V7;iP.constructor=nP;Q7(iP,Qv.prototype);iP.isPureReactComponent=!0;var GD=Array.isArray,j7=Object.prototype.hasOwnProperty,sP={current:null},K7={key:!0,ref:!0,__self:!0,__source:!0};function z7(r,e,t){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)j7.call(e,n)&&!K7.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=t;else if(1<o){for(var A=Array(o),l=0;l<o;l++)A[l]=arguments[l+2];i.children=A}if(r&&r.defaultProps)for(n in o=r.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Q_,type:r,key:s,ref:a,props:i,_owner:sP.current}}function iZ(r,e){return{$$typeof:Q_,type:r.type,key:e,ref:r.ref,props:r.props,_owner:r._owner}}function aP(r){return typeof r=="object"&&r!==null&&r.$$typeof===Q_}function sZ(r){var e={"=":"=0",":":"=2"};return"$"+r.replace(/[=:]/g,function(t){return e[t]})}var $D=/\/+/g;function iF(r,e){return typeof r=="object"&&r!==null&&r.key!=null?sZ(""+r.key):e.toString(36)}function uC(r,e,t,n,i){var s=typeof r;(s==="undefined"||s==="boolean")&&(r=null);var a=!1;if(r===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(r.$$typeof){case Q_:case GJ:a=!0}}if(a)return a=r,i=i(a),r=n===""?"."+iF(a,0):n,GD(i)?(t="",r!=null&&(t=r.replace($D,"$&/")+"/"),uC(i,e,t,"",function(l){return l})):i!=null&&(aP(i)&&(i=iZ(i,t+(!i.key||a&&a.key===i.key?"":(""+i.key).replace($D,"$&/")+"/")+r)),e.push(i)),1;if(a=0,n=n===""?".":n+":",GD(r))for(var o=0;o<r.length;o++){s=r[o];var A=n+iF(s,o);a+=uC(s,e,t,A,i)}else if(A=nZ(r),typeof A=="function")for(r=A.call(r),o=0;!(s=r.next()).done;)s=s.value,A=n+iF(s,o++),a+=uC(s,e,t,A,i);else if(s==="object")throw e=String(r),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Ob(r,e,t){if(r==null)return r;var n=[],i=0;return uC(r,n,"","",function(s){return e.call(t,s,i++)}),n}function aZ(r){if(r._status===-1){var e=r._result;e=e(),e.then(function(t){(r._status===0||r._status===-1)&&(r._status=1,r._result=t)},function(t){(r._status===0||r._status===-1)&&(r._status=2,r._result=t)}),r._status===-1&&(r._status=0,r._result=e)}if(r._status===1)return r._result.default;throw r._result}var ao={current:null},hC={transition:null},oZ={ReactCurrentDispatcher:ao,ReactCurrentBatchConfig:hC,ReactCurrentOwner:sP};function W7(){throw Error("act(...) is not supported in production builds of React.")}Tr.Children={map:Ob,forEach:function(r,e,t){Ob(r,function(){e.apply(this,arguments)},t)},count:function(r){var e=0;return Ob(r,function(){e++}),e},toArray:function(r){return Ob(r,function(e){return e})||[]},only:function(r){if(!aP(r))throw Error("React.Children.only expected to receive a single React element child.");return r}};Tr.Component=Qv;Tr.Fragment=$J;Tr.Profiler=XJ;Tr.PureComponent=nP;Tr.StrictMode=qJ;Tr.Suspense=eZ;Tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oZ;Tr.act=W7;Tr.cloneElement=function(r,e,t){if(r==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+r+".");var n=Q7({},r.props),i=r.key,s=r.ref,a=r._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=sP.current),e.key!==void 0&&(i=""+e.key),r.type&&r.type.defaultProps)var o=r.type.defaultProps;for(A in e)j7.call(e,A)&&!K7.hasOwnProperty(A)&&(n[A]=e[A]===void 0&&o!==void 0?o[A]:e[A])}var A=arguments.length-2;if(A===1)n.children=t;else if(1<A){o=Array(A);for(var l=0;l<A;l++)o[l]=arguments[l+2];n.children=o}return{$$typeof:Q_,type:r.type,key:i,ref:s,props:n,_owner:a}};Tr.createContext=function(r){return r={$$typeof:JJ,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},r.Provider={$$typeof:YJ,_context:r},r.Consumer=r};Tr.createElement=z7;Tr.createFactory=function(r){var e=z7.bind(null,r);return e.type=r,e};Tr.createRef=function(){return{current:null}};Tr.forwardRef=function(r){return{$$typeof:ZJ,render:r}};Tr.isValidElement=aP;Tr.lazy=function(r){return{$$typeof:rZ,_payload:{_status:-1,_result:r},_init:aZ}};Tr.memo=function(r,e){return{$$typeof:tZ,type:r,compare:e===void 0?null:e}};Tr.startTransition=function(r){var e=hC.transition;hC.transition={};try{r()}finally{hC.transition=e}};Tr.unstable_act=W7;Tr.useCallback=function(r,e){return ao.current.useCallback(r,e)};Tr.useContext=function(r){return ao.current.useContext(r)};Tr.useDebugValue=function(){};Tr.useDeferredValue=function(r){return ao.current.useDeferredValue(r)};Tr.useEffect=function(r,e){return ao.current.useEffect(r,e)};Tr.useId=function(){return ao.current.useId()};Tr.useImperativeHandle=function(r,e,t){return ao.current.useImperativeHandle(r,e,t)};Tr.useInsertionEffect=function(r,e){return ao.current.useInsertionEffect(r,e)};Tr.useLayoutEffect=function(r,e){return ao.current.useLayoutEffect(r,e)};Tr.useMemo=function(r,e){return ao.current.useMemo(r,e)};Tr.useReducer=function(r,e,t){return ao.current.useReducer(r,e,t)};Tr.useRef=function(r){return ao.current.useRef(r)};Tr.useState=function(r){return ao.current.useState(r)};Tr.useSyncExternalStore=function(r,e,t){return ao.current.useSyncExternalStore(r,e,t)};Tr.useTransition=function(){return ao.current.useTransition()};Tr.version="18.3.1";M7.exports=Tr;var Kt=M7.exports;const AZ=D7(Kt);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lZ=Kt,cZ=Symbol.for("react.element"),uZ=Symbol.for("react.fragment"),hZ=Object.prototype.hasOwnProperty,fZ=lZ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dZ={key:!0,ref:!0,__self:!0,__source:!0};function G7(r,e,t){var n,i={},s=null,a=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)hZ.call(e,n)&&!dZ.hasOwnProperty(n)&&(i[n]=e[n]);if(r&&r.defaultProps)for(n in e=r.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:cZ,type:r,key:s,ref:a,props:i,_owner:fZ.current}}b5.Fragment=uZ;b5.jsx=G7;b5.jsxs=G7;U7.exports=b5;var Fe=U7.exports,dI={},$7={exports:{}},EA={},q7={exports:{}},X7={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(r){function e(J,W){var be=J.length;J.push(W);e:for(;0<be;){var xe=be-1>>>1,L=J[xe];if(0<i(L,W))J[xe]=W,J[be]=L,be=xe;else break e}}function t(J){return J.length===0?null:J[0]}function n(J){if(J.length===0)return null;var W=J[0],be=J.pop();if(be!==W){J[0]=be;e:for(var xe=0,L=J.length,O=L>>>1;xe<O;){var H=2*(xe+1)-1,Q=J[H],Y=H+1,oe=J[Y];if(0>i(Q,be))Y<L&&0>i(oe,Q)?(J[xe]=oe,J[Y]=be,xe=Y):(J[xe]=Q,J[H]=be,xe=H);else if(Y<L&&0>i(oe,be))J[xe]=oe,J[Y]=be,xe=Y;else break e}}return W}function i(J,W){var be=J.sortIndex-W.sortIndex;return be!==0?be:J.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();r.unstable_now=function(){return a.now()-o}}var A=[],l=[],c=1,u=null,h=3,f=!1,d=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(J){for(var W=t(l);W!==null;){if(W.callback===null)n(l);else if(W.startTime<=J)n(l),W.sortIndex=W.expirationTime,e(A,W);else break;W=t(l)}}function T(J){if(p=!1,b(J),!d)if(t(A)!==null)d=!0,ie(R);else{var W=t(l);W!==null&&te(T,W.startTime-J)}}function R(J,W){d=!1,p&&(p=!1,m(E),E=-1),f=!0;var be=h;try{for(b(W),u=t(A);u!==null&&(!(u.expirationTime>W)||J&&!S());){var xe=u.callback;if(typeof xe=="function"){u.callback=null,h=u.priorityLevel;var L=xe(u.expirationTime<=W);W=r.unstable_now(),typeof L=="function"?u.callback=L:u===t(A)&&n(A),b(W)}else n(A);u=t(A)}if(u!==null)var O=!0;else{var H=t(l);H!==null&&te(T,H.startTime-W),O=!1}return O}finally{u=null,h=be,f=!1}}var P=!1,B=null,E=-1,_=5,I=-1;function S(){return!(r.unstable_now()-I<_)}function F(){if(B!==null){var J=r.unstable_now();I=J;var W=!0;try{W=B(!0,J)}finally{W?N():(P=!1,B=null)}}else P=!1}var N;if(typeof x=="function")N=function(){x(F)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,le=G.port2;G.port1.onmessage=F,N=function(){le.postMessage(null)}}else N=function(){v(F,0)};function ie(J){B=J,P||(P=!0,N())}function te(J,W){E=v(function(){J(r.unstable_now())},W)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(J){J.callback=null},r.unstable_continueExecution=function(){d||f||(d=!0,ie(R))},r.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<J?Math.floor(1e3/J):5},r.unstable_getCurrentPriorityLevel=function(){return h},r.unstable_getFirstCallbackNode=function(){return t(A)},r.unstable_next=function(J){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var be=h;h=W;try{return J()}finally{h=be}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(J,W){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var be=h;h=J;try{return W()}finally{h=be}},r.unstable_scheduleCallback=function(J,W,be){var xe=r.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?xe+be:xe):be=xe,J){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=be+L,J={id:c++,callback:W,priorityLevel:J,startTime:be,expirationTime:L,sortIndex:-1},be>xe?(J.sortIndex=be,e(l,J),t(A)===null&&J===t(l)&&(p?(m(E),E=-1):p=!0,te(T,be-xe))):(J.sortIndex=L,e(A,J),d||f||(d=!0,ie(R))),J},r.unstable_shouldYield=S,r.unstable_wrapCallback=function(J){var W=h;return function(){var be=h;h=W;try{return J.apply(this,arguments)}finally{h=be}}}})(X7);q7.exports=X7;var pZ=q7.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gZ=Kt,_A=pZ;function st(r){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+r,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+r+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Y7=new Set,m2={};function Pg(r,e){yv(r,e),yv(r+"Capture",e)}function yv(r,e){for(m2[r]=e,r=0;r<e.length;r++)Y7.add(e[r])}var Th=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pI=Object.prototype.hasOwnProperty,mZ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qD={},XD={};function vZ(r){return pI.call(XD,r)?!0:pI.call(qD,r)?!1:mZ.test(r)?XD[r]=!0:(qD[r]=!0,!1)}function wZ(r,e,t,n){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:t!==null?!t.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function yZ(r,e,t,n){if(e===null||typeof e>"u"||wZ(r,e,t,n))return!0;if(n)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function oo(r,e,t,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=r,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Js={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){Js[r]=new oo(r,0,!1,r,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var e=r[0];Js[e]=new oo(e,1,!1,r[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(r){Js[r]=new oo(r,2,!1,r.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){Js[r]=new oo(r,2,!1,r,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){Js[r]=new oo(r,3,!1,r.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(r){Js[r]=new oo(r,3,!0,r,null,!1,!1)});["capture","download"].forEach(function(r){Js[r]=new oo(r,4,!1,r,null,!1,!1)});["cols","rows","size","span"].forEach(function(r){Js[r]=new oo(r,6,!1,r,null,!1,!1)});["rowSpan","start"].forEach(function(r){Js[r]=new oo(r,5,!1,r.toLowerCase(),null,!1,!1)});var oP=/[\-:]([a-z])/g;function AP(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var e=r.replace(oP,AP);Js[e]=new oo(e,1,!1,r,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var e=r.replace(oP,AP);Js[e]=new oo(e,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(r){var e=r.replace(oP,AP);Js[e]=new oo(e,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(r){Js[r]=new oo(r,1,!1,r.toLowerCase(),null,!1,!1)});Js.xlinkHref=new oo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(r){Js[r]=new oo(r,1,!1,r.toLowerCase(),null,!0,!0)});function lP(r,e,t,n){var i=Js.hasOwnProperty(e)?Js[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(yZ(e,t,i,n)&&(t=null),n||i===null?vZ(e)&&(t===null?r.removeAttribute(e):r.setAttribute(e,""+t)):i.mustUseProperty?r[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,n=i.attributeNamespace,t===null?r.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,n?r.setAttributeNS(n,e,t):r.setAttribute(e,t))))}var jh=gZ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qb=Symbol.for("react.element"),Tm=Symbol.for("react.portal"),Fm=Symbol.for("react.fragment"),cP=Symbol.for("react.strict_mode"),gI=Symbol.for("react.profiler"),J7=Symbol.for("react.provider"),Z7=Symbol.for("react.context"),uP=Symbol.for("react.forward_ref"),mI=Symbol.for("react.suspense"),vI=Symbol.for("react.suspense_list"),hP=Symbol.for("react.memo"),yf=Symbol.for("react.lazy"),e9=Symbol.for("react.offscreen"),YD=Symbol.iterator;function _w(r){return r===null||typeof r!="object"?null:(r=YD&&r[YD]||r["@@iterator"],typeof r=="function"?r:null)}var oi=Object.assign,sF;function Ww(r){if(sF===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);sF=e&&e[1]||""}return`
`+sF+r}var aF=!1;function oF(r,e){if(!r||aF)return"";aF=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var n=l}Reflect.construct(r,[],e)}else{try{e.call()}catch(l){n=l}r.call(e.prototype)}else{try{throw Error()}catch(l){n=l}r()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var A=`
`+i[a].replace(" at new "," at ");return r.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",r.displayName)),A}while(1<=a&&0<=o);break}}}finally{aF=!1,Error.prepareStackTrace=t}return(r=r?r.displayName||r.name:"")?Ww(r):""}function xZ(r){switch(r.tag){case 5:return Ww(r.type);case 16:return Ww("Lazy");case 13:return Ww("Suspense");case 19:return Ww("SuspenseList");case 0:case 2:case 15:return r=oF(r.type,!1),r;case 11:return r=oF(r.type.render,!1),r;case 1:return r=oF(r.type,!0),r;default:return""}}function wI(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case Fm:return"Fragment";case Tm:return"Portal";case gI:return"Profiler";case cP:return"StrictMode";case mI:return"Suspense";case vI:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case Z7:return(r.displayName||"Context")+".Consumer";case J7:return(r._context.displayName||"Context")+".Provider";case uP:var e=r.render;return r=r.displayName,r||(r=e.displayName||e.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case hP:return e=r.displayName||null,e!==null?e:wI(r.type)||"Memo";case yf:e=r._payload,r=r._init;try{return wI(r(e))}catch{}}return null}function _Z(r){var e=r.type;switch(r.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=e.render,r=r.displayName||r.name||"",e.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wI(e);case 8:return e===cP?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Od(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function t9(r){var e=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function bZ(r){var e=t9(r)?"checked":"value",t=Object.getOwnPropertyDescriptor(r.constructor.prototype,e),n=""+r[e];if(!r.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(r,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(r,e,{enumerable:t.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){r._valueTracker=null,delete r[e]}}}}function Hb(r){r._valueTracker||(r._valueTracker=bZ(r))}function r9(r){if(!r)return!1;var e=r._valueTracker;if(!e)return!0;var t=e.getValue(),n="";return r&&(n=t9(r)?r.checked?"true":"false":r.value),r=n,r!==t?(e.setValue(r),!0):!1}function SB(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function yI(r,e){var t=e.checked;return oi({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??r._wrapperState.initialChecked})}function JD(r,e){var t=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;t=Od(e.value!=null?e.value:t),r._wrapperState={initialChecked:n,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function n9(r,e){e=e.checked,e!=null&&lP(r,"checked",e,!1)}function xI(r,e){n9(r,e);var t=Od(e.value),n=e.type;if(t!=null)n==="number"?(t===0&&r.value===""||r.value!=t)&&(r.value=""+t):r.value!==""+t&&(r.value=""+t);else if(n==="submit"||n==="reset"){r.removeAttribute("value");return}e.hasOwnProperty("value")?_I(r,e.type,t):e.hasOwnProperty("defaultValue")&&_I(r,e.type,Od(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(r.defaultChecked=!!e.defaultChecked)}function ZD(r,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+r._wrapperState.initialValue,t||e===r.value||(r.value=e),r.defaultValue=e}t=r.name,t!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,t!==""&&(r.name=t)}function _I(r,e,t){(e!=="number"||SB(r.ownerDocument)!==r)&&(t==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+t&&(r.defaultValue=""+t))}var Gw=Array.isArray;function Wm(r,e,t,n){if(r=r.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<r.length;t++)i=e.hasOwnProperty("$"+r[t].value),r[t].selected!==i&&(r[t].selected=i),i&&n&&(r[t].defaultSelected=!0)}else{for(t=""+Od(t),e=null,i=0;i<r.length;i++){if(r[i].value===t){r[i].selected=!0,n&&(r[i].defaultSelected=!0);return}e!==null||r[i].disabled||(e=r[i])}e!==null&&(e.selected=!0)}}function bI(r,e){if(e.dangerouslySetInnerHTML!=null)throw Error(st(91));return oi({},e,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function eU(r,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(st(92));if(Gw(t)){if(1<t.length)throw Error(st(93));t=t[0]}e=t}e==null&&(e=""),t=e}r._wrapperState={initialValue:Od(t)}}function i9(r,e){var t=Od(e.value),n=Od(e.defaultValue);t!=null&&(t=""+t,t!==r.value&&(r.value=t),e.defaultValue==null&&r.defaultValue!==t&&(r.defaultValue=t)),n!=null&&(r.defaultValue=""+n)}function tU(r){var e=r.textContent;e===r._wrapperState.initialValue&&e!==""&&e!==null&&(r.value=e)}function s9(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function EI(r,e){return r==null||r==="http://www.w3.org/1999/xhtml"?s9(e):r==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Vb,a9=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction(function(){return r(e,t,n,i)})}:r}(function(r,e){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=e;else{for(Vb=Vb||document.createElement("div"),Vb.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Vb.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;e.firstChild;)r.appendChild(e.firstChild)}});function v2(r,e){if(e){var t=r.firstChild;if(t&&t===r.lastChild&&t.nodeType===3){t.nodeValue=e;return}}r.textContent=e}var Py={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},EZ=["Webkit","ms","Moz","O"];Object.keys(Py).forEach(function(r){EZ.forEach(function(e){e=e+r.charAt(0).toUpperCase()+r.substring(1),Py[e]=Py[r]})});function o9(r,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Py.hasOwnProperty(r)&&Py[r]?(""+e).trim():e+"px"}function A9(r,e){r=r.style;for(var t in e)if(e.hasOwnProperty(t)){var n=t.indexOf("--")===0,i=o9(t,e[t],n);t==="float"&&(t="cssFloat"),n?r.setProperty(t,i):r[t]=i}}var CZ=oi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function CI(r,e){if(e){if(CZ[r]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(st(137,r));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(st(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(st(61))}if(e.style!=null&&typeof e.style!="object")throw Error(st(62))}}function BI(r,e){if(r.indexOf("-")===-1)return typeof e.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var SI=null;function fP(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var TI=null,Gm=null,$m=null;function rU(r){if(r=j_(r)){if(typeof TI!="function")throw Error(st(280));var e=r.stateNode;e&&(e=T5(e),TI(r.stateNode,r.type,e))}}function l9(r){Gm?$m?$m.push(r):$m=[r]:Gm=r}function c9(){if(Gm){var r=Gm,e=$m;if($m=Gm=null,rU(r),e)for(r=0;r<e.length;r++)rU(e[r])}}function u9(r,e){return r(e)}function h9(){}var AF=!1;function f9(r,e,t){if(AF)return r(e,t);AF=!0;try{return u9(r,e,t)}finally{AF=!1,(Gm!==null||$m!==null)&&(h9(),c9())}}function w2(r,e){var t=r.stateNode;if(t===null)return null;var n=T5(t);if(n===null)return null;t=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(r=r.type,n=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!n;break e;default:r=!1}if(r)return null;if(t&&typeof t!="function")throw Error(st(231,e,typeof t));return t}var FI=!1;if(Th)try{var bw={};Object.defineProperty(bw,"passive",{get:function(){FI=!0}}),window.addEventListener("test",bw,bw),window.removeEventListener("test",bw,bw)}catch{FI=!1}function BZ(r,e,t,n,i,s,a,o,A){var l=Array.prototype.slice.call(arguments,3);try{e.apply(t,l)}catch(c){this.onError(c)}}var Ry=!1,TB=null,FB=!1,II=null,SZ={onError:function(r){Ry=!0,TB=r}};function TZ(r,e,t,n,i,s,a,o,A){Ry=!1,TB=null,BZ.apply(SZ,arguments)}function FZ(r,e,t,n,i,s,a,o,A){if(TZ.apply(this,arguments),Ry){if(Ry){var l=TB;Ry=!1,TB=null}else throw Error(st(198));FB||(FB=!0,II=l)}}function Rg(r){var e=r,t=r;if(r.alternate)for(;e.return;)e=e.return;else{r=e;do e=r,e.flags&4098&&(t=e.return),r=e.return;while(r)}return e.tag===3?t:null}function d9(r){if(r.tag===13){var e=r.memoizedState;if(e===null&&(r=r.alternate,r!==null&&(e=r.memoizedState)),e!==null)return e.dehydrated}return null}function nU(r){if(Rg(r)!==r)throw Error(st(188))}function IZ(r){var e=r.alternate;if(!e){if(e=Rg(r),e===null)throw Error(st(188));return e!==r?null:r}for(var t=r,n=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){t=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return nU(i),r;if(s===n)return nU(i),e;s=s.sibling}throw Error(st(188))}if(t.return!==n.return)t=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===t){a=!0,t=i,n=s;break}if(o===n){a=!0,n=i,t=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===t){a=!0,t=s,n=i;break}if(o===n){a=!0,n=s,t=i;break}o=o.sibling}if(!a)throw Error(st(189))}}if(t.alternate!==n)throw Error(st(190))}if(t.tag!==3)throw Error(st(188));return t.stateNode.current===t?r:e}function p9(r){return r=IZ(r),r!==null?g9(r):null}function g9(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var e=g9(r);if(e!==null)return e;r=r.sibling}return null}var m9=_A.unstable_scheduleCallback,iU=_A.unstable_cancelCallback,kZ=_A.unstable_shouldYield,LZ=_A.unstable_requestPaint,ki=_A.unstable_now,PZ=_A.unstable_getCurrentPriorityLevel,dP=_A.unstable_ImmediatePriority,v9=_A.unstable_UserBlockingPriority,IB=_A.unstable_NormalPriority,RZ=_A.unstable_LowPriority,w9=_A.unstable_IdlePriority,E5=null,Wc=null;function NZ(r){if(Wc&&typeof Wc.onCommitFiberRoot=="function")try{Wc.onCommitFiberRoot(E5,r,void 0,(r.current.flags&128)===128)}catch{}}var Kl=Math.clz32?Math.clz32:MZ,DZ=Math.log,UZ=Math.LN2;function MZ(r){return r>>>=0,r===0?32:31-(DZ(r)/UZ|0)|0}var jb=64,Kb=4194304;function $w(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function kB(r,e){var t=r.pendingLanes;if(t===0)return 0;var n=0,i=r.suspendedLanes,s=r.pingedLanes,a=t&268435455;if(a!==0){var o=a&~i;o!==0?n=$w(o):(s&=a,s!==0&&(n=$w(s)))}else a=t&~i,a!==0?n=$w(a):s!==0&&(n=$w(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=t&16),e=r.entangledLanes,e!==0)for(r=r.entanglements,e&=n;0<e;)t=31-Kl(e),i=1<<t,n|=r[t],e&=~i;return n}function OZ(r,e){switch(r){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QZ(r,e){for(var t=r.suspendedLanes,n=r.pingedLanes,i=r.expirationTimes,s=r.pendingLanes;0<s;){var a=31-Kl(s),o=1<<a,A=i[a];A===-1?(!(o&t)||o&n)&&(i[a]=OZ(o,e)):A<=e&&(r.expiredLanes|=o),s&=~o}}function kI(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function y9(){var r=jb;return jb<<=1,!(jb&4194240)&&(jb=64),r}function lF(r){for(var e=[],t=0;31>t;t++)e.push(r);return e}function H_(r,e,t){r.pendingLanes|=e,e!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,e=31-Kl(e),r[e]=t}function HZ(r,e){var t=r.pendingLanes&~e;r.pendingLanes=e,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=e,r.mutableReadLanes&=e,r.entangledLanes&=e,e=r.entanglements;var n=r.eventTimes;for(r=r.expirationTimes;0<t;){var i=31-Kl(t),s=1<<i;e[i]=0,n[i]=-1,r[i]=-1,t&=~s}}function pP(r,e){var t=r.entangledLanes|=e;for(r=r.entanglements;t;){var n=31-Kl(t),i=1<<n;i&e|r[n]&e&&(r[n]|=e),t&=~i}}var fn=0;function x9(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var _9,gP,b9,E9,C9,LI=!1,zb=[],_d=null,bd=null,Ed=null,y2=new Map,x2=new Map,bf=[],VZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sU(r,e){switch(r){case"focusin":case"focusout":_d=null;break;case"dragenter":case"dragleave":bd=null;break;case"mouseover":case"mouseout":Ed=null;break;case"pointerover":case"pointerout":y2.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":x2.delete(e.pointerId)}}function Ew(r,e,t,n,i,s){return r===null||r.nativeEvent!==s?(r={blockedOn:e,domEventName:t,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=j_(e),e!==null&&gP(e)),r):(r.eventSystemFlags|=n,e=r.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),r)}function jZ(r,e,t,n,i){switch(e){case"focusin":return _d=Ew(_d,r,e,t,n,i),!0;case"dragenter":return bd=Ew(bd,r,e,t,n,i),!0;case"mouseover":return Ed=Ew(Ed,r,e,t,n,i),!0;case"pointerover":var s=i.pointerId;return y2.set(s,Ew(y2.get(s)||null,r,e,t,n,i)),!0;case"gotpointercapture":return s=i.pointerId,x2.set(s,Ew(x2.get(s)||null,r,e,t,n,i)),!0}return!1}function B9(r){var e=j0(r.target);if(e!==null){var t=Rg(e);if(t!==null){if(e=t.tag,e===13){if(e=d9(t),e!==null){r.blockedOn=e,C9(r.priority,function(){b9(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){r.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}r.blockedOn=null}function fC(r){if(r.blockedOn!==null)return!1;for(var e=r.targetContainers;0<e.length;){var t=PI(r.domEventName,r.eventSystemFlags,e[0],r.nativeEvent);if(t===null){t=r.nativeEvent;var n=new t.constructor(t.type,t);SI=n,t.target.dispatchEvent(n),SI=null}else return e=j_(t),e!==null&&gP(e),r.blockedOn=t,!1;e.shift()}return!0}function aU(r,e,t){fC(r)&&t.delete(e)}function KZ(){LI=!1,_d!==null&&fC(_d)&&(_d=null),bd!==null&&fC(bd)&&(bd=null),Ed!==null&&fC(Ed)&&(Ed=null),y2.forEach(aU),x2.forEach(aU)}function Cw(r,e){r.blockedOn===e&&(r.blockedOn=null,LI||(LI=!0,_A.unstable_scheduleCallback(_A.unstable_NormalPriority,KZ)))}function _2(r){function e(i){return Cw(i,r)}if(0<zb.length){Cw(zb[0],r);for(var t=1;t<zb.length;t++){var n=zb[t];n.blockedOn===r&&(n.blockedOn=null)}}for(_d!==null&&Cw(_d,r),bd!==null&&Cw(bd,r),Ed!==null&&Cw(Ed,r),y2.forEach(e),x2.forEach(e),t=0;t<bf.length;t++)n=bf[t],n.blockedOn===r&&(n.blockedOn=null);for(;0<bf.length&&(t=bf[0],t.blockedOn===null);)B9(t),t.blockedOn===null&&bf.shift()}var qm=jh.ReactCurrentBatchConfig,LB=!0;function zZ(r,e,t,n){var i=fn,s=qm.transition;qm.transition=null;try{fn=1,mP(r,e,t,n)}finally{fn=i,qm.transition=s}}function WZ(r,e,t,n){var i=fn,s=qm.transition;qm.transition=null;try{fn=4,mP(r,e,t,n)}finally{fn=i,qm.transition=s}}function mP(r,e,t,n){if(LB){var i=PI(r,e,t,n);if(i===null)wF(r,e,n,PB,t),sU(r,n);else if(jZ(i,r,e,t,n))n.stopPropagation();else if(sU(r,n),e&4&&-1<VZ.indexOf(r)){for(;i!==null;){var s=j_(i);if(s!==null&&_9(s),s=PI(r,e,t,n),s===null&&wF(r,e,n,PB,t),s===i)break;i=s}i!==null&&n.stopPropagation()}else wF(r,e,n,null,t)}}var PB=null;function PI(r,e,t,n){if(PB=null,r=fP(n),r=j0(r),r!==null)if(e=Rg(r),e===null)r=null;else if(t=e.tag,t===13){if(r=d9(e),r!==null)return r;r=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;r=null}else e!==r&&(r=null);return PB=r,null}function S9(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(PZ()){case dP:return 1;case v9:return 4;case IB:case RZ:return 16;case w9:return 536870912;default:return 16}default:return 16}}var od=null,vP=null,dC=null;function T9(){if(dC)return dC;var r,e=vP,t=e.length,n,i="value"in od?od.value:od.textContent,s=i.length;for(r=0;r<t&&e[r]===i[r];r++);var a=t-r;for(n=1;n<=a&&e[t-n]===i[s-n];n++);return dC=i.slice(r,1<n?1-n:void 0)}function pC(r){var e=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&e===13&&(r=13)):r=e,r===10&&(r=13),32<=r||r===13?r:0}function Wb(){return!0}function oU(){return!1}function CA(r){function e(t,n,i,s,a){this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in r)r.hasOwnProperty(o)&&(t=r[o],this[o]=t?t(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Wb:oU,this.isPropagationStopped=oU,this}return oi(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Wb)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Wb)},persist:function(){},isPersistent:Wb}),e}var Hv={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wP=CA(Hv),V_=oi({},Hv,{view:0,detail:0}),GZ=CA(V_),cF,uF,Bw,C5=oi({},V_,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yP,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Bw&&(Bw&&r.type==="mousemove"?(cF=r.screenX-Bw.screenX,uF=r.screenY-Bw.screenY):uF=cF=0,Bw=r),cF)},movementY:function(r){return"movementY"in r?r.movementY:uF}}),AU=CA(C5),$Z=oi({},C5,{dataTransfer:0}),qZ=CA($Z),XZ=oi({},V_,{relatedTarget:0}),hF=CA(XZ),YZ=oi({},Hv,{animationName:0,elapsedTime:0,pseudoElement:0}),JZ=CA(YZ),ZZ=oi({},Hv,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),eee=CA(ZZ),tee=oi({},Hv,{data:0}),lU=CA(tee),ree={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nee={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iee={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function see(r){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(r):(r=iee[r])?!!e[r]:!1}function yP(){return see}var aee=oi({},V_,{key:function(r){if(r.key){var e=ree[r.key]||r.key;if(e!=="Unidentified")return e}return r.type==="keypress"?(r=pC(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?nee[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yP,charCode:function(r){return r.type==="keypress"?pC(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?pC(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),oee=CA(aee),Aee=oi({},C5,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cU=CA(Aee),lee=oi({},V_,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yP}),cee=CA(lee),uee=oi({},Hv,{propertyName:0,elapsedTime:0,pseudoElement:0}),hee=CA(uee),fee=oi({},C5,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),dee=CA(fee),pee=[9,13,27,32],xP=Th&&"CompositionEvent"in window,Ny=null;Th&&"documentMode"in document&&(Ny=document.documentMode);var gee=Th&&"TextEvent"in window&&!Ny,F9=Th&&(!xP||Ny&&8<Ny&&11>=Ny),uU=" ",hU=!1;function I9(r,e){switch(r){case"keyup":return pee.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function k9(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Im=!1;function mee(r,e){switch(r){case"compositionend":return k9(e);case"keypress":return e.which!==32?null:(hU=!0,uU);case"textInput":return r=e.data,r===uU&&hU?null:r;default:return null}}function vee(r,e){if(Im)return r==="compositionend"||!xP&&I9(r,e)?(r=T9(),dC=vP=od=null,Im=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return F9&&e.locale!=="ko"?null:e.data;default:return null}}var wee={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fU(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e==="input"?!!wee[r.type]:e==="textarea"}function L9(r,e,t,n){l9(n),e=RB(e,"onChange"),0<e.length&&(t=new wP("onChange","change",null,t,n),r.push({event:t,listeners:e}))}var Dy=null,b2=null;function yee(r){j9(r,0)}function B5(r){var e=Pm(r);if(r9(e))return r}function xee(r,e){if(r==="change")return e}var P9=!1;if(Th){var fF;if(Th){var dF="oninput"in document;if(!dF){var dU=document.createElement("div");dU.setAttribute("oninput","return;"),dF=typeof dU.oninput=="function"}fF=dF}else fF=!1;P9=fF&&(!document.documentMode||9<document.documentMode)}function pU(){Dy&&(Dy.detachEvent("onpropertychange",R9),b2=Dy=null)}function R9(r){if(r.propertyName==="value"&&B5(b2)){var e=[];L9(e,b2,r,fP(r)),f9(yee,e)}}function _ee(r,e,t){r==="focusin"?(pU(),Dy=e,b2=t,Dy.attachEvent("onpropertychange",R9)):r==="focusout"&&pU()}function bee(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return B5(b2)}function Eee(r,e){if(r==="click")return B5(e)}function Cee(r,e){if(r==="input"||r==="change")return B5(e)}function Bee(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var $l=typeof Object.is=="function"?Object.is:Bee;function E2(r,e){if($l(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;var t=Object.keys(r),n=Object.keys(e);if(t.length!==n.length)return!1;for(n=0;n<t.length;n++){var i=t[n];if(!pI.call(e,i)||!$l(r[i],e[i]))return!1}return!0}function gU(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function mU(r,e){var t=gU(r);r=0;for(var n;t;){if(t.nodeType===3){if(n=r+t.textContent.length,r<=e&&n>=e)return{node:t,offset:e-r};r=n}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=gU(t)}}function N9(r,e){return r&&e?r===e?!0:r&&r.nodeType===3?!1:e&&e.nodeType===3?N9(r,e.parentNode):"contains"in r?r.contains(e):r.compareDocumentPosition?!!(r.compareDocumentPosition(e)&16):!1:!1}function D9(){for(var r=window,e=SB();e instanceof r.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)r=e.contentWindow;else break;e=SB(r.document)}return e}function _P(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e&&(e==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||e==="textarea"||r.contentEditable==="true")}function See(r){var e=D9(),t=r.focusedElem,n=r.selectionRange;if(e!==t&&t&&t.ownerDocument&&N9(t.ownerDocument.documentElement,t)){if(n!==null&&_P(t)){if(e=n.start,r=n.end,r===void 0&&(r=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(r,t.value.length);else if(r=(e=t.ownerDocument||document)&&e.defaultView||window,r.getSelection){r=r.getSelection();var i=t.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!r.extend&&s>n&&(i=n,n=s,s=i),i=mU(t,s);var a=mU(t,n);i&&a&&(r.rangeCount!==1||r.anchorNode!==i.node||r.anchorOffset!==i.offset||r.focusNode!==a.node||r.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),r.removeAllRanges(),s>n?(r.addRange(e),r.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),r.addRange(e)))}}for(e=[],r=t;r=r.parentNode;)r.nodeType===1&&e.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)r=e[t],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Tee=Th&&"documentMode"in document&&11>=document.documentMode,km=null,RI=null,Uy=null,NI=!1;function vU(r,e,t){var n=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;NI||km==null||km!==SB(n)||(n=km,"selectionStart"in n&&_P(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Uy&&E2(Uy,n)||(Uy=n,n=RB(RI,"onSelect"),0<n.length&&(e=new wP("onSelect","select",null,e,t),r.push({event:e,listeners:n}),e.target=km)))}function Gb(r,e){var t={};return t[r.toLowerCase()]=e.toLowerCase(),t["Webkit"+r]="webkit"+e,t["Moz"+r]="moz"+e,t}var Lm={animationend:Gb("Animation","AnimationEnd"),animationiteration:Gb("Animation","AnimationIteration"),animationstart:Gb("Animation","AnimationStart"),transitionend:Gb("Transition","TransitionEnd")},pF={},U9={};Th&&(U9=document.createElement("div").style,"AnimationEvent"in window||(delete Lm.animationend.animation,delete Lm.animationiteration.animation,delete Lm.animationstart.animation),"TransitionEvent"in window||delete Lm.transitionend.transition);function S5(r){if(pF[r])return pF[r];if(!Lm[r])return r;var e=Lm[r],t;for(t in e)if(e.hasOwnProperty(t)&&t in U9)return pF[r]=e[t];return r}var M9=S5("animationend"),O9=S5("animationiteration"),Q9=S5("animationstart"),H9=S5("transitionend"),V9=new Map,wU="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function t0(r,e){V9.set(r,e),Pg(e,[r])}for(var gF=0;gF<wU.length;gF++){var mF=wU[gF],Fee=mF.toLowerCase(),Iee=mF[0].toUpperCase()+mF.slice(1);t0(Fee,"on"+Iee)}t0(M9,"onAnimationEnd");t0(O9,"onAnimationIteration");t0(Q9,"onAnimationStart");t0("dblclick","onDoubleClick");t0("focusin","onFocus");t0("focusout","onBlur");t0(H9,"onTransitionEnd");yv("onMouseEnter",["mouseout","mouseover"]);yv("onMouseLeave",["mouseout","mouseover"]);yv("onPointerEnter",["pointerout","pointerover"]);yv("onPointerLeave",["pointerout","pointerover"]);Pg("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pg("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pg("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pg("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pg("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pg("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qw="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kee=new Set("cancel close invalid load scroll toggle".split(" ").concat(qw));function yU(r,e,t){var n=r.type||"unknown-event";r.currentTarget=t,FZ(n,e,void 0,r),r.currentTarget=null}function j9(r,e){e=(e&4)!==0;for(var t=0;t<r.length;t++){var n=r[t],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],A=o.instance,l=o.currentTarget;if(o=o.listener,A!==s&&i.isPropagationStopped())break e;yU(i,o,l),s=A}else for(a=0;a<n.length;a++){if(o=n[a],A=o.instance,l=o.currentTarget,o=o.listener,A!==s&&i.isPropagationStopped())break e;yU(i,o,l),s=A}}}if(FB)throw r=II,FB=!1,II=null,r}function Dn(r,e){var t=e[QI];t===void 0&&(t=e[QI]=new Set);var n=r+"__bubble";t.has(n)||(K9(e,r,2,!1),t.add(n))}function vF(r,e,t){var n=0;e&&(n|=4),K9(t,r,n,e)}var $b="_reactListening"+Math.random().toString(36).slice(2);function C2(r){if(!r[$b]){r[$b]=!0,Y7.forEach(function(t){t!=="selectionchange"&&(kee.has(t)||vF(t,!1,r),vF(t,!0,r))});var e=r.nodeType===9?r:r.ownerDocument;e===null||e[$b]||(e[$b]=!0,vF("selectionchange",!1,e))}}function K9(r,e,t,n){switch(S9(e)){case 1:var i=zZ;break;case 4:i=WZ;break;default:i=mP}t=i.bind(null,e,t,r),i=void 0,!FI||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?r.addEventListener(e,t,{capture:!0,passive:i}):r.addEventListener(e,t,!0):i!==void 0?r.addEventListener(e,t,{passive:i}):r.addEventListener(e,t,!1)}function wF(r,e,t,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var A=a.tag;if((A===3||A===4)&&(A=a.stateNode.containerInfo,A===i||A.nodeType===8&&A.parentNode===i))return;a=a.return}for(;o!==null;){if(a=j0(o),a===null)return;if(A=a.tag,A===5||A===6){n=s=a;continue e}o=o.parentNode}}n=n.return}f9(function(){var l=s,c=fP(t),u=[];e:{var h=V9.get(r);if(h!==void 0){var f=wP,d=r;switch(r){case"keypress":if(pC(t)===0)break e;case"keydown":case"keyup":f=oee;break;case"focusin":d="focus",f=hF;break;case"focusout":d="blur",f=hF;break;case"beforeblur":case"afterblur":f=hF;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=AU;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=qZ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=cee;break;case M9:case O9:case Q9:f=JZ;break;case H9:f=hee;break;case"scroll":f=GZ;break;case"wheel":f=dee;break;case"copy":case"cut":case"paste":f=eee;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=cU}var p=(e&4)!==0,v=!p&&r==="scroll",m=p?h!==null?h+"Capture":null:h;p=[];for(var x=l,b;x!==null;){b=x;var T=b.stateNode;if(b.tag===5&&T!==null&&(b=T,m!==null&&(T=w2(x,m),T!=null&&p.push(B2(x,T,b)))),v)break;x=x.return}0<p.length&&(h=new f(h,d,null,t,c),u.push({event:h,listeners:p}))}}if(!(e&7)){e:{if(h=r==="mouseover"||r==="pointerover",f=r==="mouseout"||r==="pointerout",h&&t!==SI&&(d=t.relatedTarget||t.fromElement)&&(j0(d)||d[Fh]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(d=t.relatedTarget||t.toElement,f=l,d=d?j0(d):null,d!==null&&(v=Rg(d),d!==v||d.tag!==5&&d.tag!==6)&&(d=null)):(f=null,d=l),f!==d)){if(p=AU,T="onMouseLeave",m="onMouseEnter",x="mouse",(r==="pointerout"||r==="pointerover")&&(p=cU,T="onPointerLeave",m="onPointerEnter",x="pointer"),v=f==null?h:Pm(f),b=d==null?h:Pm(d),h=new p(T,x+"leave",f,t,c),h.target=v,h.relatedTarget=b,T=null,j0(c)===l&&(p=new p(m,x+"enter",d,t,c),p.target=b,p.relatedTarget=v,T=p),v=T,f&&d)t:{for(p=f,m=d,x=0,b=p;b;b=Zg(b))x++;for(b=0,T=m;T;T=Zg(T))b++;for(;0<x-b;)p=Zg(p),x--;for(;0<b-x;)m=Zg(m),b--;for(;x--;){if(p===m||m!==null&&p===m.alternate)break t;p=Zg(p),m=Zg(m)}p=null}else p=null;f!==null&&xU(u,h,f,p,!1),d!==null&&v!==null&&xU(u,v,d,p,!0)}}e:{if(h=l?Pm(l):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var R=xee;else if(fU(h))if(P9)R=Cee;else{R=bee;var P=_ee}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(R=Eee);if(R&&(R=R(r,l))){L9(u,R,t,c);break e}P&&P(r,h,l),r==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&_I(h,"number",h.value)}switch(P=l?Pm(l):window,r){case"focusin":(fU(P)||P.contentEditable==="true")&&(km=P,RI=l,Uy=null);break;case"focusout":Uy=RI=km=null;break;case"mousedown":NI=!0;break;case"contextmenu":case"mouseup":case"dragend":NI=!1,vU(u,t,c);break;case"selectionchange":if(Tee)break;case"keydown":case"keyup":vU(u,t,c)}var B;if(xP)e:{switch(r){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Im?I9(r,t)&&(E="onCompositionEnd"):r==="keydown"&&t.keyCode===229&&(E="onCompositionStart");E&&(F9&&t.locale!=="ko"&&(Im||E!=="onCompositionStart"?E==="onCompositionEnd"&&Im&&(B=T9()):(od=c,vP="value"in od?od.value:od.textContent,Im=!0)),P=RB(l,E),0<P.length&&(E=new lU(E,r,null,t,c),u.push({event:E,listeners:P}),B?E.data=B:(B=k9(t),B!==null&&(E.data=B)))),(B=gee?mee(r,t):vee(r,t))&&(l=RB(l,"onBeforeInput"),0<l.length&&(c=new lU("onBeforeInput","beforeinput",null,t,c),u.push({event:c,listeners:l}),c.data=B))}j9(u,e)})}function B2(r,e,t){return{instance:r,listener:e,currentTarget:t}}function RB(r,e){for(var t=e+"Capture",n=[];r!==null;){var i=r,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=w2(r,t),s!=null&&n.unshift(B2(r,s,i)),s=w2(r,e),s!=null&&n.push(B2(r,s,i))),r=r.return}return n}function Zg(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function xU(r,e,t,n,i){for(var s=e._reactName,a=[];t!==null&&t!==n;){var o=t,A=o.alternate,l=o.stateNode;if(A!==null&&A===n)break;o.tag===5&&l!==null&&(o=l,i?(A=w2(t,s),A!=null&&a.unshift(B2(t,A,o))):i||(A=w2(t,s),A!=null&&a.push(B2(t,A,o)))),t=t.return}a.length!==0&&r.push({event:e,listeners:a})}var Lee=/\r\n?/g,Pee=/\u0000|\uFFFD/g;function _U(r){return(typeof r=="string"?r:""+r).replace(Lee,`
`).replace(Pee,"")}function qb(r,e,t){if(e=_U(e),_U(r)!==e&&t)throw Error(st(425))}function NB(){}var DI=null,UI=null;function MI(r,e){return r==="textarea"||r==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var OI=typeof setTimeout=="function"?setTimeout:void 0,Ree=typeof clearTimeout=="function"?clearTimeout:void 0,bU=typeof Promise=="function"?Promise:void 0,Nee=typeof queueMicrotask=="function"?queueMicrotask:typeof bU<"u"?function(r){return bU.resolve(null).then(r).catch(Dee)}:OI;function Dee(r){setTimeout(function(){throw r})}function yF(r,e){var t=e,n=0;do{var i=t.nextSibling;if(r.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(n===0){r.removeChild(i),_2(e);return}n--}else t!=="$"&&t!=="$?"&&t!=="$!"||n++;t=i}while(t);_2(e)}function Cd(r){for(;r!=null;r=r.nextSibling){var e=r.nodeType;if(e===1||e===3)break;if(e===8){if(e=r.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return r}function EU(r){r=r.previousSibling;for(var e=0;r;){if(r.nodeType===8){var t=r.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return r;e--}else t==="/$"&&e++}r=r.previousSibling}return null}var Vv=Math.random().toString(36).slice(2),Kc="__reactFiber$"+Vv,S2="__reactProps$"+Vv,Fh="__reactContainer$"+Vv,QI="__reactEvents$"+Vv,Uee="__reactListeners$"+Vv,Mee="__reactHandles$"+Vv;function j0(r){var e=r[Kc];if(e)return e;for(var t=r.parentNode;t;){if(e=t[Fh]||t[Kc]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(r=EU(r);r!==null;){if(t=r[Kc])return t;r=EU(r)}return e}r=t,t=r.parentNode}return null}function j_(r){return r=r[Kc]||r[Fh],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Pm(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(st(33))}function T5(r){return r[S2]||null}var HI=[],Rm=-1;function r0(r){return{current:r}}function Qn(r){0>Rm||(r.current=HI[Rm],HI[Rm]=null,Rm--)}function Pn(r,e){Rm++,HI[Rm]=r.current,r.current=e}var Qd={},ka=r0(Qd),Lo=r0(!1),hg=Qd;function xv(r,e){var t=r.type.contextTypes;if(!t)return Qd;var n=r.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=e,r.__reactInternalMemoizedMaskedChildContext=i),i}function Po(r){return r=r.childContextTypes,r!=null}function DB(){Qn(Lo),Qn(ka)}function CU(r,e,t){if(ka.current!==Qd)throw Error(st(168));Pn(ka,e),Pn(Lo,t)}function z9(r,e,t){var n=r.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return t;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(st(108,_Z(r)||"Unknown",i));return oi({},t,n)}function UB(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Qd,hg=ka.current,Pn(ka,r),Pn(Lo,Lo.current),!0}function BU(r,e,t){var n=r.stateNode;if(!n)throw Error(st(169));t?(r=z9(r,e,hg),n.__reactInternalMemoizedMergedChildContext=r,Qn(Lo),Qn(ka),Pn(ka,r)):Qn(Lo),Pn(Lo,t)}var Nu=null,F5=!1,xF=!1;function W9(r){Nu===null?Nu=[r]:Nu.push(r)}function Oee(r){F5=!0,W9(r)}function n0(){if(!xF&&Nu!==null){xF=!0;var r=0,e=fn;try{var t=Nu;for(fn=1;r<t.length;r++){var n=t[r];do n=n(!0);while(n!==null)}Nu=null,F5=!1}catch(i){throw Nu!==null&&(Nu=Nu.slice(r+1)),m9(dP,n0),i}finally{fn=e,xF=!1}}return null}var Nm=[],Dm=0,MB=null,OB=0,WA=[],GA=0,fg=null,ch=1,uh="";function F0(r,e){Nm[Dm++]=OB,Nm[Dm++]=MB,MB=r,OB=e}function G9(r,e,t){WA[GA++]=ch,WA[GA++]=uh,WA[GA++]=fg,fg=r;var n=ch;r=uh;var i=32-Kl(n)-1;n&=~(1<<i),t+=1;var s=32-Kl(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,ch=1<<32-Kl(e)+i|t<<i|n,uh=s+r}else ch=1<<s|t<<i|n,uh=r}function bP(r){r.return!==null&&(F0(r,1),G9(r,1,0))}function EP(r){for(;r===MB;)MB=Nm[--Dm],Nm[Dm]=null,OB=Nm[--Dm],Nm[Dm]=null;for(;r===fg;)fg=WA[--GA],WA[GA]=null,uh=WA[--GA],WA[GA]=null,ch=WA[--GA],WA[GA]=null}var yA=null,mA=null,$n=!1,Ml=null;function $9(r,e){var t=YA(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=r,e=r.deletions,e===null?(r.deletions=[t],r.flags|=16):e.push(t)}function SU(r,e){switch(r.tag){case 5:var t=r.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(r.stateNode=e,yA=r,mA=Cd(e.firstChild),!0):!1;case 6:return e=r.pendingProps===""||e.nodeType!==3?null:e,e!==null?(r.stateNode=e,yA=r,mA=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=fg!==null?{id:ch,overflow:uh}:null,r.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=YA(18,null,null,0),t.stateNode=e,t.return=r,r.child=t,yA=r,mA=null,!0):!1;default:return!1}}function VI(r){return(r.mode&1)!==0&&(r.flags&128)===0}function jI(r){if($n){var e=mA;if(e){var t=e;if(!SU(r,e)){if(VI(r))throw Error(st(418));e=Cd(t.nextSibling);var n=yA;e&&SU(r,e)?$9(n,t):(r.flags=r.flags&-4097|2,$n=!1,yA=r)}}else{if(VI(r))throw Error(st(418));r.flags=r.flags&-4097|2,$n=!1,yA=r}}}function TU(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;yA=r}function Xb(r){if(r!==yA)return!1;if(!$n)return TU(r),$n=!0,!1;var e;if((e=r.tag!==3)&&!(e=r.tag!==5)&&(e=r.type,e=e!=="head"&&e!=="body"&&!MI(r.type,r.memoizedProps)),e&&(e=mA)){if(VI(r))throw q9(),Error(st(418));for(;e;)$9(r,e),e=Cd(e.nextSibling)}if(TU(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(st(317));e:{for(r=r.nextSibling,e=0;r;){if(r.nodeType===8){var t=r.data;if(t==="/$"){if(e===0){mA=Cd(r.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}r=r.nextSibling}mA=null}}else mA=yA?Cd(r.stateNode.nextSibling):null;return!0}function q9(){for(var r=mA;r;)r=Cd(r.nextSibling)}function _v(){mA=yA=null,$n=!1}function CP(r){Ml===null?Ml=[r]:Ml.push(r)}var Qee=jh.ReactCurrentBatchConfig;function Sw(r,e,t){if(r=t.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(st(309));var n=t.stateNode}if(!n)throw Error(st(147,r));var i=n,s=""+r;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof r!="string")throw Error(st(284));if(!t._owner)throw Error(st(290,r))}return r}function Yb(r,e){throw r=Object.prototype.toString.call(e),Error(st(31,r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r))}function FU(r){var e=r._init;return e(r._payload)}function X9(r){function e(m,x){if(r){var b=m.deletions;b===null?(m.deletions=[x],m.flags|=16):b.push(x)}}function t(m,x){if(!r)return null;for(;x!==null;)e(m,x),x=x.sibling;return null}function n(m,x){for(m=new Map;x!==null;)x.key!==null?m.set(x.key,x):m.set(x.index,x),x=x.sibling;return m}function i(m,x){return m=Fd(m,x),m.index=0,m.sibling=null,m}function s(m,x,b){return m.index=b,r?(b=m.alternate,b!==null?(b=b.index,b<x?(m.flags|=2,x):b):(m.flags|=2,x)):(m.flags|=1048576,x)}function a(m){return r&&m.alternate===null&&(m.flags|=2),m}function o(m,x,b,T){return x===null||x.tag!==6?(x=TF(b,m.mode,T),x.return=m,x):(x=i(x,b),x.return=m,x)}function A(m,x,b,T){var R=b.type;return R===Fm?c(m,x,b.props.children,T,b.key):x!==null&&(x.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===yf&&FU(R)===x.type)?(T=i(x,b.props),T.ref=Sw(m,x,b),T.return=m,T):(T=_C(b.type,b.key,b.props,null,m.mode,T),T.ref=Sw(m,x,b),T.return=m,T)}function l(m,x,b,T){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=FF(b,m.mode,T),x.return=m,x):(x=i(x,b.children||[]),x.return=m,x)}function c(m,x,b,T,R){return x===null||x.tag!==7?(x=ng(b,m.mode,T,R),x.return=m,x):(x=i(x,b),x.return=m,x)}function u(m,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=TF(""+x,m.mode,b),x.return=m,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Qb:return b=_C(x.type,x.key,x.props,null,m.mode,b),b.ref=Sw(m,null,x),b.return=m,b;case Tm:return x=FF(x,m.mode,b),x.return=m,x;case yf:var T=x._init;return u(m,T(x._payload),b)}if(Gw(x)||_w(x))return x=ng(x,m.mode,b,null),x.return=m,x;Yb(m,x)}return null}function h(m,x,b,T){var R=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return R!==null?null:o(m,x,""+b,T);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Qb:return b.key===R?A(m,x,b,T):null;case Tm:return b.key===R?l(m,x,b,T):null;case yf:return R=b._init,h(m,x,R(b._payload),T)}if(Gw(b)||_w(b))return R!==null?null:c(m,x,b,T,null);Yb(m,b)}return null}function f(m,x,b,T,R){if(typeof T=="string"&&T!==""||typeof T=="number")return m=m.get(b)||null,o(x,m,""+T,R);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Qb:return m=m.get(T.key===null?b:T.key)||null,A(x,m,T,R);case Tm:return m=m.get(T.key===null?b:T.key)||null,l(x,m,T,R);case yf:var P=T._init;return f(m,x,b,P(T._payload),R)}if(Gw(T)||_w(T))return m=m.get(b)||null,c(x,m,T,R,null);Yb(x,T)}return null}function d(m,x,b,T){for(var R=null,P=null,B=x,E=x=0,_=null;B!==null&&E<b.length;E++){B.index>E?(_=B,B=null):_=B.sibling;var I=h(m,B,b[E],T);if(I===null){B===null&&(B=_);break}r&&B&&I.alternate===null&&e(m,B),x=s(I,x,E),P===null?R=I:P.sibling=I,P=I,B=_}if(E===b.length)return t(m,B),$n&&F0(m,E),R;if(B===null){for(;E<b.length;E++)B=u(m,b[E],T),B!==null&&(x=s(B,x,E),P===null?R=B:P.sibling=B,P=B);return $n&&F0(m,E),R}for(B=n(m,B);E<b.length;E++)_=f(B,m,E,b[E],T),_!==null&&(r&&_.alternate!==null&&B.delete(_.key===null?E:_.key),x=s(_,x,E),P===null?R=_:P.sibling=_,P=_);return r&&B.forEach(function(S){return e(m,S)}),$n&&F0(m,E),R}function p(m,x,b,T){var R=_w(b);if(typeof R!="function")throw Error(st(150));if(b=R.call(b),b==null)throw Error(st(151));for(var P=R=null,B=x,E=x=0,_=null,I=b.next();B!==null&&!I.done;E++,I=b.next()){B.index>E?(_=B,B=null):_=B.sibling;var S=h(m,B,I.value,T);if(S===null){B===null&&(B=_);break}r&&B&&S.alternate===null&&e(m,B),x=s(S,x,E),P===null?R=S:P.sibling=S,P=S,B=_}if(I.done)return t(m,B),$n&&F0(m,E),R;if(B===null){for(;!I.done;E++,I=b.next())I=u(m,I.value,T),I!==null&&(x=s(I,x,E),P===null?R=I:P.sibling=I,P=I);return $n&&F0(m,E),R}for(B=n(m,B);!I.done;E++,I=b.next())I=f(B,m,E,I.value,T),I!==null&&(r&&I.alternate!==null&&B.delete(I.key===null?E:I.key),x=s(I,x,E),P===null?R=I:P.sibling=I,P=I);return r&&B.forEach(function(F){return e(m,F)}),$n&&F0(m,E),R}function v(m,x,b,T){if(typeof b=="object"&&b!==null&&b.type===Fm&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Qb:e:{for(var R=b.key,P=x;P!==null;){if(P.key===R){if(R=b.type,R===Fm){if(P.tag===7){t(m,P.sibling),x=i(P,b.props.children),x.return=m,m=x;break e}}else if(P.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===yf&&FU(R)===P.type){t(m,P.sibling),x=i(P,b.props),x.ref=Sw(m,P,b),x.return=m,m=x;break e}t(m,P);break}else e(m,P);P=P.sibling}b.type===Fm?(x=ng(b.props.children,m.mode,T,b.key),x.return=m,m=x):(T=_C(b.type,b.key,b.props,null,m.mode,T),T.ref=Sw(m,x,b),T.return=m,m=T)}return a(m);case Tm:e:{for(P=b.key;x!==null;){if(x.key===P)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){t(m,x.sibling),x=i(x,b.children||[]),x.return=m,m=x;break e}else{t(m,x);break}else e(m,x);x=x.sibling}x=FF(b,m.mode,T),x.return=m,m=x}return a(m);case yf:return P=b._init,v(m,x,P(b._payload),T)}if(Gw(b))return d(m,x,b,T);if(_w(b))return p(m,x,b,T);Yb(m,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(t(m,x.sibling),x=i(x,b),x.return=m,m=x):(t(m,x),x=TF(b,m.mode,T),x.return=m,m=x),a(m)):t(m,x)}return v}var bv=X9(!0),Y9=X9(!1),QB=r0(null),HB=null,Um=null,BP=null;function SP(){BP=Um=HB=null}function TP(r){var e=QB.current;Qn(QB),r._currentValue=e}function KI(r,e,t){for(;r!==null;){var n=r.alternate;if((r.childLanes&e)!==e?(r.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),r===t)break;r=r.return}}function Xm(r,e){HB=r,BP=Um=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&e&&(ko=!0),r.firstContext=null)}function rl(r){var e=r._currentValue;if(BP!==r)if(r={context:r,memoizedValue:e,next:null},Um===null){if(HB===null)throw Error(st(308));Um=r,HB.dependencies={lanes:0,firstContext:r}}else Um=Um.next=r;return e}var K0=null;function FP(r){K0===null?K0=[r]:K0.push(r)}function J9(r,e,t,n){var i=e.interleaved;return i===null?(t.next=t,FP(e)):(t.next=i.next,i.next=t),e.interleaved=t,Ih(r,n)}function Ih(r,e){r.lanes|=e;var t=r.alternate;for(t!==null&&(t.lanes|=e),t=r,r=r.return;r!==null;)r.childLanes|=e,t=r.alternate,t!==null&&(t.childLanes|=e),t=r,r=r.return;return t.tag===3?t.stateNode:null}var xf=!1;function IP(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Z9(r,e){r=r.updateQueue,e.updateQueue===r&&(e.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function xh(r,e){return{eventTime:r,lane:e,tag:0,payload:null,callback:null,next:null}}function Bd(r,e,t){var n=r.updateQueue;if(n===null)return null;if(n=n.shared,zr&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Ih(r,t)}return i=n.interleaved,i===null?(e.next=e,FP(n)):(e.next=i.next,i.next=e),n.interleaved=e,Ih(r,t)}function gC(r,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var n=e.lanes;n&=r.pendingLanes,t|=n,e.lanes=t,pP(r,t)}}function IU(r,e){var t=r.updateQueue,n=r.alternate;if(n!==null&&(n=n.updateQueue,t===n)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=a:s=s.next=a,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},r.updateQueue=t;return}r=t.lastBaseUpdate,r===null?t.firstBaseUpdate=e:r.next=e,t.lastBaseUpdate=e}function VB(r,e,t,n){var i=r.updateQueue;xf=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var A=o,l=A.next;A.next=null,a===null?s=l:a.next=l,a=A;var c=r.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=l:o.next=l,c.lastBaseUpdate=A))}if(s!==null){var u=i.baseState;a=0,c=l=A=null,o=s;do{var h=o.lane,f=o.eventTime;if((n&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var d=r,p=o;switch(h=e,f=t,p.tag){case 1:if(d=p.payload,typeof d=="function"){u=d.call(f,u,h);break e}u=d;break e;case 3:d.flags=d.flags&-65537|128;case 0:if(d=p.payload,h=typeof d=="function"?d.call(f,u,h):d,h==null)break e;u=oi({},u,h);break e;case 2:xf=!0}}o.callback!==null&&o.lane!==0&&(r.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(l=c=f,A=u):c=c.next=f,a|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(A=u),i.baseState=A,i.firstBaseUpdate=l,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);pg|=a,r.lanes=a,r.memoizedState=u}}function kU(r,e,t){if(r=e.effects,e.effects=null,r!==null)for(e=0;e<r.length;e++){var n=r[e],i=n.callback;if(i!==null){if(n.callback=null,n=t,typeof i!="function")throw Error(st(191,i));i.call(n)}}}var K_={},Gc=r0(K_),T2=r0(K_),F2=r0(K_);function z0(r){if(r===K_)throw Error(st(174));return r}function kP(r,e){switch(Pn(F2,e),Pn(T2,r),Pn(Gc,K_),r=e.nodeType,r){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:EI(null,"");break;default:r=r===8?e.parentNode:e,e=r.namespaceURI||null,r=r.tagName,e=EI(e,r)}Qn(Gc),Pn(Gc,e)}function Ev(){Qn(Gc),Qn(T2),Qn(F2)}function eV(r){z0(F2.current);var e=z0(Gc.current),t=EI(e,r.type);e!==t&&(Pn(T2,r),Pn(Gc,t))}function LP(r){T2.current===r&&(Qn(Gc),Qn(T2))}var ii=r0(0);function jB(r){for(var e=r;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _F=[];function PP(){for(var r=0;r<_F.length;r++)_F[r]._workInProgressVersionPrimary=null;_F.length=0}var mC=jh.ReactCurrentDispatcher,bF=jh.ReactCurrentBatchConfig,dg=0,ai=null,ss=null,Es=null,KB=!1,My=!1,I2=0,Hee=0;function ra(){throw Error(st(321))}function RP(r,e){if(e===null)return!1;for(var t=0;t<e.length&&t<r.length;t++)if(!$l(r[t],e[t]))return!1;return!0}function NP(r,e,t,n,i,s){if(dg=s,ai=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,mC.current=r===null||r.memoizedState===null?zee:Wee,r=t(n,i),My){s=0;do{if(My=!1,I2=0,25<=s)throw Error(st(301));s+=1,Es=ss=null,e.updateQueue=null,mC.current=Gee,r=t(n,i)}while(My)}if(mC.current=zB,e=ss!==null&&ss.next!==null,dg=0,Es=ss=ai=null,KB=!1,e)throw Error(st(300));return r}function DP(){var r=I2!==0;return I2=0,r}function Ec(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Es===null?ai.memoizedState=Es=r:Es=Es.next=r,Es}function nl(){if(ss===null){var r=ai.alternate;r=r!==null?r.memoizedState:null}else r=ss.next;var e=Es===null?ai.memoizedState:Es.next;if(e!==null)Es=e,ss=r;else{if(r===null)throw Error(st(310));ss=r,r={memoizedState:ss.memoizedState,baseState:ss.baseState,baseQueue:ss.baseQueue,queue:ss.queue,next:null},Es===null?ai.memoizedState=Es=r:Es=Es.next=r}return Es}function k2(r,e){return typeof e=="function"?e(r):e}function EF(r){var e=nl(),t=e.queue;if(t===null)throw Error(st(311));t.lastRenderedReducer=r;var n=ss,i=n.baseQueue,s=t.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,A=null,l=s;do{var c=l.lane;if((dg&c)===c)A!==null&&(A=A.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:r(n,l.action);else{var u={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};A===null?(o=A=u,a=n):A=A.next=u,ai.lanes|=c,pg|=c}l=l.next}while(l!==null&&l!==s);A===null?a=n:A.next=o,$l(n,e.memoizedState)||(ko=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=A,t.lastRenderedState=n}if(r=t.interleaved,r!==null){i=r;do s=i.lane,ai.lanes|=s,pg|=s,i=i.next;while(i!==r)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function CF(r){var e=nl(),t=e.queue;if(t===null)throw Error(st(311));t.lastRenderedReducer=r;var n=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var a=i=i.next;do s=r(s,a.action),a=a.next;while(a!==i);$l(s,e.memoizedState)||(ko=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,n]}function tV(){}function rV(r,e){var t=ai,n=nl(),i=e(),s=!$l(n.memoizedState,i);if(s&&(n.memoizedState=i,ko=!0),n=n.queue,UP(sV.bind(null,t,n,r),[r]),n.getSnapshot!==e||s||Es!==null&&Es.memoizedState.tag&1){if(t.flags|=2048,L2(9,iV.bind(null,t,n,i,e),void 0,null),Ss===null)throw Error(st(349));dg&30||nV(t,e,i)}return i}function nV(r,e,t){r.flags|=16384,r={getSnapshot:e,value:t},e=ai.updateQueue,e===null?(e={lastEffect:null,stores:null},ai.updateQueue=e,e.stores=[r]):(t=e.stores,t===null?e.stores=[r]:t.push(r))}function iV(r,e,t,n){e.value=t,e.getSnapshot=n,aV(e)&&oV(r)}function sV(r,e,t){return t(function(){aV(e)&&oV(r)})}function aV(r){var e=r.getSnapshot;r=r.value;try{var t=e();return!$l(r,t)}catch{return!0}}function oV(r){var e=Ih(r,1);e!==null&&zl(e,r,1,-1)}function LU(r){var e=Ec();return typeof r=="function"&&(r=r()),e.memoizedState=e.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:k2,lastRenderedState:r},e.queue=r,r=r.dispatch=Kee.bind(null,ai,r),[e.memoizedState,r]}function L2(r,e,t,n){return r={tag:r,create:e,destroy:t,deps:n,next:null},e=ai.updateQueue,e===null?(e={lastEffect:null,stores:null},ai.updateQueue=e,e.lastEffect=r.next=r):(t=e.lastEffect,t===null?e.lastEffect=r.next=r:(n=t.next,t.next=r,r.next=n,e.lastEffect=r)),r}function AV(){return nl().memoizedState}function vC(r,e,t,n){var i=Ec();ai.flags|=r,i.memoizedState=L2(1|e,t,void 0,n===void 0?null:n)}function I5(r,e,t,n){var i=nl();n=n===void 0?null:n;var s=void 0;if(ss!==null){var a=ss.memoizedState;if(s=a.destroy,n!==null&&RP(n,a.deps)){i.memoizedState=L2(e,t,s,n);return}}ai.flags|=r,i.memoizedState=L2(1|e,t,s,n)}function PU(r,e){return vC(8390656,8,r,e)}function UP(r,e){return I5(2048,8,r,e)}function lV(r,e){return I5(4,2,r,e)}function cV(r,e){return I5(4,4,r,e)}function uV(r,e){if(typeof e=="function")return r=r(),e(r),function(){e(null)};if(e!=null)return r=r(),e.current=r,function(){e.current=null}}function hV(r,e,t){return t=t!=null?t.concat([r]):null,I5(4,4,uV.bind(null,e,r),t)}function MP(){}function fV(r,e){var t=nl();e=e===void 0?null:e;var n=t.memoizedState;return n!==null&&e!==null&&RP(e,n[1])?n[0]:(t.memoizedState=[r,e],r)}function dV(r,e){var t=nl();e=e===void 0?null:e;var n=t.memoizedState;return n!==null&&e!==null&&RP(e,n[1])?n[0]:(r=r(),t.memoizedState=[r,e],r)}function pV(r,e,t){return dg&21?($l(t,e)||(t=y9(),ai.lanes|=t,pg|=t,r.baseState=!0),e):(r.baseState&&(r.baseState=!1,ko=!0),r.memoizedState=t)}function Vee(r,e){var t=fn;fn=t!==0&&4>t?t:4,r(!0);var n=bF.transition;bF.transition={};try{r(!1),e()}finally{fn=t,bF.transition=n}}function gV(){return nl().memoizedState}function jee(r,e,t){var n=Td(r);if(t={lane:n,action:t,hasEagerState:!1,eagerState:null,next:null},mV(r))vV(e,t);else if(t=J9(r,e,t,n),t!==null){var i=Ja();zl(t,r,n,i),wV(t,e,n)}}function Kee(r,e,t){var n=Td(r),i={lane:n,action:t,hasEagerState:!1,eagerState:null,next:null};if(mV(r))vV(e,i);else{var s=r.alternate;if(r.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,t);if(i.hasEagerState=!0,i.eagerState=o,$l(o,a)){var A=e.interleaved;A===null?(i.next=i,FP(e)):(i.next=A.next,A.next=i),e.interleaved=i;return}}catch{}finally{}t=J9(r,e,i,n),t!==null&&(i=Ja(),zl(t,r,n,i),wV(t,e,n))}}function mV(r){var e=r.alternate;return r===ai||e!==null&&e===ai}function vV(r,e){My=KB=!0;var t=r.pending;t===null?e.next=e:(e.next=t.next,t.next=e),r.pending=e}function wV(r,e,t){if(t&4194240){var n=e.lanes;n&=r.pendingLanes,t|=n,e.lanes=t,pP(r,t)}}var zB={readContext:rl,useCallback:ra,useContext:ra,useEffect:ra,useImperativeHandle:ra,useInsertionEffect:ra,useLayoutEffect:ra,useMemo:ra,useReducer:ra,useRef:ra,useState:ra,useDebugValue:ra,useDeferredValue:ra,useTransition:ra,useMutableSource:ra,useSyncExternalStore:ra,useId:ra,unstable_isNewReconciler:!1},zee={readContext:rl,useCallback:function(r,e){return Ec().memoizedState=[r,e===void 0?null:e],r},useContext:rl,useEffect:PU,useImperativeHandle:function(r,e,t){return t=t!=null?t.concat([r]):null,vC(4194308,4,uV.bind(null,e,r),t)},useLayoutEffect:function(r,e){return vC(4194308,4,r,e)},useInsertionEffect:function(r,e){return vC(4,2,r,e)},useMemo:function(r,e){var t=Ec();return e=e===void 0?null:e,r=r(),t.memoizedState=[r,e],r},useReducer:function(r,e,t){var n=Ec();return e=t!==void 0?t(e):e,n.memoizedState=n.baseState=e,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:e},n.queue=r,r=r.dispatch=jee.bind(null,ai,r),[n.memoizedState,r]},useRef:function(r){var e=Ec();return r={current:r},e.memoizedState=r},useState:LU,useDebugValue:MP,useDeferredValue:function(r){return Ec().memoizedState=r},useTransition:function(){var r=LU(!1),e=r[0];return r=Vee.bind(null,r[1]),Ec().memoizedState=r,[e,r]},useMutableSource:function(){},useSyncExternalStore:function(r,e,t){var n=ai,i=Ec();if($n){if(t===void 0)throw Error(st(407));t=t()}else{if(t=e(),Ss===null)throw Error(st(349));dg&30||nV(n,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,PU(sV.bind(null,n,s,r),[r]),n.flags|=2048,L2(9,iV.bind(null,n,s,t,e),void 0,null),t},useId:function(){var r=Ec(),e=Ss.identifierPrefix;if($n){var t=uh,n=ch;t=(n&~(1<<32-Kl(n)-1)).toString(32)+t,e=":"+e+"R"+t,t=I2++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=Hee++,e=":"+e+"r"+t.toString(32)+":";return r.memoizedState=e},unstable_isNewReconciler:!1},Wee={readContext:rl,useCallback:fV,useContext:rl,useEffect:UP,useImperativeHandle:hV,useInsertionEffect:lV,useLayoutEffect:cV,useMemo:dV,useReducer:EF,useRef:AV,useState:function(){return EF(k2)},useDebugValue:MP,useDeferredValue:function(r){var e=nl();return pV(e,ss.memoizedState,r)},useTransition:function(){var r=EF(k2)[0],e=nl().memoizedState;return[r,e]},useMutableSource:tV,useSyncExternalStore:rV,useId:gV,unstable_isNewReconciler:!1},Gee={readContext:rl,useCallback:fV,useContext:rl,useEffect:UP,useImperativeHandle:hV,useInsertionEffect:lV,useLayoutEffect:cV,useMemo:dV,useReducer:CF,useRef:AV,useState:function(){return CF(k2)},useDebugValue:MP,useDeferredValue:function(r){var e=nl();return ss===null?e.memoizedState=r:pV(e,ss.memoizedState,r)},useTransition:function(){var r=CF(k2)[0],e=nl().memoizedState;return[r,e]},useMutableSource:tV,useSyncExternalStore:rV,useId:gV,unstable_isNewReconciler:!1};function bl(r,e){if(r&&r.defaultProps){e=oi({},e),r=r.defaultProps;for(var t in r)e[t]===void 0&&(e[t]=r[t]);return e}return e}function zI(r,e,t,n){e=r.memoizedState,t=t(n,e),t=t==null?e:oi({},e,t),r.memoizedState=t,r.lanes===0&&(r.updateQueue.baseState=t)}var k5={isMounted:function(r){return(r=r._reactInternals)?Rg(r)===r:!1},enqueueSetState:function(r,e,t){r=r._reactInternals;var n=Ja(),i=Td(r),s=xh(n,i);s.payload=e,t!=null&&(s.callback=t),e=Bd(r,s,i),e!==null&&(zl(e,r,i,n),gC(e,r,i))},enqueueReplaceState:function(r,e,t){r=r._reactInternals;var n=Ja(),i=Td(r),s=xh(n,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Bd(r,s,i),e!==null&&(zl(e,r,i,n),gC(e,r,i))},enqueueForceUpdate:function(r,e){r=r._reactInternals;var t=Ja(),n=Td(r),i=xh(t,n);i.tag=2,e!=null&&(i.callback=e),e=Bd(r,i,n),e!==null&&(zl(e,r,n,t),gC(e,r,n))}};function RU(r,e,t,n,i,s,a){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!E2(t,n)||!E2(i,s):!0}function yV(r,e,t){var n=!1,i=Qd,s=e.contextType;return typeof s=="object"&&s!==null?s=rl(s):(i=Po(e)?hg:ka.current,n=e.contextTypes,s=(n=n!=null)?xv(r,i):Qd),e=new e(t,s),r.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=k5,r.stateNode=e,e._reactInternals=r,n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=s),e}function NU(r,e,t,n){r=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,n),e.state!==r&&k5.enqueueReplaceState(e,e.state,null)}function WI(r,e,t,n){var i=r.stateNode;i.props=t,i.state=r.memoizedState,i.refs={},IP(r);var s=e.contextType;typeof s=="object"&&s!==null?i.context=rl(s):(s=Po(e)?hg:ka.current,i.context=xv(r,s)),i.state=r.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(zI(r,e,s,t),i.state=r.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&k5.enqueueReplaceState(i,i.state,null),VB(r,t,i,n),i.state=r.memoizedState),typeof i.componentDidMount=="function"&&(r.flags|=4194308)}function Cv(r,e){try{var t="",n=e;do t+=xZ(n),n=n.return;while(n);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:r,source:e,stack:i,digest:null}}function BF(r,e,t){return{value:r,source:null,stack:t??null,digest:e??null}}function GI(r,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var $ee=typeof WeakMap=="function"?WeakMap:Map;function xV(r,e,t){t=xh(-1,t),t.tag=3,t.payload={element:null};var n=e.value;return t.callback=function(){GB||(GB=!0,nk=n),GI(r,e)},t}function _V(r,e,t){t=xh(-1,t),t.tag=3;var n=r.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;t.payload=function(){return n(i)},t.callback=function(){GI(r,e)}}var s=r.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){GI(r,e),typeof n!="function"&&(Sd===null?Sd=new Set([this]):Sd.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),t}function DU(r,e,t){var n=r.pingCache;if(n===null){n=r.pingCache=new $ee;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(t)||(i.add(t),r=Ate.bind(null,r,e,t),e.then(r,r))}function UU(r){do{var e;if((e=r.tag===13)&&(e=r.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return r;r=r.return}while(r!==null);return null}function MU(r,e,t,n,i){return r.mode&1?(r.flags|=65536,r.lanes=i,r):(r===e?r.flags|=65536:(r.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=xh(-1,1),e.tag=2,Bd(t,e,1))),t.lanes|=1),r)}var qee=jh.ReactCurrentOwner,ko=!1;function $a(r,e,t,n){e.child=r===null?Y9(e,null,t,n):bv(e,r.child,t,n)}function OU(r,e,t,n,i){t=t.render;var s=e.ref;return Xm(e,i),n=NP(r,e,t,n,s,i),t=DP(),r!==null&&!ko?(e.updateQueue=r.updateQueue,e.flags&=-2053,r.lanes&=~i,kh(r,e,i)):($n&&t&&bP(e),e.flags|=1,$a(r,e,n,i),e.child)}function QU(r,e,t,n,i){if(r===null){var s=t.type;return typeof s=="function"&&!WP(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,bV(r,e,s,n,i)):(r=_C(t.type,null,n,e,e.mode,i),r.ref=e.ref,r.return=e,e.child=r)}if(s=r.child,!(r.lanes&i)){var a=s.memoizedProps;if(t=t.compare,t=t!==null?t:E2,t(a,n)&&r.ref===e.ref)return kh(r,e,i)}return e.flags|=1,r=Fd(s,n),r.ref=e.ref,r.return=e,e.child=r}function bV(r,e,t,n,i){if(r!==null){var s=r.memoizedProps;if(E2(s,n)&&r.ref===e.ref)if(ko=!1,e.pendingProps=n=s,(r.lanes&i)!==0)r.flags&131072&&(ko=!0);else return e.lanes=r.lanes,kh(r,e,i)}return $I(r,e,t,n,i)}function EV(r,e,t){var n=e.pendingProps,i=n.children,s=r!==null?r.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pn(Om,hA),hA|=t;else{if(!(t&1073741824))return r=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:r,cachePool:null,transitions:null},e.updateQueue=null,Pn(Om,hA),hA|=r,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:t,Pn(Om,hA),hA|=n}else s!==null?(n=s.baseLanes|t,e.memoizedState=null):n=t,Pn(Om,hA),hA|=n;return $a(r,e,i,t),e.child}function CV(r,e){var t=e.ref;(r===null&&t!==null||r!==null&&r.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function $I(r,e,t,n,i){var s=Po(t)?hg:ka.current;return s=xv(e,s),Xm(e,i),t=NP(r,e,t,n,s,i),n=DP(),r!==null&&!ko?(e.updateQueue=r.updateQueue,e.flags&=-2053,r.lanes&=~i,kh(r,e,i)):($n&&n&&bP(e),e.flags|=1,$a(r,e,t,i),e.child)}function HU(r,e,t,n,i){if(Po(t)){var s=!0;UB(e)}else s=!1;if(Xm(e,i),e.stateNode===null)wC(r,e),yV(e,t,n),WI(e,t,n,i),n=!0;else if(r===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var A=a.context,l=t.contextType;typeof l=="object"&&l!==null?l=rl(l):(l=Po(t)?hg:ka.current,l=xv(e,l));var c=t.getDerivedStateFromProps,u=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";u||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||A!==l)&&NU(e,a,n,l),xf=!1;var h=e.memoizedState;a.state=h,VB(e,n,a,i),A=e.memoizedState,o!==n||h!==A||Lo.current||xf?(typeof c=="function"&&(zI(e,t,c,n),A=e.memoizedState),(o=xf||RU(e,t,o,n,h,A,l))?(u||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=A),a.props=n,a.state=A,a.context=l,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,Z9(r,e),o=e.memoizedProps,l=e.type===e.elementType?o:bl(e.type,o),a.props=l,u=e.pendingProps,h=a.context,A=t.contextType,typeof A=="object"&&A!==null?A=rl(A):(A=Po(t)?hg:ka.current,A=xv(e,A));var f=t.getDerivedStateFromProps;(c=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==u||h!==A)&&NU(e,a,n,A),xf=!1,h=e.memoizedState,a.state=h,VB(e,n,a,i);var d=e.memoizedState;o!==u||h!==d||Lo.current||xf?(typeof f=="function"&&(zI(e,t,f,n),d=e.memoizedState),(l=xf||RU(e,t,l,n,h,d,A)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,d,A),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,d,A)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===r.memoizedProps&&h===r.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===r.memoizedProps&&h===r.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=d),a.props=n,a.state=d,a.context=A,n=l):(typeof a.componentDidUpdate!="function"||o===r.memoizedProps&&h===r.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===r.memoizedProps&&h===r.memoizedState||(e.flags|=1024),n=!1)}return qI(r,e,t,n,s,i)}function qI(r,e,t,n,i,s){CV(r,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&BU(e,t,!1),kh(r,e,s);n=e.stateNode,qee.current=e;var o=a&&typeof t.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,r!==null&&a?(e.child=bv(e,r.child,null,s),e.child=bv(e,null,o,s)):$a(r,e,o,s),e.memoizedState=n.state,i&&BU(e,t,!0),e.child}function BV(r){var e=r.stateNode;e.pendingContext?CU(r,e.pendingContext,e.pendingContext!==e.context):e.context&&CU(r,e.context,!1),kP(r,e.containerInfo)}function VU(r,e,t,n,i){return _v(),CP(i),e.flags|=256,$a(r,e,t,n),e.child}var XI={dehydrated:null,treeContext:null,retryLane:0};function YI(r){return{baseLanes:r,cachePool:null,transitions:null}}function SV(r,e,t){var n=e.pendingProps,i=ii.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=r!==null&&r.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(r===null||r.memoizedState!==null)&&(i|=1),Pn(ii,i&1),r===null)return jI(e),r=e.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(e.mode&1?r.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,r=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=R5(a,n,0,null),r=ng(r,n,t,null),s.return=e,r.return=e,s.sibling=r,e.child=s,e.child.memoizedState=YI(t),e.memoizedState=XI,r):OP(e,a));if(i=r.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return Xee(r,e,a,n,o,i,t);if(s){s=n.fallback,a=e.mode,i=r.child,o=i.sibling;var A={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=A,e.deletions=null):(n=Fd(i,A),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Fd(o,s):(s=ng(s,a,t,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=r.child.memoizedState,a=a===null?YI(t):{baseLanes:a.baseLanes|t,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=r.childLanes&~t,e.memoizedState=XI,n}return s=r.child,r=s.sibling,n=Fd(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=t),n.return=e,n.sibling=null,r!==null&&(t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)),e.child=n,e.memoizedState=null,n}function OP(r,e){return e=R5({mode:"visible",children:e},r.mode,0,null),e.return=r,r.child=e}function Jb(r,e,t,n){return n!==null&&CP(n),bv(e,r.child,null,t),r=OP(e,e.pendingProps.children),r.flags|=2,e.memoizedState=null,r}function Xee(r,e,t,n,i,s,a){if(t)return e.flags&256?(e.flags&=-257,n=BF(Error(st(422))),Jb(r,e,a,n)):e.memoizedState!==null?(e.child=r.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=R5({mode:"visible",children:n.children},i,0,null),s=ng(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&bv(e,r.child,null,a),e.child.memoizedState=YI(a),e.memoizedState=XI,s);if(!(e.mode&1))return Jb(r,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(st(419)),n=BF(s,n,void 0),Jb(r,e,a,n)}if(o=(a&r.childLanes)!==0,ko||o){if(n=Ss,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ih(r,i),zl(n,r,i,-1))}return zP(),n=BF(Error(st(421))),Jb(r,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=r.child,e=lte.bind(null,r),i._reactRetry=e,null):(r=s.treeContext,mA=Cd(i.nextSibling),yA=e,$n=!0,Ml=null,r!==null&&(WA[GA++]=ch,WA[GA++]=uh,WA[GA++]=fg,ch=r.id,uh=r.overflow,fg=e),e=OP(e,n.children),e.flags|=4096,e)}function jU(r,e,t){r.lanes|=e;var n=r.alternate;n!==null&&(n.lanes|=e),KI(r.return,e,t)}function SF(r,e,t,n,i){var s=r.memoizedState;s===null?r.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=t,s.tailMode=i)}function TV(r,e,t){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if($a(r,e,n.children,t),n=ii.current,n&2)n=n&1|2,e.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=e.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&jU(r,t,e);else if(r.tag===19)jU(r,t,e);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}n&=1}if(Pn(ii,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)r=t.alternate,r!==null&&jB(r)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),SF(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(r=i.alternate,r!==null&&jB(r)===null){e.child=i;break}r=i.sibling,i.sibling=t,t=i,i=r}SF(e,!0,t,null,s);break;case"together":SF(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function wC(r,e){!(e.mode&1)&&r!==null&&(r.alternate=null,e.alternate=null,e.flags|=2)}function kh(r,e,t){if(r!==null&&(e.dependencies=r.dependencies),pg|=e.lanes,!(t&e.childLanes))return null;if(r!==null&&e.child!==r.child)throw Error(st(153));if(e.child!==null){for(r=e.child,t=Fd(r,r.pendingProps),e.child=t,t.return=e;r.sibling!==null;)r=r.sibling,t=t.sibling=Fd(r,r.pendingProps),t.return=e;t.sibling=null}return e.child}function Yee(r,e,t){switch(e.tag){case 3:BV(e),_v();break;case 5:eV(e);break;case 1:Po(e.type)&&UB(e);break;case 4:kP(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Pn(QB,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Pn(ii,ii.current&1),e.flags|=128,null):t&e.child.childLanes?SV(r,e,t):(Pn(ii,ii.current&1),r=kh(r,e,t),r!==null?r.sibling:null);Pn(ii,ii.current&1);break;case 19:if(n=(t&e.childLanes)!==0,r.flags&128){if(n)return TV(r,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pn(ii,ii.current),n)break;return null;case 22:case 23:return e.lanes=0,EV(r,e,t)}return kh(r,e,t)}var FV,JI,IV,kV;FV=function(r,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)r.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};JI=function(){};IV=function(r,e,t,n){var i=r.memoizedProps;if(i!==n){r=e.stateNode,z0(Gc.current);var s=null;switch(t){case"input":i=yI(r,i),n=yI(r,n),s=[];break;case"select":i=oi({},i,{value:void 0}),n=oi({},n,{value:void 0}),s=[];break;case"textarea":i=bI(r,i),n=bI(r,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(r.onclick=NB)}CI(t,n);var a;t=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var o=i[l];for(a in o)o.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(m2.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in n){var A=n[l];if(o=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&A!==o&&(A!=null||o!=null))if(l==="style")if(o){for(a in o)!o.hasOwnProperty(a)||A&&A.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in A)A.hasOwnProperty(a)&&o[a]!==A[a]&&(t||(t={}),t[a]=A[a])}else t||(s||(s=[]),s.push(l,t)),t=A;else l==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,o=o?o.__html:void 0,A!=null&&o!==A&&(s=s||[]).push(l,A)):l==="children"?typeof A!="string"&&typeof A!="number"||(s=s||[]).push(l,""+A):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(m2.hasOwnProperty(l)?(A!=null&&l==="onScroll"&&Dn("scroll",r),s||o===A||(s=[])):(s=s||[]).push(l,A))}t&&(s=s||[]).push("style",t);var l=s;(e.updateQueue=l)&&(e.flags|=4)}};kV=function(r,e,t,n){t!==n&&(e.flags|=4)};function Tw(r,e){if(!$n)switch(r.tailMode){case"hidden":e=r.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?r.tail=null:t.sibling=null;break;case"collapsed":t=r.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e||r.tail===null?r.tail=null:r.tail.sibling=null:n.sibling=null}}function na(r){var e=r.alternate!==null&&r.alternate.child===r.child,t=0,n=0;if(e)for(var i=r.child;i!==null;)t|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=r,i=i.sibling;else for(i=r.child;i!==null;)t|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=r,i=i.sibling;return r.subtreeFlags|=n,r.childLanes=t,e}function Jee(r,e,t){var n=e.pendingProps;switch(EP(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return na(e),null;case 1:return Po(e.type)&&DB(),na(e),null;case 3:return n=e.stateNode,Ev(),Qn(Lo),Qn(ka),PP(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(r===null||r.child===null)&&(Xb(e)?e.flags|=4:r===null||r.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ml!==null&&(ak(Ml),Ml=null))),JI(r,e),na(e),null;case 5:LP(e);var i=z0(F2.current);if(t=e.type,r!==null&&e.stateNode!=null)IV(r,e,t,n,i),r.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(st(166));return na(e),null}if(r=z0(Gc.current),Xb(e)){n=e.stateNode,t=e.type;var s=e.memoizedProps;switch(n[Kc]=e,n[S2]=s,r=(e.mode&1)!==0,t){case"dialog":Dn("cancel",n),Dn("close",n);break;case"iframe":case"object":case"embed":Dn("load",n);break;case"video":case"audio":for(i=0;i<qw.length;i++)Dn(qw[i],n);break;case"source":Dn("error",n);break;case"img":case"image":case"link":Dn("error",n),Dn("load",n);break;case"details":Dn("toggle",n);break;case"input":JD(n,s),Dn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Dn("invalid",n);break;case"textarea":eU(n,s),Dn("invalid",n)}CI(t,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&qb(n.textContent,o,r),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&qb(n.textContent,o,r),i=["children",""+o]):m2.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Dn("scroll",n)}switch(t){case"input":Hb(n),ZD(n,s,!0);break;case"textarea":Hb(n),tU(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=NB)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=s9(t)),r==="http://www.w3.org/1999/xhtml"?t==="script"?(r=a.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof n.is=="string"?r=a.createElement(t,{is:n.is}):(r=a.createElement(t),t==="select"&&(a=r,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):r=a.createElementNS(r,t),r[Kc]=e,r[S2]=n,FV(r,e,!1,!1),e.stateNode=r;e:{switch(a=BI(t,n),t){case"dialog":Dn("cancel",r),Dn("close",r),i=n;break;case"iframe":case"object":case"embed":Dn("load",r),i=n;break;case"video":case"audio":for(i=0;i<qw.length;i++)Dn(qw[i],r);i=n;break;case"source":Dn("error",r),i=n;break;case"img":case"image":case"link":Dn("error",r),Dn("load",r),i=n;break;case"details":Dn("toggle",r),i=n;break;case"input":JD(r,n),i=yI(r,n),Dn("invalid",r);break;case"option":i=n;break;case"select":r._wrapperState={wasMultiple:!!n.multiple},i=oi({},n,{value:void 0}),Dn("invalid",r);break;case"textarea":eU(r,n),i=bI(r,n),Dn("invalid",r);break;default:i=n}CI(t,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var A=o[s];s==="style"?A9(r,A):s==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&a9(r,A)):s==="children"?typeof A=="string"?(t!=="textarea"||A!=="")&&v2(r,A):typeof A=="number"&&v2(r,""+A):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(m2.hasOwnProperty(s)?A!=null&&s==="onScroll"&&Dn("scroll",r):A!=null&&lP(r,s,A,a))}switch(t){case"input":Hb(r),ZD(r,n,!1);break;case"textarea":Hb(r),tU(r);break;case"option":n.value!=null&&r.setAttribute("value",""+Od(n.value));break;case"select":r.multiple=!!n.multiple,s=n.value,s!=null?Wm(r,!!n.multiple,s,!1):n.defaultValue!=null&&Wm(r,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(r.onclick=NB)}switch(t){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return na(e),null;case 6:if(r&&e.stateNode!=null)kV(r,e,r.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(st(166));if(t=z0(F2.current),z0(Gc.current),Xb(e)){if(n=e.stateNode,t=e.memoizedProps,n[Kc]=e,(s=n.nodeValue!==t)&&(r=yA,r!==null))switch(r.tag){case 3:qb(n.nodeValue,t,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&qb(n.nodeValue,t,(r.mode&1)!==0)}s&&(e.flags|=4)}else n=(t.nodeType===9?t:t.ownerDocument).createTextNode(n),n[Kc]=e,e.stateNode=n}return na(e),null;case 13:if(Qn(ii),n=e.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if($n&&mA!==null&&e.mode&1&&!(e.flags&128))q9(),_v(),e.flags|=98560,s=!1;else if(s=Xb(e),n!==null&&n.dehydrated!==null){if(r===null){if(!s)throw Error(st(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(st(317));s[Kc]=e}else _v(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;na(e),s=!1}else Ml!==null&&(ak(Ml),Ml=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(n=n!==null,n!==(r!==null&&r.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(r===null||ii.current&1?os===0&&(os=3):zP())),e.updateQueue!==null&&(e.flags|=4),na(e),null);case 4:return Ev(),JI(r,e),r===null&&C2(e.stateNode.containerInfo),na(e),null;case 10:return TP(e.type._context),na(e),null;case 17:return Po(e.type)&&DB(),na(e),null;case 19:if(Qn(ii),s=e.memoizedState,s===null)return na(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)Tw(s,!1);else{if(os!==0||r!==null&&r.flags&128)for(r=e.child;r!==null;){if(a=jB(r),a!==null){for(e.flags|=128,Tw(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=t,t=e.child;t!==null;)s=t,r=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,r=a.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t=t.sibling;return Pn(ii,ii.current&1|2),e.child}r=r.sibling}s.tail!==null&&ki()>Bv&&(e.flags|=128,n=!0,Tw(s,!1),e.lanes=4194304)}else{if(!n)if(r=jB(a),r!==null){if(e.flags|=128,n=!0,t=r.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Tw(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!$n)return na(e),null}else 2*ki()-s.renderingStartTime>Bv&&t!==1073741824&&(e.flags|=128,n=!0,Tw(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(t=s.last,t!==null?t.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ki(),e.sibling=null,t=ii.current,Pn(ii,n?t&1|2:t&1),e):(na(e),null);case 22:case 23:return KP(),n=e.memoizedState!==null,r!==null&&r.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?hA&1073741824&&(na(e),e.subtreeFlags&6&&(e.flags|=8192)):na(e),null;case 24:return null;case 25:return null}throw Error(st(156,e.tag))}function Zee(r,e){switch(EP(e),e.tag){case 1:return Po(e.type)&&DB(),r=e.flags,r&65536?(e.flags=r&-65537|128,e):null;case 3:return Ev(),Qn(Lo),Qn(ka),PP(),r=e.flags,r&65536&&!(r&128)?(e.flags=r&-65537|128,e):null;case 5:return LP(e),null;case 13:if(Qn(ii),r=e.memoizedState,r!==null&&r.dehydrated!==null){if(e.alternate===null)throw Error(st(340));_v()}return r=e.flags,r&65536?(e.flags=r&-65537|128,e):null;case 19:return Qn(ii),null;case 4:return Ev(),null;case 10:return TP(e.type._context),null;case 22:case 23:return KP(),null;case 24:return null;default:return null}}var Zb=!1,Ea=!1,ete=typeof WeakSet=="function"?WeakSet:Set,Tt=null;function Mm(r,e){var t=r.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(n){mi(r,e,n)}else t.current=null}function ZI(r,e,t){try{t()}catch(n){mi(r,e,n)}}var KU=!1;function tte(r,e){if(DI=LB,r=D9(),_P(r)){if("selectionStart"in r)var t={start:r.selectionStart,end:r.selectionEnd};else e:{t=(t=r.ownerDocument)&&t.defaultView||window;var n=t.getSelection&&t.getSelection();if(n&&n.rangeCount!==0){t=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var a=0,o=-1,A=-1,l=0,c=0,u=r,h=null;t:for(;;){for(var f;u!==t||i!==0&&u.nodeType!==3||(o=a+i),u!==s||n!==0&&u.nodeType!==3||(A=a+n),u.nodeType===3&&(a+=u.nodeValue.length),(f=u.firstChild)!==null;)h=u,u=f;for(;;){if(u===r)break t;if(h===t&&++l===i&&(o=a),h===s&&++c===n&&(A=a),(f=u.nextSibling)!==null)break;u=h,h=u.parentNode}u=f}t=o===-1||A===-1?null:{start:o,end:A}}else t=null}t=t||{start:0,end:0}}else t=null;for(UI={focusedElem:r,selectionRange:t},LB=!1,Tt=e;Tt!==null;)if(e=Tt,r=e.child,(e.subtreeFlags&1028)!==0&&r!==null)r.return=e,Tt=r;else for(;Tt!==null;){e=Tt;try{var d=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(d!==null){var p=d.memoizedProps,v=d.memoizedState,m=e.stateNode,x=m.getSnapshotBeforeUpdate(e.elementType===e.type?p:bl(e.type,p),v);m.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(st(163))}}catch(T){mi(e,e.return,T)}if(r=e.sibling,r!==null){r.return=e.return,Tt=r;break}Tt=e.return}return d=KU,KU=!1,d}function Oy(r,e,t){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&r)===r){var s=i.destroy;i.destroy=void 0,s!==void 0&&ZI(e,t,s)}i=i.next}while(i!==n)}}function L5(r,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&r)===r){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}}function ek(r){var e=r.ref;if(e!==null){var t=r.stateNode;switch(r.tag){case 5:r=t;break;default:r=t}typeof e=="function"?e(r):e.current=r}}function LV(r){var e=r.alternate;e!==null&&(r.alternate=null,LV(e)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(e=r.stateNode,e!==null&&(delete e[Kc],delete e[S2],delete e[QI],delete e[Uee],delete e[Mee])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function PV(r){return r.tag===5||r.tag===3||r.tag===4}function zU(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||PV(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function tk(r,e,t){var n=r.tag;if(n===5||n===6)r=r.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(r,e):t.insertBefore(r,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(r,t)):(e=t,e.appendChild(r)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=NB));else if(n!==4&&(r=r.child,r!==null))for(tk(r,e,t),r=r.sibling;r!==null;)tk(r,e,t),r=r.sibling}function rk(r,e,t){var n=r.tag;if(n===5||n===6)r=r.stateNode,e?t.insertBefore(r,e):t.appendChild(r);else if(n!==4&&(r=r.child,r!==null))for(rk(r,e,t),r=r.sibling;r!==null;)rk(r,e,t),r=r.sibling}var Qs=null,Ul=!1;function hf(r,e,t){for(t=t.child;t!==null;)RV(r,e,t),t=t.sibling}function RV(r,e,t){if(Wc&&typeof Wc.onCommitFiberUnmount=="function")try{Wc.onCommitFiberUnmount(E5,t)}catch{}switch(t.tag){case 5:Ea||Mm(t,e);case 6:var n=Qs,i=Ul;Qs=null,hf(r,e,t),Qs=n,Ul=i,Qs!==null&&(Ul?(r=Qs,t=t.stateNode,r.nodeType===8?r.parentNode.removeChild(t):r.removeChild(t)):Qs.removeChild(t.stateNode));break;case 18:Qs!==null&&(Ul?(r=Qs,t=t.stateNode,r.nodeType===8?yF(r.parentNode,t):r.nodeType===1&&yF(r,t),_2(r)):yF(Qs,t.stateNode));break;case 4:n=Qs,i=Ul,Qs=t.stateNode.containerInfo,Ul=!0,hf(r,e,t),Qs=n,Ul=i;break;case 0:case 11:case 14:case 15:if(!Ea&&(n=t.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&ZI(t,e,a),i=i.next}while(i!==n)}hf(r,e,t);break;case 1:if(!Ea&&(Mm(t,e),n=t.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=t.memoizedProps,n.state=t.memoizedState,n.componentWillUnmount()}catch(o){mi(t,e,o)}hf(r,e,t);break;case 21:hf(r,e,t);break;case 22:t.mode&1?(Ea=(n=Ea)||t.memoizedState!==null,hf(r,e,t),Ea=n):hf(r,e,t);break;default:hf(r,e,t)}}function WU(r){var e=r.updateQueue;if(e!==null){r.updateQueue=null;var t=r.stateNode;t===null&&(t=r.stateNode=new ete),e.forEach(function(n){var i=cte.bind(null,r,n);t.has(n)||(t.add(n),n.then(i,i))})}}function ml(r,e){var t=e.deletions;if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];try{var s=r,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Qs=o.stateNode,Ul=!1;break e;case 3:Qs=o.stateNode.containerInfo,Ul=!0;break e;case 4:Qs=o.stateNode.containerInfo,Ul=!0;break e}o=o.return}if(Qs===null)throw Error(st(160));RV(s,a,i),Qs=null,Ul=!1;var A=i.alternate;A!==null&&(A.return=null),i.return=null}catch(l){mi(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)NV(e,r),e=e.sibling}function NV(r,e){var t=r.alternate,n=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(ml(e,r),dc(r),n&4){try{Oy(3,r,r.return),L5(3,r)}catch(p){mi(r,r.return,p)}try{Oy(5,r,r.return)}catch(p){mi(r,r.return,p)}}break;case 1:ml(e,r),dc(r),n&512&&t!==null&&Mm(t,t.return);break;case 5:if(ml(e,r),dc(r),n&512&&t!==null&&Mm(t,t.return),r.flags&32){var i=r.stateNode;try{v2(i,"")}catch(p){mi(r,r.return,p)}}if(n&4&&(i=r.stateNode,i!=null)){var s=r.memoizedProps,a=t!==null?t.memoizedProps:s,o=r.type,A=r.updateQueue;if(r.updateQueue=null,A!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&n9(i,s),BI(o,a);var l=BI(o,s);for(a=0;a<A.length;a+=2){var c=A[a],u=A[a+1];c==="style"?A9(i,u):c==="dangerouslySetInnerHTML"?a9(i,u):c==="children"?v2(i,u):lP(i,c,u,l)}switch(o){case"input":xI(i,s);break;case"textarea":i9(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Wm(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?Wm(i,!!s.multiple,s.defaultValue,!0):Wm(i,!!s.multiple,s.multiple?[]:"",!1))}i[S2]=s}catch(p){mi(r,r.return,p)}}break;case 6:if(ml(e,r),dc(r),n&4){if(r.stateNode===null)throw Error(st(162));i=r.stateNode,s=r.memoizedProps;try{i.nodeValue=s}catch(p){mi(r,r.return,p)}}break;case 3:if(ml(e,r),dc(r),n&4&&t!==null&&t.memoizedState.isDehydrated)try{_2(e.containerInfo)}catch(p){mi(r,r.return,p)}break;case 4:ml(e,r),dc(r);break;case 13:ml(e,r),dc(r),i=r.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(VP=ki())),n&4&&WU(r);break;case 22:if(c=t!==null&&t.memoizedState!==null,r.mode&1?(Ea=(l=Ea)||c,ml(e,r),Ea=l):ml(e,r),dc(r),n&8192){if(l=r.memoizedState!==null,(r.stateNode.isHidden=l)&&!c&&r.mode&1)for(Tt=r,c=r.child;c!==null;){for(u=Tt=c;Tt!==null;){switch(h=Tt,f=h.child,h.tag){case 0:case 11:case 14:case 15:Oy(4,h,h.return);break;case 1:Mm(h,h.return);var d=h.stateNode;if(typeof d.componentWillUnmount=="function"){n=h,t=h.return;try{e=n,d.props=e.memoizedProps,d.state=e.memoizedState,d.componentWillUnmount()}catch(p){mi(n,t,p)}}break;case 5:Mm(h,h.return);break;case 22:if(h.memoizedState!==null){$U(u);continue}}f!==null?(f.return=h,Tt=f):$U(u)}c=c.sibling}e:for(c=null,u=r;;){if(u.tag===5){if(c===null){c=u;try{i=u.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=u.stateNode,A=u.memoizedProps.style,a=A!=null&&A.hasOwnProperty("display")?A.display:null,o.style.display=o9("display",a))}catch(p){mi(r,r.return,p)}}}else if(u.tag===6){if(c===null)try{u.stateNode.nodeValue=l?"":u.memoizedProps}catch(p){mi(r,r.return,p)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===r)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===r)break e;for(;u.sibling===null;){if(u.return===null||u.return===r)break e;c===u&&(c=null),u=u.return}c===u&&(c=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:ml(e,r),dc(r),n&4&&WU(r);break;case 21:break;default:ml(e,r),dc(r)}}function dc(r){var e=r.flags;if(e&2){try{e:{for(var t=r.return;t!==null;){if(PV(t)){var n=t;break e}t=t.return}throw Error(st(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(v2(i,""),n.flags&=-33);var s=zU(r);rk(r,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=zU(r);tk(r,o,a);break;default:throw Error(st(161))}}catch(A){mi(r,r.return,A)}r.flags&=-3}e&4096&&(r.flags&=-4097)}function rte(r,e,t){Tt=r,DV(r)}function DV(r,e,t){for(var n=(r.mode&1)!==0;Tt!==null;){var i=Tt,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Zb;if(!a){var o=i.alternate,A=o!==null&&o.memoizedState!==null||Ea;o=Zb;var l=Ea;if(Zb=a,(Ea=A)&&!l)for(Tt=i;Tt!==null;)a=Tt,A=a.child,a.tag===22&&a.memoizedState!==null?qU(i):A!==null?(A.return=a,Tt=A):qU(i);for(;s!==null;)Tt=s,DV(s),s=s.sibling;Tt=i,Zb=o,Ea=l}GU(r)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Tt=s):GU(r)}}function GU(r){for(;Tt!==null;){var e=Tt;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ea||L5(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ea)if(t===null)n.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:bl(e.type,t.memoizedProps);n.componentDidUpdate(i,t.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&kU(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}kU(e,a,t)}break;case 5:var o=e.stateNode;if(t===null&&e.flags&4){t=o;var A=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&t.focus();break;case"img":A.src&&(t.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var u=c.dehydrated;u!==null&&_2(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(st(163))}Ea||e.flags&512&&ek(e)}catch(h){mi(e,e.return,h)}}if(e===r){Tt=null;break}if(t=e.sibling,t!==null){t.return=e.return,Tt=t;break}Tt=e.return}}function $U(r){for(;Tt!==null;){var e=Tt;if(e===r){Tt=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Tt=t;break}Tt=e.return}}function qU(r){for(;Tt!==null;){var e=Tt;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{L5(4,e)}catch(A){mi(e,t,A)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(A){mi(e,i,A)}}var s=e.return;try{ek(e)}catch(A){mi(e,s,A)}break;case 5:var a=e.return;try{ek(e)}catch(A){mi(e,a,A)}}}catch(A){mi(e,e.return,A)}if(e===r){Tt=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Tt=o;break}Tt=e.return}}var nte=Math.ceil,WB=jh.ReactCurrentDispatcher,QP=jh.ReactCurrentOwner,el=jh.ReactCurrentBatchConfig,zr=0,Ss=null,zi=null,Gs=0,hA=0,Om=r0(0),os=0,P2=null,pg=0,P5=0,HP=0,Qy=null,To=null,VP=0,Bv=1/0,Lu=null,GB=!1,nk=null,Sd=null,eE=!1,Ad=null,$B=0,Hy=0,ik=null,yC=-1,xC=0;function Ja(){return zr&6?ki():yC!==-1?yC:yC=ki()}function Td(r){return r.mode&1?zr&2&&Gs!==0?Gs&-Gs:Qee.transition!==null?(xC===0&&(xC=y9()),xC):(r=fn,r!==0||(r=window.event,r=r===void 0?16:S9(r.type)),r):1}function zl(r,e,t,n){if(50<Hy)throw Hy=0,ik=null,Error(st(185));H_(r,t,n),(!(zr&2)||r!==Ss)&&(r===Ss&&(!(zr&2)&&(P5|=t),os===4&&Ef(r,Gs)),Ro(r,n),t===1&&zr===0&&!(e.mode&1)&&(Bv=ki()+500,F5&&n0()))}function Ro(r,e){var t=r.callbackNode;QZ(r,e);var n=kB(r,r===Ss?Gs:0);if(n===0)t!==null&&iU(t),r.callbackNode=null,r.callbackPriority=0;else if(e=n&-n,r.callbackPriority!==e){if(t!=null&&iU(t),e===1)r.tag===0?Oee(XU.bind(null,r)):W9(XU.bind(null,r)),Nee(function(){!(zr&6)&&n0()}),t=null;else{switch(x9(n)){case 1:t=dP;break;case 4:t=v9;break;case 16:t=IB;break;case 536870912:t=w9;break;default:t=IB}t=KV(t,UV.bind(null,r))}r.callbackPriority=e,r.callbackNode=t}}function UV(r,e){if(yC=-1,xC=0,zr&6)throw Error(st(327));var t=r.callbackNode;if(Ym()&&r.callbackNode!==t)return null;var n=kB(r,r===Ss?Gs:0);if(n===0)return null;if(n&30||n&r.expiredLanes||e)e=qB(r,n);else{e=n;var i=zr;zr|=2;var s=OV();(Ss!==r||Gs!==e)&&(Lu=null,Bv=ki()+500,rg(r,e));do try{ate();break}catch(o){MV(r,o)}while(!0);SP(),WB.current=s,zr=i,zi!==null?e=0:(Ss=null,Gs=0,e=os)}if(e!==0){if(e===2&&(i=kI(r),i!==0&&(n=i,e=sk(r,i))),e===1)throw t=P2,rg(r,0),Ef(r,n),Ro(r,ki()),t;if(e===6)Ef(r,n);else{if(i=r.current.alternate,!(n&30)&&!ite(i)&&(e=qB(r,n),e===2&&(s=kI(r),s!==0&&(n=s,e=sk(r,s))),e===1))throw t=P2,rg(r,0),Ef(r,n),Ro(r,ki()),t;switch(r.finishedWork=i,r.finishedLanes=n,e){case 0:case 1:throw Error(st(345));case 2:I0(r,To,Lu);break;case 3:if(Ef(r,n),(n&130023424)===n&&(e=VP+500-ki(),10<e)){if(kB(r,0)!==0)break;if(i=r.suspendedLanes,(i&n)!==n){Ja(),r.pingedLanes|=r.suspendedLanes&i;break}r.timeoutHandle=OI(I0.bind(null,r,To,Lu),e);break}I0(r,To,Lu);break;case 4:if(Ef(r,n),(n&4194240)===n)break;for(e=r.eventTimes,i=-1;0<n;){var a=31-Kl(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=ki()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*nte(n/1960))-n,10<n){r.timeoutHandle=OI(I0.bind(null,r,To,Lu),n);break}I0(r,To,Lu);break;case 5:I0(r,To,Lu);break;default:throw Error(st(329))}}}return Ro(r,ki()),r.callbackNode===t?UV.bind(null,r):null}function sk(r,e){var t=Qy;return r.current.memoizedState.isDehydrated&&(rg(r,e).flags|=256),r=qB(r,e),r!==2&&(e=To,To=t,e!==null&&ak(e)),r}function ak(r){To===null?To=r:To.push.apply(To,r)}function ite(r){for(var e=r;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var n=0;n<t.length;n++){var i=t[n],s=i.getSnapshot;i=i.value;try{if(!$l(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ef(r,e){for(e&=~HP,e&=~P5,r.suspendedLanes|=e,r.pingedLanes&=~e,r=r.expirationTimes;0<e;){var t=31-Kl(e),n=1<<t;r[t]=-1,e&=~n}}function XU(r){if(zr&6)throw Error(st(327));Ym();var e=kB(r,0);if(!(e&1))return Ro(r,ki()),null;var t=qB(r,e);if(r.tag!==0&&t===2){var n=kI(r);n!==0&&(e=n,t=sk(r,n))}if(t===1)throw t=P2,rg(r,0),Ef(r,e),Ro(r,ki()),t;if(t===6)throw Error(st(345));return r.finishedWork=r.current.alternate,r.finishedLanes=e,I0(r,To,Lu),Ro(r,ki()),null}function jP(r,e){var t=zr;zr|=1;try{return r(e)}finally{zr=t,zr===0&&(Bv=ki()+500,F5&&n0())}}function gg(r){Ad!==null&&Ad.tag===0&&!(zr&6)&&Ym();var e=zr;zr|=1;var t=el.transition,n=fn;try{if(el.transition=null,fn=1,r)return r()}finally{fn=n,el.transition=t,zr=e,!(zr&6)&&n0()}}function KP(){hA=Om.current,Qn(Om)}function rg(r,e){r.finishedWork=null,r.finishedLanes=0;var t=r.timeoutHandle;if(t!==-1&&(r.timeoutHandle=-1,Ree(t)),zi!==null)for(t=zi.return;t!==null;){var n=t;switch(EP(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&DB();break;case 3:Ev(),Qn(Lo),Qn(ka),PP();break;case 5:LP(n);break;case 4:Ev();break;case 13:Qn(ii);break;case 19:Qn(ii);break;case 10:TP(n.type._context);break;case 22:case 23:KP()}t=t.return}if(Ss=r,zi=r=Fd(r.current,null),Gs=hA=e,os=0,P2=null,HP=P5=pg=0,To=Qy=null,K0!==null){for(e=0;e<K0.length;e++)if(t=K0[e],n=t.interleaved,n!==null){t.interleaved=null;var i=n.next,s=t.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}t.pending=n}K0=null}return r}function MV(r,e){do{var t=zi;try{if(SP(),mC.current=zB,KB){for(var n=ai.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}KB=!1}if(dg=0,Es=ss=ai=null,My=!1,I2=0,QP.current=null,t===null||t.return===null){os=1,P2=e,zi=null;break}e:{var s=r,a=t.return,o=t,A=e;if(e=Gs,o.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var l=A,c=o,u=c.tag;if(!(c.mode&1)&&(u===0||u===11||u===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=UU(a);if(f!==null){f.flags&=-257,MU(f,a,o,s,e),f.mode&1&&DU(s,l,e),e=f,A=l;var d=e.updateQueue;if(d===null){var p=new Set;p.add(A),e.updateQueue=p}else d.add(A);break e}else{if(!(e&1)){DU(s,l,e),zP();break e}A=Error(st(426))}}else if($n&&o.mode&1){var v=UU(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),MU(v,a,o,s,e),CP(Cv(A,o));break e}}s=A=Cv(A,o),os!==4&&(os=2),Qy===null?Qy=[s]:Qy.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=xV(s,A,e);IU(s,m);break e;case 1:o=A;var x=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Sd===null||!Sd.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var T=_V(s,o,e);IU(s,T);break e}}s=s.return}while(s!==null)}HV(t)}catch(R){e=R,zi===t&&t!==null&&(zi=t=t.return);continue}break}while(!0)}function OV(){var r=WB.current;return WB.current=zB,r===null?zB:r}function zP(){(os===0||os===3||os===2)&&(os=4),Ss===null||!(pg&268435455)&&!(P5&268435455)||Ef(Ss,Gs)}function qB(r,e){var t=zr;zr|=2;var n=OV();(Ss!==r||Gs!==e)&&(Lu=null,rg(r,e));do try{ste();break}catch(i){MV(r,i)}while(!0);if(SP(),zr=t,WB.current=n,zi!==null)throw Error(st(261));return Ss=null,Gs=0,os}function ste(){for(;zi!==null;)QV(zi)}function ate(){for(;zi!==null&&!kZ();)QV(zi)}function QV(r){var e=jV(r.alternate,r,hA);r.memoizedProps=r.pendingProps,e===null?HV(r):zi=e,QP.current=null}function HV(r){var e=r;do{var t=e.alternate;if(r=e.return,e.flags&32768){if(t=Zee(t,e),t!==null){t.flags&=32767,zi=t;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{os=6,zi=null;return}}else if(t=Jee(t,e,hA),t!==null){zi=t;return}if(e=e.sibling,e!==null){zi=e;return}zi=e=r}while(e!==null);os===0&&(os=5)}function I0(r,e,t){var n=fn,i=el.transition;try{el.transition=null,fn=1,ote(r,e,t,n)}finally{el.transition=i,fn=n}return null}function ote(r,e,t,n){do Ym();while(Ad!==null);if(zr&6)throw Error(st(327));t=r.finishedWork;var i=r.finishedLanes;if(t===null)return null;if(r.finishedWork=null,r.finishedLanes=0,t===r.current)throw Error(st(177));r.callbackNode=null,r.callbackPriority=0;var s=t.lanes|t.childLanes;if(HZ(r,s),r===Ss&&(zi=Ss=null,Gs=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||eE||(eE=!0,KV(IB,function(){return Ym(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=el.transition,el.transition=null;var a=fn;fn=1;var o=zr;zr|=4,QP.current=null,tte(r,t),NV(t,r),See(UI),LB=!!DI,UI=DI=null,r.current=t,rte(t),LZ(),zr=o,fn=a,el.transition=s}else r.current=t;if(eE&&(eE=!1,Ad=r,$B=i),s=r.pendingLanes,s===0&&(Sd=null),NZ(t.stateNode),Ro(r,ki()),e!==null)for(n=r.onRecoverableError,t=0;t<e.length;t++)i=e[t],n(i.value,{componentStack:i.stack,digest:i.digest});if(GB)throw GB=!1,r=nk,nk=null,r;return $B&1&&r.tag!==0&&Ym(),s=r.pendingLanes,s&1?r===ik?Hy++:(Hy=0,ik=r):Hy=0,n0(),null}function Ym(){if(Ad!==null){var r=x9($B),e=el.transition,t=fn;try{if(el.transition=null,fn=16>r?16:r,Ad===null)var n=!1;else{if(r=Ad,Ad=null,$B=0,zr&6)throw Error(st(331));var i=zr;for(zr|=4,Tt=r.current;Tt!==null;){var s=Tt,a=s.child;if(Tt.flags&16){var o=s.deletions;if(o!==null){for(var A=0;A<o.length;A++){var l=o[A];for(Tt=l;Tt!==null;){var c=Tt;switch(c.tag){case 0:case 11:case 15:Oy(8,c,s)}var u=c.child;if(u!==null)u.return=c,Tt=u;else for(;Tt!==null;){c=Tt;var h=c.sibling,f=c.return;if(LV(c),c===l){Tt=null;break}if(h!==null){h.return=f,Tt=h;break}Tt=f}}}var d=s.alternate;if(d!==null){var p=d.child;if(p!==null){d.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}Tt=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Tt=a;else e:for(;Tt!==null;){if(s=Tt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Oy(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,Tt=m;break e}Tt=s.return}}var x=r.current;for(Tt=x;Tt!==null;){a=Tt;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,Tt=b;else e:for(a=x;Tt!==null;){if(o=Tt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:L5(9,o)}}catch(R){mi(o,o.return,R)}if(o===a){Tt=null;break e}var T=o.sibling;if(T!==null){T.return=o.return,Tt=T;break e}Tt=o.return}}if(zr=i,n0(),Wc&&typeof Wc.onPostCommitFiberRoot=="function")try{Wc.onPostCommitFiberRoot(E5,r)}catch{}n=!0}return n}finally{fn=t,el.transition=e}}return!1}function YU(r,e,t){e=Cv(t,e),e=xV(r,e,1),r=Bd(r,e,1),e=Ja(),r!==null&&(H_(r,1,e),Ro(r,e))}function mi(r,e,t){if(r.tag===3)YU(r,r,t);else for(;e!==null;){if(e.tag===3){YU(e,r,t);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Sd===null||!Sd.has(n))){r=Cv(t,r),r=_V(e,r,1),e=Bd(e,r,1),r=Ja(),e!==null&&(H_(e,1,r),Ro(e,r));break}}e=e.return}}function Ate(r,e,t){var n=r.pingCache;n!==null&&n.delete(e),e=Ja(),r.pingedLanes|=r.suspendedLanes&t,Ss===r&&(Gs&t)===t&&(os===4||os===3&&(Gs&130023424)===Gs&&500>ki()-VP?rg(r,0):HP|=t),Ro(r,e)}function VV(r,e){e===0&&(r.mode&1?(e=Kb,Kb<<=1,!(Kb&130023424)&&(Kb=4194304)):e=1);var t=Ja();r=Ih(r,e),r!==null&&(H_(r,e,t),Ro(r,t))}function lte(r){var e=r.memoizedState,t=0;e!==null&&(t=e.retryLane),VV(r,t)}function cte(r,e){var t=0;switch(r.tag){case 13:var n=r.stateNode,i=r.memoizedState;i!==null&&(t=i.retryLane);break;case 19:n=r.stateNode;break;default:throw Error(st(314))}n!==null&&n.delete(e),VV(r,t)}var jV;jV=function(r,e,t){if(r!==null)if(r.memoizedProps!==e.pendingProps||Lo.current)ko=!0;else{if(!(r.lanes&t)&&!(e.flags&128))return ko=!1,Yee(r,e,t);ko=!!(r.flags&131072)}else ko=!1,$n&&e.flags&1048576&&G9(e,OB,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;wC(r,e),r=e.pendingProps;var i=xv(e,ka.current);Xm(e,t),i=NP(null,e,n,r,i,t);var s=DP();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Po(n)?(s=!0,UB(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,IP(e),i.updater=k5,e.stateNode=i,i._reactInternals=e,WI(e,n,r,t),e=qI(null,e,n,!0,s,t)):(e.tag=0,$n&&s&&bP(e),$a(null,e,i,t),e=e.child),e;case 16:n=e.elementType;e:{switch(wC(r,e),r=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=hte(n),r=bl(n,r),i){case 0:e=$I(null,e,n,r,t);break e;case 1:e=HU(null,e,n,r,t);break e;case 11:e=OU(null,e,n,r,t);break e;case 14:e=QU(null,e,n,bl(n.type,r),t);break e}throw Error(st(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:bl(n,i),$I(r,e,n,i,t);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:bl(n,i),HU(r,e,n,i,t);case 3:e:{if(BV(e),r===null)throw Error(st(387));n=e.pendingProps,s=e.memoizedState,i=s.element,Z9(r,e),VB(e,n,null,t);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Cv(Error(st(423)),e),e=VU(r,e,n,t,i);break e}else if(n!==i){i=Cv(Error(st(424)),e),e=VU(r,e,n,t,i);break e}else for(mA=Cd(e.stateNode.containerInfo.firstChild),yA=e,$n=!0,Ml=null,t=Y9(e,null,n,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(_v(),n===i){e=kh(r,e,t);break e}$a(r,e,n,t)}e=e.child}return e;case 5:return eV(e),r===null&&jI(e),n=e.type,i=e.pendingProps,s=r!==null?r.memoizedProps:null,a=i.children,MI(n,i)?a=null:s!==null&&MI(n,s)&&(e.flags|=32),CV(r,e),$a(r,e,a,t),e.child;case 6:return r===null&&jI(e),null;case 13:return SV(r,e,t);case 4:return kP(e,e.stateNode.containerInfo),n=e.pendingProps,r===null?e.child=bv(e,null,n,t):$a(r,e,n,t),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:bl(n,i),OU(r,e,n,i,t);case 7:return $a(r,e,e.pendingProps,t),e.child;case 8:return $a(r,e,e.pendingProps.children,t),e.child;case 12:return $a(r,e,e.pendingProps.children,t),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Pn(QB,n._currentValue),n._currentValue=a,s!==null)if($l(s.value,a)){if(s.children===i.children&&!Lo.current){e=kh(r,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var A=o.firstContext;A!==null;){if(A.context===n){if(s.tag===1){A=xh(-1,t&-t),A.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?A.next=A:(A.next=c.next,c.next=A),l.pending=A}}s.lanes|=t,A=s.alternate,A!==null&&(A.lanes|=t),KI(s.return,t,e),o.lanes|=t;break}A=A.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(st(341));a.lanes|=t,o=a.alternate,o!==null&&(o.lanes|=t),KI(a,t,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}$a(r,e,i.children,t),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Xm(e,t),i=rl(i),n=n(i),e.flags|=1,$a(r,e,n,t),e.child;case 14:return n=e.type,i=bl(n,e.pendingProps),i=bl(n.type,i),QU(r,e,n,i,t);case 15:return bV(r,e,e.type,e.pendingProps,t);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:bl(n,i),wC(r,e),e.tag=1,Po(n)?(r=!0,UB(e)):r=!1,Xm(e,t),yV(e,n,i),WI(e,n,i,t),qI(null,e,n,!0,r,t);case 19:return TV(r,e,t);case 22:return EV(r,e,t)}throw Error(st(156,e.tag))};function KV(r,e){return m9(r,e)}function ute(r,e,t,n){this.tag=r,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function YA(r,e,t,n){return new ute(r,e,t,n)}function WP(r){return r=r.prototype,!(!r||!r.isReactComponent)}function hte(r){if(typeof r=="function")return WP(r)?1:0;if(r!=null){if(r=r.$$typeof,r===uP)return 11;if(r===hP)return 14}return 2}function Fd(r,e){var t=r.alternate;return t===null?(t=YA(r.tag,e,r.key,r.mode),t.elementType=r.elementType,t.type=r.type,t.stateNode=r.stateNode,t.alternate=r,r.alternate=t):(t.pendingProps=e,t.type=r.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=r.flags&14680064,t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,e=r.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=r.sibling,t.index=r.index,t.ref=r.ref,t}function _C(r,e,t,n,i,s){var a=2;if(n=r,typeof r=="function")WP(r)&&(a=1);else if(typeof r=="string")a=5;else e:switch(r){case Fm:return ng(t.children,i,s,e);case cP:a=8,i|=8;break;case gI:return r=YA(12,t,e,i|2),r.elementType=gI,r.lanes=s,r;case mI:return r=YA(13,t,e,i),r.elementType=mI,r.lanes=s,r;case vI:return r=YA(19,t,e,i),r.elementType=vI,r.lanes=s,r;case e9:return R5(t,i,s,e);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case J7:a=10;break e;case Z7:a=9;break e;case uP:a=11;break e;case hP:a=14;break e;case yf:a=16,n=null;break e}throw Error(st(130,r==null?r:typeof r,""))}return e=YA(a,t,e,i),e.elementType=r,e.type=n,e.lanes=s,e}function ng(r,e,t,n){return r=YA(7,r,n,e),r.lanes=t,r}function R5(r,e,t,n){return r=YA(22,r,n,e),r.elementType=e9,r.lanes=t,r.stateNode={isHidden:!1},r}function TF(r,e,t){return r=YA(6,r,null,e),r.lanes=t,r}function FF(r,e,t){return e=YA(4,r.children!==null?r.children:[],r.key,e),e.lanes=t,e.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},e}function fte(r,e,t,n,i){this.tag=e,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lF(0),this.expirationTimes=lF(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lF(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function GP(r,e,t,n,i,s,a,o,A){return r=new fte(r,e,t,o,A),e===1?(e=1,s===!0&&(e|=8)):e=0,s=YA(3,null,null,e),r.current=s,s.stateNode=r,s.memoizedState={element:n,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},IP(s),r}function dte(r,e,t){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tm,key:n==null?null:""+n,children:r,containerInfo:e,implementation:t}}function zV(r){if(!r)return Qd;r=r._reactInternals;e:{if(Rg(r)!==r||r.tag!==1)throw Error(st(170));var e=r;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Po(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(st(171))}if(r.tag===1){var t=r.type;if(Po(t))return z9(r,t,e)}return e}function WV(r,e,t,n,i,s,a,o,A){return r=GP(t,n,!0,r,i,s,a,o,A),r.context=zV(null),t=r.current,n=Ja(),i=Td(t),s=xh(n,i),s.callback=e??null,Bd(t,s,i),r.current.lanes=i,H_(r,i,n),Ro(r,n),r}function N5(r,e,t,n){var i=e.current,s=Ja(),a=Td(i);return t=zV(t),e.context===null?e.context=t:e.pendingContext=t,e=xh(s,a),e.payload={element:r},n=n===void 0?null:n,n!==null&&(e.callback=n),r=Bd(i,e,a),r!==null&&(zl(r,i,a,s),gC(r,i,a)),a}function XB(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function JU(r,e){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var t=r.retryLane;r.retryLane=t!==0&&t<e?t:e}}function $P(r,e){JU(r,e),(r=r.alternate)&&JU(r,e)}function pte(){return null}var GV=typeof reportError=="function"?reportError:function(r){console.error(r)};function qP(r){this._internalRoot=r}D5.prototype.render=qP.prototype.render=function(r){var e=this._internalRoot;if(e===null)throw Error(st(409));N5(r,e,null,null)};D5.prototype.unmount=qP.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var e=r.containerInfo;gg(function(){N5(null,r,null,null)}),e[Fh]=null}};function D5(r){this._internalRoot=r}D5.prototype.unstable_scheduleHydration=function(r){if(r){var e=E9();r={blockedOn:null,target:r,priority:e};for(var t=0;t<bf.length&&e!==0&&e<bf[t].priority;t++);bf.splice(t,0,r),t===0&&B9(r)}};function XP(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function U5(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function ZU(){}function gte(r,e,t,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var l=XB(a);s.call(l)}}var a=WV(e,n,r,0,null,!1,!1,"",ZU);return r._reactRootContainer=a,r[Fh]=a.current,C2(r.nodeType===8?r.parentNode:r),gg(),a}for(;i=r.lastChild;)r.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var l=XB(A);o.call(l)}}var A=GP(r,0,!1,null,null,!1,!1,"",ZU);return r._reactRootContainer=A,r[Fh]=A.current,C2(r.nodeType===8?r.parentNode:r),gg(function(){N5(e,A,t,n)}),A}function M5(r,e,t,n,i){var s=t._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var A=XB(a);o.call(A)}}N5(e,a,r,i)}else a=gte(t,e,r,i,n);return XB(a)}_9=function(r){switch(r.tag){case 3:var e=r.stateNode;if(e.current.memoizedState.isDehydrated){var t=$w(e.pendingLanes);t!==0&&(pP(e,t|1),Ro(e,ki()),!(zr&6)&&(Bv=ki()+500,n0()))}break;case 13:gg(function(){var n=Ih(r,1);if(n!==null){var i=Ja();zl(n,r,1,i)}}),$P(r,1)}};gP=function(r){if(r.tag===13){var e=Ih(r,134217728);if(e!==null){var t=Ja();zl(e,r,134217728,t)}$P(r,134217728)}};b9=function(r){if(r.tag===13){var e=Td(r),t=Ih(r,e);if(t!==null){var n=Ja();zl(t,r,e,n)}$P(r,e)}};E9=function(){return fn};C9=function(r,e){var t=fn;try{return fn=r,e()}finally{fn=t}};TI=function(r,e,t){switch(e){case"input":if(xI(r,t),e=t.name,t.type==="radio"&&e!=null){for(t=r;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var n=t[e];if(n!==r&&n.form===r.form){var i=T5(n);if(!i)throw Error(st(90));r9(n),xI(n,i)}}}break;case"textarea":i9(r,t);break;case"select":e=t.value,e!=null&&Wm(r,!!t.multiple,e,!1)}};u9=jP;h9=gg;var mte={usingClientEntryPoint:!1,Events:[j_,Pm,T5,l9,c9,jP]},Fw={findFiberByHostInstance:j0,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vte={bundleType:Fw.bundleType,version:Fw.version,rendererPackageName:Fw.rendererPackageName,rendererConfig:Fw.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jh.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=p9(r),r===null?null:r.stateNode},findFiberByHostInstance:Fw.findFiberByHostInstance||pte,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tE=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tE.isDisabled&&tE.supportsFiber)try{E5=tE.inject(vte),Wc=tE}catch{}}EA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mte;EA.createPortal=function(r,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!XP(e))throw Error(st(200));return dte(r,e,null,t)};EA.createRoot=function(r,e){if(!XP(r))throw Error(st(299));var t=!1,n="",i=GV;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=GP(r,1,!1,null,null,t,!1,n,i),r[Fh]=e.current,C2(r.nodeType===8?r.parentNode:r),new qP(e)};EA.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var e=r._reactInternals;if(e===void 0)throw typeof r.render=="function"?Error(st(188)):(r=Object.keys(r).join(","),Error(st(268,r)));return r=p9(e),r=r===null?null:r.stateNode,r};EA.flushSync=function(r){return gg(r)};EA.hydrate=function(r,e,t){if(!U5(e))throw Error(st(200));return M5(null,r,e,!0,t)};EA.hydrateRoot=function(r,e,t){if(!XP(r))throw Error(st(405));var n=t!=null&&t.hydratedSources||null,i=!1,s="",a=GV;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),e=WV(e,null,r,1,t??null,i,!1,s,a),r[Fh]=e.current,C2(r),n)for(r=0;r<n.length;r++)t=n[r],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new D5(e)};EA.render=function(r,e,t){if(!U5(e))throw Error(st(200));return M5(null,r,e,!1,t)};EA.unmountComponentAtNode=function(r){if(!U5(r))throw Error(st(40));return r._reactRootContainer?(gg(function(){M5(null,null,r,!1,function(){r._reactRootContainer=null,r[Fh]=null})}),!0):!1};EA.unstable_batchedUpdates=jP;EA.unstable_renderSubtreeIntoContainer=function(r,e,t,n){if(!U5(t))throw Error(st(200));if(r==null||r._reactInternals===void 0)throw Error(st(38));return M5(r,e,t,!1,n)};EA.version="18.3.1-next-f1338f8080-20240426";function $V(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($V)}catch(r){console.error(r)}}$V(),$7.exports=EA;var wte=$7.exports,eM=wte;dI.createRoot=eM.createRoot,dI.hydrateRoot=eM.hydrateRoot;const qV=Kt.createContext(),ec=()=>Kt.useContext(qV),yte=({children:r})=>{const[e,t]=Kt.useState(null),[n,i]=Kt.useState([]),[s,a]=Kt.useState("page1"),[o,A]=Kt.useState(null),[l,c]=Kt.useState(null),[u,h]=Kt.useState(null),[f,d]=Kt.useState(null),[p,v]=Kt.useState(!0),[m,x]=Kt.useState(!1),[b,T]=Kt.useState(!1),[R,P]=Kt.useState(""),[B,E]=Kt.useState(1),[_,I]=Kt.useState(""),[S,F]=Kt.useState(null),[N,G]=Kt.useState(""),[le,ie]=Kt.useState(null),[te,J]=Kt.useState([]),xe={reportSummaries:n,setReportSummaries:i,currentReportData:e,setCurrentReportData:t,currentPage:s,setCurrentPage:a,showPage:L=>{I(""),a(L)},resetSelections:()=>{A(null),c(null),h(null),d(null),t(null),P("")},selectedReportId:o,setSelectedReportId:A,selectedClass:l,setSelectedClass:c,selectedDate:u,setSelectedDate:h,selectedStudent:f,setSelectedStudent:d,initialLoading:p,setInitialLoading:v,processing:m,setProcessing:x,aiLoading:b,setAiLoading:T,reportHTML:R,setReportHTML:P,reportCurrentPage:B,setReportCurrentPage:E,errorMessage:_,setErrorMessage:I,currentTeacher:S,setCurrentTeacher:F,uploadDate:N,setUploadDate:G,activeChart:le,setActiveChart:ie,selectedFiles:te,setSelectedFiles:J};return Fe.jsx(qV.Provider,{value:xe,children:r})};var tM={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},xte=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const i=r[t++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=r[t++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=r[t++],a=r[t++],o=r[t++],A=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(A>>10)),e[n++]=String.fromCharCode(56320+(A&1023))}else{const s=r[t++],a=r[t++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},YV={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<r.length;i+=3){const s=r[i],a=i+1<r.length,o=a?r[i+1]:0,A=i+2<r.length,l=A?r[i+2]:0,c=s>>2,u=(s&3)<<4|o>>4;let h=(o&15)<<2|l>>6,f=l&63;A||(f=64,a||(h=64)),n.push(t[c],t[u],t[h],t[f])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(XV(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):xte(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<r.length;){const s=t[r.charAt(i++)],o=i<r.length?t[r.charAt(i)]:0;++i;const l=i<r.length?t[r.charAt(i)]:64;++i;const u=i<r.length?t[r.charAt(i)]:64;if(++i,s==null||o==null||l==null||u==null)throw new _te;const h=s<<2|o>>4;if(n.push(h),l!==64){const f=o<<4&240|l>>2;if(n.push(f),u!==64){const d=l<<6&192|u;n.push(d)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class _te extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bte=function(r){const e=XV(r);return YV.encodeByteArray(e,!0)},YB=function(r){return bte(r).replace(/\./g,"")},JV=function(r){try{return YV.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ete(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cte=()=>Ete().__FIREBASE_DEFAULTS__,Bte=()=>{if(typeof process>"u"||typeof tM>"u")return;const r=tM.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Ste=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&JV(r[1]);return e&&JSON.parse(e)},O5=()=>{try{return Cte()||Bte()||Ste()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},ZV=r=>{var e,t;return(t=(e=O5())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},ej=r=>{const e=ZV(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},tj=()=>{var r;return(r=O5())===null||r===void 0?void 0:r.config},rj=r=>{var e;return(e=O5())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tte{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fte(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",i=r.iat||0,s=r.sub||r.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},r);return[YB(JSON.stringify(t)),YB(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function La(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ite(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(La())}function kte(){var r;const e=(r=O5())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Lte(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Pte(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Rte(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Nte(){const r=La();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Dte(){return!kte()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ute(){try{return typeof indexedDB=="object"}catch{return!1}}function Mte(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ote="FirebaseError";class nu extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=Ote,Object.setPrototypeOf(this,nu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,z_.prototype.create)}}class z_{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?Qte(s,n):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new nu(i,o,n)}}function Qte(r,e){return r.replace(Hte,(t,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const Hte=/\{\$([^}]+)}/g;function Vte(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function JB(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const i of t){if(!n.includes(i))return!1;const s=r[i],a=e[i];if(rM(s)&&rM(a)){if(!JB(s,a))return!1}else if(s!==a)return!1}for(const i of n)if(!t.includes(i))return!1;return!0}function rM(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function jte(r,e){const t=new Kte(r,e);return t.subscribe.bind(t)}class Kte{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let i;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");zte(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:n},i.next===void 0&&(i.next=IF),i.error===void 0&&(i.error=IF),i.complete===void 0&&(i.complete=IF);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zte(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function IF(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(r){return r&&r._delegate?r._delegate:r}class Hd{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wte{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new Tte;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($te(e))try{this.getOrInitializeService({instanceIdentifier:k0})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=k0){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=k0){return this.instances.has(e)}getOptions(e=k0){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);n===o&&a.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Gte(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=k0){return this.component?this.component.multipleInstances?e:k0:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Gte(r){return r===k0?void 0:r}function $te(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qte{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Wte(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nr;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Nr||(Nr={}));const Xte={debug:Nr.DEBUG,verbose:Nr.VERBOSE,info:Nr.INFO,warn:Nr.WARN,error:Nr.ERROR,silent:Nr.SILENT},Yte=Nr.INFO,Jte={[Nr.DEBUG]:"log",[Nr.VERBOSE]:"log",[Nr.INFO]:"info",[Nr.WARN]:"warn",[Nr.ERROR]:"error"},Zte=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),i=Jte[e];if(i)console[i](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let YP=class{constructor(e){this.name=e,this._logLevel=Yte,this._logHandler=Zte,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Nr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Xte[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Nr.DEBUG,...e),this._logHandler(this,Nr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Nr.VERBOSE,...e),this._logHandler(this,Nr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Nr.INFO,...e),this._logHandler(this,Nr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Nr.WARN,...e),this._logHandler(this,Nr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Nr.ERROR,...e),this._logHandler(this,Nr.ERROR,...e)}};const ere=(r,e)=>e.some(t=>r instanceof t);let nM,iM;function tre(){return nM||(nM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rre(){return iM||(iM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nj=new WeakMap,ok=new WeakMap,ij=new WeakMap,kF=new WeakMap,JP=new WeakMap;function nre(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",s),r.removeEventListener("error",a)},s=()=>{t(Id(r.result)),i()},a=()=>{n(r.error),i()};r.addEventListener("success",s),r.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&nj.set(t,r)}).catch(()=>{}),JP.set(e,r),e}function ire(r){if(ok.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",s),r.removeEventListener("error",a),r.removeEventListener("abort",a)},s=()=>{t(),i()},a=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",s),r.addEventListener("error",a),r.addEventListener("abort",a)});ok.set(r,e)}let Ak={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return ok.get(r);if(e==="objectStoreNames")return r.objectStoreNames||ij.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Id(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function sre(r){Ak=r(Ak)}function are(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(LF(this),e,...t);return ij.set(n,e.sort?e.sort():[e]),Id(n)}:rre().includes(r)?function(...e){return r.apply(LF(this),e),Id(nj.get(this))}:function(...e){return Id(r.apply(LF(this),e))}}function ore(r){return typeof r=="function"?are(r):(r instanceof IDBTransaction&&ire(r),ere(r,tre())?new Proxy(r,Ak):r)}function Id(r){if(r instanceof IDBRequest)return nre(r);if(kF.has(r))return kF.get(r);const e=ore(r);return e!==r&&(kF.set(r,e),JP.set(e,r)),e}const LF=r=>JP.get(r);function Are(r,e,{blocked:t,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(r,e),o=Id(a);return n&&a.addEventListener("upgradeneeded",A=>{n(Id(a.result),A.oldVersion,A.newVersion,Id(a.transaction),A)}),t&&a.addEventListener("blocked",A=>t(A.oldVersion,A.newVersion,A)),o.then(A=>{s&&A.addEventListener("close",()=>s()),i&&A.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),o}const lre=["get","getKey","getAll","getAllKeys","count"],cre=["put","add","delete","clear"],PF=new Map;function sM(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(PF.get(e))return PF.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,i=cre.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(i||lre.includes(t)))return;const s=async function(a,...o){const A=this.transaction(a,i?"readwrite":"readonly");let l=A.store;return n&&(l=l.index(o.shift())),(await Promise.all([l[t](...o),i&&A.done]))[0]};return PF.set(e,s),s}sre(r=>({...r,get:(e,t,n)=>sM(e,t)||r.get(e,t,n),has:(e,t)=>!!sM(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ure{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(hre(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function hre(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const lk="@firebase/app",aM="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh=new YP("@firebase/app"),fre="@firebase/app-compat",dre="@firebase/analytics-compat",pre="@firebase/analytics",gre="@firebase/app-check-compat",mre="@firebase/app-check",vre="@firebase/auth",wre="@firebase/auth-compat",yre="@firebase/database",xre="@firebase/data-connect",_re="@firebase/database-compat",bre="@firebase/functions",Ere="@firebase/functions-compat",Cre="@firebase/installations",Bre="@firebase/installations-compat",Sre="@firebase/messaging",Tre="@firebase/messaging-compat",Fre="@firebase/performance",Ire="@firebase/performance-compat",kre="@firebase/remote-config",Lre="@firebase/remote-config-compat",Pre="@firebase/storage",Rre="@firebase/storage-compat",Nre="@firebase/firestore",Dre="@firebase/vertexai-preview",Ure="@firebase/firestore-compat",Mre="firebase",Ore="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck="[DEFAULT]",Qre={[lk]:"fire-core",[fre]:"fire-core-compat",[pre]:"fire-analytics",[dre]:"fire-analytics-compat",[mre]:"fire-app-check",[gre]:"fire-app-check-compat",[vre]:"fire-auth",[wre]:"fire-auth-compat",[yre]:"fire-rtdb",[xre]:"fire-data-connect",[_re]:"fire-rtdb-compat",[bre]:"fire-fn",[Ere]:"fire-fn-compat",[Cre]:"fire-iid",[Bre]:"fire-iid-compat",[Sre]:"fire-fcm",[Tre]:"fire-fcm-compat",[Fre]:"fire-perf",[Ire]:"fire-perf-compat",[kre]:"fire-rc",[Lre]:"fire-rc-compat",[Pre]:"fire-gcs",[Rre]:"fire-gcs-compat",[Nre]:"fire-fst",[Ure]:"fire-fst-compat",[Dre]:"fire-vertex","fire-js":"fire-js",[Mre]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=new Map,Hre=new Map,uk=new Map;function oM(r,e){try{r.container.addComponent(e)}catch(t){Lh.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function mg(r){const e=r.name;if(uk.has(e))return Lh.debug(`There were multiple attempts to register component ${e}.`),!1;uk.set(e,r);for(const t of R2.values())oM(t,r);for(const t of Hre.values())oM(t,r);return!0}function Q5(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function hh(r){return r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vre={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},kd=new z_("app","Firebase",Vre);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jre{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Hd("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kd.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv=Ore;function sj(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n=Object.assign({name:ck,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw kd.create("bad-app-name",{appName:String(i)});if(t||(t=tj()),!t)throw kd.create("no-options");const s=R2.get(i);if(s){if(JB(t,s.options)&&JB(n,s.config))return s;throw kd.create("duplicate-app",{appName:i})}const a=new qte(i);for(const A of uk.values())a.addComponent(A);const o=new jre(t,n,a);return R2.set(i,o),o}function H5(r=ck){const e=R2.get(r);if(!e&&r===ck&&tj())return sj();if(!e)throw kd.create("no-app",{appName:r});return e}function Kre(){return Array.from(R2.values())}function $c(r,e,t){var n;let i=(n=Qre[r])!==null&&n!==void 0?n:r;t&&(i+=`-${t}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Lh.warn(o.join(" "));return}mg(new Hd(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zre="firebase-heartbeat-database",Wre=1,N2="firebase-heartbeat-store";let RF=null;function aj(){return RF||(RF=Are(zre,Wre,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(N2)}catch(t){console.warn(t)}}}}).catch(r=>{throw kd.create("idb-open",{originalErrorMessage:r.message})})),RF}async function Gre(r){try{const t=(await aj()).transaction(N2),n=await t.objectStore(N2).get(oj(r));return await t.done,n}catch(e){if(e instanceof nu)Lh.warn(e.message);else{const t=kd.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Lh.warn(t.message)}}}async function AM(r,e){try{const n=(await aj()).transaction(N2,"readwrite");await n.objectStore(N2).put(e,oj(r)),await n.done}catch(t){if(t instanceof nu)Lh.warn(t.message);else{const n=kd.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Lh.warn(n.message)}}}function oj(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $re=1024,qre=30*24*60*60*1e3;class Xre{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Jre(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=lM();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=qre}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Lh.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=lM(),{heartbeatsToSend:n,unsentEntries:i}=Yre(this._heartbeatsCache.heartbeats),s=YB(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Lh.warn(t),""}}}function lM(){return new Date().toISOString().substring(0,10)}function Yre(r,e=$re){const t=[];let n=r.slice();for(const i of r){const s=t.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),cM(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),cM(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class Jre{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ute()?Mte().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Gre(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return AM(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return AM(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function cM(r){return YB(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zre(r){mg(new Hd("platform-logger",e=>new ure(e),"PRIVATE")),mg(new Hd("heartbeat",e=>new Xre(e),"PRIVATE")),$c(lk,aM,r),$c(lk,aM,"esm2017"),$c("fire-js","")}Zre("");var uM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ig,Aj;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(B,E){function _(){}_.prototype=E.prototype,B.D=E.prototype,B.prototype=new _,B.prototype.constructor=B,B.C=function(I,S,F){for(var N=Array(arguments.length-2),G=2;G<arguments.length;G++)N[G-2]=arguments[G];return E.prototype[S].apply(I,N)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(B,E,_){_||(_=0);var I=Array(16);if(typeof E=="string")for(var S=0;16>S;++S)I[S]=E.charCodeAt(_++)|E.charCodeAt(_++)<<8|E.charCodeAt(_++)<<16|E.charCodeAt(_++)<<24;else for(S=0;16>S;++S)I[S]=E[_++]|E[_++]<<8|E[_++]<<16|E[_++]<<24;E=B.g[0],_=B.g[1],S=B.g[2];var F=B.g[3],N=E+(F^_&(S^F))+I[0]+3614090360&4294967295;E=_+(N<<7&4294967295|N>>>25),N=F+(S^E&(_^S))+I[1]+3905402710&4294967295,F=E+(N<<12&4294967295|N>>>20),N=S+(_^F&(E^_))+I[2]+606105819&4294967295,S=F+(N<<17&4294967295|N>>>15),N=_+(E^S&(F^E))+I[3]+3250441966&4294967295,_=S+(N<<22&4294967295|N>>>10),N=E+(F^_&(S^F))+I[4]+4118548399&4294967295,E=_+(N<<7&4294967295|N>>>25),N=F+(S^E&(_^S))+I[5]+1200080426&4294967295,F=E+(N<<12&4294967295|N>>>20),N=S+(_^F&(E^_))+I[6]+2821735955&4294967295,S=F+(N<<17&4294967295|N>>>15),N=_+(E^S&(F^E))+I[7]+4249261313&4294967295,_=S+(N<<22&4294967295|N>>>10),N=E+(F^_&(S^F))+I[8]+1770035416&4294967295,E=_+(N<<7&4294967295|N>>>25),N=F+(S^E&(_^S))+I[9]+2336552879&4294967295,F=E+(N<<12&4294967295|N>>>20),N=S+(_^F&(E^_))+I[10]+4294925233&4294967295,S=F+(N<<17&4294967295|N>>>15),N=_+(E^S&(F^E))+I[11]+2304563134&4294967295,_=S+(N<<22&4294967295|N>>>10),N=E+(F^_&(S^F))+I[12]+1804603682&4294967295,E=_+(N<<7&4294967295|N>>>25),N=F+(S^E&(_^S))+I[13]+4254626195&4294967295,F=E+(N<<12&4294967295|N>>>20),N=S+(_^F&(E^_))+I[14]+2792965006&4294967295,S=F+(N<<17&4294967295|N>>>15),N=_+(E^S&(F^E))+I[15]+1236535329&4294967295,_=S+(N<<22&4294967295|N>>>10),N=E+(S^F&(_^S))+I[1]+4129170786&4294967295,E=_+(N<<5&4294967295|N>>>27),N=F+(_^S&(E^_))+I[6]+3225465664&4294967295,F=E+(N<<9&4294967295|N>>>23),N=S+(E^_&(F^E))+I[11]+643717713&4294967295,S=F+(N<<14&4294967295|N>>>18),N=_+(F^E&(S^F))+I[0]+3921069994&4294967295,_=S+(N<<20&4294967295|N>>>12),N=E+(S^F&(_^S))+I[5]+3593408605&4294967295,E=_+(N<<5&4294967295|N>>>27),N=F+(_^S&(E^_))+I[10]+38016083&4294967295,F=E+(N<<9&4294967295|N>>>23),N=S+(E^_&(F^E))+I[15]+3634488961&4294967295,S=F+(N<<14&4294967295|N>>>18),N=_+(F^E&(S^F))+I[4]+3889429448&4294967295,_=S+(N<<20&4294967295|N>>>12),N=E+(S^F&(_^S))+I[9]+568446438&4294967295,E=_+(N<<5&4294967295|N>>>27),N=F+(_^S&(E^_))+I[14]+3275163606&4294967295,F=E+(N<<9&4294967295|N>>>23),N=S+(E^_&(F^E))+I[3]+4107603335&4294967295,S=F+(N<<14&4294967295|N>>>18),N=_+(F^E&(S^F))+I[8]+1163531501&4294967295,_=S+(N<<20&4294967295|N>>>12),N=E+(S^F&(_^S))+I[13]+2850285829&4294967295,E=_+(N<<5&4294967295|N>>>27),N=F+(_^S&(E^_))+I[2]+4243563512&4294967295,F=E+(N<<9&4294967295|N>>>23),N=S+(E^_&(F^E))+I[7]+1735328473&4294967295,S=F+(N<<14&4294967295|N>>>18),N=_+(F^E&(S^F))+I[12]+2368359562&4294967295,_=S+(N<<20&4294967295|N>>>12),N=E+(_^S^F)+I[5]+4294588738&4294967295,E=_+(N<<4&4294967295|N>>>28),N=F+(E^_^S)+I[8]+2272392833&4294967295,F=E+(N<<11&4294967295|N>>>21),N=S+(F^E^_)+I[11]+1839030562&4294967295,S=F+(N<<16&4294967295|N>>>16),N=_+(S^F^E)+I[14]+4259657740&4294967295,_=S+(N<<23&4294967295|N>>>9),N=E+(_^S^F)+I[1]+2763975236&4294967295,E=_+(N<<4&4294967295|N>>>28),N=F+(E^_^S)+I[4]+1272893353&4294967295,F=E+(N<<11&4294967295|N>>>21),N=S+(F^E^_)+I[7]+4139469664&4294967295,S=F+(N<<16&4294967295|N>>>16),N=_+(S^F^E)+I[10]+3200236656&4294967295,_=S+(N<<23&4294967295|N>>>9),N=E+(_^S^F)+I[13]+681279174&4294967295,E=_+(N<<4&4294967295|N>>>28),N=F+(E^_^S)+I[0]+3936430074&4294967295,F=E+(N<<11&4294967295|N>>>21),N=S+(F^E^_)+I[3]+3572445317&4294967295,S=F+(N<<16&4294967295|N>>>16),N=_+(S^F^E)+I[6]+76029189&4294967295,_=S+(N<<23&4294967295|N>>>9),N=E+(_^S^F)+I[9]+3654602809&4294967295,E=_+(N<<4&4294967295|N>>>28),N=F+(E^_^S)+I[12]+3873151461&4294967295,F=E+(N<<11&4294967295|N>>>21),N=S+(F^E^_)+I[15]+530742520&4294967295,S=F+(N<<16&4294967295|N>>>16),N=_+(S^F^E)+I[2]+3299628645&4294967295,_=S+(N<<23&4294967295|N>>>9),N=E+(S^(_|~F))+I[0]+4096336452&4294967295,E=_+(N<<6&4294967295|N>>>26),N=F+(_^(E|~S))+I[7]+1126891415&4294967295,F=E+(N<<10&4294967295|N>>>22),N=S+(E^(F|~_))+I[14]+2878612391&4294967295,S=F+(N<<15&4294967295|N>>>17),N=_+(F^(S|~E))+I[5]+4237533241&4294967295,_=S+(N<<21&4294967295|N>>>11),N=E+(S^(_|~F))+I[12]+1700485571&4294967295,E=_+(N<<6&4294967295|N>>>26),N=F+(_^(E|~S))+I[3]+2399980690&4294967295,F=E+(N<<10&4294967295|N>>>22),N=S+(E^(F|~_))+I[10]+4293915773&4294967295,S=F+(N<<15&4294967295|N>>>17),N=_+(F^(S|~E))+I[1]+2240044497&4294967295,_=S+(N<<21&4294967295|N>>>11),N=E+(S^(_|~F))+I[8]+1873313359&4294967295,E=_+(N<<6&4294967295|N>>>26),N=F+(_^(E|~S))+I[15]+4264355552&4294967295,F=E+(N<<10&4294967295|N>>>22),N=S+(E^(F|~_))+I[6]+2734768916&4294967295,S=F+(N<<15&4294967295|N>>>17),N=_+(F^(S|~E))+I[13]+1309151649&4294967295,_=S+(N<<21&4294967295|N>>>11),N=E+(S^(_|~F))+I[4]+4149444226&4294967295,E=_+(N<<6&4294967295|N>>>26),N=F+(_^(E|~S))+I[11]+3174756917&4294967295,F=E+(N<<10&4294967295|N>>>22),N=S+(E^(F|~_))+I[2]+718787259&4294967295,S=F+(N<<15&4294967295|N>>>17),N=_+(F^(S|~E))+I[9]+3951481745&4294967295,B.g[0]=B.g[0]+E&4294967295,B.g[1]=B.g[1]+(S+(N<<21&4294967295|N>>>11))&4294967295,B.g[2]=B.g[2]+S&4294967295,B.g[3]=B.g[3]+F&4294967295}n.prototype.u=function(B,E){E===void 0&&(E=B.length);for(var _=E-this.blockSize,I=this.B,S=this.h,F=0;F<E;){if(S==0)for(;F<=_;)i(this,B,F),F+=this.blockSize;if(typeof B=="string"){for(;F<E;)if(I[S++]=B.charCodeAt(F++),S==this.blockSize){i(this,I),S=0;break}}else for(;F<E;)if(I[S++]=B[F++],S==this.blockSize){i(this,I),S=0;break}}this.h=S,this.o+=E},n.prototype.v=function(){var B=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);B[0]=128;for(var E=1;E<B.length-8;++E)B[E]=0;var _=8*this.o;for(E=B.length-8;E<B.length;++E)B[E]=_&255,_/=256;for(this.u(B),B=Array(16),E=_=0;4>E;++E)for(var I=0;32>I;I+=8)B[_++]=this.g[E]>>>I&255;return B};function s(B,E){var _=o;return Object.prototype.hasOwnProperty.call(_,B)?_[B]:_[B]=E(B)}function a(B,E){this.h=E;for(var _=[],I=!0,S=B.length-1;0<=S;S--){var F=B[S]|0;I&&F==E||(_[S]=F,I=!1)}this.g=_}var o={};function A(B){return-128<=B&&128>B?s(B,function(E){return new a([E|0],0>E?-1:0)}):new a([B|0],0>B?-1:0)}function l(B){if(isNaN(B)||!isFinite(B))return u;if(0>B)return v(l(-B));for(var E=[],_=1,I=0;B>=_;I++)E[I]=B/_|0,_*=4294967296;return new a(E,0)}function c(B,E){if(B.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(B.charAt(0)=="-")return v(c(B.substring(1),E));if(0<=B.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(E,8)),I=u,S=0;S<B.length;S+=8){var F=Math.min(8,B.length-S),N=parseInt(B.substring(S,S+F),E);8>F?(F=l(Math.pow(E,F)),I=I.j(F).add(l(N))):(I=I.j(_),I=I.add(l(N)))}return I}var u=A(0),h=A(1),f=A(16777216);r=a.prototype,r.m=function(){if(p(this))return-v(this).m();for(var B=0,E=1,_=0;_<this.g.length;_++){var I=this.i(_);B+=(0<=I?I:4294967296+I)*E,E*=4294967296}return B},r.toString=function(B){if(B=B||10,2>B||36<B)throw Error("radix out of range: "+B);if(d(this))return"0";if(p(this))return"-"+v(this).toString(B);for(var E=l(Math.pow(B,6)),_=this,I="";;){var S=T(_,E).g;_=m(_,S.j(E));var F=((0<_.g.length?_.g[0]:_.h)>>>0).toString(B);if(_=S,d(_))return F+I;for(;6>F.length;)F="0"+F;I=F+I}},r.i=function(B){return 0>B?0:B<this.g.length?this.g[B]:this.h};function d(B){if(B.h!=0)return!1;for(var E=0;E<B.g.length;E++)if(B.g[E]!=0)return!1;return!0}function p(B){return B.h==-1}r.l=function(B){return B=m(this,B),p(B)?-1:d(B)?0:1};function v(B){for(var E=B.g.length,_=[],I=0;I<E;I++)_[I]=~B.g[I];return new a(_,~B.h).add(h)}r.abs=function(){return p(this)?v(this):this},r.add=function(B){for(var E=Math.max(this.g.length,B.g.length),_=[],I=0,S=0;S<=E;S++){var F=I+(this.i(S)&65535)+(B.i(S)&65535),N=(F>>>16)+(this.i(S)>>>16)+(B.i(S)>>>16);I=N>>>16,F&=65535,N&=65535,_[S]=N<<16|F}return new a(_,_[_.length-1]&-2147483648?-1:0)};function m(B,E){return B.add(v(E))}r.j=function(B){if(d(this)||d(B))return u;if(p(this))return p(B)?v(this).j(v(B)):v(v(this).j(B));if(p(B))return v(this.j(v(B)));if(0>this.l(f)&&0>B.l(f))return l(this.m()*B.m());for(var E=this.g.length+B.g.length,_=[],I=0;I<2*E;I++)_[I]=0;for(I=0;I<this.g.length;I++)for(var S=0;S<B.g.length;S++){var F=this.i(I)>>>16,N=this.i(I)&65535,G=B.i(S)>>>16,le=B.i(S)&65535;_[2*I+2*S]+=N*le,x(_,2*I+2*S),_[2*I+2*S+1]+=F*le,x(_,2*I+2*S+1),_[2*I+2*S+1]+=N*G,x(_,2*I+2*S+1),_[2*I+2*S+2]+=F*G,x(_,2*I+2*S+2)}for(I=0;I<E;I++)_[I]=_[2*I+1]<<16|_[2*I];for(I=E;I<2*E;I++)_[I]=0;return new a(_,0)};function x(B,E){for(;(B[E]&65535)!=B[E];)B[E+1]+=B[E]>>>16,B[E]&=65535,E++}function b(B,E){this.g=B,this.h=E}function T(B,E){if(d(E))throw Error("division by zero");if(d(B))return new b(u,u);if(p(B))return E=T(v(B),E),new b(v(E.g),v(E.h));if(p(E))return E=T(B,v(E)),new b(v(E.g),E.h);if(30<B.g.length){if(p(B)||p(E))throw Error("slowDivide_ only works with positive integers.");for(var _=h,I=E;0>=I.l(B);)_=R(_),I=R(I);var S=P(_,1),F=P(I,1);for(I=P(I,2),_=P(_,2);!d(I);){var N=F.add(I);0>=N.l(B)&&(S=S.add(_),F=N),I=P(I,1),_=P(_,1)}return E=m(B,S.j(E)),new b(S,E)}for(S=u;0<=B.l(E);){for(_=Math.max(1,Math.floor(B.m()/E.m())),I=Math.ceil(Math.log(_)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),F=l(_),N=F.j(E);p(N)||0<N.l(B);)_-=I,F=l(_),N=F.j(E);d(F)&&(F=h),S=S.add(F),B=m(B,N)}return new b(S,B)}r.A=function(B){return T(this,B).h},r.and=function(B){for(var E=Math.max(this.g.length,B.g.length),_=[],I=0;I<E;I++)_[I]=this.i(I)&B.i(I);return new a(_,this.h&B.h)},r.or=function(B){for(var E=Math.max(this.g.length,B.g.length),_=[],I=0;I<E;I++)_[I]=this.i(I)|B.i(I);return new a(_,this.h|B.h)},r.xor=function(B){for(var E=Math.max(this.g.length,B.g.length),_=[],I=0;I<E;I++)_[I]=this.i(I)^B.i(I);return new a(_,this.h^B.h)};function R(B){for(var E=B.g.length+1,_=[],I=0;I<E;I++)_[I]=B.i(I)<<1|B.i(I-1)>>>31;return new a(_,B.h)}function P(B,E){var _=E>>5;E%=32;for(var I=B.g.length-_,S=[],F=0;F<I;F++)S[F]=0<E?B.i(F+_)>>>E|B.i(F+_+1)<<32-E:B.i(F+_);return new a(S,B.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,Aj=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=l,a.fromString=c,ig=a}).apply(typeof uM<"u"?uM:typeof self<"u"?self:typeof window<"u"?window:{});var rE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lj,Xw,cj,bC,hk,uj,hj,fj;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(y,U,j){return y==Array.prototype||y==Object.prototype||(y[U]=j.value),y};function t(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof rE=="object"&&rE];for(var U=0;U<y.length;++U){var j=y[U];if(j&&j.Math==Math)return j}throw Error("Cannot find global object")}var n=t(this);function i(y,U){if(U)e:{var j=n;y=y.split(".");for(var ae=0;ae<y.length-1;ae++){var ke=y[ae];if(!(ke in j))break e;j=j[ke]}y=y[y.length-1],ae=j[y],U=U(ae),U!=ae&&U!=null&&e(j,y,{configurable:!0,writable:!0,value:U})}}function s(y,U){y instanceof String&&(y+="");var j=0,ae=!1,ke={next:function(){if(!ae&&j<y.length){var Qe=j++;return{value:U(Qe,y[Qe]),done:!1}}return ae=!0,{done:!0,value:void 0}}};return ke[Symbol.iterator]=function(){return ke},ke}i("Array.prototype.values",function(y){return y||function(){return s(this,function(U,j){return j})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function A(y){var U=typeof y;return U=U!="object"?U:y?Array.isArray(y)?"array":U:"null",U=="array"||U=="object"&&typeof y.length=="number"}function l(y){var U=typeof y;return U=="object"&&y!=null||U=="function"}function c(y,U,j){return y.call.apply(y.bind,arguments)}function u(y,U,j){if(!y)throw Error();if(2<arguments.length){var ae=Array.prototype.slice.call(arguments,2);return function(){var ke=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ke,ae),y.apply(U,ke)}}return function(){return y.apply(U,arguments)}}function h(y,U,j){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:u,h.apply(null,arguments)}function f(y,U){var j=Array.prototype.slice.call(arguments,1);return function(){var ae=j.slice();return ae.push.apply(ae,arguments),y.apply(this,ae)}}function d(y,U){function j(){}j.prototype=U.prototype,y.aa=U.prototype,y.prototype=new j,y.prototype.constructor=y,y.Qb=function(ae,ke,Qe){for(var ot=Array(arguments.length-2),Pr=2;Pr<arguments.length;Pr++)ot[Pr-2]=arguments[Pr];return U.prototype[ke].apply(ae,ot)}}function p(y){const U=y.length;if(0<U){const j=Array(U);for(let ae=0;ae<U;ae++)j[ae]=y[ae];return j}return[]}function v(y,U){for(let j=1;j<arguments.length;j++){const ae=arguments[j];if(A(ae)){const ke=y.length||0,Qe=ae.length||0;y.length=ke+Qe;for(let ot=0;ot<Qe;ot++)y[ke+ot]=ae[ot]}else y.push(ae)}}class m{constructor(U,j){this.i=U,this.j=j,this.h=0,this.g=null}get(){let U;return 0<this.h?(this.h--,U=this.g,this.g=U.next,U.next=null):U=this.i(),U}}function x(y){return/^[\s\xa0]*$/.test(y)}function b(){var y=o.navigator;return y&&(y=y.userAgent)?y:""}function T(y){return T[" "](y),y}T[" "]=function(){};var R=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function P(y,U,j){for(const ae in y)U.call(j,y[ae],ae,y)}function B(y,U){for(const j in y)U.call(void 0,y[j],j,y)}function E(y){const U={};for(const j in y)U[j]=y[j];return U}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(y,U){let j,ae;for(let ke=1;ke<arguments.length;ke++){ae=arguments[ke];for(j in ae)y[j]=ae[j];for(let Qe=0;Qe<_.length;Qe++)j=_[Qe],Object.prototype.hasOwnProperty.call(ae,j)&&(y[j]=ae[j])}}function S(y){var U=1;y=y.split(":");const j=[];for(;0<U&&y.length;)j.push(y.shift()),U--;return y.length&&j.push(y.join(":")),j}function F(y){o.setTimeout(()=>{throw y},0)}function N(){var y=W;let U=null;return y.g&&(U=y.g,y.g=y.g.next,y.g||(y.h=null),U.next=null),U}class G{constructor(){this.h=this.g=null}add(U,j){const ae=le.get();ae.set(U,j),this.h?this.h.next=ae:this.g=ae,this.h=ae}}var le=new m(()=>new ie,y=>y.reset());class ie{constructor(){this.next=this.g=this.h=null}set(U,j){this.h=U,this.g=j,this.next=null}reset(){this.next=this.g=this.h=null}}let te,J=!1,W=new G,be=()=>{const y=o.Promise.resolve(void 0);te=()=>{y.then(xe)}};var xe=()=>{for(var y;y=N();){try{y.h.call(y.g)}catch(j){F(j)}var U=le;U.j(y),100>U.h&&(U.h++,y.next=U.g,U.g=y)}J=!1};function L(){this.s=this.s,this.C=this.C}L.prototype.s=!1,L.prototype.ma=function(){this.s||(this.s=!0,this.N())},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(y,U){this.type=y,this.g=this.target=U,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var H=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var y=!1,U=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const j=()=>{};o.addEventListener("test",j,U),o.removeEventListener("test",j,U)}catch{}return y}();function Q(y,U){if(O.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y){var j=this.type=y.type,ae=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;if(this.target=y.target||y.srcElement,this.g=U,U=y.relatedTarget){if(R){e:{try{T(U.nodeName);var ke=!0;break e}catch{}ke=!1}ke||(U=null)}}else j=="mouseover"?U=y.fromElement:j=="mouseout"&&(U=y.toElement);this.relatedTarget=U,ae?(this.clientX=ae.clientX!==void 0?ae.clientX:ae.pageX,this.clientY=ae.clientY!==void 0?ae.clientY:ae.pageY,this.screenX=ae.screenX||0,this.screenY=ae.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=typeof y.pointerType=="string"?y.pointerType:Y[y.pointerType]||"",this.state=y.state,this.i=y,y.defaultPrevented&&Q.aa.h.call(this)}}d(Q,O);var Y={2:"touch",3:"pen",4:"mouse"};Q.prototype.h=function(){Q.aa.h.call(this);var y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var oe="closure_listenable_"+(1e6*Math.random()|0),de=0;function fe(y,U,j,ae,ke){this.listener=y,this.proxy=null,this.src=U,this.type=j,this.capture=!!ae,this.ha=ke,this.key=++de,this.da=this.fa=!1}function _e(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function Se(y){this.src=y,this.g={},this.h=0}Se.prototype.add=function(y,U,j,ae,ke){var Qe=y.toString();y=this.g[Qe],y||(y=this.g[Qe]=[],this.h++);var ot=$e(y,U,ae,ke);return-1<ot?(U=y[ot],j||(U.fa=!1)):(U=new fe(U,this.src,Qe,!!ae,ke),U.fa=j,y.push(U)),U};function ne(y,U){var j=U.type;if(j in y.g){var ae=y.g[j],ke=Array.prototype.indexOf.call(ae,U,void 0),Qe;(Qe=0<=ke)&&Array.prototype.splice.call(ae,ke,1),Qe&&(_e(U),y.g[j].length==0&&(delete y.g[j],y.h--))}}function $e(y,U,j,ae){for(var ke=0;ke<y.length;++ke){var Qe=y[ke];if(!Qe.da&&Qe.listener==U&&Qe.capture==!!j&&Qe.ha==ae)return ke}return-1}var Be="closure_lm_"+(1e6*Math.random()|0),ue={};function Xe(y,U,j,ae,ke){if(Array.isArray(U)){for(var Qe=0;Qe<U.length;Qe++)Xe(y,U[Qe],j,ae,ke);return null}return j=Et(j),y&&y[oe]?y.K(U,j,l(ae)?!!ae.capture:!1,ke):je(y,U,j,!1,ae,ke)}function je(y,U,j,ae,ke,Qe){if(!U)throw Error("Invalid event type");var ot=l(ke)?!!ke.capture:!!ke,Pr=gt(y);if(Pr||(y[Be]=Pr=new Se(y)),j=Pr.add(U,j,ae,ot,Qe),j.proxy)return j;if(ae=qe(),j.proxy=ae,ae.src=y,ae.listener=j,y.addEventListener)H||(ke=ot),ke===void 0&&(ke=!1),y.addEventListener(U.toString(),ae,ke);else if(y.attachEvent)y.attachEvent(nt(U.toString()),ae);else if(y.addListener&&y.removeListener)y.addListener(ae);else throw Error("addEventListener and attachEvent are unavailable.");return j}function qe(){function y(j){return U.call(y.src,y.listener,j)}const U=Nt;return y}function Ve(y,U,j,ae,ke){if(Array.isArray(U))for(var Qe=0;Qe<U.length;Qe++)Ve(y,U[Qe],j,ae,ke);else ae=l(ae)?!!ae.capture:!!ae,j=Et(j),y&&y[oe]?(y=y.i,U=String(U).toString(),U in y.g&&(Qe=y.g[U],j=$e(Qe,j,ae,ke),-1<j&&(_e(Qe[j]),Array.prototype.splice.call(Qe,j,1),Qe.length==0&&(delete y.g[U],y.h--)))):y&&(y=gt(y))&&(U=y.g[U.toString()],y=-1,U&&(y=$e(U,j,ae,ke)),(j=-1<y?U[y]:null)&&ht(j))}function ht(y){if(typeof y!="number"&&y&&!y.da){var U=y.src;if(U&&U[oe])ne(U.i,y);else{var j=y.type,ae=y.proxy;U.removeEventListener?U.removeEventListener(j,ae,y.capture):U.detachEvent?U.detachEvent(nt(j),ae):U.addListener&&U.removeListener&&U.removeListener(ae),(j=gt(U))?(ne(j,y),j.h==0&&(j.src=null,U[Be]=null)):_e(y)}}}function nt(y){return y in ue?ue[y]:ue[y]="on"+y}function Nt(y,U){if(y.da)y=!0;else{U=new Q(U,this);var j=y.listener,ae=y.ha||y.src;y.fa&&ht(y),y=j.call(ae,U)}return y}function gt(y){return y=y[Be],y instanceof Se?y:null}var Bt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Et(y){return typeof y=="function"?y:(y[Bt]||(y[Bt]=function(U){return y.handleEvent(U)}),y[Bt])}function At(){L.call(this),this.i=new Se(this),this.M=this,this.F=null}d(At,L),At.prototype[oe]=!0,At.prototype.removeEventListener=function(y,U,j,ae){Ve(this,y,U,j,ae)};function Ft(y,U){var j,ae=y.F;if(ae)for(j=[];ae;ae=ae.F)j.push(ae);if(y=y.M,ae=U.type||U,typeof U=="string")U=new O(U,y);else if(U instanceof O)U.target=U.target||y;else{var ke=U;U=new O(ae,y),I(U,ke)}if(ke=!0,j)for(var Qe=j.length-1;0<=Qe;Qe--){var ot=U.g=j[Qe];ke=mt(ot,ae,!0,U)&&ke}if(ot=U.g=y,ke=mt(ot,ae,!0,U)&&ke,ke=mt(ot,ae,!1,U)&&ke,j)for(Qe=0;Qe<j.length;Qe++)ot=U.g=j[Qe],ke=mt(ot,ae,!1,U)&&ke}At.prototype.N=function(){if(At.aa.N.call(this),this.i){var y=this.i,U;for(U in y.g){for(var j=y.g[U],ae=0;ae<j.length;ae++)_e(j[ae]);delete y.g[U],y.h--}}this.F=null},At.prototype.K=function(y,U,j,ae){return this.i.add(String(y),U,!1,j,ae)},At.prototype.L=function(y,U,j,ae){return this.i.add(String(y),U,!0,j,ae)};function mt(y,U,j,ae){if(U=y.i.g[String(U)],!U)return!0;U=U.concat();for(var ke=!0,Qe=0;Qe<U.length;++Qe){var ot=U[Qe];if(ot&&!ot.da&&ot.capture==j){var Pr=ot.listener,ti=ot.ha||ot.src;ot.fa&&ne(y.i,ot),ke=Pr.call(ti,ae)!==!1&&ke}}return ke&&!ae.defaultPrevented}function vt(y,U,j){if(typeof y=="function")j&&(y=h(y,j));else if(y&&typeof y.handleEvent=="function")y=h(y.handleEvent,y);else throw Error("Invalid listener argument");return 2147483647<Number(U)?-1:o.setTimeout(y,U||0)}function at(y){y.g=vt(()=>{y.g=null,y.i&&(y.i=!1,at(y))},y.l);const U=y.h;y.h=null,y.m.apply(null,U)}class ct extends L{constructor(U,j){super(),this.m=U,this.l=j,this.h=null,this.i=!1,this.g=null}j(U){this.h=arguments,this.g?this.i=!0:at(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jt(y){L.call(this),this.h=y,this.g={}}d(jt,L);var Mt=[];function wt(y){P(y.g,function(U,j){this.g.hasOwnProperty(j)&&ht(U)},y),y.g={}}jt.prototype.N=function(){jt.aa.N.call(this),wt(this)},jt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jt=o.JSON.stringify,Jr=o.JSON.parse,Wt=class{stringify(y){return o.JSON.stringify(y,void 0)}parse(y){return o.JSON.parse(y,void 0)}};function fr(){}fr.prototype.h=null;function Zt(y){return y.h||(y.h=y.i())}function wn(){}var yn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jr(){O.call(this,"d")}d(jr,O);function Gt(){O.call(this,"c")}d(Gt,O);var xr={},BA=null;function Yn(){return BA=BA||new At}xr.La="serverreachability";function Ao(y){O.call(this,xr.La,y)}d(Ao,O);function fs(y){const U=Yn();Ft(U,new Ao(U))}xr.STAT_EVENT="statevent";function zt(y,U){O.call(this,xr.STAT_EVENT,y),this.stat=U}d(zt,O);function xn(y){const U=Yn();Ft(U,new zt(U,y))}xr.Ma="timingevent";function lo(y,U){O.call(this,xr.Ma,y),this.size=U}d(lo,O);function li(y,U){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){y()},U)}function Ui(){this.g=!0}Ui.prototype.xa=function(){this.g=!1};function Bn(y,U,j,ae,ke,Qe){y.info(function(){if(y.g)if(Qe)for(var ot="",Pr=Qe.split("&"),ti=0;ti<Pr.length;ti++){var Er=Pr[ti].split("=");if(1<Er.length){var br=Er[0];Er=Er[1];var Tn=br.split("_");ot=2<=Tn.length&&Tn[1]=="type"?ot+(br+"="+Er+"&"):ot+(br+"=redacted&")}}else ot=null;else ot=Qe;return"XMLHTTP REQ ("+ae+") [attempt "+ke+"]: "+U+`
`+j+`
`+ot})}function ci(y,U,j,ae,ke,Qe,ot){y.info(function(){return"XMLHTTP RESP ("+ae+") [ attempt "+ke+"]: "+U+`
`+j+`
`+Qe+" "+ot})}function q(y,U,j,ae){y.info(function(){return"XMLHTTP TEXT ("+U+"): "+Ae(y,j)+(ae?" "+ae:"")})}function me(y,U){y.info(function(){return"TIMEOUT: "+U})}Ui.prototype.info=function(){};function Ae(y,U){if(!y.g)return U;if(!U)return null;try{var j=JSON.parse(U);if(j){for(y=0;y<j.length;y++)if(Array.isArray(j[y])){var ae=j[y];if(!(2>ae.length)){var ke=ae[1];if(Array.isArray(ke)&&!(1>ke.length)){var Qe=ke[0];if(Qe!="noop"&&Qe!="stop"&&Qe!="close")for(var ot=1;ot<ke.length;ot++)ke[ot]=""}}}}return Jt(j)}catch{return U}}var he={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ye;function Pe(){}d(Pe,fr),Pe.prototype.g=function(){return new XMLHttpRequest},Pe.prototype.i=function(){return{}},ye=new Pe;function He(y,U,j,ae){this.j=y,this.i=U,this.l=j,this.R=ae||1,this.U=new jt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Re}function Re(){this.i=null,this.g="",this.h=!1}var Ne={},Me={};function et(y,U,j){y.L=1,y.v=uu(Ua(U)),y.m=j,y.P=!0,lt(y,null)}function lt(y,U){y.F=Date.now(),ut(y),y.A=Ua(y.v);var j=y.A,ae=y.R;Array.isArray(ae)||(ae=[String(ae)]),er(j.i,"t",ae),y.C=0,j=y.j.J,y.h=new Re,y.g=ui(y.j,j?U:null,!y.m),0<y.O&&(y.M=new ct(h(y.Y,y,y.g),y.O)),U=y.U,j=y.g,ae=y.ca;var ke="readystatechange";Array.isArray(ke)||(ke&&(Mt[0]=ke.toString()),ke=Mt);for(var Qe=0;Qe<ke.length;Qe++){var ot=Xe(j,ke[Qe],ae||U.handleEvent,!1,U.h||U);if(!ot)break;U.g[ot.key]=ot}U=y.H?E(y.H):{},y.m?(y.u||(y.u="POST"),U["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.A,y.u,y.m,U)):(y.u="GET",y.g.ea(y.A,y.u,null,U)),fs(),Bn(y.i,y.u,y.A,y.l,y.R,y.m)}He.prototype.ca=function(y){y=y.target;const U=this.M;U&&po(y)==3?U.j():this.Y(y)},He.prototype.Y=function(y){try{if(y==this.g)e:{const Tn=po(this.g);var U=this.g.Ba();const Qo=this.g.Z();if(!(3>Tn)&&(Tn!=3||this.g&&(this.h.h||this.g.oa()||p0(this.g)))){this.J||Tn!=4||U==7||(U==8||0>=Qo?fs(3):fs(2)),$r(this);var j=this.g.Z();this.X=j;t:if(dt(this)){var ae=p0(this.g);y="";var ke=ae.length,Qe=po(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tn(this),dr(this);var ot="";break t}this.h.i=new o.TextDecoder}for(U=0;U<ke;U++)this.h.h=!0,y+=this.h.i.decode(ae[U],{stream:!(Qe&&U==ke-1)});ae.length=0,this.h.g+=y,this.C=0,ot=this.h.g}else ot=this.g.oa();if(this.o=j==200,ci(this.i,this.u,this.A,this.l,this.R,Tn,j),this.o){if(this.T&&!this.K){t:{if(this.g){var Pr,ti=this.g;if((Pr=ti.g?ti.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(Pr)){var Er=Pr;break t}}Er=null}if(j=Er)q(this.i,this.l,j,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,co(this,j);else{this.o=!1,this.s=3,xn(12),tn(this),dr(this);break e}}if(this.P){j=!0;let ea;for(;!this.J&&this.C<ot.length;)if(ea=it(this,ot),ea==Me){Tn==4&&(this.s=4,xn(14),j=!1),q(this.i,this.l,null,"[Incomplete Response]");break}else if(ea==Ne){this.s=4,xn(15),q(this.i,this.l,ot,"[Invalid Chunk]"),j=!1;break}else q(this.i,this.l,ea,null),co(this,ea);if(dt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tn!=4||ot.length!=0||this.h.h||(this.s=1,xn(16),j=!1),this.o=this.o&&j,!j)q(this.i,this.l,ot,"[Invalid Chunked Response]"),tn(this),dr(this);else if(0<ot.length&&!this.W){this.W=!0;var br=this.j;br.g==this&&br.ba&&!br.M&&(br.j.info("Great, no buffering proxy detected. Bytes received: "+ot.length),Ct(br),br.M=!0,xn(11))}}else q(this.i,this.l,ot,null),co(this,ot);Tn==4&&tn(this),this.o&&!this.J&&(Tn==4?rr(this.j,this):(this.o=!1,ut(this)))}else hl(this.g),j==400&&0<ot.indexOf("Unknown SID")?(this.s=3,xn(12)):(this.s=0,xn(13)),tn(this),dr(this)}}}catch{}finally{}};function dt(y){return y.g?y.u=="GET"&&y.L!=2&&y.j.Ca:!1}function it(y,U){var j=y.C,ae=U.indexOf(`
`,j);return ae==-1?Me:(j=Number(U.substring(j,ae)),isNaN(j)?Ne:(ae+=1,ae+j>U.length?Me:(U=U.slice(ae,ae+j),y.C=ae+j,U)))}He.prototype.cancel=function(){this.J=!0,tn(this)};function ut(y){y.S=Date.now()+y.I,qt(y,y.I)}function qt(y,U){if(y.B!=null)throw Error("WatchDog timer not null");y.B=li(h(y.ba,y),U)}function $r(y){y.B&&(o.clearTimeout(y.B),y.B=null)}He.prototype.ba=function(){this.B=null;const y=Date.now();0<=y-this.S?(me(this.i,this.A),this.L!=2&&(fs(),xn(17)),tn(this),this.s=2,dr(this)):qt(this,this.S-y)};function dr(y){y.j.G==0||y.J||rr(y.j,y)}function tn(y){$r(y);var U=y.M;U&&typeof U.ma=="function"&&U.ma(),y.M=null,wt(y.U),y.g&&(U=y.g,y.g=null,U.abort(),U.ma())}function co(y,U){try{var j=y.j;if(j.G!=0&&(j.g==y||Mi(j.h,y))){if(!y.K&&Mi(j.h,y)&&j.G==3){try{var ae=j.Da.g.parse(U)}catch{ae=null}if(Array.isArray(ae)&&ae.length==3){var ke=ae;if(ke[0]==0){e:if(!j.u){if(j.g)if(j.g.F+3e3<y.F)Xt(j),FA(j);else break e;Je(j),xn(18)}}else j.za=ke[1],0<j.za-j.T&&37500>ke[2]&&j.F&&j.v==0&&!j.C&&(j.C=li(h(j.Za,j),6e3));if(1>=Al(j.h)&&j.ca){try{j.ca()}catch{}j.ca=void 0}}else Zr(j,11)}else if((y.K||j.g==y)&&Xt(j),!x(U))for(ke=j.Da.g.parse(U),U=0;U<ke.length;U++){let Er=ke[U];if(j.T=Er[0],Er=Er[1],j.G==2)if(Er[0]=="c"){j.K=Er[1],j.ia=Er[2];const br=Er[3];br!=null&&(j.la=br,j.j.info("VER="+j.la));const Tn=Er[4];Tn!=null&&(j.Aa=Tn,j.j.info("SVER="+j.Aa));const Qo=Er[5];Qo!=null&&typeof Qo=="number"&&0<Qo&&(ae=1.5*Qo,j.L=ae,j.j.info("backChannelRequestTimeoutMs_="+ae)),ae=j;const ea=y.g;if(ea){const Is=ea.g?ea.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Is){var Qe=ae.h;Qe.g||Is.indexOf("spdy")==-1&&Is.indexOf("quic")==-1&&Is.indexOf("h2")==-1||(Qe.j=Qe.l,Qe.g=new Set,Qe.h&&(l0(Qe,Qe.h),Qe.h=null))}if(ae.D){const fl=ea.g?ea.g.getResponseHeader("X-HTTP-Session-Id"):null;fl&&(ae.ya=fl,Fr(ae.I,ae.D,fl))}}j.G=3,j.l&&j.l.ua(),j.ba&&(j.R=Date.now()-y.F,j.j.info("Handshake RTT: "+j.R+"ms")),ae=j;var ot=y;if(ae.qa=an(ae,ae.J?ae.ia:null,ae.W),ot.K){Jn(ae.h,ot);var Pr=ot,ti=ae.L;ti&&(Pr.I=ti),Pr.B&&($r(Pr),ut(Pr)),ae.g=ot}else ze(ae);0<j.i.length&&k(j)}else Er[0]!="stop"&&Er[0]!="close"||Zr(j,7);else j.G==3&&(Er[0]=="stop"||Er[0]=="close"?Er[0]=="stop"?Zr(j,7):Yh(j):Er[0]!="noop"&&j.l&&j.l.ta(Er),j.v=0)}}fs(4)}catch{}}var Do=class{constructor(y,U){this.g=y,this.map=U}};function Uo(y){this.l=y||10,o.PerformanceNavigationTiming?(y=o.performance.getEntriesByType("navigation"),y=0<y.length&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Da(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function Al(y){return y.h?1:y.g?y.g.size:0}function Mi(y,U){return y.h?y.h==U:y.g?y.g.has(U):!1}function l0(y,U){y.g?y.g.add(U):y.h=U}function Jn(y,U){y.h&&y.h==U?y.h=null:y.g&&y.g.has(U)&&y.g.delete(U)}Uo.prototype.cancel=function(){if(this.i=c0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function c0(y){if(y.h!=null)return y.i.concat(y.h.D);if(y.g!=null&&y.g.size!==0){let U=y.i;for(const j of y.g.values())U=U.concat(j.D);return U}return p(y.i)}function Gg(y){if(y.V&&typeof y.V=="function")return y.V();if(typeof Map<"u"&&y instanceof Map||typeof Set<"u"&&y instanceof Set)return Array.from(y.values());if(typeof y=="string")return y.split("");if(A(y)){for(var U=[],j=y.length,ae=0;ae<j;ae++)U.push(y[ae]);return U}U=[],j=0;for(ae in y)U[j++]=y[ae];return U}function ll(y){if(y.na&&typeof y.na=="function")return y.na();if(!y.V||typeof y.V!="function"){if(typeof Map<"u"&&y instanceof Map)return Array.from(y.keys());if(!(typeof Set<"u"&&y instanceof Set)){if(A(y)||typeof y=="string"){var U=[];y=y.length;for(var j=0;j<y;j++)U.push(j);return U}U=[],j=0;for(const ae in y)U[j++]=ae;return U}}}function ic(y,U){if(y.forEach&&typeof y.forEach=="function")y.forEach(U,void 0);else if(A(y)||typeof y=="string")Array.prototype.forEach.call(y,U,void 0);else for(var j=ll(y),ae=Gg(y),ke=ae.length,Qe=0;Qe<ke;Qe++)U.call(void 0,ae[Qe],j&&j[Qe],y)}var uo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cu(y,U){if(y){y=y.split("&");for(var j=0;j<y.length;j++){var ae=y[j].indexOf("="),ke=null;if(0<=ae){var Qe=y[j].substring(0,ae);ke=y[j].substring(ae+1)}else Qe=y[j];U(Qe,ke?decodeURIComponent(ke.replace(/\+/g," ")):"")}}}function sn(y){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,y instanceof sn){this.h=y.h,zh(this,y.j),this.o=y.o,this.g=y.g,Wh(this,y.s),this.l=y.l;var U=y.i,j=new fo;j.i=U.i,U.g&&(j.g=new Map(U.g),j.h=U.h),$g(this,j),this.m=y.m}else y&&(U=String(y).match(uo))?(this.h=!1,zh(this,U[1]||"",!0),this.o=sc(U[2]||""),this.g=sc(U[3]||"",!0),Wh(this,U[4]),this.l=sc(U[5]||"",!0),$g(this,U[6]||"",!0),this.m=sc(U[7]||"")):(this.h=!1,this.i=new fo(null,this.h))}sn.prototype.toString=function(){var y=[],U=this.j;U&&y.push(ho(U,qg,!0),":");var j=this.g;return(j||U=="file")&&(y.push("//"),(U=this.o)&&y.push(ho(U,qg,!0),"@"),y.push(encodeURIComponent(String(j)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),j=this.s,j!=null&&y.push(":",String(j))),(j=this.l)&&(this.g&&j.charAt(0)!="/"&&y.push("/"),y.push(ho(j,j.charAt(0)=="/"?nw:rw,!0))),(j=this.i.toString())&&y.push("?",j),(j=this.m)&&y.push("#",ho(j,hu)),y.join("")};function Ua(y){return new sn(y)}function zh(y,U,j){y.j=j?sc(U,!0):U,y.j&&(y.j=y.j.replace(/:$/,""))}function Wh(y,U){if(U){if(U=Number(U),isNaN(U)||0>U)throw Error("Bad port number "+U);y.s=U}else y.s=null}function $g(y,U,j){U instanceof fo?(y.i=U,iw(y.i,y.h)):(j||(U=ho(U,h0)),y.i=new fo(U,y.h))}function Fr(y,U,j){y.i.set(U,j)}function uu(y){return Fr(y,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),y}function sc(y,U){return y?U?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function ho(y,U,j){return typeof y=="string"?(y=encodeURI(y).replace(U,u0),j&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function u0(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var qg=/[#\/\?@]/g,rw=/[#\?:]/g,nw=/[#\?]/g,h0=/[#\?@]/g,hu=/#/g;function fo(y,U){this.h=this.g=null,this.i=y||null,this.j=!!U}function SA(y){y.g||(y.g=new Map,y.h=0,y.i&&cu(y.i,function(U,j){y.add(decodeURIComponent(U.replace(/\+/g," ")),j)}))}r=fo.prototype,r.add=function(y,U){SA(this),this.i=null,y=oc(this,y);var j=this.g.get(y);return j||this.g.set(y,j=[]),j.push(U),this.h+=1,this};function ac(y,U){SA(y),U=oc(y,U),y.g.has(U)&&(y.i=null,y.h-=y.g.get(U).length,y.g.delete(U))}function Gh(y,U){return SA(y),U=oc(y,U),y.g.has(U)}r.forEach=function(y,U){SA(this),this.g.forEach(function(j,ae){j.forEach(function(ke){y.call(U,ke,ae,this)},this)},this)},r.na=function(){SA(this);const y=Array.from(this.g.values()),U=Array.from(this.g.keys()),j=[];for(let ae=0;ae<U.length;ae++){const ke=y[ae];for(let Qe=0;Qe<ke.length;Qe++)j.push(U[ae])}return j},r.V=function(y){SA(this);let U=[];if(typeof y=="string")Gh(this,y)&&(U=U.concat(this.g.get(oc(this,y))));else{y=Array.from(this.g.values());for(let j=0;j<y.length;j++)U=U.concat(y[j])}return U},r.set=function(y,U){return SA(this),this.i=null,y=oc(this,y),Gh(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[U]),this.h+=1,this},r.get=function(y,U){return y?(y=this.V(y),0<y.length?String(y[0]):U):U};function er(y,U,j){ac(y,U),0<j.length&&(y.i=null,y.g.set(oc(y,U),p(j)),y.h+=j.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],U=Array.from(this.g.keys());for(var j=0;j<U.length;j++){var ae=U[j];const Qe=encodeURIComponent(String(ae)),ot=this.V(ae);for(ae=0;ae<ot.length;ae++){var ke=Qe;ot[ae]!==""&&(ke+="="+encodeURIComponent(String(ot[ae]))),y.push(ke)}}return this.i=y.join("&")};function oc(y,U){return U=String(U),y.j&&(U=U.toLowerCase()),U}function iw(y,U){U&&!y.j&&(SA(y),y.i=null,y.g.forEach(function(j,ae){var ke=ae.toLowerCase();ae!=ke&&(ac(this,ae),er(this,ke,j))},y)),y.j=U}function sw(y,U){const j=new Ui;if(o.Image){const ae=new Image;ae.onload=f(ds,j,"TestLoadImage: loaded",!0,U,ae),ae.onerror=f(ds,j,"TestLoadImage: error",!1,U,ae),ae.onabort=f(ds,j,"TestLoadImage: abort",!1,U,ae),ae.ontimeout=f(ds,j,"TestLoadImage: timeout",!1,U,ae),o.setTimeout(function(){ae.ontimeout&&ae.ontimeout()},1e4),ae.src=y}else U(!1)}function aw(y,U){const j=new Ui,ae=new AbortController,ke=setTimeout(()=>{ae.abort(),ds(j,"TestPingServer: timeout",!1,U)},1e4);fetch(y,{signal:ae.signal}).then(Qe=>{clearTimeout(ke),Qe.ok?ds(j,"TestPingServer: ok",!0,U):ds(j,"TestPingServer: server error",!1,U)}).catch(()=>{clearTimeout(ke),ds(j,"TestPingServer: error",!1,U)})}function ds(y,U,j,ae,ke){try{ke&&(ke.onload=null,ke.onerror=null,ke.onabort=null,ke.ontimeout=null),ae(j)}catch{}}function cl(){this.g=new Wt}function ow(y,U,j){const ae=j||"";try{ic(y,function(ke,Qe){let ot=ke;l(ke)&&(ot=Jt(ke)),U.push(ae+Qe+"="+encodeURIComponent(ot))})}catch(ke){throw U.push(ae+"type="+encodeURIComponent("_badmap")),ke}}function $h(y){this.l=y.Ub||null,this.j=y.eb||!1}d($h,fr),$h.prototype.g=function(){return new ul(this.l,this.j)},$h.prototype.i=function(y){return function(){return y}}({});function ul(y,U){At.call(this),this.D=y,this.o=U,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}d(ul,At),r=ul.prototype,r.open=function(y,U){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=y,this.A=U,this.readyState=1,TA(this)},r.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const U={headers:this.u,method:this.B,credentials:this.m,cache:void 0};y&&(U.body=y),(this.D||o).fetch(new Request(this.A,U)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mo(this)),this.readyState=0},r.Sa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,TA(this)),this.g&&(this.readyState=3,TA(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qh(this)}else y.text().then(this.Ra.bind(this),this.ga.bind(this))};function qh(y){y.j.read().then(y.Pa.bind(y)).catch(y.ga.bind(y))}r.Pa=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var U=y.value?y.value:new Uint8Array(0);(U=this.v.decode(U,{stream:!y.done}))&&(this.response=this.responseText+=U)}y.done?Mo(this):TA(this),this.readyState==3&&qh(this)}},r.Ra=function(y){this.g&&(this.response=this.responseText=y,Mo(this))},r.Qa=function(y){this.g&&(this.response=y,Mo(this))},r.ga=function(){this.g&&Mo(this)};function Mo(y){y.readyState=4,y.l=null,y.j=null,y.v=null,TA(y)}r.setRequestHeader=function(y,U){this.u.append(y,U)},r.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],U=this.h.entries();for(var j=U.next();!j.done;)j=j.value,y.push(j[0]+": "+j[1]),j=U.next();return y.join(`\r
`)};function TA(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(ul.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function fu(y){let U="";return P(y,function(j,ae){U+=ae,U+=":",U+=j,U+=`\r
`}),U}function f0(y,U,j){e:{for(ae in j){var ae=!1;break e}ae=!0}ae||(j=fu(j),typeof y=="string"?j!=null&&encodeURIComponent(String(j)):Fr(y,U,j))}function pn(y){At.call(this),this.headers=new Map,this.o=y||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}d(pn,At);var d0=/^https?$/i,du=["POST","PUT"];r=pn.prototype,r.Ha=function(y){this.J=y},r.ea=function(y,U,j,ae){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);U=U?U.toUpperCase():"GET",this.D=y,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ye.g(),this.v=this.o?Zt(this.o):Zt(ye),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(U,String(y),!0),this.B=!1}catch(Qe){Ac(this,Qe);return}if(y=j||"",j=new Map(this.headers),ae)if(Object.getPrototypeOf(ae)===Object.prototype)for(var ke in ae)j.set(ke,ae[ke]);else if(typeof ae.keys=="function"&&typeof ae.get=="function")for(const Qe of ae.keys())j.set(Qe,ae.get(Qe));else throw Error("Unknown input type for opt_headers: "+String(ae));ae=Array.from(j.keys()).find(Qe=>Qe.toLowerCase()=="content-type"),ke=o.FormData&&y instanceof o.FormData,!(0<=Array.prototype.indexOf.call(du,U,void 0))||ae||ke||j.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Qe,ot]of j)this.g.setRequestHeader(Qe,ot);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{cc(this),this.u=!0,this.g.send(y),this.u=!1}catch(Qe){Ac(this,Qe)}};function Ac(y,U){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=U,y.m=5,Xh(y),lc(y)}function Xh(y){y.A||(y.A=!0,Ft(y,"complete"),Ft(y,"error"))}r.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=y||7,Ft(this,"complete"),Ft(this,"abort"),lc(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),lc(this,!0)),pn.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?pu(this):this.bb())},r.bb=function(){pu(this)};function pu(y){if(y.h&&typeof a<"u"&&(!y.v[1]||po(y)!=4||y.Z()!=2)){if(y.u&&po(y)==4)vt(y.Ea,0,y);else if(Ft(y,"readystatechange"),po(y)==4){y.h=!1;try{const ot=y.Z();e:switch(ot){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var U=!0;break e;default:U=!1}var j;if(!(j=U)){var ae;if(ae=ot===0){var ke=String(y.D).match(uo)[1]||null;!ke&&o.self&&o.self.location&&(ke=o.self.location.protocol.slice(0,-1)),ae=!d0.test(ke?ke.toLowerCase():"")}j=ae}if(j)Ft(y,"complete"),Ft(y,"success");else{y.m=6;try{var Qe=2<po(y)?y.g.statusText:""}catch{Qe=""}y.l=Qe+" ["+y.Z()+"]",Xh(y)}}finally{lc(y)}}}}function lc(y,U){if(y.g){cc(y);const j=y.g,ae=y.v[0]?()=>{}:null;y.g=null,y.v=null,U||Ft(y,"ready");try{j.onreadystatechange=ae}catch{}}}function cc(y){y.I&&(o.clearTimeout(y.I),y.I=null)}r.isActive=function(){return!!this.g};function po(y){return y.g?y.g.readyState:0}r.Z=function(){try{return 2<po(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(y){if(this.g){var U=this.g.responseText;return y&&U.indexOf(y)==0&&(U=U.substring(y.length)),Jr(U)}};function p0(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.H){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function hl(y){const U={};y=(y.g&&2<=po(y)&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let ae=0;ae<y.length;ae++){if(x(y[ae]))continue;var j=S(y[ae]);const ke=j[0];if(j=j[1],typeof j!="string")continue;j=j.trim();const Qe=U[ke]||[];U[ke]=Qe,Qe.push(j)}B(U,function(ae){return ae.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ma(y,U,j){return j&&j.internalChannelParams&&j.internalChannelParams[y]||U}function g0(y){this.Aa=0,this.i=[],this.j=new Ui,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ma("failFast",!1,y),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ma("baseRetryDelayMs",5e3,y),this.cb=Ma("retryDelaySeedMs",1e4,y),this.Wa=Ma("forwardChannelMaxRetries",2,y),this.wa=Ma("forwardChannelRequestTimeoutMs",2e4,y),this.pa=y&&y.xmlHttpFactory||void 0,this.Xa=y&&y.Tb||void 0,this.Ca=y&&y.useFetchStreams||!1,this.L=void 0,this.J=y&&y.supportsCrossDomainXhr||!1,this.K="",this.h=new Uo(y&&y.concurrentRequestLimit),this.Da=new cl,this.P=y&&y.fastHandshake||!1,this.O=y&&y.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=y&&y.Rb||!1,y&&y.xa&&this.j.xa(),y&&y.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&y&&y.detectBufferingProxy||!1,this.ja=void 0,y&&y.longPollingTimeout&&0<y.longPollingTimeout&&(this.ja=y.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=g0.prototype,r.la=8,r.G=1,r.connect=function(y,U,j,ae){xn(0),this.W=y,this.H=U||{},j&&ae!==void 0&&(this.H.OSID=j,this.H.OAID=ae),this.F=this.X,this.I=an(this,null,this.W),k(this)};function Yh(y){if(m0(y),y.G==3){var U=y.U++,j=Ua(y.I);if(Fr(j,"SID",y.K),Fr(j,"RID",U),Fr(j,"TYPE","terminate"),Ee(y,j),U=new He(y,y.j,U),U.L=2,U.v=uu(Ua(j)),j=!1,o.navigator&&o.navigator.sendBeacon)try{j=o.navigator.sendBeacon(U.v.toString(),"")}catch{}!j&&o.Image&&(new Image().src=U.v,j=!0),j||(U.g=ui(U.j,null),U.g.ea(U.v)),U.F=Date.now(),ut(U)}Zn(y)}function FA(y){y.g&&(Ct(y),y.g.cancel(),y.g=null)}function m0(y){FA(y),y.u&&(o.clearTimeout(y.u),y.u=null),Xt(y),y.h.cancel(),y.s&&(typeof y.s=="number"&&o.clearTimeout(y.s),y.s=null)}function k(y){if(!Da(y.h)&&!y.s){y.s=!0;var U=y.Ga;te||be(),J||(te(),J=!0),W.add(U,y),y.B=0}}function K(y,U){return Al(y.h)>=y.h.j-(y.s?1:0)?!1:y.s?(y.i=U.D.concat(y.i),!0):y.G==1||y.G==2||y.B>=(y.Va?0:y.Wa)?!1:(y.s=li(h(y.Ga,y,U),Mr(y,y.B)),y.B++,!0)}r.Ga=function(y){if(this.s)if(this.s=null,this.G==1){if(!y){this.U=Math.floor(1e5*Math.random()),y=this.U++;const ke=new He(this,this.j,y);let Qe=this.o;if(this.S&&(Qe?(Qe=E(Qe),I(Qe,this.S)):Qe=this.S),this.m!==null||this.O||(ke.H=Qe,Qe=null),this.P)e:{for(var U=0,j=0;j<this.i.length;j++){t:{var ae=this.i[j];if("__data__"in ae.map&&(ae=ae.map.__data__,typeof ae=="string")){ae=ae.length;break t}ae=void 0}if(ae===void 0)break;if(U+=ae,4096<U){U=j;break e}if(U===4096||j===this.i.length-1){U=j+1;break e}}U=1e3}else U=1e3;U=Ie(this,ke,U),j=Ua(this.I),Fr(j,"RID",y),Fr(j,"CVER",22),this.D&&Fr(j,"X-HTTP-Session-Id",this.D),Ee(this,j),Qe&&(this.O?U="headers="+encodeURIComponent(String(fu(Qe)))+"&"+U:this.m&&f0(j,this.m,Qe)),l0(this.h,ke),this.Ua&&Fr(j,"TYPE","init"),this.P?(Fr(j,"$req",U),Fr(j,"SID","null"),ke.T=!0,et(ke,j,null)):et(ke,j,U),this.G=2}}else this.G==3&&(y?ge(this,y):this.i.length==0||Da(this.h)||ge(this))};function ge(y,U){var j;U?j=U.l:j=y.U++;const ae=Ua(y.I);Fr(ae,"SID",y.K),Fr(ae,"RID",j),Fr(ae,"AID",y.T),Ee(y,ae),y.m&&y.o&&f0(ae,y.m,y.o),j=new He(y,y.j,j,y.B+1),y.m===null&&(j.H=y.o),U&&(y.i=U.D.concat(y.i)),U=Ie(y,j,1e3),j.I=Math.round(.5*y.wa)+Math.round(.5*y.wa*Math.random()),l0(y.h,j),et(j,ae,U)}function Ee(y,U){y.H&&P(y.H,function(j,ae){Fr(U,ae,j)}),y.l&&ic({},function(j,ae){Fr(U,ae,j)})}function Ie(y,U,j){j=Math.min(y.i.length,j);var ae=y.l?h(y.l.Na,y.l,y):null;e:{var ke=y.i;let Qe=-1;for(;;){const ot=["count="+j];Qe==-1?0<j?(Qe=ke[0].g,ot.push("ofs="+Qe)):Qe=0:ot.push("ofs="+Qe);let Pr=!0;for(let ti=0;ti<j;ti++){let Er=ke[ti].g;const br=ke[ti].map;if(Er-=Qe,0>Er)Qe=Math.max(0,ke[ti].g-100),Pr=!1;else try{ow(br,ot,"req"+Er+"_")}catch{ae&&ae(br)}}if(Pr){ae=ot.join("&");break e}}}return y=y.i.splice(0,j),U.D=y,ae}function ze(y){if(!y.g&&!y.u){y.Y=1;var U=y.Fa;te||be(),J||(te(),J=!0),W.add(U,y),y.v=0}}function Je(y){return y.g||y.u||3<=y.v?!1:(y.Y++,y.u=li(h(y.Fa,y),Mr(y,y.v)),y.v++,!0)}r.Fa=function(){if(this.u=null,Pt(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var y=2*this.R;this.j.info("BP detection timer enabled: "+y),this.A=li(h(this.ab,this),y)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xn(10),FA(this),Pt(this))};function Ct(y){y.A!=null&&(o.clearTimeout(y.A),y.A=null)}function Pt(y){y.g=new He(y,y.j,"rpc",y.Y),y.m===null&&(y.g.H=y.o),y.g.O=0;var U=Ua(y.qa);Fr(U,"RID","rpc"),Fr(U,"SID",y.K),Fr(U,"AID",y.T),Fr(U,"CI",y.F?"0":"1"),!y.F&&y.ja&&Fr(U,"TO",y.ja),Fr(U,"TYPE","xmlhttp"),Ee(y,U),y.m&&y.o&&f0(U,y.m,y.o),y.L&&(y.g.I=y.L);var j=y.g;y=y.ia,j.L=1,j.v=uu(Ua(U)),j.m=null,j.P=!0,lt(j,y)}r.Za=function(){this.C!=null&&(this.C=null,FA(this),Je(this),xn(19))};function Xt(y){y.C!=null&&(o.clearTimeout(y.C),y.C=null)}function rr(y,U){var j=null;if(y.g==U){Xt(y),Ct(y),y.g=null;var ae=2}else if(Mi(y.h,U))j=U.D,Jn(y.h,U),ae=1;else return;if(y.G!=0){if(U.o)if(ae==1){j=U.m?U.m.length:0,U=Date.now()-U.F;var ke=y.B;ae=Yn(),Ft(ae,new lo(ae,j)),k(y)}else ze(y);else if(ke=U.s,ke==3||ke==0&&0<U.X||!(ae==1&&K(y,U)||ae==2&&Je(y)))switch(j&&0<j.length&&(U=y.h,U.i=U.i.concat(j)),ke){case 1:Zr(y,5);break;case 4:Zr(y,10);break;case 3:Zr(y,6);break;default:Zr(y,2)}}}function Mr(y,U){let j=y.Ta+Math.floor(Math.random()*y.cb);return y.isActive()||(j*=2),j*U}function Zr(y,U){if(y.j.info("Error code "+U),U==2){var j=h(y.fb,y),ae=y.Xa;const ke=!ae;ae=new sn(ae||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||zh(ae,"https"),uu(ae),ke?sw(ae.toString(),j):aw(ae.toString(),j)}else xn(2);y.G=0,y.l&&y.l.sa(U),Zn(y),m0(y)}r.fb=function(y){y?(this.j.info("Successfully pinged google.com"),xn(2)):(this.j.info("Failed to ping google.com"),xn(1))};function Zn(y){if(y.G=0,y.ka=[],y.l){const U=c0(y.h);(U.length!=0||y.i.length!=0)&&(v(y.ka,U),v(y.ka,y.i),y.h.i.length=0,p(y.i),y.i.length=0),y.l.ra()}}function an(y,U,j){var ae=j instanceof sn?Ua(j):new sn(j);if(ae.g!="")U&&(ae.g=U+"."+ae.g),Wh(ae,ae.s);else{var ke=o.location;ae=ke.protocol,U=U?U+"."+ke.hostname:ke.hostname,ke=+ke.port;var Qe=new sn(null);ae&&zh(Qe,ae),U&&(Qe.g=U),ke&&Wh(Qe,ke),j&&(Qe.l=j),ae=Qe}return j=y.D,U=y.ya,j&&U&&Fr(ae,j,U),Fr(ae,"VER",y.la),Ee(y,ae),ae}function ui(y,U,j){if(U&&!y.J)throw Error("Can't create secondary domain capable XhrIo object.");return U=y.Ca&&!y.pa?new pn(new $h({eb:j})):new pn(y.pa),U.Ha(y.J),U}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ei(){}r=ei.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function hi(){}hi.prototype.g=function(y,U){return new Sn(y,U)};function Sn(y,U){At.call(this),this.g=new g0(U),this.l=y,this.h=U&&U.messageUrlParams||null,y=U&&U.messageHeaders||null,U&&U.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=U&&U.initMessageHeaders||null,U&&U.messageContentType&&(y?y["X-WebChannel-Content-Type"]=U.messageContentType:y={"X-WebChannel-Content-Type":U.messageContentType}),U&&U.va&&(y?y["X-WebChannel-Client-Profile"]=U.va:y={"X-WebChannel-Client-Profile":U.va}),this.g.S=y,(y=U&&U.Sb)&&!x(y)&&(this.g.m=y),this.v=U&&U.supportsCrossDomainXhr||!1,this.u=U&&U.sendRawJson||!1,(U=U&&U.httpSessionIdParam)&&!x(U)&&(this.g.D=U,y=this.h,y!==null&&U in y&&(y=this.h,U in y&&delete y[U])),this.j=new Oo(this)}d(Sn,At),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){Yh(this.g)},Sn.prototype.o=function(y){var U=this.g;if(typeof y=="string"){var j={};j.__data__=y,y=j}else this.u&&(j={},j.__data__=Jt(y),y=j);U.i.push(new Do(U.Ya++,y)),U.G==3&&k(U)},Sn.prototype.N=function(){this.g.l=null,delete this.j,Yh(this.g),delete this.g,Sn.aa.N.call(this)};function Fs(y){jr.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var U=y.__sm__;if(U){e:{for(const j in U){y=j;break e}y=void 0}(this.i=y)&&(y=this.i,U=U!==null&&y in U?U[y]:void 0),this.data=U}else this.data=y}d(Fs,jr);function v0(){Gt.call(this),this.status=1}d(v0,Gt);function Oo(y){this.g=y}d(Oo,ei),Oo.prototype.ua=function(){Ft(this.g,"a")},Oo.prototype.ta=function(y){Ft(this.g,new Fs(y))},Oo.prototype.sa=function(y){Ft(this.g,new v0)},Oo.prototype.ra=function(){Ft(this.g,"b")},hi.prototype.createWebChannel=hi.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,fj=function(){return new hi},hj=function(){return Yn()},uj=xr,hk={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},he.NO_ERROR=0,he.TIMEOUT=8,he.HTTP_ERROR=6,bC=he,pe.COMPLETE="complete",cj=pe,wn.EventType=yn,yn.OPEN="a",yn.CLOSE="b",yn.ERROR="c",yn.MESSAGE="d",At.prototype.listen=At.prototype.K,Xw=wn,pn.prototype.listenOnce=pn.prototype.L,pn.prototype.getLastError=pn.prototype.Ka,pn.prototype.getLastErrorCode=pn.prototype.Ba,pn.prototype.getStatus=pn.prototype.Z,pn.prototype.getResponseJson=pn.prototype.Oa,pn.prototype.getResponseText=pn.prototype.oa,pn.prototype.send=pn.prototype.ea,pn.prototype.setWithCredentials=pn.prototype.Ha,lj=pn}).apply(typeof rE<"u"?rE:typeof self<"u"?self:typeof window<"u"?window:{});const hM="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wa=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};wa.UNAUTHENTICATED=new wa(null),wa.GOOGLE_CREDENTIALS=new wa("google-credentials-uid"),wa.FIRST_PARTY=new wa("first-party-uid"),wa.MOCK_USER=new wa("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kv="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg=new YP("@firebase/firestore");function Iw(){return vg.logLevel}function Rt(r,...e){if(vg.logLevel<=Nr.DEBUG){const t=e.map(ZP);vg.debug(`Firestore (${Kv}): ${r}`,...t)}}function Ph(r,...e){if(vg.logLevel<=Nr.ERROR){const t=e.map(ZP);vg.error(`Firestore (${Kv}): ${r}`,...t)}}function Sv(r,...e){if(vg.logLevel<=Nr.WARN){const t=e.map(ZP);vg.warn(`Firestore (${Kv}): ${r}`,...t)}}function ZP(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(r="Unexpected state"){const e=`FIRESTORE (${Kv}) INTERNAL ASSERTION FAILED: `+r;throw Ph(e),new Error(e)}function dn(r,e){r||sr()}function ur(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class bt extends nu{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ene{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(wa.UNAUTHENTICATED))}shutdown(){}}class tne{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class rne{constructor(e){this.t=e,this.currentUser=wa.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){dn(this.o===void 0);let n=this.i;const i=A=>this.i!==n?(n=this.i,t(A)):Promise.resolve();let s=new _h;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new _h,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const A=s;e.enqueueRetryable(async()=>{await A.promise,await i(this.currentUser)})},o=A=>{Rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=A,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(A=>o(A)),setTimeout(()=>{if(!this.auth){const A=this.t.getImmediate({optional:!0});A?o(A):(Rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new _h)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(Rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(dn(typeof n.accessToken=="string"),new dj(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dn(e===null||typeof e=="string"),new wa(e)}}class nne{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=wa.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class ine{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new nne(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(wa.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sne{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ane{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){dn(this.o===void 0);const n=s=>{s.error!=null&&Rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,Rt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const i=s=>{Rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(dn(typeof t.token=="string"),this.R=t.token,new sne(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function one(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=one(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<t&&(n+=e.charAt(i[s]%e.length))}return n}}function qr(r,e){return r<e?-1:r>e?1:0}function Tv(r,e,t){return r.length===e.length&&r.every((n,i)=>t(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new bt(Ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new bt(Ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new bt(Ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new bt(Ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return us.fromMillis(Date.now())}static fromDate(e){return us.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new us(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qr(this.nanoseconds,e.nanoseconds):qr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ar(e)}static min(){return new Ar(new us(0,0))}static max(){return new Ar(new us(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,t,n){t===void 0?t=0:t>e.length&&sr(),n===void 0?n=e.length-t:n>e.length-t&&sr(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return D2.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof D2?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const s=e.get(i),a=t.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Mn extends D2{construct(e,t,n){return new Mn(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new bt(Ye.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(i=>i.length>0))}return new Mn(t)}static emptyPath(){return new Mn([])}}const Ane=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zs extends D2{construct(e,t,n){return new zs(e,t,n)}static isValidIdentifier(e){return Ane.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zs.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new zs(["__name__"])}static fromServerFormat(e){const t=[];let n="",i=0;const s=()=>{if(n.length===0)throw new bt(Ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new bt(Ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const A=e[i+1];if(A!=="\\"&&A!=="."&&A!=="`")throw new bt(Ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=A,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(n+=o,i++):(s(),i++)}if(s(),a)throw new bt(Ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zs(t)}static emptyPath(){return new zs([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.path=e}static fromPath(e){return new $t(Mn.fromString(e))}static fromName(e){return new $t(Mn.fromString(e).popFirst(5))}static empty(){return new $t(Mn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Mn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Mn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $t(new Mn(e.slice()))}}function lne(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,i=Ar.fromTimestamp(n===1e9?new us(t+1,0):new us(t,n));return new Vd(i,$t.empty(),e)}function cne(r){return new Vd(r.readTime,r.key,-1)}class Vd{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Vd(Ar.min(),$t.empty(),-1)}static max(){return new Vd(Ar.max(),$t.empty(),-1)}}function une(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=$t.comparator(r.documentKey,e.documentKey),t!==0?t:qr(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hne="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fne{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G_(r){if(r.code!==Ye.FAILED_PRECONDITION||r.message!==hne)throw r;Rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&sr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new tt((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(n,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof tt?t:tt.resolve(t)}catch(t){return tt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):tt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):tt.reject(t)}static resolve(e){return new tt((t,n)=>{t(e)})}static reject(e){return new tt((t,n)=>{n(e)})}static waitFor(e){return new tt((t,n)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&t()},A=>n(A))}),a=!0,s===i&&t()})}static or(e){let t=tt.resolve(!1);for(const n of e)t=t.next(i=>i?tt.resolve(i):n());return t}static forEach(e,t){const n=[];return e.forEach((i,s)=>{n.push(t.call(this,i,s))}),this.waitFor(n)}static mapArray(e,t){return new tt((n,i)=>{const s=e.length,a=new Array(s);let o=0;for(let A=0;A<s;A++){const l=A;t(e[l]).next(c=>{a[l]=c,++o,o===s&&n(a)},c=>i(c))}})}static doWhile(e,t){return new tt((n,i)=>{const s=()=>{e()===!0?t().next(()=>{s()},i):n()};s()})}}function dne(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function $_(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ie(n),this.se=n=>t.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}eR.oe=-1;function V5(r){return r==null}function ZB(r){return r===0&&1/r==-1/0}function pne(r){return typeof r=="number"&&Number.isInteger(r)&&!ZB(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Ng(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function gj(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e,t){this.comparator=e,this.root=t||Vs.EMPTY}insert(e,t){return new Ai(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Vs.BLACK,null,null))}remove(e){return new Ai(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nE(this.root,e,this.comparator,!1)}getReverseIterator(){return new nE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nE(this.root,e,this.comparator,!0)}}class nE{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vs{constructor(e,t,n,i,s){this.key=e,this.value=t,this.color=n??Vs.RED,this.left=i??Vs.EMPTY,this.right=s??Vs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,s){return new Vs(e??this.key,t??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,n),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Vs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Vs.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw sr();const e=this.left.check();if(e!==this.right.check())throw sr();return e+(this.isRed()?0:1)}}Vs.EMPTY=null,Vs.RED=!0,Vs.BLACK=!1;Vs.EMPTY=new class{constructor(){this.size=0}get key(){throw sr()}get value(){throw sr()}get color(){throw sr()}get left(){throw sr()}get right(){throw sr()}copy(e,t,n,i,s){return this}insert(e,t,n){return new Vs(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.comparator=e,this.data=new Ai(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new dM(this.data.getIterator())}getIteratorFrom(e){return new dM(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof $s)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new $s(this.comparator);return t.data=e,t}}class dM{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e){this.fields=e,e.sort(zs.comparator)}static empty(){return new vA([])}unionWith(e){let t=new $s(zs.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new vA(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Tv(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new mj("Invalid base64 string: "+s):s}}(e);return new Zs(t)}static fromUint8Array(e){const t=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new Zs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zs.EMPTY_BYTE_STRING=new Zs("");const gne=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jd(r){if(dn(!!r),typeof r=="string"){let e=0;const t=gne.exec(r);if(dn(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Ii(r.seconds),nanos:Ii(r.nanos)}}function Ii(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function wg(r){return typeof r=="string"?Zs.fromBase64String(r):Zs.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function rR(r){const e=r.mapValue.fields.__previous_value__;return tR(e)?rR(e):e}function U2(r){const e=jd(r.mapValue.fields.__local_write_time__.timestampValue);return new us(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mne{constructor(e,t,n,i,s,a,o,A,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=A,this.useFetchStreams=l}}class M2{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new M2("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof M2&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE={mapValue:{}};function yg(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?tR(r)?4:wne(r)?9007199254740991:vne(r)?10:11:sr()}function eu(r,e){if(r===e)return!0;const t=yg(r);if(t!==yg(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return U2(r).isEqual(U2(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=jd(i.timestampValue),o=jd(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(i,s){return wg(i.bytesValue).isEqual(wg(s.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(i,s){return Ii(i.geoPointValue.latitude)===Ii(s.geoPointValue.latitude)&&Ii(i.geoPointValue.longitude)===Ii(s.geoPointValue.longitude)}(r,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ii(i.integerValue)===Ii(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Ii(i.doubleValue),o=Ii(s.doubleValue);return a===o?ZB(a)===ZB(o):isNaN(a)&&isNaN(o)}return!1}(r,e);case 9:return Tv(r.arrayValue.values||[],e.arrayValue.values||[],eu);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(fM(a)!==fM(o))return!1;for(const A in a)if(a.hasOwnProperty(A)&&(o[A]===void 0||!eu(a[A],o[A])))return!1;return!0}(r,e);default:return sr()}}function O2(r,e){return(r.values||[]).find(t=>eu(t,e))!==void 0}function Fv(r,e){if(r===e)return 0;const t=yg(r),n=yg(e);if(t!==n)return qr(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return qr(r.booleanValue,e.booleanValue);case 2:return function(s,a){const o=Ii(s.integerValue||s.doubleValue),A=Ii(a.integerValue||a.doubleValue);return o<A?-1:o>A?1:o===A?0:isNaN(o)?isNaN(A)?0:-1:1}(r,e);case 3:return pM(r.timestampValue,e.timestampValue);case 4:return pM(U2(r),U2(e));case 5:return qr(r.stringValue,e.stringValue);case 6:return function(s,a){const o=wg(s),A=wg(a);return o.compareTo(A)}(r.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),A=a.split("/");for(let l=0;l<o.length&&l<A.length;l++){const c=qr(o[l],A[l]);if(c!==0)return c}return qr(o.length,A.length)}(r.referenceValue,e.referenceValue);case 8:return function(s,a){const o=qr(Ii(s.latitude),Ii(a.latitude));return o!==0?o:qr(Ii(s.longitude),Ii(a.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return gM(r.arrayValue,e.arrayValue);case 10:return function(s,a){var o,A,l,c;const u=s.fields||{},h=a.fields||{},f=(o=u.value)===null||o===void 0?void 0:o.arrayValue,d=(A=h.value)===null||A===void 0?void 0:A.arrayValue,p=qr(((l=f==null?void 0:f.values)===null||l===void 0?void 0:l.length)||0,((c=d==null?void 0:d.values)===null||c===void 0?void 0:c.length)||0);return p!==0?p:gM(f,d)}(r.mapValue,e.mapValue);case 11:return function(s,a){if(s===iE.mapValue&&a===iE.mapValue)return 0;if(s===iE.mapValue)return 1;if(a===iE.mapValue)return-1;const o=s.fields||{},A=Object.keys(o),l=a.fields||{},c=Object.keys(l);A.sort(),c.sort();for(let u=0;u<A.length&&u<c.length;++u){const h=qr(A[u],c[u]);if(h!==0)return h;const f=Fv(o[A[u]],l[c[u]]);if(f!==0)return f}return qr(A.length,c.length)}(r.mapValue,e.mapValue);default:throw sr()}}function pM(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return qr(r,e);const t=jd(r),n=jd(e),i=qr(t.seconds,n.seconds);return i!==0?i:qr(t.nanos,n.nanos)}function gM(r,e){const t=r.values||[],n=e.values||[];for(let i=0;i<t.length&&i<n.length;++i){const s=Fv(t[i],n[i]);if(s)return s}return qr(t.length,n.length)}function Iv(r){return fk(r)}function fk(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const n=jd(t);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return wg(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return $t.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let n="[",i=!0;for(const s of t.values||[])i?i=!1:n+=",",n+=fk(s);return n+"]"}(r.arrayValue):"mapValue"in r?function(t){const n=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const a of n)s?s=!1:i+=",",i+=`${a}:${fk(t.fields[a])}`;return i+"}"}(r.mapValue):sr()}function mM(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function dk(r){return!!r&&"integerValue"in r}function nR(r){return!!r&&"arrayValue"in r}function vM(r){return!!r&&"nullValue"in r}function wM(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function EC(r){return!!r&&"mapValue"in r}function vne(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Vy(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Ng(r.mapValue.fields,(t,n)=>e.mapValue.fields[t]=Vy(n)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Vy(r.arrayValue.values[t]);return e}return Object.assign({},r)}function wne(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.value=e}static empty(){return new Fo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!EC(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vy(t)}setAll(e){let t=zs.emptyPath(),n={},i=[];e.forEach((a,o)=>{if(!t.isImmediateParentOf(o)){const A=this.getFieldsMap(t);this.applyChanges(A,n,i),n={},i=[],t=o.popLast()}a?n[o.lastSegment()]=Vy(a):i.push(o.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,n,i)}delete(e){const t=this.field(e.popLast());EC(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return eu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];EC(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){Ng(t,(i,s)=>e[i]=s);for(const i of n)delete e[i]}clone(){return new Fo(Vy(this.value))}}function vj(r){const e=[];return Ng(r.fields,(t,n)=>{const i=new zs([t]);if(EC(n)){const s=vj(n.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new vA(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,t,n,i,s,a,o){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Ca(e,0,Ar.min(),Ar.min(),Ar.min(),Fo.empty(),0)}static newFoundDocument(e,t,n,i){return new Ca(e,1,t,Ar.min(),n,i,0)}static newNoDocument(e,t){return new Ca(e,2,t,Ar.min(),Ar.min(),Fo.empty(),0)}static newUnknownDocument(e,t){return new Ca(e,3,t,Ar.min(),Ar.min(),Fo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ar.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ar.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ca&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ca(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,t){this.position=e,this.inclusive=t}}function yM(r,e,t){let n=0;for(let i=0;i<r.position.length;i++){const s=e[i],a=r.position[i];if(s.field.isKeyField()?n=$t.comparator($t.fromName(a.referenceValue),t.key):n=Fv(a,t.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function xM(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!eu(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,t="asc"){this.field=e,this.dir=t}}function yne(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{}class Wi extends wj{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new _ne(e,t,n):t==="array-contains"?new Cne(e,n):t==="in"?new Bne(e,n):t==="not-in"?new Sne(e,n):t==="array-contains-any"?new Tne(e,n):new Wi(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new bne(e,n):new Ene(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Fv(t,this.value)):t!==null&&yg(this.value)===yg(t)&&this.matchesComparison(Fv(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return sr()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ql extends wj{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new ql(e,t)}matches(e){return yj(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function yj(r){return r.op==="and"}function xj(r){return xne(r)&&yj(r)}function xne(r){for(const e of r.filters)if(e instanceof ql)return!1;return!0}function pk(r){if(r instanceof Wi)return r.field.canonicalString()+r.op.toString()+Iv(r.value);if(xj(r))return r.filters.map(e=>pk(e)).join(",");{const e=r.filters.map(t=>pk(t)).join(",");return`${r.op}(${e})`}}function _j(r,e){return r instanceof Wi?function(n,i){return i instanceof Wi&&n.op===i.op&&n.field.isEqual(i.field)&&eu(n.value,i.value)}(r,e):r instanceof ql?function(n,i){return i instanceof ql&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,a,o)=>s&&_j(a,i.filters[o]),!0):!1}(r,e):void sr()}function bj(r){return r instanceof Wi?function(t){return`${t.field.canonicalString()} ${t.op} ${Iv(t.value)}`}(r):r instanceof ql?function(t){return t.op.toString()+" {"+t.getFilters().map(bj).join(" ,")+"}"}(r):"Filter"}class _ne extends Wi{constructor(e,t,n){super(e,t,n),this.key=$t.fromName(n.referenceValue)}matches(e){const t=$t.comparator(e.key,this.key);return this.matchesComparison(t)}}class bne extends Wi{constructor(e,t){super(e,"in",t),this.keys=Ej("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ene extends Wi{constructor(e,t){super(e,"not-in",t),this.keys=Ej("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ej(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(n=>$t.fromName(n.referenceValue))}class Cne extends Wi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return nR(t)&&O2(t.arrayValue,this.value)}}class Bne extends Wi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&O2(this.value.arrayValue,t)}}class Sne extends Wi{constructor(e,t){super(e,"not-in",t)}matches(e){if(O2(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!O2(this.value.arrayValue,t)}}class Tne extends Wi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!nR(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>O2(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fne{constructor(e,t=null,n=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.ue=null}}function _M(r,e=null,t=[],n=[],i=null,s=null,a=null){return new Fne(r,e,t,n,i,s,a)}function iR(r){const e=ur(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>pk(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),V5(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>Iv(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>Iv(n)).join(",")),e.ue=t}return e.ue}function sR(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!yne(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!_j(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!xM(r.startAt,e.startAt)&&xM(r.endAt,e.endAt)}function gk(r){return $t.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(e,t=null,n=[],i=[],s=null,a="F",o=null,A=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=A,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Ine(r,e,t,n,i,s,a,o){return new q_(r,e,t,n,i,s,a,o)}function aR(r){return new q_(r)}function bM(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Cj(r){return r.collectionGroup!==null}function jy(r){const e=ur(r);if(e.ce===null){e.ce=[];const t=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new $s(zs.comparator);return a.filters.forEach(A=>{A.getFlattenedFilters().forEach(l=>{l.isInequality()&&(o=o.add(l.field))})}),o})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new tS(s,n))}),t.has(zs.keyField().canonicalString())||e.ce.push(new tS(zs.keyField(),n))}return e.ce}function qc(r){const e=ur(r);return e.le||(e.le=kne(e,jy(r))),e.le}function kne(r,e){if(r.limitType==="F")return _M(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new tS(i.field,s)});const t=r.endAt?new eS(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new eS(r.startAt.position,r.startAt.inclusive):null;return _M(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function mk(r,e){const t=r.filters.concat([e]);return new q_(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function vk(r,e,t){return new q_(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function j5(r,e){return sR(qc(r),qc(e))&&r.limitType===e.limitType}function Bj(r){return`${iR(qc(r))}|lt:${r.limitType}`}function fm(r){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(i=>bj(i)).join(", ")}]`),V5(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Iv(i)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Iv(i)).join(",")),`Target(${n})`}(qc(r))}; limitType=${r.limitType})`}function K5(r,e){return e.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):$t.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(r,e)&&function(n,i){for(const s of jy(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(r,e)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(r,e)&&function(n,i){return!(n.startAt&&!function(a,o,A){const l=yM(a,o,A);return a.inclusive?l<=0:l<0}(n.startAt,jy(n),i)||n.endAt&&!function(a,o,A){const l=yM(a,o,A);return a.inclusive?l>=0:l>0}(n.endAt,jy(n),i))}(r,e)}function Lne(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Sj(r){return(e,t)=>{let n=!1;for(const i of jy(r)){const s=Pne(i,e,t);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function Pne(r,e,t){const n=r.field.isKeyField()?$t.comparator(e.key,t.key):function(s,a,o){const A=a.data.field(s),l=o.data.field(s);return A!==null&&l!==null?Fv(A,l):sr()}(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return sr()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ng(this.inner,(t,n)=>{for(const[i,s]of n)e(i,s)})}isEmpty(){return gj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rne=new Ai($t.comparator);function Rh(){return Rne}const Tj=new Ai($t.comparator);function Yw(...r){let e=Tj;for(const t of r)e=e.insert(t.key,t);return e}function Fj(r){let e=Tj;return r.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function W0(){return Ky()}function Ij(){return Ky()}function Ky(){return new zv(r=>r.toString(),(r,e)=>r.isEqual(e))}const Nne=new Ai($t.comparator),Dne=new $s($t.comparator);function kr(...r){let e=Dne;for(const t of r)e=e.add(t);return e}const Une=new $s(qr);function Mne(){return Une}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ZB(e)?"-0":e}}function kj(r){return{integerValue:""+r}}function One(r,e){return pne(e)?kj(e):oR(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(){this._=void 0}}function Qne(r,e,t){return r instanceof Q2?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&tR(s)&&(s=rR(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(t,e):r instanceof H2?Pj(r,e):r instanceof V2?Rj(r,e):function(i,s){const a=Lj(i,s),o=EM(a)+EM(i.Pe);return dk(a)&&dk(i.Pe)?kj(o):oR(i.serializer,o)}(r,e)}function Hne(r,e,t){return r instanceof H2?Pj(r,e):r instanceof V2?Rj(r,e):t}function Lj(r,e){return r instanceof rS?function(n){return dk(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class Q2 extends z5{}class H2 extends z5{constructor(e){super(),this.elements=e}}function Pj(r,e){const t=Nj(e);for(const n of r.elements)t.some(i=>eu(i,n))||t.push(n);return{arrayValue:{values:t}}}class V2 extends z5{constructor(e){super(),this.elements=e}}function Rj(r,e){let t=Nj(e);for(const n of r.elements)t=t.filter(i=>!eu(i,n));return{arrayValue:{values:t}}}class rS extends z5{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function EM(r){return Ii(r.integerValue||r.doubleValue)}function Nj(r){return nR(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vne{constructor(e,t){this.field=e,this.transform=t}}function jne(r,e){return r.field.isEqual(e.field)&&function(n,i){return n instanceof H2&&i instanceof H2||n instanceof V2&&i instanceof V2?Tv(n.elements,i.elements,eu):n instanceof rS&&i instanceof rS?eu(n.Pe,i.Pe):n instanceof Q2&&i instanceof Q2}(r.transform,e.transform)}class Kne{constructor(e,t){this.version=e,this.transformResults=t}}class Za{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Za}static exists(e){return new Za(void 0,e)}static updateTime(e){return new Za(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function CC(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class W5{}function Dj(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new G5(r.key,Za.none()):new X_(r.key,r.data,Za.none());{const t=r.data,n=Fo.empty();let i=new $s(zs.comparator);for(let s of e.fields)if(!i.has(s)){let a=t.field(s);a===null&&s.length>1&&(s=s.popLast(),a=t.field(s)),a===null?n.delete(s):n.set(s,a),i=i.add(s)}return new i0(r.key,n,new vA(i.toArray()),Za.none())}}function zne(r,e,t){r instanceof X_?function(i,s,a){const o=i.value.clone(),A=BM(i.fieldTransforms,s,a.transformResults);o.setAll(A),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(r,e,t):r instanceof i0?function(i,s,a){if(!CC(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=BM(i.fieldTransforms,s,a.transformResults),A=s.data;A.setAll(Uj(i)),A.setAll(o),s.convertToFoundDocument(a.version,A).setHasCommittedMutations()}(r,e,t):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,t)}function zy(r,e,t,n){return r instanceof X_?function(s,a,o,A){if(!CC(s.precondition,a))return o;const l=s.value.clone(),c=SM(s.fieldTransforms,A,a);return l.setAll(c),a.convertToFoundDocument(a.version,l).setHasLocalMutations(),null}(r,e,t,n):r instanceof i0?function(s,a,o,A){if(!CC(s.precondition,a))return o;const l=SM(s.fieldTransforms,A,a),c=a.data;return c.setAll(Uj(s)),c.setAll(l),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(u=>u.field))}(r,e,t,n):function(s,a,o){return CC(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(r,e,t)}function Wne(r,e){let t=null;for(const n of r.fieldTransforms){const i=e.data.field(n.field),s=Lj(n.transform,i||null);s!=null&&(t===null&&(t=Fo.empty()),t.set(n.field,s))}return t||null}function CM(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Tv(n,i,(s,a)=>jne(s,a))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class X_ extends W5{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class i0 extends W5{constructor(e,t,n,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Uj(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}}),e}function BM(r,e,t){const n=new Map;dn(r.length===t.length);for(let i=0;i<t.length;i++){const s=r[i],a=s.transform,o=e.data.field(s.field);n.set(s.field,Hne(a,o,t[i]))}return n}function SM(r,e,t){const n=new Map;for(const i of r){const s=i.transform,a=t.data.field(i.field);n.set(i.field,Qne(s,a,e))}return n}class G5 extends W5{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gne extends W5{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ne{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&zne(s,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=zy(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=zy(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Ij();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=t.has(i.key)?null:o;const A=Dj(a,o);A!==null&&n.set(i.key,A),a.isValidDocument()||a.convertToNoDocument(Ar.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),kr())}isEqual(e){return this.batchId===e.batchId&&Tv(this.mutations,e.mutations,(t,n)=>CM(t,n))&&Tv(this.baseMutations,e.baseMutations,(t,n)=>CM(t,n))}}class AR{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){dn(e.mutations.length===n.length);let i=function(){return Nne}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,n[a].version);return new AR(e,t,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qne{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xne{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hi,Qr;function Yne(r){switch(r){default:return sr();case Ye.CANCELLED:case Ye.UNKNOWN:case Ye.DEADLINE_EXCEEDED:case Ye.RESOURCE_EXHAUSTED:case Ye.INTERNAL:case Ye.UNAVAILABLE:case Ye.UNAUTHENTICATED:return!1;case Ye.INVALID_ARGUMENT:case Ye.NOT_FOUND:case Ye.ALREADY_EXISTS:case Ye.PERMISSION_DENIED:case Ye.FAILED_PRECONDITION:case Ye.ABORTED:case Ye.OUT_OF_RANGE:case Ye.UNIMPLEMENTED:case Ye.DATA_LOSS:return!0}}function Mj(r){if(r===void 0)return Ph("GRPC error has no .code"),Ye.UNKNOWN;switch(r){case Hi.OK:return Ye.OK;case Hi.CANCELLED:return Ye.CANCELLED;case Hi.UNKNOWN:return Ye.UNKNOWN;case Hi.DEADLINE_EXCEEDED:return Ye.DEADLINE_EXCEEDED;case Hi.RESOURCE_EXHAUSTED:return Ye.RESOURCE_EXHAUSTED;case Hi.INTERNAL:return Ye.INTERNAL;case Hi.UNAVAILABLE:return Ye.UNAVAILABLE;case Hi.UNAUTHENTICATED:return Ye.UNAUTHENTICATED;case Hi.INVALID_ARGUMENT:return Ye.INVALID_ARGUMENT;case Hi.NOT_FOUND:return Ye.NOT_FOUND;case Hi.ALREADY_EXISTS:return Ye.ALREADY_EXISTS;case Hi.PERMISSION_DENIED:return Ye.PERMISSION_DENIED;case Hi.FAILED_PRECONDITION:return Ye.FAILED_PRECONDITION;case Hi.ABORTED:return Ye.ABORTED;case Hi.OUT_OF_RANGE:return Ye.OUT_OF_RANGE;case Hi.UNIMPLEMENTED:return Ye.UNIMPLEMENTED;case Hi.DATA_LOSS:return Ye.DATA_LOSS;default:return sr()}}(Qr=Hi||(Hi={}))[Qr.OK=0]="OK",Qr[Qr.CANCELLED=1]="CANCELLED",Qr[Qr.UNKNOWN=2]="UNKNOWN",Qr[Qr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qr[Qr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qr[Qr.NOT_FOUND=5]="NOT_FOUND",Qr[Qr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qr[Qr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qr[Qr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qr[Qr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qr[Qr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qr[Qr.ABORTED=10]="ABORTED",Qr[Qr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qr[Qr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qr[Qr.INTERNAL=13]="INTERNAL",Qr[Qr.UNAVAILABLE=14]="UNAVAILABLE",Qr[Qr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jne(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zne=new ig([4294967295,4294967295],0);function TM(r){const e=Jne().encode(r),t=new Aj;return t.update(e),new Uint8Array(t.digest())}function FM(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ig([t,n],0),new ig([i,s],0)]}class lR{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Jw(`Invalid padding: ${t}`);if(n<0)throw new Jw(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Jw(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Jw(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=ig.fromNumber(this.Ie)}Ee(e,t,n){let i=e.add(t.multiply(ig.fromNumber(n)));return i.compare(Zne)===1&&(i=new ig([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=TM(e),[n,i]=FM(t);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);if(!this.de(a))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new lR(s,i,t);return n.forEach(o=>a.insert(o)),a}insert(e){if(this.Ie===0)return;const t=TM(e),[n,i]=FM(t);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);this.Ae(a)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Jw extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e,t,n,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,Y_.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new $5(Ar.min(),i,new Ai(qr),Rh(),kr())}}class Y_{constructor(e,t,n,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Y_(n,t,kr(),kr(),kr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,t,n,i){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=i}}class Oj{constructor(e,t){this.targetId=e,this.me=t}}class Qj{constructor(e,t,n=Zs.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class IM{constructor(){this.fe=0,this.ge=LM(),this.pe=Zs.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=kr(),t=kr(),n=kr();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:sr()}}),new Y_(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=LM()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,dn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class eie{constructor(e){this.Le=e,this.Be=new Map,this.ke=Rh(),this.qe=kM(),this.Qe=new Ai(qr)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:sr()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((n,i)=>{this.ze(i)&&t(i)})}He(e){const t=e.targetId,n=e.me.count,i=this.Je(t);if(i){const s=i.target;if(gk(s))if(n===0){const a=new $t(s.path);this.Ue(t,a,Ca.newNoDocument(a,Ar.min()))}else dn(n===1);else{const a=this.Ye(t);if(a!==n){const o=this.Ze(e),A=o?this.Xe(o,e,a):1;if(A!==0){this.je(t);const l=A===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,l)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=t;let a,o;try{a=wg(n).toUint8Array()}catch(A){if(A instanceof mj)return Sv("Decoding the base64 bloom filter in existence filter failed ("+A.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw A}try{o=new lR(a,i,s)}catch(A){return Sv(A instanceof Jw?"BloomFilter error: ":"Applying bloom filter failed: ",A),null}return o.Ie===0?null:o}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let i=0;return n.forEach(s=>{const a=this.Le.tt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.Ue(t,s,null),i++)}),i}rt(e){const t=new Map;this.Be.forEach((s,a)=>{const o=this.Je(a);if(o){if(s.current&&gk(o.target)){const A=new $t(o.target.path);this.ke.get(A)!==null||this.it(a,A)||this.Ue(a,A,Ca.newNoDocument(A,e))}s.be&&(t.set(a,s.ve()),s.Ce())}});let n=kr();this.qe.forEach((s,a)=>{let o=!0;a.forEachWhile(A=>{const l=this.Je(A);return!l||l.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));const i=new $5(e,t,this.Qe,this.ke,n);return this.ke=Rh(),this.qe=kM(),this.Qe=new Ai(qr),i}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new IM,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new $s(qr),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||Rt("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new IM),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function kM(){return new Ai($t.comparator)}function LM(){return new Ai($t.comparator)}const tie={asc:"ASCENDING",desc:"DESCENDING"},rie={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nie={and:"AND",or:"OR"};class iie{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function wk(r,e){return r.useProto3Json||V5(e)?e:{value:e}}function nS(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Hj(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function sie(r,e){return nS(r,e.toTimestamp())}function Xc(r){return dn(!!r),Ar.fromTimestamp(function(t){const n=jd(t);return new us(n.seconds,n.nanos)}(r))}function cR(r,e){return yk(r,e).canonicalString()}function yk(r,e){const t=function(i){return new Mn(["projects",i.projectId,"databases",i.database])}(r).child("documents");return e===void 0?t:t.child(e)}function Vj(r){const e=Mn.fromString(r);return dn(Gj(e)),e}function xk(r,e){return cR(r.databaseId,e.path)}function NF(r,e){const t=Vj(e);if(t.get(1)!==r.databaseId.projectId)throw new bt(Ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new bt(Ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new $t(Kj(t))}function jj(r,e){return cR(r.databaseId,e)}function aie(r){const e=Vj(r);return e.length===4?Mn.emptyPath():Kj(e)}function _k(r){return new Mn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Kj(r){return dn(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function PM(r,e,t){return{name:xk(r,e),fields:t.value.mapValue.fields}}function oie(r,e){let t;if("targetChange"in e){e.targetChange;const n=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:sr()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(dn(c===void 0||typeof c=="string"),Zs.fromBase64String(c||"")):(dn(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Zs.fromUint8Array(c||new Uint8Array))}(r,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(l){const c=l.code===void 0?Ye.UNKNOWN:Mj(l.code);return new bt(c,l.message||"")}(a);t=new Qj(n,i,s,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=NF(r,n.document.name),s=Xc(n.document.updateTime),a=n.document.createTime?Xc(n.document.createTime):Ar.min(),o=new Fo({mapValue:{fields:n.document.fields}}),A=Ca.newFoundDocument(i,s,a,o),l=n.targetIds||[],c=n.removedTargetIds||[];t=new BC(l,c,A.key,A)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=NF(r,n.document),s=n.readTime?Xc(n.readTime):Ar.min(),a=Ca.newNoDocument(i,s),o=n.removedTargetIds||[];t=new BC([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=NF(r,n.document),s=n.removedTargetIds||[];t=new BC([],s,i,null)}else{if(!("filter"in e))return sr();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,a=new Xne(i,s),o=n.targetId;t=new Oj(o,a)}}return t}function Aie(r,e){let t;if(e instanceof X_)t={update:PM(r,e.key,e.value)};else if(e instanceof G5)t={delete:xk(r,e.key)};else if(e instanceof i0)t={update:PM(r,e.key,e.data),updateMask:mie(e.fieldMask)};else{if(!(e instanceof Gne))return sr();t={verify:xk(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(s,a){const o=a.transform;if(o instanceof Q2)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof H2)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof V2)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof rS)return{fieldPath:a.field.canonicalString(),increment:o.Pe};throw sr()}(0,n))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:sie(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:sr()}(r,e.precondition)),t}function lie(r,e){return r&&r.length>0?(dn(e!==void 0),r.map(t=>function(i,s){let a=i.updateTime?Xc(i.updateTime):Xc(s);return a.isEqual(Ar.min())&&(a=Xc(s)),new Kne(a,i.transformResults||[])}(t,e))):[]}function cie(r,e){return{documents:[jj(r,e.path)]}}function uie(r,e){const t={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=jj(r,i);const s=function(l){if(l.length!==0)return Wj(ql.create(l,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const a=function(l){if(l.length!==0)return l.map(c=>function(h){return{field:dm(h.field),direction:die(h.dir)}}(c))}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const o=wk(r,e.limit);return o!==null&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:t,parent:i}}function hie(r){let e=aie(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let i=null;if(n>0){dn(n===1);const c=t.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];t.where&&(s=function(u){const h=zj(u);return h instanceof ql&&xj(h)?h.getFilters():[h]}(t.where));let a=[];t.orderBy&&(a=function(u){return u.map(h=>function(d){return new tS(pm(d.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(h))}(t.orderBy));let o=null;t.limit&&(o=function(u){let h;return h=typeof u=="object"?u.value:u,V5(h)?null:h}(t.limit));let A=null;t.startAt&&(A=function(u){const h=!!u.before,f=u.values||[];return new eS(f,h)}(t.startAt));let l=null;return t.endAt&&(l=function(u){const h=!u.before,f=u.values||[];return new eS(f,h)}(t.endAt)),Ine(e,i,a,s,o,"F",A,l)}function fie(r,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return sr()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function zj(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=pm(t.unaryFilter.field);return Wi.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=pm(t.unaryFilter.field);return Wi.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=pm(t.unaryFilter.field);return Wi.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=pm(t.unaryFilter.field);return Wi.create(a,"!=",{nullValue:"NULL_VALUE"});default:return sr()}}(r):r.fieldFilter!==void 0?function(t){return Wi.create(pm(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return sr()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return ql.create(t.compositeFilter.filters.map(n=>zj(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return sr()}}(t.compositeFilter.op))}(r):sr()}function die(r){return tie[r]}function pie(r){return rie[r]}function gie(r){return nie[r]}function dm(r){return{fieldPath:r.canonicalString()}}function pm(r){return zs.fromServerFormat(r.fieldPath)}function Wj(r){return r instanceof Wi?function(t){if(t.op==="=="){if(wM(t.value))return{unaryFilter:{field:dm(t.field),op:"IS_NAN"}};if(vM(t.value))return{unaryFilter:{field:dm(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(wM(t.value))return{unaryFilter:{field:dm(t.field),op:"IS_NOT_NAN"}};if(vM(t.value))return{unaryFilter:{field:dm(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dm(t.field),op:pie(t.op),value:t.value}}}(r):r instanceof ql?function(t){const n=t.getFilters().map(i=>Wj(i));return n.length===1?n[0]:{compositeFilter:{op:gie(t.op),filters:n}}}(r):sr()}function mie(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Gj(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,t,n,i,s=Ar.min(),a=Ar.min(),o=Zs.EMPTY_BYTE_STRING,A=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=A}withSequenceNumber(e){return new ld(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ld(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ld(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ld(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vie{constructor(e){this.ct=e}}function wie(r){const e=hie({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?vk(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yie{constructor(){this.un=new xie}addToCollectionParentIndex(e,t){return this.un.add(t),tt.resolve()}getCollectionParents(e,t){return tt.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return tt.resolve()}deleteFieldIndex(e,t){return tt.resolve()}deleteAllFieldIndexes(e){return tt.resolve()}createTargetIndexes(e,t){return tt.resolve()}getDocumentsMatchingTarget(e,t){return tt.resolve(null)}getIndexType(e,t){return tt.resolve(0)}getFieldIndexes(e,t){return tt.resolve([])}getNextCollectionGroupToUpdate(e){return tt.resolve(null)}getMinOffset(e,t){return tt.resolve(Vd.min())}getMinOffsetFromCollectionGroup(e,t){return tt.resolve(Vd.min())}updateCollectionGroup(e,t,n){return tt.resolve()}updateIndexEntries(e,t){return tt.resolve()}}class xie{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new $s(Mn.comparator),s=!i.has(n);return this.index[t]=i.add(n),s}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new $s(Mn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new kv(0)}static kn(){return new kv(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ie{constructor(){this.changes=new zv(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ca.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?tt.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bie{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eie{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(n!==null&&zy(n.mutation,i,vA.empty(),us.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,kr()).next(()=>n))}getLocalViewOfDocuments(e,t,n=kr()){const i=W0();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,n).next(s=>{let a=Yw();return s.forEach((o,A)=>{a=a.insert(o,A.overlayedDocument)}),a}))}getOverlayedDocuments(e,t){const n=W0();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,kr()))}populateOverlays(e,t,n){const i=[];return n.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{t.set(a,o)})})}computeViews(e,t,n,i){let s=Rh();const a=Ky(),o=function(){return Ky()}();return t.forEach((A,l)=>{const c=n.get(l.key);i.has(l.key)&&(c===void 0||c.mutation instanceof i0)?s=s.insert(l.key,l):c!==void 0?(a.set(l.key,c.mutation.getFieldMask()),zy(c.mutation,l,c.mutation.getFieldMask(),us.now())):a.set(l.key,vA.empty())}),this.recalculateAndSaveOverlays(e,s).next(A=>(A.forEach((l,c)=>a.set(l,c)),t.forEach((l,c)=>{var u;return o.set(l,new bie(c,(u=a.get(l))!==null&&u!==void 0?u:null))}),o))}recalculateAndSaveOverlays(e,t){const n=Ky();let i=new Ai((a,o)=>a-o),s=kr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>{for(const o of a)o.keys().forEach(A=>{const l=t.get(A);if(l===null)return;let c=n.get(A)||vA.empty();c=o.applyToLocalView(l,c),n.set(A,c);const u=(i.get(o.batchId)||kr()).add(A);i=i.insert(o.batchId,u)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const A=o.getNext(),l=A.key,c=A.value,u=Ij();c.forEach(h=>{if(!s.has(h)){const f=Dj(t.get(h),n.get(h));f!==null&&u.set(h,f),s=s.add(h)}}),a.push(this.documentOverlayCache.saveOverlays(e,l,u))}return tt.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,i){return function(a){return $t.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Cj(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-s.size):tt.resolve(W0());let o=-1,A=s;return a.next(l=>tt.forEach(l,(c,u)=>(o<u.largestBatchId&&(o=u.largestBatchId),s.get(c)?tt.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{A=A.insert(c,h)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,A,l,kr())).next(c=>({batchId:o,changes:Fj(c)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new $t(t)).next(n=>{let i=Yw();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const s=t.collectionGroup;let a=Yw();return this.indexManager.getCollectionParents(e,s).next(o=>tt.forEach(o,A=>{const l=function(u,h){return new q_(h,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(t,A.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,n,i).next(c=>{c.forEach((u,h)=>{a=a.insert(u,h)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,s,i))).next(a=>{s.forEach((A,l)=>{const c=l.getKey();a.get(c)===null&&(a=a.insert(c,Ca.newInvalidDocument(c)))});let o=Yw();return a.forEach((A,l)=>{const c=s.get(A);c!==void 0&&zy(c.mutation,l,vA.empty(),us.now()),K5(t,l)&&(o=o.insert(A,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cie{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return tt.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Xc(i.createTime)}}(t)),tt.resolve()}getNamedQuery(e,t){return tt.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:wie(i.bundledQuery),readTime:Xc(i.readTime)}}(t)),tt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bie{constructor(){this.overlays=new Ai($t.comparator),this.Ir=new Map}getOverlay(e,t){return tt.resolve(this.overlays.get(t))}getOverlays(e,t){const n=W0();return tt.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((i,s)=>{this.ht(e,t,s)}),tt.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(n)),tt.resolve()}getOverlaysForCollection(e,t,n){const i=W0(),s=t.length+1,a=new $t(t.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const A=o.getNext().value,l=A.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===s&&A.largestBatchId>n&&i.set(A.getKey(),A)}return tt.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let s=new Ai((l,c)=>l-c);const a=this.overlays.getIterator();for(;a.hasNext();){const l=a.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>n){let c=s.get(l.largestBatchId);c===null&&(c=W0(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const o=W0(),A=s.getIterator();for(;A.hasNext()&&(A.getNext().value.forEach((l,c)=>o.set(l,c)),!(o.size()>=i)););return tt.resolve(o)}ht(e,t,n){const i=this.overlays.get(n.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new qne(t,n));let s=this.Ir.get(t);s===void 0&&(s=kr(),this.Ir.set(t,s)),this.Ir.set(t,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sie{constructor(){this.sessionToken=Zs.EMPTY_BYTE_STRING}getSessionToken(e){return tt.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,tt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(){this.Tr=new $s(_s.Er),this.dr=new $s(_s.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new _s(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.Vr(new _s(e,t))}mr(e,t){e.forEach(n=>this.removeReference(n,t))}gr(e){const t=new $t(new Mn([])),n=new _s(t,e),i=new _s(t,e+1),s=[];return this.dr.forEachInRange([n,i],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new $t(new Mn([])),n=new _s(t,e),i=new _s(t,e+1);let s=kr();return this.dr.forEachInRange([n,i],a=>{s=s.add(a.key)}),s}containsKey(e){const t=new _s(e,0),n=this.Tr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class _s{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return $t.comparator(e.key,t.key)||qr(e.wr,t.wr)}static Ar(e,t){return qr(e.wr,t.wr)||$t.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tie{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new $s(_s.Er)}checkEmpty(e){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new $ne(s,t,n,i);this.mutationQueue.push(a);for(const o of i)this.br=this.br.add(new _s(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return tt.resolve(a)}lookupMutationBatch(e,t){return tt.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.vr(n),s=i<0?0:i;return tt.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new _s(t,0),i=new _s(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([n,i],a=>{const o=this.Dr(a.wr);s.push(o)}),tt.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new $s(qr);return t.forEach(i=>{const s=new _s(i,0),a=new _s(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],o=>{n=n.add(o.wr)})}),tt.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let s=n;$t.isDocumentKey(s)||(s=s.child(""));const a=new _s(new $t(s),0);let o=new $s(qr);return this.br.forEachWhile(A=>{const l=A.key.path;return!!n.isPrefixOf(l)&&(l.length===i&&(o=o.add(A.wr)),!0)},a),tt.resolve(this.Cr(o))}Cr(e){const t=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){dn(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return tt.forEach(t.mutations,i=>{const s=new _s(i.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,t){const n=new _s(t,0),i=this.br.firstAfterOrEqual(n);return tt.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,tt.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fie{constructor(e){this.Mr=e,this.docs=function(){return new Ai($t.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),s=i?i.size:0,a=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return tt.resolve(n?n.document.mutableCopy():Ca.newInvalidDocument(t))}getEntries(e,t){let n=Rh();return t.forEach(i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():Ca.newInvalidDocument(i))}),tt.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let s=Rh();const a=t.path,o=new $t(a.child("")),A=this.docs.getIteratorFrom(o);for(;A.hasNext();){const{key:l,value:{document:c}}=A.getNext();if(!a.isPrefixOf(l.path))break;l.path.length>a.length+1||une(cne(c),n)<=0||(i.has(c.key)||K5(t,c))&&(s=s.insert(c.key,c.mutableCopy()))}return tt.resolve(s)}getAllFromCollectionGroup(e,t,n,i){sr()}Or(e,t){return tt.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new Iie(this)}getSize(e){return tt.resolve(this.size)}}class Iie extends _ie{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),tt.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kie{constructor(e){this.persistence=e,this.Nr=new zv(t=>iR(t),sR),this.lastRemoteSnapshotVersion=Ar.min(),this.highestTargetId=0,this.Lr=0,this.Br=new uR,this.targetCount=0,this.kr=kv.Bn()}forEachTarget(e,t){return this.Nr.forEach((n,i)=>t(i)),tt.resolve()}getLastRemoteSnapshotVersion(e){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return tt.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),tt.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new kv(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,tt.resolve()}updateTargetData(e,t){return this.Kn(t),tt.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,tt.resolve()}removeTargets(e,t,n){let i=0;const s=[];return this.Nr.forEach((a,o)=>{o.sequenceNumber<=t&&n.get(o.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),tt.waitFor(s).next(()=>i)}getTargetCount(e){return tt.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return tt.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),tt.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),tt.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),tt.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return tt.resolve(n)}containsKey(e,t){return tt.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lie{constructor(e,t){this.qr={},this.overlays={},this.Qr=new eR(0),this.Kr=!1,this.Kr=!0,this.$r=new Sie,this.referenceDelegate=e(this),this.Ur=new kie(this),this.indexManager=new yie,this.remoteDocumentCache=function(i){return new Fie(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new vie(t),this.Gr=new Cie(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Bie,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new Tie(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){Rt("MemoryPersistence","Starting transaction:",e);const i=new Pie(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,t){return tt.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,t)))}}class Pie extends fne{constructor(e){super(),this.currentSequenceNumber=e}}class hR{constructor(e){this.persistence=e,this.Jr=new uR,this.Yr=null}static Zr(e){return new hR(e)}get Xr(){if(this.Yr)return this.Yr;throw sr()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),tt.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),tt.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),tt.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>n.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.Xr,n=>{const i=$t.fromPath(n);return this.ei(e,i).next(s=>{s||t.removeEntry(i,Ar.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(n=>{n?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return tt.or([()=>tt.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=i}static Wi(e,t){let n=kr(),i=kr();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new fR(e,t.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rie{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nie{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Dte()?8:dne(La())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,i){const s={result:null};return this.Yi(e,t).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(e,t,i,n).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new Rie;return this.Xi(e,t,a).next(o=>{if(s.result=o,this.zi)return this.es(e,t,a,o.size)})}).next(()=>s.result)}es(e,t,n,i){return n.documentReadCount<this.ji?(Iw()<=Nr.DEBUG&&Rt("QueryEngine","SDK will not create cache indexes for query:",fm(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),tt.resolve()):(Iw()<=Nr.DEBUG&&Rt("QueryEngine","Query:",fm(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(Iw()<=Nr.DEBUG&&Rt("QueryEngine","The SDK decides to create cache indexes for query:",fm(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qc(t))):tt.resolve())}Yi(e,t){if(bM(t))return tt.resolve(null);let n=qc(t);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=vk(t,null,"F"),n=qc(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const a=kr(...s);return this.Ji.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,n).next(A=>{const l=this.ts(t,o);return this.ns(t,l,a,A.readTime)?this.Yi(e,vk(t,null,"F")):this.rs(e,l,t,A)}))})))}Zi(e,t,n,i){return bM(t)||i.isEqual(Ar.min())?tt.resolve(null):this.Ji.getDocuments(e,n).next(s=>{const a=this.ts(t,s);return this.ns(t,a,n,i)?tt.resolve(null):(Iw()<=Nr.DEBUG&&Rt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),fm(t)),this.rs(e,a,t,lne(i,-1)).next(o=>o))})}ts(e,t){let n=new $s(Sj(e));return t.forEach((i,s)=>{K5(e,s)&&(n=n.add(s))}),n}ns(e,t,n,i){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,t,n){return Iw()<=Nr.DEBUG&&Rt("QueryEngine","Using full collection scan to execute query:",fm(t)),this.Ji.getDocumentsMatchingQuery(e,t,Vd.min(),n)}rs(e,t,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(s=>(t.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Die{constructor(e,t,n,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new Ai(qr),this._s=new zv(s=>iR(s),sR),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Eie(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function Uie(r,e,t,n){return new Die(r,e,t,n)}async function $j(r,e){const t=ur(r);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let i;return t.mutationQueue.getAllMutationBatches(n).next(s=>(i=s,t.ls(e),t.mutationQueue.getAllMutationBatches(n))).next(s=>{const a=[],o=[];let A=kr();for(const l of i){a.push(l.batchId);for(const c of l.mutations)A=A.add(c.key)}for(const l of s){o.push(l.batchId);for(const c of l.mutations)A=A.add(c.key)}return t.localDocuments.getDocuments(n,A).next(l=>({hs:l,removedBatchIds:a,addedBatchIds:o}))})})}function Mie(r,e){const t=ur(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),s=t.cs.newChangeBuffer({trackRemovals:!0});return function(o,A,l,c){const u=l.batch,h=u.keys();let f=tt.resolve();return h.forEach(d=>{f=f.next(()=>c.getEntry(A,d)).next(p=>{const v=l.docVersions.get(d);dn(v!==null),p.version.compareTo(v)<0&&(u.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),c.addEntry(p)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(A,u))}(t,n,e,s).next(()=>s.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let A=kr();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(A=A.add(o.batch.mutations[l].key));return A}(e))).next(()=>t.localDocuments.getDocuments(n,i))})}function qj(r){const e=ur(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function Oie(r,e){const t=ur(r),n=e.snapshotVersion;let i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;const o=[];e.targetChanges.forEach((c,u)=>{const h=i.get(u);if(!h)return;o.push(t.Ur.removeMatchingKeys(s,c.removedDocuments,u).next(()=>t.Ur.addMatchingKeys(s,c.addedDocuments,u)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(u)!==null?f=f.withResumeToken(Zs.EMPTY_BYTE_STRING,Ar.min()).withLastLimboFreeSnapshotVersion(Ar.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,n)),i=i.insert(u,f),function(p,v,m){return p.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(h,f,c)&&o.push(t.Ur.updateTargetData(s,f))});let A=Rh(),l=kr();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&o.push(t.persistence.referenceDelegate.updateLimboDocument(s,c))}),o.push(Qie(s,a,e.documentUpdates).next(c=>{A=c.Ps,l=c.Is})),!n.isEqual(Ar.min())){const c=t.Ur.getLastRemoteSnapshotVersion(s).next(u=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,n));o.push(c)}return tt.waitFor(o).next(()=>a.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,A,l)).next(()=>A)}).then(s=>(t.os=i,s))}function Qie(r,e,t){let n=kr(),i=kr();return t.forEach(s=>n=n.add(s)),e.getEntries(r,n).next(s=>{let a=Rh();return t.forEach((o,A)=>{const l=s.get(o);A.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(o)),A.isNoDocument()&&A.version.isEqual(Ar.min())?(e.removeEntry(o,A.readTime),a=a.insert(o,A)):!l.isValidDocument()||A.version.compareTo(l.version)>0||A.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(A),a=a.insert(o,A)):Rt("LocalStore","Ignoring outdated watch update for ",o,". Current version:",l.version," Watch version:",A.version)}),{Ps:a,Is:i}})}function Hie(r,e){const t=ur(r);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function Vie(r,e){const t=ur(r);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return t.Ur.getTargetData(n,e).next(s=>s?(i=s,tt.resolve(i)):t.Ur.allocateTargetId(n).next(a=>(i=new ld(e,a,"TargetPurposeListen",n.currentSequenceNumber),t.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=t.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(n.targetId,n),t._s.set(e,n.targetId)),n})}async function bk(r,e,t){const n=ur(r),i=n.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",s,a=>n.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!$_(a))throw a;Rt("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function RM(r,e,t){const n=ur(r);let i=Ar.min(),s=kr();return n.persistence.runTransaction("Execute query","readwrite",a=>function(A,l,c){const u=ur(A),h=u._s.get(c);return h!==void 0?tt.resolve(u.os.get(h)):u.Ur.getTargetData(l,c)}(n,a,qc(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(a,o.targetId).next(A=>{s=A})}).next(()=>n.ss.getDocumentsMatchingQuery(a,e,t?i:Ar.min(),t?s:kr())).next(o=>(jie(n,Lne(e),o),{documents:o,Ts:s})))}function jie(r,e,t){let n=r.us.get(e)||Ar.min();t.forEach((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),r.us.set(e,n)}class NM{constructor(){this.activeTargetIds=Mne()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Kie{constructor(){this.so=new NM,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new NM,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zie{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Rt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Rt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sE=null;function DF(){return sE===null?sE=function(){return 268435456+Math.round(2147483648*Math.random())}():sE++,"0x"+sE.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wie={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gie{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="WebChannelConnection";class $ie extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+t.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(t,n,i,s,a){const o=DF(),A=this.xo(t,n.toUriEncodedString());Rt("RestConnection",`Sending RPC '${t}' ${o}:`,A,i);const l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,a),this.No(t,A,l,i).then(c=>(Rt("RestConnection",`Received RPC '${t}' ${o}: `,c),c),c=>{throw Sv("RestConnection",`RPC '${t}' ${o} failed with error: `,c,"url: ",A,"request:",i),c})}Lo(t,n,i,s,a,o){return this.Mo(t,n,i,s,a)}Oo(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Kv}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>t[a]=s),i&&i.headers.forEach((s,a)=>t[a]=s)}xo(t,n){const i=Wie[t];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,i){const s=DF();return new Promise((a,o)=>{const A=new lj;A.setWithCredentials(!0),A.listenOnce(cj.COMPLETE,()=>{try{switch(A.getLastErrorCode()){case bC.NO_ERROR:const c=A.getResponseJson();Rt(ia,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),a(c);break;case bC.TIMEOUT:Rt(ia,`RPC '${e}' ${s} timed out`),o(new bt(Ye.DEADLINE_EXCEEDED,"Request time out"));break;case bC.HTTP_ERROR:const u=A.getStatus();if(Rt(ia,`RPC '${e}' ${s} failed with status:`,u,"response text:",A.getResponseText()),u>0){let h=A.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const d=function(v){const m=v.toLowerCase().replace(/_/g,"-");return Object.values(Ye).indexOf(m)>=0?m:Ye.UNKNOWN}(f.status);o(new bt(d,f.message))}else o(new bt(Ye.UNKNOWN,"Server responded with status "+A.getStatus()))}else o(new bt(Ye.UNAVAILABLE,"Connection failed."));break;default:sr()}}finally{Rt(ia,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);Rt(ia,`RPC '${e}' ${s} sending request:`,i),A.send(t,"POST",l,n,15)})}Bo(e,t,n){const i=DF(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=fj(),o=hj(),A={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(A.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(A.useFetchStreams=!0),this.Oo(A.initMessageHeaders,t,n),A.encodeInitMessageHeaders=!0;const c=s.join("");Rt(ia,`Creating RPC '${e}' stream ${i}: ${c}`,A);const u=a.createWebChannel(c,A);let h=!1,f=!1;const d=new Gie({Io:v=>{f?Rt(ia,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(Rt(ia,`Opening RPC '${e}' stream ${i} transport.`),u.open(),h=!0),Rt(ia,`RPC '${e}' stream ${i} sending:`,v),u.send(v))},To:()=>u.close()}),p=(v,m,x)=>{v.listen(m,b=>{try{x(b)}catch(T){setTimeout(()=>{throw T},0)}})};return p(u,Xw.EventType.OPEN,()=>{f||(Rt(ia,`RPC '${e}' stream ${i} transport opened.`),d.yo())}),p(u,Xw.EventType.CLOSE,()=>{f||(f=!0,Rt(ia,`RPC '${e}' stream ${i} transport closed`),d.So())}),p(u,Xw.EventType.ERROR,v=>{f||(f=!0,Sv(ia,`RPC '${e}' stream ${i} transport errored:`,v),d.So(new bt(Ye.UNAVAILABLE,"The operation could not be completed")))}),p(u,Xw.EventType.MESSAGE,v=>{var m;if(!f){const x=v.data[0];dn(!!x);const b=x,T=b.error||((m=b[0])===null||m===void 0?void 0:m.error);if(T){Rt(ia,`RPC '${e}' stream ${i} received error:`,T);const R=T.status;let P=function(_){const I=Hi[_];if(I!==void 0)return Mj(I)}(R),B=T.message;P===void 0&&(P=Ye.INTERNAL,B="Unknown error status: "+R+" with message "+T.message),f=!0,d.So(new bt(P,B)),u.close()}else Rt(ia,`RPC '${e}' stream ${i} received:`,x),d.bo(x)}}),p(o,uj.STAT_EVENT,v=>{v.stat===hk.PROXY?Rt(ia,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===hk.NOPROXY&&Rt(ia,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{d.wo()},0),d}}function UF(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q5(r){return new iie(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e,t,n=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=n,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-n);i>0&&Rt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e,t,n,i,s,a,o,A){this.ui=e,this.Ho=n,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=A,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Xj(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===Ye.RESOURCE_EXHAUSTED?(Ph(t.toString()),Ph("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===Ye.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===t&&this.P_(n,i)},n=>{e(()=>{const i=new bt(Ye.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Rt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(Rt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qie extends Yj{constructor(e,t,n,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,a),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=oie(this.serializer,e),n=function(s){if(!("targetChange"in s))return Ar.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Ar.min():a.readTime?Xc(a.readTime):Ar.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=_k(this.serializer),t.addTarget=function(s,a){let o;const A=a.target;if(o=gk(A)?{documents:cie(s,A)}:{query:uie(s,A)._t},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=Hj(s,a.resumeToken);const l=wk(s,a.expectedCount);l!==null&&(o.expectedCount=l)}else if(a.snapshotVersion.compareTo(Ar.min())>0){o.readTime=nS(s,a.snapshotVersion.toTimestamp());const l=wk(s,a.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const n=fie(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=_k(this.serializer),t.removeTarget=e,this.a_(t)}}class Xie extends Yj{constructor(e,t,n,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return dn(!!e.streamToken),this.lastStreamToken=e.streamToken,dn(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){dn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=lie(e.writeResults,e.commitTime),n=Xc(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=_k(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>Aie(this.serializer,n))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yie extends class{}{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new bt(Ye.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,yk(t,n),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new bt(Ye.UNKNOWN,s.toString())})}Lo(e,t,n,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Lo(e,yk(t,n),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new bt(Ye.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Jie{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ph(t),this.D_=!1):Rt("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zie{constructor(e,t,n,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{n.enqueueAndForget(async()=>{Dg(this)&&(Rt("RemoteStore","Restarting streams for network reachability change."),await async function(A){const l=ur(A);l.L_.add(4),await J_(l),l.q_.set("Unknown"),l.L_.delete(4),await X5(l)}(this))})}),this.q_=new Jie(n,i)}}async function X5(r){if(Dg(r))for(const e of r.B_)await e(!0)}async function J_(r){for(const e of r.B_)await e(!1)}function Jj(r,e){const t=ur(r);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),mR(t)?gR(t):Wv(t).r_()&&pR(t,e))}function dR(r,e){const t=ur(r),n=Wv(t);t.N_.delete(e),n.r_()&&Zj(t,e),t.N_.size===0&&(n.r_()?n.o_():Dg(t)&&t.q_.set("Unknown"))}function pR(r,e){if(r.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ar.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Wv(r).A_(e)}function Zj(r,e){r.Q_.xe(e),Wv(r).R_(e)}function gR(r){r.Q_=new eie({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>r.N_.get(e)||null,tt:()=>r.datastore.serializer.databaseId}),Wv(r).start(),r.q_.v_()}function mR(r){return Dg(r)&&!Wv(r).n_()&&r.N_.size>0}function Dg(r){return ur(r).L_.size===0}function eK(r){r.Q_=void 0}async function ese(r){r.q_.set("Online")}async function tse(r){r.N_.forEach((e,t)=>{pR(r,e)})}async function rse(r,e){eK(r),mR(r)?(r.q_.M_(e),gR(r)):r.q_.set("Unknown")}async function nse(r,e,t){if(r.q_.set("Online"),e instanceof Qj&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.N_.delete(o),i.Q_.removeTarget(o))}(r,e)}catch(n){Rt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await iS(r,n)}else if(e instanceof BC?r.Q_.Ke(e):e instanceof Oj?r.Q_.He(e):r.Q_.We(e),!t.isEqual(Ar.min()))try{const n=await qj(r.localStore);t.compareTo(n)>=0&&await function(s,a){const o=s.Q_.rt(a);return o.targetChanges.forEach((A,l)=>{if(A.resumeToken.approximateByteSize()>0){const c=s.N_.get(l);c&&s.N_.set(l,c.withResumeToken(A.resumeToken,a))}}),o.targetMismatches.forEach((A,l)=>{const c=s.N_.get(A);if(!c)return;s.N_.set(A,c.withResumeToken(Zs.EMPTY_BYTE_STRING,c.snapshotVersion)),Zj(s,A);const u=new ld(c.target,A,l,c.sequenceNumber);pR(s,u)}),s.remoteSyncer.applyRemoteEvent(o)}(r,t)}catch(n){Rt("RemoteStore","Failed to raise snapshot:",n),await iS(r,n)}}async function iS(r,e,t){if(!$_(e))throw e;r.L_.add(1),await J_(r),r.q_.set("Offline"),t||(t=()=>qj(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{Rt("RemoteStore","Retrying IndexedDB access"),await t(),r.L_.delete(1),await X5(r)})}function tK(r,e){return e().catch(t=>iS(r,t,e))}async function Y5(r){const e=ur(r),t=Kd(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;ise(e);)try{const i=await Hie(e.localStore,n);if(i===null){e.O_.length===0&&t.o_();break}n=i.batchId,sse(e,i)}catch(i){await iS(e,i)}rK(e)&&nK(e)}function ise(r){return Dg(r)&&r.O_.length<10}function sse(r,e){r.O_.push(e);const t=Kd(r);t.r_()&&t.V_&&t.m_(e.mutations)}function rK(r){return Dg(r)&&!Kd(r).n_()&&r.O_.length>0}function nK(r){Kd(r).start()}async function ase(r){Kd(r).p_()}async function ose(r){const e=Kd(r);for(const t of r.O_)e.m_(t.mutations)}async function Ase(r,e,t){const n=r.O_.shift(),i=AR.from(n,e,t);await tK(r,()=>r.remoteSyncer.applySuccessfulWrite(i)),await Y5(r)}async function lse(r,e){e&&Kd(r).V_&&await async function(n,i){if(function(a){return Yne(a)&&a!==Ye.ABORTED}(i.code)){const s=n.O_.shift();Kd(n).s_(),await tK(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Y5(n)}}(r,e),rK(r)&&nK(r)}async function UM(r,e){const t=ur(r);t.asyncQueue.verifyOperationInProgress(),Rt("RemoteStore","RemoteStore received new credentials");const n=Dg(t);t.L_.add(3),await J_(t),n&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await X5(t)}async function cse(r,e){const t=ur(r);e?(t.L_.delete(2),await X5(t)):e||(t.L_.add(2),await J_(t),t.q_.set("Unknown"))}function Wv(r){return r.K_||(r.K_=function(t,n,i){const s=ur(t);return s.w_(),new qie(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(r.datastore,r.asyncQueue,{Eo:ese.bind(null,r),Ro:tse.bind(null,r),mo:rse.bind(null,r),d_:nse.bind(null,r)}),r.B_.push(async e=>{e?(r.K_.s_(),mR(r)?gR(r):r.q_.set("Unknown")):(await r.K_.stop(),eK(r))})),r.K_}function Kd(r){return r.U_||(r.U_=function(t,n,i){const s=ur(t);return s.w_(),new Xie(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:ase.bind(null,r),mo:lse.bind(null,r),f_:ose.bind(null,r),g_:Ase.bind(null,r)}),r.B_.push(async e=>{e?(r.U_.s_(),await Y5(r)):(await r.U_.stop(),r.O_.length>0&&(Rt("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))})),r.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,t,n,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new _h,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,s){const a=Date.now()+n,o=new vR(e,t,a,i,s);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new bt(Ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wR(r,e){if(Ph("AsyncQueue",`${e}: ${r}`),$_(r))return new bt(Ye.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e){this.comparator=e?(t,n)=>e(t,n)||$t.comparator(t.key,n.key):(t,n)=>$t.comparator(t.key,n.key),this.keyedMap=Yw(),this.sortedSet=new Ai(this.comparator)}static emptySet(e){return new Jm(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Jm)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new Jm;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(){this.W_=new Ai($t.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(t,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(t):e.type===1&&n.type===2?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):sr():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,n)=>{e.push(n)}),e}}class Lv{constructor(e,t,n,i,s,a,o,A,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=A,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,i,s){const a=[];return t.forEach(o=>{a.push({type:0,doc:o})}),new Lv(e,t,Jm.emptySet(t),a,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&j5(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class use{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class hse{constructor(){this.queries=OM(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,n){const i=ur(t),s=i.queries;i.queries=OM(),s.forEach((a,o)=>{for(const A of o.j_)A.onError(n)})})(this,new bt(Ye.ABORTED,"Firestore shutting down"))}}function OM(){return new zv(r=>Bj(r),j5)}async function iK(r,e){const t=ur(r);let n=3;const i=e.query;let s=t.queries.get(i);s?!s.H_()&&e.J_()&&(n=2):(s=new use,n=e.J_()?0:1);try{switch(n){case 0:s.z_=await t.onListen(i,!0);break;case 1:s.z_=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(a){const o=wR(a,`Initialization of query '${fm(e.query)}' failed`);return void e.onError(o)}t.queries.set(i,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&yR(t)}async function sK(r,e){const t=ur(r),n=e.query;let i=3;const s=t.queries.get(n);if(s){const a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function fse(r,e){const t=ur(r);let n=!1;for(const i of e){const s=i.query,a=t.queries.get(s);if(a){for(const o of a.j_)o.X_(i)&&(n=!0);a.z_=i}}n&&yR(t)}function dse(r,e,t){const n=ur(r),i=n.queries.get(e);if(i)for(const s of i.j_)s.onError(t);n.queries.delete(e)}function yR(r){r.Y_.forEach(e=>{e.next()})}var Ek,QM;(QM=Ek||(Ek={})).ea="default",QM.Cache="cache";class aK{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Lv(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const n=t!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Lv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Ek.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oK{constructor(e){this.key=e}}class AK{constructor(e){this.key=e}}class pse{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=kr(),this.mutatedKeys=kr(),this.Aa=Sj(e),this.Ra=new Jm(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new MM,i=t?t.Ra:this.Ra;let s=t?t.mutatedKeys:this.mutatedKeys,a=i,o=!1;const A=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,u)=>{const h=i.get(c),f=K5(this.query,u)?u:null,d=!!h&&this.mutatedKeys.has(h.key),p=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let v=!1;h&&f?h.data.isEqual(f.data)?d!==p&&(n.track({type:3,doc:f}),v=!0):this.ga(h,f)||(n.track({type:2,doc:f}),v=!0,(A&&this.Aa(f,A)>0||l&&this.Aa(f,l)<0)&&(o=!0)):!h&&f?(n.track({type:0,doc:f}),v=!0):h&&!f&&(n.track({type:1,doc:h}),v=!0,(A||l)&&(o=!0)),v&&(f?(a=a.add(f),s=p?s.add(c):s.delete(c)):(a=a.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const c=this.query.limitType==="F"?a.last():a.first();a=a.delete(c.key),s=s.delete(c.key),n.track({type:1,doc:c})}return{Ra:a,fa:n,ns:o,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((c,u)=>function(f,d){const p=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return sr()}};return p(f)-p(d)}(c.type,u.type)||this.Aa(c.doc,u.doc)),this.pa(n),i=i!=null&&i;const o=t&&!i?this.ya():[],A=this.da.size===0&&this.current&&!i?1:0,l=A!==this.Ea;return this.Ea=A,a.length!==0||l?{snapshot:new Lv(this.query,e.Ra,s,a,e.mutatedKeys,A===0,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new MM,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=kr(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const t=[];return e.forEach(n=>{this.da.has(n)||t.push(new AK(n))}),this.da.forEach(n=>{e.has(n)||t.push(new oK(n))}),t}ba(e){this.Ta=e.Ts,this.da=kr();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Lv.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class gse{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class mse{constructor(e){this.key=e,this.va=!1}}class vse{constructor(e,t,n,i,s,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new zv(o=>Bj(o),j5),this.Ma=new Map,this.xa=new Set,this.Oa=new Ai($t.comparator),this.Na=new Map,this.La=new uR,this.Ba={},this.ka=new Map,this.qa=kv.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function wse(r,e,t=!0){const n=dK(r);let i;const s=n.Fa.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await lK(n,e,t,!0),i}async function yse(r,e){const t=dK(r);await lK(t,e,!0,!1)}async function lK(r,e,t,n){const i=await Vie(r.localStore,qc(e)),s=i.targetId,a=r.sharedClientState.addLocalQueryTarget(s,t);let o;return n&&(o=await xse(r,e,s,a==="current",i.resumeToken)),r.isPrimaryClient&&t&&Jj(r.remoteStore,i),o}async function xse(r,e,t,n,i){r.Ka=(u,h,f)=>async function(p,v,m,x){let b=v.view.ma(m);b.ns&&(b=await RM(p.localStore,v.query,!1).then(({documents:B})=>v.view.ma(B,b)));const T=x&&x.targetChanges.get(v.targetId),R=x&&x.targetMismatches.get(v.targetId)!=null,P=v.view.applyChanges(b,p.isPrimaryClient,T,R);return VM(p,v.targetId,P.wa),P.snapshot}(r,u,h,f);const s=await RM(r.localStore,e,!0),a=new pse(e,s.Ts),o=a.ma(s.documents),A=Y_.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",i),l=a.applyChanges(o,r.isPrimaryClient,A);VM(r,t,l.wa);const c=new gse(e,t,a);return r.Fa.set(e,c),r.Ma.has(t)?r.Ma.get(t).push(e):r.Ma.set(t,[e]),l.snapshot}async function _se(r,e,t){const n=ur(r),i=n.Fa.get(e),s=n.Ma.get(i.targetId);if(s.length>1)return n.Ma.set(i.targetId,s.filter(a=>!j5(a,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await bk(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),t&&dR(n.remoteStore,i.targetId),Ck(n,i.targetId)}).catch(G_)):(Ck(n,i.targetId),await bk(n.localStore,i.targetId,!0))}async function bse(r,e){const t=ur(r),n=t.Fa.get(e),i=t.Ma.get(n.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),dR(t.remoteStore,n.targetId))}async function Ese(r,e,t){const n=kse(r);try{const i=await function(a,o){const A=ur(a),l=us.now(),c=o.reduce((f,d)=>f.add(d.key),kr());let u,h;return A.persistence.runTransaction("Locally write mutations","readwrite",f=>{let d=Rh(),p=kr();return A.cs.getEntries(f,c).next(v=>{d=v,d.forEach((m,x)=>{x.isValidDocument()||(p=p.add(m))})}).next(()=>A.localDocuments.getOverlayedDocuments(f,d)).next(v=>{u=v;const m=[];for(const x of o){const b=Wne(x,u.get(x.key).overlayedDocument);b!=null&&m.push(new i0(x.key,b,vj(b.value.mapValue),Za.exists(!0)))}return A.mutationQueue.addMutationBatch(f,l,m,o)}).next(v=>{h=v;const m=v.applyToLocalDocumentSet(u,p);return A.documentOverlayCache.saveOverlays(f,v.batchId,m)})}).then(()=>({batchId:h.batchId,changes:Fj(u)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(a,o,A){let l=a.Ba[a.currentUser.toKey()];l||(l=new Ai(qr)),l=l.insert(o,A),a.Ba[a.currentUser.toKey()]=l}(n,i.batchId,t),await Z_(n,i.changes),await Y5(n.remoteStore)}catch(i){const s=wR(i,"Failed to persist write");t.reject(s)}}async function cK(r,e){const t=ur(r);try{const n=await Oie(t.localStore,e);e.targetChanges.forEach((i,s)=>{const a=t.Na.get(s);a&&(dn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?dn(a.va):i.removedDocuments.size>0&&(dn(a.va),a.va=!1))}),await Z_(t,n,e)}catch(n){await G_(n)}}function HM(r,e,t){const n=ur(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const i=[];n.Fa.forEach((s,a)=>{const o=a.view.Z_(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const A=ur(a);A.onlineState=o;let l=!1;A.queries.forEach((c,u)=>{for(const h of u.j_)h.Z_(o)&&(l=!0)}),l&&yR(A)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Cse(r,e,t){const n=ur(r);n.sharedClientState.updateQueryState(e,"rejected",t);const i=n.Na.get(e),s=i&&i.key;if(s){let a=new Ai($t.comparator);a=a.insert(s,Ca.newNoDocument(s,Ar.min()));const o=kr().add(s),A=new $5(Ar.min(),new Map,new Ai(qr),a,o);await cK(n,A),n.Oa=n.Oa.remove(s),n.Na.delete(e),xR(n)}else await bk(n.localStore,e,!1).then(()=>Ck(n,e,t)).catch(G_)}async function Bse(r,e){const t=ur(r),n=e.batch.batchId;try{const i=await Mie(t.localStore,e);hK(t,n,null),uK(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await Z_(t,i)}catch(i){await G_(i)}}async function Sse(r,e,t){const n=ur(r);try{const i=await function(a,o){const A=ur(a);return A.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return A.mutationQueue.lookupMutationBatch(l,o).next(u=>(dn(u!==null),c=u.keys(),A.mutationQueue.removeMutationBatch(l,u))).next(()=>A.mutationQueue.performConsistencyCheck(l)).next(()=>A.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>A.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>A.localDocuments.getDocuments(l,c))})}(n.localStore,e);hK(n,e,t),uK(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await Z_(n,i)}catch(i){await G_(i)}}function uK(r,e){(r.ka.get(e)||[]).forEach(t=>{t.resolve()}),r.ka.delete(e)}function hK(r,e,t){const n=ur(r);let i=n.Ba[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function Ck(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Ma.get(e))r.Fa.delete(n),t&&r.Ca.$a(n,t);r.Ma.delete(e),r.isPrimaryClient&&r.La.gr(e).forEach(n=>{r.La.containsKey(n)||fK(r,n)})}function fK(r,e){r.xa.delete(e.path.canonicalString());const t=r.Oa.get(e);t!==null&&(dR(r.remoteStore,t),r.Oa=r.Oa.remove(e),r.Na.delete(t),xR(r))}function VM(r,e,t){for(const n of t)n instanceof oK?(r.La.addReference(n.key,e),Tse(r,n)):n instanceof AK?(Rt("SyncEngine","Document no longer in limbo: "+n.key),r.La.removeReference(n.key,e),r.La.containsKey(n.key)||fK(r,n.key)):sr()}function Tse(r,e){const t=e.key,n=t.path.canonicalString();r.Oa.get(t)||r.xa.has(n)||(Rt("SyncEngine","New document in limbo: "+t),r.xa.add(n),xR(r))}function xR(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const e=r.xa.values().next().value;r.xa.delete(e);const t=new $t(Mn.fromString(e)),n=r.qa.next();r.Na.set(n,new mse(t)),r.Oa=r.Oa.insert(t,n),Jj(r.remoteStore,new ld(qc(aR(t.path)),n,"TargetPurposeLimboResolution",eR.oe))}}async function Z_(r,e,t){const n=ur(r),i=[],s=[],a=[];n.Fa.isEmpty()||(n.Fa.forEach((o,A)=>{a.push(n.Ka(A,e,t).then(l=>{var c;if((l||t)&&n.isPrimaryClient){const u=l?!l.fromCache:(c=t==null?void 0:t.targetChanges.get(A.targetId))===null||c===void 0?void 0:c.current;n.sharedClientState.updateQueryState(A.targetId,u?"current":"not-current")}if(l){i.push(l);const u=fR.Wi(A.targetId,l);s.push(u)}}))}),await Promise.all(a),n.Ca.d_(i),await async function(A,l){const c=ur(A);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>tt.forEach(l,h=>tt.forEach(h.$i,f=>c.persistence.referenceDelegate.addReference(u,h.targetId,f)).next(()=>tt.forEach(h.Ui,f=>c.persistence.referenceDelegate.removeReference(u,h.targetId,f)))))}catch(u){if(!$_(u))throw u;Rt("LocalStore","Failed to update sequence numbers: "+u)}for(const u of l){const h=u.targetId;if(!u.fromCache){const f=c.os.get(h),d=f.snapshotVersion,p=f.withLastLimboFreeSnapshotVersion(d);c.os=c.os.insert(h,p)}}}(n.localStore,s))}async function Fse(r,e){const t=ur(r);if(!t.currentUser.isEqual(e)){Rt("SyncEngine","User change. New user:",e.toKey());const n=await $j(t.localStore,e);t.currentUser=e,function(s,a){s.ka.forEach(o=>{o.forEach(A=>{A.reject(new bt(Ye.CANCELLED,a))})}),s.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Z_(t,n.hs)}}function Ise(r,e){const t=ur(r),n=t.Na.get(e);if(n&&n.va)return kr().add(n.key);{let i=kr();const s=t.Ma.get(e);if(!s)return i;for(const a of s){const o=t.Fa.get(a);i=i.unionWith(o.view.Va)}return i}}function dK(r){const e=ur(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=cK.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ise.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Cse.bind(null,e),e.Ca.d_=fse.bind(null,e.eventManager),e.Ca.$a=dse.bind(null,e.eventManager),e}function kse(r){const e=ur(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Bse.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Sse.bind(null,e),e}class sS{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=q5(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return Uie(this.persistence,new Nie,e.initialUser,this.serializer)}Ga(e){return new Lie(hR.Zr,this.serializer)}Wa(e){return new Kie}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sS.provider={build:()=>new sS};class Bk{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>HM(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Fse.bind(null,this.syncEngine),await cse(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new hse}()}createDatastore(e){const t=q5(e.databaseInfo.databaseId),n=function(s){return new $ie(s)}(e.databaseInfo);return function(s,a,o,A){return new Yie(s,a,o,A)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,i,s,a,o){return new Zie(n,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,t=>HM(this.syncEngine,t,0),function(){return DM.D()?new DM:new zie}())}createSyncEngine(e,t){return function(i,s,a,o,A,l,c){const u=new vse(i,s,a,o,A,l);return c&&(u.Qa=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const s=ur(i);Rt("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await J_(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Bk.provider={build:()=>new Bk};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pK{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ph("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lse{constructor(e,t,n,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=wa.UNAUTHENTICATED,this.clientId=pj.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async a=>{Rt("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(n,a=>(Rt("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _h;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=wR(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function MF(r,e){r.asyncQueue.verifyOperationInProgress(),Rt("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener(async i=>{n.isEqual(i)||(await $j(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function jM(r,e){r.asyncQueue.verifyOperationInProgress();const t=await Pse(r);Rt("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(n=>UM(e.remoteStore,n)),r.setAppCheckTokenChangeListener((n,i)=>UM(e.remoteStore,i)),r._onlineComponents=e}async function Pse(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Rt("FirestoreClient","Using user provided OfflineComponentProvider");try{await MF(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===Ye.FAILED_PRECONDITION||i.code===Ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Sv("Error using user provided cache. Falling back to memory cache: "+t),await MF(r,new sS)}}else Rt("FirestoreClient","Using default OfflineComponentProvider"),await MF(r,new sS);return r._offlineComponents}async function gK(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Rt("FirestoreClient","Using user provided OnlineComponentProvider"),await jM(r,r._uninitializedComponentsProvider._online)):(Rt("FirestoreClient","Using default OnlineComponentProvider"),await jM(r,new Bk))),r._onlineComponents}function Rse(r){return gK(r).then(e=>e.syncEngine)}async function mK(r){const e=await gK(r),t=e.eventManager;return t.onListen=wse.bind(null,e.syncEngine),t.onUnlisten=_se.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=yse.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=bse.bind(null,e.syncEngine),t}function Nse(r,e,t={}){const n=new _h;return r.asyncQueue.enqueueAndForget(async()=>function(s,a,o,A,l){const c=new pK({next:h=>{c.Za(),a.enqueueAndForget(()=>sK(s,u));const f=h.docs.has(o);!f&&h.fromCache?l.reject(new bt(Ye.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&A&&A.source==="server"?l.reject(new bt(Ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),u=new aK(aR(o.path),c,{includeMetadataChanges:!0,_a:!0});return iK(s,u)}(await mK(r),r.asyncQueue,e,t,n)),n.promise}function Dse(r,e,t={}){const n=new _h;return r.asyncQueue.enqueueAndForget(async()=>function(s,a,o,A,l){const c=new pK({next:h=>{c.Za(),a.enqueueAndForget(()=>sK(s,u)),h.fromCache&&A.source==="server"?l.reject(new bt(Ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),u=new aK(o,c,{includeMetadataChanges:!0,_a:!0});return iK(s,u)}(await mK(r),r.asyncQueue,e,t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vK(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wK(r,e,t){if(!t)throw new bt(Ye.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Use(r,e,t,n){if(e===!0&&n===!0)throw new bt(Ye.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function zM(r){if(!$t.isDocumentKey(r))throw new bt(Ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function WM(r){if($t.isDocumentKey(r))throw new bt(Ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function J5(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":sr()}function il(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new bt(Ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=J5(r);throw new bt(Ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new bt(Ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new bt(Ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Use("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vK((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new bt(Ye.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new bt(Ye.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new bt(Ye.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Z5{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new GM({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new bt(Ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new bt(Ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new GM(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new ene;switch(n.type){case"firstParty":return new ine(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new bt(Ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=KM.get(t);n&&(Rt("ComponentProvider","Removing Datastore"),KM.delete(t),n.terminate())}(this),Promise.resolve()}}function Mse(r,e,t,n={}){var i;const s=(r=il(r,Z5))._getSettings(),a=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&Sv("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),n.mockUserToken){let o,A;if(typeof n.mockUserToken=="string")o=n.mockUserToken,A=wa.MOCK_USER;else{o=Fte(n.mockUserToken,(i=r._app)===null||i===void 0?void 0:i.options.projectId);const l=n.mockUserToken.sub||n.mockUserToken.user_id;if(!l)throw new bt(Ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new wa(l)}r._authCredentials=new tne(new dj(o,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Gv(this.firestore,e,this._query)}}class eo{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ld(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new eo(this.firestore,e,this._key)}}class Ld extends Gv{constructor(e,t,n){super(e,t,aR(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new eo(this.firestore,null,new $t(e))}withConverter(e){return new Ld(this.firestore,e,this._path)}}function $v(r,e,...t){if(r=qi(r),wK("collection","path",e),r instanceof Z5){const n=Mn.fromString(e,...t);return WM(n),new Ld(r,null,n)}{if(!(r instanceof eo||r instanceof Ld))throw new bt(Ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Mn.fromString(e,...t));return WM(n),new Ld(r.firestore,null,n)}}function Nh(r,e,...t){if(r=qi(r),arguments.length===1&&(e=pj.newId()),wK("doc","path",e),r instanceof Z5){const n=Mn.fromString(e,...t);return zM(n),new eo(r,null,new $t(n))}{if(!(r instanceof eo||r instanceof Ld))throw new bt(Ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Mn.fromString(e,...t));return zM(n),new eo(r.firestore,r instanceof Ld?r.converter:null,new $t(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Xj(this,"async_queue_retry"),this.Vu=()=>{const n=UF();n&&Rt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const t=UF();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=UF();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new _h;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!$_(e))throw e;Rt("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(a){let o=a.message||"";return a.stack&&(o=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),o}(n);throw Ph("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const i=vR.createAndSchedule(this,e,t,n,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&sr()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class s0 extends Z5{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new $M,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $M(e),this._firestoreClient=void 0,await e}}}function Ose(r,e){const t=typeof r=="object"?r:H5(),n=typeof r=="string"?r:"(default)",i=Q5(t,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=ej("firestore");s&&Mse(i,...s)}return i}function eT(r){if(r._terminated)throw new bt(Ye.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Qse(r),r._firestoreClient}function Qse(r){var e,t,n;const i=r._freezeSettings(),s=function(o,A,l,c){return new mne(o,A,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,vK(c.experimentalLongPollingOptions),c.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,i);r._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),r._firestoreClient=new Lse(r._authCredentials,r._appCheckCredentials,r._queue,s,r._componentsProvider&&function(o){const A=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(A),_online:A}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pv(Zs.fromBase64String(e))}catch(t){throw new bt(Ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Pv(Zs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new bt(Ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new bt(Ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new bt(Ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qr(this._lat,e._lat)||qr(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hse=/^__.*__$/;class Vse{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new i0(e,this.data,this.fieldMask,t,this.fieldTransforms):new X_(e,this.data,t,this.fieldTransforms)}}class yK{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new i0(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function xK(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw sr()}}class ER{constructor(e,t,n,i,s,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new ER(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return aS(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(xK(this.Cu)&&Hse.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class jse{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||q5(e)}Qu(e,t,n,i=!1){return new ER({Cu:e,methodName:t,qu:n,path:zs.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tb(r){const e=r._freezeSettings(),t=q5(r._databaseId);return new jse(r._databaseId,!!e.ignoreUndefinedProperties,t)}function CR(r,e,t,n,i,s={}){const a=r.Qu(s.merge||s.mergeFields?2:0,e,t,i);SR("Data must be an object, but it was:",a,n);const o=EK(n,a);let A,l;if(s.merge)A=new vA(a.fieldMask),l=a.fieldTransforms;else if(s.mergeFields){const c=[];for(const u of s.mergeFields){const h=Sk(e,u,t);if(!a.contains(h))throw new bt(Ye.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);BK(c,h)||c.push(h)}A=new vA(c),l=a.fieldTransforms.filter(u=>A.covers(u.field))}else A=null,l=a.fieldTransforms;return new Vse(new Fo(o),A,l)}class rT extends tT{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rT}}class BR extends tT{_toFieldTransform(e){return new Vne(e.path,new Q2)}isEqual(e){return e instanceof BR}}function _K(r,e,t,n){const i=r.Qu(1,e,t);SR("Data must be an object, but it was:",i,n);const s=[],a=Fo.empty();Ng(n,(A,l)=>{const c=TR(e,A,t);l=qi(l);const u=i.Nu(c);if(l instanceof rT)s.push(c);else{const h=rb(l,u);h!=null&&(s.push(c),a.set(c,h))}});const o=new vA(s);return new yK(a,o,i.fieldTransforms)}function bK(r,e,t,n,i,s){const a=r.Qu(1,e,t),o=[Sk(e,n,t)],A=[i];if(s.length%2!=0)throw new bt(Ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)o.push(Sk(e,s[h])),A.push(s[h+1]);const l=[],c=Fo.empty();for(let h=o.length-1;h>=0;--h)if(!BK(l,o[h])){const f=o[h];let d=A[h];d=qi(d);const p=a.Nu(f);if(d instanceof rT)l.push(f);else{const v=rb(d,p);v!=null&&(l.push(f),c.set(f,v))}}const u=new vA(l);return new yK(c,u,a.fieldTransforms)}function Kse(r,e,t,n=!1){return rb(t,r.Qu(n?4:3,e))}function rb(r,e){if(CK(r=qi(r)))return SR("Unsupported field value:",e,r),EK(r,e);if(r instanceof tT)return function(n,i){if(!xK(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const s=[];let a=0;for(const o of n){let A=rb(o,i.Lu(a));A==null&&(A={nullValue:"NULL_VALUE"}),s.push(A),a++}return{arrayValue:{values:s}}}(r,e)}return function(n,i){if((n=qi(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return One(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=us.fromDate(n);return{timestampValue:nS(i.serializer,s)}}if(n instanceof us){const s=new us(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:nS(i.serializer,s)}}if(n instanceof _R)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Pv)return{bytesValue:Hj(i.serializer,n._byteString)};if(n instanceof eo){const s=i.databaseId,a=n.firestore._databaseId;if(!a.isEqual(s))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:cR(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof bR)return function(a,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(A=>{if(typeof A!="number")throw o.Bu("VectorValues must only contain numeric values.");return oR(o.serializer,A)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${J5(n)}`)}(r,e)}function EK(r,e){const t={};return gj(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ng(r,(n,i)=>{const s=rb(i,e.Mu(n));s!=null&&(t[n]=s)}),{mapValue:{fields:t}}}function CK(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof us||r instanceof _R||r instanceof Pv||r instanceof eo||r instanceof tT||r instanceof bR)}function SR(r,e,t){if(!CK(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const n=J5(t);throw n==="an object"?e.Bu(r+" a custom object"):e.Bu(r+" "+n)}}function Sk(r,e,t){if((e=qi(e))instanceof eb)return e._internalPath;if(typeof e=="string")return TR(r,e);throw aS("Field path arguments must be of type string or ",r,!1,void 0,t)}const zse=new RegExp("[~\\*/\\[\\]]");function TR(r,e,t){if(e.search(zse)>=0)throw aS(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new eb(...e.split("."))._internalPath}catch{throw aS(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function aS(r,e,t,n,i){const s=n&&!n.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;t&&(o+=" (via `toFirestore()`)"),o+=". ";let A="";return(s||a)&&(A+=" (found",s&&(A+=` in field ${n}`),a&&(A+=` in document ${i}`),A+=")"),new bt(Ye.INVALID_ARGUMENT,o+r+A)}function BK(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SK{constructor(e,t,n,i,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new eo(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Wse(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(FR("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Wse extends SK{data(){return super.data()}}function FR(r,e){return typeof e=="string"?TR(r,e):e instanceof eb?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gse(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new bt(Ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class IR{}class $se extends IR{}function TK(r,e,...t){let n=[];e instanceof IR&&n.push(e),n=n.concat(t),function(s){const a=s.filter(A=>A instanceof kR).length,o=s.filter(A=>A instanceof nT).length;if(a>1||a>0&&o>0)throw new bt(Ye.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)r=i._apply(r);return r}class nT extends $se{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new nT(e,t,n)}_apply(e){const t=this._parse(e);return FK(e._query,t),new Gv(e.firestore,e.converter,mk(e._query,t))}_parse(e){const t=tb(e.firestore);return function(s,a,o,A,l,c,u){let h;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new bt(Ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){XM(u,c);const f=[];for(const d of u)f.push(qM(A,s,d));h={arrayValue:{values:f}}}else h=qM(A,s,u)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||XM(u,c),h=Kse(o,a,u,c==="in"||c==="not-in");return Wi.create(l,c,h)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function oS(r,e,t){const n=e,i=FR("where",r);return nT._create(i,n,t)}class kR extends IR{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new kR(e,t)}_parse(e){const t=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return t.length===1?t[0]:ql.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let a=i;const o=s.getFlattenedFilters();for(const A of o)FK(a,A),a=mk(a,A)}(e._query,t),new Gv(e.firestore,e.converter,mk(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function qM(r,e,t){if(typeof(t=qi(t))=="string"){if(t==="")throw new bt(Ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cj(e)&&t.indexOf("/")!==-1)throw new bt(Ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(Mn.fromString(t));if(!$t.isDocumentKey(n))throw new bt(Ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return mM(r,new $t(n))}if(t instanceof eo)return mM(r,t._key);throw new bt(Ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${J5(t)}.`)}function XM(r,e){if(!Array.isArray(r)||r.length===0)throw new bt(Ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function FK(r,e){const t=function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(r.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new bt(Ye.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new bt(Ye.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class qse{convertValue(e,t="none"){switch(yg(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ii(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wg(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw sr()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Ng(e,(i,s)=>{n[i]=this.convertValue(s,t)}),n}convertVectorValue(e){var t,n,i;const s=(i=(n=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(a=>Ii(a.doubleValue));return new bR(s)}convertGeoPoint(e){return new _R(Ii(e.latitude),Ii(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=rR(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(U2(e));default:return null}}convertTimestamp(e){const t=jd(e);return new us(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Mn.fromString(e);dn(Gj(n));const i=new M2(n.get(1),n.get(3)),s=new $t(n.popFirst(5));return i.isEqual(t)||Ph(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(r,e,t){let n;return n=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class IK extends SK{constructor(e,t,n,i,s,a){super(e,t,n,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new SC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(FR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class SC extends IK{data(e={}){return super.data(e)}}class Xse{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Zw(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new SC(this._firestore,this._userDataWriter,n.key,n,new Zw(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new bt(Ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const A=new SC(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Zw(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:A,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const A=new SC(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Zw(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return o.type!==0&&(l=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),c=a.indexOf(o.doc.key)),{type:Yse(o.type),doc:A,oldIndex:l,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Yse(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return sr()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kK(r){r=il(r,eo);const e=il(r.firestore,s0);return Nse(eT(e),r._key).then(t=>tae(e,r,t))}class LK extends qse{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pv(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new eo(this.firestore,null,t)}}function qv(r){r=il(r,Gv);const e=il(r.firestore,s0),t=eT(e),n=new LK(e);return Gse(r._query),Dse(t,r._query).then(i=>new Xse(e,n,r,i))}function Jse(r,e,t){r=il(r,eo);const n=il(r.firestore,s0),i=LR(r.converter,e,t);return nb(n,[CR(tb(n),"setDoc",r._key,i,r.converter!==null,t).toMutation(r._key,Za.none())])}function PK(r,e,t,...n){r=il(r,eo);const i=il(r.firestore,s0),s=tb(i);let a;return a=typeof(e=qi(e))=="string"||e instanceof eb?bK(s,"updateDoc",r._key,e,t,n):_K(s,"updateDoc",r._key,e),nb(i,[a.toMutation(r._key,Za.exists(!0))])}function Zse(r){return nb(il(r.firestore,s0),[new G5(r._key,Za.none())])}function eae(r,e){const t=il(r.firestore,s0),n=Nh(r),i=LR(r.converter,e);return nb(t,[CR(tb(r.firestore),"addDoc",n._key,i,r.converter!==null,{}).toMutation(n._key,Za.exists(!1))]).then(()=>n)}function nb(r,e){return function(n,i){const s=new _h;return n.asyncQueue.enqueueAndForget(async()=>Ese(await Rse(n),i,s)),s.promise}(eT(r),e)}function tae(r,e,t){const n=t.docs.get(e._key),i=new LK(r);return new IK(r,i,e._key,n,new Zw(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rae{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=tb(e)}set(e,t,n){this._verifyNotCommitted();const i=OF(e,this._firestore),s=LR(i.converter,t,n),a=CR(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,n);return this._mutations.push(a.toMutation(i._key,Za.none())),this}update(e,t,n,...i){this._verifyNotCommitted();const s=OF(e,this._firestore);let a;return a=typeof(t=qi(t))=="string"||t instanceof eb?bK(this._dataReader,"WriteBatch.update",s._key,t,n,i):_K(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(a.toMutation(s._key,Za.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=OF(e,this._firestore);return this._mutations=this._mutations.concat(new G5(t._key,Za.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new bt(Ye.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function OF(r,e){if((r=qi(r)).firestore!==e)throw new bt(Ye.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function PR(){return new BR("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RK(r){return eT(r=il(r,s0)),new rae(r,e=>nb(r,e))}(function(e,t=!0){(function(i){Kv=i})(jv),mg(new Hd("firestore",(n,{instanceIdentifier:i,options:s})=>{const a=n.getProvider("app").getImmediate(),o=new s0(new rne(n.getProvider("auth-internal")),new ane(n.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new bt(Ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new M2(l.options.projectId,c)}(a,i),a);return s=Object.assign({useFetchStreams:t},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),$c(hM,"4.7.3",e),$c(hM,"4.7.3","esm2017")})();var nae="firebase",iae="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$c(nae,iae,"app");function RR(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function NK(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sae=NK,DK=new z_("auth","Firebase",NK());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=new YP("@firebase/auth");function aae(r,...e){AS.logLevel<=Nr.WARN&&AS.warn(`Auth (${jv}): ${r}`,...e)}function TC(r,...e){AS.logLevel<=Nr.ERROR&&AS.error(`Auth (${jv}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(r,...e){throw NR(r,...e)}function Yc(r,...e){return NR(r,...e)}function UK(r,e,t){const n=Object.assign(Object.assign({},sae()),{[e]:t});return new z_("auth","Firebase",n).create(e,{appName:r.name})}function Pd(r){return UK(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function NR(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return DK.create(r,...e)}function ir(r,e,...t){if(!r)throw NR(e,...t)}function fh(r){const e="INTERNAL ASSERTION FAILED: "+r;throw TC(e),new Error(e)}function Uh(r,e){r||fh(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function oae(){return YM()==="http:"||YM()==="https:"}function YM(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aae(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oae()||Pte()||"connection"in navigator)?navigator.onLine:!0}function lae(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,t){this.shortDelay=e,this.longDelay=t,Uh(t>e,"Short delay should be less than long delay!"),this.isMobile=Ite()||Rte()}get(){return Aae()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(r,e){Uh(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MK{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fh("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fh("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fh("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cae={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uae=new ib(3e4,6e4);function iT(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Xv(r,e,t,n,i={}){return OK(r,i,async()=>{let s={},a={};n&&(e==="GET"?a=n:s={body:JSON.stringify(n)});const o=W_(Object.assign({key:r.config.apiKey},a)).slice(1),A=await r._getAdditionalHeaders();A["Content-Type"]="application/json",r.languageCode&&(A["X-Firebase-Locale"]=r.languageCode);const l=Object.assign({method:e,headers:A},s);return Lte()||(l.referrerPolicy="no-referrer"),MK.fetch()(HK(r,r.config.apiHost,t,o),l)})}async function OK(r,e,t){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},cae),e);try{const i=new hae(r),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw aE(r,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[A,l]=o.split(" : ");if(A==="FEDERATED_USER_ID_ALREADY_LINKED")throw aE(r,"credential-already-in-use",a);if(A==="EMAIL_EXISTS")throw aE(r,"email-already-in-use",a);if(A==="USER_DISABLED")throw aE(r,"user-disabled",a);const c=n[A]||A.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw UK(r,c,l);Dh(r,c)}}catch(i){if(i instanceof nu)throw i;Dh(r,"network-request-failed",{message:String(i)})}}async function QK(r,e,t,n,i={}){const s=await Xv(r,e,t,n,i);return"mfaPendingCredential"in s&&Dh(r,"multi-factor-auth-required",{_serverResponse:s}),s}function HK(r,e,t,n){const i=`${e}${t}?${n}`;return r.config.emulator?DR(r.config,i):`${r.config.apiScheme}://${i}`}class hae{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(Yc(this.auth,"network-request-failed")),uae.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function aE(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const i=Yc(r,e,n);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fae(r,e){return Xv(r,"POST","/v1/accounts:delete",e)}async function VK(r,e){return Xv(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dae(r,e=!1){const t=qi(r),n=await t.getIdToken(e),i=UR(n);ir(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:Wy(QF(i.auth_time)),issuedAtTime:Wy(QF(i.iat)),expirationTime:Wy(QF(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function QF(r){return Number(r)*1e3}function UR(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return TC("JWT malformed, contained fewer than 3 sections"),null;try{const i=JV(t);return i?JSON.parse(i):(TC("Failed to decode base64 JWT payload"),null)}catch(i){return TC("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function JM(r){const e=UR(r);return ir(e,"internal-error"),ir(typeof e.exp<"u","internal-error"),ir(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j2(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof nu&&pae(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function pae({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gae{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wy(this.lastLoginAt),this.creationTime=Wy(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lS(r){var e;const t=r.auth,n=await r.getIdToken(),i=await j2(r,VK(t,{idToken:n}));ir(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];r._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?jK(s.providerUserInfo):[],o=vae(r.providerData,a),A=r.isAnonymous,l=!(r.email&&s.passwordHash)&&!(o!=null&&o.length),c=A?l:!1,u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Fk(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(r,u)}async function mae(r){const e=qi(r);await lS(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function vae(r,e){return[...r.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function jK(r){return r.map(e=>{var{providerId:t}=e,n=RR(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wae(r,e){const t=await OK(r,{},async()=>{const n=W_({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=r.config,a=HK(r,i,"/v1/token",`key=${s}`),o=await r._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",MK.fetch()(a,{method:"POST",headers:o,body:n})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function yae(r,e){return Xv(r,"POST","/v2/accounts:revokeToken",iT(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ir(e.idToken,"internal-error"),ir(typeof e.idToken<"u","internal-error"),ir(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):JM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ir(e.length!==0,"internal-error");const t=JM(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ir(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:s}=await wae(e,t);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:s}=t,a=new Zm;return n&&(ir(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),i&&(ir(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(ir(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zm,this.toJSON())}_performRefresh(){return fh("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(r,e){ir(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class dh{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,s=RR(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gae(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Fk(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await j2(this,this.stsTokenManager.getToken(this.auth,e));return ir(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return dae(this,e)}reload(){return mae(this)}_assign(e){this!==e&&(ir(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new dh(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ir(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await lS(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hh(this.auth.app))return Promise.reject(Pd(this.auth));const e=await this.getIdToken();return await j2(this,fae(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,s,a,o,A,l,c;const u=(n=t.displayName)!==null&&n!==void 0?n:void 0,h=(i=t.email)!==null&&i!==void 0?i:void 0,f=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,d=(a=t.photoURL)!==null&&a!==void 0?a:void 0,p=(o=t.tenantId)!==null&&o!==void 0?o:void 0,v=(A=t._redirectEventId)!==null&&A!==void 0?A:void 0,m=(l=t.createdAt)!==null&&l!==void 0?l:void 0,x=(c=t.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:b,emailVerified:T,isAnonymous:R,providerData:P,stsTokenManager:B}=t;ir(b&&B,e,"internal-error");const E=Zm.fromJSON(this.name,B);ir(typeof b=="string",e,"internal-error"),ff(u,e.name),ff(h,e.name),ir(typeof T=="boolean",e,"internal-error"),ir(typeof R=="boolean",e,"internal-error"),ff(f,e.name),ff(d,e.name),ff(p,e.name),ff(v,e.name),ff(m,e.name),ff(x,e.name);const _=new dh({uid:b,auth:e,email:h,emailVerified:T,displayName:u,isAnonymous:R,photoURL:d,phoneNumber:f,tenantId:p,stsTokenManager:E,createdAt:m,lastLoginAt:x});return P&&Array.isArray(P)&&(_.providerData=P.map(I=>Object.assign({},I))),v&&(_._redirectEventId=v),_}static async _fromIdTokenResponse(e,t,n=!1){const i=new Zm;i.updateFromServerResponse(t);const s=new dh({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await lS(s),s}static async _fromGetAccountInfoResponse(e,t,n){const i=t.users[0];ir(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?jK(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new Zm;o.updateFromIdToken(n);const A=new dh({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Fk(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(A,l),A}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM=new Map;function ph(r){Uh(r instanceof Function,"Expected a class definition");let e=ZM.get(r);return e?(Uh(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,ZM.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KK{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}KK.type="NONE";const eO=KK;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(r,e,t){return`firebase:${r}:${e}:${t}`}class e1{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=FC(this.userKey,i.apiKey,s),this.fullPersistenceKey=FC("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?dh._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new e1(ph(eO),e,n);const i=(await Promise.all(t.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||ph(eO);const a=FC(n,e.config.apiKey,e.name);let o=null;for(const l of t)try{const c=await l._get(a);if(c){const u=dh._fromJSON(e,c);l!==s&&(o=u),s=l;break}}catch{}const A=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!A.length?new e1(s,e,n):(s=A[0],o&&await s._set(a,o.toJSON()),await Promise.all(t.map(async l=>{if(l!==s)try{await l._remove(a)}catch{}})),new e1(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($K(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zK(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XK(e))return"Blackberry";if(YK(e))return"Webos";if(WK(e))return"Safari";if((e.includes("chrome/")||GK(e))&&!e.includes("edge/"))return"Chrome";if(qK(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function zK(r=La()){return/firefox\//i.test(r)}function WK(r=La()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GK(r=La()){return/crios\//i.test(r)}function $K(r=La()){return/iemobile/i.test(r)}function qK(r=La()){return/android/i.test(r)}function XK(r=La()){return/blackberry/i.test(r)}function YK(r=La()){return/webos/i.test(r)}function MR(r=La()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function xae(r=La()){var e;return MR(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _ae(){return Nte()&&document.documentMode===10}function JK(r=La()){return MR(r)||qK(r)||YK(r)||XK(r)||/windows phone/i.test(r)||$K(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZK(r,e=[]){let t;switch(r){case"Browser":t=tO(La());break;case"Worker":t=`${tO(La())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${jv}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bae{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=s=>new Promise((a,o)=>{try{const A=e(s);a(A)}catch(A){o(A)}});n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eae(r,e={}){return Xv(r,"GET","/v2/passwordPolicy",iT(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cae=6;class Bae{constructor(e){var t,n,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=a.minPasswordLength)!==null&&t!==void 0?t:Cae,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,i,s,a,o;const A={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,A),this.validatePasswordCharacterOptions(e,A),A.isValid&&(A.isValid=(t=A.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),A.isValid&&(A.isValid=(n=A.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),A.isValid&&(A.isValid=(i=A.containsLowercaseLetter)!==null&&i!==void 0?i:!0),A.isValid&&(A.isValid=(s=A.containsUppercaseLetter)!==null&&s!==void 0?s:!0),A.isValid&&(A.isValid=(a=A.containsNumericCharacter)!==null&&a!==void 0?a:!0),A.isValid&&(A.isValid=(o=A.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),A}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sae{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rO(this),this.idTokenSubscription=new rO(this),this.beforeStateQueue=new bae(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DK,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ph(t)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await e1.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await VK(this,{idToken:e}),n=await dh._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(hh(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,o=i==null?void 0:i._redirectEventId,A=await this.tryRedirectSignIn(e);(!a||a===o)&&(A!=null&&A.user)&&(i=A.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ir(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await lS(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lae()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hh(this.app))return Promise.reject(Pd(this));const t=e?qi(e):null;return t&&ir(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ir(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hh(this.app)?Promise.reject(Pd(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hh(this.app)?Promise.reject(Pd(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ph(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Eae(this),t=new Bae(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new z_("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await yae(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ph(e)||this._popupRedirectResolver;ir(t,this,"argument-error"),this.redirectPersistenceManager=await e1.create(this,[ph(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(ir(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof t=="function"){const A=e.addObserver(t,n,i);return()=>{a=!0,A()}}else{const A=e.addObserver(t);return()=>{a=!0,A()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ir(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZK(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&aae(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function sT(r){return qi(r)}class rO{constructor(e){this.auth=e,this.observer=null,this.addObserver=jte(t=>this.observer=t)}get next(){return ir(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OR={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Tae(r){OR=r}function Fae(r){return OR.loadJS(r)}function Iae(){return OR.gapiScript}function kae(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lae(r,e){const t=Q5(r,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(JB(s,e??{}))return i;Dh(i,"already-initialized")}return t.initialize({options:e})}function Pae(r,e){const t=(e==null?void 0:e.persistence)||[],n=(Array.isArray(t)?t:[t]).map(ph);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function Rae(r,e,t){const n=sT(r);ir(n._canInitEmulator,n,"emulator-config-failed"),ir(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=ez(e),{host:a,port:o}=Nae(e),A=o===null?"":`:${o}`;n.config.emulator={url:`${s}//${a}${A}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),Dae()}function ez(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Nae(r){const e=ez(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:nO(n.substr(s.length+1))}}else{const[s,a]=n.split(":");return{host:s,port:nO(a)}}}function nO(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function Dae(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tz{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return fh("not implemented")}_getIdTokenResponse(e){return fh("not implemented")}_linkToIdToken(e,t){return fh("not implemented")}_getReauthenticationResolver(e){return fh("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t1(r,e){return QK(r,"POST","/v1/accounts:signInWithIdp",iT(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uae="http://localhost";class xg extends tz{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new xg(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Dh("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,s=RR(t,["providerId","signInMethod"]);if(!n||!i)return null;const a=new xg(n,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const t=this.buildRequest();return t1(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,t1(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,t1(e,t)}buildRequest(){const e={requestUri:Uae,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=W_(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rz{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb extends rz{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf extends sb{constructor(){super("facebook.com")}static credential(e){return xg._fromParams({providerId:Cf.PROVIDER_ID,signInMethod:Cf.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cf.credentialFromTaggedObject(e)}static credentialFromError(e){return Cf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cf.credential(e.oauthAccessToken)}catch{return null}}}Cf.FACEBOOK_SIGN_IN_METHOD="facebook.com";Cf.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf extends sb{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return xg._fromParams({providerId:Bf.PROVIDER_ID,signInMethod:Bf.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Bf.credentialFromTaggedObject(e)}static credentialFromError(e){return Bf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Bf.credential(t,n)}catch{return null}}}Bf.GOOGLE_SIGN_IN_METHOD="google.com";Bf.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf extends sb{constructor(){super("github.com")}static credential(e){return xg._fromParams({providerId:Sf.PROVIDER_ID,signInMethod:Sf.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sf.credentialFromTaggedObject(e)}static credentialFromError(e){return Sf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sf.credential(e.oauthAccessToken)}catch{return null}}}Sf.GITHUB_SIGN_IN_METHOD="github.com";Sf.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf extends sb{constructor(){super("twitter.com")}static credential(e,t){return xg._fromParams({providerId:Tf.PROVIDER_ID,signInMethod:Tf.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Tf.credentialFromTaggedObject(e)}static credentialFromError(e){return Tf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Tf.credential(t,n)}catch{return null}}}Tf.TWITTER_SIGN_IN_METHOD="twitter.com";Tf.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mae(r,e){return QK(r,"POST","/v1/accounts:signUp",iT(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const s=await dh._fromIdTokenResponse(e,n,i),a=iO(n);return new zd({user:s,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=iO(n);return new zd({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function iO(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oae(r){var e;if(hh(r.app))return Promise.reject(Pd(r));const t=sT(r);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new zd({user:t.currentUser,providerId:null,operationType:"signIn"});const n=await Mae(t,{returnSecureToken:!0}),i=await zd._fromIdTokenResponse(t,"signIn",n,!0);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS extends nu{constructor(e,t,n,i){var s;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,cS.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new cS(e,t,n,i)}}function nz(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?cS._fromErrorAndOperation(r,s,e,n):s})}async function Qae(r,e,t=!1){const n=await j2(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return zd._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hae(r,e,t=!1){const{auth:n}=r;if(hh(n.app))return Promise.reject(Pd(n));const i="reauthenticate";try{const s=await j2(r,nz(n,i,e,r),t);ir(s.idToken,n,"internal-error");const a=UR(s.idToken);ir(a,n,"internal-error");const{sub:o}=a;return ir(r.uid===o,n,"user-mismatch"),zd._forOperation(r,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Dh(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vae(r,e,t=!1){if(hh(r.app))return Promise.reject(Pd(r));const n="signIn",i=await nz(r,n,e),s=await zd._fromIdTokenResponse(r,n,i);return t||await r._updateCurrentUser(s.user),s}function jae(r,e,t,n){return qi(r).onIdTokenChanged(e,t,n)}function Kae(r,e,t){return qi(r).beforeAuthStateChanged(e,t)}const uS="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(uS,"1"),this.storage.removeItem(uS),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zae=1e3,Wae=10;class sz extends iz{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=JK(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,o,A)=>{this.notifyListeners(a,A)});return}const n=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(n);!t&&this.localCache[n]===a||this.notifyListeners(n,a)},s=this.storage.getItem(n);_ae()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Wae):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},zae)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}sz.type="LOCAL";const Gae=sz;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az extends iz{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}az.type="SESSION";const oz=az;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ae(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const n=new aT(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:s}=t.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(a).map(async l=>l(t.origin,s)),A=await $ae(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:A})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}aT.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qae{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,A)=>{const l=QR("",20);i.port1.start();const c=setTimeout(()=>{A(new Error("unsupported_event"))},n);a={messageChannel:i,onMessage(u){const h=u;if(h.data.eventId===l)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{A(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(h.data.response);break;default:clearTimeout(c),clearTimeout(s),A(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(){return window}function Xae(r){Jc().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Az(){return typeof Jc().WorkerGlobalScope<"u"&&typeof Jc().importScripts=="function"}async function Yae(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Jae(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function Zae(){return Az()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lz="firebaseLocalStorageDb",eoe=1,hS="firebaseLocalStorage",cz="fbase_key";class ab{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function oT(r,e){return r.transaction([hS],e?"readwrite":"readonly").objectStore(hS)}function toe(){const r=indexedDB.deleteDatabase(lz);return new ab(r).toPromise()}function Ik(){const r=indexedDB.open(lz,eoe);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(hS,{keyPath:cz})}catch(i){t(i)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(hS)?e(n):(n.close(),await toe(),e(await Ik()))})})}async function sO(r,e,t){const n=oT(r,!0).put({[cz]:e,value:t});return new ab(n).toPromise()}async function roe(r,e){const t=oT(r,!1).get(e),n=await new ab(t).toPromise();return n===void 0?null:n.value}function aO(r,e){const t=oT(r,!0).delete(e);return new ab(t).toPromise()}const noe=800,ioe=3;class uz{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ik(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>ioe)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Az()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=aT._getInstance(Zae()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Yae(),!this.activeServiceWorker)return;this.sender=new qae(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((t=n[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Jae()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ik();return await sO(e,uS,"1"),await aO(e,uS),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>sO(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>roe(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>aO(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=oT(i,!1).getAll();return new ab(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),noe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uz.type="LOCAL";const soe=uz;new ib(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aoe(r,e){return e?ph(e):(ir(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR extends tz{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return t1(e,this._buildIdpRequest())}_linkToIdToken(e,t){return t1(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return t1(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ooe(r){return Vae(r.auth,new HR(r),r.bypassAuthState)}function Aoe(r){const{auth:e,user:t}=r;return ir(t,e,"internal-error"),Hae(t,new HR(r),r.bypassAuthState)}async function loe(r){const{auth:e,user:t}=r;return ir(t,e,"internal-error"),Qae(t,new HR(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hz{constructor(e,t,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const A={auth:this.auth,requestUri:t,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(A))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ooe;case"linkViaPopup":case"linkViaRedirect":return loe;case"reauthViaPopup":case"reauthViaRedirect":return Aoe;default:Dh(this.auth,"internal-error")}}resolve(e){Uh(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Uh(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const coe=new ib(2e3,1e4);class Qm extends hz{constructor(e,t,n,i,s){super(e,t,i,s),this.provider=n,this.authWindow=null,this.pollId=null,Qm.currentPopupAction&&Qm.currentPopupAction.cancel(),Qm.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ir(e,this.auth,"internal-error"),e}async onExecution(){Uh(this.filter.length===1,"Popup operations only handle one event");const e=QR();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Yc(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Yc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qm.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if(!((n=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yc(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,coe.get())};e()}}Qm.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uoe="pendingRedirect",IC=new Map;class hoe extends hz{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=IC.get(this.auth._key());if(!e){try{const n=await foe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}IC.set(this.auth._key(),e)}return this.bypassAuthState||IC.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function foe(r,e){const t=goe(e),n=poe(r);if(!await n._isAvailable())return!1;const i=await n._get(t)==="true";return await n._remove(t),i}function doe(r,e){IC.set(r._key(),e)}function poe(r){return ph(r._redirectPersistence)}function goe(r){return FC(uoe,r.config.apiKey,r.name)}async function moe(r,e,t=!1){if(hh(r.app))return Promise.reject(Pd(r));const n=sT(r),i=aoe(n,e),a=await new hoe(n,i,t).execute();return a&&!t&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const voe=10*60*1e3;class woe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yoe(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!fz(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";t.onError(Yc(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=voe&&this.cachedEventUids.clear(),this.cachedEventUids.has(oO(e))}saveEventToCache(e){this.cachedEventUids.add(oO(e)),this.lastProcessedEventTime=Date.now()}}function oO(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function fz({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yoe(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fz(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xoe(r,e={}){return Xv(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _oe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,boe=/^https?/;async function Eoe(r){if(r.config.emulator)return;const{authorizedDomains:e}=await xoe(r);for(const t of e)try{if(Coe(t))return}catch{}Dh(r,"unauthorized-domain")}function Coe(r){const e=Tk(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const a=new URL(r);return a.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===n}if(!boe.test(t))return!1;if(_oe.test(r))return n===r;const i=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Boe=new ib(3e4,6e4);function AO(){const r=Jc().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function Soe(r){return new Promise((e,t)=>{var n,i,s;function a(){AO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{AO(),t(Yc(r,"network-request-failed"))},timeout:Boe.get()})}if(!((i=(n=Jc().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Jc().gapi)===null||s===void 0)&&s.load)a();else{const o=kae("iframefcb");return Jc()[o]=()=>{gapi.load?a():t(Yc(r,"network-request-failed"))},Fae(`${Iae()}?onload=${o}`).catch(A=>t(A))}}).catch(e=>{throw kC=null,e})}let kC=null;function Toe(r){return kC=kC||Soe(r),kC}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Foe=new ib(5e3,15e3),Ioe="__/auth/iframe",koe="emulator/auth/iframe",Loe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Poe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Roe(r){const e=r.config;ir(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?DR(e,koe):`https://${r.config.authDomain}/${Ioe}`,n={apiKey:e.apiKey,appName:r.name,v:jv},i=Poe.get(r.config.apiHost);i&&(n.eid=i);const s=r._getFrameworks();return s.length&&(n.fw=s.join(",")),`${t}?${W_(n).slice(1)}`}async function Noe(r){const e=await Toe(r),t=Jc().gapi;return ir(t,r,"internal-error"),e.open({where:document.body,url:Roe(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Loe,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const a=Yc(r,"network-request-failed"),o=Jc().setTimeout(()=>{s(a)},Foe.get());function A(){Jc().clearTimeout(o),i(n)}n.ping(A).then(A,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Doe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Uoe=500,Moe=600,Ooe="_blank",Qoe="http://localhost";class lO{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Hoe(r,e,t,n=Uoe,i=Moe){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const A=Object.assign(Object.assign({},Doe),{width:n.toString(),height:i.toString(),top:s,left:a}),l=La().toLowerCase();t&&(o=GK(l)?Ooe:t),zK(l)&&(e=e||Qoe,A.scrollbars="yes");const c=Object.entries(A).reduce((h,[f,d])=>`${h}${f}=${d},`,"");if(xae(l)&&o!=="_self")return Voe(e||"",o),new lO(null);const u=window.open(e||"",o,c);ir(u,r,"popup-blocked");try{u.focus()}catch{}return new lO(u)}function Voe(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const joe="__/auth/handler",Koe="emulator/auth/handler",zoe=encodeURIComponent("fac");async function cO(r,e,t,n,i,s){ir(r.config.authDomain,r,"auth-domain-config-required"),ir(r.config.apiKey,r,"invalid-api-key");const a={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:jv,eventId:i};if(e instanceof rz){e.setDefaultLanguage(r.languageCode),a.providerId=e.providerId||"",Vte(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,u]of Object.entries({}))a[c]=u}if(e instanceof sb){const c=e.getScopes().filter(u=>u!=="");c.length>0&&(a.scopes=c.join(","))}r.tenantId&&(a.tid=r.tenantId);const o=a;for(const c of Object.keys(o))o[c]===void 0&&delete o[c];const A=await r._getAppCheckToken(),l=A?`#${zoe}=${encodeURIComponent(A)}`:"";return`${Woe(r)}?${W_(o).slice(1)}${l}`}function Woe({config:r}){return r.emulator?DR(r,Koe):`https://${r.authDomain}/${joe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HF="webStorageSupport";class Goe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oz,this._completeRedirectFn=moe,this._overrideRedirectResult=doe}async _openPopup(e,t,n,i){var s;Uh((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await cO(e,t,n,Tk(),i);return Hoe(e,a,QR())}async _openRedirect(e,t,n,i){await this._originValidation(e);const s=await cO(e,t,n,Tk(),i);return Xae(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Uh(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Noe(e),n=new woe(e);return t.register("authEvent",i=>(ir(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(HF,{type:HF},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[HF];a!==void 0&&t(!!a),Dh(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Eoe(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return JK()||WK()||MR()}}const $oe=Goe;var uO="@firebase/auth",hO="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qoe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ir(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xoe(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Yoe(r){mg(new Hd("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=n.options;ir(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const A={apiKey:a,authDomain:o,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZK(r)},l=new Sae(n,i,s,A);return Pae(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),mg(new Hd("auth-internal",e=>{const t=sT(e.getProvider("auth").getImmediate());return(n=>new qoe(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),$c(uO,hO,Xoe(r)),$c(uO,hO,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Joe=5*60,Zoe=rj("authIdTokenMaxAge")||Joe;let fO=null;const eAe=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Zoe)return;const i=t==null?void 0:t.token;fO!==i&&(fO=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function tAe(r=H5()){const e=Q5(r,"auth");if(e.isInitialized())return e.getImmediate();const t=Lae(r,{popupRedirectResolver:$oe,persistence:[soe,Gae,oz]}),n=rj("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const a=eAe(s.toString());Kae(t,a,()=>a(t.currentUser)),jae(t,o=>a(o))}}const i=ZV("auth");return i&&Rae(t,`http://${i}`),t}function rAe(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}Tae({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=i=>{const s=Yc("internal-error");s.customData=i,t(s)},n.type="text/javascript",n.charset="UTF-8",rAe().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Yoe("Browser");const dz={apiKey:"AIzaSyBAwIgX8FIeBMnNARNiDRiCuBqnb-b6NJo",authDomain:"spra-v1.firebaseapp.com",projectId:"spra-v1",storageBucket:"spra-v1.firebasestorage.app",messagingSenderId:"735477807243",appId:"1:735477807243:web:289b879b929c021d997c8e",measurementId:"G-JMDL5Z9X7V"},nAe=dz.appId;let fS;Kre().length===0?fS=sj(dz):fS=H5(nAe);const dO=tAe(fS),qs=Ose(fS),iAe=async(r,e)=>{try{const t=$v(qs,"teachers"),n=TK(t,oS("name","==",r),oS("phone","==",e)),i=await qv(n);if(i.empty)return console.log("   "),null;const s=i.docs[0];return{id:s.id,...s.data()}}catch(t){throw console.error("  Firestore :",t),new Error("   .")}},sAe=async(r,e)=>{try{const t=$v(qs,"teachers"),n=TK(t,oS("name","==",r),oS("phone","==",e));if(!(await qv(n)).empty)throw new Error("     .");const s=await eae(t,{name:r,phone:e,createdAt:PR()});return console.log("  :",s.id),{id:s.id,name:r,phone:e}}catch(t){throw console.error("  Firestore :",t),t}},aAe=async()=>{try{const r=[],e=$v(qs,"reports");return(await qv(e)).forEach(n=>{const i=n.data();r.push({id:n.id,className:i.className,date:i.date,studentCount:i.studentCount||0})}),console.log("    :",r.length,""),r}catch(r){throw console.error("    Firestore :",r),new Error("     : "+r.message)}},oAe=async r=>{if(!r)throw new Error("reportId .");try{const e=Nh(qs,"reports",r),t=await kK(e);if(!t.exists())throw new Error("    .");const n=t.data(),i=[],s=$v(qs,"reports",r,"students");return(await qv(s)).forEach(o=>{i.push({id:o.id,...o.data()})}),console.log(`[${r}]    . ( ${i.length})`),{...n,students:i}}catch(e){throw console.error(`[${r}]     :`,e),new Error("      : "+e.message)}},pO=async(r,e,t,n)=>{const i=`${r}_${e}`,s=Nh(qs,"reports",i);console.log(`[${i}]    ...`);try{const a=RK(qs),o={className:r,date:e,pdfInfo:n.pdfInfo,aiOverallAnalysis:n.aiOverallAnalysis,questionUnitMap:n.questionUnitMap,studentCount:t.studentCount,classAverage:t.classAverage,questionCount:t.questionCount,answerRates:t.answerRates,lastUpdated:PR()};return a.set(s,o),t.students.forEach(A=>{const l=Nh(qs,"reports",i,"students",A.name);a.set(l,A)}),await a.commit(),console.log(`[${i}]    . ( ${t.studentCount})`),i}catch(a){throw console.error(`[${i}]     Firestore :`,a),new Error("     : "+a.message)}},AAe=async(r,e,t)=>{if(!r||!e)throw new Error("reportId studentName .");const n=Nh(qs,"reports",r,"students",e);try{await PK(n,{aiAnalysis:t}),console.log(`[${r}]  '${e}' AI   .`)}catch(i){throw console.error(`[${r}]  '${e}' AI   :`,i),new Error(" AI      : "+i.message)}},pz=async r=>{if(!r)throw new Error("reportId .");console.log(`[${r}]   ...`);const e=Nh(qs,"reports",r),t=await kK(e);if(!t.exists())throw new Error("       .");const n=t.data().questionCount||0;if(n===0)throw new Error("  :  (questionCount) 0.");const i=$v(qs,"reports",r,"students"),s=await qv(i);let a=0;const o=[],A=Array(n).fill(0);s.forEach(u=>{const h=u.data();h.submitted&&(o.push(h),a+=h.score,h.answers.forEach((f,d)=>{f.isCorrect===!0&&d<n&&A[d]++}))});const l=o.length,c={studentCount:l,classAverage:(l>0?a/l:0).toFixed(1),answerRates:A.map(u=>parseFloat(((l>0?u/l:0)*100).toFixed(1)))};try{return await PK(e,{studentCount:c.studentCount,classAverage:c.classAverage,answerRates:c.answerRates,lastUpdated:PR()}),console.log(`[${r}]     .`),c}catch(u){throw console.error(`[${r}]    :`,u),new Error("    : "+u.message)}},lAe=async(r,e)=>{if(!r||!e)throw new Error("reportId studentName .");const t=Nh(qs,"reports",r,"students",e);try{return await Zse(t),console.log(`[${r}]  '${e}'  .`),await pz(r)}catch(n){throw console.error(`[${r}]  '${e}'    :`,n),new Error("  /   : "+n.message)}},gO=async r=>{if(!r)throw new Error("reportId .");console.log(`[${r}]   ...`);const e=Nh(qs,"reports",r);try{const t=RK(qs),n=$v(qs,"reports",r,"students"),i=await qv(n);i.empty||(console.log(`[${r}]  ${i.size}   ...`),i.forEach(s=>{t.delete(s.ref)})),t.delete(e),await t.commit(),console.log(`[${r}]       .`)}catch(t){throw console.error(`[${r}]   :`,t),new Error("    : "+t.message)}},cAe=async(r,e)=>{if(!r||!e||!e.name)throw new Error("reportId  ( ) .");const t=Nh(qs,"reports",r,"students",e.name);try{return await Jse(t,e),console.log(`[${r}]  '${e.name}' / .`),await pz(r)}catch(n){throw console.error(`[${r}]  '${e.name}'    :`,n),new Error("  /   : "+n.message)}};var Gy={};Gy.d=(r,e)=>{for(var t in e)Gy.o(e,t)&&!Gy.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:e[t]})};Gy.o=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var ar=globalThis.pdfjsLib={};Gy.d(ar,{AbortException:()=>Wd,AnnotationEditorLayer:()=>O3,AnnotationEditorParamsType:()=>Dr,AnnotationEditorType:()=>wr,AnnotationEditorUIManager:()=>bg,AnnotationLayer:()=>sce,AnnotationMode:()=>Ff,ColorPicker:()=>wS,DOMSVGFactory:()=>XR,DrawLayer:()=>V3,FeatureTest:()=>to,GlobalWorkerOptions:()=>lh,ImageKind:()=>LC,InvalidPDFException:()=>Lk,MissingPDFException:()=>K2,OPS:()=>El,OutputScale:()=>Rk,PDFDataRangeTransport:()=>mW,PDFDateString:()=>WR,PDFWorker:()=>n1,PasswordResponses:()=>dAe,PermissionFlag:()=>fAe,PixelsPerInch:()=>Gd,RenderingCancelledException:()=>KR,TextLayer:()=>z2,TouchManager:()=>mS,UnexpectedResponseException:()=>dS,Util:()=>Vt,VerbosityLevel:()=>AT,XfaLayer:()=>wW,build:()=>Ole,createValidAbsoluteUrl:()=>vAe,fetchData:()=>hT,getDocument:()=>Ile,getFilenameFromUrl:()=>SAe,getPdfFilenameFromUrl:()=>TAe,getXfaPageViewport:()=>FAe,isDataScheme:()=>fT,isPdfFile:()=>zR,noContextMenu:()=>Xl,normalizeUnicode:()=>EAe,setLayerDimensions:()=>_g,shadow:()=>Br,stopEvent:()=>pA,version:()=>Mle});const Ba=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),gz=[1,0,0,1,0,0],kk=[.001,0,0,.001,0,0],uAe=1e7,VF=1.35,uA={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Ff={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},hAe="pdfjs_internal_editor_",wr={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Dr={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},fAe={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},ca={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},LC={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},es={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},kw={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},AT={ERRORS:0,WARNINGS:1,INFOS:5},El={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},dAe={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let lT=AT.WARNINGS;function pAe(r){Number.isInteger(r)&&(lT=r)}function gAe(){return lT}function cT(r){lT>=AT.INFOS&&console.log(`Info: ${r}`)}function yr(r){lT>=AT.WARNINGS&&console.log(`Warning: ${r}`)}function Cn(r){throw new Error(r)}function Gi(r,e){r||Cn(e)}function mAe(r){switch(r==null?void 0:r.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function vAe(r,e=null,t=null){if(!r)return null;try{if(t&&typeof r=="string"){if(t.addDefaultProtocol&&r.startsWith("www.")){const i=r.match(/\./g);(i==null?void 0:i.length)>=2&&(r=`http://${r}`)}if(t.tryConvertEncoding)try{r=bAe(r)}catch{}}const n=e?new URL(r,e):new URL(r);if(mAe(n))return n}catch{}return null}function Br(r,e,t,n=!1){return Object.defineProperty(r,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const a0=function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class mO extends a0{constructor(e,t){super(e,"PasswordException"),this.code=t}}class jF extends a0{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Lk extends a0{constructor(e){super(e,"InvalidPDFException")}}class K2 extends a0{constructor(e){super(e,"MissingPDFException")}}class dS extends a0{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class wAe extends a0{constructor(e){super(e,"FormatError")}}class Wd extends a0{constructor(e){super(e,"AbortException")}}function mz(r){(typeof r!="object"||(r==null?void 0:r.length)===void 0)&&Cn("Invalid argument for bytesToString");const e=r.length,t=8192;if(e<t)return String.fromCharCode.apply(null,r);const n=[];for(let i=0;i<e;i+=t){const s=Math.min(i+t,e),a=r.subarray(i,s);n.push(String.fromCharCode.apply(null,a))}return n.join("")}function uT(r){typeof r!="string"&&Cn("Invalid argument for stringToBytes");const e=r.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=r.charCodeAt(n)&255;return t}function yAe(r){return String.fromCharCode(r>>24&255,r>>16&255,r>>8&255,r&255)}function VR(r){const e=Object.create(null);for(const[t,n]of r)e[t]=n;return e}function xAe(){const r=new Uint8Array(4);return r[0]=1,new Uint32Array(r.buffer,0,1)[0]===1}function _Ae(){try{return new Function(""),!0}catch{return!1}}class to{static get isLittleEndian(){return Br(this,"isLittleEndian",xAe())}static get isEvalSupported(){return Br(this,"isEvalSupported",_Ae())}static get isOffscreenCanvasSupported(){return Br(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Br(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Br(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):Br(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,t;return Br(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const KF=Array.from(Array(256).keys(),r=>r.toString(16).padStart(2,"0"));var Bh,PC,Pk;class Vt{static makeHexColor(e,t,n){return`#${KF[e]}${KF[t]}${KF[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const n=e[0]*t[0]+e[1]*t[2]+t[4],i=e[0]*t[1]+e[1]*t[3]+t[5];return[n,i]}static applyInverseTransform(e,t){const n=t[0]*t[3]-t[1]*t[2],i=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,s=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n;return[i,s]}static getAxialAlignedBoundingBox(e,t){const n=this.applyTransform(e,t),i=this.applyTransform(e.slice(2,4),t),s=this.applyTransform([e[0],e[3]],t),a=this.applyTransform([e[2],e[1]],t);return[Math.min(n[0],i[0],s[0],a[0]),Math.min(n[1],i[1],s[1],a[1]),Math.max(n[0],i[0],s[0],a[0]),Math.max(n[1],i[1],s[1],a[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],i=e[0]*t[1]+e[1]*t[3],s=e[2]*t[0]+e[3]*t[2],a=e[2]*t[1]+e[3]*t[3],o=(n+a)/2,A=Math.sqrt((n+a)**2-4*(n*a-s*i))/2,l=o+A||1,c=o-A||1;return[Math.sqrt(l),Math.sqrt(c)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>a?null:[n,s,i,a]}static bezierBoundingBox(e,t,n,i,s,a,o,A,l){return l?(l[0]=Math.min(l[0],e,o),l[1]=Math.min(l[1],t,A),l[2]=Math.max(l[2],e,o),l[3]=Math.max(l[3],t,A)):l=[Math.min(e,o),Math.min(t,A),Math.max(e,o),Math.max(t,A)],ee(this,Bh,Pk).call(this,e,n,s,o,t,i,a,A,3*(-e+3*(n-s)+o),6*(e-2*n+s),3*(n-e),l),ee(this,Bh,Pk).call(this,e,n,s,o,t,i,a,A,3*(-t+3*(i-a)+A),6*(t-2*i+a),3*(i-t),l),l}}Bh=new WeakSet,PC=function(e,t,n,i,s,a,o,A,l,c){if(l<=0||l>=1)return;const u=1-l,h=l*l,f=h*l,d=u*(u*(u*e+3*l*t)+3*h*n)+f*i,p=u*(u*(u*s+3*l*a)+3*h*o)+f*A;c[0]=Math.min(c[0],d),c[1]=Math.min(c[1],p),c[2]=Math.max(c[2],d),c[3]=Math.max(c[3],p)},Pk=function(e,t,n,i,s,a,o,A,l,c,u,h){if(Math.abs(l)<1e-12){Math.abs(c)>=1e-12&&ee(this,Bh,PC).call(this,e,t,n,i,s,a,o,A,-u/c,h);return}const f=c**2-4*u*l;if(f<0)return;const d=Math.sqrt(f),p=2*l;ee(this,Bh,PC).call(this,e,t,n,i,s,a,o,A,(-c+d)/p,h),ee(this,Bh,PC).call(this,e,t,n,i,s,a,o,A,(-c-d)/p,h)},X(Vt,Bh);function bAe(r){return decodeURIComponent(escape(r))}let zF=null,vO=null;function EAe(r){return zF||(zF=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,vO=new Map([["","t"]])),r.replaceAll(zF,(e,t,n)=>t?t.normalize("NFKC"):vO.get(n))}function CAe(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const r=new Uint8Array(32);return crypto.getRandomValues(r),mz(r)}const jR="pdfjs_internal_id_";function BAe(r){return Uint8Array.prototype.toBase64?r.toBase64():btoa(mz(r))}typeof Promise.try!="function"&&(Promise.try=function(r,...e){return new Promise(t=>{t(r(...e))})});const Su="http://www.w3.org/2000/svg",H0=class H0{};De(H0,"CSS",96),De(H0,"PDF",72),De(H0,"PDF_TO_CSS_UNITS",H0.CSS/H0.PDF);let Gd=H0;async function hT(r,e="text"){if(ey(r,document.baseURI)){const t=await fetch(r);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const i=new XMLHttpRequest;i.open("GET",r,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}n(new Error(i.statusText))}},i.send(null)})}class ob{constructor({viewBox:e,userUnit:t,scale:n,rotation:i,offsetX:s=0,offsetY:a=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=t,this.scale=n,this.rotation=i,this.offsetX=s,this.offsetY=a,n*=t;const A=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let c,u,h,f;switch(i%=360,i<0&&(i+=360),i){case 180:c=-1,u=0,h=0,f=1;break;case 90:c=0,u=1,h=1,f=0;break;case 270:c=0,u=-1,h=-1,f=0;break;case 0:c=1,u=0,h=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(h=-h,f=-f);let d,p,v,m;c===0?(d=Math.abs(l-e[1])*n+s,p=Math.abs(A-e[0])*n+a,v=(e[3]-e[1])*n,m=(e[2]-e[0])*n):(d=Math.abs(A-e[0])*n+s,p=Math.abs(l-e[1])*n+a,v=(e[2]-e[0])*n,m=(e[3]-e[1])*n),this.transform=[c*n,u*n,h*n,f*n,d-c*n*A-h*n*l,p-u*n*A-f*n*l],this.width=v,this.height=m}get rawDims(){const{userUnit:e,viewBox:t}=this,n=t.map(i=>i*e);return Br(this,"rawDims",{pageWidth:n[2]-n[0],pageHeight:n[3]-n[1],pageX:n[0],pageY:n[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new ob({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){return Vt.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=Vt.applyTransform([e[0],e[1]],this.transform),n=Vt.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return Vt.applyInverseTransform([e,t],this.transform)}}class KR extends a0{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function fT(r){const e=r.length;let t=0;for(;t<e&&r[t].trim()==="";)t++;return r.substring(t,t+5).toLowerCase()==="data:"}function zR(r){return typeof r=="string"&&/\.pdf$/i.test(r)}function SAe(r){return[r]=r.split(/[#?]/,1),r.substring(r.lastIndexOf("/")+1)}function TAe(r,e="document.pdf"){if(typeof r!="string")return e;if(fT(r))return yr('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=t.exec(r);let s=n.exec(i[1])||n.exec(i[2])||n.exec(i[3]);if(s&&(s=s[0],s.includes("%")))try{s=n.exec(decodeURIComponent(s))[0]}catch{}return s||e}class wO{constructor(){De(this,"started",Object.create(null));De(this,"times",[])}time(e){e in this.started&&yr(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||yr(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:i,end:s}of this.times)e.push(`${n.padEnd(t)} ${s-i}ms
`);return e.join("")}}function ey(r,e){try{const{protocol:t}=e?new URL(r,e):new URL(r);return t==="http:"||t==="https:"}catch{return!1}}function Xl(r){r.preventDefault()}function pA(r){r.preventDefault(),r.stopPropagation()}var px;class WR{static toDateObject(e){if(!e||typeof e!="string")return null;g(this,px)||V(this,px,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=g(this,px).exec(e);if(!t)return null;const n=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let A=parseInt(t[6],10);A=A>=0&&A<=59?A:0;const l=t[7]||"Z";let c=parseInt(t[8],10);c=c>=0&&c<=23?c:0;let u=parseInt(t[9],10)||0;return u=u>=0&&u<=59?u:0,l==="-"?(a+=c,o+=u):l==="+"&&(a-=c,o-=u),new Date(Date.UTC(n,i,s,a,o,A))}}px=new WeakMap,X(WR,px);function FAe(r,{scale:e=1,rotation:t=0}){const{width:n,height:i}=r.attributes.style,s=[0,0,parseInt(n),parseInt(i)];return new ob({viewBox:s,userUnit:1,scale:e,rotation:t})}function GR(r){if(r.startsWith("#")){const e=parseInt(r.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return r.startsWith("rgb(")?r.slice(4,-1).split(",").map(e=>parseInt(e)):r.startsWith("rgba(")?r.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(yr(`Not a valid color format: "${r}"`),[0,0,0])}function IAe(r){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of r.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;r.set(t,GR(n))}e.remove()}function zn(r){const{a:e,b:t,c:n,d:i,e:s,f:a}=r.getTransform();return[e,t,n,i,s,a]}function pc(r){const{a:e,b:t,c:n,d:i,e:s,f:a}=r.getTransform().invertSelf();return[e,t,n,i,s,a]}function _g(r,e,t=!1,n=!0){if(e instanceof ob){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:a}=r,o=to.isCSSRoundSupported,A=`var(--scale-factor) * ${i}px`,l=`var(--scale-factor) * ${s}px`,c=o?`round(down, ${A}, var(--scale-round-x, 1px))`:`calc(${A})`,u=o?`round(down, ${l}, var(--scale-round-y, 1px))`:`calc(${l})`;!t||e.rotation%180===0?(a.width=c,a.height=u):(a.width=u,a.height=c)}n&&r.setAttribute("data-main-rotation",e.rotation)}class Rk{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var kf,X0,Cl,Y0,gx,mx,i5,vz,no,wz,yz,RC,xz,Dk;const Pu=class Pu{constructor(e){X(this,no);X(this,kf,null);X(this,X0,null);X(this,Cl);X(this,Y0,null);X(this,gx,null);V(this,Cl,e),g(Pu,mx)||V(Pu,mx,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=V(this,kf,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=g(this,Cl)._uiManager._signal;e.addEventListener("contextmenu",Xl,{signal:t}),e.addEventListener("pointerdown",ee(Pu,i5,vz),{signal:t});const n=V(this,Y0,document.createElement("div"));n.className="buttons",e.append(n);const i=g(this,Cl).toolbarPosition;if(i){const{style:s}=e,a=g(this,Cl)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return ee(this,no,xz).call(this),e}get div(){return g(this,kf)}hide(){var e;g(this,kf).classList.add("hidden"),(e=g(this,X0))==null||e.hideDropdown()}show(){var e;g(this,kf).classList.remove("hidden"),(e=g(this,gx))==null||e.shown()}async addAltText(e){const t=await e.render();ee(this,no,RC).call(this,t),g(this,Y0).prepend(t,g(this,no,Dk)),V(this,gx,e)}addColorPicker(e){V(this,X0,e);const t=e.renderButton();ee(this,no,RC).call(this,t),g(this,Y0).prepend(t,g(this,no,Dk))}remove(){var e;g(this,kf).remove(),(e=g(this,X0))==null||e.destroy(),V(this,X0,null)}};kf=new WeakMap,X0=new WeakMap,Cl=new WeakMap,Y0=new WeakMap,gx=new WeakMap,mx=new WeakMap,i5=new WeakSet,vz=function(e){e.stopPropagation()},no=new WeakSet,wz=function(e){g(this,Cl)._focusEventsAllowed=!1,pA(e)},yz=function(e){g(this,Cl)._focusEventsAllowed=!0,pA(e)},RC=function(e){const t=g(this,Cl)._uiManager._signal;e.addEventListener("focusin",ee(this,no,wz).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",ee(this,no,yz).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Xl,{signal:t})},xz=function(){const{editorType:e,_uiManager:t}=g(this,Cl),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",g(Pu,mx)[e]),ee(this,no,RC).call(this,n),n.addEventListener("click",i=>{t.delete()},{signal:t._signal}),g(this,Y0).append(n)},Dk=function(){const e=document.createElement("div");return e.className="divider",e},X(Pu,i5),X(Pu,mx,null);let Nk=Pu;var vx,J0,Z0,e0,_z,bz,Ez;class kAe{constructor(e){X(this,e0);X(this,vx,null);X(this,J0,null);X(this,Z0);V(this,Z0,e)}show(e,t,n){const[i,s]=ee(this,e0,bz).call(this,t,n),{style:a}=g(this,J0)||V(this,J0,ee(this,e0,_z).call(this));e.append(g(this,J0)),a.insetInlineEnd=`${100*i}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){g(this,J0).remove()}}vx=new WeakMap,J0=new WeakMap,Z0=new WeakMap,e0=new WeakSet,_z=function(){const e=V(this,J0,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Xl,{signal:g(this,Z0)._signal});const t=V(this,vx,document.createElement("div"));return t.className="buttons",e.append(t),ee(this,e0,Ez).call(this),e},bz=function(e,t){let n=0,i=0;for(const s of e){const a=s.y+s.height;if(a<n)continue;const o=s.x+(t?s.width:0);if(a>n){i=o,n=a;continue}t?o>i&&(i=o):o<i&&(i=o)}return[t?1-i:i,n]},Ez=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=g(this,Z0)._signal;e.addEventListener("contextmenu",Xl,{signal:n}),e.addEventListener("click",()=>{g(this,Z0).highlightSelection("floating_button")},{signal:n}),g(this,vx).append(e)};function pS(r,e,t){for(const n of t)e.addEventListener(n,r[n].bind(r))}var s5;class LAe{constructor(){X(this,s5,0)}get id(){return`${hAe}${Rs(this,s5)._++}`}}s5=new WeakMap;var p1,wx,fa,g1,NC;const rD=class rD{constructor(){X(this,g1);X(this,p1,CAe());X(this,wx,0);X(this,fa,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(n.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Br(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:n,size:i,type:s}=e;return ee(this,g1,NC).call(this,`${t}_${n}_${i}_${s}`,e)}async getFromUrl(e){return ee(this,g1,NC).call(this,e,e)}async getFromBlob(e,t){const n=await t;return ee(this,g1,NC).call(this,e,n)}async getFromId(e){g(this,fa)||V(this,fa,new Map);const t=g(this,fa).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){g(this,fa)||V(this,fa,new Map);let n=g(this,fa).get(e);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),n={bitmap:i.transferToImageBitmap(),id:`image_${g(this,p1)}_${Rs(this,wx)._++}`,refCounter:1,isSvg:!1},g(this,fa).set(e,n),g(this,fa).set(n.id,n),n}getSvgUrl(e){const t=g(this,fa).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var i;g(this,fa)||V(this,fa,new Map);const t=g(this,fa).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:n}=t;if(!t.url&&!t.file){const s=new OffscreenCanvas(n.width,n.height);s.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=s.convertToBlob()}(i=n.close)==null||i.call(n),t.bitmap=null}isValidId(e){return e.startsWith(`image_${g(this,p1)}_`)}};p1=new WeakMap,wx=new WeakMap,fa=new WeakMap,g1=new WeakSet,NC=async function(e,t){g(this,fa)||V(this,fa,new Map);let n=g(this,fa).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${g(this,p1)}_${Rs(this,wx)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(n.url=t,i=await hT(t,"blob")):t instanceof File?i=n.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){const s=rD._isSVGFittingCanvas,a=new FileReader,o=new Image,A=new Promise((l,c)=>{o.onload=()=>{n.bitmap=o,n.isSvg=!0,l()},a.onload=async()=>{const u=n.svgUrl=a.result;o.src=await s?`${u}#svgView(preserveAspectRatio(none))`:u},o.onerror=a.onerror=c});a.readAsDataURL(i),await A}else n.bitmap=await createImageBitmap(i);n.refCounter=1}catch(i){yr(i),n=null}return g(this,fa).set(e,n),n&&g(this,fa).set(n.id,n),n};let Uk=rD;var Si,Lf,yx,ri;class PAe{constructor(e=128){X(this,Si,[]);X(this,Lf,!1);X(this,yx);X(this,ri,-1);V(this,yx,e)}add({cmd:e,undo:t,post:n,mustExec:i,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(i&&e(),g(this,Lf))return;const A={cmd:e,undo:t,post:n,type:s};if(g(this,ri)===-1){g(this,Si).length>0&&(g(this,Si).length=0),V(this,ri,0),g(this,Si).push(A);return}if(a&&g(this,Si)[g(this,ri)].type===s){o&&(A.undo=g(this,Si)[g(this,ri)].undo),g(this,Si)[g(this,ri)]=A;return}const l=g(this,ri)+1;l===g(this,yx)?g(this,Si).splice(0,1):(V(this,ri,l),l<g(this,Si).length&&g(this,Si).splice(l)),g(this,Si).push(A)}undo(){if(g(this,ri)===-1)return;V(this,Lf,!0);const{undo:e,post:t}=g(this,Si)[g(this,ri)];e(),t==null||t(),V(this,Lf,!1),V(this,ri,g(this,ri)-1)}redo(){if(g(this,ri)<g(this,Si).length-1){V(this,ri,g(this,ri)+1),V(this,Lf,!0);const{cmd:e,post:t}=g(this,Si)[g(this,ri)];e(),t==null||t(),V(this,Lf,!1)}}hasSomethingToUndo(){return g(this,ri)!==-1}hasSomethingToRedo(){return g(this,ri)<g(this,Si).length-1}cleanType(e){if(g(this,ri)!==-1){for(let t=g(this,ri);t>=0;t--)if(g(this,Si)[t].type!==e){g(this,Si).splice(t+1,g(this,ri)-t),V(this,ri,t);return}g(this,Si).length=0,V(this,ri,-1)}}destroy(){V(this,Si,null)}}Si=new WeakMap,Lf=new WeakMap,yx=new WeakMap,ri=new WeakMap;var a5,Cz;class Ab{constructor(e){X(this,a5);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=to.platform;for(const[n,i,s={}]of e)for(const a of n){const o=a.startsWith("mac+");t&&o?(this.callbacks.set(a.slice(4),{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1))):!t&&!o&&(this.callbacks.set(a,{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(ee(this,a5,Cz).call(this,t));if(!n)return;const{callback:i,options:{bubbles:s=!1,args:a=[],checker:o=null}}=n;o&&!o(e,t)||(i.bind(e,...a,t)(),s||pA(t))}}a5=new WeakSet,Cz=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const o5=class o5{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return IAe(e),Br(this,"_colors",e)}convert(e){const t=GR(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,i]of this._colors)if(i.every((s,a)=>s===t[a]))return o5._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?Vt.makeHexColor(...t):e}};De(o5,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Mk=o5;var m1,Jo,rs,Ns,v1,Mu,w1,OA,Pf,ep,y1,tp,Bc,Bl,rp,xx,_x,x1,bx,Sc,Rf,_1,Nf,Tc,A5,Df,Ex,Uf,np,Cx,Bx,gs,ln,Ou,ip,Sx,Tx,Mf,Fc,Qu,Fx,QA,pt,DC,Ok,Bz,Sz,UC,Tz,Fz,Iz,Qk,kz,Hk,Vk,Lz,Va,Tu,Pz,Rz,jk,Nz,ty,Kk;const Km=class Km{constructor(e,t,n,i,s,a,o,A,l,c,u,h,f){X(this,pt);X(this,m1,new AbortController);X(this,Jo,null);X(this,rs,new Map);X(this,Ns,new Map);X(this,v1,null);X(this,Mu,null);X(this,w1,null);X(this,OA,new PAe);X(this,Pf,null);X(this,ep,null);X(this,y1,0);X(this,tp,new Set);X(this,Bc,null);X(this,Bl,null);X(this,rp,new Set);De(this,"_editorUndoBar",null);X(this,xx,!1);X(this,_x,!1);X(this,x1,!1);X(this,bx,null);X(this,Sc,null);X(this,Rf,null);X(this,_1,null);X(this,Nf,!1);X(this,Tc,null);X(this,A5,new LAe);X(this,Df,!1);X(this,Ex,!1);X(this,Uf,null);X(this,np,null);X(this,Cx,null);X(this,Bx,null);X(this,gs,wr.NONE);X(this,ln,new Set);X(this,Ou,null);X(this,ip,null);X(this,Sx,null);X(this,Tx,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});X(this,Mf,[0,0]);X(this,Fc,null);X(this,Qu,null);X(this,Fx,null);X(this,QA,null);const d=this._signal=g(this,m1).signal;V(this,Qu,e),V(this,Fx,t),V(this,v1,n),this._eventBus=i,i._on("editingaction",this.onEditingAction.bind(this),{signal:d}),i._on("pagechanging",this.onPageChanging.bind(this),{signal:d}),i._on("scalechanging",this.onScaleChanging.bind(this),{signal:d}),i._on("rotationchanging",this.onRotationChanging.bind(this),{signal:d}),i._on("setpreference",this.onSetPreference.bind(this),{signal:d}),i._on("switchannotationeditorparams",p=>this.updateParams(p.type,p.value),{signal:d}),ee(this,pt,Tz).call(this),ee(this,pt,Lz).call(this),ee(this,pt,Qk).call(this),V(this,Mu,s.annotationStorage),V(this,bx,s.filterFactory),V(this,ip,a),V(this,_1,o||null),V(this,xx,A),V(this,_x,l),V(this,x1,c),V(this,Bx,u||null),this.viewParameters={realScale:Gd.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=h||null,this._supportsPinchToZoom=f!==!1}static get _keyboardManager(){const e=Km.prototype,t=a=>g(a,Qu).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),n=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:A}=o;return A!=="text"&&A!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Br(this,"_keyboardManager",new Ab([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&g(a,Qu).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&g(a,Qu).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,n,i,s;(e=g(this,QA))==null||e.resolve(),V(this,QA,null),(t=g(this,m1))==null||t.abort(),V(this,m1,null),this._signal=null;for(const a of g(this,Ns).values())a.destroy();g(this,Ns).clear(),g(this,rs).clear(),g(this,rp).clear(),V(this,Jo,null),g(this,ln).clear(),g(this,OA).destroy(),(n=g(this,v1))==null||n.destroy(),(i=g(this,Tc))==null||i.hide(),V(this,Tc,null),g(this,Sc)&&(clearTimeout(g(this,Sc)),V(this,Sc,null)),g(this,Fc)&&(clearTimeout(g(this,Fc)),V(this,Fc,null)),(s=this._editorUndoBar)==null||s.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return g(this,Bx)}get useNewAltTextFlow(){return g(this,_x)}get useNewAltTextWhenAddingImage(){return g(this,x1)}get hcmFilter(){return Br(this,"hcmFilter",g(this,ip)?g(this,bx).addHCMFilter(g(this,ip).foreground,g(this,ip).background):"none")}get direction(){return Br(this,"direction",getComputedStyle(g(this,Qu)).direction)}get highlightColors(){return Br(this,"highlightColors",g(this,_1)?new Map(g(this,_1).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return Br(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),V(this,ep,e)}setMainHighlightColorPicker(e){V(this,Cx,e)}editAltText(e,t=!1){var n;(n=g(this,v1))==null||n.editAltText(this,e,t)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":V(this,x1,t);break}}onPageChanging({pageNumber:e}){V(this,y1,e-1)}focusMainContainer(){g(this,Qu).focus()}findParent(e,t){for(const n of g(this,Ns).values()){const{x:i,y:s,width:a,height:o}=n.div.getBoundingClientRect();if(e>=i&&e<=i+a&&t>=s&&t<=s+o)return n}return null}disableUserSelect(e=!1){g(this,Fx).classList.toggle("noUserSelect",e)}addShouldRescale(e){g(this,rp).add(e)}removeShouldRescale(e){g(this,rp).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*Gd.PDF_TO_CSS_UNITS;for(const n of g(this,rp))n.onScaleChanging();(t=g(this,ep))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:i,focusNode:s,focusOffset:a}=t,o=t.toString(),l=ee(this,pt,DC).call(this,t).closest(".textLayer"),c=this.getSelectionBoxes(l);if(!c)return;t.empty();const u=ee(this,pt,Ok).call(this,l),h=g(this,gs)===wr.NONE,f=()=>{u==null||u.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:c,anchorNode:n,anchorOffset:i,focusNode:s,focusOffset:a,text:o}),h&&this.showAllEditors("highlight",!0,!0)};if(h){this.switchToMode(wr.HIGHLIGHT,f);return}f()}addToAnnotationStorage(e){!e.isEmpty()&&g(this,Mu)&&!g(this,Mu).has(e.id)&&g(this,Mu).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,g(this,Nf)&&(V(this,Nf,!1),ee(this,pt,UC).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of g(this,ln))if(t.div.contains(e)){V(this,np,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!g(this,np))return;const[e,t]=g(this,np);V(this,np,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){ee(this,pt,Qk).call(this),ee(this,pt,Hk).call(this)}removeEditListeners(){ee(this,pt,kz).call(this),ee(this,pt,Vk).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of g(this,Bl))if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of g(this,Bl))if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=g(this,Jo))==null||n.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of g(this,ln)){const s=i.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const a of g(this,Bl))if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(s){yr(`paste: "${s.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const A of n){const l=await i.deserialize(A);if(!l)return;s.push(l)}const a=()=>{for(const A of s)ee(this,pt,jk).call(this,A);ee(this,pt,Kk).call(this,s)},o=()=>{for(const A of s)A.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(s){yr(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),g(this,gs)!==wr.NONE&&!this.isEditorHandlingKeyboard&&Km._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,g(this,Nf)&&(V(this,Nf,!1),ee(this,pt,UC).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(ee(this,pt,Fz).call(this),ee(this,pt,Hk).call(this),ee(this,pt,Va).call(this,{isEditing:g(this,gs)!==wr.NONE,isEmpty:ee(this,pt,ty).call(this),hasSomethingToUndo:g(this,OA).hasSomethingToUndo(),hasSomethingToRedo:g(this,OA).hasSomethingToRedo(),hasSelectedEditor:!1})):(ee(this,pt,Iz).call(this),ee(this,pt,Vk).call(this),ee(this,pt,Va).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!g(this,Bl)){V(this,Bl,e);for(const t of g(this,Bl))ee(this,pt,Tu).call(this,t.defaultPropertiesToUpdate)}}getId(){return g(this,A5).id}get currentLayer(){return g(this,Ns).get(g(this,y1))}getLayer(e){return g(this,Ns).get(e)}get currentPageIndex(){return g(this,y1)}addLayer(e){g(this,Ns).set(e.pageIndex,e),g(this,Df)?e.enable():e.disable()}removeLayer(e){g(this,Ns).delete(e.pageIndex)}async updateMode(e,t=null,n=!1){var i;if(g(this,gs)!==e&&!(g(this,QA)&&(await g(this,QA).promise,!g(this,QA)))){if(V(this,QA,Promise.withResolvers()),V(this,gs,e),e===wr.NONE){this.setEditingState(!1),ee(this,pt,Rz).call(this),(i=this._editorUndoBar)==null||i.hide(),g(this,QA).resolve();return}this.setEditingState(!0),await ee(this,pt,Pz).call(this),this.unselectAll();for(const s of g(this,Ns).values())s.updateMode(e);if(!t){n&&this.addNewEditorFromKeyboard(),g(this,QA).resolve();return}for(const s of g(this,rs).values())s.annotationElementId===t?(this.setSelected(s),s.enterInEditMode()):s.unselect();g(this,QA).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==g(this,gs)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var n;if(g(this,Bl)){switch(e){case Dr.CREATE:this.currentLayer.addNewEditor();return;case Dr.HIGHLIGHT_DEFAULT_COLOR:(n=g(this,Cx))==null||n.updateColor(t);break;case Dr.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(g(this,Sx)||V(this,Sx,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const i of g(this,ln))i.updateParams(e,t);for(const i of g(this,Bl))i.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){var s;for(const a of g(this,rs).values())a.editorType===e&&a.show(t);(((s=g(this,Sx))==null?void 0:s.get(Dr.HIGHLIGHT_SHOW_ALL))??!0)!==t&&ee(this,pt,Tu).call(this,[[Dr.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(g(this,Ex)!==e){V(this,Ex,e);for(const t of g(this,Ns).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const n of g(this,rs).values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return g(this,rs).get(e)}addEditor(e){g(this,rs).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(g(this,Sc)&&clearTimeout(g(this,Sc)),V(this,Sc,setTimeout(()=>{this.focusMainContainer(),V(this,Sc,null)},0))),g(this,rs).delete(e.id),this.unselect(e),(!e.annotationElementId||!g(this,tp).has(e.annotationElementId))&&((t=g(this,Mu))==null||t.remove(e.id))}addDeletedAnnotationElement(e){g(this,tp).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return g(this,tp).has(e)}removeDeletedAnnotationElement(e){g(this,tp).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){g(this,Jo)!==e&&(V(this,Jo,e),e&&ee(this,pt,Tu).call(this,e.propertiesToUpdate))}updateUI(e){g(this,pt,Nz)===e&&ee(this,pt,Tu).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){ee(this,pt,Tu).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(g(this,ln).has(e)){g(this,ln).delete(e),e.unselect(),ee(this,pt,Va).call(this,{hasSelectedEditor:this.hasSelection});return}g(this,ln).add(e),e.select(),ee(this,pt,Tu).call(this,e.propertiesToUpdate),ee(this,pt,Va).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;(t=g(this,ep))==null||t.commitOrRemove();for(const n of g(this,ln))n!==e&&n.unselect();g(this,ln).clear(),g(this,ln).add(e),e.select(),ee(this,pt,Tu).call(this,e.propertiesToUpdate),ee(this,pt,Va).call(this,{hasSelectedEditor:!0})}isSelected(e){return g(this,ln).has(e)}get firstSelectedEditor(){return g(this,ln).values().next().value}unselect(e){e.unselect(),g(this,ln).delete(e),ee(this,pt,Va).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return g(this,ln).size!==0}get isEnterHandled(){return g(this,ln).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;g(this,OA).undo(),ee(this,pt,Va).call(this,{hasSomethingToUndo:g(this,OA).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:ee(this,pt,ty).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){g(this,OA).redo(),ee(this,pt,Va).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:g(this,OA).hasSomethingToRedo(),isEmpty:ee(this,pt,ty).call(this)})}addCommands(e){g(this,OA).add(e),ee(this,pt,Va).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:ee(this,pt,ty).call(this)})}cleanUndoStack(e){g(this,OA).cleanType(e)}delete(){var s;this.commitOrRemove();const e=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...g(this,ln)],n=()=>{var a;(a=this._editorUndoBar)==null||a.show(i,t.length===1?t[0].editorType:t.length);for(const o of t)o.remove()},i=()=>{for(const a of t)ee(this,pt,jk).call(this,a)};this.addCommands({cmd:n,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=g(this,Jo))==null||e.commitOrRemove()}hasSomethingToControl(){return g(this,Jo)||this.hasSelection}selectAll(){for(const e of g(this,ln))e.commit();ee(this,pt,Kk).call(this,g(this,rs).values())}unselectAll(){var e;if(!(g(this,Jo)&&(g(this,Jo).commitOrRemove(),g(this,gs)!==wr.NONE))&&!((e=g(this,ep))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of g(this,ln))t.unselect();g(this,ln).clear(),ee(this,pt,Va).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;g(this,Mf)[0]+=e,g(this,Mf)[1]+=t;const[i,s]=g(this,Mf),a=[...g(this,ln)],o=1e3;g(this,Fc)&&clearTimeout(g(this,Fc)),V(this,Fc,setTimeout(()=>{V(this,Fc,null),g(this,Mf)[0]=g(this,Mf)[1]=0,this.addCommands({cmd:()=>{for(const A of a)g(this,rs).has(A.id)&&A.translateInPage(i,s)},undo:()=>{for(const A of a)g(this,rs).has(A.id)&&A.translateInPage(-i,-s)},mustExec:!1})},o));for(const A of a)A.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),V(this,Bc,new Map);for(const e of g(this,ln))g(this,Bc).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!g(this,Bc))return!1;this.disableUserSelect(!1);const e=g(this,Bc);V(this,Bc,null);let t=!1;for(const[{x:i,y:s,pageIndex:a},o]of e)o.newX=i,o.newY=s,o.newPageIndex=a,t||(t=i!==o.savedX||s!==o.savedY||a!==o.savedPageIndex);if(!t)return!1;const n=(i,s,a,o)=>{if(g(this,rs).has(i.id)){const A=g(this,Ns).get(o);A?i._setParentAndPosition(A,s,a):(i.pageIndex=o,i.x=s,i.y=a)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:a,newPageIndex:o}]of e)n(i,s,a,o)},undo:()=>{for(const[i,{savedX:s,savedY:a,savedPageIndex:o}]of e)n(i,s,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(g(this,Bc))for(const n of g(this,Bc).keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||g(this,ln).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return g(this,Jo)===e}getActive(){return g(this,Jo)}getMode(){return g(this,gs)}get imageManager(){return Br(this,"imageManager",new Uk)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let l=0,c=t.rangeCount;l<c;l++)if(!e.contains(t.getRangeAt(l).commonAncestorContainer))return null;const{x:n,y:i,width:s,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(l,c,u,h)=>({x:(c-i)/a,y:1-(l+u-n)/s,width:h/a,height:u/s});break;case"180":o=(l,c,u,h)=>({x:1-(l+u-n)/s,y:1-(c+h-i)/a,width:u/s,height:h/a});break;case"270":o=(l,c,u,h)=>({x:1-(c+h-i)/a,y:(l-n)/s,width:h/a,height:u/s});break;default:o=(l,c,u,h)=>({x:(l-n)/s,y:(c-i)/a,width:u/s,height:h/a});break}const A=[];for(let l=0,c=t.rangeCount;l<c;l++){const u=t.getRangeAt(l);if(!u.collapsed)for(const{x:h,y:f,width:d,height:p}of u.getClientRects())d===0||p===0||A.push(o(h,f,d,p))}return A.length===0?null:A}addChangedExistingAnnotation({annotationElementId:e,id:t}){(g(this,w1)||V(this,w1,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=g(this,w1))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=g(this,w1))==null?void 0:i.get(e.data.id);if(!t)return;const n=g(this,Mu).getRawValue(t);n&&(g(this,gs)===wr.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}};m1=new WeakMap,Jo=new WeakMap,rs=new WeakMap,Ns=new WeakMap,v1=new WeakMap,Mu=new WeakMap,w1=new WeakMap,OA=new WeakMap,Pf=new WeakMap,ep=new WeakMap,y1=new WeakMap,tp=new WeakMap,Bc=new WeakMap,Bl=new WeakMap,rp=new WeakMap,xx=new WeakMap,_x=new WeakMap,x1=new WeakMap,bx=new WeakMap,Sc=new WeakMap,Rf=new WeakMap,_1=new WeakMap,Nf=new WeakMap,Tc=new WeakMap,A5=new WeakMap,Df=new WeakMap,Ex=new WeakMap,Uf=new WeakMap,np=new WeakMap,Cx=new WeakMap,Bx=new WeakMap,gs=new WeakMap,ln=new WeakMap,Ou=new WeakMap,ip=new WeakMap,Sx=new WeakMap,Tx=new WeakMap,Mf=new WeakMap,Fc=new WeakMap,Qu=new WeakMap,Fx=new WeakMap,QA=new WeakMap,pt=new WeakSet,DC=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Ok=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of g(this,Ns).values())if(n.hasTextLayer(e))return n;return null},Bz=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=ee(this,pt,DC).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(n);i&&(g(this,Tc)||V(this,Tc,new kAe(this)),g(this,Tc).show(n,i,this.direction==="ltr"))},Sz=function(){var s,a,o;const e=document.getSelection();if(!e||e.isCollapsed){g(this,Ou)&&((s=g(this,Tc))==null||s.hide(),V(this,Ou,null),ee(this,pt,Va).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===g(this,Ou))return;const i=ee(this,pt,DC).call(this,e).closest(".textLayer");if(!i){g(this,Ou)&&((a=g(this,Tc))==null||a.hide(),V(this,Ou,null),ee(this,pt,Va).call(this,{hasSelectedText:!1}));return}if((o=g(this,Tc))==null||o.hide(),V(this,Ou,t),ee(this,pt,Va).call(this,{hasSelectedText:!0}),!(g(this,gs)!==wr.HIGHLIGHT&&g(this,gs)!==wr.NONE)&&(g(this,gs)===wr.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),V(this,Nf,this.isShiftKeyDown),!this.isShiftKeyDown)){const A=g(this,gs)===wr.HIGHLIGHT?ee(this,pt,Ok).call(this,i):null;A==null||A.toggleDrawing();const l=new AbortController,c=this.combinedSignal(l),u=h=>{h.type==="pointerup"&&h.button!==0||(l.abort(),A==null||A.toggleDrawing(!0),h.type==="pointerup"&&ee(this,pt,UC).call(this,"main_toolbar"))};window.addEventListener("pointerup",u,{signal:c}),window.addEventListener("blur",u,{signal:c})}},UC=function(e=""){g(this,gs)===wr.HIGHLIGHT?this.highlightSelection(e):g(this,xx)&&ee(this,pt,Bz).call(this)},Tz=function(){document.addEventListener("selectionchange",ee(this,pt,Sz).bind(this),{signal:this._signal})},Fz=function(){if(g(this,Rf))return;V(this,Rf,new AbortController);const e=this.combinedSignal(g(this,Rf));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},Iz=function(){var e;(e=g(this,Rf))==null||e.abort(),V(this,Rf,null)},Qk=function(){if(g(this,Uf))return;V(this,Uf,new AbortController);const e=this.combinedSignal(g(this,Uf));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},kz=function(){var e;(e=g(this,Uf))==null||e.abort(),V(this,Uf,null)},Hk=function(){if(g(this,Pf))return;V(this,Pf,new AbortController);const e=this.combinedSignal(g(this,Pf));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},Vk=function(){var e;(e=g(this,Pf))==null||e.abort(),V(this,Pf,null)},Lz=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Va=function(e){Object.entries(e).some(([n,i])=>g(this,Tx)[n]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(g(this,Tx),e)}),g(this,gs)===wr.HIGHLIGHT&&e.hasSelectedEditor===!1&&ee(this,pt,Tu).call(this,[[Dr.HIGHLIGHT_FREE,!0]]))},Tu=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},Pz=async function(){if(!g(this,Df)){V(this,Df,!0);const e=[];for(const t of g(this,Ns).values())e.push(t.enable());await Promise.all(e);for(const t of g(this,rs).values())t.enable()}},Rz=function(){if(this.unselectAll(),g(this,Df)){V(this,Df,!1);for(const e of g(this,Ns).values())e.disable();for(const e of g(this,rs).values())e.disable()}},jk=function(e){const t=g(this,Ns).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},Nz=function(){let e=null;for(e of g(this,ln));return e},ty=function(){if(g(this,rs).size===0)return!0;if(g(this,rs).size===1)for(const e of g(this,rs).values())return e.isEmpty();return!1},Kk=function(e){for(const t of g(this,ln))t.unselect();g(this,ln).clear();for(const t of e)t.isEmpty()||(g(this,ln).add(t),t.select());ee(this,pt,Va).call(this,{hasSelectedEditor:this.hasSelection})},De(Km,"TRANSLATE_SMALL",1),De(Km,"TRANSLATE_BIG",10);let bg=Km;var ms,Ic,Sl,b1,kc,Zo,E1,Lc,_o,Hu,sp,Pc,Of,jl,ry,MC;const ja=class ja{constructor(e){X(this,jl);X(this,ms,null);X(this,Ic,!1);X(this,Sl,null);X(this,b1,null);X(this,kc,null);X(this,Zo,null);X(this,E1,!1);X(this,Lc,null);X(this,_o,null);X(this,Hu,null);X(this,sp,null);X(this,Pc,!1);V(this,_o,e),V(this,Pc,e._uiManager.useNewAltTextFlow),g(ja,Of)||V(ja,Of,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){ja._l10n??(ja._l10n=e)}async render(){const e=V(this,Sl,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=V(this,b1,document.createElement("span"));e.append(t),g(this,Pc)?(e.classList.add("new"),e.setAttribute("data-l10n-id",g(ja,Of).missing),t.setAttribute("data-l10n-id",g(ja,Of)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=g(this,_o)._uiManager._signal;e.addEventListener("contextmenu",Xl,{signal:n}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:n});const i=s=>{s.preventDefault(),g(this,_o)._uiManager.editAltText(g(this,_o)),g(this,Pc)&&g(this,_o)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:g(this,jl,ry)}})};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(V(this,E1,!0),i(s))},{signal:n}),await ee(this,jl,MC).call(this),e}finish(){g(this,Sl)&&(g(this,Sl).focus({focusVisible:g(this,E1)}),V(this,E1,!1))}isEmpty(){return g(this,Pc)?g(this,ms)===null:!g(this,ms)&&!g(this,Ic)}hasData(){return g(this,Pc)?g(this,ms)!==null||!!g(this,Hu):this.isEmpty()}get guessedText(){return g(this,Hu)}async setGuessedText(e){g(this,ms)===null&&(V(this,Hu,e),V(this,sp,await ja._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),ee(this,jl,MC).call(this))}toggleAltTextBadge(e=!1){var t;if(!g(this,Pc)||g(this,ms)){(t=g(this,Lc))==null||t.remove(),V(this,Lc,null);return}if(!g(this,Lc)){const n=V(this,Lc,document.createElement("div"));n.className="noAltTextBadge",g(this,_o).div.append(n)}g(this,Lc).classList.toggle("hidden",!e)}serialize(e){let t=g(this,ms);return!e&&g(this,Hu)===t&&(t=g(this,sp)),{altText:t,decorative:g(this,Ic),guessedText:g(this,Hu),textWithDisclaimer:g(this,sp)}}get data(){return{altText:g(this,ms),decorative:g(this,Ic)}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:i,cancel:s=!1}){n&&(V(this,Hu,n),V(this,sp,i)),!(g(this,ms)===e&&g(this,Ic)===t)&&(s||(V(this,ms,e),V(this,Ic,t)),ee(this,jl,MC).call(this))}toggle(e=!1){g(this,Sl)&&(!e&&g(this,Zo)&&(clearTimeout(g(this,Zo)),V(this,Zo,null)),g(this,Sl).disabled=!e)}shown(){g(this,_o)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:g(this,jl,ry)}})}destroy(){var e,t;(e=g(this,Sl))==null||e.remove(),V(this,Sl,null),V(this,b1,null),V(this,kc,null),(t=g(this,Lc))==null||t.remove(),V(this,Lc,null)}};ms=new WeakMap,Ic=new WeakMap,Sl=new WeakMap,b1=new WeakMap,kc=new WeakMap,Zo=new WeakMap,E1=new WeakMap,Lc=new WeakMap,_o=new WeakMap,Hu=new WeakMap,sp=new WeakMap,Pc=new WeakMap,Of=new WeakMap,jl=new WeakSet,ry=function(){return g(this,ms)&&"added"||g(this,ms)===null&&this.guessedText&&"review"||"missing"},MC=async function(){var i,s,a;const e=g(this,Sl);if(!e)return;if(g(this,Pc)){if(e.classList.toggle("done",!!g(this,ms)),e.setAttribute("data-l10n-id",g(ja,Of)[g(this,jl,ry)]),(i=g(this,b1))==null||i.setAttribute("data-l10n-id",g(ja,Of)[`${g(this,jl,ry)}-label`]),!g(this,ms)){(s=g(this,kc))==null||s.remove();return}}else{if(!g(this,ms)&&!g(this,Ic)){e.classList.remove("done"),(a=g(this,kc))==null||a.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=g(this,kc);if(!t){V(this,kc,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${g(this,_o).id}`;const o=100,A=g(this,_o)._uiManager._signal;A.addEventListener("abort",()=>{clearTimeout(g(this,Zo)),V(this,Zo,null)},{once:!0}),e.addEventListener("mouseenter",()=>{V(this,Zo,setTimeout(()=>{V(this,Zo,null),g(this,kc).classList.add("show"),g(this,_o)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:A}),e.addEventListener("mouseleave",()=>{var l;g(this,Zo)&&(clearTimeout(g(this,Zo)),V(this,Zo,null)),(l=g(this,kc))==null||l.classList.remove("show")},{signal:A})}g(this,Ic)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=g(this,ms)),t.parentNode||e.append(t);const n=g(this,_o).getImageForAltText();n==null||n.setAttribute("aria-describedby",t.id)},X(ja,Of,null),De(ja,"_l10n",null);let gS=ja;var Ix,ap,kx,Lx,Px,Rx,Nx,C1,Vu,op,Qf,Hh,Dz,Uz,zk;const nD=class nD{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:n=null,onPinchStart:i=null,onPinching:s=null,onPinchEnd:a=null,signal:o}){X(this,Hh);X(this,Ix);X(this,ap,!1);X(this,kx,null);X(this,Lx);X(this,Px);X(this,Rx);X(this,Nx);X(this,C1);X(this,Vu,null);X(this,op);X(this,Qf,null);V(this,Ix,e),V(this,kx,n),V(this,Lx,t),V(this,Px,i),V(this,Rx,s),V(this,Nx,a),V(this,op,new AbortController),V(this,C1,AbortSignal.any([o,g(this,op).signal])),e.addEventListener("touchstart",ee(this,Hh,Dz).bind(this),{passive:!1,signal:g(this,C1)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return Br(this,"MIN_TOUCH_DISTANCE_TO_PINCH",35/(window.devicePixelRatio||1))}destroy(){var e;(e=g(this,op))==null||e.abort(),V(this,op,null)}};Ix=new WeakMap,ap=new WeakMap,kx=new WeakMap,Lx=new WeakMap,Px=new WeakMap,Rx=new WeakMap,Nx=new WeakMap,C1=new WeakMap,Vu=new WeakMap,op=new WeakMap,Qf=new WeakMap,Hh=new WeakSet,Dz=function(e){var i,s,a;if((i=g(this,Lx))!=null&&i.call(this)||e.touches.length<2)return;if(!g(this,Qf)){V(this,Qf,new AbortController);const o=AbortSignal.any([g(this,C1),g(this,Qf).signal]),A=g(this,Ix),l={signal:o,passive:!1};A.addEventListener("touchmove",ee(this,Hh,Uz).bind(this),l),A.addEventListener("touchend",ee(this,Hh,zk).bind(this),l),A.addEventListener("touchcancel",ee(this,Hh,zk).bind(this),l),(s=g(this,Px))==null||s.call(this)}if(pA(e),e.touches.length!==2||(a=g(this,kx))!=null&&a.call(this)){V(this,Vu,null);return}let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]),V(this,Vu,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:n.screenX,touch1Y:n.screenY})},Uz=function(e){var T;if(!g(this,Vu)||e.touches.length!==2)return;let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]);const{screenX:i,screenY:s}=t,{screenX:a,screenY:o}=n,A=g(this,Vu),{touch0X:l,touch0Y:c,touch1X:u,touch1Y:h}=A,f=u-l,d=h-c,p=a-i,v=o-s,m=Math.hypot(p,v)||1,x=Math.hypot(f,d)||1;if(!g(this,ap)&&Math.abs(x-m)<=nD.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(A.touch0X=i,A.touch0Y=s,A.touch1X=a,A.touch1Y=o,e.preventDefault(),!g(this,ap)){V(this,ap,!0);return}const b=[(i+a)/2,(s+o)/2];(T=g(this,Rx))==null||T.call(this,b,x,m)},zk=function(e){var t;g(this,Qf).abort(),V(this,Qf,null),(t=g(this,Nx))==null||t.call(this),g(this,Vu)&&(e.preventDefault(),V(this,Vu,null),V(this,ap,!1))};let mS=nD;var Ap,Tl,Un,B1,Hf,Dx,lp,Ds,cp,ju,Vf,Ux,up,eA,Mx,hp,Ku,Rc,S1,T1,HA,fp,Ox,l5,Yt,Wk,Qx,Gk,OC,Mz,Oz,$k,QC,qk,Qz,Hz,Vz,Xk,jz,Yk,Kz,zz,Wz,Jk,ny;const _r=class _r{constructor(e){X(this,Yt);X(this,Ap,null);X(this,Tl,null);X(this,Un,null);X(this,B1,!1);X(this,Hf,null);X(this,Dx,"");X(this,lp,!1);X(this,Ds,null);X(this,cp,null);X(this,ju,null);X(this,Vf,null);X(this,Ux,"");X(this,up,!1);X(this,eA,null);X(this,Mx,!1);X(this,hp,!1);X(this,Ku,!1);X(this,Rc,null);X(this,S1,0);X(this,T1,0);X(this,HA,null);X(this,fp,null);De(this,"_editToolbar",null);De(this,"_initialOptions",Object.create(null));De(this,"_initialData",null);De(this,"_isVisible",!0);De(this,"_uiManager",null);De(this,"_focusEventsAllowed",!0);X(this,Ox,!1);X(this,l5,_r._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:i,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[s,a];const[o,A]=this.parentDimensions;this.x=e.x/o,this.y=e.y/A,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=_r.prototype._resizeWithKeyboard,t=bg.TRANSLATE_SMALL,n=bg.TRANSLATE_BIG;return Br(this,"_resizerKeyboardManager",new Ab([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],_r.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return Br(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new RAe({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(_r._l10n??(_r._l10n=e),_r._l10nResizer||(_r._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),_r._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);_r._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Cn("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return g(this,Ox)}set _isDraggable(e){var t;V(this,Ox,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=g(this,l5)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):ee(this,Yt,ny).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(g(this,up)?V(this,up,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,i){const[s,a]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(e+n)/s,this.y=(t+i)/a,this.fixAndSetPosition()}translate(e,t){ee(this,Yt,Wk).call(this,this.parentDimensions,e,t)}translateInPage(e,t){g(this,eA)||V(this,eA,[this.x,this.y,this.width,this.height]),ee(this,Yt,Wk).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){g(this,eA)||V(this,eA,[this.x,this.y,this.width,this.height]);const{div:n,parentDimensions:[i,s]}=this;if(this.x+=e/i,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:u,y:h}=this.div.getBoundingClientRect();this.parent.findNewParent(this,u,h)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:o}=this;const[A,l]=this.getBaseTranslation();a+=A,o+=l;const{style:c}=n;c.left=`${(100*a).toFixed(2)}%`,c.top=`${(100*o).toFixed(2)}%`,this._onTranslating(a,o),n.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!g(this,eA)&&(g(this,eA)[0]!==this.x||g(this,eA)[1]!==this.y)}get _hasBeenResized(){return!!g(this,eA)&&(g(this,eA)[2]!==this.width||g(this,eA)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=_r,i=n/e,s=n/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[n,i]}=this;let{x:s,y:a,width:o,height:A}=this;if(o*=n,A*=i,s*=n,a*=i,this._mustFixPosition)switch(e){case 0:s=Math.max(0,Math.min(n-o,s)),a=Math.max(0,Math.min(i-A,a));break;case 90:s=Math.max(0,Math.min(n-A,s)),a=Math.min(i,Math.max(o,a));break;case 180:s=Math.min(n,Math.max(o,s)),a=Math.min(i,Math.max(A,a));break;case 270:s=Math.min(n,Math.max(A,s)),a=Math.max(0,Math.min(i-o,a));break}this.x=s/=n,this.y=a/=i;const[l,c]=this.getBaseTranslation();s+=l,a+=c,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var n;return ee(n=_r,Qx,Gk).call(n,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var n;return ee(n=_r,Qx,Gk).call(n,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(e,t){const[n,i]=this.parentDimensions,{style:s}=this.div;s.width=`${(100*e/n).toFixed(2)}%`,g(this,lp)||(s.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,i=n.endsWith("%"),s=!g(this,lp)&&t.endsWith("%");if(i&&s)return;const[a,o]=this.parentDimensions;i||(e.width=`${(100*parseFloat(n)/a).toFixed(2)}%`),!g(this,lp)&&!s&&(e.height=`${(100*parseFloat(t)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=g(this,Un))==null||e.finish()}async addEditToolbar(){return this._editToolbar||g(this,hp)?this._editToolbar:(this._editToolbar=new Nk(this),this.div.append(this._editToolbar.render()),g(this,Un)&&await this._editToolbar.addAltText(g(this,Un)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=g(this,Un))==null||e.destroy())}addContainer(e){var n;const t=(n=this._editToolbar)==null?void 0:n.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){g(this,Un)||(gS.initialize(_r._l10n),V(this,Un,new gS(this)),g(this,Ap)&&(g(this,Un).data=g(this,Ap),V(this,Ap,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=g(this,Un))==null?void 0:e.data}set altTextData(e){g(this,Un)&&(g(this,Un).data=e)}get guessedAltText(){var e;return(e=g(this,Un))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=g(this,Un))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=g(this,Un))==null?void 0:t.serialize(e)}hasAltText(){return!!g(this,Un)&&!g(this,Un).isEmpty()}hasAltTextData(){var e;return((e=g(this,Un))==null?void 0:e.hasData())??!1}render(){var s;this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=g(this,B1)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),ee(this,Yt,Yk).call(this);const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[n,i]=this.getInitialTranslation();return this.translate(n,i),pS(this,this.div,["pointerdown"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(g(this,fp)||V(this,fp,new mS({container:this.div,isPinchingDisabled:()=>!this.isSelected,onPinchStart:ee(this,Yt,Qz).bind(this),onPinching:ee(this,Yt,Hz).bind(this),onPinchEnd:ee(this,Yt,Vz).bind(this),signal:this._uiManager._signal}))),(s=this._uiManager._editorUndoBar)==null||s.hide(),this.div}pointerdown(e){const{isMac:t}=to.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(V(this,up,!0),this._isDraggable){ee(this,Yt,jz).call(this,e);return}ee(this,Yt,Xk).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){g(this,Rc)&&clearTimeout(g(this,Rc)),V(this,Rc,setTimeout(()=>{var e;V(this,Rc,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,n=this.rotation){const i=this.parentScale,[s,a]=this.pageDimensions,[o,A]=this.pageTranslation,l=e/i,c=t/i,u=this.x*s,h=this.y*a,f=this.width*s,d=this.height*a;switch(n){case 0:return[u+l+o,a-h-c-d+A,u+l+f+o,a-h-c+A];case 90:return[u+c+o,a-h+l+A,u+c+d+o,a-h+l+f+A];case 180:return[u-l-f+o,a-h+c+A,u-l+o,a-h+c+d+A];case 270:return[u-c-d+o,a-h-l-f+A,u-c+o,a-h-l+A];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,i,s,a]=e,o=s-n,A=a-i;switch(this.rotation){case 0:return[n,t-a,o,A];case 90:return[n,t-i,A,o];case 180:return[s,t-i,o,A];case 270:return[s,t-a,A,o];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){V(this,hp,!0)}disableEditMode(){V(this,hp,!1)}isInEditMode(){return g(this,hp)}shouldGetKeyboardEvents(){return g(this,Ku)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:n,right:i}=this.getClientDimensions(),{innerHeight:s,innerWidth:a}=window;return t<a&&i>0&&e<s&&n>0}rebuild(){ee(this,Yt,Yk).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){Cn("An editor must be serializable")}static async deserialize(e,t,n){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n});i.rotation=e.rotation,V(i,Ap,e.accessibilityData);const[s,a]=i.pageDimensions,[o,A,l,c]=i.getRectInCurrentCoords(e.rect,a);return i.x=o/s,i.y=A/a,i.width=l/s,i.height=c/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t;if((e=g(this,Vf))==null||e.abort(),V(this,Vf,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),g(this,Rc)&&(clearTimeout(g(this,Rc)),V(this,Rc,null)),ee(this,Yt,ny).call(this),this.removeEditToolbar(),g(this,HA)){for(const n of g(this,HA).values())clearTimeout(n);V(this,HA,null)}this.parent=null,(t=g(this,fp))==null||t.destroy(),V(this,fp,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(ee(this,Yt,Mz).call(this),g(this,Ds).classList.remove("hidden"),pS(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),V(this,ju,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=g(this,Ds).children;if(!g(this,Tl)){V(this,Tl,Array.from(t));const a=ee(this,Yt,Kz).bind(this),o=ee(this,Yt,zz).bind(this),A=this._uiManager._signal;for(const l of g(this,Tl)){const c=l.getAttribute("data-resizer-name");l.setAttribute("role","spinbutton"),l.addEventListener("keydown",a,{signal:A}),l.addEventListener("blur",o,{signal:A}),l.addEventListener("focus",ee(this,Yt,Wz).bind(this,c),{signal:A}),l.setAttribute("data-l10n-id",_r._l10nResizer[c])}}const n=g(this,Tl)[0];let i=0;for(const a of t){if(a===n)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(g(this,Tl).length/4);if(s!==i){if(s<i)for(let o=0;o<i-s;o++)g(this,Ds).append(g(this,Ds).firstChild);else if(s>i)for(let o=0;o<s-i;o++)g(this,Ds).firstChild.before(g(this,Ds).lastChild);let a=0;for(const o of t){const l=g(this,Tl)[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",_r._l10nResizer[l])}}ee(this,Yt,Jk).call(this,0),V(this,Ku,!0),g(this,Ds).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){g(this,Ku)&&ee(this,Yt,qk).call(this,g(this,Ux),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){ee(this,Yt,ny).call(this),this.div.focus()}select(){var e,t,n;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,s;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(t=this._editToolbar)==null||t.show(),(n=g(this,Un))==null||n.toggleAltTextBadge(!1)}unselect(){var e,t,n,i,s;(e=g(this,Ds))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(s=g(this,Un))==null||s.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return g(this,Mx)}set isEditing(e){V(this,Mx,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){V(this,lp,!0);const n=e/t,{style:i}=this.div;i.aspectRatio=n,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){g(this,HA)||V(this,HA,new Map);const{action:n}=e;let i=g(this,HA).get(n);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),g(this,HA).delete(n),g(this,HA).size===0&&V(this,HA,null)},_r._telemetryTimeout),g(this,HA).set(n,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),V(this,B1,!1)}disable(){this.div&&(this.div.tabIndex=-1),V(this,B1,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Ap=new WeakMap,Tl=new WeakMap,Un=new WeakMap,B1=new WeakMap,Hf=new WeakMap,Dx=new WeakMap,lp=new WeakMap,Ds=new WeakMap,cp=new WeakMap,ju=new WeakMap,Vf=new WeakMap,Ux=new WeakMap,up=new WeakMap,eA=new WeakMap,Mx=new WeakMap,hp=new WeakMap,Ku=new WeakMap,Rc=new WeakMap,S1=new WeakMap,T1=new WeakMap,HA=new WeakMap,fp=new WeakMap,Ox=new WeakMap,l5=new WeakMap,Yt=new WeakSet,Wk=function([e,t],n,i){[n,i]=this.screenToPageTranslation(n,i),this.x+=n/e,this.y+=i/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},Qx=new WeakSet,Gk=function(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},OC=function(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}},Mz=function(){if(g(this,Ds))return;V(this,Ds,document.createElement("div")),g(this,Ds).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const i=document.createElement("div");g(this,Ds).append(i),i.classList.add("resizer",n),i.setAttribute("data-resizer-name",n),i.addEventListener("pointerdown",ee(this,Yt,Oz).bind(this,n),{signal:t}),i.addEventListener("contextmenu",Xl,{signal:t}),i.tabIndex=-1}this.div.prepend(g(this,Ds))},Oz=function(e,t){var c;t.preventDefault();const{isMac:n}=to.platform;if(t.button!==0||t.ctrlKey&&n)return;(c=g(this,Un))==null||c.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,V(this,cp,[t.screenX,t.screenY]);const s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",ee(this,Yt,qk).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",pA,{passive:!1,signal:a}),window.addEventListener("contextmenu",Xl,{signal:a}),V(this,ju,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,A=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const l=()=>{var u;s.abort(),this.parent.togglePointerEvents(!0),(u=g(this,Un))==null||u.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=o,this.div.style.cursor=A,ee(this,Yt,QC).call(this)};window.addEventListener("pointerup",l,{signal:a}),window.addEventListener("blur",l,{signal:a})},$k=function(e,t,n,i){this.width=n,this.height=i,this.x=e,this.y=t;const[s,a]=this.parentDimensions;this.setDims(s*n,a*i),this.fixAndSetPosition(),this._onResized()},QC=function(){if(!g(this,ju))return;const{savedX:e,savedY:t,savedWidth:n,savedHeight:i}=g(this,ju);V(this,ju,null);const s=this.x,a=this.y,o=this.width,A=this.height;s===e&&a===t&&o===n&&A===i||this.addCommands({cmd:ee(this,Yt,$k).bind(this,s,a,o,A),undo:ee(this,Yt,$k).bind(this,e,t,n,i),mustExec:!0})},qk=function(e,t){const[n,i]=this.parentDimensions,s=this.x,a=this.y,o=this.width,A=this.height,l=_r.MIN_SIZE/n,c=_r.MIN_SIZE/i,u=ee(this,Yt,OC).call(this,this.rotation),h=(ie,te)=>[u[0]*ie+u[2]*te,u[1]*ie+u[3]*te],f=ee(this,Yt,OC).call(this,360-this.rotation),d=(ie,te)=>[f[0]*ie+f[2]*te,f[1]*ie+f[3]*te];let p,v,m=!1,x=!1;switch(e){case"topLeft":m=!0,p=(ie,te)=>[0,0],v=(ie,te)=>[ie,te];break;case"topMiddle":p=(ie,te)=>[ie/2,0],v=(ie,te)=>[ie/2,te];break;case"topRight":m=!0,p=(ie,te)=>[ie,0],v=(ie,te)=>[0,te];break;case"middleRight":x=!0,p=(ie,te)=>[ie,te/2],v=(ie,te)=>[0,te/2];break;case"bottomRight":m=!0,p=(ie,te)=>[ie,te],v=(ie,te)=>[0,0];break;case"bottomMiddle":p=(ie,te)=>[ie/2,te],v=(ie,te)=>[ie/2,0];break;case"bottomLeft":m=!0,p=(ie,te)=>[0,te],v=(ie,te)=>[ie,0];break;case"middleLeft":x=!0,p=(ie,te)=>[0,te/2],v=(ie,te)=>[ie,te/2];break}const b=p(o,A),T=v(o,A);let R=h(...T);const P=_r._round(s+R[0]),B=_r._round(a+R[1]);let E=1,_=1,I,S;if(t.fromKeyboard)({deltaX:I,deltaY:S}=t);else{const{screenX:ie,screenY:te}=t,[J,W]=g(this,cp);[I,S]=this.screenToPageTranslation(ie-J,te-W),g(this,cp)[0]=ie,g(this,cp)[1]=te}if([I,S]=d(I/n,S/i),m){const ie=Math.hypot(o,A);E=_=Math.max(Math.min(Math.hypot(T[0]-b[0]-I,T[1]-b[1]-S)/ie,1/o,1/A),l/o,c/A)}else x?E=Math.max(l,Math.min(1,Math.abs(T[0]-b[0]-I)))/o:_=Math.max(c,Math.min(1,Math.abs(T[1]-b[1]-S)))/A;const F=_r._round(o*E),N=_r._round(A*_);R=h(...v(F,N));const G=P-R[0],le=B-R[1];g(this,eA)||V(this,eA,[this.x,this.y,this.width,this.height]),this.width=F,this.height=N,this.x=G,this.y=le,this.setDims(n*F,i*N),this.fixAndSetPosition(),this._onResizing()},Qz=function(){var e;V(this,ju,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=g(this,Un))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},Hz=function(e,t,n){let s=.7*(n/t)+1-.7;if(s===1)return;const a=ee(this,Yt,OC).call(this,this.rotation),o=(P,B)=>[a[0]*P+a[2]*B,a[1]*P+a[3]*B],[A,l]=this.parentDimensions,c=this.x,u=this.y,h=this.width,f=this.height,d=_r.MIN_SIZE/A,p=_r.MIN_SIZE/l;s=Math.max(Math.min(s,1/h,1/f),d/h,p/f);const v=_r._round(h*s),m=_r._round(f*s);if(v===h&&m===f)return;g(this,eA)||V(this,eA,[c,u,h,f]);const x=o(h/2,f/2),b=_r._round(c+x[0]),T=_r._round(u+x[1]),R=o(v/2,m/2);this.x=b-R[0],this.y=T-R[1],this.width=v,this.height=m,this.setDims(A*v,l*m),this.fixAndSetPosition(),this._onResizing()},Vz=function(){var e;(e=g(this,Un))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),ee(this,Yt,QC).call(this)},Xk=function(e){const{isMac:t}=to.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},jz=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let n=!1;const i=new AbortController,s=this._uiManager.combinedSignal(i),a={capture:!0,passive:!1,signal:s},o=l=>{i.abort(),V(this,Hf,null),V(this,up,!1),this._uiManager.endDragSession()||ee(this,Yt,Xk).call(this,l),n&&this._onStopDragging()};t&&(V(this,S1,e.clientX),V(this,T1,e.clientY),V(this,Hf,e.pointerId),V(this,Dx,e.pointerType),window.addEventListener("pointermove",l=>{n||(n=!0,this._onStartDragging());const{clientX:c,clientY:u,pointerId:h}=l;if(h!==g(this,Hf)){pA(l);return}const[f,d]=this.screenToPageTranslation(c-g(this,S1),u-g(this,T1));V(this,S1,c),V(this,T1,u),this._uiManager.dragSelectedEditors(f,d)},a),window.addEventListener("touchmove",pA,a),window.addEventListener("pointerdown",l=>{l.pointerType===g(this,Dx)&&(g(this,fp)||l.isPrimary)&&o(l),pA(l)},a));const A=l=>{if(!g(this,Hf)||g(this,Hf)===l.pointerId){o(l);return}pA(l)};window.addEventListener("pointerup",A,{signal:s}),window.addEventListener("blur",A,{signal:s})},Yk=function(){if(g(this,Vf)||!this.div)return;V(this,Vf,new AbortController);const e=this._uiManager.combinedSignal(g(this,Vf));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},Kz=function(e){_r._resizerKeyboardManager.exec(this,e)},zz=function(e){var t;g(this,Ku)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==g(this,Ds)&&ee(this,Yt,ny).call(this)},Wz=function(e){V(this,Ux,g(this,Ku)?e:"")},Jk=function(e){if(g(this,Tl))for(const t of g(this,Tl))t.tabIndex=e},ny=function(){V(this,Ku,!1),ee(this,Yt,Jk).call(this,-1),ee(this,Yt,QC).call(this)},X(_r,Qx),De(_r,"_l10n",null),De(_r,"_l10nResizer",null),De(_r,"_borderLineWidth",-1),De(_r,"_colorManager",new Mk),De(_r,"_zIndex",1),De(_r,"_telemetryTimeout",1e3);let si=_r;class RAe extends si{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const yO=3285377520,PA=4294901760,gc=65535;class Gz{constructor(e){this.h1=e?e&4294967295:yO,this.h2=e?e&4294967295:yO}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let p=0,v=e.length;p<v;p++){const m=e.charCodeAt(p);m<=255?t[n++]=m:(t[n++]=m>>>8,t[n++]=m&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=n>>2,s=n-i*4,a=new Uint32Array(t.buffer,0,i);let o=0,A=0,l=this.h1,c=this.h2;const u=3432918353,h=461845907,f=u&gc,d=h&gc;for(let p=0;p<i;p++)p&1?(o=a[p],o=o*u&PA|o*f&gc,o=o<<15|o>>>17,o=o*h&PA|o*d&gc,l^=o,l=l<<13|l>>>19,l=l*5+3864292196):(A=a[p],A=A*u&PA|A*f&gc,A=A<<15|A>>>17,A=A*h&PA|A*d&gc,c^=A,c=c<<13|c>>>19,c=c*5+3864292196);switch(o=0,s){case 3:o^=t[i*4+2]<<16;case 2:o^=t[i*4+1]<<8;case 1:o^=t[i*4],o=o*u&PA|o*f&gc,o=o<<15|o>>>17,o=o*h&PA|o*d&gc,i&1?l^=o:c^=o}this.h1=l,this.h2=c}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&PA|e*36045&gc,t=t*4283543511&PA|((t<<16|e>>>16)*2950163797&PA)>>>16,e^=t>>>1,e=e*444984403&PA|e*60499&gc,t=t*3301882366&PA|((t<<16|e>>>16)*3120437893&PA)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Zk=Object.freeze({map:null,hash:"",transfer:void 0});var dp,pp,vs,c5,$z;class $R{constructor(){X(this,c5);X(this,dp,!1);X(this,pp,null);X(this,vs,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=g(this,vs).get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return g(this,vs).get(e)}remove(e){if(g(this,vs).delete(e),g(this,vs).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of g(this,vs).values())if(t instanceof si)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=g(this,vs).get(e);let i=!1;if(n!==void 0)for(const[s,a]of Object.entries(t))n[s]!==a&&(i=!0,n[s]=a);else i=!0,g(this,vs).set(e,t);i&&ee(this,c5,$z).call(this),t instanceof si&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return g(this,vs).has(e)}getAll(){return g(this,vs).size>0?VR(g(this,vs)):null}setAll(e){for(const[t,n]of Object.entries(e))this.setValue(t,n)}get size(){return g(this,vs).size}resetModified(){g(this,dp)&&(V(this,dp,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new qz(this)}get serializable(){if(g(this,vs).size===0)return Zk;const e=new Map,t=new Gz,n=[],i=Object.create(null);let s=!1;for(const[a,o]of g(this,vs)){const A=o instanceof si?o.serialize(!1,i):o;A&&(e.set(a,A),t.update(`${a}:${JSON.stringify(A)}`),s||(s=!!A.bitmap))}if(s)for(const a of e.values())a.bitmap&&n.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:Zk}get editorStats(){let e=null;const t=new Map;for(const n of g(this,vs).values()){if(!(n instanceof si))continue;const i=n.telemetryFinalData;if(!i)continue;const{type:s}=i;t.has(s)||t.set(s,Object.getPrototypeOf(n).constructor),e||(e=Object.create(null));const a=e[s]||(e[s]=new Map);for(const[o,A]of Object.entries(i)){if(o==="type")continue;let l=a.get(o);l||(l=new Map,a.set(o,l));const c=l.get(A)??0;l.set(A,c+1)}}for(const[n,i]of t)e[n]=i.computeTelemetryFinalData(e[n]);return e}resetModifiedIds(){V(this,pp,null)}get modifiedIds(){if(g(this,pp))return g(this,pp);const e=[];for(const t of g(this,vs).values())!(t instanceof si)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return V(this,pp,{ids:new Set(e),hash:e.join(",")})}}dp=new WeakMap,pp=new WeakMap,vs=new WeakMap,c5=new WeakSet,$z=function(){g(this,dp)||(V(this,dp,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Hx;class qz extends $R{constructor(t){super();X(this,Hx);const{map:n,hash:i,transfer:s}=t.serializable,a=structuredClone(n,s?{transfer:s}:null);V(this,Hx,{map:a,hash:i,transfer:s})}get print(){Cn("Should not call PrintAnnotationStorage.print")}get serializable(){return g(this,Hx)}get modifiedIds(){return Br(this,"modifiedIds",{ids:new Set,hash:""})}}Hx=new WeakMap;var F1;class NAe{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){X(this,F1,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),g(this,F1).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||g(this,F1).has(e.loadedName))){if(Gi(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:i,style:s}=e,a=new FontFace(n,i,s);this.addNativeFontFace(a);try{await a.load(),g(this,F1).add(n),t==null||t(e)}catch{yr(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}Cn("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(i){throw yr(`Failed to load font '${n.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const i=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Br(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(Ba||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Br(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(Gi(!i.done,"completeRequest() cannot be called twice."),i.done=!0;n.length>0&&n[0].done;){const s=n.shift();setTimeout(s.callback,0)}}const{loadingRequests:n}=this,i={done:!1,complete:t,callback:e};return n.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Br(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(T,R){return T.charCodeAt(R)<<24|T.charCodeAt(R+1)<<16|T.charCodeAt(R+2)<<8|T.charCodeAt(R+3)&255}function i(T,R,P,B){const E=T.substring(0,R),_=T.substring(R+P);return E+B+_}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const A=o.getContext("2d");let l=0;function c(T,R){if(++l>30){yr("Load test font never loaded."),R();return}if(A.font="30px "+T,A.fillText(".",0,20),A.getImageData(0,0,1,1).data[3]>0){R();return}setTimeout(c.bind(null,T,R))}const u=`lt${Date.now()}${this.loadTestFontId++}`;let h=this._loadTestFont;h=i(h,976,u.length,u);const d=16,p=1482184792;let v=n(h,d);for(s=0,a=u.length-3;s<a;s+=4)v=v-p+n(u,s)|0;s<u.length&&(v=v-p+n(u+"XXX",s)|0),h=i(h,d,4,yAe(v));const m=`url(data:font/opentype;base64,${btoa(h)});`,x=`@font-face {font-family:"${u}";src:${m}}`;this.insertRule(x);const b=this._document.createElement("div");b.style.visibility="hidden",b.style.width=b.style.height="10px",b.style.position="absolute",b.style.top=b.style.left="0px";for(const T of[e.loadedName,u]){const R=this._document.createElement("span");R.textContent="Hi",R.style.fontFamily=T,b.append(R)}this._document.body.append(b),c(u,()=>{b.remove(),t.complete()})}}F1=new WeakMap;class DAe{constructor(e,{disableFontFace:t=!1,fontExtraProperties:n=!1,inspectFont:i=null}){this.compiledGlyphs=Object.create(null);for(const s in e)this[s]=e[s];this.disableFontFace=t===!0,this.fontExtraProperties=n===!0,this._inspectFont=i}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${BAe(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(n=this._inspectFont)==null||n.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const n=this.loadedName+"_path_"+t;let i;try{i=e.get(n)}catch(a){yr(`getPathGenerator - ignoring character: "${a}".`)}const s=new Path2D(i||"");return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[t]=s}}const oE={DATA:1,ERROR:2},Oi={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function xO(){}function yo(r){if(r instanceof Wd||r instanceof Lk||r instanceof K2||r instanceof mO||r instanceof dS||r instanceof jF)return r;switch(r instanceof Error||typeof r=="object"&&r!==null||Cn('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),r.name){case"AbortException":return new Wd(r.message);case"InvalidPDFException":return new Lk(r.message);case"MissingPDFException":return new K2(r.message);case"PasswordException":return new mO(r.message,r.code);case"UnexpectedResponseException":return new dS(r.message,r.status);case"UnknownErrorException":return new jF(r.message,r.details)}return new jF(r.message,r.toString())}var I1,tl,Xz,Yz,Jz,HC;class iy{constructor(e,t,n){X(this,tl);X(this,I1,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",ee(this,tl,Xz).bind(this),{signal:g(this,I1).signal})}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},n)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,t,n,i){const s=this.streamId++,a=this.sourceName,o=this.targetName,A=this.comObj;return new ReadableStream({start:l=>{const c=Promise.withResolvers();return this.streamControllers[s]={controller:l,startCall:c,pullCall:null,cancelCall:null,isClosed:!1},A.postMessage({sourceName:a,targetName:o,action:e,streamId:s,data:t,desiredSize:l.desiredSize},i),c.promise},pull:l=>{const c=Promise.withResolvers();return this.streamControllers[s].pullCall=c,A.postMessage({sourceName:a,targetName:o,stream:Oi.PULL,streamId:s,desiredSize:l.desiredSize}),c.promise},cancel:l=>{Gi(l instanceof Error,"cancel must have a valid reason");const c=Promise.withResolvers();return this.streamControllers[s].cancelCall=c,this.streamControllers[s].isClosed=!0,A.postMessage({sourceName:a,targetName:o,stream:Oi.CANCEL,streamId:s,reason:yo(l)}),c.promise}},n)}destroy(){var e;(e=g(this,I1))==null||e.abort(),V(this,I1,null)}}I1=new WeakMap,tl=new WeakSet,Xz=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){ee(this,tl,Jz).call(this,e);return}if(e.callback){const n=e.callbackId,i=this.callbackCapabilities[n];if(!i)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===oE.DATA)i.resolve(e.data);else if(e.callback===oE.ERROR)i.reject(yo(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,i=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(a){s.postMessage({sourceName:n,targetName:i,callback:oE.DATA,callbackId:e.callbackId,data:a})},function(a){s.postMessage({sourceName:n,targetName:i,callback:oE.ERROR,callbackId:e.callbackId,reason:yo(a)})});return}if(e.streamId){ee(this,tl,Yz).call(this,e);return}t(e.data)},Yz=function(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,s=this.comObj,a=this,o=this.actionHandler[e.action],A={enqueue(l,c=1,u){if(this.isCancelled)return;const h=this.desiredSize;this.desiredSize-=c,h>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:i,stream:Oi.ENQUEUE,streamId:t,chunk:l},u)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:Oi.CLOSE,streamId:t}),delete a.streamSinks[t])},error(l){Gi(l instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:Oi.ERROR,streamId:t,reason:yo(l)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};A.sinkCapability.resolve(),A.ready=A.sinkCapability.promise,this.streamSinks[t]=A,Promise.try(o,e.data,A).then(function(){s.postMessage({sourceName:n,targetName:i,stream:Oi.START_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:n,targetName:i,stream:Oi.START_COMPLETE,streamId:t,reason:yo(l)})})},Jz=function(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,s=this.comObj,a=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case Oi.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(yo(e.reason));break;case Oi.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(yo(e.reason));break;case Oi.PULL:if(!o){s.postMessage({sourceName:n,targetName:i,stream:Oi.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||xO).then(function(){s.postMessage({sourceName:n,targetName:i,stream:Oi.PULL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:n,targetName:i,stream:Oi.PULL_COMPLETE,streamId:t,reason:yo(l)})});break;case Oi.ENQUEUE:if(Gi(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case Oi.CLOSE:if(Gi(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),ee(this,tl,HC).call(this,a,t);break;case Oi.ERROR:Gi(a,"error should have stream controller"),a.controller.error(yo(e.reason)),ee(this,tl,HC).call(this,a,t);break;case Oi.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(yo(e.reason)),ee(this,tl,HC).call(this,a,t);break;case Oi.CANCEL:if(!o)break;const A=yo(e.reason);Promise.try(o.onCancel||xO,A).then(function(){s.postMessage({sourceName:n,targetName:i,stream:Oi.CANCEL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:n,targetName:i,stream:Oi.CANCEL_COMPLETE,streamId:t,reason:yo(l)})}),o.sinkCapability.reject(A),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},HC=async function(e,t){var n,i,s;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var Vx;class Zz{constructor({enableHWA:e=!1}){X(this,Vx,!1);V(this,Vx,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!g(this,Vx)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Cn("Abstract method `_createCanvas` called.")}}Vx=new WeakMap;class UAe extends Zz{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class eW{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){Cn("Abstract method `_fetch` called.")}}class tW extends eW{async _fetch(e){const t=await hT(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):uT(t)}}class rW{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,i,s){return"none"}destroy(e=!1){}}var gp,k1,zu,Wu,da,mp,vp,_t,ua,sy,gm,VC,mm,nW,e3,vm,ay,oy,t3,Ay;class MAe extends rW{constructor({docId:t,ownerDocument:n=globalThis.document}){super();X(this,_t);X(this,gp);X(this,k1);X(this,zu);X(this,Wu);X(this,da);X(this,mp);X(this,vp,0);V(this,Wu,t),V(this,da,n)}addFilter(t){if(!t)return"none";let n=g(this,_t,ua).get(t);if(n)return n;const[i,s,a]=ee(this,_t,VC).call(this,t),o=t.length===1?i:`${i}${s}${a}`;if(n=g(this,_t,ua).get(o),n)return g(this,_t,ua).set(t,n),n;const A=`g_${g(this,Wu)}_transfer_map_${Rs(this,vp)._++}`,l=ee(this,_t,mm).call(this,A);g(this,_t,ua).set(t,l),g(this,_t,ua).set(o,l);const c=ee(this,_t,vm).call(this,A);return ee(this,_t,oy).call(this,i,s,a,c),l}addHCMFilter(t,n){var d;const i=`${t}-${n}`,s="base";let a=g(this,_t,sy).get(s);if((a==null?void 0:a.key)===i||(a?((d=a.filter)==null||d.remove(),a.key=i,a.url="none",a.filter=null):(a={key:i,url:"none",filter:null},g(this,_t,sy).set(s,a)),!t||!n))return a.url;const o=ee(this,_t,Ay).call(this,t);t=Vt.makeHexColor(...o);const A=ee(this,_t,Ay).call(this,n);if(n=Vt.makeHexColor(...A),g(this,_t,gm).style.color="",t==="#000000"&&n==="#ffffff"||t===n)return a.url;const l=new Array(256);for(let p=0;p<=255;p++){const v=p/255;l[p]=v<=.03928?v/12.92:((v+.055)/1.055)**2.4}const c=l.join(","),u=`g_${g(this,Wu)}_hcm_filter`,h=a.filter=ee(this,_t,vm).call(this,u);ee(this,_t,oy).call(this,c,c,c,h),ee(this,_t,e3).call(this,h);const f=(p,v)=>{const m=o[p]/255,x=A[p]/255,b=new Array(v+1);for(let T=0;T<=v;T++)b[T]=m+T/v*(x-m);return b.join(",")};return ee(this,_t,oy).call(this,f(0,5),f(1,5),f(2,5),h),a.url=ee(this,_t,mm).call(this,u),a.url}addAlphaFilter(t){let n=g(this,_t,ua).get(t);if(n)return n;const[i]=ee(this,_t,VC).call(this,[t]),s=`alpha_${i}`;if(n=g(this,_t,ua).get(s),n)return g(this,_t,ua).set(t,n),n;const a=`g_${g(this,Wu)}_alpha_map_${Rs(this,vp)._++}`,o=ee(this,_t,mm).call(this,a);g(this,_t,ua).set(t,o),g(this,_t,ua).set(s,o);const A=ee(this,_t,vm).call(this,a);return ee(this,_t,t3).call(this,i,A),o}addLuminosityFilter(t){let n=g(this,_t,ua).get(t||"luminosity");if(n)return n;let i,s;if(t?([i]=ee(this,_t,VC).call(this,[t]),s=`luminosity_${i}`):s="luminosity",n=g(this,_t,ua).get(s),n)return g(this,_t,ua).set(t,n),n;const a=`g_${g(this,Wu)}_luminosity_map_${Rs(this,vp)._++}`,o=ee(this,_t,mm).call(this,a);g(this,_t,ua).set(t,o),g(this,_t,ua).set(s,o);const A=ee(this,_t,vm).call(this,a);return ee(this,_t,nW).call(this,A),t&&ee(this,_t,t3).call(this,i,A),o}addHighlightHCMFilter(t,n,i,s,a){var x;const o=`${n}-${i}-${s}-${a}`;let A=g(this,_t,sy).get(t);if((A==null?void 0:A.key)===o||(A?((x=A.filter)==null||x.remove(),A.key=o,A.url="none",A.filter=null):(A={key:o,url:"none",filter:null},g(this,_t,sy).set(t,A)),!n||!i))return A.url;const[l,c]=[n,i].map(ee(this,_t,Ay).bind(this));let u=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),[f,d]=[s,a].map(ee(this,_t,Ay).bind(this));h<u&&([u,h,f,d]=[h,u,d,f]),g(this,_t,gm).style.color="";const p=(b,T,R)=>{const P=new Array(256),B=(h-u)/R,E=b/255,_=(T-b)/(255*R);let I=0;for(let S=0;S<=R;S++){const F=Math.round(u+S*B),N=E+S*_;for(let G=I;G<=F;G++)P[G]=N;I=F+1}for(let S=I;S<256;S++)P[S]=P[I-1];return P.join(",")},v=`g_${g(this,Wu)}_hcm_${t}_filter`,m=A.filter=ee(this,_t,vm).call(this,v);return ee(this,_t,e3).call(this,m),ee(this,_t,oy).call(this,p(f[0],d[0],5),p(f[1],d[1],5),p(f[2],d[2],5),m),A.url=ee(this,_t,mm).call(this,v),A.url}destroy(t=!1){var n,i,s,a;t&&((n=g(this,mp))!=null&&n.size)||((i=g(this,zu))==null||i.parentNode.parentNode.remove(),V(this,zu,null),(s=g(this,k1))==null||s.clear(),V(this,k1,null),(a=g(this,mp))==null||a.clear(),V(this,mp,null),V(this,vp,0))}}gp=new WeakMap,k1=new WeakMap,zu=new WeakMap,Wu=new WeakMap,da=new WeakMap,mp=new WeakMap,vp=new WeakMap,_t=new WeakSet,ua=function(){return g(this,k1)||V(this,k1,new Map)},sy=function(){return g(this,mp)||V(this,mp,new Map)},gm=function(){if(!g(this,zu)){const t=g(this,da).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const i=g(this,da).createElementNS(Su,"svg");i.setAttribute("width",0),i.setAttribute("height",0),V(this,zu,g(this,da).createElementNS(Su,"defs")),t.append(i),i.append(g(this,zu)),g(this,da).body.append(t)}return g(this,zu)},VC=function(t){if(t.length===1){const l=t[0],c=new Array(256);for(let h=0;h<256;h++)c[h]=l[h]/255;const u=c.join(",");return[u,u,u]}const[n,i,s]=t,a=new Array(256),o=new Array(256),A=new Array(256);for(let l=0;l<256;l++)a[l]=n[l]/255,o[l]=i[l]/255,A[l]=s[l]/255;return[a.join(","),o.join(","),A.join(",")]},mm=function(t){if(g(this,gp)===void 0){V(this,gp,"");const n=g(this,da).URL;n!==g(this,da).baseURI&&(fT(n)?yr('#createUrl: ignore "data:"-URL for performance reasons.'):V(this,gp,n.split("#",1)[0]))}return`url(${g(this,gp)}#${t})`},nW=function(t){const n=g(this,da).createElementNS(Su,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(n)},e3=function(t){const n=g(this,da).createElementNS(Su,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(n)},vm=function(t){const n=g(this,da).createElementNS(Su,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",t),g(this,_t,gm).append(n),n},ay=function(t,n,i){const s=g(this,da).createElementNS(Su,n);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),t.append(s)},oy=function(t,n,i,s){const a=g(this,da).createElementNS(Su,"feComponentTransfer");s.append(a),ee(this,_t,ay).call(this,a,"feFuncR",t),ee(this,_t,ay).call(this,a,"feFuncG",n),ee(this,_t,ay).call(this,a,"feFuncB",i)},t3=function(t,n){const i=g(this,da).createElementNS(Su,"feComponentTransfer");n.append(i),ee(this,_t,ay).call(this,i,"feFuncA",t)},Ay=function(t){return g(this,_t,gm).style.color=t,GR(getComputedStyle(g(this,_t,gm)).getPropertyValue("color"))};class iW{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){Cn("Abstract method `_fetch` called.")}}class sW extends iW{async _fetch(e){const t=await hT(e,"arraybuffer");return new Uint8Array(t)}}Ba&&yr("Please use the `legacy` build in Node.js environments.");async function aW(r){const t=await process.getBuiltinModule("fs").promises.readFile(r);return new Uint8Array(t)}class OAe extends rW{}class QAe extends Zz{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class HAe extends eW{async _fetch(e){return aW(e)}}class VAe extends iW{async _fetch(e){return aW(e)}}const ya={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function r3(r,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,n),r.clip(i)}class qR{getPattern(){Cn("Abstract method `getPattern` called.")}}class jAe extends qR{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,i){let s;if(i===ya.STROKE||i===ya.FILL){const a=t.current.getClippedPathBoundingBox(i,zn(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,A=Math.ceil(a[3]-a[1])||1,l=t.cachedCanvases.getCanvas("pattern",o,A),c=l.context;c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.rect(0,0,c.canvas.width,c.canvas.height),c.translate(-a[0],-a[1]),n=Vt.transform(n,[1,0,0,1,a[0],a[1]]),c.transform(...t.baseTransform),this.matrix&&c.transform(...this.matrix),r3(c,this._bbox),c.fillStyle=this._createGradient(c),c.fill(),s=e.createPattern(l.canvas,"no-repeat");const u=new DOMMatrix(n);s.setTransform(u)}else r3(e,this._bbox),s=this._createGradient(e);return s}}function WF(r,e,t,n,i,s,a,o){const A=e.coords,l=e.colors,c=r.data,u=r.width*4;let h;A[t+1]>A[n+1]&&(h=t,t=n,n=h,h=s,s=a,a=h),A[n+1]>A[i+1]&&(h=n,n=i,i=h,h=a,a=o,o=h),A[t+1]>A[n+1]&&(h=t,t=n,n=h,h=s,s=a,a=h);const f=(A[t]+e.offsetX)*e.scaleX,d=(A[t+1]+e.offsetY)*e.scaleY,p=(A[n]+e.offsetX)*e.scaleX,v=(A[n+1]+e.offsetY)*e.scaleY,m=(A[i]+e.offsetX)*e.scaleX,x=(A[i+1]+e.offsetY)*e.scaleY;if(d>=x)return;const b=l[s],T=l[s+1],R=l[s+2],P=l[a],B=l[a+1],E=l[a+2],_=l[o],I=l[o+1],S=l[o+2],F=Math.round(d),N=Math.round(x);let G,le,ie,te,J,W,be,xe;for(let L=F;L<=N;L++){if(L<v){const oe=L<d?0:(d-L)/(d-v);G=f-(f-p)*oe,le=b-(b-P)*oe,ie=T-(T-B)*oe,te=R-(R-E)*oe}else{let oe;L>x?oe=1:v===x?oe=0:oe=(v-L)/(v-x),G=p-(p-m)*oe,le=P-(P-_)*oe,ie=B-(B-I)*oe,te=E-(E-S)*oe}let O;L<d?O=0:L>x?O=1:O=(d-L)/(d-x),J=f-(f-m)*O,W=b-(b-_)*O,be=T-(T-I)*O,xe=R-(R-S)*O;const H=Math.round(Math.min(G,J)),Q=Math.round(Math.max(G,J));let Y=u*L+H*4;for(let oe=H;oe<=Q;oe++)O=(G-oe)/(G-J),O<0?O=0:O>1&&(O=1),c[Y++]=le-(le-W)*O|0,c[Y++]=ie-(ie-be)*O|0,c[Y++]=te-(te-xe)*O|0,c[Y++]=255}}function KAe(r,e,t){const n=e.coords,i=e.colors;let s,a;switch(e.type){case"lattice":const o=e.verticesPerRow,A=Math.floor(n.length/o)-1,l=o-1;for(s=0;s<A;s++){let c=s*o;for(let u=0;u<l;u++,c++)WF(r,t,n[c],n[c+1],n[c+o],i[c],i[c+1],i[c+o]),WF(r,t,n[c+o+1],n[c+1],n[c+o],i[c+o+1],i[c+1],i[c+o])}break;case"triangles":for(s=0,a=n.length;s<a;s+=3)WF(r,t,n[s],n[s+1],n[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class zAe extends qR{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,n){const o=Math.floor(this._bounds[0]),A=Math.floor(this._bounds[1]),l=Math.ceil(this._bounds[2])-o,c=Math.ceil(this._bounds[3])-A,u=Math.min(Math.ceil(Math.abs(l*e[0]*1.1)),3e3),h=Math.min(Math.ceil(Math.abs(c*e[1]*1.1)),3e3),f=l/u,d=c/h,p={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-A,scaleX:1/f,scaleY:1/d},v=u+2*2,m=h+2*2,x=n.getCanvas("mesh",v,m),b=x.context,T=b.createImageData(u,h);if(t){const P=T.data;for(let B=0,E=P.length;B<E;B+=4)P[B]=t[0],P[B+1]=t[1],P[B+2]=t[2],P[B+3]=255}for(const P of this._figures)KAe(T,P,p);return b.putImageData(T,2,2),{canvas:x.canvas,offsetX:o-2*f,offsetY:A-2*d,scaleX:f,scaleY:d}}getPattern(e,t,n,i){r3(e,this._bbox);let s;if(i===ya.SHADING)s=Vt.singularValueDecompose2dScale(zn(e));else if(s=Vt.singularValueDecompose2dScale(t.baseTransform),this.matrix){const o=Vt.singularValueDecompose2dScale(this.matrix);s=[s[0]*o[0],s[1]*o[1]]}const a=this._createMeshCanvas(s,i===ya.SHADING?null:this._background,t.cachedCanvases);return i!==ya.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class WAe extends qR{getPattern(){return"hotpink"}}function GAe(r){switch(r[0]){case"RadialAxial":return new jAe(r);case"Mesh":return new zAe(r);case"Dummy":return new WAe}throw new Error(`Unknown IR type: ${r[0]}`)}const _O={COLORED:1,UNCOLORED:2},u5=class u5{constructor(e,t,n,i,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=n,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(e){const{bbox:t,operatorList:n,paintType:i,tilingType:s,color:a,canvasGraphicsFactory:o}=this;let{xstep:A,ystep:l}=this;A=Math.abs(A),l=Math.abs(l),cT("TilingType: "+s);const c=t[0],u=t[1],h=t[2],f=t[3],d=h-c,p=f-u,v=Vt.singularValueDecompose2dScale(this.matrix),m=Vt.singularValueDecompose2dScale(this.baseTransform),x=v[0]*m[0],b=v[1]*m[1];let T=d,R=p,P=!1,B=!1;const E=Math.ceil(A*x),_=Math.ceil(l*b),I=Math.ceil(d*x),S=Math.ceil(p*b);E>=I?T=A:P=!0,_>=S?R=l:B=!0;const F=this.getSizeAndScale(T,this.ctx.canvas.width,x),N=this.getSizeAndScale(R,this.ctx.canvas.height,b),G=e.cachedCanvases.getCanvas("pattern",F.size,N.size),le=G.context,ie=o.createCanvasGraphics(le);if(ie.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(ie,i,a),le.translate(-F.scale*c,-N.scale*u),ie.transform(F.scale,0,0,N.scale,0,0),le.save(),this.clipBbox(ie,c,u,h,f),ie.baseTransform=zn(ie.ctx),ie.executeOperatorList(n),ie.endDrawing(),le.restore(),P||B){const te=G.canvas;P&&(T=A),B&&(R=l);const J=this.getSizeAndScale(T,this.ctx.canvas.width,x),W=this.getSizeAndScale(R,this.ctx.canvas.height,b),be=J.size,xe=W.size,L=e.cachedCanvases.getCanvas("pattern-workaround",be,xe),O=L.context,H=P?Math.floor(d/A):0,Q=B?Math.floor(p/l):0;for(let Y=0;Y<=H;Y++)for(let oe=0;oe<=Q;oe++)O.drawImage(te,be*Y,xe*oe,be,xe,0,0,be,xe);return{canvas:L.canvas,scaleX:J.scale,scaleY:W.scale,offsetX:c,offsetY:u}}return{canvas:G.canvas,scaleX:F.scale,scaleY:N.scale,offsetX:c,offsetY:u}}getSizeAndScale(e,t,n){const i=Math.max(u5.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*n);return s>=i?s=i:n=s/e,{scale:n,size:s}}clipBbox(e,t,n,i,s){const a=i-t,o=s-n;e.ctx.rect(t,n,a,o),e.current.updateRectMinMax(zn(e.ctx),[t,n,i,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const i=e.ctx,s=e.current;switch(t){case _O.COLORED:const a=this.ctx;i.fillStyle=a.fillStyle,i.strokeStyle=a.strokeStyle,s.fillColor=a.fillStyle,s.strokeColor=a.strokeStyle;break;case _O.UNCOLORED:const o=Vt.makeHexColor(n[0],n[1],n[2]);i.fillStyle=o,i.strokeStyle=o,s.fillColor=o,s.strokeColor=o;break;default:throw new wAe(`Unsupported paint type: ${t}`)}}getPattern(e,t,n,i){let s=n;i!==ya.SHADING&&(s=Vt.transform(s,t.baseTransform),this.matrix&&(s=Vt.transform(s,this.matrix)));const a=this.createPatternCanvas(t);let o=new DOMMatrix(s);o=o.translate(a.offsetX,a.offsetY),o=o.scale(1/a.scaleX,1/a.scaleY);const A=e.createPattern(a.canvas,"repeat");return A.setTransform(o),A}};De(u5,"MAX_PATTERN_SIZE",3e3);let n3=u5;function $Ae({src:r,srcPos:e=0,dest:t,width:n,height:i,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const o=to.isLittleEndian?4278190080:255,[A,l]=a?[s,o]:[o,s],c=n>>3,u=n&7,h=r.length;t=new Uint32Array(t.buffer);let f=0;for(let d=0;d<i;d++){for(const v=e+c;e<v;e++){const m=e<h?r[e]:255;t[f++]=m&128?l:A,t[f++]=m&64?l:A,t[f++]=m&32?l:A,t[f++]=m&16?l:A,t[f++]=m&8?l:A,t[f++]=m&4?l:A,t[f++]=m&2?l:A,t[f++]=m&1?l:A}if(u===0)continue;const p=e<h?r[e++]:255;for(let v=0;v<u;v++)t[f++]=p&1<<7-v?l:A}return{srcPos:e,destPos:f}}const bO=16,EO=100,qAe=15,CO=10,BO=1e3,Co=16;function XAe(r,e){if(r._removeMirroring)throw new Error("Context is already forwarding operations.");r.__originalSave=r.save,r.__originalRestore=r.restore,r.__originalRotate=r.rotate,r.__originalScale=r.scale,r.__originalTranslate=r.translate,r.__originalTransform=r.transform,r.__originalSetTransform=r.setTransform,r.__originalResetTransform=r.resetTransform,r.__originalClip=r.clip,r.__originalMoveTo=r.moveTo,r.__originalLineTo=r.lineTo,r.__originalBezierCurveTo=r.bezierCurveTo,r.__originalRect=r.rect,r.__originalClosePath=r.closePath,r.__originalBeginPath=r.beginPath,r._removeMirroring=()=>{r.save=r.__originalSave,r.restore=r.__originalRestore,r.rotate=r.__originalRotate,r.scale=r.__originalScale,r.translate=r.__originalTranslate,r.transform=r.__originalTransform,r.setTransform=r.__originalSetTransform,r.resetTransform=r.__originalResetTransform,r.clip=r.__originalClip,r.moveTo=r.__originalMoveTo,r.lineTo=r.__originalLineTo,r.bezierCurveTo=r.__originalBezierCurveTo,r.rect=r.__originalRect,r.closePath=r.__originalClosePath,r.beginPath=r.__originalBeginPath,delete r._removeMirroring},r.save=function(){e.save(),this.__originalSave()},r.restore=function(){e.restore(),this.__originalRestore()},r.translate=function(n,i){e.translate(n,i),this.__originalTranslate(n,i)},r.scale=function(n,i){e.scale(n,i),this.__originalScale(n,i)},r.transform=function(n,i,s,a,o,A){e.transform(n,i,s,a,o,A),this.__originalTransform(n,i,s,a,o,A)},r.setTransform=function(n,i,s,a,o,A){e.setTransform(n,i,s,a,o,A),this.__originalSetTransform(n,i,s,a,o,A)},r.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},r.rotate=function(n){e.rotate(n),this.__originalRotate(n)},r.clip=function(n){e.clip(n),this.__originalClip(n)},r.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},r.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},r.bezierCurveTo=function(t,n,i,s,a,o){e.bezierCurveTo(t,n,i,s,a,o),this.__originalBezierCurveTo(t,n,i,s,a,o)},r.rect=function(t,n,i,s){e.rect(t,n,i,s),this.__originalRect(t,n,i,s)},r.closePath=function(){e.closePath(),this.__originalClosePath()},r.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class YAe{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,n)):(i=this.canvasFactory.create(t,n),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function AE(r,e,t,n,i,s,a,o,A,l){const[c,u,h,f,d,p]=zn(r);if(u===0&&h===0){const x=a*c+d,b=Math.round(x),T=o*f+p,R=Math.round(T),P=(a+A)*c+d,B=Math.abs(Math.round(P)-b)||1,E=(o+l)*f+p,_=Math.abs(Math.round(E)-R)||1;return r.setTransform(Math.sign(c),0,0,Math.sign(f),b,R),r.drawImage(e,t,n,i,s,0,0,B,_),r.setTransform(c,u,h,f,d,p),[B,_]}if(c===0&&f===0){const x=o*h+d,b=Math.round(x),T=a*u+p,R=Math.round(T),P=(o+l)*h+d,B=Math.abs(Math.round(P)-b)||1,E=(a+A)*u+p,_=Math.abs(Math.round(E)-R)||1;return r.setTransform(0,Math.sign(u),Math.sign(h),0,b,R),r.drawImage(e,t,n,i,s,0,0,_,B),r.setTransform(c,u,h,f,d,p),[_,B]}r.drawImage(e,t,n,i,s,a,o,A,l);const v=Math.hypot(c,u),m=Math.hypot(h,f);return[v*A,m*l]}function JAe(r){const{width:e,height:t}=r;if(e>BO||t>BO)return null;const n=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1;let a=new Uint8Array(s*(t+1)),o,A,l;const c=e+7&-8;let u=new Uint8Array(c*t),h=0;for(const m of r.data){let x=128;for(;x>0;)u[h++]=m&x?0:255,x>>=1}let f=0;for(h=0,u[h]!==0&&(a[0]=1,++f),A=1;A<e;A++)u[h]!==u[h+1]&&(a[A]=u[h]?2:1,++f),h++;for(u[h]!==0&&(a[A]=2,++f),o=1;o<t;o++){h=o*c,l=o*s,u[h-c]!==u[h]&&(a[l]=u[h]?1:8,++f);let m=(u[h]?4:0)+(u[h-c]?8:0);for(A=1;A<e;A++)m=(m>>2)+(u[h+1]?4:0)+(u[h-c+1]?8:0),i[m]&&(a[l+A]=i[m],++f),h++;if(u[h-c]!==u[h]&&(a[l+A]=u[h]?2:4,++f),f>n)return null}for(h=c*(t-1),l=o*s,u[h]!==0&&(a[l]=8,++f),A=1;A<e;A++)u[h]!==u[h+1]&&(a[l+A]=u[h]?4:8,++f),h++;if(u[h]!==0&&(a[l+A]=4,++f),f>n)return null;const d=new Int32Array([0,s,-1,0,-s,0,0,0,1]),p=new Path2D;for(o=0;f&&o<=t;o++){let m=o*s;const x=m+e;for(;m<x&&!a[m];)m++;if(m===x)continue;p.moveTo(m%s,o);const b=m;let T=a[m];do{const R=d[T];do m+=R;while(!a[m]);const P=a[m];P!==5&&P!==10?(T=P,a[m]=0):(T=P&51*T>>4,a[m]&=T>>2|T<<2),p.lineTo(m%s,m/s|0),a[m]||--f}while(b!==m);--o}return u=null,a=null,function(m){m.save(),m.scale(1/e,-1/t),m.translate(0,-t),m.fill(p),m.beginPath(),m.restore()}}class SO{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=gz,this.textMatrixScale=1,this.fontMatrix=kk,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=ca.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.patternStroke=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,n){[t,n]=Vt.applyTransform([t,n],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,t){const n=Vt.applyTransform(t,e),i=Vt.applyTransform(t.slice(2),e),s=Vt.applyTransform([t[0],t[3]],e),a=Vt.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,n[0],i[0],s[0],a[0]),this.minY=Math.min(this.minY,n[1],i[1],s[1],a[1]),this.maxX=Math.max(this.maxX,n[0],i[0],s[0],a[0]),this.maxY=Math.max(this.maxY,n[1],i[1],s[1],a[1])}updateScalingPathMinMax(e,t){Vt.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,n,i,s,a,o,A,l,c){const u=Vt.bezierBoundingBox(t,n,i,s,a,o,A,l,c);c||this.updateRectMinMax(e,u)}getPathBoundingBox(e=ya.FILL,t=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===ya.STROKE){t||Cn("Stroke bounding box must include transform.");const i=Vt.singularValueDecompose2dScale(t),s=i[0]*this.lineWidth/2,a=i[1]*this.lineWidth/2;n[0]-=s,n[1]-=a,n[2]+=s,n[3]+=a}return n}updateClipFromPath(){const e=Vt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=ya.FILL,t=null){return Vt.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function TO(r,e){if(e instanceof ImageData){r.putImageData(e,0,0);return}const t=e.height,n=e.width,i=t%Co,s=(t-i)/Co,a=i===0?s:s+1,o=r.createImageData(n,Co);let A=0,l;const c=e.data,u=o.data;let h,f,d,p;if(e.kind===LC.GRAYSCALE_1BPP){const v=c.byteLength,m=new Uint32Array(u.buffer,0,u.byteLength>>2),x=m.length,b=n+7>>3,T=4294967295,R=to.isLittleEndian?4278190080:255;for(h=0;h<a;h++){for(d=h<s?Co:i,l=0,f=0;f<d;f++){const P=v-A;let B=0;const E=P>b?n:P*8-7,_=E&-8;let I=0,S=0;for(;B<_;B+=8)S=c[A++],m[l++]=S&128?T:R,m[l++]=S&64?T:R,m[l++]=S&32?T:R,m[l++]=S&16?T:R,m[l++]=S&8?T:R,m[l++]=S&4?T:R,m[l++]=S&2?T:R,m[l++]=S&1?T:R;for(;B<E;B++)I===0&&(S=c[A++],I=128),m[l++]=S&I?T:R,I>>=1}for(;l<x;)m[l++]=0;r.putImageData(o,0,h*Co)}}else if(e.kind===LC.RGBA_32BPP){for(f=0,p=n*Co*4,h=0;h<s;h++)u.set(c.subarray(A,A+p)),A+=p,r.putImageData(o,0,f),f+=Co;h<a&&(p=n*i*4,u.set(c.subarray(A,A+p)),r.putImageData(o,0,f))}else if(e.kind===LC.RGB_24BPP)for(d=Co,p=n*d,h=0;h<a;h++){for(h>=s&&(d=i,p=n*d),l=0,f=p;f--;)u[l++]=c[A++],u[l++]=c[A++],u[l++]=c[A++],u[l++]=255;r.putImageData(o,0,h*Co)}else throw new Error(`bad image kind: ${e.kind}`)}function FO(r,e){if(e.bitmap){r.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,i=t%Co,s=(t-i)/Co,a=i===0?s:s+1,o=r.createImageData(n,Co);let A=0;const l=e.data,c=o.data;for(let u=0;u<a;u++){const h=u<s?Co:i;({srcPos:A}=$Ae({src:l,srcPos:A,dest:c,width:n,height:h,nonBlackColor:0})),r.putImageData(o,0,u*Co)}}function Lw(r,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)r[n]!==void 0&&(e[n]=r[n]);r.setLineDash!==void 0&&(e.setLineDash(r.getLineDash()),e.lineDashOffset=r.lineDashOffset)}function lE(r){if(r.strokeStyle=r.fillStyle="#000000",r.fillRule="nonzero",r.globalAlpha=1,r.lineWidth=1,r.lineCap="butt",r.lineJoin="miter",r.miterLimit=10,r.globalCompositeOperation="source-over",r.font="10px sans-serif",r.setLineDash!==void 0&&(r.setLineDash([]),r.lineDashOffset=0),!Ba){const{filter:e}=r;e!=="none"&&e!==""&&(r.filter="none")}}function IO(r,e){if(e)return!0;const t=Vt.singularValueDecompose2dScale(r);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*Gd.PDF_TO_CSS_UNITS);return t[0]<=n&&t[1]<=n}const ZAe=["butt","round","square"],ele=["miter","round","bevel"],tle={},kO={};var Zl,i3,s3,a3;const iD=class iD{constructor(e,t,n,i,s,{optionalContentConfig:a,markedContentStack:o=null},A,l){X(this,Zl);this.ctx=e,this.current=new SO(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new YAe(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=A,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=l,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:i=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,n){const A=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=A.canvas,this.ctx=A.context,this.ctx.save(),this.ctx.transform(...zn(this.compositeCtx))}this.ctx.save(),lE(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=zn(this.ctx)}executeOperatorList(e,t,n,i){const s=e.argsArray,a=e.fnArray;let o=t||0;const A=s.length;if(A===o)return o;const l=A-o>CO&&typeof n=="function",c=l?Date.now()+qAe:0;let u=0;const h=this.commonObjs,f=this.objs;let d;for(;;){if(i!==void 0&&o===i.nextBreakPoint)return i.breakIt(o,n),o;if(d=a[o],d!==El.dependency)this[d].apply(this,s[o]);else for(const p of s[o]){const v=p.startsWith("g_")?h:f;if(!v.has(p))return v.get(p,n),o}if(o++,o===A)return o;if(l&&++u>CO){if(Date.now()>c)return n(),o;u=0}}}endDrawing(){ee(this,Zl,i3).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),ee(this,Zl,s3).call(this)}_scaleImage(e,t){const n=e.width??e.displayWidth,i=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),o=n,A=i,l="prescale1",c,u;for(;s>2&&o>1||a>2&&A>1;){let h=o,f=A;s>2&&o>1&&(h=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/h),a>2&&A>1&&(f=A>=16384?Math.floor(A/2)-1||1:Math.ceil(A)/2,a/=A/f),c=this.cachedCanvases.getCanvas(l,h,f),u=c.context,u.clearRect(0,0,h,f),u.drawImage(e,0,0,o,A,0,0,h,f),e=c.canvas,o=h,A=f,l=l==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:A}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:i}=e,s=this.current.fillColor,a=this.current.patternFill,o=zn(t);let A,l,c,u;if((e.bitmap||e.data)&&e.count>1){const E=e.bitmap||e.data.buffer;l=JSON.stringify(a?o:[o.slice(0,4),s]),A=this._cachedBitmapsMap.get(E),A||(A=new Map,this._cachedBitmapsMap.set(E,A));const _=A.get(l);if(_&&!a){const I=Math.round(Math.min(o[0],o[2])+o[4]),S=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:_,offsetX:I,offsetY:S}}c=_}c||(u=this.cachedCanvases.getCanvas("maskCanvas",n,i),FO(u.context,e));let h=Vt.transform(o,[1/n,0,0,-1/i,0,0]);h=Vt.transform(h,[1,0,0,1,0,-i]);const[f,d,p,v]=Vt.getAxialAlignedBoundingBox([0,0,n,i],h),m=Math.round(p-f)||1,x=Math.round(v-d)||1,b=this.cachedCanvases.getCanvas("fillCanvas",m,x),T=b.context,R=f,P=d;T.translate(-R,-P),T.transform(...h),c||(c=this._scaleImage(u.canvas,pc(T)),c=c.img,A&&a&&A.set(l,c)),T.imageSmoothingEnabled=IO(zn(T),e.interpolate),AE(T,c,0,0,c.width,c.height,0,0,n,i),T.globalCompositeOperation="source-in";const B=Vt.transform(pc(T),[1,0,0,1,-R,-P]);return T.fillStyle=a?s.getPattern(t,this,B,ya.FILL):s,T.fillRect(0,0,n,i),A&&!a&&(this.cachedCanvases.delete("fillCanvas"),A.set(l,b.canvas)),{canvas:b.canvas,offsetX:Math.round(R),offsetY:Math.round(P)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=ZAe[e]}setLineJoin(e){this.ctx.lineJoin=ele[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx,this.ctx=i.context;const s=this.ctx;s.setTransform(...zn(this.suspendedCtx)),Lw(this.suspendedCtx,s),XAe(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Lw(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,i){const s=i[0],a=i[1],o=i[2]-s,A=i[3]-a;o===0||A===0||(this.genericComposeSMask(t.context,n,o,A,t.subtype,t.backdrop,t.transferMap,s,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,i,s,a,o,A,l,c,u){let h=e.canvas,f=A-c,d=l-u;if(a){const v=Vt.makeHexColor(...a);if(f<0||d<0||f+n>h.width||d+i>h.height){const m=this.cachedCanvases.getCanvas("maskExtension",n,i),x=m.context;x.drawImage(h,-f,-d),x.globalCompositeOperation="destination-atop",x.fillStyle=v,x.fillRect(0,0,n,i),x.globalCompositeOperation="source-over",h=m.canvas,f=d=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const m=new Path2D;m.rect(f,d,n,i),e.clip(m),e.globalCompositeOperation="destination-atop",e.fillStyle=v,e.fillRect(f,d,n,i),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const p=new Path2D;p.rect(A,l,n,i),t.clip(p),t.globalCompositeOperation="destination-in",t.drawImage(h,f,d,n,i,A,l,n,i),t.restore()}save(){this.inSMaskMode?(Lw(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Lw(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,n,i,s,a){this.ctx.transform(e,t,n,i,s,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){const i=this.ctx,s=this.current;let a=s.x,o=s.y,A,l;const c=zn(i),u=c[0]===0&&c[3]===0||c[1]===0&&c[2]===0,h=u?n.slice(0):null;for(let f=0,d=0,p=e.length;f<p;f++)switch(e[f]|0){case El.rectangle:a=t[d++],o=t[d++];const v=t[d++],m=t[d++],x=a+v,b=o+m;i.moveTo(a,o),v===0||m===0?i.lineTo(x,b):(i.lineTo(x,o),i.lineTo(x,b),i.lineTo(a,b)),u||s.updateRectMinMax(c,[a,o,x,b]),i.closePath();break;case El.moveTo:a=t[d++],o=t[d++],i.moveTo(a,o),u||s.updatePathMinMax(c,a,o);break;case El.lineTo:a=t[d++],o=t[d++],i.lineTo(a,o),u||s.updatePathMinMax(c,a,o);break;case El.curveTo:A=a,l=o,a=t[d+4],o=t[d+5],i.bezierCurveTo(t[d],t[d+1],t[d+2],t[d+3],a,o),s.updateCurvePathMinMax(c,A,l,t[d],t[d+1],t[d+2],t[d+3],a,o,h),d+=6;break;case El.curveTo2:A=a,l=o,i.bezierCurveTo(a,o,t[d],t[d+1],t[d+2],t[d+3]),s.updateCurvePathMinMax(c,A,l,a,o,t[d],t[d+1],t[d+2],t[d+3],h),a=t[d+2],o=t[d+3],d+=4;break;case El.curveTo3:A=a,l=o,a=t[d+2],o=t[d+3],i.bezierCurveTo(t[d],t[d+1],a,o,a,o),s.updateCurvePathMinMax(c,A,l,t[d],t[d+1],a,o,a,o,h),d+=4;break;case El.closePath:i.closePath();break}u&&s.updateScalingPathMinMax(c,h),s.setCurrentPoint(a,o)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&(n!=null&&n.getPattern)?(t.save(),t.strokeStyle=n.getPattern(t,this,pc(t),ya.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,n=this.current.fillColor,i=this.current.patternFill;let s=!1;i&&(t.save(),t.fillStyle=n.getPattern(t,this,pc(t),ya.FILL),s=!0);const a=this.current.getClippedPathBoundingBox();this.contentVisible&&a!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),s&&t.restore(),e&&this.consumePath(a)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=tle}eoClip(){this.pendingClip=kO}beginText(){this.current.textMatrix=gz,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}const n=new Path2D,i=t.getTransform().invertSelf();for(const{transform:s,x:a,y:o,fontSize:A,path:l}of e)n.addPath(l,new DOMMatrix(s).preMultiplySelf(i).translate(a,o).scale(A,-A));t.clip(n),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var c;const n=this.commonObjs.get(e),i=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=n.fontMatrix||kk,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&yr("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const s=n.loadedName||"sans-serif",a=((c=n.systemFontInfo)==null?void 0:c.css)||`"${s}", ${n.fallbackName}`;let o="normal";n.black?o="900":n.bold&&(o="bold");const A=n.italic?"italic":"normal";let l=t;t<bO?l=bO:t>EO&&(l=EO),this.current.fontSizeScale=t/l,this.ctx.font=`${A} ${o} ${l}px ${a}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,n,i,s,a){this.current.textMatrix=[e,t,n,i,s,a],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,i,s){const a=this.ctx,o=this.current,A=o.font,l=o.textRenderingMode,c=o.fontSize/o.fontSizeScale,u=l&ca.FILL_STROKE_MASK,h=!!(l&ca.ADD_TO_PATH_FLAG),f=o.patternFill&&!A.missingFile,d=o.patternStroke&&!A.missingFile;let p;if((A.disableFontFace||h||f||d)&&(p=A.getPathGenerator(this.commonObjs,e)),A.disableFontFace||f||d){if(a.save(),a.translate(t,n),a.scale(c,-c),u===ca.FILL||u===ca.FILL_STROKE)if(i){const v=a.getTransform();a.setTransform(...i),a.fill(ee(this,Zl,a3).call(this,p,v,i))}else a.fill(p);if(u===ca.STROKE||u===ca.FILL_STROKE)if(s){const v=a.getTransform();a.setTransform(...s),a.stroke(ee(this,Zl,a3).call(this,p,v,s))}else a.lineWidth/=c,a.stroke(p);a.restore()}else(u===ca.FILL||u===ca.FILL_STROKE)&&a.fillText(e,t,n),(u===ca.STROKE||u===ca.FILL_STROKE)&&a.strokeText(e,t,n);h&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:zn(a),x:t,y:n,fontSize:c,path:p})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){n=!0;break}return Br(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(i===0)return;const s=this.ctx,a=t.fontSizeScale,o=t.charSpacing,A=t.wordSpacing,l=t.fontDirection,c=t.textHScale*l,u=e.length,h=n.vertical,f=h?1:-1,d=n.defaultVMetrics,p=i*t.fontMatrix[0],v=t.textRenderingMode===ca.FILL&&!n.disableFontFace&&!t.patternFill;s.save(),s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),l>0?s.scale(c,-1):s.scale(c,1);let m,x;if(t.patternFill){s.save();const B=t.fillColor.getPattern(s,this,pc(s),ya.FILL);m=zn(s),s.restore(),s.fillStyle=B}if(t.patternStroke){s.save();const B=t.strokeColor.getPattern(s,this,pc(s),ya.STROKE);x=zn(s),s.restore(),s.strokeStyle=B}let b=t.lineWidth;const T=t.textMatrixScale;if(T===0||b===0){const B=t.textRenderingMode&ca.FILL_STROKE_MASK;(B===ca.STROKE||B===ca.FILL_STROKE)&&(b=this.getSinglePixelWidth())}else b/=T;if(a!==1&&(s.scale(a,a),b/=a),s.lineWidth=b,n.isInvalidPDFjsFont){const B=[];let E=0;for(const _ of e)B.push(_.unicode),E+=_.width;s.fillText(B.join(""),0,0),t.x+=E*p*c,s.restore(),this.compose();return}let R=0,P;for(P=0;P<u;++P){const B=e[P];if(typeof B=="number"){R+=f*B*i/1e3;continue}let E=!1;const _=(B.isSpace?A:0)+o,I=B.fontChar,S=B.accent;let F,N,G=B.width;if(h){const ie=B.vmetric||d,te=-(B.vmetric?ie[1]:G*.5)*p,J=ie[2]*p;G=ie?-ie[0]:G,F=te/a,N=(R+J)/a}else F=R/a,N=0;if(n.remeasure&&G>0){const ie=s.measureText(I).width*1e3/i*a;if(G<ie&&this.isFontSubpixelAAEnabled){const te=G/ie;E=!0,s.save(),s.scale(te,1),F/=te}else G!==ie&&(F+=(G-ie)/2e3*i/a)}if(this.contentVisible&&(B.isInFont||n.missingFile)){if(v&&!S)s.fillText(I,F,N);else if(this.paintChar(I,F,N,m,x),S){const ie=F+i*S.offset.x/a,te=N-i*S.offset.y/a;this.paintChar(S.fontChar,ie,te,m,x)}}const le=h?G*p-_*l:G*p+_*l;R+=le,E&&s.restore()}h?t.y-=R:t.x+=R*c,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,i=n.font,s=n.fontSize,a=n.fontDirection,o=i.vertical?1:-1,A=n.charSpacing,l=n.wordSpacing,c=n.textHScale*a,u=n.fontMatrix||kk,h=e.length,f=n.textRenderingMode===ca.INVISIBLE;let d,p,v,m;if(!(f||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...n.textMatrix),t.translate(n.x,n.y),t.scale(c,a),d=0;d<h;++d){if(p=e[d],typeof p=="number"){m=o*p*s/1e3,this.ctx.translate(m,0),n.x+=m*c;continue}const x=(p.isSpace?l:0)+A,b=i.charProcOperatorList[p.operatorListId];if(!b){yr(`Type3 character "${p.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=p,this.save(),t.scale(s,s),t.transform(...u),this.executeOperatorList(b),this.restore()),v=Vt.applyTransform([p.width,0],u)[0]*s+x,t.translate(v,0),n.x+=v*c}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,i,s,a){this.ctx.rect(n,i,s-n,a-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const n=e[1],i=this.baseTransform||zn(this.ctx),s={createCanvasGraphics:a=>new iD(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new n3(e,n,this.ctx,s,i)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,n){this.ctx.strokeStyle=this.current.strokeColor=Vt.makeHexColor(e,t,n),this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t,n){this.ctx.fillStyle=this.current.fillColor=Vt.makeHexColor(e,t,n),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let n;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=GAe(this.getObject(e)),this.cachedPatterns.set(e,n)),t&&(n.matrix=t),n}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,pc(t),ya.SHADING);const i=pc(t);if(i){const{width:s,height:a}=t.canvas,[o,A,l,c]=Vt.getAxialAlignedBoundingBox([0,0,s,a],i);this.ctx.fillRect(o,A,l-o,c-A)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Cn("Should not call beginInlineImage")}beginImageData(){Cn("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=zn(this.ctx),t)){const n=t[2]-t[0],i=t[3]-t[1];this.ctx.rect(t[0],t[1],n,i),this.current.updateRectMinMax(zn(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||cT("TODO: Support non-isolated groups."),e.knockout&&yr("Knockout groups not supported.");const n=zn(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=Vt.getAxialAlignedBoundingBox(e.bbox,zn(t));const s=[0,0,t.canvas.width,t.canvas.height];i=Vt.intersect(i,s)||[0,0,0,0];const a=Math.floor(i[0]),o=Math.floor(i[1]),A=Math.max(Math.ceil(i[2])-a,1),l=Math.max(Math.ceil(i[3])-o,1);this.current.startNewPathAndClipBox([0,0,A,l]);let c="groupAt"+this.groupLevel;e.smask&&(c+="_smask_"+this.smaskCounter++%2);const u=this.cachedCanvases.getCanvas(c,A,l),h=u.context;h.translate(-a,-o),h.transform(...n),e.smask?this.smaskStack.push({canvas:u.canvas,context:h,offsetX:a,offsetY:o,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(a,o),t.save()),Lw(t,h),this.ctx=h,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=zn(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const s=Vt.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],i);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,n,i,s){if(ee(this,Zl,i3).call(this),lE(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const a=t[2]-t[0],o=t[3]-t[1];if(s&&this.annotationCanvasMap){n=n.slice(),n[4]-=t[0],n[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=a,t[3]=o;const[A,l]=Vt.singularValueDecompose2dScale(zn(this.ctx)),{viewportScale:c}=this,u=Math.ceil(a*this.outputScaleX*c),h=Math.ceil(o*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(u,h);const{canvas:f,context:d}=this.annotationCanvas;this.annotationCanvasMap.set(e,f),this.annotationCanvas.savedCtx=this.ctx,this.ctx=d,this.ctx.save(),this.ctx.setTransform(A,0,0,-l,0,o*l),lE(this.ctx)}else lE(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],a,o),this.ctx.clip(),this.ctx.beginPath()}this.current=new SO(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),ee(this,Zl,s3).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const n=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=JAe(e)),i.compiled)){i.compiled(n);return}const s=this._createMaskCanvas(e),a=s.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(a,s.offsetX,s.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n=0,i=0,s,a){if(!this.contentVisible)return;e=this.getObject(e.data,e);const o=this.ctx;o.save();const A=zn(o);o.transform(t,n,i,s,0,0);const l=this._createMaskCanvas(e);o.setTransform(1,0,0,1,l.offsetX-A[4],l.offsetY-A[5]);for(let c=0,u=a.length;c<u;c+=2){const h=Vt.transform(A,[t,n,i,s,a[c],a[c+1]]),[f,d]=Vt.applyTransform([0,0],h);o.drawImage(l.canvas,f,d)}o.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,i=this.current.patternFill;for(const s of e){const{data:a,width:o,height:A,transform:l}=s,c=this.cachedCanvases.getCanvas("maskCanvas",o,A),u=c.context;u.save();const h=this.getObject(a,s);FO(u,h),u.globalCompositeOperation="source-in",u.fillStyle=i?n.getPattern(u,this,pc(t),ya.FILL):n,u.fillRect(0,0,o,A),u.restore(),t.save(),t.transform(...l),t.scale(1,-1),AE(t,c.canvas,0,0,o,A,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){yr("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,n,i){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){yr("Dependent image isn't ready yet");return}const a=s.width,o=s.height,A=[];for(let l=0,c=i.length;l<c;l+=2)A.push({transform:[t,0,0,n,i[l],i[l+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(s,A)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",n,i),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,i=this.ctx;if(this.save(),!Ba){const{filter:o}=i;o!=="none"&&o!==""&&(i.filter="none")}i.scale(1/t,-1/n);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const A=this.cachedCanvases.getCanvas("inlineImage",t,n).context;TO(A,e),s=this.applyTransferMapsToCanvas(A)}const a=this._scaleImage(s,pc(i));i.imageSmoothingEnabled=IO(zn(i),e.interpolate),AE(i,a.img,0,0,a.paintWidth,a.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const s=e.width,a=e.height,A=this.cachedCanvases.getCanvas("inlineImage",s,a).context;TO(A,e),i=this.applyTransferMapsToCanvas(A)}for(const s of t)n.save(),n.transform(...s.transform),n.scale(1,-1),AE(n,i,s.x,s.y,s.w,s.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(t||(this.pendingClip===kO?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=zn(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:i,d:s}=this.ctx.getTransform();let a,o;if(n===0&&i===0){const A=Math.abs(t),l=Math.abs(s);if(A===l)if(e===0)a=o=1/A;else{const c=A*e;a=o=c<1?1/c:1}else if(e===0)a=1/A,o=1/l;else{const c=A*e,u=l*e;a=c<1?1/c:1,o=u<1?1/u:1}}else{const A=Math.abs(t*s-n*i),l=Math.hypot(t,n),c=Math.hypot(i,s);if(e===0)a=c/A,o=l/A;else{const u=e*A;a=c>u?c/u:1,o=l>u?l/u:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:n}=this.current,[i,s]=this.getScaleForStroking();if(t.lineWidth=n||1,i===1&&s===1){t.stroke();return}const a=t.getLineDash();if(e&&t.save(),t.scale(i,s),a.length>0){const o=Math.max(i,s);t.setLineDash(a.map(A=>A/o)),t.lineDashOffset/=o}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Zl=new WeakSet,i3=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},s3=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},a3=function(e,t,n){const i=new Path2D;return i.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(t)),i};let r1=iD;for(const r in El)r1.prototype[r]!==void 0&&(r1.prototype[El[r]]=r1.prototype[r]);var jx,Kx;class lh{static get workerPort(){return g(this,jx)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");V(this,jx,e)}static get workerSrc(){return g(this,Kx)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");V(this,Kx,e)}}jx=new WeakMap,Kx=new WeakMap,X(lh,jx,null),X(lh,Kx,"");var wp,zx;class rle{constructor({parsedData:e,rawData:t}){X(this,wp);X(this,zx);V(this,wp,e),V(this,zx,t)}getRaw(){return g(this,zx)}get(e){return g(this,wp).get(e)??null}getAll(){return VR(g(this,wp))}has(e){return g(this,wp).has(e)}}wp=new WeakMap,zx=new WeakMap;const wm=Symbol("INTERNAL");var Wx,Gx,$x,L1;class nle{constructor(e,{name:t,intent:n,usage:i,rbGroups:s}){X(this,Wx,!1);X(this,Gx,!1);X(this,$x,!1);X(this,L1,!0);V(this,Wx,!!(e&uA.DISPLAY)),V(this,Gx,!!(e&uA.PRINT)),this.name=t,this.intent=n,this.usage=i,this.rbGroups=s}get visible(){if(g(this,$x))return g(this,L1);if(!g(this,L1))return!1;const{print:e,view:t}=this.usage;return g(this,Wx)?(t==null?void 0:t.viewState)!=="OFF":g(this,Gx)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,n=!1){e!==wm&&Cn("Internal method `_setVisible` called."),V(this,$x,n),V(this,L1,t)}}Wx=new WeakMap,Gx=new WeakMap,$x=new WeakMap,L1=new WeakMap;var jf,cn,P1,R1,qx,o3;class ile{constructor(e,t=uA.DISPLAY){X(this,qx);X(this,jf,null);X(this,cn,new Map);X(this,P1,null);X(this,R1,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,V(this,R1,e.order);for(const n of e.groups)g(this,cn).set(n.id,new nle(t,n));if(e.baseState==="OFF")for(const n of g(this,cn).values())n._setVisible(wm,!1);for(const n of e.on)g(this,cn).get(n)._setVisible(wm,!0);for(const n of e.off)g(this,cn).get(n)._setVisible(wm,!1);V(this,P1,this.getHash())}}isVisible(e){if(g(this,cn).size===0)return!0;if(!e)return cT("Optional content group not defined."),!0;if(e.type==="OCG")return g(this,cn).has(e.id)?g(this,cn).get(e.id).visible:(yr(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return ee(this,qx,o3).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!g(this,cn).has(t))return yr(`Optional content group not found: ${t}`),!0;if(g(this,cn).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!g(this,cn).has(t))return yr(`Optional content group not found: ${t}`),!0;if(!g(this,cn).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!g(this,cn).has(t))return yr(`Optional content group not found: ${t}`),!0;if(!g(this,cn).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!g(this,cn).has(t))return yr(`Optional content group not found: ${t}`),!0;if(g(this,cn).get(t).visible)return!1}return!0}return yr(`Unknown optional content policy ${e.policy}.`),!0}return yr(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){var s;const i=g(this,cn).get(e);if(!i){yr(`Optional content group not found: ${e}`);return}if(n&&t&&i.rbGroups.length)for(const a of i.rbGroups)for(const o of a)o!==e&&((s=g(this,cn).get(o))==null||s._setVisible(wm,!1,!0));i._setVisible(wm,!!t,!0),V(this,jf,null)}setOCGState({state:e,preserveRB:t}){let n;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":n=i;continue}const s=g(this,cn).get(i);if(s)switch(n){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!s.visible,t);break}}V(this,jf,null)}get hasInitialVisibility(){return g(this,P1)===null||this.getHash()===g(this,P1)}getOrder(){return g(this,cn).size?g(this,R1)?g(this,R1).slice():[...g(this,cn).keys()]:null}getGroups(){return g(this,cn).size>0?VR(g(this,cn)):null}getGroup(e){return g(this,cn).get(e)||null}getHash(){if(g(this,jf)!==null)return g(this,jf);const e=new Gz;for(const[t,n]of g(this,cn))e.update(`${t}:${n.visible}`);return V(this,jf,e.hexdigest())}}jf=new WeakMap,cn=new WeakMap,P1=new WeakMap,R1=new WeakMap,qx=new WeakSet,o3=function(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let i=1;i<t;i++){const s=e[i];let a;if(Array.isArray(s))a=ee(this,qx,o3).call(this,s);else if(g(this,cn).has(s))a=g(this,cn).get(s).visible;else return yr(`Optional content group not found: ${s}`),!0;switch(n){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return n==="And"};class sle{constructor(e,{disableRange:t=!1,disableStream:n=!1}){Gi(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(s==null?void 0:s.length)>0){const A=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(A)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((A,l)=>{this._onReceiveData({begin:A,chunk:l})}),e.addProgressListener((A,l)=>{this._onProgress({loaded:A,total:l})}),e.addProgressiveReadListener(A=>{this._onReceiveData({chunk:A})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(n),!0)});Gi(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,n,i,s;e.total===void 0?(n=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||n.call(t,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Gi(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new ale(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new ole(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class ale{constructor(e,t,n=!1,i=null){this._stream=e,this._done=n||!1,this._filename=zR(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class ole{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Ale(r){let e=!0,t=n("filename\\*","i").exec(r);if(t){t=t[1];let c=o(t);return c=unescape(c),c=A(c),c=l(c),s(c)}if(t=a(r),t){const c=l(t);return s(c)}if(t=n("filename","i").exec(r),t){t=t[1];let c=o(t);return c=l(c),s(c)}function n(c,u){return new RegExp("(?:^|;)\\s*"+c+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',u)}function i(c,u){if(c){if(!/^[\x00-\xFF]+$/.test(u))return u;try{const h=new TextDecoder(c,{fatal:!0}),f=uT(u);u=h.decode(f),e=!1}catch{}}return u}function s(c){return e&&/[\x80-\xff]/.test(c)&&(c=i("utf-8",c),e&&(c=i("iso-8859-1",c))),c}function a(c){const u=[];let h;const f=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(h=f.exec(c))!==null;){let[,p,v,m]=h;if(p=parseInt(p,10),p in u){if(p===0)break;continue}u[p]=[v,m]}const d=[];for(let p=0;p<u.length&&p in u;++p){let[v,m]=u[p];m=o(m),v&&(m=unescape(m),p===0&&(m=A(m))),d.push(m)}return d.join("")}function o(c){if(c.startsWith('"')){const u=c.slice(1).split('\\"');for(let h=0;h<u.length;++h){const f=u[h].indexOf('"');f!==-1&&(u[h]=u[h].slice(0,f),u.length=h+1),u[h]=u[h].replaceAll(/\\(.)/g,"$1")}c=u.join('"')}return c}function A(c){const u=c.indexOf("'");if(u===-1)return c;const h=c.slice(0,u),d=c.slice(u+1).replace(/^[^']*'/,"");return i(h,d)}function l(c){return!c.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(c)?c:c.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(u,h,f,d){if(f==="q"||f==="Q")return d=d.replaceAll("_"," "),d=d.replaceAll(/=([0-9a-fA-F]{2})/g,function(p,v){return String.fromCharCode(parseInt(v,16))}),i(h,d);try{d=atob(d)}catch{}return i(h,d)})}return""}function oW(r,e){const t=new Headers;if(!r||!e||typeof e!="object")return t;for(const n in e){const i=e[n];i!==void 0&&t.append(n,i)}return t}function dT(r){try{return new URL(r).origin}catch{}return null}function AW({responseHeaders:r,isHttp:e,rangeChunkSize:t,disableRange:n}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(r.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*t)||n||!e||r.get("Accept-Ranges")!=="bytes"||(r.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function lW(r){const e=r.get("Content-Disposition");if(e){let t=Ale(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(zR(t))return t}return null}function pT(r,e){return r===404||r===0&&e.startsWith("file:")?new K2('Missing PDF "'+e+'".'):new dS(`Unexpected server response (${r}) while retrieving PDF "${e}".`,r)}function cW(r){return r===200||r===206}function uW(r,e,t){return{method:"GET",headers:r,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function hW(r){return r instanceof Uint8Array?r.buffer:r instanceof ArrayBuffer?r:(yr(`getArrayBuffer - unexpected data format: ${r}`),new Uint8Array(r).buffer)}class LO{constructor(e){De(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=oW(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Gi(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new lle(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new cle(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class lle{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),i=t.url;fetch(i,uW(n,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=dT(s.url),!cW(s.status))throw pT(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const a=s.headers,{allowRangeRequests:o,suggestedLength:A}=AW({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=A||this._contentLength,this._filename=lW(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Wd("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:hW(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class cle{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${n-1}`);const a=i.url;fetch(a,uW(s,this._withCredentials,this._abortController)).then(o=>{const A=dT(o.url);if(A!==e._responseOrigin)throw new Error(`Expected range response-origin "${A}" to match "${e._responseOrigin}".`);if(!cW(o.status))throw pT(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:hW(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const GF=200,$F=206;function ule(r){const e=r.response;return typeof e!="string"?e:uT(e).buffer}class hle{constructor({url:e,httpHeaders:t,withCredentials:n}){De(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=oW(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,a]of this.headers)t.setRequestHeader(s,a);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=$F):i.expectedStatus=GF,t.responseType="arraybuffer",Gi(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var i;const n=this.pendingRequests[e];n&&((i=n.onProgress)==null||i.call(n,t))}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){n.onError(i.status);return}const s=i.status||GF;if(!(s===GF&&n.expectedStatus===$F)&&s!==n.expectedStatus){n.onError(i.status);return}const o=ule(i);if(s===$F){const A=i.getResponseHeader("Content-Range"),l=/bytes (\d+)-(\d+)\/(\d+)/.exec(A);l?n.onDone({begin:parseInt(l[1],10),chunk:o}):(yr('Missing or invalid "Content-Range" header.'),n.onError(0))}else o?n.onDone({begin:0,chunk:o}):n.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class fle{constructor(e){this._source=e,this._manager=new hle(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Gi(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new dle(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new ple(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class dle{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=dT(t.responseURL);const n=t.getAllResponseHeaders(),i=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[A,...l]=o.split(": ");return[A,l.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:a}=AW({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=lW(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=pT(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class ple{constructor(e,t,n){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=dT((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=pT(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const gle=/^[a-z][a-z0-9\-+.]+:/i;function mle(r){if(gle.test(r))return new URL(r);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(r))}class vle{constructor(e){this.source=e,this.url=mle(e.url),Gi(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Gi(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new wle(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new yle(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class wle{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new K2(`Missing PDF "${this._url}".`)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Wd("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class yle{constructor(e,t,n){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const xle=1e5,vo=30,_le=.8;var N7,Kf,bo,Xx,Yx,yp,Gu,Jx,Zx,xp,N1,D1,zf,U1,e_,M1,_p,t_,r_,bp,Ep,n_,Wf,O1,Vh,fW,dW,A3,xA,jC,l3,pW,gW;const ts=class ts{constructor({textContentSource:e,container:t,viewport:n}){X(this,Vh);X(this,Kf,Promise.withResolvers());X(this,bo,null);X(this,Xx,!1);X(this,Yx,!!((N7=globalThis.FontInspector)!=null&&N7.enabled));X(this,yp,null);X(this,Gu,null);X(this,Jx,0);X(this,Zx,0);X(this,xp,null);X(this,N1,null);X(this,D1,0);X(this,zf,0);X(this,U1,Object.create(null));X(this,e_,[]);X(this,M1,null);X(this,_p,[]);X(this,t_,new WeakMap);X(this,r_,null);var A;if(e instanceof ReadableStream)V(this,M1,e);else if(typeof e=="object")V(this,M1,new ReadableStream({start(l){l.enqueue(e),l.close()}}));else throw new Error('No "textContentSource" parameter specified.');V(this,bo,V(this,N1,t)),V(this,zf,n.scale*(globalThis.devicePixelRatio||1)),V(this,D1,n.rotation),V(this,Gu,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:a,pageY:o}=n.rawDims;V(this,r_,[1,0,0,-1,-a,o+s]),V(this,Zx,i),V(this,Jx,s),ee(A=ts,xA,pW).call(A),_g(t,n),g(this,Kf).promise.finally(()=>{g(ts,O1).delete(this),V(this,Gu,null),V(this,U1,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=to.platform;return Br(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{g(this,xp).read().then(({value:t,done:n})=>{if(n){g(this,Kf).resolve();return}g(this,yp)??V(this,yp,t.lang),Object.assign(g(this,U1),t.styles),ee(this,Vh,fW).call(this,t.items),e()},g(this,Kf).reject)};return V(this,xp,g(this,M1).getReader()),g(ts,O1).add(this),e(),g(this,Kf).promise}update({viewport:e,onBefore:t=null}){var s;const n=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==g(this,D1)&&(t==null||t(),V(this,D1,i),_g(g(this,N1),{rotation:i})),n!==g(this,zf)){t==null||t(),V(this,zf,n);const a={div:null,properties:null,ctx:ee(s=ts,xA,jC).call(s,g(this,yp))};for(const o of g(this,_p))a.properties=g(this,t_).get(o),a.div=o,ee(this,Vh,A3).call(this,a)}}cancel(){var t;const e=new Wd("TextLayer task cancelled.");(t=g(this,xp))==null||t.cancel(e).catch(()=>{}),V(this,xp,null),g(this,Kf).reject(e)}get textDivs(){return g(this,_p)}get textContentItemsStr(){return g(this,e_)}static cleanup(){if(!(g(this,O1).size>0)){g(this,bp).clear();for(const{canvas:e}of g(this,Ep).values())e.remove();g(this,Ep).clear()}}};Kf=new WeakMap,bo=new WeakMap,Xx=new WeakMap,Yx=new WeakMap,yp=new WeakMap,Gu=new WeakMap,Jx=new WeakMap,Zx=new WeakMap,xp=new WeakMap,N1=new WeakMap,D1=new WeakMap,zf=new WeakMap,U1=new WeakMap,e_=new WeakMap,M1=new WeakMap,_p=new WeakMap,t_=new WeakMap,r_=new WeakMap,bp=new WeakMap,Ep=new WeakMap,n_=new WeakMap,Wf=new WeakMap,O1=new WeakMap,Vh=new WeakSet,fW=function(e){var i,s;if(g(this,Xx))return;(s=g(this,Gu)).ctx??(s.ctx=ee(i=ts,xA,jC).call(i,g(this,yp)));const t=g(this,_p),n=g(this,e_);for(const a of e){if(t.length>xle){yr("Ignoring additional textDivs for performance reasons."),V(this,Xx,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=g(this,bo);V(this,bo,document.createElement("span")),g(this,bo).classList.add("markedContent"),a.id!==null&&g(this,bo).setAttribute("id",`${a.id}`),o.append(g(this,bo))}else a.type==="endMarkedContent"&&V(this,bo,g(this,bo).parentNode);continue}n.push(a.str),ee(this,Vh,dW).call(this,a)}},dW=function(e){var p;const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};g(this,_p).push(t);const i=Vt.transform(g(this,r_),e.transform);let s=Math.atan2(i[1],i[0]);const a=g(this,U1)[e.fontName];a.vertical&&(s+=Math.PI/2);let o=g(this,Yx)&&a.fontSubstitution||a.fontFamily;o=ts.fontFamilyMap.get(o)||o;const A=Math.hypot(i[2],i[3]),l=A*ee(p=ts,xA,gW).call(p,o,g(this,yp));let c,u;s===0?(c=i[4],u=i[5]-l):(c=i[4]+l*Math.sin(s),u=i[5]-l*Math.cos(s));const h="calc(var(--scale-factor)*",f=t.style;g(this,bo)===g(this,N1)?(f.left=`${(100*c/g(this,Zx)).toFixed(2)}%`,f.top=`${(100*u/g(this,Jx)).toFixed(2)}%`):(f.left=`${h}${c.toFixed(2)}px)`,f.top=`${h}${u.toFixed(2)}px)`),f.fontSize=`${h}${(g(ts,Wf)*A).toFixed(2)}px)`,f.fontFamily=o,n.fontSize=A,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,g(this,Yx)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(n.angle=s*(180/Math.PI));let d=!1;if(e.str.length>1)d=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const v=Math.abs(e.transform[0]),m=Math.abs(e.transform[3]);v!==m&&Math.max(v,m)/Math.min(v,m)>1.5&&(d=!0)}if(d&&(n.canvasWidth=a.vertical?e.height:e.width),g(this,t_).set(t,n),g(this,Gu).div=t,g(this,Gu).properties=n,ee(this,Vh,A3).call(this,g(this,Gu)),n.hasText&&g(this,bo).append(t),n.hasEOL){const v=document.createElement("br");v.setAttribute("role","presentation"),g(this,bo).append(v)}},A3=function(e){var o;const{div:t,properties:n,ctx:i}=e,{style:s}=t;let a="";if(g(ts,Wf)>1&&(a=`scale(${1/g(ts,Wf)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:A}=s,{canvasWidth:l,fontSize:c}=n;ee(o=ts,xA,l3).call(o,i,c*g(this,zf),A);const{width:u}=i.measureText(t.textContent);u>0&&(a=`scaleX(${l*g(this,zf)/u}) ${a}`)}n.angle!==0&&(a=`rotate(${n.angle}deg) ${a}`),a.length>0&&(s.transform=a)},xA=new WeakSet,jC=function(e=null){let t=g(this,Ep).get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),g(this,Ep).set(e,t),g(this,n_).set(t,{size:0,family:""})}return t},l3=function(e,t,n){const i=g(this,n_).get(e);t===i.size&&n===i.family||(e.font=`${t}px ${n}`,i.size=t,i.family=n)},pW=function(){if(g(this,Wf)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),V(this,Wf,e.getBoundingClientRect().height),e.remove()},gW=function(e,t){const n=g(this,bp).get(e);if(n)return n;const i=ee(this,xA,jC).call(this,t);i.canvas.width=i.canvas.height=vo,ee(this,xA,l3).call(this,i,vo,e);const s=i.measureText("");let a=s.fontBoundingBoxAscent,o=Math.abs(s.fontBoundingBoxDescent);if(a){const c=a/(a+o);return g(this,bp).set(e,c),i.canvas.width=i.canvas.height=0,c}i.strokeStyle="red",i.clearRect(0,0,vo,vo),i.strokeText("g",0,0);let A=i.getImageData(0,0,vo,vo).data;o=0;for(let c=A.length-1-3;c>=0;c-=4)if(A[c]>0){o=Math.ceil(c/4/vo);break}i.clearRect(0,0,vo,vo),i.strokeText("A",0,vo),A=i.getImageData(0,0,vo,vo).data,a=0;for(let c=0,u=A.length;c<u;c+=4)if(A[c]>0){a=vo-Math.floor(c/4/vo);break}i.canvas.width=i.canvas.height=0;const l=a?a/(a+o):_le;return g(this,bp).set(e,l),l},X(ts,xA),X(ts,bp,new Map),X(ts,Ep,new Map),X(ts,n_,new WeakMap),X(ts,Wf,null),X(ts,O1,new Set);let z2=ts;class W2{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function i(s){var A;if(!s)return;let a=null;const o=s.name;if(o==="#text")a=s.value;else if(W2.shouldBuildText(o))(A=s==null?void 0:s.attributes)!=null&&A.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&t.push({str:a}),!!s.children)for(const l of s.children)i(l)}return i(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const ble=65536,Ele=100,Cle=5e3,Ble=Ba?QAe:UAe,Sle=Ba?HAe:tW,Tle=Ba?OAe:MAe,Fle=Ba?VAe:sW;function Ile(r={}){typeof r=="string"||r instanceof URL?r={url:r}:(r instanceof ArrayBuffer||ArrayBuffer.isView(r))&&(r={data:r});const e=new c3,{docId:t}=e,n=r.url?kle(r.url):null,i=r.data?Lle(r.data):null,s=r.httpHeaders||null,a=r.withCredentials===!0,o=r.password??null,A=r.range instanceof mW?r.range:null,l=Number.isInteger(r.rangeChunkSize)&&r.rangeChunkSize>0?r.rangeChunkSize:ble;let c=r.worker instanceof n1?r.worker:null;const u=r.verbosity,h=typeof r.docBaseUrl=="string"&&!fT(r.docBaseUrl)?r.docBaseUrl:null,f=typeof r.cMapUrl=="string"?r.cMapUrl:null,d=r.cMapPacked!==!1,p=r.CMapReaderFactory||Sle,v=typeof r.standardFontDataUrl=="string"?r.standardFontDataUrl:null,m=r.StandardFontDataFactory||Fle,x=r.stopAtErrors!==!0,b=Number.isInteger(r.maxImageSize)&&r.maxImageSize>-1?r.maxImageSize:-1,T=r.isEvalSupported!==!1,R=typeof r.isOffscreenCanvasSupported=="boolean"?r.isOffscreenCanvasSupported:!Ba,P=typeof r.isImageDecoderSupported=="boolean"?r.isImageDecoderSupported:!Ba&&(to.platform.isFirefox||!globalThis.chrome),B=Number.isInteger(r.canvasMaxAreaInBytes)?r.canvasMaxAreaInBytes:-1,E=typeof r.disableFontFace=="boolean"?r.disableFontFace:Ba,_=r.fontExtraProperties===!0,I=r.enableXfa===!0,S=r.ownerDocument||globalThis.document,F=r.disableRange===!0,N=r.disableStream===!0,G=r.disableAutoFetch===!0,le=r.pdfBug===!0,ie=r.CanvasFactory||Ble,te=r.FilterFactory||Tle,J=r.enableHWA===!0,W=A?A.length:r.length??NaN,be=typeof r.useSystemFonts=="boolean"?r.useSystemFonts:!Ba&&!E,xe=typeof r.useWorkerFetch=="boolean"?r.useWorkerFetch:p===tW&&m===sW&&f&&v&&ey(f,document.baseURI)&&ey(v,document.baseURI),L=null;pAe(u);const O={canvasFactory:new ie({ownerDocument:S,enableHWA:J}),filterFactory:new te({docId:t,ownerDocument:S}),cMapReaderFactory:xe?null:new p({baseUrl:f,isCompressed:d}),standardFontDataFactory:xe?null:new m({baseUrl:v})};if(!c){const Y={verbosity:u,port:lh.workerPort};c=Y.port?n1.fromPort(Y):new n1(Y),e._worker=c}const H={docId:t,apiVersion:"4.10.38",data:i,password:o,disableAutoFetch:G,rangeChunkSize:l,length:W,docBaseUrl:h,enableXfa:I,evaluatorOptions:{maxImageSize:b,disableFontFace:E,ignoreErrors:x,isEvalSupported:T,isOffscreenCanvasSupported:R,isImageDecoderSupported:P,canvasMaxAreaInBytes:B,fontExtraProperties:_,useSystemFonts:be,cMapUrl:xe?f:null,standardFontDataUrl:xe?v:null}},Q={disableFontFace:E,fontExtraProperties:_,ownerDocument:S,pdfBug:le,styleElement:L,loadingParams:{disableAutoFetch:G,enableXfa:I}};return c.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(c.destroyed)throw new Error("Worker was destroyed");const Y=c.messageHandler.sendWithPromise("GetDocRequest",H,i?[i.buffer]:null);let oe;if(A)oe=new sle(A,{disableRange:F,disableStream:N});else if(!i){if(!n)throw new Error("getDocument - no `url` parameter provided.");let de;if(Ba)if(ey(n)){if(typeof fetch>"u"||typeof Response>"u"||!("body"in Response.prototype))throw new Error("getDocument - the Fetch API was disabled in Node.js, see `--no-experimental-fetch`.");de=LO}else de=vle;else de=ey(n)?LO:fle;oe=new de({url:n,length:W,httpHeaders:s,withCredentials:a,rangeChunkSize:l,disableRange:F,disableStream:N})}return Y.then(de=>{if(e.destroyed)throw new Error("Loading aborted");if(c.destroyed)throw new Error("Worker was destroyed");const fe=new iy(t,de,c.port),_e=new Dle(fe,e,oe,Q,O);e._transport=_e,fe.send("Ready",null)})}).catch(e._capability.reject),e}function kle(r){if(r instanceof URL)return r.href;try{return new URL(r,window.location).href}catch{if(Ba&&typeof r=="string")return r}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Lle(r){if(Ba&&typeof Buffer<"u"&&r instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength)return r;if(typeof r=="string")return uT(r);if(r instanceof ArrayBuffer||ArrayBuffer.isView(r)||typeof r=="object"&&!isNaN(r==null?void 0:r.length))return new Uint8Array(r);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function PO(r){return typeof r=="object"&&Number.isInteger(r==null?void 0:r.num)&&r.num>=0&&Number.isInteger(r==null?void 0:r.gen)&&r.gen>=0}var h5;const f5=class f5{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Rs(f5,h5)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,n,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(s){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,s}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}};h5=new WeakMap,X(f5,h5,0);let c3=f5;class mW{constructor(e,t,n=!1,i=null){this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){Cn("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class Ple{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Br(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Gf,$u,qA,ym,KC;class Rle{constructor(e,t,n,i=!1){X(this,qA);X(this,Gf,null);X(this,$u,!1);this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=i?new wO:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new vW,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:s=!1}={}){return new ob({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Br(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:n="display",annotationMode:i=Ff.ENABLE,transform:s=null,background:a=null,optionalContentConfigPromise:o=null,annotationCanvasMap:A=null,pageColors:l=null,printAnnotationStorage:c=null,isEditing:u=!1}){var T,R;(T=this._stats)==null||T.time("Overall");const h=this._transport.getRenderingIntent(n,i,c,u),{renderingIntent:f,cacheKey:d}=h;V(this,$u,!1),ee(this,qA,KC).call(this),o||(o=this._transport.getOptionalContentConfig(f));let p=this._intentStates.get(d);p||(p=Object.create(null),this._intentStates.set(d,p)),p.streamReaderCancelTimeout&&(clearTimeout(p.streamReaderCancelTimeout),p.streamReaderCancelTimeout=null);const v=!!(f&uA.PRINT);p.displayReadyCapability||(p.displayReadyCapability=Promise.withResolvers(),p.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(R=this._stats)==null||R.time("Page Request"),this._pumpOperatorList(h));const m=P=>{var B;p.renderTasks.delete(x),(this._maybeCleanupAfterRender||v)&&V(this,$u,!0),ee(this,qA,ym).call(this,!v),P?(x.capability.reject(P),this._abortOperatorList({intentState:p,reason:P instanceof Error?P:new Error(P)})):x.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(B=globalThis.Stats)!=null&&B.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},x=new h3({callback:m,params:{canvasContext:e,viewport:t,transform:s,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:A,operatorList:p.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!v,pdfBug:this._pdfBug,pageColors:l});(p.renderTasks||(p.renderTasks=new Set)).add(x);const b=x.task;return Promise.all([p.displayReadyCapability.promise,o]).then(([P,B])=>{var E;if(this.destroyed){m();return}if((E=this._stats)==null||E.time("Rendering"),!(B.renderingIntent&f))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");x.initializeGraphics({transparency:P,optionalContentConfig:B}),x.operatorListChanged()}).catch(m),b}getOperatorList({intent:e="display",annotationMode:t=Ff.ENABLE,printAnnotationStorage:n=null,isEditing:i=!1}={}){var l;function s(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(A))}const a=this._transport.getRenderingIntent(e,t,n,i,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let A;return o.opListReadCapability||(A=Object.create(null),A.operatorListChanged=s,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(A),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(l=this._stats)==null||l.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>W2.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,i){function s(){a.read().then(function({value:A,done:l}){if(l){n(o);return}o.lang??(o.lang=A.lang),Object.assign(o.styles,A.styles),o.items.push(...A.items),s()},i)}const a=t.getReader(),o={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),V(this,$u,!1),ee(this,qA,KC).call(this),Promise.all(e)}cleanup(e=!1){V(this,$u,!0);const t=ee(this,qA,ym).call(this,!1);return e&&t&&this._stats&&(this._stats=new wO),t}_startRenderPage(e,t){var i,s;const n=this._intentStates.get(t);n&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=n.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let n=0,i=e.length;n<i;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&ee(this,qA,ym).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:i}){const{map:s,transfer:a}=n,A=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:i},a).getReader(),l=this._intentStates.get(t);l.streamReader=A;const c=()=>{A.read().then(({value:u,done:h})=>{if(h){l.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(u,l),c())},u=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const h of l.renderTasks)h.operatorListChanged();ee(this,qA,ym).call(this,!0)}if(l.displayReadyCapability)l.displayReadyCapability.reject(u);else if(l.opListReadCapability)l.opListReadCapability.reject(u);else throw u}})};c()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof KR){let i=Ele;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new Wd(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}Gf=new WeakMap,$u=new WeakMap,qA=new WeakSet,ym=function(e=!1){if(ee(this,qA,KC).call(this),!g(this,$u)||this.destroyed)return!1;if(e)return V(this,Gf,setTimeout(()=>{V(this,Gf,null),ee(this,qA,ym).call(this,!1)},Cle)),!1;for(const{renderTasks:t,operatorList:n}of this._intentStates.values())if(t.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),V(this,$u,!1),!0},KC=function(){g(this,Gf)&&(clearTimeout(g(this,Gf)),V(this,Gf,null))};var qu,d5;class Nle{constructor(){X(this,qu,new Map);X(this,d5,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};g(this,d5).then(()=>{for(const[i]of g(this,qu))i.call(this,n)})}addEventListener(e,t,n=null){let i=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:s}=n;if(s.aborted){yr("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,t);i=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}g(this,qu).set(t,i)}removeEventListener(e,t){const n=g(this,qu).get(t);n==null||n(),g(this,qu).delete(t)}terminate(){for(const[,e]of g(this,qu))e==null||e();g(this,qu).clear()}}qu=new WeakMap,d5=new WeakMap;var p5,Cp,Bp,Q1,zC,H1,WC;const Kn=class Kn{constructor({name:e=null,port:t=null,verbosity:n=gAe()}={}){X(this,Q1);var i;if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((i=g(Kn,Bp))!=null&&i.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(g(Kn,Bp)||V(Kn,Bp,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new iy("main","worker",e),this._messageHandler.on("ready",function(){}),ee(this,Q1,zC).call(this)}_initialize(){if(g(Kn,Cp)||g(Kn,H1,WC)){this._setupFakeWorker();return}let{workerSrc:e}=Kn;try{Kn._isSameOrigin(window.location.href,e)||(e=Kn._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new iy("main","worker",t),i=()=>{s.abort(),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;t.addEventListener("error",()=>{this._webWorker||i()},{signal:s.signal}),n.on("test",o=>{if(s.abort(),this.destroyed||!o){i();return}this._messageHandler=n,this._port=t,this._webWorker=t,ee(this,Q1,zC).call(this)}),n.on("ready",o=>{if(s.abort(),this.destroyed){i();return}try{a()}catch{this._setupFakeWorker()}});const a=()=>{const o=new Uint8Array;n.send("test",o,[o.buffer])};a();return}catch{cT("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){g(Kn,Cp)||(yr("Setting up fake worker."),V(Kn,Cp,!0)),Kn._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new Nle;this._port=t;const n=`fake${Rs(Kn,p5)._++}`,i=new iy(n+"_worker",n,t);e.setup(i,t),this._messageHandler=new iy(n,n+"_worker",t),ee(this,Q1,zC).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e,t,n;this.destroyed=!0,(e=this._webWorker)==null||e.terminate(),this._webWorker=null,(t=g(Kn,Bp))==null||t.delete(this._port),this._port=null,(n=this._messageHandler)==null||n.destroy(),this._messageHandler=null}static fromPort(e){var n;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(n=g(this,Bp))==null?void 0:n.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Kn(e)}static get workerSrc(){if(lh.workerSrc)return lh.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Br(this,"_setupFakeWorkerGlobal",(async()=>g(this,H1,WC)?g(this,H1,WC):(await import(this.workerSrc)).WorkerMessageHandler)())}};p5=new WeakMap,Cp=new WeakMap,Bp=new WeakMap,Q1=new WeakSet,zC=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},H1=new WeakSet,WC=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},X(Kn,H1),X(Kn,p5,0),X(Kn,Cp,!1),X(Kn,Bp),Ba&&(V(Kn,Cp,!0),lh.workerSrc||(lh.workerSrc="./pdf.worker.mjs")),Kn._isSameOrigin=(e,t)=>{let n;try{if(n=new URL(e),!n.origin||n.origin==="null")return!1}catch{return!1}const i=new URL(t,n);return n.origin===i.origin},Kn._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};let n1=Kn;var Xu,Nc,V1,j1,Yu,Sp,ly;class Dle{constructor(e,t,n,i,s){X(this,Sp);X(this,Xu,new Map);X(this,Nc,new Map);X(this,V1,new Map);X(this,j1,new Map);X(this,Yu,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new vW,this.fontLoader=new NAe({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Br(this,"annotationStorage",new $R)}getRenderingIntent(e,t=Ff.ENABLE,n=null,i=!1,s=!1){let a=uA.DISPLAY,o=Zk;switch(e){case"any":a=uA.ANY;break;case"display":break;case"print":a=uA.PRINT;break;default:yr(`getRenderingIntent - invalid intent: ${e}`)}const A=a&uA.PRINT&&n instanceof qz?n:this.annotationStorage;switch(t){case Ff.DISABLE:a+=uA.ANNOTATIONS_DISABLE;break;case Ff.ENABLE:break;case Ff.ENABLE_FORMS:a+=uA.ANNOTATIONS_FORMS;break;case Ff.ENABLE_STORAGE:a+=uA.ANNOTATIONS_STORAGE,o=A.serializable;break;default:yr(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(a+=uA.IS_EDITING),s&&(a+=uA.OPLIST);const{ids:l,hash:c}=A.modifiedIds,u=[a,o.hash,c];return{renderingIntent:a,cacheKey:u.join("_"),annotationStorageSerializable:o,modifiedIds:l}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=g(this,Yu))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of g(this,Nc).values())e.push(i._destroy());g(this,Nc).clear(),g(this,V1).clear(),g(this,j1).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i,s;this.commonObjs.clear(),this.fontLoader.clear(),g(this,Xu).clear(),this.filterFactory.destroy(),z2.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Wd("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,i)=>{Gi(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){i.close();return}Gi(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async n=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:a}=this._fullReader;return(!i||!s)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),this._fullReader.onProgress=A=>{var l;(l=t.onProgress)==null||l.call(t,{loaded:A.loaded,total:A.total})}),{isStreamingSupported:i,isRangeSupported:s,contentLength:a}}),e.on("GetRangeReader",(n,i)=>{Gi(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(n.begin,n.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:a,done:o}){if(o){i.close();return}Gi(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{s.cancel(a),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new Ple(n,this))}),e.on("DocException",n=>{t._capability.reject(yo(n))}),e.on("PasswordRequest",n=>{V(this,Yu,Promise.withResolvers());try{if(!t.onPassword)throw yo(n);const i=s=>{s instanceof Error?g(this,Yu).reject(s):g(this,Yu).resolve({password:s})};t.onPassword(i,n.code)}catch(i){g(this,Yu).reject(i)}return g(this,Yu).promise}),e.on("DataLoaded",n=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;g(this,Nc).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,i,s])=>{var a;if(this.destroyed||this.commonObjs.has(n))return null;switch(i){case"Font":const{disableFontFace:o,fontExtraProperties:A,pdfBug:l}=this._params;if("error"in s){const f=s.error;yr(`Error during font loading: ${f}`),this.commonObjs.resolve(n,f);break}const c=l&&((a=globalThis.FontInspector)!=null&&a.enabled)?(f,d)=>globalThis.FontInspector.fontAdded(f,d):null,u=new DAe(s,{disableFontFace:o,fontExtraProperties:A,inspectFont:c});this.fontLoader.bind(u).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!A&&u.data&&(u.data=null),this.commonObjs.resolve(n,u)});break;case"CopyLocalImage":const{imageRef:h}=s;Gi(h,"The imageRef must be defined.");for(const f of g(this,Nc).values())for(const[,d]of f.objs)if((d==null?void 0:d.ref)===h)return d.dataLen?(this.commonObjs.resolve(n,structuredClone(d)),d.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([n,i,s,a])=>{var A;if(this.destroyed)return;const o=g(this,Nc).get(i);if(!o.objs.has(n)){if(o._intentStates.size===0){(A=a==null?void 0:a.bitmap)==null||A.close();return}switch(s){case"Image":o.objs.resolve(n,a),(a==null?void 0:a.dataLen)>uAe&&(o._maybeCleanupAfterRender=!0);break;case"Pattern":o.objs.resolve(n,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",n=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:n.loaded,total:n.total})}),e.on("FetchBuiltInCMap",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(n)}),e.on("FetchStandardFontData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&yr("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=g(this,V1).get(t);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&g(this,j1).set(s.refStr,e);const a=new Rle(t,s,this,this._params.pdfBug);return g(this,Nc).set(t,a),a});return g(this,V1).set(t,i),i}getPageIndex(e){return PO(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return ee(this,Sp,ly).call(this,"GetFieldObjects")}hasJSActions(){return ee(this,Sp,ly).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return ee(this,Sp,ly).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return ee(this,Sp,ly).call(this,"GetOptionalContentConfig").then(t=>new ile(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=g(this,Xu).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,a;return{info:i[0],metadata:i[1]?new rle(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return g(this,Xu).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of g(this,Nc).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),g(this,Xu).clear(),this.filterFactory.destroy(!0),z2.cleanup()}}cachedPageNumber(e){if(!PO(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return g(this,j1).get(t)??null}}Xu=new WeakMap,Nc=new WeakMap,V1=new WeakMap,j1=new WeakMap,Yu=new WeakMap,Sp=new WeakSet,ly=function(e,t=null){const n=g(this,Xu).get(e);if(n)return n;const i=this.messageHandler.sendWithPromise(e,t);return g(this,Xu).set(e,i),i};const Pw=Symbol("INITIAL_DATA");var tA,i_,u3;class vW{constructor(){X(this,i_);X(this,tA,Object.create(null))}get(e,t=null){if(t){const i=ee(this,i_,u3).call(this,e);return i.promise.then(()=>t(i.data)),null}const n=g(this,tA)[e];if(!n||n.data===Pw)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=g(this,tA)[e];return!!t&&t.data!==Pw}delete(e){const t=g(this,tA)[e];return!t||t.data===Pw?!1:(delete g(this,tA)[e],!0)}resolve(e,t=null){const n=ee(this,i_,u3).call(this,e);n.data=t,n.resolve()}clear(){var e;for(const t in g(this,tA)){const{data:n}=g(this,tA)[t];(e=n==null?void 0:n.bitmap)==null||e.close()}V(this,tA,Object.create(null))}*[Symbol.iterator](){for(const e in g(this,tA)){const{data:t}=g(this,tA)[e];t!==Pw&&(yield[e,t])}}}tA=new WeakMap,i_=new WeakSet,u3=function(e){var t;return(t=g(this,tA))[e]||(t[e]={...Promise.withResolvers(),data:Pw})};var $f;class Ule{constructor(e){X(this,$f,null);V(this,$f,e),this.onContinue=null}get promise(){return g(this,$f).capability.promise}cancel(e=0){g(this,$f).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=g(this,$f).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=g(this,$f);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}$f=new WeakMap;var qf,Tp;const V0=class V0{constructor({callback:e,params:t,objs:n,commonObjs:i,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:A,filterFactory:l,useRequestAnimationFrame:c=!1,pdfBug:u=!1,pageColors:h=null}){X(this,qf,null);this.callback=e,this.params=t,this.objs=n,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=A,this.filterFactory=l,this._pdfBug=u,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=c===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Ule(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var o,A;if(this.cancelled)return;if(this._canvas){if(g(V0,Tp).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");g(V0,Tp).add(this._canvas)}this._pdfBug&&((o=globalThis.StepperManager)!=null&&o.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:i,transform:s,background:a}=this.params;this.gfx=new r1(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:i,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,(A=this.graphicsReadyCallback)==null||A.call(this)}cancel(e=null,t=0){var n;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),g(this,qf)&&(window.cancelAnimationFrame(g(this,qf)),V(this,qf,null)),g(V0,Tp).delete(this._canvas),this.callback(e||new KR(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?V(this,qf,window.requestAnimationFrame(()=>{V(this,qf,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),g(V0,Tp).delete(this._canvas),this.callback())))}};qf=new WeakMap,Tp=new WeakMap,X(V0,Tp,new WeakSet);let h3=V0;const Mle="4.10.38",Ole="f9bea397f";function RO(r){return Math.floor(Math.max(0,Math.min(1,r))*255).toString(16).padStart(2,"0")}function Rw(r){return Math.max(0,Math.min(255,255*r))}class NO{static CMYK_G([e,t,n,i]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Rw(e),[e,e,e]}static G_HTML([e]){const t=RO(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(Rw)}static RGB_HTML(e){return`#${e.map(RO).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,n+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,n,i]){return[Rw(1-Math.min(1,e+i)),Rw(1-Math.min(1,n+i)),Rw(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const i=1-e,s=1-t,a=1-n,o=Math.min(i,s,a);return["CMYK",i,s,a,o]}}class Qle{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Cn("Abstract method `_createSVG` called.")}}class XR extends Qle{_createSVG(e){return document.createElementNS(Su,e)}}class wW{static setupStorage(e,t,n,i,s){const a=i.getValue(t,{value:null});switch(n.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(a.value===n.attributes.xfaOn?e.setAttribute("checked",!0):a.value===n.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",o=>{i.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of n.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const A=o.target.options,l=A.selectedIndex===-1?"":A[A.selectedIndex].value;i.setValue(t,{value:l})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:i,linkService:s}){const{attributes:a}=t,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${i}`);for(const[A,l]of Object.entries(a))if(l!=null)switch(A){case"class":l.length&&e.setAttribute(A,l.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",l);break;case"style":Object.assign(e.style,l);break;case"textContent":e.textContent=l;break;default:(!o||A!=="href"&&A!=="newWindow")&&e.setAttribute(A,l)}o&&s.addLinkAttributes(e,a.href,a.newWindow),n&&a.dataId&&this.setupStorage(e,a.dataId,t,n)}static render(e){var u,h;const t=e.annotationStorage,n=e.linkService,i=e.xfaHtml,s=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:s,linkService:n});const o=s!=="richText",A=e.div;if(A.append(a),e.viewport){const f=`matrix(${e.viewport.transform.join(",")})`;A.style.transform=f}o&&A.setAttribute("class","xfaLayer xfaFont");const l=[];if(i.children.length===0){if(i.value){const f=document.createTextNode(i.value);a.append(f),o&&W2.shouldBuildText(i.name)&&l.push(f)}return{textDivs:l}}const c=[[i,-1,a]];for(;c.length>0;){const[f,d,p]=c.at(-1);if(d+1===f.children.length){c.pop();continue}const v=f.children[++c.at(-1)[1]];if(v===null)continue;const{name:m}=v;if(m==="#text"){const b=document.createTextNode(v.value);l.push(b),p.append(b);continue}const x=(u=v==null?void 0:v.attributes)!=null&&u.xmlns?document.createElementNS(v.attributes.xmlns,m):document.createElement(m);if(p.append(x),v.attributes&&this.setAttributes({html:x,element:v,storage:t,intent:s,linkService:n}),((h=v.children)==null?void 0:h.length)>0)c.push([v,-1,x]);else if(v.value){const b=document.createTextNode(v.value);o&&W2.shouldBuildText(m)&&l.push(b),x.append(b)}}for(const f of A.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))f.setAttribute("readOnly",!0);return{textDivs:l}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const lb=1e3,Hle=9,Eg=new WeakSet;function Rd(r){return{width:r[2]-r[0],height:r[3]-r[1]}}class Vle{static create(e){switch(e.data.annotationType){case es.LINK:return new yW(e);case es.TEXT:return new jle(e);case es.WIDGET:switch(e.data.fieldType){case"Tx":return new Kle(e);case"Btn":return e.data.radioButton?new bW(e):e.data.checkBox?new Wle(e):new Gle(e);case"Ch":return new $le(e);case"Sig":return new zle(e)}return new Ug(e);case es.POPUP:return new d3(e);case es.FREETEXT:return new TW(e);case es.LINE:return new Xle(e);case es.SQUARE:return new Yle(e);case es.CIRCLE:return new Jle(e);case es.POLYLINE:return new FW(e);case es.CARET:return new ece(e);case es.INK:return new YR(e);case es.POLYGON:return new Zle(e);case es.HIGHLIGHT:return new IW(e);case es.UNDERLINE:return new tce(e);case es.SQUIGGLY:return new rce(e);case es.STRIKEOUT:return new nce(e);case es.STAMP:return new kW(e);case es.FILEATTACHMENT:return new ice(e);default:return new Di(e)}}}var Fp,K1,z1,s_,f3;const sD=class sD{constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}={}){X(this,s_);X(this,Fp,null);X(this,K1,!1);X(this,z1,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:n}){return!!(e!=null&&e.str||t!=null&&t.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return sD._hasPopupData(this.data)}updateEdited(e){var n;if(!this.container)return;g(this,Fp)||V(this,Fp,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&ee(this,s_,f3).call(this,t),(n=g(this,z1))==null||n.popup.updateEdited(e)}resetEdited(){var e;g(this,Fp)&&(ee(this,s_,f3).call(this,g(this,Fp).rect),(e=g(this,z1))==null||e.popup.resetEdited(),V(this,Fp,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof Ug||(s.tabIndex=lb);const{style:a}=s;if(a.zIndex=this.parent.zIndex++,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof d3){const{rotation:p}=t;return!t.hasOwnCanvas&&p!==0&&this.setRotation(p,s),s}const{width:o,height:A}=Rd(t.rect);if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const p=t.borderStyle.horizontalCornerRadius,v=t.borderStyle.verticalCornerRadius;if(p>0||v>0){const x=`calc(${p}px * var(--scale-factor)) / calc(${v}px * var(--scale-factor))`;a.borderRadius=x}else if(this instanceof bW){const x=`calc(${o}px * var(--scale-factor)) / calc(${A}px * var(--scale-factor))`;a.borderRadius=x}switch(t.borderStyle.style){case kw.SOLID:a.borderStyle="solid";break;case kw.DASHED:a.borderStyle="dashed";break;case kw.BEVELED:yr("Unimplemented border style: beveled");break;case kw.INSET:yr("Unimplemented border style: inset");break;case kw.UNDERLINE:a.borderBottomStyle="solid";break}const m=t.borderColor||null;m?(V(this,K1,!0),a.borderColor=Vt.makeHexColor(m[0]|0,m[1]|0,m[2]|0)):a.borderWidth=0}const l=Vt.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:c,pageHeight:u,pageX:h,pageY:f}=i.rawDims;a.left=`${100*(l[0]-h)/c}%`,a.top=`${100*(l[1]-f)/u}%`;const{rotation:d}=t;return t.hasOwnCanvas||d===0?(a.width=`${100*o/c}%`,a.height=`${100*A/u}%`):this.setRotation(d,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims,{width:s,height:a}=Rd(this.data.rect);let o,A;e%180===0?(o=100*s/n,A=100*a/i):(o=100*a/n,A=100*s/i),t.style.width=`${o}%`,t.style.height=`${A}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,i)=>{const s=i.detail[t],a=s[0],o=s.slice(1);i.target.style[n]=NO[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[n]:NO[`${a}_rgb`](o)})};return Br(this,"_commonActions",{display:t=>{const{display:n}=t.detail,i=n%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const i of Object.keys(t.detail)){const s=e[i]||n[i];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[i,s]of Object.entries(t)){const a=n[i];if(a){const o={detail:{[i]:s},target:e};a(o),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,i,s]=this.data.rect.map(p=>Math.fround(p));if(e.length===8){const[p,v,m,x]=e.subarray(2,6);if(i===p&&s===v&&t===m&&n===x)return}const{style:a}=this.container;let o;if(g(this,K1)){const{borderColor:p,borderWidth:v}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${p}" stroke-width="${v}">`],this.container.classList.add("hasBorder")}const A=i-t,l=s-n,{svgFactory:c}=this,u=c.createElement("svg");u.classList.add("quadrilateralsContainer"),u.setAttribute("width",0),u.setAttribute("height",0);const h=c.createElement("defs");u.append(h);const f=c.createElement("clipPath"),d=`clippath_${this.data.id}`;f.setAttribute("id",d),f.setAttribute("clipPathUnits","objectBoundingBox"),h.append(f);for(let p=2,v=e.length;p<v;p+=8){const m=e[p],x=e[p+1],b=e[p+2],T=e[p+3],R=c.createElement("rect"),P=(b-t)/A,B=(s-x)/l,E=(m-b)/A,_=(x-T)/l;R.setAttribute("x",P),R.setAttribute("y",B),R.setAttribute("width",E),R.setAttribute("height",_),f.append(R),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${P}" y="${B}" width="${E}" height="${_}"/>`)}g(this,K1)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(u),this.container.style.clipPath=`url(#${d})`}_createPopup(){const{data:e}=this,t=V(this,z1,new d3({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){Cn("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:a,exportValues:o}of i){if(s===-1||a===t)continue;const A=typeof o=="string"?o:null,l=document.querySelector(`[data-element-id="${a}"]`);if(l&&!Eg.has(l)){yr(`_getElementsByName - element not allowed: ${a}`);continue}n.push({id:a,exportValue:A,domElement:l})}return n}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,a=i.getAttribute("data-element-id");a!==t&&Eg.has(i)&&n.push({id:a,exportValue:s,domElement:i})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};Fp=new WeakMap,K1=new WeakMap,z1=new WeakMap,s_=new WeakSet,f3=function(e){const{container:{style:t},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:A}}}}=this;n==null||n.splice(0,4,...e);const{width:l,height:c}=Rd(e);t.left=`${100*(e[0]-o)/s}%`,t.top=`${100*(a-e[3]+A)/a}%`,i===0?(t.width=`${100*l/s}%`,t.height=`${100*c/a}%`):this.setRotation(i)};let Di=sD;var dA,L0,xW,_W;class yW extends Di{constructor(t,n=null){super(t,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});X(this,dA);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:n}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let s=!1;return t.url?(n.addLinkAttributes(i,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(i,t.action),s=!0):t.attachment?(ee(this,dA,xW).call(this,i,t.attachment,t.attachmentDest),s=!0):t.setOCGState?(ee(this,dA,_W).call(this,i,t.setOCGState),s=!0):t.dest?(this._bindLink(i,t.dest),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),s=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container}_bindLink(t,n){t.href=this.linkService.getDestinationHash(n),t.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&ee(this,dA,L0).call(this)}_bindNamedAction(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(n),!1),ee(this,dA,L0).call(this)}_bindJSAction(t,n){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(n.actions)){const a=i.get(s);a&&(t[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:s}}),!1})}t.onclick||(t.onclick=()=>!1),ee(this,dA,L0).call(this)}_bindResetFormAction(t,n){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),ee(this,dA,L0).call(this),!this._fieldObjects){yr('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var u;i==null||i();const{fields:s,refs:a,include:o}=n,A=[];if(s.length!==0||a.length!==0){const h=new Set(a);for(const f of s){const d=this._fieldObjects[f]||[];for(const{id:p}of d)h.add(p)}for(const f of Object.values(this._fieldObjects))for(const d of f)h.has(d.id)===o&&A.push(d)}else for(const h of Object.values(this._fieldObjects))A.push(...h);const l=this.annotationStorage,c=[];for(const h of A){const{id:f}=h;switch(c.push(f),h.type){case"text":{const p=h.defaultValue||"";l.setValue(f,{value:p});break}case"checkbox":case"radiobutton":{const p=h.defaultValue===h.exportValues;l.setValue(f,{value:p});break}case"combobox":case"listbox":{const p=h.defaultValue||"";l.setValue(f,{value:p});break}default:continue}const d=document.querySelector(`[data-element-id="${f}"]`);if(d){if(!Eg.has(d)){yr(`_bindResetFormAction - element not allowed: ${f}`);continue}}else continue;d.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:c,name:"ResetForm"}})),!1}}}dA=new WeakSet,L0=function(){this.container.setAttribute("data-internal-link","")},xW=function(t,n,i=null){t.href=this.linkService.getAnchorUrl(""),n.description&&(t.title=n.description),t.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(n.content,n.filename,i),!1},ee(this,dA,L0).call(this)},_W=function(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(n),!1),ee(this,dA,L0).call(this)};class jle extends Di{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Ug extends Di{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return to.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,i,s){n.includes("mouse")?e.addEventListener(n,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(n,a=>{var o;if(n==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}s&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a)}}))})}_setEventListeners(e,t,n,i){var s,a,o;for(const[A,l]of n)(l==="Action"||(s=this.data.actions)!=null&&s[l])&&((l==="Focus"||l==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,A,l,i),l==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,t,"blur","Blur",null):l==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Vt.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||Hle,s=e.style;let a;const o=2,A=l=>Math.round(10*l)/10;if(this.data.multiLine){const l=Math.abs(this.data.rect[3]-this.data.rect[1]-o),c=Math.round(l/(VF*i))||1,u=l/c;a=Math.min(i,A(u/VF))}else{const l=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(i,A(l/VF))}s.fontSize=`calc(${a}px * var(--scale-factor))`,s.color=Vt.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class Kle extends Ug{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,i){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=n),s.setValue(a.id,{[i]:n})}render(){var i,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let o=a.value||"";const A=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;A&&o.length>A&&(o=o.slice(0,A));let l=a.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;l&&this.data.comb&&(l=l.replaceAll(/\s+/g,""));const c={userValue:o,formattedValue:l,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=l??o,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",l??o),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Eg.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=lb,this._setRequired(n,this.data.required),A&&(n.maxLength=A),n.addEventListener("input",h=>{e.setValue(t,{value:h.target.value}),this.setPropertyOnSiblings(n,"value",h.target.value,"value"),c.formattedValue=null}),n.addEventListener("resetform",h=>{const f=this.data.defaultFieldValue??"";n.value=c.userValue=f,c.formattedValue=null});let u=h=>{const{formattedValue:f}=c;f!=null&&(h.target.value=f),h.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",f=>{var p;if(c.focused)return;const{target:d}=f;c.userValue&&(d.value=c.userValue),c.lastCommittedValue=d.value,c.commitKey=1,(p=this.data.actions)!=null&&p.Focus||(c.focused=!0)}),n.addEventListener("updatefromsandbox",f=>{this.showElementAndHideCanvas(f.target);const d={value(p){c.userValue=p.detail.value??"",e.setValue(t,{value:c.userValue.toString()}),p.target.value=c.userValue},formattedValue(p){const{formattedValue:v}=p.detail;c.formattedValue=v,v!=null&&p.target!==document.activeElement&&(p.target.value=v),e.setValue(t,{formattedValue:v})},selRange(p){p.target.setSelectionRange(...p.detail.selRange)},charLimit:p=>{var b;const{charLimit:v}=p.detail,{target:m}=p;if(v===0){m.removeAttribute("maxLength");return}m.setAttribute("maxLength",v);let x=c.userValue;!x||x.length<=v||(x=x.slice(0,v),m.value=c.userValue=x,e.setValue(t,{value:x}),(b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,willCommit:!0,commitKey:1,selStart:m.selectionStart,selEnd:m.selectionEnd}}))}};this._dispatchEventFromSandbox(d,f)}),n.addEventListener("keydown",f=>{var v;c.commitKey=1;let d=-1;if(f.key==="Escape"?d=0:f.key==="Enter"&&!this.data.multiLine?d=2:f.key==="Tab"&&(c.commitKey=3),d===-1)return;const{value:p}=f.target;c.lastCommittedValue!==p&&(c.lastCommittedValue=p,c.userValue=p,(v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:p,willCommit:!0,commitKey:d,selStart:f.target.selectionStart,selEnd:f.target.selectionEnd}}))});const h=u;u=null,n.addEventListener("blur",f=>{var p,v;if(!c.focused||!f.relatedTarget)return;(p=this.data.actions)!=null&&p.Blur||(c.focused=!1);const{value:d}=f.target;c.userValue=d,c.lastCommittedValue!==d&&((v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:d,willCommit:!0,commitKey:c.commitKey,selStart:f.target.selectionStart,selEnd:f.target.selectionEnd}})),h(f)}),(s=this.data.actions)!=null&&s.Keystroke&&n.addEventListener("beforeinput",f=>{var R;c.lastCommittedValue=null;const{data:d,target:p}=f,{value:v,selectionStart:m,selectionEnd:x}=p;let b=m,T=x;switch(f.inputType){case"deleteWordBackward":{const P=v.substring(0,m).match(/\w*[^\w]*$/);P&&(b-=P[0].length);break}case"deleteWordForward":{const P=v.substring(m).match(/^[^\w]*\w*/);P&&(T+=P[0].length);break}case"deleteContentBackward":m===x&&(b-=1);break;case"deleteContentForward":m===x&&(T+=1);break}f.preventDefault(),(R=this.linkService.eventBus)==null||R.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:v,change:d||"",willCommit:!1,selStart:b,selEnd:T}})}),this._setEventListeners(n,c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],f=>f.target.value)}if(u&&n.addEventListener("blur",u),this.data.comb){const f=(this.data.rect[2]-this.data.rect[0])/A;n.classList.add("comb"),n.style.letterSpacing=`calc(${f}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class zle extends Ug{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class Wle extends Ug{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return Eg.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=lb,s.addEventListener("change",a=>{const{name:o,checked:A}=a.target;for(const l of this._getElementsByName(o,n)){const c=A&&l.exportValue===t.exportValue;l.domElement&&(l.domElement.checked=c),e.setValue(l.id,{value:c})}e.setValue(n,{value:A})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue||"Off";a.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const o={value(A){A.target.checked=A.detail.value!=="Off",e.setValue(n,{value:A.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class bW extends Ug{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(n,{value:i})),i)for(const a of this._getElementsByName(t.fieldName,n))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(Eg.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=lb,s.addEventListener("change",a=>{const{name:o,checked:A}=a.target;for(const l of this._getElementsByName(o,n))e.setValue(l.id,{value:!1});e.setValue(n,{value:A})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue;a.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;s.addEventListener("updatefromsandbox",o=>{const A={value:l=>{const c=a===l.detail.value;for(const u of this._getElementsByName(l.target.name)){const h=c&&u.id===n;u.domElement&&(u.domElement.checked=h),e.setValue(u.id,{value:h})}}};this._dispatchEventFromSandbox(A,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Gle extends yW{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class $le extends Ug{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");Eg.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=lb;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",c=>{const u=this.data.defaultFieldValue;for(const h of i.options)h.selected=h.value===u});for(const c of this.data.options){const u=document.createElement("option");u.textContent=c.displayValue,u.value=c.exportValue,n.value.includes(c.exportValue)&&(u.setAttribute("selected",!0),s=!1),i.append(u)}let a=null;if(s){const c=document.createElement("option");c.value=" ",c.setAttribute("hidden",!0),c.setAttribute("selected",!0),i.prepend(c),a=()=>{c.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const o=c=>{const u=c?"value":"textContent",{options:h,multiple:f}=i;return f?Array.prototype.filter.call(h,d=>d.selected).map(d=>d[u]):h.selectedIndex===-1?null:h[h.selectedIndex][u]};let A=o(!1);const l=c=>{const u=c.target.options;return Array.prototype.map.call(u,h=>({displayValue:h.textContent,exportValue:h.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",c=>{const u={value(h){a==null||a();const f=h.detail.value,d=new Set(Array.isArray(f)?f:[f]);for(const p of i.options)p.selected=d.has(p.value);e.setValue(t,{value:o(!0)}),A=o(!1)},multipleSelection(h){i.multiple=!0},remove(h){const f=i.options,d=h.detail.remove;f[d].selected=!1,i.remove(d),f.length>0&&Array.prototype.findIndex.call(f,v=>v.selected)===-1&&(f[0].selected=!0),e.setValue(t,{value:o(!0),items:l(h)}),A=o(!1)},clear(h){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),A=o(!1)},insert(h){const{index:f,displayValue:d,exportValue:p}=h.detail.insert,v=i.children[f],m=document.createElement("option");m.textContent=d,m.value=p,v?v.before(m):i.append(m),e.setValue(t,{value:o(!0),items:l(h)}),A=o(!1)},items(h){const{items:f}=h.detail;for(;i.length!==0;)i.remove(0);for(const d of f){const{displayValue:p,exportValue:v}=d,m=document.createElement("option");m.textContent=p,m.value=v,i.append(m)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:o(!0),items:l(h)}),A=o(!1)},indices(h){const f=new Set(h.detail.indices);for(const d of h.target.options)d.selected=f.has(d.index);e.setValue(t,{value:o(!0)}),A=o(!1)},editable(h){h.target.disabled=!h.detail.editable}};this._dispatchEventFromSandbox(u,c)}),i.addEventListener("input",c=>{var f;const u=o(!0),h=o(!1);e.setValue(t,{value:u}),c.preventDefault(),(f=this.linkService.eventBus)==null||f.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:A,change:h,changeEx:u,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],c=>c.target.value)):i.addEventListener("input",function(c){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class d3 extends Di{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:Di._hasPopupData(t)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new qle({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const n of this.elements)n.popup=e,n.container.ariaHasPopup="dialog",t.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(n=>`${jR}${n}`).join(",")),this.container}}var W1,g5,m5,G1,Ip,pi,Ju,$1,a_,o_,q1,Zu,Fl,eh,A_,th,l_,kp,Lp,vn,GC,p3,EW,CW,BW,SW,$C,qC,g3;class qle{constructor({container:e,color:t,elements:n,titleObj:i,modificationDate:s,contentsObj:a,richText:o,parent:A,rect:l,parentRect:c,open:u}){X(this,vn);X(this,W1,ee(this,vn,BW).bind(this));X(this,g5,ee(this,vn,g3).bind(this));X(this,m5,ee(this,vn,qC).bind(this));X(this,G1,ee(this,vn,$C).bind(this));X(this,Ip,null);X(this,pi,null);X(this,Ju,null);X(this,$1,null);X(this,a_,null);X(this,o_,null);X(this,q1,null);X(this,Zu,!1);X(this,Fl,null);X(this,eh,null);X(this,A_,null);X(this,th,null);X(this,l_,null);X(this,kp,null);X(this,Lp,!1);var h;V(this,pi,e),V(this,l_,i),V(this,Ju,a),V(this,th,o),V(this,o_,A),V(this,Ip,t),V(this,A_,l),V(this,q1,c),V(this,a_,n),V(this,$1,WR.toDateObject(s)),this.trigger=n.flatMap(f=>f.getElementsToTriggerPopup());for(const f of this.trigger)f.addEventListener("click",g(this,G1)),f.addEventListener("mouseenter",g(this,m5)),f.addEventListener("mouseleave",g(this,g5)),f.classList.add("popupTriggerArea");for(const f of n)(h=f.container)==null||h.addEventListener("keydown",g(this,W1));g(this,pi).hidden=!0,u&&ee(this,vn,$C).call(this)}render(){if(g(this,Fl))return;const e=V(this,Fl,document.createElement("div"));if(e.className="popup",g(this,Ip)){const s=e.style.outlineColor=Vt.makeHexColor(...g(this,Ip));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:e.style.backgroundColor=Vt.makeHexColor(...g(this,Ip).map(o=>Math.floor(.7*(255-o)+o)))}const t=document.createElement("span");t.className="header";const n=document.createElement("h1");if(t.append(n),{dir:n.dir,str:n.textContent}=g(this,l_),e.append(t),g(this,$1)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:g(this,$1).valueOf()})),t.append(s)}const i=g(this,vn,GC);if(i)wW.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(g(this,Ju));e.append(s)}g(this,pi).append(e)}_formatContents({str:e,dir:t}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=t;const i=e.split(/(?:\r\n?|\n)/);for(let s=0,a=i.length;s<a;++s){const o=i[s];n.append(document.createTextNode(o)),s<a-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:e,popupContent:t}){var n;g(this,kp)||V(this,kp,{contentsObj:g(this,Ju),richText:g(this,th)}),e&&V(this,eh,null),t&&(V(this,th,ee(this,vn,CW).call(this,t)),V(this,Ju,null)),(n=g(this,Fl))==null||n.remove(),V(this,Fl,null)}resetEdited(){var e;g(this,kp)&&({contentsObj:Rs(this,Ju)._,richText:Rs(this,th)._}=g(this,kp),V(this,kp,null),(e=g(this,Fl))==null||e.remove(),V(this,Fl,null),V(this,eh,null))}forceHide(){V(this,Lp,this.isVisible),g(this,Lp)&&(g(this,pi).hidden=!0)}maybeShow(){g(this,Lp)&&(g(this,Fl)||ee(this,vn,qC).call(this),V(this,Lp,!1),g(this,pi).hidden=!1)}get isVisible(){return g(this,pi).hidden===!1}}W1=new WeakMap,g5=new WeakMap,m5=new WeakMap,G1=new WeakMap,Ip=new WeakMap,pi=new WeakMap,Ju=new WeakMap,$1=new WeakMap,a_=new WeakMap,o_=new WeakMap,q1=new WeakMap,Zu=new WeakMap,Fl=new WeakMap,eh=new WeakMap,A_=new WeakMap,th=new WeakMap,l_=new WeakMap,kp=new WeakMap,Lp=new WeakMap,vn=new WeakSet,GC=function(){const e=g(this,th),t=g(this,Ju);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&g(this,th).html||null},p3=function(){var e,t,n;return((n=(t=(e=g(this,vn,GC))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.fontSize)||0},EW=function(){var e,t,n;return((n=(t=(e=g(this,vn,GC))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.color)||null},CW=function(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:g(this,vn,EW),fontSize:g(this,vn,p3)?`calc(${g(this,vn,p3)}px * var(--scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:i});return n},BW=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&g(this,Zu))&&ee(this,vn,$C).call(this)},SW=function(){if(g(this,eh)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:i,pageY:s}}}=g(this,o_);let a=!!g(this,q1),o=a?g(this,q1):g(this,A_);for(const d of g(this,a_))if(!o||Vt.intersect(d.data.rect,o)!==null){o=d.data.rect,a=!0;break}const A=Vt.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),c=a?o[2]-o[0]+5:0,u=A[0]+c,h=A[1];V(this,eh,[100*(u-i)/t,100*(h-s)/n]);const{style:f}=g(this,pi);f.left=`${g(this,eh)[0]}%`,f.top=`${g(this,eh)[1]}%`},$C=function(){V(this,Zu,!g(this,Zu)),g(this,Zu)?(ee(this,vn,qC).call(this),g(this,pi).addEventListener("click",g(this,G1)),g(this,pi).addEventListener("keydown",g(this,W1))):(ee(this,vn,g3).call(this),g(this,pi).removeEventListener("click",g(this,G1)),g(this,pi).removeEventListener("keydown",g(this,W1)))},qC=function(){g(this,Fl)||this.render(),this.isVisible?g(this,Zu)&&g(this,pi).classList.add("focused"):(ee(this,vn,SW).call(this),g(this,pi).hidden=!1,g(this,pi).style.zIndex=parseInt(g(this,pi).style.zIndex)+1e3)},g3=function(){g(this,pi).classList.remove("focused"),!(g(this,Zu)||!this.isVisible)&&(g(this,pi).hidden=!0,g(this,pi).style.zIndex=parseInt(g(this,pi).style.zIndex)-1e3)};class TW extends Di{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=wr.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var c_;class Xle extends Di{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});X(this,c_,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:n,height:i}=Rd(t.rect),s=this.svgFactory.create(n,i,!0),a=V(this,c_,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,c_)}addHighlightArea(){this.container.classList.add("highlightArea")}}c_=new WeakMap;var u_;class Yle extends Di{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});X(this,u_,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:n,height:i}=Rd(t.rect),s=this.svgFactory.create(n,i,!0),a=t.borderStyle.width,o=V(this,u_,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",n-a),o.setAttribute("height",i-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,u_)}addHighlightArea(){this.container.classList.add("highlightArea")}}u_=new WeakMap;var h_;class Jle extends Di{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});X(this,h_,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:n,height:i}=Rd(t.rect),s=this.svgFactory.create(n,i,!0),a=t.borderStyle.width,o=V(this,h_,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",n/2),o.setAttribute("cy",i/2),o.setAttribute("rx",n/2-a/2),o.setAttribute("ry",i/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,h_)}addHighlightArea(){this.container.classList.add("highlightArea")}}h_=new WeakMap;var f_;class FW extends Di{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});X(this,f_,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:n,borderStyle:i,popupRef:s}}=this;if(!n)return this.container;const{width:a,height:o}=Rd(t),A=this.svgFactory.create(a,o,!0);let l=[];for(let u=0,h=n.length;u<h;u+=2){const f=n[u]-t[0],d=t[3]-n[u+1];l.push(`${f},${d}`)}l=l.join(" ");const c=V(this,f_,this.svgFactory.createElement(this.svgElementName));return c.setAttribute("points",l),c.setAttribute("stroke-width",i.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),A.append(c),this.container.append(A),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,f_)}addHighlightArea(){this.container.classList.add("highlightArea")}}f_=new WeakMap;class Zle extends FW{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class ece extends Di{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var d_,Pp,p_,m3;class YR extends Di{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});X(this,p_);X(this,d_,null);X(this,Pp,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?wr.HIGHLIGHT:wr.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:n,inkLists:i,borderStyle:s,popupRef:a}}=this,{transform:o,width:A,height:l}=ee(this,p_,m3).call(this,n,t),c=this.svgFactory.create(A,l,!0),u=V(this,d_,this.svgFactory.createElement("svg:g"));c.append(u),u.setAttribute("stroke-width",s.width||1),u.setAttribute("stroke-linecap","round"),u.setAttribute("stroke-linejoin","round"),u.setAttribute("stroke-miterlimit",10),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),u.setAttribute("transform",o);for(let h=0,f=i.length;h<f;h++){const d=this.svgFactory.createElement(this.svgElementName);g(this,Pp).push(d),d.setAttribute("points",i[h].join(",")),u.append(d)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(c),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:n,points:i,rect:s}=t,a=g(this,d_);if(n>=0&&a.setAttribute("stroke-width",n||1),i)for(let o=0,A=g(this,Pp).length;o<A;o++)g(this,Pp)[o].setAttribute("points",i[o].join(","));if(s){const{transform:o,width:A,height:l}=ee(this,p_,m3).call(this,this.data.rotation,s);a.parentElement.setAttribute("viewBox",`0 0 ${A} ${l}`),a.setAttribute("transform",o)}}getElementsToTriggerPopup(){return g(this,Pp)}addHighlightArea(){this.container.classList.add("highlightArea")}}d_=new WeakMap,Pp=new WeakMap,p_=new WeakSet,m3=function(t,n){switch(t){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}};class IW extends Di{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=wr.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class tce extends Di{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class rce extends Di{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class nce extends Di{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class kW extends Di{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=wr.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var g_,m_,v3;class ice extends Di{constructor(t){var i;super(t,{isRenderable:!0});X(this,m_);X(this,g_,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:n}=this;let i;n.hasAppearance||n.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),i.addEventListener("dblclick",ee(this,m_,v3).bind(this)),V(this,g_,i);const{isMac:s}=to.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(s?a.metaKey:a.ctrlKey)&&ee(this,m_,v3).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return g(this,g_)}addHighlightArea(){this.container.classList.add("highlightArea")}}g_=new WeakMap,m_=new WeakSet,v3=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var v_,Rp,Np,w_,Lg,LW,w3;class sce{constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:i,page:s,viewport:a,structTreeLayer:o}){X(this,Lg);X(this,v_,null);X(this,Rp,null);X(this,Np,new Map);X(this,w_,null);this.div=e,V(this,v_,t),V(this,Rp,n),V(this,w_,o||null),this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return g(this,Np).size>0}async render(e){var a;const{annotations:t}=e,n=this.div;_g(n,this.viewport);const i=new Map,s={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new XR,annotationStorage:e.annotationStorage||new $R,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const o of t){if(o.noHTML)continue;const A=o.annotationType===es.POPUP;if(A){const u=i.get(o.id);if(!u)continue;s.elements=u}else{const{width:u,height:h}=Rd(o.rect);if(u<=0||h<=0)continue}s.data=o;const l=Vle.create(s);if(!l.isRenderable)continue;if(!A&&o.popupRef){const u=i.get(o.popupRef);u?u.push(l):i.set(o.popupRef,[l])}const c=l.render();o.hidden&&(c.style.visibility="hidden"),await ee(this,Lg,LW).call(this,c,o.id),l._isEditable&&(g(this,Np).set(l.data.id,l),(a=this._annotationEditorUIManager)==null||a.renderAnnotationElement(l))}ee(this,Lg,w3).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,_g(t,{rotation:e.rotation}),ee(this,Lg,w3).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(g(this,Np).values())}getEditableAnnotation(e){return g(this,Np).get(e)}}v_=new WeakMap,Rp=new WeakMap,Np=new WeakMap,w_=new WeakMap,Lg=new WeakSet,LW=async function(e,t){var a,o;const n=e.firstChild||e,i=n.id=`${jR}${t}`,s=await((a=g(this,w_))==null?void 0:a.getAriaAttributes(i));if(s)for(const[A,l]of s)n.setAttribute(A,l);this.div.append(e),(o=g(this,v_))==null||o.moveElementInDOM(this.div,e,n,!1)},w3=function(){if(!g(this,Rp))return;const e=this.div;for(const[t,n]of g(this,Rp)){const i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;n.className="annotationContent";const{firstChild:s}=i;s?s.nodeName==="CANVAS"?s.replaceWith(n):s.classList.contains("annotationContent")?s.after(n):s.before(n):i.append(n)}g(this,Rp).clear()};const cE=/\r\n?|\n/g;var Il,rA,y_,Dp,nA,$i,PW,RW,NW,XC,Sh,YC,JC,DW,x3,UW;const In=class In extends si{constructor(t){super({...t,name:"freeTextEditor"});X(this,$i);X(this,Il);X(this,rA,"");X(this,y_,`${this.id}-editor`);X(this,Dp,null);X(this,nA);V(this,Il,t.color||In._defaultColor||si._defaultLineColor),V(this,nA,t.fontSize||In._defaultFontSize)}static get _keyboardManager(){const t=In.prototype,n=a=>a.isEmpty(),i=bg.TRANSLATE_SMALL,s=bg.TRANSLATE_BIG;return Br(this,"_keyboardManager",new Ab([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:n}]]))}static initialize(t,n){si.initialize(t,n);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case Dr.FREETEXT_SIZE:In._defaultFontSize=n;break;case Dr.FREETEXT_COLOR:In._defaultColor=n;break}}updateParams(t,n){switch(t){case Dr.FREETEXT_SIZE:ee(this,$i,PW).call(this,n);break;case Dr.FREETEXT_COLOR:ee(this,$i,RW).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Dr.FREETEXT_SIZE,In._defaultFontSize],[Dr.FREETEXT_COLOR,In._defaultColor||si._defaultLineColor]]}get propertiesToUpdate(){return[[Dr.FREETEXT_SIZE,g(this,nA)],[Dr.FREETEXT_COLOR,g(this,Il)]]}_translateEmpty(t,n){this._uiManager.translateSelectedEditors(t,n,!0)}getInitialTranslation(){const t=this.parentScale;return[-In._internalPadding*t,-(In._internalPadding+g(this,nA))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(wr.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),V(this,Dp,new AbortController);const t=this._uiManager.combinedSignal(g(this,Dp));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t})}disableEditMode(){var t;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",g(this,y_)),this._isDraggable=!0,(t=g(this,Dp))==null||t.abort(),V(this,Dp,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var n;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(n=this._initialOptions)!=null&&n.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=g(this,rA),n=V(this,rA,ee(this,$i,NW).call(this).trimEnd());if(t===n)return;const i=s=>{if(V(this,rA,s),!s){this.remove();return}ee(this,$i,JC).call(this),this._uiManager.rebuild(this),ee(this,$i,XC).call(this)};this.addCommands({cmd:()=>{i(n)},undo:()=>{i(t)},mustExec:!1}),ee(this,$i,XC).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){In._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,n;this.width&&(t=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",g(this,y_)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${g(this,nA)}px * var(--scale-factor))`,i.color=g(this,Il),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),pS(this,this.div,["dblclick","keydown"]),this.width){const[s,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[A,l]=this.getInitialTranslation();[A,l]=this.pageTranslationToScreen(A,l);const[c,u]=this.pageDimensions,[h,f]=this.pageTranslation;let d,p;switch(this.rotation){case 0:d=t+(o[0]-h)/c,p=n+this.height-(o[1]-f)/u;break;case 90:d=t+(o[0]-h)/c,p=n-(o[1]-f)/u,[A,l]=[l,-A];break;case 180:d=t-this.width+(o[0]-h)/c,p=n-(o[1]-f)/u,[A,l]=[-A,-l];break;case 270:d=t+(o[0]-h-this.height*u)/c,p=n+(o[1]-f-this.width*c)/u,[A,l]=[-l,A];break}this.setAt(d*s,p*a,A,l)}else this.setAt(t*s,n*a,this.width*s,this.height*a);ee(this,$i,JC).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var d,p,v;const n=t.clipboardData||window.clipboardData,{types:i}=n;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const s=ee(d=In,Sh,x3).call(d,n.getData("text")||"").replaceAll(cE,`
`);if(!s)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!s.includes(`
`)){o.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:A,startOffset:l}=o,c=[],u=[];if(A.nodeType===Node.TEXT_NODE){const m=A.parentElement;if(u.push(A.nodeValue.slice(l).replaceAll(cE,"")),m!==this.editorDiv){let x=c;for(const b of this.editorDiv.childNodes){if(b===m){x=u;continue}x.push(ee(p=In,Sh,YC).call(p,b))}}c.push(A.nodeValue.slice(0,l).replaceAll(cE,""))}else if(A===this.editorDiv){let m=c,x=0;for(const b of this.editorDiv.childNodes)x++===l&&(m=u),m.push(ee(v=In,Sh,YC).call(v,b))}V(this,rA,`${c.join(`
`)}${s}${u.join(`
`)}`),ee(this,$i,JC).call(this);const h=new Range;let f=c.reduce((m,x)=>m+x.length,0);for(const{firstChild:m}of this.editorDiv.childNodes)if(m.nodeType===Node.TEXT_NODE){const x=m.nodeValue.length;if(f<=x){h.setStart(m,f),h.setEnd(m,f);break}f-=x}a.removeAllRanges(),a.addRange(h)}get contentDiv(){return this.editorDiv}static async deserialize(t,n,i){var o;let s=null;if(t instanceof TW){const{data:{defaultAppearanceData:{fontSize:A,fontColor:l},rect:c,rotation:u,id:h,popupRef:f},textContent:d,textPosition:p,parent:{page:{pageNumber:v}}}=t;if(!d||d.length===0)return null;s=t={annotationType:wr.FREETEXT,color:Array.from(l),fontSize:A,value:d.join(`
`),position:p,pageIndex:v-1,rect:c.slice(0),rotation:u,id:h,deleted:!1,popupRef:f}}const a=await super.deserialize(t,n,i);return V(a,nA,t.fontSize),V(a,Il,Vt.makeHexColor(...t.color)),V(a,rA,ee(o=In,Sh,x3).call(o,t.value)),a.annotationElementId=t.id||null,a._initialData=s,a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=In._internalPadding*this.parentScale,i=this.getRect(n,n),s=si._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:g(this,Il)),a={annotationType:wr.FREETEXT,color:s,fontSize:g(this,nA),value:ee(this,$i,DW).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?a:this.annotationElementId&&!ee(this,$i,UW).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(t){const n=super.renderAnnotationElement(t);if(this.deleted)return n;const{style:i}=n;i.fontSize=`calc(${g(this,nA)}px * var(--scale-factor))`,i.color=g(this,Il),n.replaceChildren();for(const a of g(this,rA).split(`
`)){const o=document.createElement("div");o.append(a?document.createTextNode(a):document.createElement("br")),n.append(o)}const s=In._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(s,s),popupContent:g(this,rA)}),n}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Il=new WeakMap,rA=new WeakMap,y_=new WeakMap,Dp=new WeakMap,nA=new WeakMap,$i=new WeakSet,PW=function(t){const n=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-g(this,nA))*this.parentScale),V(this,nA,s),ee(this,$i,XC).call(this)},i=g(this,nA);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dr.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},RW=function(t){const n=s=>{V(this,Il,this.editorDiv.style.color=s)},i=g(this,Il);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dr.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},NW=function(){var i;const t=[];this.editorDiv.normalize();let n=null;for(const s of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(ee(i=In,Sh,YC).call(i,s)),n=s);return t.join(`
`)},XC=function(){const[t,n]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:a}=this,o=a.style.display,A=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",s.div.append(this.div),i=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",A)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/n):(this.width=i.height/t,this.height=i.width/n),this.fixAndSetPosition()},Sh=new WeakSet,YC=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(cE,"")},JC=function(){if(this.editorDiv.replaceChildren(),!!g(this,rA))for(const t of g(this,rA).split(`
`)){const n=document.createElement("div");n.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(n)}},DW=function(){return g(this,rA).replaceAll(""," ")},x3=function(t){return t.replaceAll(" ","")},UW=function(t){const{value:n,fontSize:i,color:s,pageIndex:a}=this._initialData;return this._hasBeenMoved||t.value!==n||t.fontSize!==i||t.color.some((o,A)=>o!==s[A])||t.pageIndex!==a},X(In,Sh),De(In,"_freeTextDefaultContent",""),De(In,"_internalPadding",0),De(In,"_defaultColor",null),De(In,"_defaultFontSize",10),De(In,"_type","freetext"),De(In,"_editorType",wr.FREETEXT);let y3=In;class St{toSVGPath(){Cn("Abstract method `toSVGPath` must be implemented.")}get box(){Cn("Abstract getter `box` must be implemented.")}serialize(e,t){Cn("Abstract method `serialize` must be implemented.")}static _rescale(e,t,n,i,s,a){a||(a=new Float32Array(e.length));for(let o=0,A=e.length;o<A;o+=2)a[o]=t+e[o]*i,a[o+1]=n+e[o+1]*s;return a}static _rescaleAndSwap(e,t,n,i,s,a){a||(a=new Float32Array(e.length));for(let o=0,A=e.length;o<A;o+=2)a[o]=t+e[o+1]*i,a[o+1]=n+e[o]*s;return a}static _translate(e,t,n,i){i||(i=new Float32Array(e.length));for(let s=0,a=e.length;s<a;s+=2)i[s]=t+e[s],i[s+1]=n+e[s+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,n,i,s){switch(s){case 90:return[1-t/n,e/i];case 180:return[1-e/n,1-t/i];case 270:return[t/n,1-e/i];default:return[e/n,t/i]}}static _normalizePagePoint(e,t,n){switch(n){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,n,i,s,a){return[(e+5*n)/6,(t+5*i)/6,(5*n+s)/6,(5*i+a)/6,(n+s)/2,(i+a)/2]}}De(St,"PRECISION",1e-4);var iA,kl,X1,Y1,Dc,Cr,Up,Mp,x_,__,J1,Z1,Xf,b_,v5,w5,cs,cy,MW,OW,QW,HW,VW,jW;const Ru=class Ru{constructor({x:e,y:t},n,i,s,a,o=0){X(this,cs);X(this,iA);X(this,kl,[]);X(this,X1);X(this,Y1);X(this,Dc,[]);X(this,Cr,new Float32Array(18));X(this,Up);X(this,Mp);X(this,x_);X(this,__);X(this,J1);X(this,Z1);X(this,Xf,[]);V(this,iA,n),V(this,Z1,s*i),V(this,Y1,a),g(this,Cr).set([NaN,NaN,NaN,NaN,e,t],6),V(this,X1,o),V(this,__,g(Ru,b_)*i),V(this,x_,g(Ru,w5)*i),V(this,J1,i),g(this,Xf).push(e,t)}isEmpty(){return isNaN(g(this,Cr)[8])}add({x:e,y:t}){var _;V(this,Up,e),V(this,Mp,t);const[n,i,s,a]=g(this,iA);let[o,A,l,c]=g(this,Cr).subarray(8,12);const u=e-l,h=t-c,f=Math.hypot(u,h);if(f<g(this,x_))return!1;const d=f-g(this,__),p=d/f,v=p*u,m=p*h;let x=o,b=A;o=l,A=c,l+=v,c+=m,(_=g(this,Xf))==null||_.push(e,t);const T=-m/d,R=v/d,P=T*g(this,Z1),B=R*g(this,Z1);return g(this,Cr).set(g(this,Cr).subarray(2,8),0),g(this,Cr).set([l+P,c+B],4),g(this,Cr).set(g(this,Cr).subarray(14,18),12),g(this,Cr).set([l-P,c-B],16),isNaN(g(this,Cr)[6])?(g(this,Dc).length===0&&(g(this,Cr).set([o+P,A+B],2),g(this,Dc).push(NaN,NaN,NaN,NaN,(o+P-n)/s,(A+B-i)/a),g(this,Cr).set([o-P,A-B],14),g(this,kl).push(NaN,NaN,NaN,NaN,(o-P-n)/s,(A-B-i)/a)),g(this,Cr).set([x,b,o,A,l,c],6),!this.isEmpty()):(g(this,Cr).set([x,b,o,A,l,c],6),Math.abs(Math.atan2(b-A,x-o)-Math.atan2(m,v))<Math.PI/2?([o,A,l,c]=g(this,Cr).subarray(2,6),g(this,Dc).push(NaN,NaN,NaN,NaN,((o+l)/2-n)/s,((A+c)/2-i)/a),[o,A,x,b]=g(this,Cr).subarray(14,18),g(this,kl).push(NaN,NaN,NaN,NaN,((x+o)/2-n)/s,((b+A)/2-i)/a),!0):([x,b,o,A,l,c]=g(this,Cr).subarray(0,6),g(this,Dc).push(((x+5*o)/6-n)/s,((b+5*A)/6-i)/a,((5*o+l)/6-n)/s,((5*A+c)/6-i)/a,((o+l)/2-n)/s,((A+c)/2-i)/a),[l,c,o,A,x,b]=g(this,Cr).subarray(12,18),g(this,kl).push(((x+5*o)/6-n)/s,((b+5*A)/6-i)/a,((5*o+l)/6-n)/s,((5*A+c)/6-i)/a,((o+l)/2-n)/s,((A+c)/2-i)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=g(this,Dc),t=g(this,kl);if(isNaN(g(this,Cr)[6])&&!this.isEmpty())return ee(this,cs,MW).call(this);const n=[];n.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?n.push(`L${e[i+4]} ${e[i+5]}`):n.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);ee(this,cs,QW).call(this,n);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?n.push(`L${t[i+4]} ${t[i+5]}`):n.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return ee(this,cs,OW).call(this,n),n.join(" ")}newFreeDrawOutline(e,t,n,i,s,a){return new KW(e,t,n,i,s,a)}getOutlines(){var u;const e=g(this,Dc),t=g(this,kl),n=g(this,Cr),[i,s,a,o]=g(this,iA),A=new Float32Array((((u=g(this,Xf))==null?void 0:u.length)??0)+2);for(let h=0,f=A.length-2;h<f;h+=2)A[h]=(g(this,Xf)[h]-i)/a,A[h+1]=(g(this,Xf)[h+1]-s)/o;if(A[A.length-2]=(g(this,Up)-i)/a,A[A.length-1]=(g(this,Mp)-s)/o,isNaN(n[6])&&!this.isEmpty())return ee(this,cs,HW).call(this,A);const l=new Float32Array(g(this,Dc).length+24+g(this,kl).length);let c=e.length;for(let h=0;h<c;h+=2){if(isNaN(e[h])){l[h]=l[h+1]=NaN;continue}l[h]=e[h],l[h+1]=e[h+1]}c=ee(this,cs,jW).call(this,l,c);for(let h=t.length-6;h>=6;h-=6)for(let f=0;f<6;f+=2){if(isNaN(t[h+f])){l[c]=l[c+1]=NaN,c+=2;continue}l[c]=t[h+f],l[c+1]=t[h+f+1],c+=2}return ee(this,cs,VW).call(this,l,c),this.newFreeDrawOutline(l,A,g(this,iA),g(this,J1),g(this,X1),g(this,Y1))}};iA=new WeakMap,kl=new WeakMap,X1=new WeakMap,Y1=new WeakMap,Dc=new WeakMap,Cr=new WeakMap,Up=new WeakMap,Mp=new WeakMap,x_=new WeakMap,__=new WeakMap,J1=new WeakMap,Z1=new WeakMap,Xf=new WeakMap,b_=new WeakMap,v5=new WeakMap,w5=new WeakMap,cs=new WeakSet,cy=function(){const e=g(this,Cr).subarray(4,6),t=g(this,Cr).subarray(16,18),[n,i,s,a]=g(this,iA);return[(g(this,Up)+(e[0]-t[0])/2-n)/s,(g(this,Mp)+(e[1]-t[1])/2-i)/a,(g(this,Up)+(t[0]-e[0])/2-n)/s,(g(this,Mp)+(t[1]-e[1])/2-i)/a]},MW=function(){const[e,t,n,i]=g(this,iA),[s,a,o,A]=ee(this,cs,cy).call(this);return`M${(g(this,Cr)[2]-e)/n} ${(g(this,Cr)[3]-t)/i} L${(g(this,Cr)[4]-e)/n} ${(g(this,Cr)[5]-t)/i} L${s} ${a} L${o} ${A} L${(g(this,Cr)[16]-e)/n} ${(g(this,Cr)[17]-t)/i} L${(g(this,Cr)[14]-e)/n} ${(g(this,Cr)[15]-t)/i} Z`},OW=function(e){const t=g(this,kl);e.push(`L${t[4]} ${t[5]} Z`)},QW=function(e){const[t,n,i,s]=g(this,iA),a=g(this,Cr).subarray(4,6),o=g(this,Cr).subarray(16,18),[A,l,c,u]=ee(this,cs,cy).call(this);e.push(`L${(a[0]-t)/i} ${(a[1]-n)/s} L${A} ${l} L${c} ${u} L${(o[0]-t)/i} ${(o[1]-n)/s}`)},HW=function(e){const t=g(this,Cr),[n,i,s,a]=g(this,iA),[o,A,l,c]=ee(this,cs,cy).call(this),u=new Float32Array(36);return u.set([NaN,NaN,NaN,NaN,(t[2]-n)/s,(t[3]-i)/a,NaN,NaN,NaN,NaN,(t[4]-n)/s,(t[5]-i)/a,NaN,NaN,NaN,NaN,o,A,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,(t[16]-n)/s,(t[17]-i)/a,NaN,NaN,NaN,NaN,(t[14]-n)/s,(t[15]-i)/a],0),this.newFreeDrawOutline(u,e,g(this,iA),g(this,J1),g(this,X1),g(this,Y1))},VW=function(e,t){const n=g(this,kl);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6},jW=function(e,t){const n=g(this,Cr).subarray(4,6),i=g(this,Cr).subarray(16,18),[s,a,o,A]=g(this,iA),[l,c,u,h]=ee(this,cs,cy).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-s)/o,(n[1]-a)/A,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,u,h,NaN,NaN,NaN,NaN,(i[0]-s)/o,(i[1]-a)/A],t),t+=24},X(Ru,b_,8),X(Ru,v5,2),X(Ru,w5,g(Ru,b_)+g(Ru,v5));let vS=Ru;var ev,Op,rh,E_,sA,C_,Ti,y5,zW;class KW extends St{constructor(t,n,i,s,a,o){super();X(this,y5);X(this,ev);X(this,Op,new Float32Array(4));X(this,rh);X(this,E_);X(this,sA);X(this,C_);X(this,Ti);V(this,Ti,t),V(this,sA,n),V(this,ev,i),V(this,C_,s),V(this,rh,a),V(this,E_,o),this.lastPoint=[NaN,NaN],ee(this,y5,zW).call(this,o);const[A,l,c,u]=g(this,Op);for(let h=0,f=t.length;h<f;h+=2)t[h]=(t[h]-A)/c,t[h+1]=(t[h+1]-l)/u;for(let h=0,f=n.length;h<f;h+=2)n[h]=(n[h]-A)/c,n[h+1]=(n[h+1]-l)/u}toSVGPath(){const t=[`M${g(this,Ti)[4]} ${g(this,Ti)[5]}`];for(let n=6,i=g(this,Ti).length;n<i;n+=6){if(isNaN(g(this,Ti)[n])){t.push(`L${g(this,Ti)[n+4]} ${g(this,Ti)[n+5]}`);continue}t.push(`C${g(this,Ti)[n]} ${g(this,Ti)[n+1]} ${g(this,Ti)[n+2]} ${g(this,Ti)[n+3]} ${g(this,Ti)[n+4]} ${g(this,Ti)[n+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,n,i,s],a){const o=i-t,A=s-n;let l,c;switch(a){case 0:l=St._rescale(g(this,Ti),t,s,o,-A),c=St._rescale(g(this,sA),t,s,o,-A);break;case 90:l=St._rescaleAndSwap(g(this,Ti),t,n,o,A),c=St._rescaleAndSwap(g(this,sA),t,n,o,A);break;case 180:l=St._rescale(g(this,Ti),i,n,-o,A),c=St._rescale(g(this,sA),i,n,-o,A);break;case 270:l=St._rescaleAndSwap(g(this,Ti),i,s,-o,-A),c=St._rescaleAndSwap(g(this,sA),i,s,-o,-A);break}return{outline:Array.from(l),points:[Array.from(c)]}}get box(){return g(this,Op)}newOutliner(t,n,i,s,a,o=0){return new vS(t,n,i,s,a,o)}getNewOutline(t,n){const[i,s,a,o]=g(this,Op),[A,l,c,u]=g(this,ev),h=a*c,f=o*u,d=i*c+A,p=s*u+l,v=this.newOutliner({x:g(this,sA)[0]*h+d,y:g(this,sA)[1]*f+p},g(this,ev),g(this,C_),t,g(this,E_),n??g(this,rh));for(let m=2;m<g(this,sA).length;m+=2)v.add({x:g(this,sA)[m]*h+d,y:g(this,sA)[m+1]*f+p});return v.getOutlines()}}ev=new WeakMap,Op=new WeakMap,rh=new WeakMap,E_=new WeakMap,sA=new WeakMap,C_=new WeakMap,Ti=new WeakMap,y5=new WeakSet,zW=function(t){const n=g(this,Ti);let i=n[4],s=n[5],a=i,o=s,A=i,l=s,c=i,u=s;const h=t?Math.max:Math.min;for(let d=6,p=n.length;d<p;d+=6){if(isNaN(n[d]))a=Math.min(a,n[d+4]),o=Math.min(o,n[d+5]),A=Math.max(A,n[d+4]),l=Math.max(l,n[d+5]),u<n[d+5]?(c=n[d+4],u=n[d+5]):u===n[d+5]&&(c=h(c,n[d+4]));else{const v=Vt.bezierBoundingBox(i,s,...n.slice(d,d+6));a=Math.min(a,v[0]),o=Math.min(o,v[1]),A=Math.max(A,v[2]),l=Math.max(l,v[3]),u<v[3]?(c=v[2],u=v[3]):u===v[3]&&(c=h(c,v[2]))}i=n[d+4],s=n[d+5]}const f=g(this,Op);f[0]=a-g(this,rh),f[1]=o-g(this,rh),f[2]=A-a+2*g(this,rh),f[3]=l-o+2*g(this,rh),this.lastPoint=[c,u]};var B_,S_,Yf,Ll,io,WW,ZC,GW,$W,b3;class _3{constructor(e,t=0,n=0,i=!0){X(this,io);X(this,B_);X(this,S_);X(this,Yf,[]);X(this,Ll,[]);let s=1/0,a=-1/0,o=1/0,A=-1/0;const l=10**-4;for(const{x:v,y:m,width:x,height:b}of e){const T=Math.floor((v-t)/l)*l,R=Math.ceil((v+x+t)/l)*l,P=Math.floor((m-t)/l)*l,B=Math.ceil((m+b+t)/l)*l,E=[T,P,B,!0],_=[R,P,B,!1];g(this,Yf).push(E,_),s=Math.min(s,T),a=Math.max(a,R),o=Math.min(o,P),A=Math.max(A,B)}const c=a-s+2*n,u=A-o+2*n,h=s-n,f=o-n,d=g(this,Yf).at(i?-1:-2),p=[d[0],d[2]];for(const v of g(this,Yf)){const[m,x,b]=v;v[0]=(m-h)/c,v[1]=(x-f)/u,v[2]=(b-f)/u}V(this,B_,new Float32Array([h,f,c,u])),V(this,S_,p)}getOutlines(){g(this,Yf).sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of g(this,Yf))t[3]?(e.push(...ee(this,io,b3).call(this,t)),ee(this,io,GW).call(this,t)):(ee(this,io,$W).call(this,t),e.push(...ee(this,io,b3).call(this,t)));return ee(this,io,WW).call(this,e)}}B_=new WeakMap,S_=new WeakMap,Yf=new WeakMap,Ll=new WeakMap,io=new WeakSet,WW=function(e){const t=[],n=new Set;for(const a of e){const[o,A,l]=a;t.push([o,A,a],[o,l,a])}t.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=t.length;a<o;a+=2){const A=t[a][2],l=t[a+1][2];A.push(l),l.push(A),n.add(A),n.add(l)}const i=[];let s;for(;n.size>0;){const a=n.values().next().value;let[o,A,l,c,u]=a;n.delete(a);let h=o,f=A;for(s=[o,l],i.push(s);;){let d;if(n.has(c))d=c;else if(n.has(u))d=u;else break;n.delete(d),[o,A,l,c,u]=d,h!==o&&(s.push(h,f,o,f===A?A:l),h=o),f=f===A?l:A}s.push(h,f)}return new ace(i,g(this,B_),g(this,S_))},ZC=function(e){const t=g(this,Ll);let n=0,i=t.length-1;for(;n<=i;){const s=n+i>>1,a=t[s][0];if(a===e)return s;a<e?n=s+1:i=s-1}return i+1},GW=function([,e,t]){const n=ee(this,io,ZC).call(this,e);g(this,Ll).splice(n,0,[e,t])},$W=function([,e,t]){const n=ee(this,io,ZC).call(this,e);for(let i=n;i<g(this,Ll).length;i++){const[s,a]=g(this,Ll)[i];if(s!==e)break;if(s===e&&a===t){g(this,Ll).splice(i,1);return}}for(let i=n-1;i>=0;i--){const[s,a]=g(this,Ll)[i];if(s!==e)break;if(s===e&&a===t){g(this,Ll).splice(i,1);return}}},b3=function(e){const[t,n,i]=e,s=[[t,n,i]],a=ee(this,io,ZC).call(this,i);for(let o=0;o<a;o++){const[A,l]=g(this,Ll)[o];for(let c=0,u=s.length;c<u;c++){const[,h,f]=s[c];if(!(l<=h||f<=A)){if(h>=A){if(f>l)s[c][1]=l;else{if(u===1)return[];s.splice(c,1),c--,u--}continue}s[c][2]=A,f>l&&s.push([t,l,f])}}}return s};var T_,tv;class ace extends St{constructor(t,n,i){super();X(this,T_);X(this,tv);V(this,tv,t),V(this,T_,n),this.lastPoint=i}toSVGPath(){const t=[];for(const n of g(this,tv)){let[i,s]=n;t.push(`M${i} ${s}`);for(let a=2;a<n.length;a+=2){const o=n[a],A=n[a+1];o===i?(t.push(`V${A}`),s=A):A===s&&(t.push(`H${o}`),i=o)}t.push("Z")}return t.join(" ")}serialize([t,n,i,s],a){const o=[],A=i-t,l=s-n;for(const c of g(this,tv)){const u=new Array(c.length);for(let h=0;h<c.length;h+=2)u[h]=t+c[h]*A,u[h+1]=s-c[h+1]*l;o.push(u)}return o}get box(){return g(this,T_)}get classNamesForOutlining(){return["highlightOutline"]}}T_=new WeakMap,tv=new WeakMap;class E3 extends vS{newFreeDrawOutline(e,t,n,i,s,a){return new oce(e,t,n,i,s,a)}}class oce extends KW{newOutliner(e,t,n,i,s,a=0){return new E3(e,t,n,i,s,a)}}var Pl,Qp,rv,ns,F_,nv,I_,k_,Jf,Rl,iv,L_,gn,C3,B3,S3,P0,qW,mf;const xo=class xo{constructor({editor:e=null,uiManager:t=null}){X(this,gn);X(this,Pl,null);X(this,Qp,null);X(this,rv);X(this,ns,null);X(this,F_,!1);X(this,nv,!1);X(this,I_,null);X(this,k_);X(this,Jf,null);X(this,Rl,null);X(this,iv);var n;e?(V(this,nv,!1),V(this,iv,Dr.HIGHLIGHT_COLOR),V(this,I_,e)):(V(this,nv,!0),V(this,iv,Dr.HIGHLIGHT_DEFAULT_COLOR)),V(this,Rl,(e==null?void 0:e._uiManager)||t),V(this,k_,g(this,Rl)._eventBus),V(this,rv,(e==null?void 0:e.color)||((n=g(this,Rl))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98"),g(xo,L_)||V(xo,L_,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Br(this,"_keyboardManager",new Ab([[["Escape","mac+Escape"],xo.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],xo.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],xo.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],xo.prototype._moveToPrevious],[["Home","mac+Home"],xo.prototype._moveToBeginning],[["End","mac+End"],xo.prototype._moveToEnd]]))}renderButton(){const e=V(this,Pl,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=g(this,Rl)._signal;e.addEventListener("click",ee(this,gn,P0).bind(this),{signal:t}),e.addEventListener("keydown",ee(this,gn,S3).bind(this),{signal:t});const n=V(this,Qp,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=g(this,rv),e.append(n),e}renderMainDropdown(){const e=V(this,ns,ee(this,gn,C3).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===g(this,Pl)){ee(this,gn,P0).call(this,e);return}const t=e.target.getAttribute("data-color");t&&ee(this,gn,B3).call(this,t,e)}_moveToNext(e){var t,n;if(!g(this,gn,mf)){ee(this,gn,P0).call(this,e);return}if(e.target===g(this,Pl)){(t=g(this,ns).firstChild)==null||t.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var t,n;if(e.target===((t=g(this,ns))==null?void 0:t.firstChild)||e.target===g(this,Pl)){g(this,gn,mf)&&this._hideDropdownFromKeyboard();return}g(this,gn,mf)||ee(this,gn,P0).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var t;if(!g(this,gn,mf)){ee(this,gn,P0).call(this,e);return}(t=g(this,ns).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!g(this,gn,mf)){ee(this,gn,P0).call(this,e);return}(t=g(this,ns).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=g(this,ns))==null||e.classList.add("hidden"),(t=g(this,Jf))==null||t.abort(),V(this,Jf,null)}_hideDropdownFromKeyboard(){var e;if(!g(this,nv)){if(!g(this,gn,mf)){(e=g(this,I_))==null||e.unselect();return}this.hideDropdown(),g(this,Pl).focus({preventScroll:!0,focusVisible:g(this,F_)})}}updateColor(e){if(g(this,Qp)&&(g(this,Qp).style.backgroundColor=e),!g(this,ns))return;const t=g(this,Rl).highlightColors.values();for(const n of g(this,ns).children)n.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=g(this,Pl))==null||e.remove(),V(this,Pl,null),V(this,Qp,null),(t=g(this,ns))==null||t.remove(),V(this,ns,null)}};Pl=new WeakMap,Qp=new WeakMap,rv=new WeakMap,ns=new WeakMap,F_=new WeakMap,nv=new WeakMap,I_=new WeakMap,k_=new WeakMap,Jf=new WeakMap,Rl=new WeakMap,iv=new WeakMap,L_=new WeakMap,gn=new WeakSet,C3=function(){const e=document.createElement("div"),t=g(this,Rl)._signal;e.addEventListener("contextmenu",Xl,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,i]of g(this,Rl).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=n,s.setAttribute("data-l10n-id",g(xo,L_)[n]);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=i,s.setAttribute("aria-selected",i===g(this,rv)),s.addEventListener("click",ee(this,gn,B3).bind(this,i),{signal:t}),e.append(s)}return e.addEventListener("keydown",ee(this,gn,S3).bind(this),{signal:t}),e},B3=function(e,t){t.stopPropagation(),g(this,k_).dispatch("switchannotationeditorparams",{source:this,type:g(this,iv),value:e})},S3=function(e){xo._keyboardManager.exec(this,e)},P0=function(e){if(g(this,gn,mf)){this.hideDropdown();return}if(V(this,F_,e.detail===0),g(this,Jf)||(V(this,Jf,new AbortController),window.addEventListener("pointerdown",ee(this,gn,qW).bind(this),{signal:g(this,Rl).combinedSignal(g(this,Jf))})),g(this,ns)){g(this,ns).classList.remove("hidden");return}const t=V(this,ns,ee(this,gn,C3).call(this));g(this,Pl).append(t)},qW=function(e){var t;(t=g(this,ns))!=null&&t.contains(e.target)||this.hideDropdown()},mf=function(){return g(this,ns)&&!g(this,ns).classList.contains("hidden")},X(xo,L_,null);let wS=xo;var sv,P_,nh,Hp,av,Eo,R_,N_,Vp,VA,aA,Us,ov,ih,pa,Av,jA,D_,gr,T3,eB,XW,YW,JW,F3,R0,XA,xm,ZW,tB,uy,eG,tG,rG,nG,iG;const en=class en extends si{constructor(t){super({...t,name:"highlightEditor"});X(this,gr);X(this,sv,null);X(this,P_,0);X(this,nh);X(this,Hp,null);X(this,av,null);X(this,Eo,null);X(this,R_,null);X(this,N_,0);X(this,Vp,null);X(this,VA,null);X(this,aA,null);X(this,Us,!1);X(this,ov,null);X(this,ih);X(this,pa,null);X(this,Av,"");X(this,jA);X(this,D_,"");this.color=t.color||en._defaultColor,V(this,jA,t.thickness||en._defaultThickness),V(this,ih,t.opacity||en._defaultOpacity),V(this,nh,t.boxes||null),V(this,D_,t.methodOfCreation||""),V(this,Av,t.text||""),this._isDraggable=!1,t.highlightId>-1?(V(this,Us,!0),ee(this,gr,eB).call(this,t),ee(this,gr,R0).call(this)):g(this,nh)&&(V(this,sv,t.anchorNode),V(this,P_,t.anchorOffset),V(this,R_,t.focusNode),V(this,N_,t.focusOffset),ee(this,gr,T3).call(this),ee(this,gr,R0).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=en.prototype;return Br(this,"_keyboardManager",new Ab([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:g(this,Us)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:g(this,jA),methodOfCreation:g(this,D_)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,n){var i;si.initialize(t,n),en._defaultColor||(en._defaultColor=((i=n.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,n){switch(t){case Dr.HIGHLIGHT_DEFAULT_COLOR:en._defaultColor=n;break;case Dr.HIGHLIGHT_THICKNESS:en._defaultThickness=n;break}}translateInPage(t,n){}get toolbarPosition(){return g(this,ov)}updateParams(t,n){switch(t){case Dr.HIGHLIGHT_COLOR:ee(this,gr,XW).call(this,n);break;case Dr.HIGHLIGHT_THICKNESS:ee(this,gr,YW).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Dr.HIGHLIGHT_DEFAULT_COLOR,en._defaultColor],[Dr.HIGHLIGHT_THICKNESS,en._defaultThickness]]}get propertiesToUpdate(){return[[Dr.HIGHLIGHT_COLOR,this.color||en._defaultColor],[Dr.HIGHLIGHT_THICKNESS,g(this,jA)||en._defaultThickness],[Dr.HIGHLIGHT_FREE,g(this,Us)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(V(this,av,new wS({editor:this})),t.addColorPicker(g(this,av))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(ee(this,gr,uy).call(this))}getBaseTranslation(){return[0,0]}getRect(t,n){return super.getRect(t,n,ee(this,gr,uy).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){ee(this,gr,F3).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(ee(this,gr,R0).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let n=!1;this.parent&&!t?ee(this,gr,F3).call(this):t&&(ee(this,gr,R0).call(this,t),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),n&&this.select()}rotate(t){var s,a,o;const{drawLayer:n}=this.parent;let i;g(this,Us)?(t=(t-this.rotation+360)%360,i=ee(s=en,XA,xm).call(s,g(this,VA).box,t)):i=ee(a=en,XA,xm).call(a,[this.x,this.y,this.width,this.height],t),n.updateProperties(g(this,aA),{bbox:i,root:{"data-main-rotation":t}}),n.updateProperties(g(this,pa),{bbox:ee(o=en,XA,xm).call(o,g(this,Eo).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();g(this,Av)&&(t.setAttribute("aria-label",g(this,Av)),t.setAttribute("role","mark")),g(this,Us)?t.classList.add("free"):this.div.addEventListener("keydown",ee(this,gr,ZW).bind(this),{signal:this._uiManager._signal});const n=V(this,Vp,document.createElement("div"));t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=g(this,Hp);const[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),pS(this,g(this,Vp),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(g(this,pa),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(g(this,pa),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:ee(this,gr,tB).call(this,!0);break;case 1:case 3:ee(this,gr,tB).call(this,!1);break}}select(){var t;super.select(),g(this,pa)&&((t=this.parent)==null||t.drawLayer.updateProperties(g(this,pa),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),g(this,pa)&&((t=this.parent)==null||t.drawLayer.updateProperties(g(this,pa),{rootClass:{selected:!1}}),g(this,Us)||ee(this,gr,tB).call(this,!1))}get _mustFixPosition(){return!g(this,Us)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(g(this,aA),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(g(this,pa),{rootClass:{hidden:!t}}))}static startHighlighting(t,n,{target:i,x:s,y:a}){const{x:o,y:A,width:l,height:c}=i.getBoundingClientRect(),u=new AbortController,h=t.combinedSignal(u),f=d=>{u.abort(),ee(this,XA,nG).call(this,t,d)};window.addEventListener("blur",f,{signal:h}),window.addEventListener("pointerup",f,{signal:h}),window.addEventListener("pointerdown",pA,{capture:!0,passive:!1,signal:h}),window.addEventListener("contextmenu",Xl,{signal:h}),i.addEventListener("pointermove",ee(this,XA,rG).bind(this,t),{signal:h}),this._freeHighlight=new E3({x:s,y:a},[o,A,l,c],t.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,n,i){var p,v,m,x;let s=null;if(t instanceof IW){const{data:{quadPoints:b,rect:T,rotation:R,id:P,color:B,opacity:E,popupRef:_},parent:{page:{pageNumber:I}}}=t;s=t={annotationType:wr.HIGHLIGHT,color:Array.from(B),opacity:E,quadPoints:b,boxes:null,pageIndex:I-1,rect:T.slice(0),rotation:R,id:P,deleted:!1,popupRef:_}}else if(t instanceof YR){const{data:{inkLists:b,rect:T,rotation:R,id:P,color:B,borderStyle:{rawWidth:E},popupRef:_},parent:{page:{pageNumber:I}}}=t;s=t={annotationType:wr.HIGHLIGHT,color:Array.from(B),thickness:E,inkLists:b,boxes:null,pageIndex:I-1,rect:T.slice(0),rotation:R,id:P,deleted:!1,popupRef:_}}const{color:a,quadPoints:o,inkLists:A,opacity:l}=t,c=await super.deserialize(t,n,i);c.color=Vt.makeHexColor(...a),V(c,ih,l||1),A&&V(c,jA,t.thickness),c.annotationElementId=t.id||null,c._initialData=s;const[u,h]=c.pageDimensions,[f,d]=c.pageTranslation;if(o){const b=V(c,nh,[]);for(let T=0;T<o.length;T+=8)b.push({x:(o[T]-f)/u,y:1-(o[T+1]-d)/h,width:(o[T+2]-o[T])/u,height:(o[T+1]-o[T+5])/h});ee(p=c,gr,T3).call(p),ee(v=c,gr,R0).call(v),c.rotate(c.rotation)}else if(A){V(c,Us,!0);const b=A[0],T={x:b[0]-f,y:h-(b[1]-d)},R=new E3(T,[0,0,u,h],1,g(c,jA)/2,!0,.001);for(let E=0,_=b.length;E<_;E+=2)T.x=b[E]-f,T.y=h-(b[E+1]-d),R.add(T);const{id:P,clipPathId:B}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:c.color,"fill-opacity":c._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:R.toSVGPath()}},!0,!0);ee(m=c,gr,eB).call(m,{highlightOutlines:R.getOutlines(),highlightId:P,clipPathId:B}),ee(x=c,gr,R0).call(x)}return c}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),i=si._colorManager.convert(this.color),s={annotationType:wr.HIGHLIGHT,color:i,opacity:g(this,ih),thickness:g(this,jA),quadPoints:ee(this,gr,eG).call(this),outlines:ee(this,gr,tG).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:ee(this,gr,uy).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!ee(this,gr,iG).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};sv=new WeakMap,P_=new WeakMap,nh=new WeakMap,Hp=new WeakMap,av=new WeakMap,Eo=new WeakMap,R_=new WeakMap,N_=new WeakMap,Vp=new WeakMap,VA=new WeakMap,aA=new WeakMap,Us=new WeakMap,ov=new WeakMap,ih=new WeakMap,pa=new WeakMap,Av=new WeakMap,jA=new WeakMap,D_=new WeakMap,gr=new WeakSet,T3=function(){const t=new _3(g(this,nh),.001);V(this,VA,t.getOutlines()),[this.x,this.y,this.width,this.height]=g(this,VA).box;const n=new _3(g(this,nh),.0025,.001,this._uiManager.direction==="ltr");V(this,Eo,n.getOutlines());const{lastPoint:i}=g(this,Eo);V(this,ov,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},eB=function({highlightOutlines:t,highlightId:n,clipPathId:i}){var u,h;if(V(this,VA,t),V(this,Eo,t.getNewOutline(g(this,jA)/2+1.5,.0025)),n>=0)V(this,aA,n),V(this,Hp,i),this.parent.drawLayer.finalizeDraw(n,{bbox:t.box,path:{d:t.toSVGPath()}}),V(this,pa,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:g(this,Eo).box,path:{d:g(this,Eo).toSVGPath()}},!0));else if(this.parent){const f=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(g(this,aA),{bbox:ee(u=en,XA,xm).call(u,g(this,VA).box,(f-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(g(this,pa),{bbox:ee(h=en,XA,xm).call(h,g(this,Eo).box,f),path:{d:g(this,Eo).toSVGPath()}})}const[a,o,A,l]=t.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=A,this.height=l;break;case 90:{const[f,d]=this.parentDimensions;this.x=o,this.y=1-a,this.width=A*d/f,this.height=l*f/d;break}case 180:this.x=1-a,this.y=1-o,this.width=A,this.height=l;break;case 270:{const[f,d]=this.parentDimensions;this.x=1-o,this.y=a,this.width=A*d/f,this.height=l*f/d;break}}const{lastPoint:c}=g(this,Eo);V(this,ov,[(c[0]-a)/A,(c[1]-o)/l])},XW=function(t){const n=(a,o)=>{var A,l;this.color=a,V(this,ih,o),(A=this.parent)==null||A.drawLayer.updateProperties(g(this,aA),{root:{fill:a,"fill-opacity":o}}),(l=g(this,av))==null||l.updateColor(a)},i=this.color,s=g(this,ih);this.addCommands({cmd:n.bind(this,t,en._defaultOpacity),undo:n.bind(this,i,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dr.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},YW=function(t){const n=g(this,jA),i=s=>{V(this,jA,s),ee(this,gr,JW).call(this,s)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dr.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},JW=function(t){if(!g(this,Us))return;ee(this,gr,eB).call(this,{highlightOutlines:g(this,VA).getNewOutline(t/2)}),this.fixAndSetPosition();const[n,i]=this.parentDimensions;this.setDims(this.width*n,this.height*i)},F3=function(){g(this,aA)===null||!this.parent||(this.parent.drawLayer.remove(g(this,aA)),V(this,aA,null),this.parent.drawLayer.remove(g(this,pa)),V(this,pa,null))},R0=function(t=this.parent){g(this,aA)===null&&({id:Rs(this,aA)._,clipPathId:Rs(this,Hp)._}=t.drawLayer.draw({bbox:g(this,VA).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":g(this,ih)},rootClass:{highlight:!0,free:g(this,Us)},path:{d:g(this,VA).toSVGPath()}},!1,!0),V(this,pa,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:g(this,Us)},bbox:g(this,Eo).box,path:{d:g(this,Eo).toSVGPath()}},g(this,Us))),g(this,Vp)&&(g(this,Vp).style.clipPath=g(this,Hp)))},XA=new WeakSet,xm=function([t,n,i,s],a){switch(a){case 90:return[1-n-s,t,s,i];case 180:return[1-t-i,1-n-s,i,s];case 270:return[n,1-t-i,s,i]}return[t,n,i,s]},ZW=function(t){en._keyboardManager.exec(this,t)},tB=function(t){if(!g(this,sv))return;const n=window.getSelection();t?n.setPosition(g(this,sv),g(this,P_)):n.setPosition(g(this,R_),g(this,N_))},uy=function(){return g(this,Us)?this.rotation:0},eG=function(){if(g(this,Us))return null;const[t,n]=this.pageDimensions,[i,s]=this.pageTranslation,a=g(this,nh),o=new Float32Array(a.length*8);let A=0;for(const{x:l,y:c,width:u,height:h}of a){const f=l*t+i,d=(1-c)*n+s;o[A]=o[A+4]=f,o[A+1]=o[A+3]=d,o[A+2]=o[A+6]=f+u*t,o[A+5]=o[A+7]=d-h*n,A+=8}return o},tG=function(t){return g(this,VA).serialize(t,ee(this,gr,uy).call(this))},rG=function(t,n){this._freeHighlight.add(n)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},nG=function(t,n){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},iG=function(t){const{color:n}=this._initialData;return t.color.some((i,s)=>i!==n[s])},X(en,XA),De(en,"_defaultColor",null),De(en,"_defaultOpacity",1),De(en,"_defaultThickness",12),De(en,"_type","highlight"),De(en,"_editorType",wr.HIGHLIGHT),De(en,"_freeHighlightId",-1),De(en,"_freeHighlight",null),De(en,"_freeHighlightClipId","");let yS=en;var jp;class Ace{constructor(){X(this,jp,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,n]of Object.entries(e))this.updateProperty(t,n)}updateSVGProperty(e,t){g(this,jp)[e]=t}toSVGProperties(){const e=g(this,jp);return V(this,jp,Object.create(null)),{root:e}}reset(){V(this,jp,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){Cn("Not implemented")}}jp=new WeakMap;var oA,lv,ws,Kp,zp,Zf,ed,td,Wp,Gr,k3,L3,P3,hy,sG,rB,fy,_m;const kt=class kt extends si{constructor(t){super(t);X(this,Gr);X(this,oA,null);X(this,lv);De(this,"_drawId",null);V(this,lv,t.mustBeCommitted||!1),t.drawOutlines&&(ee(this,Gr,k3).call(this,t),ee(this,Gr,hy).call(this))}static _mergeSVGProperties(t,n){const i=new Set(Object.keys(t));for(const[s,a]of Object.entries(n))i.has(s)?Object.assign(t[s],a):t[s]=a;return t}static getDefaultDrawingOptions(t){Cn("Not implemented")}static get typesMap(){Cn("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,n){const i=this.typesMap.get(t);i&&this._defaultDrawingOptions.updateProperty(i,n),this._currentParent&&(g(kt,ws).updateProperty(i,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,n){const i=this.constructor.typesMap.get(t);i&&this._updateProperty(t,i,n)}static get defaultPropertiesToUpdate(){const t=[],n=this._defaultDrawingOptions;for(const[i,s]of this.typesMap)t.push([i,n[s]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:n}=this;for(const[i,s]of this.constructor.typesMap)t.push([i,n[s]]);return t}_updateProperty(t,n,i){const s=this._drawingOptions,a=s[n],o=A=>{var c;s.updateProperty(n,A);const l=g(this,oA).updateProperty(n,A);l&&ee(this,Gr,fy).call(this,l),(c=this.parent)==null||c.drawLayer.updateProperties(this._drawId,s.toSVGProperties())};this.addCommands({cmd:o.bind(this,i),undo:o.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,kt._mergeSVGProperties(g(this,oA).getPathResizingSVGProperties(ee(this,Gr,rB).call(this)),{bbox:ee(this,Gr,_m).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,kt._mergeSVGProperties(g(this,oA).getPathResizedSVGProperties(ee(this,Gr,rB).call(this)),{bbox:ee(this,Gr,_m).call(this)}))}_onTranslating(t,n){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:ee(this,Gr,_m).call(this,t,n)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,kt._mergeSVGProperties(g(this,oA).getPathTranslatedSVGProperties(ee(this,Gr,rB).call(this),this.parentDimensions),{bbox:ee(this,Gr,_m).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,g(this,lv)&&(V(this,lv,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){ee(this,Gr,P3).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(ee(this,Gr,hy).call(this),ee(this,Gr,fy).call(this,g(this,oA).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let n=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),ee(this,Gr,P3).call(this)):t&&(this._uiManager.addShouldRescale(this),ee(this,Gr,hy).call(this,t),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),n&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,kt._mergeSVGProperties({bbox:ee(this,Gr,_m).call(this)},g(this,oA).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&ee(this,Gr,fy).call(this,g(this,oA).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;const t=super.render();t.classList.add("draw");const n=document.createElement("div");t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal";const[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),this._uiManager.addShouldRescale(this),this.disableEditing(),t}static createDrawerInstance(t,n,i,s,a){Cn("Not implemented")}static startDrawing(t,n,i,s){var v;const{target:a,offsetX:o,offsetY:A,pointerId:l,pointerType:c}=s;if(g(kt,ed)&&g(kt,ed)!==c)return;const{viewport:{rotation:u}}=t,{width:h,height:f}=a.getBoundingClientRect(),d=V(kt,Kp,new AbortController),p=t.combinedSignal(d);if(g(kt,Zf)||V(kt,Zf,l),g(kt,ed)??V(kt,ed,c),window.addEventListener("pointerup",m=>{var x;g(kt,Zf)===m.pointerId?this._endDraw(m):(x=g(kt,td))==null||x.delete(m.pointerId)},{signal:p}),window.addEventListener("pointercancel",m=>{var x;g(kt,Zf)===m.pointerId?this._currentParent.endDrawingSession():(x=g(kt,td))==null||x.delete(m.pointerId)},{signal:p}),window.addEventListener("pointerdown",m=>{g(kt,ed)===m.pointerType&&((g(kt,td)||V(kt,td,new Set)).add(m.pointerId),g(kt,ws).isCancellable()&&(g(kt,ws).removeLastElement(),g(kt,ws).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:p}),window.addEventListener("contextmenu",Xl,{signal:p}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:p}),a.addEventListener("touchmove",m=>{m.timeStamp===g(kt,Wp)&&pA(m)},{signal:p}),t.toggleDrawing(),(v=n._editorUndoBar)==null||v.hide(),g(kt,ws)){t.drawLayer.updateProperties(this._currentDrawId,g(kt,ws).startNew(o,A,h,f,u));return}n.updateUIForDefaultProperties(this),V(kt,ws,this.createDrawerInstance(o,A,h,f,u)),V(kt,zp,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(g(kt,zp).toSVGProperties(),g(kt,ws).defaultSVGProperties),!0,!1)}static _drawMove(t){var a;if(V(kt,Wp,-1),!g(kt,ws))return;const{offsetX:n,offsetY:i,pointerId:s}=t;if(g(kt,Zf)===s){if(((a=g(kt,td))==null?void 0:a.size)>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,g(kt,ws).add(n,i)),V(kt,Wp,t.timeStamp),pA(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,V(kt,ws,null),V(kt,zp,null),V(kt,ed,null),V(kt,Wp,NaN)),g(kt,Kp)&&(g(kt,Kp).abort(),V(kt,Kp,null),V(kt,Zf,NaN),V(kt,td,null))}static _endDraw(t){const n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),t&&n.drawLayer.updateProperties(this._currentDrawId,g(kt,ws).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const i=g(kt,ws),s=this._currentDrawId,a=i.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(s,i.setLastElement(a))},undo:()=>{n.drawLayer.updateProperties(s,i.removeLastElement())},mustExec:!1,type:Dr.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(Dr.DRAW_STEP),!g(kt,ws).isEmpty()){const{pageDimensions:[i,s],scale:a}=n,o=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:g(kt,ws).getOutlines(i*a,s*a,a,this._INNER_MARGIN),drawingOptions:g(kt,zp),mustBeCommitted:!t});return this._cleanup(!0),o}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,n,i,s,a,o){Cn("Not implemented")}static async deserialize(t,n,i){var u,h;const{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:A}}=n.viewport,l=this.deserializeDraw(o,A,s,a,this._INNER_MARGIN,t),c=await super.deserialize(t,n,i);return c.createDrawingOptions(t),ee(u=c,Gr,k3).call(u,{drawOutlines:l}),ee(h=c,Gr,hy).call(h),c.onScaleChanging(),c.rotate(),c}serializeDraw(t){const[n,i]=this.pageTranslation,[s,a]=this.pageDimensions;return g(this,oA).serialize([n,i,s,a],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};oA=new WeakMap,lv=new WeakMap,ws=new WeakMap,Kp=new WeakMap,zp=new WeakMap,Zf=new WeakMap,ed=new WeakMap,td=new WeakMap,Wp=new WeakMap,Gr=new WeakSet,k3=function({drawOutlines:t,drawId:n,drawingOptions:i}){V(this,oA,t),this._drawingOptions||(this._drawingOptions=i),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,t.defaultProperties)):this._drawId=ee(this,Gr,L3).call(this,t,this.parent),ee(this,Gr,fy).call(this,t.box)},L3=function(t,n){const{id:i}=n.drawLayer.draw(kt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return i},P3=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},hy=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=ee(this,Gr,L3).call(this,g(this,oA),t)}},sG=function([t,n,i,s]){const{parentDimensions:[a,o],rotation:A}=this;switch(A){case 90:return[n,1-t,i*(o/a),s*(a/o)];case 180:return[1-t,1-n,i,s];case 270:return[1-n,t,i*(o/a),s*(a/o)];default:return[t,n,i,s]}},rB=function(){const{x:t,y:n,width:i,height:s,parentDimensions:[a,o],rotation:A}=this;switch(A){case 90:return[1-n,t,i*(a/o),s*(o/a)];case 180:return[1-t,1-n,i,s];case 270:return[n,1-t,i*(a/o),s*(o/a)];default:return[t,n,i,s]}},fy=function(t){if([this.x,this.y,this.width,this.height]=ee(this,Gr,sG).call(this,t),this.div){this.fixAndSetPosition();const[n,i]=this.parentDimensions;this.setDims(this.width*n,this.height*i)}this._onResized()},_m=function(){const{x:t,y:n,width:i,height:s,rotation:a,parentRotation:o,parentDimensions:[A,l]}=this;switch((a*4+o)/90){case 1:return[1-n-s,t,s,i];case 2:return[1-t-i,1-n-s,i,s];case 3:return[n,1-t-i,s,i];case 4:return[t,n-i*(A/l),s*(l/A),i*(A/l)];case 5:return[1-n,t,i*(A/l),s*(l/A)];case 6:return[1-t-s*(l/A),1-n,s*(l/A),i*(A/l)];case 7:return[n-i*(A/l),1-t-s*(l/A),i*(A/l),s*(l/A)];case 8:return[t-i,n-s,i,s];case 9:return[1-n,t-i,s,i];case 10:return[1-t,1-n,i,s];case 11:return[n-s,1-t,s,i];case 12:return[t-s*(l/A),n,s*(l/A),i*(A/l)];case 13:return[1-n-i*(A/l),t-s*(l/A),i*(A/l),s*(l/A)];case 14:return[1-t,1-n-i*(A/l),s*(l/A),i*(A/l)];case 15:return[n,1-t,i*(A/l),s*(l/A)];default:return[t,n,i,s]}},De(kt,"_currentDrawId",-1),De(kt,"_currentParent",null),X(kt,ws,null),X(kt,Kp,null),X(kt,zp,null),X(kt,Zf,NaN),X(kt,ed,null),X(kt,td,null),X(kt,Wp,NaN),De(kt,"_INNER_MARGIN",3);let I3=kt;var Uc,ys,xs,Gp,cv,Ka,Ms,KA,$p,qp,Xp,uv,nB;class lce{constructor(e,t,n,i,s,a){X(this,uv);X(this,Uc,new Float64Array(6));X(this,ys);X(this,xs);X(this,Gp);X(this,cv);X(this,Ka);X(this,Ms,"");X(this,KA,0);X(this,$p,new xS);X(this,qp);X(this,Xp);V(this,qp,n),V(this,Xp,i),V(this,Gp,s),V(this,cv,a),[e,t]=ee(this,uv,nB).call(this,e,t);const o=V(this,ys,[NaN,NaN,NaN,NaN,e,t]);V(this,Ka,[e,t]),V(this,xs,[{line:o,points:g(this,Ka)}]),g(this,Uc).set(o,0)}updateProperty(e,t){e==="stroke-width"&&V(this,cv,t)}isEmpty(){return!g(this,xs)||g(this,xs).length===0}isCancellable(){return g(this,Ka).length<=10}add(e,t){[e,t]=ee(this,uv,nB).call(this,e,t);const[n,i,s,a]=g(this,Uc).subarray(2,6),o=e-s,A=t-a;return Math.hypot(g(this,qp)*o,g(this,Xp)*A)<=2?null:(g(this,Ka).push(e,t),isNaN(n)?(g(this,Uc).set([s,a,e,t],2),g(this,ys).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(g(this,Uc)[0])&&g(this,ys).splice(6,6),g(this,Uc).set([n,i,s,a,e,t],0),g(this,ys).push(...St.createBezierPoints(n,i,s,a,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const n=this.add(e,t);return n||(g(this,Ka).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,n,i,s){V(this,qp,n),V(this,Xp,i),V(this,Gp,s),[e,t]=ee(this,uv,nB).call(this,e,t);const a=V(this,ys,[NaN,NaN,NaN,NaN,e,t]);V(this,Ka,[e,t]);const o=g(this,xs).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),g(this,xs).push({line:a,points:g(this,Ka)}),g(this,Uc).set(a,0),V(this,KA,0),this.toSVGPath(),null}getLastElement(){return g(this,xs).at(-1)}setLastElement(e){return g(this,xs)?(g(this,xs).push(e),V(this,ys,e.line),V(this,Ka,e.points),V(this,KA,0),{path:{d:this.toSVGPath()}}):g(this,$p).setLastElement(e)}removeLastElement(){if(!g(this,xs))return g(this,$p).removeLastElement();g(this,xs).pop(),V(this,Ms,"");for(let e=0,t=g(this,xs).length;e<t;e++){const{line:n,points:i}=g(this,xs)[e];V(this,ys,n),V(this,Ka,i),V(this,KA,0),this.toSVGPath()}return{path:{d:g(this,Ms)}}}toSVGPath(){const e=St.svgRound(g(this,ys)[4]),t=St.svgRound(g(this,ys)[5]);if(g(this,Ka).length===2)return V(this,Ms,`${g(this,Ms)} M ${e} ${t} Z`),g(this,Ms);if(g(this,Ka).length<=6){const i=g(this,Ms).lastIndexOf("M");V(this,Ms,`${g(this,Ms).slice(0,i)} M ${e} ${t}`),V(this,KA,6)}if(g(this,Ka).length===4){const i=St.svgRound(g(this,ys)[10]),s=St.svgRound(g(this,ys)[11]);return V(this,Ms,`${g(this,Ms)} L ${i} ${s}`),V(this,KA,12),g(this,Ms)}const n=[];g(this,KA)===0&&(n.push(`M ${e} ${t}`),V(this,KA,6));for(let i=g(this,KA),s=g(this,ys).length;i<s;i+=6){const[a,o,A,l,c,u]=g(this,ys).slice(i,i+6).map(St.svgRound);n.push(`C${a} ${o} ${A} ${l} ${c} ${u}`)}return V(this,Ms,g(this,Ms)+n.join(" ")),V(this,KA,g(this,ys).length),g(this,Ms)}getOutlines(e,t,n,i){const s=g(this,xs).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),g(this,$p).build(g(this,xs),e,t,n,g(this,Gp),g(this,cv),i),V(this,Uc,null),V(this,ys,null),V(this,xs,null),V(this,Ms,null),g(this,$p)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Uc=new WeakMap,ys=new WeakMap,xs=new WeakMap,Gp=new WeakMap,cv=new WeakMap,Ka=new WeakMap,Ms=new WeakMap,KA=new WeakMap,$p=new WeakMap,qp=new WeakMap,Xp=new WeakMap,uv=new WeakSet,nB=function(e,t){return St._normalizePoint(e,t,g(this,qp),g(this,Xp),g(this,Gp))};var za,U_,M_,AA,Mc,Oc,hv,fv,dv,js,Fu,aG,oG,AG;const aD=class aD extends St{constructor(){super(...arguments);X(this,js);X(this,za);X(this,U_,0);X(this,M_);X(this,AA);X(this,Mc);X(this,Oc);X(this,hv);X(this,fv);X(this,dv)}build(t,n,i,s,a,o,A){V(this,Mc,n),V(this,Oc,i),V(this,hv,s),V(this,fv,a),V(this,dv,o),V(this,M_,A??0),V(this,AA,t),ee(this,js,oG).call(this)}setLastElement(t){return g(this,AA).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return g(this,AA).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:n}of g(this,AA)){if(t.push(`M${St.svgRound(n[4])} ${St.svgRound(n[5])}`),n.length===6){t.push("Z");continue}if(n.length===12){t.push(`L${St.svgRound(n[10])} ${St.svgRound(n[11])}`);continue}for(let i=6,s=n.length;i<s;i+=6){const[a,o,A,l,c,u]=n.subarray(i,i+6).map(St.svgRound);t.push(`C${a} ${o} ${A} ${l} ${c} ${u}`)}}return t.join("")}serialize([t,n,i,s],a){const o=[],A=[],[l,c,u,h]=ee(this,js,aG).call(this);let f,d,p,v,m,x,b,T,R;switch(g(this,fv)){case 0:R=St._rescale,f=t,d=n+s,p=i,v=-s,m=t+l*i,x=n+(1-c-h)*s,b=t+(l+u)*i,T=n+(1-c)*s;break;case 90:R=St._rescaleAndSwap,f=t,d=n,p=i,v=s,m=t+c*i,x=n+l*s,b=t+(c+h)*i,T=n+(l+u)*s;break;case 180:R=St._rescale,f=t+i,d=n,p=-i,v=s,m=t+(1-l-u)*i,x=n+c*s,b=t+(1-l)*i,T=n+(c+h)*s;break;case 270:R=St._rescaleAndSwap,f=t+i,d=n+s,p=-i,v=-s,m=t+(1-c-h)*i,x=n+(1-l-u)*s,b=t+(1-c)*i,T=n+(1-l)*s;break}for(const{line:P,points:B}of g(this,AA))o.push(R(P,f,d,p,v,a?new Array(P.length):null)),A.push(R(B,f,d,p,v,a?new Array(B.length):null));return{lines:o,points:A,rect:[m,x,b,T]}}static deserialize(t,n,i,s,a,{paths:{lines:o,points:A},rotation:l,thickness:c}){const u=[];let h,f,d,p,v;switch(l){case 0:v=St._rescale,h=-t/i,f=n/s+1,d=1/i,p=-1/s;break;case 90:v=St._rescaleAndSwap,h=-n/s,f=-t/i,d=1/s,p=1/i;break;case 180:v=St._rescale,h=t/i+1,f=-n/s,d=-1/i,p=1/s;break;case 270:v=St._rescaleAndSwap,h=n/s+1,f=t/i+1,d=-1/s,p=-1/i;break}if(!o){o=[];for(const x of A){const b=x.length;if(b===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,x[0],x[1]]));continue}if(b===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,x[0],x[1],NaN,NaN,NaN,NaN,x[2],x[3]]));continue}const T=new Float32Array(3*(b-2));o.push(T);let[R,P,B,E]=x.subarray(0,4);T.set([NaN,NaN,NaN,NaN,R,P],0);for(let _=4;_<b;_+=2){const I=x[_],S=x[_+1];T.set(St.createBezierPoints(R,P,B,E,I,S),(_-2)*3),[R,P,B,E]=[B,E,I,S]}}}for(let x=0,b=o.length;x<b;x++)u.push({line:v(o[x].map(T=>T??NaN),h,f,d,p),points:v(A[x].map(T=>T??NaN),h,f,d,p)});const m=new aD;return m.build(u,i,s,1,l,c,a),m}get box(){return g(this,za)}updateProperty(t,n){return t==="stroke-width"?ee(this,js,AG).call(this,n):null}updateParentDimensions([t,n],i){const[s,a]=ee(this,js,Fu).call(this);V(this,Mc,t),V(this,Oc,n),V(this,hv,i);const[o,A]=ee(this,js,Fu).call(this),l=o-s,c=A-a,u=g(this,za);return u[0]-=l,u[1]-=c,u[2]+=2*l,u[3]+=2*c,u}updateRotation(t){return V(this,U_,t),{path:{transform:this.rotationTransform}}}get viewBox(){return g(this,za).map(St.svgRound).join(" ")}get defaultProperties(){const[t,n]=g(this,za);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${St.svgRound(t)} ${St.svgRound(n)}`}}}get rotationTransform(){const[,,t,n]=g(this,za);let i=0,s=0,a=0,o=0,A=0,l=0;switch(g(this,U_)){case 90:s=n/t,a=-t/n,A=t;break;case 180:i=-1,o=-1,A=t,l=n;break;case 270:s=-n/t,a=t/n,l=n;break;default:return""}return`matrix(${i} ${s} ${a} ${o} ${St.svgRound(A)} ${St.svgRound(l)})`}getPathResizingSVGProperties([t,n,i,s]){const[a,o]=ee(this,js,Fu).call(this),[A,l,c,u]=g(this,za);if(Math.abs(c-a)<=St.PRECISION||Math.abs(u-o)<=St.PRECISION){const v=t+i/2-(A+c/2),m=n+s/2-(l+u/2);return{path:{"transform-origin":`${St.svgRound(t)} ${St.svgRound(n)}`,transform:`${this.rotationTransform} translate(${v} ${m})`}}}const h=(i-2*a)/(c-2*a),f=(s-2*o)/(u-2*o),d=c/i,p=u/s;return{path:{"transform-origin":`${St.svgRound(A)} ${St.svgRound(l)}`,transform:`${this.rotationTransform} scale(${d} ${p}) translate(${St.svgRound(a)} ${St.svgRound(o)}) scale(${h} ${f}) translate(${St.svgRound(-a)} ${St.svgRound(-o)})`}}}getPathResizedSVGProperties([t,n,i,s]){const[a,o]=ee(this,js,Fu).call(this),A=g(this,za),[l,c,u,h]=A;if(A[0]=t,A[1]=n,A[2]=i,A[3]=s,Math.abs(u-a)<=St.PRECISION||Math.abs(h-o)<=St.PRECISION){const m=t+i/2-(l+u/2),x=n+s/2-(c+h/2);for(const{line:b,points:T}of g(this,AA))St._translate(b,m,x,b),St._translate(T,m,x,T);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${St.svgRound(t)} ${St.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const f=(i-2*a)/(u-2*a),d=(s-2*o)/(h-2*o),p=-f*(l+a)+t+a,v=-d*(c+o)+n+o;if(f!==1||d!==1||p!==0||v!==0)for(const{line:m,points:x}of g(this,AA))St._rescale(m,p,v,f,d,m),St._rescale(x,p,v,f,d,x);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${St.svgRound(t)} ${St.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,n],i){const[s,a]=i,o=g(this,za),A=t-o[0],l=n-o[1];if(g(this,Mc)===s&&g(this,Oc)===a)for(const{line:c,points:u}of g(this,AA))St._translate(c,A,l,c),St._translate(u,A,l,u);else{const c=g(this,Mc)/s,u=g(this,Oc)/a;V(this,Mc,s),V(this,Oc,a);for(const{line:h,points:f}of g(this,AA))St._rescale(h,A,l,c,u,h),St._rescale(f,A,l,c,u,f);o[2]*=c,o[3]*=u}return o[0]=t,o[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${St.svgRound(t)} ${St.svgRound(n)}`}}}get defaultSVGProperties(){const t=g(this,za);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${St.svgRound(t[0])} ${St.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}};za=new WeakMap,U_=new WeakMap,M_=new WeakMap,AA=new WeakMap,Mc=new WeakMap,Oc=new WeakMap,hv=new WeakMap,fv=new WeakMap,dv=new WeakMap,js=new WeakSet,Fu=function(t=g(this,dv)){const n=g(this,M_)+t/2*g(this,hv);return g(this,fv)%180===0?[n/g(this,Mc),n/g(this,Oc)]:[n/g(this,Oc),n/g(this,Mc)]},aG=function(){const[t,n,i,s]=g(this,za),[a,o]=ee(this,js,Fu).call(this,0);return[t+a,n+o,i-2*a,s-2*o]},oG=function(){const t=V(this,za,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of g(this,AA)){if(s.length<=12){for(let A=4,l=s.length;A<l;A+=6){const[c,u]=s.subarray(A,A+2);t[0]=Math.min(t[0],c),t[1]=Math.min(t[1],u),t[2]=Math.max(t[2],c),t[3]=Math.max(t[3],u)}continue}let a=s[4],o=s[5];for(let A=6,l=s.length;A<l;A+=6){const[c,u,h,f,d,p]=s.subarray(A,A+6);Vt.bezierBoundingBox(a,o,c,u,h,f,d,p,t),a=d,o=p}}const[n,i]=ee(this,js,Fu).call(this);t[0]=Math.min(1,Math.max(0,t[0]-n)),t[1]=Math.min(1,Math.max(0,t[1]-i)),t[2]=Math.min(1,Math.max(0,t[2]+n)),t[3]=Math.min(1,Math.max(0,t[3]+i)),t[2]-=t[0],t[3]-=t[1]},AG=function(t){const[n,i]=ee(this,js,Fu).call(this);V(this,dv,t);const[s,a]=ee(this,js,Fu).call(this),[o,A]=[s-n,a-i],l=g(this,za);return l[0]-=o,l[1]-=A,l[2]+=2*o,l[3]+=2*A,l};let xS=aD;var pv;const oD=class oD extends Ace{constructor(t){super();X(this,pv);V(this,pv,t),super.updateProperties({fill:"none",stroke:si._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,n){t==="stroke-width"&&(n??(n=this["stroke-width"]),n*=g(this,pv).realScale),super.updateSVGProperty(t,n)}clone(){const t=new oD(g(this,pv));return t.updateAll(this),t}};pv=new WeakMap;let R3=oD;var x5,lG;const zm=class zm extends I3{constructor(t){super({...t,name:"inkEditor"});X(this,x5);this._willKeepAspectRatio=!0}static initialize(t,n){si.initialize(t,n),this._defaultDrawingOptions=new R3(n.viewParameters)}static getDefaultDrawingOptions(t){const n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return Br(this,"typesMap",new Map([[Dr.INK_THICKNESS,"stroke-width"],[Dr.INK_COLOR,"stroke"],[Dr.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,n,i,s,a){return new lce(t,n,i,s,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,n,i,s,a,o){return xS.deserialize(t,n,i,s,a,o)}static async deserialize(t,n,i){let s=null;if(t instanceof YR){const{data:{inkLists:o,rect:A,rotation:l,id:c,color:u,opacity:h,borderStyle:{rawWidth:f},popupRef:d},parent:{page:{pageNumber:p}}}=t;s=t={annotationType:wr.INK,color:Array.from(u),thickness:f,opacity:h,paths:{points:o},boxes:null,pageIndex:p-1,rect:A.slice(0),rotation:l,id:c,deleted:!1,popupRef:d}}const a=await super.deserialize(t,n,i);return a.annotationElementId=t.id||null,a._initialData=s,a}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:n,parent:i}=this;n.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(t,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:n,opacity:i}){this._drawingOptions=zm.getDefaultDrawingOptions({stroke:Vt.makeHexColor(...t),"stroke-width":n,"stroke-opacity":i})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:i,rect:s}=this.serializeDraw(t),{_drawingOptions:{stroke:a,"stroke-opacity":o,"stroke-width":A}}=this,l={annotationType:wr.INK,color:si._colorManager.convert(a),opacity:o,thickness:A,paths:{lines:n,points:i},pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?l:this.annotationElementId&&!ee(this,x5,lG).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(t){const{points:n,rect:i}=this.serializeDraw(!1);return t.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:n}),null}};x5=new WeakSet,lG=function(t){const{color:n,thickness:i,opacity:s,pageIndex:a}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||t.color.some((o,A)=>o!==n[A])||t.thickness!==i||t.opacity!==s||t.pageIndex!==a},De(zm,"_type","ink"),De(zm,"_editorType",wr.INK),De(zm,"_defaultDrawingOptions",null);let N3=zm;var ni,Os,rd,sh,nd,gv,Qc,Hc,lA,mv,Yr,dy,py,iB,U3,sB,M3,aB,cG;const g2=class g2 extends si{constructor(t){super({...t,name:"stampEditor"});X(this,Yr);X(this,ni,null);X(this,Os,null);X(this,rd,null);X(this,sh,null);X(this,nd,null);X(this,gv,"");X(this,Qc,null);X(this,Hc,null);X(this,lA,!1);X(this,mv,!1);V(this,sh,t.bitmapUrl),V(this,nd,t.bitmapFile)}static initialize(t,n){si.initialize(t,n)}static get supportedTypes(){return Br(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return Br(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,n){n.pasteEditor(wr.STAMP,{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const n=t.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(t=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:a,height:o}=t||this.copyCanvas(null,null,!0).imageData,A=await i.guess({name:"altText",request:{data:s,width:a,height:o,channels:s.length/(a*o)}});if(!A)throw new Error("No response from the AI service.");if(A.error)throw new Error("Error from the AI service.");if(A.cancel)return null;if(!A.output)throw new Error("No valid response from the AI service.");const l=A.output;return await this.setGuessedAltText(l),n&&!this.hasAltTextData()&&(this.altTextData={alt:l,decorative:!1}),l}remove(){var t;g(this,Os)&&(V(this,ni,null),this._uiManager.imageManager.deleteId(g(this,Os)),(t=g(this,Qc))==null||t.remove(),V(this,Qc,null),g(this,Hc)&&(clearTimeout(g(this,Hc)),V(this,Hc,null))),super.remove()}rebuild(){if(!this.parent){g(this,Os)&&ee(this,Yr,iB).call(this);return}super.rebuild(),this.div!==null&&(g(this,Os)&&g(this,Qc)===null&&ee(this,Yr,iB).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(g(this,rd)||g(this,ni)||g(this,sh)||g(this,nd)||g(this,Os))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,n;if(this.width&&(t=this.x,n=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),g(this,ni)?ee(this,Yr,U3).call(this):ee(this,Yr,iB).call(this),this.width&&!this.annotationElementId){const[i,s]=this.parentDimensions;this.setAt(t*i,n*s,this.width*i,this.height*s)}return this._uiManager.addShouldRescale(this),this.div}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;g(this,Hc)!==null&&clearTimeout(g(this,Hc)),V(this,Hc,setTimeout(()=>{V(this,Hc,null),ee(this,Yr,M3).call(this)},200))}copyCanvas(t,n,i=!1){var f;t||(t=224);const{width:s,height:a}=g(this,ni),o=new Rk;let A=g(this,ni),l=s,c=a,u=null;if(n){if(s>n||a>n){const E=Math.min(n/s,n/a);l=Math.floor(s*E),c=Math.floor(a*E)}u=document.createElement("canvas");const d=u.width=Math.ceil(l*o.sx),p=u.height=Math.ceil(c*o.sy);g(this,lA)||(A=ee(this,Yr,sB).call(this,d,p));const v=u.getContext("2d");v.filter=this._uiManager.hcmFilter;let m="white",x="#cfcfd8";this._uiManager.hcmFilter!=="none"?x="black":(f=window.matchMedia)!=null&&f.call(window,"(prefers-color-scheme: dark)").matches&&(m="#8f8f9d",x="#42414d");const b=15,T=b*o.sx,R=b*o.sy,P=new OffscreenCanvas(T*2,R*2),B=P.getContext("2d");B.fillStyle=m,B.fillRect(0,0,T*2,R*2),B.fillStyle=x,B.fillRect(0,0,T,R),B.fillRect(T,R,T,R),v.fillStyle=v.createPattern(P,"repeat"),v.fillRect(0,0,d,p),v.drawImage(A,0,0,A.width,A.height,0,0,d,p)}let h=null;if(i){let d,p;if(o.symmetric&&A.width<t&&A.height<t)d=A.width,p=A.height;else if(A=g(this,ni),s>t||a>t){const x=Math.min(t/s,t/a);d=Math.floor(s*x),p=Math.floor(a*x),g(this,lA)||(A=ee(this,Yr,sB).call(this,d,p))}const m=new OffscreenCanvas(d,p).getContext("2d",{willReadFrequently:!0});m.drawImage(A,0,0,A.width,A.height,0,0,d,p),h={width:d,height:p,data:m.getImageData(0,0,d,p).data}}return{canvas:u,width:l,height:c,imageData:h}}getImageForAltText(){return g(this,Qc)}static async deserialize(t,n,i){var p;let s=null;if(t instanceof kW){const{data:{rect:v,rotation:m,id:x,structParent:b,popupRef:T},container:R,parent:{page:{pageNumber:P}}}=t,B=R.querySelector("canvas"),E=i.imageManager.getFromCanvas(R.id,B);B.remove();const _=((p=await n._structTree.getAriaAttributes(`${jR}${x}`))==null?void 0:p.get("aria-label"))||"";s=t={annotationType:wr.STAMP,bitmapId:E.id,bitmap:E.bitmap,pageIndex:P-1,rect:v.slice(0),rotation:m,id:x,deleted:!1,accessibilityData:{decorative:!1,altText:_},isSvg:!1,structParent:b,popupRef:T}}const a=await super.deserialize(t,n,i),{rect:o,bitmap:A,bitmapUrl:l,bitmapId:c,isSvg:u,accessibilityData:h}=t;c&&i.imageManager.isValidId(c)?(V(a,Os,c),A&&V(a,ni,A)):V(a,sh,l),V(a,lA,u);const[f,d]=a.pageDimensions;return a.width=(o[2]-o[0])/f,a.height=(o[3]-o[1])/d,a.annotationElementId=t.id||null,h&&(a.altTextData=h),a._initialData=s,V(a,mv,!!s),a}serialize(t=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i={annotationType:wr.STAMP,bitmapId:g(this,Os),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:g(this,lA),structTreeParentId:this._structTreeParentId};if(t)return i.bitmapUrl=ee(this,Yr,aB).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i;const{decorative:s,altText:a}=this.serializeAltText(!1);if(!s&&a&&(i.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const A=ee(this,Yr,cG).call(this,i);if(A.isSame)return null;A.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,n===null)return i;n.stamps||(n.stamps=new Map);const o=g(this,lA)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!n.stamps.has(g(this,Os)))n.stamps.set(g(this,Os),{area:o,serialized:i}),i.bitmap=ee(this,Yr,aB).call(this,!1);else if(g(this,lA)){const A=n.stamps.get(g(this,Os));o>A.area&&(A.area=o,A.serialized.bitmap.close(),A.serialized.bitmap=ee(this,Yr,aB).call(this,!1))}return i}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}};ni=new WeakMap,Os=new WeakMap,rd=new WeakMap,sh=new WeakMap,nd=new WeakMap,gv=new WeakMap,Qc=new WeakMap,Hc=new WeakMap,lA=new WeakMap,mv=new WeakMap,Yr=new WeakSet,dy=function(t,n=!1){if(!t){this.remove();return}V(this,ni,t.bitmap),n||(V(this,Os,t.id),V(this,lA,t.isSvg)),t.file&&V(this,gv,t.file.name),ee(this,Yr,U3).call(this)},py=function(){if(V(this,rd,null),this._uiManager.enableWaiting(!1),!!g(this,Qc)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&g(this,ni)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&g(this,ni)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},iB=function(){if(g(this,Os)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(g(this,Os)).then(i=>ee(this,Yr,dy).call(this,i,!0)).finally(()=>ee(this,Yr,py).call(this));return}if(g(this,sh)){const i=g(this,sh);V(this,sh,null),this._uiManager.enableWaiting(!0),V(this,rd,this._uiManager.imageManager.getFromUrl(i).then(s=>ee(this,Yr,dy).call(this,s)).finally(()=>ee(this,Yr,py).call(this)));return}if(g(this,nd)){const i=g(this,nd);V(this,nd,null),this._uiManager.enableWaiting(!0),V(this,rd,this._uiManager.imageManager.getFromFile(i).then(s=>ee(this,Yr,dy).call(this,s)).finally(()=>ee(this,Yr,py).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=g2.supportedTypesStr;const n=this._uiManager._signal;V(this,rd,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),ee(this,Yr,dy).call(this,s)}i()},{signal:n}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:n})}).finally(()=>ee(this,Yr,py).call(this))),t.click()},U3=function(){var u;const{div:t}=this;let{width:n,height:i}=g(this,ni);const[s,a]=this.pageDimensions,o=.75;if(this.width)n=this.width*s,i=this.height*a;else if(n>o*s||i>o*a){const h=Math.min(o*s/n,o*a/i);n*=h,i*=h}const[A,l]=this.parentDimensions;this.setDims(n*A/s,i*l/a),this._uiManager.enableWaiting(!1);const c=V(this,Qc,document.createElement("canvas"));c.setAttribute("role","img"),this.addContainer(c),this.width=n/s,this.height=i/a,(u=this._initialOptions)!=null&&u.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),ee(this,Yr,M3).call(this),g(this,mv)||(this.parent.addUndoableEditor(this),V(this,mv,!0)),this._reportTelemetry({action:"inserted_image"}),g(this,gv)&&c.setAttribute("aria-label",g(this,gv))},sB=function(t,n){const{width:i,height:s}=g(this,ni);let a=i,o=s,A=g(this,ni);for(;a>2*t||o>2*n;){const l=a,c=o;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*n&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const u=new OffscreenCanvas(a,o);u.getContext("2d").drawImage(A,0,0,l,c,0,0,a,o),A=u.transferToImageBitmap()}return A},M3=function(){const[t,n]=this.parentDimensions,{width:i,height:s}=this,a=new Rk,o=Math.ceil(i*t*a.sx),A=Math.ceil(s*n*a.sy),l=g(this,Qc);if(!l||l.width===o&&l.height===A)return;l.width=o,l.height=A;const c=g(this,lA)?g(this,ni):ee(this,Yr,sB).call(this,o,A),u=l.getContext("2d");u.filter=this._uiManager.hcmFilter,u.drawImage(c,0,0,c.width,c.height,0,0,o,A)},aB=function(t){if(t){if(g(this,lA)){const s=this._uiManager.imageManager.getSvgUrl(g(this,Os));if(s)return s}const n=document.createElement("canvas");return{width:n.width,height:n.height}=g(this,ni),n.getContext("2d").drawImage(g(this,ni),0,0),n.toDataURL()}if(g(this,lA)){const[n,i]=this.pageDimensions,s=Math.round(this.width*n*Gd.PDF_TO_CSS_UNITS),a=Math.round(this.height*i*Gd.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(s,a);return o.getContext("2d").drawImage(g(this,ni),0,0,g(this,ni).width,g(this,ni).height,0,0,s,a),o.transferToImageBitmap()}return structuredClone(g(this,ni))},cG=function(t){var o;const{pageIndex:n,accessibilityData:{altText:i}}=this._initialData,s=t.pageIndex===n,a=(((o=t.accessibilityData)==null?void 0:o.alt)||"")===i;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&s&&a,isSameAltText:a}},De(g2,"_type","stamp"),De(g2,"_editorType",wr.STAMP);let D3=g2;var Yp,vv,Vc,id,ah,zA,sd,wv,Jp,Nl,oh,ga,Ah,Ot,ad,Wn,uG,yc,Q3,H3,oB;const _l=class _l{constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:i,accessibilityManager:s,annotationLayer:a,drawLayer:o,textLayer:A,viewport:l,l10n:c}){X(this,Wn);X(this,Yp);X(this,vv,!1);X(this,Vc,null);X(this,id,null);X(this,ah,null);X(this,zA,new Map);X(this,sd,!1);X(this,wv,!1);X(this,Jp,!1);X(this,Nl,null);X(this,oh,null);X(this,ga,null);X(this,Ah,null);X(this,Ot);const u=[...g(_l,ad).values()];if(!_l._initialized){_l._initialized=!0;for(const h of u)h.initialize(c,e)}e.registerEditorTypes(u),V(this,Ot,e),this.pageIndex=t,this.div=n,V(this,Yp,s),V(this,Vc,a),this.viewport=l,V(this,ga,A),this.drawLayer=o,this._structTree=i,g(this,Ot).addLayer(this)}get isEmpty(){return g(this,zA).size===0}get isInvisible(){return this.isEmpty&&g(this,Ot).getMode()===wr.NONE}updateToolbar(e){g(this,Ot).updateToolbar(e)}updateMode(e=g(this,Ot).getMode()){switch(ee(this,Wn,oB).call(this),e){case wr.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case wr.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case wr.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of g(_l,ad).values())t.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=g(this,ga))==null?void 0:t.div)}setEditingState(e){g(this,Ot).setEditingState(e)}addCommands(e){g(this,Ot).addCommands(e)}cleanUndoStack(e){g(this,Ot).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=g(this,Vc))==null||t.div.classList.toggle("disabled",!e)}async enable(){V(this,Jp,!0),this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const n of g(this,zA).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(g(this,Ot).removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!g(this,Vc)){V(this,Jp,!1);return}const t=g(this,Vc).getEditableAnnotations();for(const n of t){if(n.hide(),g(this,Ot).isDeletedAnnotationElement(n.data.id)||e.has(n.data.id))continue;const i=await this.deserialize(n);i&&(this.addOrRebuild(i),i.enableEditing())}V(this,Jp,!1)}disable(){var i;V(this,wv,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const s of g(this,zA).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else t.set(s.annotationElementId,s);(i=this.getEditableAnnotation(s.annotationElementId))==null||i.show(),s.remove()}if(g(this,Vc)){const s=g(this,Vc).getEditableAnnotations();for(const a of s){const{id:o}=a.data;if(g(this,Ot).isDeletedAnnotationElement(o))continue;let A=t.get(o);if(A){A.resetAnnotationElement(a),A.show(!1),a.show();continue}A=e.get(o),A&&(g(this,Ot).addChangedExistingAnnotation(A),A.renderAnnotationElement(a)&&A.show(!1)),a.show()}}ee(this,Wn,oB).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const s of g(_l,ad).values())n.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),V(this,wv,!1)}getEditableAnnotation(e){var t;return((t=g(this,Vc))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){g(this,Ot).getActive()!==e&&g(this,Ot).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=g(this,ga))!=null&&e.div&&!g(this,Ah)){V(this,Ah,new AbortController);const t=g(this,Ot).combinedSignal(g(this,Ah));g(this,ga).div.addEventListener("pointerdown",ee(this,Wn,uG).bind(this),{signal:t}),g(this,ga).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=g(this,ga))!=null&&e.div&&g(this,Ah)&&(g(this,Ah).abort(),V(this,Ah,null),g(this,ga).div.classList.remove("highlighting"))}enableClick(){if(g(this,id))return;V(this,id,new AbortController);const e=g(this,Ot).combinedSignal(g(this,id));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=g(this,id))==null||e.abort(),V(this,id,null)}attach(e){g(this,zA).set(e.id,e);const{annotationElementId:t}=e;t&&g(this,Ot).isDeletedAnnotationElement(t)&&g(this,Ot).removeDeletedAnnotationElement(e)}detach(e){var t;g(this,zA).delete(e.id),(t=g(this,Yp))==null||t.removePointerInTextLayer(e.contentDiv),!g(this,wv)&&e.annotationElementId&&g(this,Ot).addDeletedAnnotationElement(e)}remove(e){this.detach(e),g(this,Ot).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(g(this,Ot).addDeletedAnnotationElement(e.annotationElementId),si.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),g(this,Ot).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!g(this,Jp)),g(this,Ot).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!g(this,ah)&&(e._focusEventsAllowed=!1,V(this,ah,setTimeout(()=>{V(this,ah,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:g(this,Ot)._signal}),t.focus())},0))),e._structTreeParentId=(n=g(this,Yp))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getNextId(){return g(this,Ot).getId()}combinedSignal(e){return g(this,Ot).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=g(this,Wn,yc))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){g(this,Ot).updateToolbar(e),g(this,Ot).updateMode(e);const{offsetX:n,offsetY:i}=ee(this,Wn,H3).call(this),s=this.getNextId(),a=ee(this,Wn,Q3).call(this,{parent:this,id:s,x:n,y:i,uiManager:g(this,Ot),isCentered:!0,...t});a&&this.add(a)}async deserialize(e){var t;return await((t=g(_l,ad).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,g(this,Ot)))||null}createAndAddNewEditor(e,t,n={}){const i=this.getNextId(),s=ee(this,Wn,Q3).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:g(this,Ot),isCentered:t,...n});return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor(ee(this,Wn,H3).call(this),!0)}setSelected(e){g(this,Ot).setSelected(e)}toggleSelected(e){g(this,Ot).toggleSelected(e)}unselect(e){g(this,Ot).unselect(e)}pointerup(e){var n;const{isMac:t}=to.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&g(this,sd)&&(V(this,sd,!1),!((n=g(this,Wn,yc))!=null&&n.isDrawer&&g(this,Wn,yc).supportMultipleDrawings))){if(!g(this,vv)){V(this,vv,!0);return}if(g(this,Ot).getMode()===wr.STAMP){g(this,Ot).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){var i;if(g(this,Ot).getMode()===wr.HIGHLIGHT&&this.enableTextSelection(),g(this,sd)){V(this,sd,!1);return}const{isMac:t}=to.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(V(this,sd,!0),(i=g(this,Wn,yc))!=null&&i.isDrawer){this.startDrawingSession(e);return}const n=g(this,Ot).getActive();V(this,vv,!n||n.isEmpty())}startDrawingSession(e){if(this.div.focus(),g(this,Nl)){g(this,Wn,yc).startDrawing(this,g(this,Ot),!1,e);return}g(this,Ot).setCurrentDrawingSession(this),V(this,Nl,new AbortController);const t=g(this,Ot).combinedSignal(g(this,Nl));this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(V(this,oh,null),this.commitOrRemove())},{signal:t}),g(this,Wn,yc).startDrawing(this,g(this,Ot),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&V(this,oh,t);return}g(this,oh)&&setTimeout(()=>{var t;(t=g(this,oh))==null||t.focus(),V(this,oh,null)},0)}endDrawingSession(e=!1){return g(this,Nl)?(g(this,Ot).setCurrentDrawingSession(null),g(this,Nl).abort(),V(this,Nl,null),V(this,oh,null),g(this,Wn,yc).endDrawing(e)):null}findNewParent(e,t,n){const i=g(this,Ot).findParent(t,n);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return g(this,Nl)?(this.endDrawingSession(),!0):!1}onScaleChanging(){g(this,Nl)&&g(this,Wn,yc).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=g(this,Ot).getActive())==null?void 0:e.parent)===this&&(g(this,Ot).commitOrRemove(),g(this,Ot).setActiveEditor(null)),g(this,ah)&&(clearTimeout(g(this,ah)),V(this,ah,null));for(const n of g(this,zA).values())(t=g(this,Yp))==null||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,g(this,zA).clear(),g(this,Ot).removeLayer(this)}render({viewport:e}){this.viewport=e,_g(this.div,e);for(const t of g(this,Ot).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){g(this,Ot).commitOrRemove(),ee(this,Wn,oB).call(this);const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,_g(this.div,{rotation:n}),t!==n)for(const i of g(this,zA).values())i.rotate(n)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return g(this,Ot).viewParameters.realScale}};Yp=new WeakMap,vv=new WeakMap,Vc=new WeakMap,id=new WeakMap,ah=new WeakMap,zA=new WeakMap,sd=new WeakMap,wv=new WeakMap,Jp=new WeakMap,Nl=new WeakMap,oh=new WeakMap,ga=new WeakMap,Ah=new WeakMap,Ot=new WeakMap,ad=new WeakMap,Wn=new WeakSet,uG=function(e){g(this,Ot).unselectAll();const{target:t}=e;if(t===g(this,ga).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&g(this,ga).div.contains(t)){const{isMac:n}=to.platform;if(e.button!==0||e.ctrlKey&&n)return;g(this,Ot).showAllEditors("highlight",!0,!0),g(this,ga).div.classList.add("free"),this.toggleDrawing(),yS.startHighlighting(this,g(this,Ot).direction==="ltr",{target:g(this,ga).div,x:e.x,y:e.y}),g(this,ga).div.addEventListener("pointerup",()=>{g(this,ga).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:g(this,Ot)._signal}),e.preventDefault()}},yc=function(){return g(_l,ad).get(g(this,Ot).getMode())},Q3=function(e){const t=g(this,Wn,yc);return t?new t.prototype.constructor(e):null},H3=function(){const{x:e,y:t,width:n,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,e),a=Math.max(0,t),o=Math.min(window.innerWidth,e+n),A=Math.min(window.innerHeight,t+i),l=(s+o)/2-e,c=(a+A)/2-t,[u,h]=this.viewport.rotation%180===0?[l,c]:[c,l];return{offsetX:u,offsetY:h}},oB=function(){for(const e of g(this,zA).values())e.isEmpty()&&e.remove()},De(_l,"_initialized",!1),X(_l,ad,new Map([y3,N3,D3,yS].map(e=>[e._editorType,e])));let O3=_l;var Dl,O_,Wa,Zp,_5,hG,ru,j3,fG,K3;const ha=class ha{constructor({pageIndex:e}){X(this,ru);X(this,Dl,null);X(this,O_,0);X(this,Wa,new Map);X(this,Zp,new Map);this.pageIndex=e}setParent(e){if(!g(this,Dl)){V(this,Dl,e);return}if(g(this,Dl)!==e){if(g(this,Wa).size>0)for(const t of g(this,Wa).values())t.remove(),e.append(t);V(this,Dl,e)}}static get _svgFactory(){return Br(this,"_svgFactory",new XR)}draw(e,t=!1,n=!1){const i=Rs(this,O_)._++,s=ee(this,ru,j3).call(this),a=ha._svgFactory.createElement("defs");s.append(a);const o=ha._svgFactory.createElement("path");a.append(o);const A=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",A),o.setAttribute("vector-effect","non-scaling-stroke"),t&&g(this,Zp).set(i,o);const l=n?ee(this,ru,fG).call(this,a,A):null,c=ha._svgFactory.createElement("use");return s.append(c),c.setAttribute("href",`#${A}`),this.updateProperties(s,e),g(this,Wa).set(i,s),{id:i,clipPathId:`url(#${l})`}}drawOutline(e,t){const n=Rs(this,O_)._++,i=ee(this,ru,j3).call(this),s=ha._svgFactory.createElement("defs");i.append(s);const a=ha._svgFactory.createElement("path");s.append(a);const o=`path_p${this.pageIndex}_${n}`;a.setAttribute("id",o),a.setAttribute("vector-effect","non-scaling-stroke");let A;if(t){const u=ha._svgFactory.createElement("mask");s.append(u),A=`mask_p${this.pageIndex}_${n}`,u.setAttribute("id",A),u.setAttribute("maskUnits","objectBoundingBox");const h=ha._svgFactory.createElement("rect");u.append(h),h.setAttribute("width","1"),h.setAttribute("height","1"),h.setAttribute("fill","white");const f=ha._svgFactory.createElement("use");u.append(f),f.setAttribute("href",`#${o}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}const l=ha._svgFactory.createElement("use");i.append(l),l.setAttribute("href",`#${o}`),A&&l.setAttribute("mask",`url(#${A})`);const c=l.cloneNode();return i.append(c),l.classList.add("mainOutline"),c.classList.add("secondaryOutline"),this.updateProperties(i,e),g(this,Wa).set(n,i),n}finalizeDraw(e,t){g(this,Zp).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var A;if(!t)return;const{root:n,bbox:i,rootClass:s,path:a}=t,o=typeof e=="number"?g(this,Wa).get(e):e;if(o){if(n&&ee(this,ru,K3).call(this,o,n),i&&ee(A=ha,_5,hG).call(A,o,i),s){const{classList:l}=o;for(const[c,u]of Object.entries(s))l.toggle(c,u)}if(a){const c=o.firstChild.firstChild;ee(this,ru,K3).call(this,c,a)}}}updateParent(e,t){if(t===this)return;const n=g(this,Wa).get(e);n&&(g(t,Dl).append(n),g(this,Wa).delete(e),g(t,Wa).set(e,n))}remove(e){g(this,Zp).delete(e),g(this,Dl)!==null&&(g(this,Wa).get(e).remove(),g(this,Wa).delete(e))}destroy(){V(this,Dl,null);for(const e of g(this,Wa).values())e.remove();g(this,Wa).clear(),g(this,Zp).clear()}};Dl=new WeakMap,O_=new WeakMap,Wa=new WeakMap,Zp=new WeakMap,_5=new WeakSet,hG=function(e,[t,n,i,s]){const{style:a}=e;a.top=`${100*n}%`,a.left=`${100*t}%`,a.width=`${100*i}%`,a.height=`${100*s}%`},ru=new WeakSet,j3=function(){const e=ha._svgFactory.create(1,1,!0);return g(this,Dl).append(e),e.setAttribute("aria-hidden",!0),e},fG=function(e,t){const n=ha._svgFactory.createElement("clipPath");e.append(n);const i=`clip_${t}`;n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const s=ha._svgFactory.createElement("use");return n.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i},K3=function(e,t){for(const[n,i]of Object.entries(t))i===null?e.removeAttribute(n):e.setAttribute(n,i)},X(ha,_5);let V3=ha;globalThis.pdfjsTestingUtils={HighlightOutliner:_3};ar.AbortException;ar.AnnotationEditorLayer;ar.AnnotationEditorParamsType;ar.AnnotationEditorType;ar.AnnotationEditorUIManager;ar.AnnotationLayer;ar.AnnotationMode;ar.ColorPicker;ar.DOMSVGFactory;ar.DrawLayer;ar.FeatureTest;var cce=ar.GlobalWorkerOptions;ar.ImageKind;ar.InvalidPDFException;ar.MissingPDFException;ar.OPS;ar.OutputScale;ar.PDFDataRangeTransport;ar.PDFDateString;ar.PDFWorker;ar.PasswordResponses;ar.PermissionFlag;ar.PixelsPerInch;ar.RenderingCancelledException;ar.TextLayer;ar.TouchManager;ar.UnexpectedResponseException;ar.Util;ar.VerbosityLevel;ar.XfaLayer;ar.build;ar.createValidAbsoluteUrl;ar.fetchData;var uce=ar.getDocument;ar.getFilenameFromUrl;ar.getPdfFilenameFromUrl;ar.getXfaPageViewport;ar.isDataScheme;ar.isPdfFile;ar.noContextMenu;ar.normalizeUnicode;ar.setLayerDimensions;ar.shadow;ar.stopEvent;ar.version;const hce="/assets/pdf.worker.min-yatZIOMy.mjs";var dG={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(r,e){((t,n)=>{r.exports=n()})(WJ,function t(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},i,s=!n.document&&!!n.postMessage,a=n.IS_PAPA_WORKER||!1,o={},A=0,l={};function c(E){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(_){var I=R(_);I.chunkSize=parseInt(I.chunkSize),_.step||_.chunk||(I.chunkSize=null),this._handle=new p(I),(this._handle.streamer=this)._config=I}).call(this,E),this.parseChunk=function(_,I){var S=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<S){let N=this._config.newline;N||(F=this._config.quoteChar||'"',N=this._handle.guessLineEndings(_,F)),_=[..._.split(N).slice(S)].join(N)}this.isFirstChunk&&B(this._config.beforeFirstChunk)&&(F=this._config.beforeFirstChunk(_))!==void 0&&(_=F),this.isFirstChunk=!1,this._halted=!1;var S=this._partialLine+_,F=(this._partialLine="",this._handle.parse(S,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(_=F.meta.cursor,S=(this._finished||(this._partialLine=S.substring(_-this._baseIndex),this._baseIndex=_),F&&F.data&&(this._rowCount+=F.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),a)n.postMessage({results:F,workerId:l.WORKER_ID,finished:S});else if(B(this._config.chunk)&&!I){if(this._config.chunk(F,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=F=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(F.data),this._completeResults.errors=this._completeResults.errors.concat(F.errors),this._completeResults.meta=F.meta),this._completed||!S||!B(this._config.complete)||F&&F.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),S||F&&F.meta.paused||this._nextChunk(),F}this._halted=!0},this._sendError=function(_){B(this._config.error)?this._config.error(_):a&&this._config.error&&n.postMessage({workerId:l.WORKER_ID,error:_,finished:!1})}}function u(E){var _;(E=E||{}).chunkSize||(E.chunkSize=l.RemoteChunkSize),c.call(this,E),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(I){this._input=I,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(_=new XMLHttpRequest,this._config.withCredentials&&(_.withCredentials=this._config.withCredentials),s||(_.onload=P(this._chunkLoaded,this),_.onerror=P(this._chunkError,this)),_.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var I,S=this._config.downloadRequestHeaders;for(I in S)_.setRequestHeader(I,S[I])}var F;this._config.chunkSize&&(F=this._start+this._config.chunkSize-1,_.setRequestHeader("Range","bytes="+this._start+"-"+F));try{_.send(this._config.downloadRequestBody)}catch(N){this._chunkError(N.message)}s&&_.status===0&&this._chunkError()}},this._chunkLoaded=function(){_.readyState===4&&(_.status<200||400<=_.status?this._chunkError():(this._start+=this._config.chunkSize||_.responseText.length,this._finished=!this._config.chunkSize||this._start>=(I=>(I=I.getResponseHeader("Content-Range"))!==null?parseInt(I.substring(I.lastIndexOf("/")+1)):-1)(_),this.parseChunk(_.responseText)))},this._chunkError=function(I){I=_.statusText||I,this._sendError(new Error(I))}}function h(E){(E=E||{}).chunkSize||(E.chunkSize=l.LocalChunkSize),c.call(this,E);var _,I,S=typeof FileReader<"u";this.stream=function(F){this._input=F,I=F.slice||F.webkitSlice||F.mozSlice,S?((_=new FileReader).onload=P(this._chunkLoaded,this),_.onerror=P(this._chunkError,this)):_=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var F=this._input,N=(this._config.chunkSize&&(N=Math.min(this._start+this._config.chunkSize,this._input.size),F=I.call(F,this._start,N)),_.readAsText(F,this._config.encoding));S||this._chunkLoaded({target:{result:N}})},this._chunkLoaded=function(F){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(F.target.result)},this._chunkError=function(){this._sendError(_.error)}}function f(E){var _;c.call(this,E=E||{}),this.stream=function(I){return _=I,this._nextChunk()},this._nextChunk=function(){var I,S;if(!this._finished)return I=this._config.chunkSize,_=I?(S=_.substring(0,I),_.substring(I)):(S=_,""),this._finished=!_,this.parseChunk(S)}}function d(E){c.call(this,E=E||{});var _=[],I=!0,S=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(F){this._input=F,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){S&&_.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),_.length?this.parseChunk(_.shift()):I=!0},this._streamData=P(function(F){try{_.push(typeof F=="string"?F:F.toString(this._config.encoding)),I&&(I=!1,this._checkIsFinished(),this.parseChunk(_.shift()))}catch(N){this._streamError(N)}},this),this._streamError=P(function(F){this._streamCleanUp(),this._sendError(F)},this),this._streamEnd=P(function(){this._streamCleanUp(),S=!0,this._streamData("")},this),this._streamCleanUp=P(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function p(E){var _,I,S,F,N=Math.pow(2,53),G=-N,le=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ie=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,te=this,J=0,W=0,be=!1,xe=!1,L=[],O={data:[],errors:[],meta:{}};function H(de){return E.skipEmptyLines==="greedy"?de.join("").trim()==="":de.length===1&&de[0].length===0}function Q(){if(O&&S&&(oe("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),S=!1),E.skipEmptyLines&&(O.data=O.data.filter(function(Se){return!H(Se)})),Y()){let Se=function(ne,$e){B(E.transformHeader)&&(ne=E.transformHeader(ne,$e)),L.push(ne)};if(O)if(Array.isArray(O.data[0])){for(var de=0;Y()&&de<O.data.length;de++)O.data[de].forEach(Se);O.data.splice(0,1)}else O.data.forEach(Se)}function fe(Se,ne){for(var $e=E.header?{}:[],Be=0;Be<Se.length;Be++){var ue=Be,Xe=Se[Be],Xe=((je,qe)=>(Ve=>(E.dynamicTypingFunction&&E.dynamicTyping[Ve]===void 0&&(E.dynamicTyping[Ve]=E.dynamicTypingFunction(Ve)),(E.dynamicTyping[Ve]||E.dynamicTyping)===!0))(je)?qe==="true"||qe==="TRUE"||qe!=="false"&&qe!=="FALSE"&&((Ve=>{if(le.test(Ve)&&(Ve=parseFloat(Ve),G<Ve&&Ve<N))return 1})(qe)?parseFloat(qe):ie.test(qe)?new Date(qe):qe===""?null:qe):qe)(ue=E.header?Be>=L.length?"__parsed_extra":L[Be]:ue,Xe=E.transform?E.transform(Xe,ue):Xe);ue==="__parsed_extra"?($e[ue]=$e[ue]||[],$e[ue].push(Xe)):$e[ue]=Xe}return E.header&&(Be>L.length?oe("FieldMismatch","TooManyFields","Too many fields: expected "+L.length+" fields but parsed "+Be,W+ne):Be<L.length&&oe("FieldMismatch","TooFewFields","Too few fields: expected "+L.length+" fields but parsed "+Be,W+ne)),$e}var _e;O&&(E.header||E.dynamicTyping||E.transform)&&(_e=1,!O.data.length||Array.isArray(O.data[0])?(O.data=O.data.map(fe),_e=O.data.length):O.data=fe(O.data,0),E.header&&O.meta&&(O.meta.fields=L),W+=_e)}function Y(){return E.header&&L.length===0}function oe(de,fe,_e,Se){de={type:de,code:fe,message:_e},Se!==void 0&&(de.row=Se),O.errors.push(de)}B(E.step)&&(F=E.step,E.step=function(de){O=de,Y()?Q():(Q(),O.data.length!==0&&(J+=de.data.length,E.preview&&J>E.preview?I.abort():(O.data=O.data[0],F(O,te))))}),this.parse=function(de,fe,_e){var Se=E.quoteChar||'"',Se=(E.newline||(E.newline=this.guessLineEndings(de,Se)),S=!1,E.delimiter?B(E.delimiter)&&(E.delimiter=E.delimiter(de),O.meta.delimiter=E.delimiter):((Se=((ne,$e,Be,ue,Xe)=>{var je,qe,Ve,ht;Xe=Xe||[",","	","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var nt=0;nt<Xe.length;nt++){for(var Nt,gt=Xe[nt],Bt=0,Et=0,At=0,Ft=(Ve=void 0,new m({comments:ue,delimiter:gt,newline:$e,preview:10}).parse(ne)),mt=0;mt<Ft.data.length;mt++)Be&&H(Ft.data[mt])?At++:(Nt=Ft.data[mt].length,Et+=Nt,Ve===void 0?Ve=Nt:0<Nt&&(Bt+=Math.abs(Nt-Ve),Ve=Nt));0<Ft.data.length&&(Et/=Ft.data.length-At),(qe===void 0||Bt<=qe)&&(ht===void 0||ht<Et)&&1.99<Et&&(qe=Bt,je=gt,ht=Et)}return{successful:!!(E.delimiter=je),bestDelimiter:je}})(de,E.newline,E.skipEmptyLines,E.comments,E.delimitersToGuess)).successful?E.delimiter=Se.bestDelimiter:(S=!0,E.delimiter=l.DefaultDelimiter),O.meta.delimiter=E.delimiter),R(E));return E.preview&&E.header&&Se.preview++,_=de,I=new m(Se),O=I.parse(_,fe,_e),Q(),be?{meta:{paused:!0}}:O||{meta:{paused:!1}}},this.paused=function(){return be},this.pause=function(){be=!0,I.abort(),_=B(E.chunk)?"":_.substring(I.getCharIndex())},this.resume=function(){te.streamer._halted?(be=!1,te.streamer.parseChunk(_,!0)):setTimeout(te.resume,3)},this.aborted=function(){return xe},this.abort=function(){xe=!0,I.abort(),O.meta.aborted=!0,B(E.complete)&&E.complete(O),_=""},this.guessLineEndings=function(ne,Se){ne=ne.substring(0,1048576);var Se=new RegExp(v(Se)+"([^]*?)"+v(Se),"gm"),_e=(ne=ne.replace(Se,"")).split("\r"),Se=ne.split(`
`),ne=1<Se.length&&Se[0].length<_e[0].length;if(_e.length===1||ne)return`
`;for(var $e=0,Be=0;Be<_e.length;Be++)_e[Be][0]===`
`&&$e++;return $e>=_e.length/2?`\r
`:"\r"}}function v(E){return E.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(E){var _=(E=E||{}).delimiter,I=E.newline,S=E.comments,F=E.step,N=E.preview,G=E.fastMode,le=null,ie=!1,te=E.quoteChar==null?'"':E.quoteChar,J=te;if(E.escapeChar!==void 0&&(J=E.escapeChar),(typeof _!="string"||-1<l.BAD_DELIMITERS.indexOf(_))&&(_=","),S===_)throw new Error("Comment character same as delimiter");S===!0?S="#":(typeof S!="string"||-1<l.BAD_DELIMITERS.indexOf(S))&&(S=!1),I!==`
`&&I!=="\r"&&I!==`\r
`&&(I=`
`);var W=0,be=!1;this.parse=function(xe,L,O){if(typeof xe!="string")throw new Error("Input must be a string");var H=xe.length,Q=_.length,Y=I.length,oe=S.length,de=B(F),fe=[],_e=[],Se=[],ne=W=0;if(!xe)return Bt();if(G||G!==!1&&xe.indexOf(te)===-1){for(var $e=xe.split(I),Be=0;Be<$e.length;Be++){if(Se=$e[Be],W+=Se.length,Be!==$e.length-1)W+=I.length;else if(O)return Bt();if(!S||Se.substring(0,oe)!==S){if(de){if(fe=[],ht(Se.split(_)),Et(),be)return Bt()}else ht(Se.split(_));if(N&&N<=Be)return fe=fe.slice(0,N),Bt(!0)}}return Bt()}for(var ue=xe.indexOf(_,W),Xe=xe.indexOf(I,W),je=new RegExp(v(J)+v(te),"g"),qe=xe.indexOf(te,W);;)if(xe[W]===te)for(qe=W,W++;;){if((qe=xe.indexOf(te,qe+1))===-1)return O||_e.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:fe.length,index:W}),Nt();if(qe===H-1)return Nt(xe.substring(W,qe).replace(je,te));if(te===J&&xe[qe+1]===J)qe++;else if(te===J||qe===0||xe[qe-1]!==J){ue!==-1&&ue<qe+1&&(ue=xe.indexOf(_,qe+1));var Ve=nt((Xe=Xe!==-1&&Xe<qe+1?xe.indexOf(I,qe+1):Xe)===-1?ue:Math.min(ue,Xe));if(xe.substr(qe+1+Ve,Q)===_){Se.push(xe.substring(W,qe).replace(je,te)),xe[W=qe+1+Ve+Q]!==te&&(qe=xe.indexOf(te,W)),ue=xe.indexOf(_,W),Xe=xe.indexOf(I,W);break}if(Ve=nt(Xe),xe.substring(qe+1+Ve,qe+1+Ve+Y)===I){if(Se.push(xe.substring(W,qe).replace(je,te)),gt(qe+1+Ve+Y),ue=xe.indexOf(_,W),qe=xe.indexOf(te,W),de&&(Et(),be))return Bt();if(N&&fe.length>=N)return Bt(!0);break}_e.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:fe.length,index:W}),qe++}}else if(S&&Se.length===0&&xe.substring(W,W+oe)===S){if(Xe===-1)return Bt();W=Xe+Y,Xe=xe.indexOf(I,W),ue=xe.indexOf(_,W)}else if(ue!==-1&&(ue<Xe||Xe===-1))Se.push(xe.substring(W,ue)),W=ue+Q,ue=xe.indexOf(_,W);else{if(Xe===-1)break;if(Se.push(xe.substring(W,Xe)),gt(Xe+Y),de&&(Et(),be))return Bt();if(N&&fe.length>=N)return Bt(!0)}return Nt();function ht(At){fe.push(At),ne=W}function nt(At){var Ft=0;return Ft=At!==-1&&(At=xe.substring(qe+1,At))&&At.trim()===""?At.length:Ft}function Nt(At){return O||(At===void 0&&(At=xe.substring(W)),Se.push(At),W=H,ht(Se),de&&Et()),Bt()}function gt(At){W=At,ht(Se),Se=[],Xe=xe.indexOf(I,W)}function Bt(At){if(E.header&&!L&&fe.length&&!ie){var Ft=fe[0],mt=Object.create(null),vt=new Set(Ft);let at=!1;for(let ct=0;ct<Ft.length;ct++){let jt=Ft[ct];if(mt[jt=B(E.transformHeader)?E.transformHeader(jt,ct):jt]){let Mt,wt=mt[jt];for(;Mt=jt+"_"+wt,wt++,vt.has(Mt););vt.add(Mt),Ft[ct]=Mt,mt[jt]++,at=!0,(le=le===null?{}:le)[Mt]=jt}else mt[jt]=1,Ft[ct]=jt;vt.add(jt)}at&&console.warn("Duplicate headers found and renamed."),ie=!0}return{data:fe,errors:_e,meta:{delimiter:_,linebreak:I,aborted:be,truncated:!!At,cursor:ne+(L||0),renamedHeaders:le}}}function Et(){F(Bt()),fe=[],_e=[]}},this.abort=function(){be=!0},this.getCharIndex=function(){return W}}function x(E){var _=E.data,I=o[_.workerId],S=!1;if(_.error)I.userError(_.error,_.file);else if(_.results&&_.results.data){var F={abort:function(){S=!0,b(_.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:T,resume:T};if(B(I.userStep)){for(var N=0;N<_.results.data.length&&(I.userStep({data:_.results.data[N],errors:_.results.errors,meta:_.results.meta},F),!S);N++);delete _.results}else B(I.userChunk)&&(I.userChunk(_.results,F,_.file),delete _.results)}_.finished&&!S&&b(_.workerId,_.results)}function b(E,_){var I=o[E];B(I.userComplete)&&I.userComplete(_),I.terminate(),delete o[E]}function T(){throw new Error("Not implemented.")}function R(E){if(typeof E!="object"||E===null)return E;var _,I=Array.isArray(E)?[]:{};for(_ in E)I[_]=R(E[_]);return I}function P(E,_){return function(){E.apply(_,arguments)}}function B(E){return typeof E=="function"}return l.parse=function(E,_){var I=(_=_||{}).dynamicTyping||!1;if(B(I)&&(_.dynamicTypingFunction=I,I={}),_.dynamicTyping=I,_.transform=!!B(_.transform)&&_.transform,!_.worker||!l.WORKERS_SUPPORTED)return I=null,l.NODE_STREAM_INPUT,typeof E=="string"?(E=(S=>S.charCodeAt(0)!==65279?S:S.slice(1))(E),I=new(_.download?u:f)(_)):E.readable===!0&&B(E.read)&&B(E.on)?I=new d(_):(n.File&&E instanceof File||E instanceof Object)&&(I=new h(_)),I.stream(E);(I=(()=>{var S;return!!l.WORKERS_SUPPORTED&&(S=(()=>{var F=n.URL||n.webkitURL||null,N=t.toString();return l.BLOB_URL||(l.BLOB_URL=F.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",N,")();"],{type:"text/javascript"})))})(),(S=new n.Worker(S)).onmessage=x,S.id=A++,o[S.id]=S)})()).userStep=_.step,I.userChunk=_.chunk,I.userComplete=_.complete,I.userError=_.error,_.step=B(_.step),_.chunk=B(_.chunk),_.complete=B(_.complete),_.error=B(_.error),delete _.worker,I.postMessage({input:E,config:_,workerId:I.id})},l.unparse=function(E,_){var I=!1,S=!0,F=",",N=`\r
`,G='"',le=G+G,ie=!1,te=null,J=!1,W=((()=>{if(typeof _=="object"){if(typeof _.delimiter!="string"||l.BAD_DELIMITERS.filter(function(L){return _.delimiter.indexOf(L)!==-1}).length||(F=_.delimiter),typeof _.quotes!="boolean"&&typeof _.quotes!="function"&&!Array.isArray(_.quotes)||(I=_.quotes),typeof _.skipEmptyLines!="boolean"&&typeof _.skipEmptyLines!="string"||(ie=_.skipEmptyLines),typeof _.newline=="string"&&(N=_.newline),typeof _.quoteChar=="string"&&(G=_.quoteChar),typeof _.header=="boolean"&&(S=_.header),Array.isArray(_.columns)){if(_.columns.length===0)throw new Error("Option columns is empty");te=_.columns}_.escapeChar!==void 0&&(le=_.escapeChar+G),_.escapeFormulae instanceof RegExp?J=_.escapeFormulae:typeof _.escapeFormulae=="boolean"&&_.escapeFormulae&&(J=/^[=+\-@\t\r].*$/)}})(),new RegExp(v(G),"g"));if(typeof E=="string"&&(E=JSON.parse(E)),Array.isArray(E)){if(!E.length||Array.isArray(E[0]))return be(null,E,ie);if(typeof E[0]=="object")return be(te||Object.keys(E[0]),E,ie)}else if(typeof E=="object")return typeof E.data=="string"&&(E.data=JSON.parse(E.data)),Array.isArray(E.data)&&(E.fields||(E.fields=E.meta&&E.meta.fields||te),E.fields||(E.fields=Array.isArray(E.data[0])?E.fields:typeof E.data[0]=="object"?Object.keys(E.data[0]):[]),Array.isArray(E.data[0])||typeof E.data[0]=="object"||(E.data=[E.data])),be(E.fields||[],E.data||[],ie);throw new Error("Unable to serialize unrecognized input");function be(L,O,H){var Q="",Y=(typeof L=="string"&&(L=JSON.parse(L)),typeof O=="string"&&(O=JSON.parse(O)),Array.isArray(L)&&0<L.length),oe=!Array.isArray(O[0]);if(Y&&S){for(var de=0;de<L.length;de++)0<de&&(Q+=F),Q+=xe(L[de],de);0<O.length&&(Q+=N)}for(var fe=0;fe<O.length;fe++){var _e=(Y?L:O[fe]).length,Se=!1,ne=Y?Object.keys(O[fe]).length===0:O[fe].length===0;if(H&&!Y&&(Se=H==="greedy"?O[fe].join("").trim()==="":O[fe].length===1&&O[fe][0].length===0),H==="greedy"&&Y){for(var $e=[],Be=0;Be<_e;Be++){var ue=oe?L[Be]:Be;$e.push(O[fe][ue])}Se=$e.join("").trim()===""}if(!Se){for(var Xe=0;Xe<_e;Xe++){0<Xe&&!ne&&(Q+=F);var je=Y&&oe?L[Xe]:Xe;Q+=xe(O[fe][je],Xe)}fe<O.length-1&&(!H||0<_e&&!ne)&&(Q+=N)}}return Q}function xe(L,O){var H,Q;return L==null?"":L.constructor===Date?JSON.stringify(L).slice(1,25):(Q=!1,J&&typeof L=="string"&&J.test(L)&&(L="'"+L,Q=!0),H=L.toString().replace(W,le),(Q=Q||I===!0||typeof I=="function"&&I(L,O)||Array.isArray(I)&&I[O]||((Y,oe)=>{for(var de=0;de<oe.length;de++)if(-1<Y.indexOf(oe[de]))return!0;return!1})(H,l.BAD_DELIMITERS)||-1<H.indexOf(F)||H.charAt(0)===" "||H.charAt(H.length-1)===" ")?G+H+G:H)}},l.RECORD_SEP="",l.UNIT_SEP="",l.BYTE_ORDER_MARK="\uFEFF",l.BAD_DELIMITERS=["\r",`
`,'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!s&&!!n.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=m,l.ParserHandle=p,l.NetworkStreamer=u,l.FileStreamer=h,l.StringStreamer=f,l.ReadableStreamStreamer=d,n.jQuery&&((i=n.jQuery).fn.parse=function(E){var _=E.config||{},I=[];return this.each(function(N){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var G=0;G<this.files.length;G++)I.push({file:this.files[G],inputElem:this,instanceConfig:i.extend({},_)})}),S(),this;function S(){if(I.length===0)B(E.complete)&&E.complete();else{var N,G,le,ie,te=I[0];if(B(E.before)){var J=E.before(te.file,te.inputElem);if(typeof J=="object"){if(J.action==="abort")return N="AbortError",G=te.file,le=te.inputElem,ie=J.reason,void(B(E.error)&&E.error({name:N},G,le,ie));if(J.action==="skip")return void F();typeof J.config=="object"&&(te.instanceConfig=i.extend(te.instanceConfig,J.config))}else if(J==="skip")return void F()}var W=te.instanceConfig.complete;te.instanceConfig.complete=function(be){B(W)&&W(be,te.file,te.inputElem),F()},l.parse(te.file,te.instanceConfig)}}function F(){I.splice(0,1),S()}}),a&&(n.onmessage=function(E){E=E.data,l.WORKER_ID===void 0&&E&&(l.WORKER_ID=E.workerId),typeof E.input=="string"?n.postMessage({workerId:l.WORKER_ID,results:l.parse(E.input,E.config),finished:!0}):(n.File&&E.input instanceof File||E.input instanceof Object)&&(E=l.parse(E.input,E.config))&&n.postMessage({workerId:l.WORKER_ID,results:E,finished:!0})}),(u.prototype=Object.create(c.prototype)).constructor=u,(h.prototype=Object.create(c.prototype)).constructor=h,(f.prototype=Object.create(f.prototype)).constructor=f,(d.prototype=Object.create(c.prototype)).constructor=d,l})})(dG);var fce=dG.exports;const dce=D7(fce);/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var pG=1252,pce=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],JR={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},ZR=function(r){pce.indexOf(r)!=-1&&(pG=JR[0]=r)};function gce(){ZR(1252)}var Ql=function(r){ZR(r)};function gG(){Ql(1200),gce()}function DO(r){for(var e=[],t=0,n=r.length;t<n;++t)e[t]=r.charCodeAt(t);return e}function mce(r){for(var e=[],t=0;t<r.length>>1;++t)e[t]=String.fromCharCode(r.charCodeAt(2*t)+(r.charCodeAt(2*t+1)<<8));return e.join("")}function mG(r){for(var e=[],t=0;t<r.length>>1;++t)e[t]=String.fromCharCode(r.charCodeAt(2*t+1)+(r.charCodeAt(2*t)<<8));return e.join("")}var gy=function(r){var e=r.charCodeAt(0),t=r.charCodeAt(1);return e==255&&t==254?mce(r.slice(2)):e==254&&t==255?mG(r.slice(2)):e==65279?r.slice(1):r},uE=function(e){return String.fromCharCode(e)},UO=function(e){return String.fromCharCode(e)},G2,cd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function MO(r){for(var e="",t=0,n=0,i=0,s=0,a=0,o=0,A=0,l=0;l<r.length;)t=r.charCodeAt(l++),s=t>>2,n=r.charCodeAt(l++),a=(t&3)<<4|n>>4,i=r.charCodeAt(l++),o=(n&15)<<2|i>>6,A=i&63,isNaN(n)?o=A=64:isNaN(i)&&(A=64),e+=cd.charAt(s)+cd.charAt(a)+cd.charAt(o)+cd.charAt(A);return e}function bA(r){var e="",t=0,n=0,i=0,s=0,a=0,o=0,A=0;r=r.replace(/[^\w\+\/\=]/g,"");for(var l=0;l<r.length;)s=cd.indexOf(r.charAt(l++)),a=cd.indexOf(r.charAt(l++)),t=s<<2|a>>4,e+=String.fromCharCode(t),o=cd.indexOf(r.charAt(l++)),n=(a&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(n)),A=cd.indexOf(r.charAt(l++)),i=(o&3)<<6|A,A!==64&&(e+=String.fromCharCode(i));return e}var Ur=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Mg=function(){if(typeof Buffer<"u"){var r=!Buffer.from;if(!r)try{Buffer.from("foo","utf8")}catch{r=!0}return r?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function $d(r){return Ur?Buffer.alloc?Buffer.alloc(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}function OO(r){return Ur?Buffer.allocUnsafe?Buffer.allocUnsafe(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}var Ol=function(e){return Ur?Mg(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function Og(r){if(Array.isArray(r))return r.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],t=0;t<r.length;++t)e[t]=String.fromCharCode(r[t]);return e.join("")}function eN(r){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(r instanceof ArrayBuffer)return eN(new Uint8Array(r));for(var e=new Array(r.length),t=0;t<r.length;++t)e[t]=r[t];return e}var If=Ur?function(r){return Buffer.concat(r.map(function(e){return Buffer.isBuffer(e)?e:Mg(e)}))}:function(r){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<r.length;++e)t+=r[e].length;var n=new Uint8Array(t),i=0;for(e=0,t=0;e<r.length;t+=i,++e)if(i=r[e].length,r[e]instanceof Uint8Array)n.set(r[e],t);else{if(typeof r[e]=="string")throw"wtf";n.set(new Uint8Array(r[e]),t)}return n}return[].concat.apply([],r.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function vce(r){for(var e=[],t=0,n=r.length+250,i=$d(r.length+255),s=0;s<r.length;++s){var a=r.charCodeAt(s);if(a<128)i[t++]=a;else if(a<2048)i[t++]=192|a>>6&31,i[t++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=r.charCodeAt(++s)&1023;i[t++]=240|a>>8&7,i[t++]=128|a>>2&63,i[t++]=128|o>>6&15|(a&3)<<4,i[t++]=128|o&63}else i[t++]=224|a>>12&15,i[t++]=128|a>>6&63,i[t++]=128|a&63;t>n&&(e.push(i.slice(0,t)),t=0,i=$d(65535),n=65530)}return e.push(i.slice(0,t)),If(e)}var ro=/\u0000/g,my=/[\u0001-\u0006]/g;function i1(r){for(var e="",t=r.length-1;t>=0;)e+=r.charAt(t--);return e}function Hl(r,e){var t=""+r;return t.length>=e?t:vi("0",e-t.length)+t}function tN(r,e){var t=""+r;return t.length>=e?t:vi(" ",e-t.length)+t}function _S(r,e){var t=""+r;return t.length>=e?t:t+vi(" ",e-t.length)}function wce(r,e){var t=""+Math.round(r);return t.length>=e?t:vi("0",e-t.length)+t}function yce(r,e){var t=""+r;return t.length>=e?t:vi("0",e-t.length)+t}var QO=Math.pow(2,32);function em(r,e){if(r>QO||r<-QO)return wce(r,e);var t=Math.round(r);return yce(t,e)}function bS(r,e){return e=e||0,r.length>=7+e&&(r.charCodeAt(e)|32)===103&&(r.charCodeAt(e+1)|32)===101&&(r.charCodeAt(e+2)|32)===110&&(r.charCodeAt(e+3)|32)===101&&(r.charCodeAt(e+4)|32)===114&&(r.charCodeAt(e+5)|32)===97&&(r.charCodeAt(e+6)|32)===108}var HO=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],qF=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function xce(r){return r||(r={}),r[0]="General",r[1]="0",r[2]="0.00",r[3]="#,##0",r[4]="#,##0.00",r[9]="0%",r[10]="0.00%",r[11]="0.00E+00",r[12]="# ?/?",r[13]="# ??/??",r[14]="m/d/yy",r[15]="d-mmm-yy",r[16]="d-mmm",r[17]="mmm-yy",r[18]="h:mm AM/PM",r[19]="h:mm:ss AM/PM",r[20]="h:mm",r[21]="h:mm:ss",r[22]="m/d/yy h:mm",r[37]="#,##0 ;(#,##0)",r[38]="#,##0 ;[Red](#,##0)",r[39]="#,##0.00;(#,##0.00)",r[40]="#,##0.00;[Red](#,##0.00)",r[45]="mm:ss",r[46]="[h]:mm:ss",r[47]="mmss.0",r[48]="##0.0E+0",r[49]="@",r[56]='"/ "hh""mm""ss" "',r}var pr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},VO={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},_ce={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function ES(r,e,t){for(var n=r<0?-1:1,i=r*n,s=0,a=1,o=0,A=1,l=0,c=0,u=Math.floor(i);l<e&&(u=Math.floor(i),o=u*a+s,c=u*l+A,!(i-u<5e-8));)i=1/(i-u),s=a,a=o,A=l,l=c;if(c>e&&(l>e?(c=A,o=s):(c=l,o=a)),!t)return[0,n*o,c];var h=Math.floor(n*o/c);return[h,n*o-h*c,c]}function G0(r,e,t){if(r>2958465||r<0)return null;var n=r|0,i=Math.floor(86400*(r-n)),s=0,a=[],o={D:n,T:i,u:86400*(r-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++n,++o.D)),n===60)a=t?[1317,10,29]:[1900,2,29],s=3;else if(n===0)a=t?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var A=new Date(1900,0,1);A.setDate(A.getDate()+n-1),a=[A.getFullYear(),A.getMonth()+1,A.getDate()],s=A.getDay(),n<60&&(s=(s+6)%7),t&&(s=Tce(A,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=s,o}var vG=new Date(1899,11,31,0,0,0),bce=vG.getTime(),Ece=new Date(1900,2,1,0,0,0);function wG(r,e){var t=r.getTime();return e?t-=1461*24*60*60*1e3:r>=Ece&&(t+=24*60*60*1e3),(t-(bce+(r.getTimezoneOffset()-vG.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function rN(r){return r.indexOf(".")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Cce(r){return r.indexOf("E")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Bce(r){var e=r<0?12:11,t=rN(r.toFixed(12));return t.length<=e||(t=r.toPrecision(10),t.length<=e)?t:r.toExponential(5)}function Sce(r){var e=rN(r.toFixed(11));return e.length>(r<0?12:11)||e==="0"||e==="-0"?r.toPrecision(6):e}function $2(r){var e=Math.floor(Math.log(Math.abs(r))*Math.LOG10E),t;return e>=-4&&e<=-1?t=r.toPrecision(10+e):Math.abs(e)<=9?t=Bce(r):e===10?t=r.toFixed(10).substr(0,12):t=Sce(r),rN(Cce(t.toUpperCase()))}function Cg(r,e){switch(typeof r){case"string":return r;case"boolean":return r?"TRUE":"FALSE";case"number":return(r|0)===r?r.toString(10):$2(r);case"undefined":return"";case"object":if(r==null)return"";if(r instanceof Date)return sl(14,wG(r,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+r)}function Tce(r,e){e[0]-=581;var t=r.getDay();return r<60&&(t=(t+6)%7),t}function Fce(r,e,t,n){var i="",s=0,a=0,o=t.y,A,l=0;switch(r){case 98:o=t.y+543;case 121:switch(e.length){case 1:case 2:A=o%100,l=2;break;default:A=o%1e4,l=4;break}break;case 109:switch(e.length){case 1:case 2:A=t.m,l=e.length;break;case 3:return qF[t.m-1][1];case 5:return qF[t.m-1][0];default:return qF[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:A=t.d,l=e.length;break;case 3:return HO[t.q][0];default:return HO[t.q][1]}break;case 104:switch(e.length){case 1:case 2:A=1+(t.H+11)%12,l=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:A=t.H,l=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:A=t.M,l=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?Hl(t.S,e.length):(n>=2?a=n===3?1e3:100:a=n===1?10:1,s=Math.round(a*(t.S+t.u)),s>=60*a&&(s=0),e==="s"?s===0?"0":""+s/a:(i=Hl(s,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":A=t.D*24+t.H;break;case"[m]":case"[mm]":A=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":A=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}l=e.length===3?1:2;break;case 101:A=o,l=1;break}var c=l>0?Hl(A,l):"";return c}function ud(r){var e=3;if(r.length<=e)return r;for(var t=r.length%e,n=r.substr(0,t);t!=r.length;t+=e)n+=(n.length>0?",":"")+r.substr(t,e);return n}var yG=/%/g;function Ice(r,e,t){var n=e.replace(yG,""),i=e.length-n.length;return bh(r,n,t*Math.pow(10,2*i))+vi("%",i)}function kce(r,e,t){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return bh(r,e.substr(0,n),t/Math.pow(10,3*(e.length-n)))}function xG(r,e){var t,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+xG(r,-e);var i=r.indexOf(".");i===-1&&(i=r.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),t=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),t.indexOf("e")===-1){var a=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(a-t.length+s):t+="E+"+(a-s);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,i)+"."+t.substr(2+i),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,A,l,c){return A+l+c.substr(0,(i+s)%i)+"."+c.substr(s)+"E"})}else t=e.toExponential(n);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var _G=/# (\?+)( ?)\/( ?)(\d+)/;function Lce(r,e,t){var n=parseInt(r[4],10),i=Math.round(e*n),s=Math.floor(i/n),a=i-s*n,o=n;return t+(s===0?"":""+s)+" "+(a===0?vi(" ",r[1].length+1+r[4].length):tN(a,r[1].length)+r[2]+"/"+r[3]+Hl(o,r[4].length))}function Pce(r,e,t){return t+(e===0?"":""+e)+vi(" ",r[1].length+2+r[4].length)}var bG=/^#*0*\.([0#]+)/,EG=/\).*[0#]/,CG=/\(###\) ###\\?-####/;function qa(r){for(var e="",t,n=0;n!=r.length;++n)switch(t=r.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function jO(r,e){var t=Math.pow(10,e);return""+Math.round(r*t)/t}function KO(r,e){var t=r-Math.floor(r),n=Math.pow(10,e);return e<(""+Math.round(t*n)).length?0:Math.round(t*n)}function Rce(r,e){return e<(""+Math.round((r-Math.floor(r))*Math.pow(10,e))).length?1:0}function Nce(r){return r<2147483647&&r>-2147483648?""+(r>=0?r|0:r-1|0):""+Math.floor(r)}function DA(r,e,t){if(r.charCodeAt(0)===40&&!e.match(EG)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?DA("n",n,t):"("+DA("n",n,-t)+")"}if(e.charCodeAt(e.length-1)===44)return kce(r,e,t);if(e.indexOf("%")!==-1)return Ice(r,e,t);if(e.indexOf("E")!==-1)return xG(e,t);if(e.charCodeAt(0)===36)return"$"+DA(r,e.substr(e.charAt(1)==" "?2:1),t);var i,s,a,o,A=Math.abs(t),l=t<0?"-":"";if(e.match(/^00+$/))return l+em(A,e.length);if(e.match(/^[#?]+$/))return i=em(t,0),i==="0"&&(i=""),i.length>e.length?i:qa(e.substr(0,e.length-i.length))+i;if(s=e.match(_G))return Lce(s,A,l);if(e.match(/^#+0+$/))return l+em(A,e.length-e.indexOf("0"));if(s=e.match(bG))return i=jO(t,s[1].length).replace(/^([^\.]+)$/,"$1."+qa(s[1])).replace(/\.$/,"."+qa(s[1])).replace(/\.(\d*)$/,function(d,p){return"."+p+vi("0",qa(s[1]).length-p.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return l+jO(A,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return l+ud(em(A,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+DA(r,e,-t):ud(""+(Math.floor(t)+Rce(t,s[1].length)))+"."+Hl(KO(t,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return DA(r,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=i1(DA(r,e.replace(/[\\-]/g,""),t)),a=0,i1(i1(e.replace(/\\/g,"")).replace(/[0#]/g,function(d){return a<i.length?i.charAt(a++):d==="0"?"0":""}));if(e.match(CG))return i=DA(r,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var c="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=ES(A,Math.pow(10,a)-1,!1),i=""+l,c=bh("n",s[1],o[1]),c.charAt(c.length-1)==" "&&(c=c.substr(0,c.length-1)+"0"),i+=c+s[2]+"/"+s[3],c=_S(o[2],a),c.length<s[4].length&&(c=qa(s[4].substr(s[4].length-c.length))+c),i+=c,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=ES(A,Math.pow(10,a)-1,!0),l+(o[0]||(o[1]?"":"0"))+" "+(o[1]?tN(o[1],a)+s[2]+"/"+s[3]+_S(o[2],a):vi(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=em(t,0),e.length<=i.length?i:qa(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var u=e.indexOf(".")-a,h=e.length-i.length-u;return qa(e.substr(0,u)+i+e.substr(e.length-h))}if(s=e.match(/^00,000\.([#0]*0)$/))return a=KO(t,s[1].length),t<0?"-"+DA(r,e,-t):ud(Nce(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(d){return"00,"+(d.length<3?Hl(0,3-d.length):"")+d})+"."+Hl(a,s[1].length);switch(e){case"###,##0.00":return DA(r,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var f=ud(em(A,0));return f!=="0"?l+f:"";case"###,###.00":return DA(r,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return DA(r,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function Dce(r,e,t){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return bh(r,e.substr(0,n),t/Math.pow(10,3*(e.length-n)))}function Uce(r,e,t){var n=e.replace(yG,""),i=e.length-n.length;return bh(r,n,t*Math.pow(10,2*i))+vi("%",i)}function BG(r,e){var t,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+BG(r,-e);var i=r.indexOf(".");i===-1&&(i=r.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),t=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),!t.match(/[Ee]/)){var a=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(a-t.length+s):t+="E+"+(a-s),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,A,l,c){return A+l+c.substr(0,(i+s)%i)+"."+c.substr(s)+"E"})}else t=e.toExponential(n);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function xc(r,e,t){if(r.charCodeAt(0)===40&&!e.match(EG)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?xc("n",n,t):"("+xc("n",n,-t)+")"}if(e.charCodeAt(e.length-1)===44)return Dce(r,e,t);if(e.indexOf("%")!==-1)return Uce(r,e,t);if(e.indexOf("E")!==-1)return BG(e,t);if(e.charCodeAt(0)===36)return"$"+xc(r,e.substr(e.charAt(1)==" "?2:1),t);var i,s,a,o,A=Math.abs(t),l=t<0?"-":"";if(e.match(/^00+$/))return l+Hl(A,e.length);if(e.match(/^[#?]+$/))return i=""+t,t===0&&(i=""),i.length>e.length?i:qa(e.substr(0,e.length-i.length))+i;if(s=e.match(_G))return Pce(s,A,l);if(e.match(/^#+0+$/))return l+Hl(A,e.length-e.indexOf("0"));if(s=e.match(bG))return i=(""+t).replace(/^([^\.]+)$/,"$1."+qa(s[1])).replace(/\.$/,"."+qa(s[1])),i=i.replace(/\.(\d*)$/,function(d,p){return"."+p+vi("0",qa(s[1]).length-p.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return l+(""+A).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return l+ud(""+A);if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+xc(r,e,-t):ud(""+t)+"."+vi("0",s[1].length);if(s=e.match(/^#,#*,#0/))return xc(r,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=i1(xc(r,e.replace(/[\\-]/g,""),t)),a=0,i1(i1(e.replace(/\\/g,"")).replace(/[0#]/g,function(d){return a<i.length?i.charAt(a++):d==="0"?"0":""}));if(e.match(CG))return i=xc(r,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var c="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=ES(A,Math.pow(10,a)-1,!1),i=""+l,c=bh("n",s[1],o[1]),c.charAt(c.length-1)==" "&&(c=c.substr(0,c.length-1)+"0"),i+=c+s[2]+"/"+s[3],c=_S(o[2],a),c.length<s[4].length&&(c=qa(s[4].substr(s[4].length-c.length))+c),i+=c,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=ES(A,Math.pow(10,a)-1,!0),l+(o[0]||(o[1]?"":"0"))+" "+(o[1]?tN(o[1],a)+s[2]+"/"+s[3]+_S(o[2],a):vi(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+t,e.length<=i.length?i:qa(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var u=e.indexOf(".")-a,h=e.length-i.length-u;return qa(e.substr(0,u)+i+e.substr(e.length-h))}if(s=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+xc(r,e,-t):ud(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(d){return"00,"+(d.length<3?Hl(0,3-d.length):"")+d})+"."+Hl(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var f=ud(""+A);return f!=="0"?l+f:"";default:if(e.match(/\.[0#?]*$/))return xc(r,e.slice(0,e.lastIndexOf(".")),t)+qa(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function bh(r,e,t){return(t|0)===t?xc(r,e,t):DA(r,e,t)}function Mce(r){for(var e=[],t=!1,n=0,i=0;n<r.length;++n)switch(r.charCodeAt(n)){case 34:t=!t;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=r.substr(i,n-i),i=n+1}if(e[e.length]=r.substr(i),t===!0)throw new Error("Format |"+r+"| unterminated string ");return e}var SG=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Yv(r){for(var e=0,t="",n="";e<r.length;)switch(t=r.charAt(e)){case"G":bS(r,e)&&(e+=6),e++;break;case'"':for(;r.charCodeAt(++e)!==34&&e<r.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(r.charAt(e+1)==="1"||r.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(r.substr(e,3).toUpperCase()==="A/P"||r.substr(e,5).toUpperCase()==="AM/PM"||r.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=t;r.charAt(e++)!=="]"&&e<r.length;)n+=r.charAt(e);if(n.match(SG))return!0;break;case".":case"0":case"#":for(;e<r.length&&("0#?.,E+-%".indexOf(t=r.charAt(++e))>-1||t=="\\"&&r.charAt(e+1)=="-"&&"0#".indexOf(r.charAt(e+2))>-1););break;case"?":for(;r.charAt(++e)===t;);break;case"*":++e,(r.charAt(e)==" "||r.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<r.length&&"0123456789".indexOf(r.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function Oce(r,e,t,n){for(var i=[],s="",a=0,o="",A="t",l,c,u,h="H";a<r.length;)switch(o=r.charAt(a)){case"G":if(!bS(r,a))throw new Error("unrecognized character "+o+" in "+r);i[i.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(u=r.charCodeAt(++a))!==34&&a<r.length;)s+=String.fromCharCode(u);i[i.length]={t:"t",v:s},++a;break;case"\\":var f=r.charAt(++a),d=f==="("||f===")"?f:"t";i[i.length]={t:d,v:f},++a;break;case"_":i[i.length]={t:"t",v:" "},a+=2;break;case"@":i[i.length]={t:"T",v:e},++a;break;case"B":case"b":if(r.charAt(a+1)==="1"||r.charAt(a+1)==="2"){if(l==null&&(l=G0(e,t,r.charAt(a+1)==="2"),l==null))return"";i[i.length]={t:"X",v:r.substr(a,2)},A=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||l==null&&(l=G0(e,t),l==null))return"";for(s=o;++a<r.length&&r.charAt(a).toLowerCase()===o;)s+=o;o==="m"&&A.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),i[i.length]={t:o,v:s},A=o;break;case"A":case"a":case"":var p={t:o,v:o};if(l==null&&(l=G0(e,t)),r.substr(a,3).toUpperCase()==="A/P"?(l!=null&&(p.v=l.H>=12?"P":"A"),p.t="T",h="h",a+=3):r.substr(a,5).toUpperCase()==="AM/PM"?(l!=null&&(p.v=l.H>=12?"PM":"AM"),p.t="T",a+=5,h="h"):r.substr(a,5).toUpperCase()==="/"?(l!=null&&(p.v=l.H>=12?"":""),p.t="T",a+=5,h="h"):(p.t="t",++a),l==null&&p.t==="T")return"";i[i.length]=p,A=o;break;case"[":for(s=o;r.charAt(a++)!=="]"&&a<r.length;)s+=r.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(SG)){if(l==null&&(l=G0(e,t),l==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},A=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",Yv(r)||(i[i.length]={t:"t",v:s}));break;case".":if(l!=null){for(s=o;++a<r.length&&(o=r.charAt(a))==="0";)s+=o;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++a<r.length&&"0#?.,E+-%".indexOf(o=r.charAt(a))>-1;)s+=o;i[i.length]={t:"n",v:s};break;case"?":for(s=o;r.charAt(++a)===o;)s+=o;i[i.length]={t:o,v:s},A=o;break;case"*":++a,(r.charAt(a)==" "||r.charAt(a)=="*")&&++a;break;case"(":case")":i[i.length]={t:n===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;a<r.length&&"0123456789".indexOf(r.charAt(++a))>-1;)s+=r.charAt(a);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:o,v:o},++a;break;case"$":i[i.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+r);i[i.length]={t:"t",v:o},++a;break}var v=0,m=0,x;for(a=i.length-1,A="t";a>=0;--a)switch(i[a].t){case"h":case"H":i[a].t=h,A="h",v<1&&(v=1);break;case"s":(x=i[a].v.match(/\.0+$/))&&(m=Math.max(m,x[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":A=i[a].t;break;case"m":A==="s"&&(i[a].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&i[a].v.match(/[Hh]/)&&(v=1),v<2&&i[a].v.match(/[Mm]/)&&(v=2),v<3&&i[a].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:l.u>=.5&&(l.u=0,++l.S),l.S>=60&&(l.S=0,++l.M),l.M>=60&&(l.M=0,++l.H);break;case 2:l.u>=.5&&(l.u=0,++l.S),l.S>=60&&(l.S=0,++l.M);break}var b="",T;for(a=0;a<i.length;++a)switch(i[a].t){case"t":case"T":case" ":case"D":break;case"X":i[a].v="",i[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[a].v=Fce(i[a].t.charCodeAt(0),i[a].v,l,m),i[a].t="t";break;case"n":case"?":for(T=a+1;i[T]!=null&&((o=i[T].t)==="?"||o==="D"||(o===" "||o==="t")&&i[T+1]!=null&&(i[T+1].t==="?"||i[T+1].t==="t"&&i[T+1].v==="/")||i[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[T].v==="/"||i[T].v===" "&&i[T+1]!=null&&i[T+1].t=="?"));)i[a].v+=i[T].v,i[T]={v:"",t:";"},++T;b+=i[a].v,a=T-1;break;case"G":i[a].t="t",i[a].v=Cg(e,t);break}var R="",P,B;if(b.length>0){b.charCodeAt(0)==40?(P=e<0&&b.charCodeAt(0)===45?-e:e,B=bh("n",b,P)):(P=e<0&&n>1?-e:e,B=bh("n",b,P),P<0&&i[0]&&i[0].t=="t"&&(B=B.substr(1),i[0].v="-"+i[0].v)),T=B.length-1;var E=i.length;for(a=0;a<i.length;++a)if(i[a]!=null&&i[a].t!="t"&&i[a].v.indexOf(".")>-1){E=a;break}var _=i.length;if(E===i.length&&B.indexOf("E")===-1){for(a=i.length-1;a>=0;--a)i[a]==null||"n?".indexOf(i[a].t)===-1||(T>=i[a].v.length-1?(T-=i[a].v.length,i[a].v=B.substr(T+1,i[a].v.length)):T<0?i[a].v="":(i[a].v=B.substr(0,T+1),T=-1),i[a].t="t",_=a);T>=0&&_<i.length&&(i[_].v=B.substr(0,T+1)+i[_].v)}else if(E!==i.length&&B.indexOf("E")===-1){for(T=B.indexOf(".")-1,a=E;a>=0;--a)if(!(i[a]==null||"n?".indexOf(i[a].t)===-1)){for(c=i[a].v.indexOf(".")>-1&&a===E?i[a].v.indexOf(".")-1:i[a].v.length-1,R=i[a].v.substr(c+1);c>=0;--c)T>=0&&(i[a].v.charAt(c)==="0"||i[a].v.charAt(c)==="#")&&(R=B.charAt(T--)+R);i[a].v=R,i[a].t="t",_=a}for(T>=0&&_<i.length&&(i[_].v=B.substr(0,T+1)+i[_].v),T=B.indexOf(".")+1,a=E;a<i.length;++a)if(!(i[a]==null||"n?(".indexOf(i[a].t)===-1&&a!==E)){for(c=i[a].v.indexOf(".")>-1&&a===E?i[a].v.indexOf(".")+1:0,R=i[a].v.substr(0,c);c<i[a].v.length;++c)T<B.length&&(R+=B.charAt(T++));i[a].v=R,i[a].t="t",_=a}}}for(a=0;a<i.length;++a)i[a]!=null&&"n?".indexOf(i[a].t)>-1&&(P=n>1&&e<0&&a>0&&i[a-1].v==="-"?-e:e,i[a].v=bh(i[a].t,i[a].v,P),i[a].t="t");var I="";for(a=0;a!==i.length;++a)i[a]!=null&&(I+=i[a].v);return I}var zO=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function WO(r,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(r==t)return!0;break;case">":if(r>t)return!0;break;case"<":if(r<t)return!0;break;case"<>":if(r!=t)return!0;break;case">=":if(r>=t)return!0;break;case"<=":if(r<=t)return!0;break}return!1}function Qce(r,e){var t=Mce(r),n=t.length,i=t[n-1].indexOf("@");if(n<4&&i>-1&&--n,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||i>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=i>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=i>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=i>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var s=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[n,s];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var a=t[0].match(zO),o=t[1].match(zO);return WO(e,a)?[n,t[0]]:WO(e,o)?[n,t[1]]:[n,t[a!=null&&o!=null?2:1]]}return[n,s]}function sl(r,e,t){t==null&&(t={});var n="";switch(typeof r){case"string":r=="m/d/yy"&&t.dateNF?n=t.dateNF:n=r;break;case"number":r==14&&t.dateNF?n=t.dateNF:n=(t.table!=null?t.table:pr)[r],n==null&&(n=t.table&&t.table[VO[r]]||pr[VO[r]]),n==null&&(n=_ce[r]||"General");break}if(bS(n,0))return Cg(e,t);e instanceof Date&&(e=wG(e,t.date1904));var i=Qce(n,e);if(bS(i[1]))return Cg(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return Oce(i[1],e,t,i[0])}function sg(r,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(pr[t]==null){e<0&&(e=t);continue}if(pr[t]==r){e=t;break}}e<0&&(e=391)}return pr[e]=r,e}function TG(){pr=xce()}var Hce={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},FG=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Vce(r){var e=typeof r=="number"?pr[r]:r;return e=e.replace(FG,"(\\d+)"),new RegExp("^"+e+"$")}function jce(r,e,t){var n=-1,i=-1,s=-1,a=-1,o=-1,A=-1;(e.match(FG)||[]).forEach(function(u,h){var f=parseInt(t[h+1],10);switch(u.toLowerCase().charAt(0)){case"y":n=f;break;case"d":s=f;break;case"h":a=f;break;case"s":A=f;break;case"m":a>=0?o=f:i=f;break}}),A>=0&&o==-1&&i>=0&&(o=i,i=-1);var l=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);l.length==7&&(l="0"+l),l.length==8&&(l="20"+l);var c=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(A>=0?A:0)).slice(-2);return a==-1&&o==-1&&A==-1?l:n==-1&&i==-1&&s==-1?c:l+"T"+c}var Kce=function(){var r={};r.version="1.2.0";function e(){for(var B=0,E=new Array(256),_=0;_!=256;++_)B=_,B=B&1?-306674912^B>>>1:B>>>1,B=B&1?-306674912^B>>>1:B>>>1,B=B&1?-306674912^B>>>1:B>>>1,B=B&1?-306674912^B>>>1:B>>>1,B=B&1?-306674912^B>>>1:B>>>1,B=B&1?-306674912^B>>>1:B>>>1,B=B&1?-306674912^B>>>1:B>>>1,B=B&1?-306674912^B>>>1:B>>>1,E[_]=B;return typeof Int32Array<"u"?new Int32Array(E):E}var t=e();function n(B){var E=0,_=0,I=0,S=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(I=0;I!=256;++I)S[I]=B[I];for(I=0;I!=256;++I)for(_=B[I],E=256+I;E<4096;E+=256)_=S[E]=_>>>8^B[_&255];var F=[];for(I=1;I!=16;++I)F[I-1]=typeof Int32Array<"u"?S.subarray(I*256,I*256+256):S.slice(I*256,I*256+256);return F}var i=n(t),s=i[0],a=i[1],o=i[2],A=i[3],l=i[4],c=i[5],u=i[6],h=i[7],f=i[8],d=i[9],p=i[10],v=i[11],m=i[12],x=i[13],b=i[14];function T(B,E){for(var _=E^-1,I=0,S=B.length;I<S;)_=_>>>8^t[(_^B.charCodeAt(I++))&255];return~_}function R(B,E){for(var _=E^-1,I=B.length-15,S=0;S<I;)_=b[B[S++]^_&255]^x[B[S++]^_>>8&255]^m[B[S++]^_>>16&255]^v[B[S++]^_>>>24]^p[B[S++]]^d[B[S++]]^f[B[S++]]^h[B[S++]]^u[B[S++]]^c[B[S++]]^l[B[S++]]^A[B[S++]]^o[B[S++]]^a[B[S++]]^s[B[S++]]^t[B[S++]];for(I+=15;S<I;)_=_>>>8^t[(_^B[S++])&255];return~_}function P(B,E){for(var _=E^-1,I=0,S=B.length,F=0,N=0;I<S;)F=B.charCodeAt(I++),F<128?_=_>>>8^t[(_^F)&255]:F<2048?(_=_>>>8^t[(_^(192|F>>6&31))&255],_=_>>>8^t[(_^(128|F&63))&255]):F>=55296&&F<57344?(F=(F&1023)+64,N=B.charCodeAt(I++)&1023,_=_>>>8^t[(_^(240|F>>8&7))&255],_=_>>>8^t[(_^(128|F>>2&63))&255],_=_>>>8^t[(_^(128|N>>6&15|(F&3)<<4))&255],_=_>>>8^t[(_^(128|N&63))&255]):(_=_>>>8^t[(_^(224|F>>12&15))&255],_=_>>>8^t[(_^(128|F>>6&63))&255],_=_>>>8^t[(_^(128|F&63))&255]);return~_}return r.table=t,r.bstr=T,r.buf=R,r.str=P,r}(),Hr=function(){var e={};e.version="1.2.1";function t(q,me){for(var Ae=q.split("/"),he=me.split("/"),pe=0,ye=0,Pe=Math.min(Ae.length,he.length);pe<Pe;++pe){if(ye=Ae[pe].length-he[pe].length)return ye;if(Ae[pe]!=he[pe])return Ae[pe]<he[pe]?-1:1}return Ae.length-he.length}function n(q){if(q.charAt(q.length-1)=="/")return q.slice(0,-1).indexOf("/")===-1?q:n(q.slice(0,-1));var me=q.lastIndexOf("/");return me===-1?q:q.slice(0,me+1)}function i(q){if(q.charAt(q.length-1)=="/")return i(q.slice(0,-1));var me=q.lastIndexOf("/");return me===-1?q:q.slice(me+1)}function s(q,me){typeof me=="string"&&(me=new Date(me));var Ae=me.getHours();Ae=Ae<<6|me.getMinutes(),Ae=Ae<<5|me.getSeconds()>>>1,q.write_shift(2,Ae);var he=me.getFullYear()-1980;he=he<<4|me.getMonth()+1,he=he<<5|me.getDate(),q.write_shift(2,he)}function a(q){var me=q.read_shift(2)&65535,Ae=q.read_shift(2)&65535,he=new Date,pe=Ae&31;Ae>>>=5;var ye=Ae&15;Ae>>>=4,he.setMilliseconds(0),he.setFullYear(Ae+1980),he.setMonth(ye-1),he.setDate(pe);var Pe=me&31;me>>>=5;var He=me&63;return me>>>=6,he.setHours(me),he.setMinutes(He),he.setSeconds(Pe<<1),he}function o(q){Ks(q,0);for(var me={},Ae=0;q.l<=q.length-4;){var he=q.read_shift(2),pe=q.read_shift(2),ye=q.l+pe,Pe={};switch(he){case 21589:Ae=q.read_shift(1),Ae&1&&(Pe.mtime=q.read_shift(4)),pe>5&&(Ae&2&&(Pe.atime=q.read_shift(4)),Ae&4&&(Pe.ctime=q.read_shift(4))),Pe.mtime&&(Pe.mt=new Date(Pe.mtime*1e3));break}q.l=ye,me[he]=Pe}return me}var A;function l(){return A||(A={})}function c(q,me){if(q[0]==80&&q[1]==75)return wn(q,me);if((q[0]|32)==109&&(q[1]|32)==105)return zt(q,me);if(q.length<512)throw new Error("CFB file size "+q.length+" < 512");var Ae=3,he=512,pe=0,ye=0,Pe=0,He=0,Re=0,Ne=[],Me=q.slice(0,512);Ks(Me,0);var et=u(Me);switch(Ae=et[0],Ae){case 3:he=512;break;case 4:he=4096;break;case 0:if(et[1]==0)return wn(q,me);default:throw new Error("Major Version: Expected 3 or 4 saw "+Ae)}he!==512&&(Me=q.slice(0,he),Ks(Me,28));var lt=q.slice(0,he);h(Me,Ae);var dt=Me.read_shift(4,"i");if(Ae===3&&dt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+dt);Me.l+=4,Pe=Me.read_shift(4,"i"),Me.l+=4,Me.chk("00100000","Mini Stream Cutoff Size: "),He=Me.read_shift(4,"i"),pe=Me.read_shift(4,"i"),Re=Me.read_shift(4,"i"),ye=Me.read_shift(4,"i");for(var it=-1,ut=0;ut<109&&(it=Me.read_shift(4,"i"),!(it<0));++ut)Ne[ut]=it;var qt=f(q,he);v(Re,ye,qt,he,Ne);var $r=x(qt,Pe,Ne,he);$r[Pe].name="!Directory",pe>0&&He!==N&&($r[He].name="!MiniFAT"),$r[Ne[0]].name="!FAT",$r.fat_addrs=Ne,$r.ssz=he;var dr={},tn=[],co=[],Do=[];b(Pe,$r,qt,tn,pe,dr,co,He),d(co,Do,tn),tn.shift();var Uo={FileIndex:co,FullPaths:Do};return me&&me.raw&&(Uo.raw={header:lt,sectors:qt}),Uo}function u(q){if(q[q.l]==80&&q[q.l+1]==75)return[0,0];q.chk(G,"Header Signature: "),q.l+=16;var me=q.read_shift(2,"u");return[q.read_shift(2,"u"),me]}function h(q,me){var Ae=9;switch(q.l+=2,Ae=q.read_shift(2)){case 9:if(me!=3)throw new Error("Sector Shift: Expected 9 saw "+Ae);break;case 12:if(me!=4)throw new Error("Sector Shift: Expected 12 saw "+Ae);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Ae)}q.chk("0600","Mini Sector Shift: "),q.chk("000000000000","Reserved: ")}function f(q,me){for(var Ae=Math.ceil(q.length/me)-1,he=[],pe=1;pe<Ae;++pe)he[pe-1]=q.slice(pe*me,(pe+1)*me);return he[Ae-1]=q.slice(Ae*me),he}function d(q,me,Ae){for(var he=0,pe=0,ye=0,Pe=0,He=0,Re=Ae.length,Ne=[],Me=[];he<Re;++he)Ne[he]=Me[he]=he,me[he]=Ae[he];for(;He<Me.length;++He)he=Me[He],pe=q[he].L,ye=q[he].R,Pe=q[he].C,Ne[he]===he&&(pe!==-1&&Ne[pe]!==pe&&(Ne[he]=Ne[pe]),ye!==-1&&Ne[ye]!==ye&&(Ne[he]=Ne[ye])),Pe!==-1&&(Ne[Pe]=he),pe!==-1&&he!=Ne[he]&&(Ne[pe]=Ne[he],Me.lastIndexOf(pe)<He&&Me.push(pe)),ye!==-1&&he!=Ne[he]&&(Ne[ye]=Ne[he],Me.lastIndexOf(ye)<He&&Me.push(ye));for(he=1;he<Re;++he)Ne[he]===he&&(ye!==-1&&Ne[ye]!==ye?Ne[he]=Ne[ye]:pe!==-1&&Ne[pe]!==pe&&(Ne[he]=Ne[pe]));for(he=1;he<Re;++he)if(q[he].type!==0){if(He=he,He!=Ne[He])do He=Ne[He],me[he]=me[He]+"/"+me[he];while(He!==0&&Ne[He]!==-1&&He!=Ne[He]);Ne[he]=-1}for(me[0]+="/",he=1;he<Re;++he)q[he].type!==2&&(me[he]+="/")}function p(q,me,Ae){for(var he=q.start,pe=q.size,ye=[],Pe=he;Ae&&pe>0&&Pe>=0;)ye.push(me.slice(Pe*F,Pe*F+F)),pe-=F,Pe=M0(Ae,Pe*4);return ye.length===0?is(0):If(ye).slice(0,q.size)}function v(q,me,Ae,he,pe){var ye=N;if(q===N){if(me!==0)throw new Error("DIFAT chain shorter than expected")}else if(q!==-1){var Pe=Ae[q],He=(he>>>2)-1;if(!Pe)return;for(var Re=0;Re<He&&(ye=M0(Pe,Re*4))!==N;++Re)pe.push(ye);v(M0(Pe,he-4),me-1,Ae,he,pe)}}function m(q,me,Ae,he,pe){var ye=[],Pe=[];pe||(pe=[]);var He=he-1,Re=0,Ne=0;for(Re=me;Re>=0;){pe[Re]=!0,ye[ye.length]=Re,Pe.push(q[Re]);var Me=Ae[Math.floor(Re*4/he)];if(Ne=Re*4&He,he<4+Ne)throw new Error("FAT boundary crossed: "+Re+" 4 "+he);if(!q[Me])break;Re=M0(q[Me],Ne)}return{nodes:ye,data:r6([Pe])}}function x(q,me,Ae,he){var pe=q.length,ye=[],Pe=[],He=[],Re=[],Ne=he-1,Me=0,et=0,lt=0,dt=0;for(Me=0;Me<pe;++Me)if(He=[],lt=Me+me,lt>=pe&&(lt-=pe),!Pe[lt]){Re=[];var it=[];for(et=lt;et>=0;){it[et]=!0,Pe[et]=!0,He[He.length]=et,Re.push(q[et]);var ut=Ae[Math.floor(et*4/he)];if(dt=et*4&Ne,he<4+dt)throw new Error("FAT boundary crossed: "+et+" 4 "+he);if(!q[ut]||(et=M0(q[ut],dt),it[et]))break}ye[lt]={nodes:He,data:r6([Re])}}return ye}function b(q,me,Ae,he,pe,ye,Pe,He){for(var Re=0,Ne=he.length?2:0,Me=me[q].data,et=0,lt=0,dt;et<Me.length;et+=128){var it=Me.slice(et,et+128);Ks(it,64),lt=it.read_shift(2),dt=oN(it,0,lt-Ne),he.push(dt);var ut={name:dt,type:it.read_shift(1),color:it.read_shift(1),L:it.read_shift(4,"i"),R:it.read_shift(4,"i"),C:it.read_shift(4,"i"),clsid:it.read_shift(16),state:it.read_shift(4,"i"),start:0,size:0},qt=it.read_shift(2)+it.read_shift(2)+it.read_shift(2)+it.read_shift(2);qt!==0&&(ut.ct=T(it,it.l-8));var $r=it.read_shift(2)+it.read_shift(2)+it.read_shift(2)+it.read_shift(2);$r!==0&&(ut.mt=T(it,it.l-8)),ut.start=it.read_shift(4,"i"),ut.size=it.read_shift(4,"i"),ut.size<0&&ut.start<0&&(ut.size=ut.type=0,ut.start=N,ut.name=""),ut.type===5?(Re=ut.start,pe>0&&Re!==N&&(me[Re].name="!StreamData")):ut.size>=4096?(ut.storage="fat",me[ut.start]===void 0&&(me[ut.start]=m(Ae,ut.start,me.fat_addrs,me.ssz)),me[ut.start].name=ut.name,ut.content=me[ut.start].data.slice(0,ut.size)):(ut.storage="minifat",ut.size<0?ut.size=0:Re!==N&&ut.start!==N&&me[Re]&&(ut.content=p(ut,me[Re].data,(me[He]||{}).data))),ut.content&&Ks(ut.content,0),ye[dt]=ut,Pe.push(ut)}}function T(q,me){return new Date((fA(q,me+4)/1e7*Math.pow(2,32)+fA(q,me)/1e7-11644473600)*1e3)}function R(q,me){return l(),c(A.readFileSync(q),me)}function P(q,me){var Ae=me&&me.type;switch(Ae||Ur&&Buffer.isBuffer(q)&&(Ae="buffer"),Ae||"base64"){case"file":return R(q,me);case"base64":return c(Ol(bA(q)),me);case"binary":return c(Ol(q),me)}return c(q,me)}function B(q,me){var Ae=me||{},he=Ae.root||"Root Entry";if(q.FullPaths||(q.FullPaths=[]),q.FileIndex||(q.FileIndex=[]),q.FullPaths.length!==q.FileIndex.length)throw new Error("inconsistent CFB structure");q.FullPaths.length===0&&(q.FullPaths[0]=he+"/",q.FileIndex[0]={name:he,type:5}),Ae.CLSID&&(q.FileIndex[0].clsid=Ae.CLSID),E(q)}function E(q){var me="Sh33tJ5";if(!Hr.find(q,"/"+me)){var Ae=is(4);Ae[0]=55,Ae[1]=Ae[3]=50,Ae[2]=54,q.FileIndex.push({name:me,type:2,content:Ae,size:4,L:69,R:69,C:69}),q.FullPaths.push(q.FullPaths[0]+me),_(q)}}function _(q,me){B(q);for(var Ae=!1,he=!1,pe=q.FullPaths.length-1;pe>=0;--pe){var ye=q.FileIndex[pe];switch(ye.type){case 0:he?Ae=!0:(q.FileIndex.pop(),q.FullPaths.pop());break;case 1:case 2:case 5:he=!0,isNaN(ye.R*ye.L*ye.C)&&(Ae=!0),ye.R>-1&&ye.L>-1&&ye.R==ye.L&&(Ae=!0);break;default:Ae=!0;break}}if(!(!Ae&&!me)){var Pe=new Date(1987,1,19),He=0,Re=Object.create?Object.create(null):{},Ne=[];for(pe=0;pe<q.FullPaths.length;++pe)Re[q.FullPaths[pe]]=!0,q.FileIndex[pe].type!==0&&Ne.push([q.FullPaths[pe],q.FileIndex[pe]]);for(pe=0;pe<Ne.length;++pe){var Me=n(Ne[pe][0]);he=Re[Me],he||(Ne.push([Me,{name:i(Me).replace("/",""),type:1,clsid:ie,ct:Pe,mt:Pe,content:null}]),Re[Me]=!0)}for(Ne.sort(function(dt,it){return t(dt[0],it[0])}),q.FullPaths=[],q.FileIndex=[],pe=0;pe<Ne.length;++pe)q.FullPaths[pe]=Ne[pe][0],q.FileIndex[pe]=Ne[pe][1];for(pe=0;pe<Ne.length;++pe){var et=q.FileIndex[pe],lt=q.FullPaths[pe];if(et.name=i(lt).replace("/",""),et.L=et.R=et.C=-(et.color=1),et.size=et.content?et.content.length:0,et.start=0,et.clsid=et.clsid||ie,pe===0)et.C=Ne.length>1?1:-1,et.size=0,et.type=5;else if(lt.slice(-1)=="/"){for(He=pe+1;He<Ne.length&&n(q.FullPaths[He])!=lt;++He);for(et.C=He>=Ne.length?-1:He,He=pe+1;He<Ne.length&&n(q.FullPaths[He])!=n(lt);++He);et.R=He>=Ne.length?-1:He,et.type=1}else n(q.FullPaths[pe+1]||"")==n(lt)&&(et.R=pe+1),et.type=2}}}function I(q,me){var Ae=me||{};if(Ae.fileType=="mad")return xn(q,Ae);switch(_(q),Ae.fileType){case"zip":return jr(q,Ae)}var he=function(dt){for(var it=0,ut=0,qt=0;qt<dt.FileIndex.length;++qt){var $r=dt.FileIndex[qt];if($r.content){var dr=$r.content.length;dr>0&&(dr<4096?it+=dr+63>>6:ut+=dr+511>>9)}}for(var tn=dt.FullPaths.length+3>>2,co=it+7>>3,Do=it+127>>7,Uo=co+ut+tn+Do,Da=Uo+127>>7,Al=Da<=109?0:Math.ceil((Da-109)/127);Uo+Da+Al+127>>7>Da;)Al=++Da<=109?0:Math.ceil((Da-109)/127);var Mi=[1,Al,Da,Do,tn,ut,it,0];return dt.FileIndex[0].size=it<<6,Mi[7]=(dt.FileIndex[0].start=Mi[0]+Mi[1]+Mi[2]+Mi[3]+Mi[4]+Mi[5])+(Mi[6]+7>>3),Mi}(q),pe=is(he[7]<<9),ye=0,Pe=0;{for(ye=0;ye<8;++ye)pe.write_shift(1,le[ye]);for(ye=0;ye<8;++ye)pe.write_shift(2,0);for(pe.write_shift(2,62),pe.write_shift(2,3),pe.write_shift(2,65534),pe.write_shift(2,9),pe.write_shift(2,6),ye=0;ye<3;++ye)pe.write_shift(2,0);for(pe.write_shift(4,0),pe.write_shift(4,he[2]),pe.write_shift(4,he[0]+he[1]+he[2]+he[3]-1),pe.write_shift(4,0),pe.write_shift(4,4096),pe.write_shift(4,he[3]?he[0]+he[1]+he[2]-1:N),pe.write_shift(4,he[3]),pe.write_shift(-4,he[1]?he[0]-1:N),pe.write_shift(4,he[1]),ye=0;ye<109;++ye)pe.write_shift(-4,ye<he[2]?he[1]+ye:-1)}if(he[1])for(Pe=0;Pe<he[1];++Pe){for(;ye<236+Pe*127;++ye)pe.write_shift(-4,ye<he[2]?he[1]+ye:-1);pe.write_shift(-4,Pe===he[1]-1?N:Pe+1)}var He=function(dt){for(Pe+=dt;ye<Pe-1;++ye)pe.write_shift(-4,ye+1);dt&&(++ye,pe.write_shift(-4,N))};for(Pe=ye=0,Pe+=he[1];ye<Pe;++ye)pe.write_shift(-4,te.DIFSECT);for(Pe+=he[2];ye<Pe;++ye)pe.write_shift(-4,te.FATSECT);He(he[3]),He(he[4]);for(var Re=0,Ne=0,Me=q.FileIndex[0];Re<q.FileIndex.length;++Re)Me=q.FileIndex[Re],Me.content&&(Ne=Me.content.length,!(Ne<4096)&&(Me.start=Pe,He(Ne+511>>9)));for(He(he[6]+7>>3);pe.l&511;)pe.write_shift(-4,te.ENDOFCHAIN);for(Pe=ye=0,Re=0;Re<q.FileIndex.length;++Re)Me=q.FileIndex[Re],Me.content&&(Ne=Me.content.length,!(!Ne||Ne>=4096)&&(Me.start=Pe,He(Ne+63>>6)));for(;pe.l&511;)pe.write_shift(-4,te.ENDOFCHAIN);for(ye=0;ye<he[4]<<2;++ye){var et=q.FullPaths[ye];if(!et||et.length===0){for(Re=0;Re<17;++Re)pe.write_shift(4,0);for(Re=0;Re<3;++Re)pe.write_shift(4,-1);for(Re=0;Re<12;++Re)pe.write_shift(4,0);continue}Me=q.FileIndex[ye],ye===0&&(Me.start=Me.size?Me.start-1:N);var lt=ye===0&&Ae.root||Me.name;if(Ne=2*(lt.length+1),pe.write_shift(64,lt,"utf16le"),pe.write_shift(2,Ne),pe.write_shift(1,Me.type),pe.write_shift(1,Me.color),pe.write_shift(-4,Me.L),pe.write_shift(-4,Me.R),pe.write_shift(-4,Me.C),Me.clsid)pe.write_shift(16,Me.clsid,"hex");else for(Re=0;Re<4;++Re)pe.write_shift(4,0);pe.write_shift(4,Me.state||0),pe.write_shift(4,0),pe.write_shift(4,0),pe.write_shift(4,0),pe.write_shift(4,0),pe.write_shift(4,Me.start),pe.write_shift(4,Me.size),pe.write_shift(4,0)}for(ye=1;ye<q.FileIndex.length;++ye)if(Me=q.FileIndex[ye],Me.size>=4096)if(pe.l=Me.start+1<<9,Ur&&Buffer.isBuffer(Me.content))Me.content.copy(pe,pe.l,0,Me.size),pe.l+=Me.size+511&-512;else{for(Re=0;Re<Me.size;++Re)pe.write_shift(1,Me.content[Re]);for(;Re&511;++Re)pe.write_shift(1,0)}for(ye=1;ye<q.FileIndex.length;++ye)if(Me=q.FileIndex[ye],Me.size>0&&Me.size<4096)if(Ur&&Buffer.isBuffer(Me.content))Me.content.copy(pe,pe.l,0,Me.size),pe.l+=Me.size+63&-64;else{for(Re=0;Re<Me.size;++Re)pe.write_shift(1,Me.content[Re]);for(;Re&63;++Re)pe.write_shift(1,0)}if(Ur)pe.l=pe.length;else for(;pe.l<pe.length;)pe.write_shift(1,0);return pe}function S(q,me){var Ae=q.FullPaths.map(function(Re){return Re.toUpperCase()}),he=Ae.map(function(Re){var Ne=Re.split("/");return Ne[Ne.length-(Re.slice(-1)=="/"?2:1)]}),pe=!1;me.charCodeAt(0)===47?(pe=!0,me=Ae[0].slice(0,-1)+me):pe=me.indexOf("/")!==-1;var ye=me.toUpperCase(),Pe=pe===!0?Ae.indexOf(ye):he.indexOf(ye);if(Pe!==-1)return q.FileIndex[Pe];var He=!ye.match(my);for(ye=ye.replace(ro,""),He&&(ye=ye.replace(my,"!")),Pe=0;Pe<Ae.length;++Pe)if((He?Ae[Pe].replace(my,"!"):Ae[Pe]).replace(ro,"")==ye||(He?he[Pe].replace(my,"!"):he[Pe]).replace(ro,"")==ye)return q.FileIndex[Pe];return null}var F=64,N=-2,G="d0cf11e0a1b11ae1",le=[208,207,17,224,161,177,26,225],ie="00000000000000000000000000000000",te={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:N,FREESECT:-1,HEADER_SIGNATURE:G,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ie,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function J(q,me,Ae){l();var he=I(q,Ae);A.writeFileSync(me,he)}function W(q){for(var me=new Array(q.length),Ae=0;Ae<q.length;++Ae)me[Ae]=String.fromCharCode(q[Ae]);return me.join("")}function be(q,me){var Ae=I(q,me);switch(me&&me.type||"buffer"){case"file":return l(),A.writeFileSync(me.filename,Ae),Ae;case"binary":return typeof Ae=="string"?Ae:W(Ae);case"base64":return MO(typeof Ae=="string"?Ae:W(Ae));case"buffer":if(Ur)return Buffer.isBuffer(Ae)?Ae:Mg(Ae);case"array":return typeof Ae=="string"?Ol(Ae):Ae}return Ae}var xe;function L(q){try{var me=q.InflateRaw,Ae=new me;if(Ae._processChunk(new Uint8Array([3,0]),Ae._finishFlushFlag),Ae.bytesRead)xe=q;else throw new Error("zlib does not expose bytesRead")}catch(he){console.error("cannot use native zlib: "+(he.message||he))}}function O(q,me){if(!xe)return fr(q,me);var Ae=xe.InflateRaw,he=new Ae,pe=he._processChunk(q.slice(q.l),he._finishFlushFlag);return q.l+=he.bytesRead,pe}function H(q){return xe?xe.deflateRawSync(q):at(q)}var Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Y=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],oe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function de(q){var me=(q<<1|q<<11)&139536|(q<<5|q<<15)&558144;return(me>>16|me>>8|me)&255}for(var fe=typeof Uint8Array<"u",_e=fe?new Uint8Array(256):[],Se=0;Se<256;++Se)_e[Se]=de(Se);function ne(q,me){var Ae=_e[q&255];return me<=8?Ae>>>8-me:(Ae=Ae<<8|_e[q>>8&255],me<=16?Ae>>>16-me:(Ae=Ae<<8|_e[q>>16&255],Ae>>>24-me))}function $e(q,me){var Ae=me&7,he=me>>>3;return(q[he]|(Ae<=6?0:q[he+1]<<8))>>>Ae&3}function Be(q,me){var Ae=me&7,he=me>>>3;return(q[he]|(Ae<=5?0:q[he+1]<<8))>>>Ae&7}function ue(q,me){var Ae=me&7,he=me>>>3;return(q[he]|(Ae<=4?0:q[he+1]<<8))>>>Ae&15}function Xe(q,me){var Ae=me&7,he=me>>>3;return(q[he]|(Ae<=3?0:q[he+1]<<8))>>>Ae&31}function je(q,me){var Ae=me&7,he=me>>>3;return(q[he]|(Ae<=1?0:q[he+1]<<8))>>>Ae&127}function qe(q,me,Ae){var he=me&7,pe=me>>>3,ye=(1<<Ae)-1,Pe=q[pe]>>>he;return Ae<8-he||(Pe|=q[pe+1]<<8-he,Ae<16-he)||(Pe|=q[pe+2]<<16-he,Ae<24-he)||(Pe|=q[pe+3]<<24-he),Pe&ye}function Ve(q,me,Ae){var he=me&7,pe=me>>>3;return he<=5?q[pe]|=(Ae&7)<<he:(q[pe]|=Ae<<he&255,q[pe+1]=(Ae&7)>>8-he),me+3}function ht(q,me,Ae){var he=me&7,pe=me>>>3;return Ae=(Ae&1)<<he,q[pe]|=Ae,me+1}function nt(q,me,Ae){var he=me&7,pe=me>>>3;return Ae<<=he,q[pe]|=Ae&255,Ae>>>=8,q[pe+1]=Ae,me+8}function Nt(q,me,Ae){var he=me&7,pe=me>>>3;return Ae<<=he,q[pe]|=Ae&255,Ae>>>=8,q[pe+1]=Ae&255,q[pe+2]=Ae>>>8,me+16}function gt(q,me){var Ae=q.length,he=2*Ae>me?2*Ae:me+5,pe=0;if(Ae>=me)return q;if(Ur){var ye=OO(he);if(q.copy)q.copy(ye);else for(;pe<q.length;++pe)ye[pe]=q[pe];return ye}else if(fe){var Pe=new Uint8Array(he);if(Pe.set)Pe.set(q);else for(;pe<Ae;++pe)Pe[pe]=q[pe];return Pe}return q.length=he,q}function Bt(q){for(var me=new Array(q),Ae=0;Ae<q;++Ae)me[Ae]=0;return me}function Et(q,me,Ae){var he=1,pe=0,ye=0,Pe=0,He=0,Re=q.length,Ne=fe?new Uint16Array(32):Bt(32);for(ye=0;ye<32;++ye)Ne[ye]=0;for(ye=Re;ye<Ae;++ye)q[ye]=0;Re=q.length;var Me=fe?new Uint16Array(Re):Bt(Re);for(ye=0;ye<Re;++ye)Ne[pe=q[ye]]++,he<pe&&(he=pe),Me[ye]=0;for(Ne[0]=0,ye=1;ye<=he;++ye)Ne[ye+16]=He=He+Ne[ye-1]<<1;for(ye=0;ye<Re;++ye)He=q[ye],He!=0&&(Me[ye]=Ne[He+16]++);var et=0;for(ye=0;ye<Re;++ye)if(et=q[ye],et!=0)for(He=ne(Me[ye],he)>>he-et,Pe=(1<<he+4-et)-1;Pe>=0;--Pe)me[He|Pe<<et]=et&15|ye<<4;return he}var At=fe?new Uint16Array(512):Bt(512),Ft=fe?new Uint16Array(32):Bt(32);if(!fe){for(var mt=0;mt<512;++mt)At[mt]=0;for(mt=0;mt<32;++mt)Ft[mt]=0}(function(){for(var q=[],me=0;me<32;me++)q.push(5);Et(q,Ft,32);var Ae=[];for(me=0;me<=143;me++)Ae.push(8);for(;me<=255;me++)Ae.push(9);for(;me<=279;me++)Ae.push(7);for(;me<=287;me++)Ae.push(8);Et(Ae,At,288)})();var vt=function(){for(var me=fe?new Uint8Array(32768):[],Ae=0,he=0;Ae<oe.length-1;++Ae)for(;he<oe[Ae+1];++he)me[he]=Ae;for(;he<32768;++he)me[he]=29;var pe=fe?new Uint8Array(259):[];for(Ae=0,he=0;Ae<Y.length-1;++Ae)for(;he<Y[Ae+1];++he)pe[he]=Ae;function ye(He,Re){for(var Ne=0;Ne<He.length;){var Me=Math.min(65535,He.length-Ne),et=Ne+Me==He.length;for(Re.write_shift(1,+et),Re.write_shift(2,Me),Re.write_shift(2,~Me&65535);Me-- >0;)Re[Re.l++]=He[Ne++]}return Re.l}function Pe(He,Re){for(var Ne=0,Me=0,et=fe?new Uint16Array(32768):[];Me<He.length;){var lt=Math.min(65535,He.length-Me);if(lt<10){for(Ne=Ve(Re,Ne,+(Me+lt==He.length)),Ne&7&&(Ne+=8-(Ne&7)),Re.l=Ne/8|0,Re.write_shift(2,lt),Re.write_shift(2,~lt&65535);lt-- >0;)Re[Re.l++]=He[Me++];Ne=Re.l*8;continue}Ne=Ve(Re,Ne,+(Me+lt==He.length)+2);for(var dt=0;lt-- >0;){var it=He[Me];dt=(dt<<5^it)&32767;var ut=-1,qt=0;if((ut=et[dt])&&(ut|=Me&-32768,ut>Me&&(ut-=32768),ut<Me))for(;He[ut+qt]==He[Me+qt]&&qt<250;)++qt;if(qt>2){it=pe[qt],it<=22?Ne=nt(Re,Ne,_e[it+1]>>1)-1:(nt(Re,Ne,3),Ne+=5,nt(Re,Ne,_e[it-23]>>5),Ne+=3);var $r=it<8?0:it-4>>2;$r>0&&(Nt(Re,Ne,qt-Y[it]),Ne+=$r),it=me[Me-ut],Ne=nt(Re,Ne,_e[it]>>3),Ne-=3;var dr=it<4?0:it-2>>1;dr>0&&(Nt(Re,Ne,Me-ut-oe[it]),Ne+=dr);for(var tn=0;tn<qt;++tn)et[dt]=Me&32767,dt=(dt<<5^He[Me])&32767,++Me;lt-=qt-1}else it<=143?it=it+48:Ne=ht(Re,Ne,1),Ne=nt(Re,Ne,_e[it]),et[dt]=Me&32767,++Me}Ne=nt(Re,Ne,0)-1}return Re.l=(Ne+7)/8|0,Re.l}return function(Re,Ne){return Re.length<8?ye(Re,Ne):Pe(Re,Ne)}}();function at(q){var me=is(50+Math.floor(q.length*1.1)),Ae=vt(q,me);return me.slice(0,Ae)}var ct=fe?new Uint16Array(32768):Bt(32768),jt=fe?new Uint16Array(32768):Bt(32768),Mt=fe?new Uint16Array(128):Bt(128),wt=1,Jt=1;function Jr(q,me){var Ae=Xe(q,me)+257;me+=5;var he=Xe(q,me)+1;me+=5;var pe=ue(q,me)+4;me+=4;for(var ye=0,Pe=fe?new Uint8Array(19):Bt(19),He=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Re=1,Ne=fe?new Uint8Array(8):Bt(8),Me=fe?new Uint8Array(8):Bt(8),et=Pe.length,lt=0;lt<pe;++lt)Pe[Q[lt]]=ye=Be(q,me),Re<ye&&(Re=ye),Ne[ye]++,me+=3;var dt=0;for(Ne[0]=0,lt=1;lt<=Re;++lt)Me[lt]=dt=dt+Ne[lt-1]<<1;for(lt=0;lt<et;++lt)(dt=Pe[lt])!=0&&(He[lt]=Me[dt]++);var it=0;for(lt=0;lt<et;++lt)if(it=Pe[lt],it!=0){dt=_e[He[lt]]>>8-it;for(var ut=(1<<7-it)-1;ut>=0;--ut)Mt[dt|ut<<it]=it&7|lt<<3}var qt=[];for(Re=1;qt.length<Ae+he;)switch(dt=Mt[je(q,me)],me+=dt&7,dt>>>=3){case 16:for(ye=3+$e(q,me),me+=2,dt=qt[qt.length-1];ye-- >0;)qt.push(dt);break;case 17:for(ye=3+Be(q,me),me+=3;ye-- >0;)qt.push(0);break;case 18:for(ye=11+je(q,me),me+=7;ye-- >0;)qt.push(0);break;default:qt.push(dt),Re<dt&&(Re=dt);break}var $r=qt.slice(0,Ae),dr=qt.slice(Ae);for(lt=Ae;lt<286;++lt)$r[lt]=0;for(lt=he;lt<30;++lt)dr[lt]=0;return wt=Et($r,ct,286),Jt=Et(dr,jt,30),me}function Wt(q,me){if(q[0]==3&&!(q[1]&3))return[$d(me),2];for(var Ae=0,he=0,pe=OO(me||1<<18),ye=0,Pe=pe.length>>>0,He=0,Re=0;!(he&1);){if(he=Be(q,Ae),Ae+=3,he>>>1)he>>1==1?(He=9,Re=5):(Ae=Jr(q,Ae),He=wt,Re=Jt);else{Ae&7&&(Ae+=8-(Ae&7));var Ne=q[Ae>>>3]|q[(Ae>>>3)+1]<<8;if(Ae+=32,Ne>0)for(!me&&Pe<ye+Ne&&(pe=gt(pe,ye+Ne),Pe=pe.length);Ne-- >0;)pe[ye++]=q[Ae>>>3],Ae+=8;continue}for(;;){!me&&Pe<ye+32767&&(pe=gt(pe,ye+32767),Pe=pe.length);var Me=qe(q,Ae,He),et=he>>>1==1?At[Me]:ct[Me];if(Ae+=et&15,et>>>=4,!(et>>>8&255))pe[ye++]=et;else{if(et==256)break;et-=257;var lt=et<8?0:et-4>>2;lt>5&&(lt=0);var dt=ye+Y[et];lt>0&&(dt+=qe(q,Ae,lt),Ae+=lt),Me=qe(q,Ae,Re),et=he>>>1==1?Ft[Me]:jt[Me],Ae+=et&15,et>>>=4;var it=et<4?0:et-2>>1,ut=oe[et];for(it>0&&(ut+=qe(q,Ae,it),Ae+=it),!me&&Pe<dt&&(pe=gt(pe,dt+100),Pe=pe.length);ye<dt;)pe[ye]=pe[ye-ut],++ye}}}return me?[pe,Ae+7>>>3]:[pe.slice(0,ye),Ae+7>>>3]}function fr(q,me){var Ae=q.slice(q.l||0),he=Wt(Ae,me);return q.l+=he[1],he[0]}function Zt(q,me){if(q)typeof console<"u"&&console.error(me);else throw new Error(me)}function wn(q,me){var Ae=q;Ks(Ae,0);var he=[],pe=[],ye={FileIndex:he,FullPaths:pe};B(ye,{root:me.root});for(var Pe=Ae.length-4;(Ae[Pe]!=80||Ae[Pe+1]!=75||Ae[Pe+2]!=5||Ae[Pe+3]!=6)&&Pe>=0;)--Pe;Ae.l=Pe+4,Ae.l+=4;var He=Ae.read_shift(2);Ae.l+=6;var Re=Ae.read_shift(4);for(Ae.l=Re,Pe=0;Pe<He;++Pe){Ae.l+=20;var Ne=Ae.read_shift(4),Me=Ae.read_shift(4),et=Ae.read_shift(2),lt=Ae.read_shift(2),dt=Ae.read_shift(2);Ae.l+=8;var it=Ae.read_shift(4),ut=o(Ae.slice(Ae.l+et,Ae.l+et+lt));Ae.l+=et+lt+dt;var qt=Ae.l;Ae.l=it+4,yn(Ae,Ne,Me,ye,ut),Ae.l=qt}return ye}function yn(q,me,Ae,he,pe){q.l+=2;var ye=q.read_shift(2),Pe=q.read_shift(2),He=a(q);if(ye&8257)throw new Error("Unsupported ZIP encryption");for(var Re=q.read_shift(4),Ne=q.read_shift(4),Me=q.read_shift(4),et=q.read_shift(2),lt=q.read_shift(2),dt="",it=0;it<et;++it)dt+=String.fromCharCode(q[q.l++]);if(lt){var ut=o(q.slice(q.l,q.l+lt));(ut[21589]||{}).mt&&(He=ut[21589].mt),((pe||{})[21589]||{}).mt&&(He=pe[21589].mt)}q.l+=lt;var qt=q.slice(q.l,q.l+Ne);switch(Pe){case 8:qt=O(q,Me);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Pe)}var $r=!1;ye&8&&(Re=q.read_shift(4),Re==134695760&&(Re=q.read_shift(4),$r=!0),Ne=q.read_shift(4),Me=q.read_shift(4)),Ne!=me&&Zt($r,"Bad compressed size: "+me+" != "+Ne),Me!=Ae&&Zt($r,"Bad uncompressed size: "+Ae+" != "+Me),li(he,dt,qt,{unsafe:!0,mt:He})}function jr(q,me){var Ae=me||{},he=[],pe=[],ye=is(1),Pe=Ae.compression?8:0,He=0,Re=0,Ne=0,Me=0,et=0,lt=q.FullPaths[0],dt=lt,it=q.FileIndex[0],ut=[],qt=0;for(Re=1;Re<q.FullPaths.length;++Re)if(dt=q.FullPaths[Re].slice(lt.length),it=q.FileIndex[Re],!(!it.size||!it.content||dt=="Sh33tJ5")){var $r=Me,dr=is(dt.length);for(Ne=0;Ne<dt.length;++Ne)dr.write_shift(1,dt.charCodeAt(Ne)&127);dr=dr.slice(0,dr.l),ut[et]=Kce.buf(it.content,0);var tn=it.content;Pe==8&&(tn=H(tn)),ye=is(30),ye.write_shift(4,67324752),ye.write_shift(2,20),ye.write_shift(2,He),ye.write_shift(2,Pe),it.mt?s(ye,it.mt):ye.write_shift(4,0),ye.write_shift(-4,ut[et]),ye.write_shift(4,tn.length),ye.write_shift(4,it.content.length),ye.write_shift(2,dr.length),ye.write_shift(2,0),Me+=ye.length,he.push(ye),Me+=dr.length,he.push(dr),Me+=tn.length,he.push(tn),ye=is(46),ye.write_shift(4,33639248),ye.write_shift(2,0),ye.write_shift(2,20),ye.write_shift(2,He),ye.write_shift(2,Pe),ye.write_shift(4,0),ye.write_shift(-4,ut[et]),ye.write_shift(4,tn.length),ye.write_shift(4,it.content.length),ye.write_shift(2,dr.length),ye.write_shift(2,0),ye.write_shift(2,0),ye.write_shift(2,0),ye.write_shift(2,0),ye.write_shift(4,0),ye.write_shift(4,$r),qt+=ye.l,pe.push(ye),qt+=dr.length,pe.push(dr),++et}return ye=is(22),ye.write_shift(4,101010256),ye.write_shift(2,0),ye.write_shift(2,0),ye.write_shift(2,et),ye.write_shift(2,et),ye.write_shift(4,qt),ye.write_shift(4,Me),ye.write_shift(2,0),If([If(he),If(pe),ye])}var Gt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function xr(q,me){if(q.ctype)return q.ctype;var Ae=q.name||"",he=Ae.match(/\.([^\.]+)$/);return he&&Gt[he[1]]||me&&(he=(Ae=me).match(/[\.\\]([^\.\\])+$/),he&&Gt[he[1]])?Gt[he[1]]:"application/octet-stream"}function BA(q){for(var me=MO(q),Ae=[],he=0;he<me.length;he+=76)Ae.push(me.slice(he,he+76));return Ae.join(`\r
`)+`\r
`}function Yn(q){var me=q.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ne){var Me=Ne.charCodeAt(0).toString(16).toUpperCase();return"="+(Me.length==1?"0"+Me:Me)});me=me.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),me.charAt(0)==`
`&&(me="=0D"+me.slice(1)),me=me.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Ae=[],he=me.split(`\r
`),pe=0;pe<he.length;++pe){var ye=he[pe];if(ye.length==0){Ae.push("");continue}for(var Pe=0;Pe<ye.length;){var He=76,Re=ye.slice(Pe,Pe+He);Re.charAt(He-1)=="="?He--:Re.charAt(He-2)=="="?He-=2:Re.charAt(He-3)=="="&&(He-=3),Re=ye.slice(Pe,Pe+He),Pe+=He,Pe<ye.length&&(Re+="="),Ae.push(Re)}}return Ae.join(`\r
`)}function Ao(q){for(var me=[],Ae=0;Ae<q.length;++Ae){for(var he=q[Ae];Ae<=q.length&&he.charAt(he.length-1)=="=";)he=he.slice(0,he.length-1)+q[++Ae];me.push(he)}for(var pe=0;pe<me.length;++pe)me[pe]=me[pe].replace(/[=][0-9A-Fa-f]{2}/g,function(ye){return String.fromCharCode(parseInt(ye.slice(1),16))});return Ol(me.join(`\r
`))}function fs(q,me,Ae){for(var he="",pe="",ye="",Pe,He=0;He<10;++He){var Re=me[He];if(!Re||Re.match(/^\s*$/))break;var Ne=Re.match(/^(.*?):\s*([^\s].*)$/);if(Ne)switch(Ne[1].toLowerCase()){case"content-location":he=Ne[2].trim();break;case"content-type":ye=Ne[2].trim();break;case"content-transfer-encoding":pe=Ne[2].trim();break}}switch(++He,pe.toLowerCase()){case"base64":Pe=Ol(bA(me.slice(He).join("")));break;case"quoted-printable":Pe=Ao(me.slice(He));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+pe)}var Me=li(q,he.slice(Ae.length),Pe,{unsafe:!0});ye&&(Me.ctype=ye)}function zt(q,me){if(W(q.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Ae=me&&me.root||"",he=(Ur&&Buffer.isBuffer(q)?q.toString("binary"):W(q)).split(`\r
`),pe=0,ye="";for(pe=0;pe<he.length;++pe)if(ye=he[pe],!!/^Content-Location:/i.test(ye)&&(ye=ye.slice(ye.indexOf("file")),Ae||(Ae=ye.slice(0,ye.lastIndexOf("/")+1)),ye.slice(0,Ae.length)!=Ae))for(;Ae.length>0&&(Ae=Ae.slice(0,Ae.length-1),Ae=Ae.slice(0,Ae.lastIndexOf("/")+1),ye.slice(0,Ae.length)!=Ae););var Pe=(he[1]||"").match(/boundary="(.*?)"/);if(!Pe)throw new Error("MAD cannot find boundary");var He="--"+(Pe[1]||""),Re=[],Ne=[],Me={FileIndex:Re,FullPaths:Ne};B(Me);var et,lt=0;for(pe=0;pe<he.length;++pe){var dt=he[pe];dt!==He&&dt!==He+"--"||(lt++&&fs(Me,he.slice(et,pe),Ae),et=pe)}return Me}function xn(q,me){var Ae=me||{},he=Ae.boundary||"SheetJS";he="------="+he;for(var pe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+he.slice(2)+'"',"","",""],ye=q.FullPaths[0],Pe=ye,He=q.FileIndex[0],Re=1;Re<q.FullPaths.length;++Re)if(Pe=q.FullPaths[Re].slice(ye.length),He=q.FileIndex[Re],!(!He.size||!He.content||Pe=="Sh33tJ5")){Pe=Pe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(qt){return"_x"+qt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(qt){return"_u"+qt.charCodeAt(0).toString(16)+"_"});for(var Ne=He.content,Me=Ur&&Buffer.isBuffer(Ne)?Ne.toString("binary"):W(Ne),et=0,lt=Math.min(1024,Me.length),dt=0,it=0;it<=lt;++it)(dt=Me.charCodeAt(it))>=32&&dt<128&&++et;var ut=et>=lt*4/5;pe.push(he),pe.push("Content-Location: "+(Ae.root||"file:///C:/SheetJS/")+Pe),pe.push("Content-Transfer-Encoding: "+(ut?"quoted-printable":"base64")),pe.push("Content-Type: "+xr(He,Pe)),pe.push(""),pe.push(ut?Yn(Me):BA(Me))}return pe.push(he+`--\r
`),pe.join(`\r
`)}function lo(q){var me={};return B(me,q),me}function li(q,me,Ae,he){var pe=he&&he.unsafe;pe||B(q);var ye=!pe&&Hr.find(q,me);if(!ye){var Pe=q.FullPaths[0];me.slice(0,Pe.length)==Pe?Pe=me:(Pe.slice(-1)!="/"&&(Pe+="/"),Pe=(Pe+me).replace("//","/")),ye={name:i(me),type:2},q.FileIndex.push(ye),q.FullPaths.push(Pe),pe||Hr.utils.cfb_gc(q)}return ye.content=Ae,ye.size=Ae?Ae.length:0,he&&(he.CLSID&&(ye.clsid=he.CLSID),he.mt&&(ye.mt=he.mt),he.ct&&(ye.ct=he.ct)),ye}function Ui(q,me){B(q);var Ae=Hr.find(q,me);if(Ae){for(var he=0;he<q.FileIndex.length;++he)if(q.FileIndex[he]==Ae)return q.FileIndex.splice(he,1),q.FullPaths.splice(he,1),!0}return!1}function Bn(q,me,Ae){B(q);var he=Hr.find(q,me);if(he){for(var pe=0;pe<q.FileIndex.length;++pe)if(q.FileIndex[pe]==he)return q.FileIndex[pe].name=i(Ae),q.FullPaths[pe]=Ae,!0}return!1}function ci(q){_(q,!0)}return e.find=S,e.read=P,e.parse=c,e.write=be,e.writeFile=J,e.utils={cfb_new:lo,cfb_add:li,cfb_del:Ui,cfb_mov:Bn,cfb_gc:ci,ReadShift:$y,CheckField:YG,prep_blob:Ks,bconcat:If,use_zlib:L,_deflateRaw:at,_inflateRaw:fr,consts:te},e}();function zce(r){if(typeof Deno<"u")return Deno.readFileSync(r);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(r);e.open("r"),e.encoding="binary";var t=e.read();return e.close(),t}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+r)}function tu(r){for(var e=Object.keys(r),t=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(r,e[n])&&t.push(e[n]);return t}function nN(r){for(var e=[],t=tu(r),n=0;n!==t.length;++n)e[r[t[n]]]=t[n];return e}var CS=new Date(1899,11,30,0,0,0);function so(r,e){var t=r.getTime(),n=CS.getTime()+(r.getTimezoneOffset()-CS.getTimezoneOffset())*6e4;return(t-n)/(24*60*60*1e3)}var IG=new Date,Wce=CS.getTime()+(IG.getTimezoneOffset()-CS.getTimezoneOffset())*6e4,GO=IG.getTimezoneOffset();function gT(r){var e=new Date;return e.setTime(r*24*60*60*1e3+Wce),e.getTimezoneOffset()!==GO&&e.setTime(e.getTime()+(e.getTimezoneOffset()-GO)*6e4),e}function Gce(r){var e=0,t=0,n=!1,i=r.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+r+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(t=1,s>3&&(n=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":t*=24;case"H":t*=60;case"M":if(n)t*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=t*parseInt(i[s],10)}return e}var $O=new Date("2017-02-19T19:06:09.000Z"),kG=isNaN($O.getFullYear())?new Date("2/19/17"):$O,$ce=kG.getFullYear()==2017;function Ts(r,e){var t=new Date(r);if($ce)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(r instanceof Date)return r;if(kG.getFullYear()==1917&&!isNaN(t.getFullYear())){var n=t.getFullYear();return r.indexOf(""+n)>-1||t.setFullYear(t.getFullYear()+100),t}var i=r.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return r.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function Bg(r,e){if(Ur&&Buffer.isBuffer(r)){if(e){if(r[0]==255&&r[1]==254)return wy(r.slice(2).toString("utf16le"));if(r[1]==254&&r[2]==255)return wy(mG(r.slice(2).toString("binary")))}return r.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(r[0]==255&&r[1]==254)return wy(new TextDecoder("utf-16le").decode(r.slice(2)));if(r[0]==254&&r[1]==255)return wy(new TextDecoder("utf-16be").decode(r.slice(2)))}var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(r)&&(r=new Uint8Array(r)),new TextDecoder("latin1").decode(r).replace(/[]/g,function(s){return t[s]||s})}catch{}for(var n=[],i=0;i!=r.length;++i)n.push(String.fromCharCode(r[i]));return n.join("")}function Xs(r){if(typeof JSON<"u"&&!Array.isArray(r))return JSON.parse(JSON.stringify(r));if(typeof r!="object"||r==null)return r;if(r instanceof Date)return new Date(r.getTime());var e={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=Xs(r[t]));return e}function vi(r,e){for(var t="";t.length<e;)t+=r;return t}function Wl(r){var e=Number(r);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(r))return e;var t=1,n=r.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,s){return t=-t,s}),!isNaN(e=Number(n)))?e/t:e}var qce=["january","february","march","april","may","june","july","august","september","october","november","december"];function Rv(r){var e=new Date(r),t=new Date(NaN),n=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return t;var a=r.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&qce.indexOf(a)==-1)return t}else if(a.match(/[a-z]/))return t;return n<0||n>8099?t:(i>0||s>1)&&n!=101?e:r.match(/[^-0-9:,\/\\]/)?t:e}var Xce=function(){var r="abacaba".split(/(:?b)/i).length==5;return function(t,n,i){if(r||typeof n=="string")return t.split(n);for(var s=t.split(n),a=[s[0]],o=1;o<s.length;++o)a.push(i),a.push(s[o]);return a}}();function LG(r){return r?r.content&&r.type?Bg(r.content,!0):r.data?gy(r.data):r.asNodeBuffer&&Ur?gy(r.asNodeBuffer().toString("binary")):r.asBinary?gy(r.asBinary()):r._data&&r._data.getContent?gy(Bg(Array.prototype.slice.call(r._data.getContent(),0))):null:null}function PG(r){if(!r)return null;if(r.data)return DO(r.data);if(r.asNodeBuffer&&Ur)return r.asNodeBuffer();if(r._data&&r._data.getContent){var e=r._data.getContent();return typeof e=="string"?DO(e):Array.prototype.slice.call(e)}return r.content&&r.type?r.content:null}function Yce(r){return r&&r.name.slice(-4)===".bin"?PG(r):LG(r)}function UA(r,e){for(var t=r.FullPaths||tu(r.files),n=e.toLowerCase().replace(/[\/]/g,"\\"),i=n.replace(/\\/g,"/"),s=0;s<t.length;++s){var a=t[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==a||i==a)return r.files?r.files[t[s]]:r.FileIndex[s]}return null}function iN(r,e){var t=UA(r,e);if(t==null)throw new Error("Cannot find file "+e+" in zip");return t}function Vi(r,e,t){if(!t)return Yce(iN(r,e));if(!e)return null;try{return Vi(r,e)}catch{return null}}function gA(r,e,t){if(!t)return LG(iN(r,e));if(!e)return null;try{return gA(r,e)}catch{return null}}function Jce(r,e,t){return PG(iN(r,e))}function qO(r){for(var e=r.FullPaths||tu(r.files),t=[],n=0;n<e.length;++n)e[n].slice(-1)!="/"&&t.push(e[n].replace(/^Root Entry[\/]/,""));return t.sort()}function Zce(r,e,t){if(r.FullPaths){if(typeof t=="string"){var n;return Ur?n=Mg(t):n=vce(t),Hr.utils.cfb_add(r,e,n)}Hr.utils.cfb_add(r,e,t)}else r.file(e,t)}function RG(r,e){switch(e.type){case"base64":return Hr.read(r,{type:"base64"});case"binary":return Hr.read(r,{type:"binary"});case"buffer":case"array":return Hr.read(r,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function vy(r,e){if(r.charAt(0)=="/")return r.slice(1);var t=e.split("/");e.slice(-1)!="/"&&t.pop();for(var n=r.split("/");n.length!==0;){var i=n.shift();i===".."?t.pop():i!=="."&&t.push(i)}return t.join("/")}var NG=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,eue=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,XO=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,tue=/<[^>]*>/g,Na=NG.match(XO)?XO:tue,rue=/<\w*:/,nue=/<(\/?)\w+:/;function tr(r,e,t){for(var n={},i=0,s=0;i!==r.length&&!((s=r.charCodeAt(i))===32||s===10||s===13);++i);if(e||(n[0]=r.slice(0,i)),i===r.length)return n;var a=r.match(eue),o=0,A="",l=0,c="",u="",h=1;if(a)for(l=0;l!=a.length;++l){for(u=a[l],s=0;s!=u.length&&u.charCodeAt(s)!==61;++s);for(c=u.slice(0,s).trim();u.charCodeAt(s+1)==32;)++s;for(h=(i=u.charCodeAt(s+1))==34||i==39?1:0,A=u.slice(s+1+h,u.length-h),o=0;o!=c.length&&c.charCodeAt(o)!==58;++o);if(o===c.length)c.indexOf("_")>0&&(c=c.slice(0,c.indexOf("_"))),n[c]=A,n[c.toLowerCase()]=A;else{var f=(o===5&&c.slice(0,5)==="xmlns"?"xmlns":"")+c.slice(o+1);if(n[f]&&c.slice(o-3,o)=="ext")continue;n[f]=A,n[f.toLowerCase()]=A}}return n}function iu(r){return r.replace(nue,"<$1")}var DG={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},iue=nN(DG),Wr=function(){var r=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function t(n){var i=n+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(r,function(o,A){return DG[o]||String.fromCharCode(parseInt(A,o.indexOf("x")>-1?16:10))||o}).replace(e,function(o,A){return String.fromCharCode(parseInt(A,16))});var a=i.indexOf("]]>");return t(i.slice(0,s))+i.slice(s+9,a)+t(i.slice(a+3))}}(),sue=/[&<>'"]/g,aue=/[\u0000-\u001f]/g;function sN(r){var e=r+"";return e.replace(sue,function(t){return iue[t]}).replace(/\n/g,"<br/>").replace(aue,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}var YO=function(){var r=/&#(\d+);/g;function e(t,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(r,e)}}();function Gn(r){switch(r){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function XF(r){for(var e="",t=0,n=0,i=0,s=0,a=0,o=0;t<r.length;){if(n=r.charCodeAt(t++),n<128){e+=String.fromCharCode(n);continue}if(i=r.charCodeAt(t++),n>191&&n<224){a=(n&31)<<6,a|=i&63,e+=String.fromCharCode(a);continue}if(s=r.charCodeAt(t++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|s&63);continue}a=r.charCodeAt(t++),o=((n&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function JO(r){var e=$d(2*r.length),t,n,i=1,s=0,a=0,o;for(n=0;n<r.length;n+=i)i=1,(o=r.charCodeAt(n))<128?t=o:o<224?(t=(o&31)*64+(r.charCodeAt(n+1)&63),i=2):o<240?(t=(o&15)*4096+(r.charCodeAt(n+1)&63)*64+(r.charCodeAt(n+2)&63),i=3):(i=4,t=(o&7)*262144+(r.charCodeAt(n+1)&63)*4096+(r.charCodeAt(n+2)&63)*64+(r.charCodeAt(n+3)&63),t-=65536,a=55296+(t>>>10&1023),t=56320+(t&1023)),a!==0&&(e[s++]=a&255,e[s++]=a>>>8,a=0),e[s++]=t%256,e[s++]=t>>>8;return e.slice(0,s).toString("ucs2")}function ZO(r){return Mg(r,"binary").toString("utf8")}var hE="foo bar baz",Rn=Ur&&(ZO(hE)==XF(hE)&&ZO||JO(hE)==XF(hE)&&JO)||XF,wy=Ur?function(r){return Mg(r,"utf8").toString("binary")}:function(r){for(var e=[],t=0,n=0,i=0;t<r.length;)switch(n=r.charCodeAt(t++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=r.charCodeAt(t++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},q2=function(){var r={};return function(t,n){var i=t+"|"+(n||"");return r[i]?r[i]:r[i]=new RegExp("<(?:\\w+:)?"+t+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+t+">",n||"")}}(),UG=function(){var r=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var n=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<r.length;++i)n=n.replace(r[i][0],r[i][1]);return n}}(),oue=function(){var r={};return function(t){return r[t]!==void 0?r[t]:r[t]=new RegExp("<(?:vt:)?"+t+">([\\s\\S]*?)</(?:vt:)?"+t+">","g")}}(),Aue=/<\/?(?:vt:)?variant>/g,lue=/<(?:vt:)([^>]*)>([\s\S]*)</;function e6(r,e){var t=tr(r),n=r.match(oue(t.baseType))||[],i=[];if(n.length!=t.size){if(e.WTF)throw new Error("unexpected vector length "+n.length+" != "+t.size);return i}return n.forEach(function(s){var a=s.replace(Aue,"").match(lue);a&&i.push({v:Rn(a[2]),t:a[1]})}),i}var cue=/(^\s|\s$|\n)/;function uue(r){return tu(r).map(function(e){return" "+e+'="'+r[e]+'"'}).join("")}function hue(r,e,t){return"<"+r+(t!=null?uue(t):"")+(e!=null?(e.match(cue)?' xml:space="preserve"':"")+">"+e+"</"+r:"/")+">"}function aN(r){if(Ur&&Buffer.isBuffer(r))return r.toString("utf8");if(typeof r=="string")return r;if(typeof Uint8Array<"u"&&r instanceof Uint8Array)return Rn(Og(eN(r)));throw new Error("Bad input format: expected Buffer or string")}var X2=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,fue={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},due=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function pue(r,e){for(var t=1-2*(r[e+7]>>>7),n=((r[e+7]&127)<<4)+(r[e+6]>>>4&15),i=r[e+6]&15,s=5;s>=0;--s)i=i*256+r[e+s];return n==2047?i==0?t*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),t*Math.pow(2,n-52)*i)}function gue(r,e,t){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,a=n?-e:e;isFinite(a)?a==0?i=s=0:(i=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var o=0;o<=5;++o,s/=256)r[t+o]=s&255;r[t+6]=(i&15)<<4|s&15,r[t+7]=i>>4|n}var t6=function(r){for(var e=[],t=10240,n=0;n<r[0].length;++n)if(r[0][n])for(var i=0,s=r[0][n].length;i<s;i+=t)e.push.apply(e,r[0][n].slice(i,i+t));return e},r6=Ur?function(r){return r[0].length>0&&Buffer.isBuffer(r[0][0])?Buffer.concat(r[0].map(function(e){return Buffer.isBuffer(e)?e:Mg(e)})):t6(r)}:t6,n6=function(r,e,t){for(var n=[],i=e;i<t;i+=2)n.push(String.fromCharCode(gh(r,i)));return n.join("").replace(ro,"")},oN=Ur?function(r,e,t){return Buffer.isBuffer(r)?r.toString("utf16le",e,t).replace(ro,""):n6(r,e,t)}:n6,i6=function(r,e,t){for(var n=[],i=e;i<e+t;++i)n.push(("0"+r[i].toString(16)).slice(-2));return n.join("")},MG=Ur?function(r,e,t){return Buffer.isBuffer(r)?r.toString("hex",e,e+t):i6(r,e,t)}:i6,s6=function(r,e,t){for(var n=[],i=e;i<t;i++)n.push(String.fromCharCode(bm(r,i)));return n.join("")},cb=Ur?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf8",t,n):s6(e,t,n)}:s6,OG=function(r,e){var t=fA(r,e);return t>0?cb(r,e+4,e+4+t-1):""},QG=OG,HG=function(r,e){var t=fA(r,e);return t>0?cb(r,e+4,e+4+t-1):""},VG=HG,jG=function(r,e){var t=2*fA(r,e);return t>0?cb(r,e+4,e+4+t-1):""},KG=jG,zG=function(e,t){var n=fA(e,t);return n>0?oN(e,t+4,t+4+n):""},WG=zG,GG=function(r,e){var t=fA(r,e);return t>0?cb(r,e+4,e+4+t):""},$G=GG,qG=function(r,e){return pue(r,e)},BS=qG,XG=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Ur&&(QG=function(e,t){if(!Buffer.isBuffer(e))return OG(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},VG=function(e,t){if(!Buffer.isBuffer(e))return HG(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},KG=function(e,t){if(!Buffer.isBuffer(e))return jG(e,t);var n=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n-1)},WG=function(e,t){if(!Buffer.isBuffer(e))return zG(e,t);var n=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n)},$G=function(e,t){if(!Buffer.isBuffer(e))return GG(e,t);var n=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+n)},BS=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):qG(e,t)},XG=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var bm=function(r,e){return r[e]},gh=function(r,e){return r[e+1]*256+r[e]},mue=function(r,e){var t=r[e+1]*256+r[e];return t<32768?t:(65535-t+1)*-1},fA=function(r,e){return r[e+3]*(1<<24)+(r[e+2]<<16)+(r[e+1]<<8)+r[e]},M0=function(r,e){return r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e]},vue=function(r,e){return r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3]};function $y(r,e){var t="",n,i,s=[],a,o,A,l;switch(e){case"dbcs":if(l=this.l,Ur&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*r).toString("utf16le");else for(A=0;A<r;++A)t+=String.fromCharCode(gh(this,l)),l+=2;r*=2;break;case"utf8":t=cb(this,this.l,this.l+r);break;case"utf16le":r*=2,t=oN(this,this.l,this.l+r);break;case"wstr":return $y.call(this,r,"dbcs");case"lpstr-ansi":t=QG(this,this.l),r=4+fA(this,this.l);break;case"lpstr-cp":t=VG(this,this.l),r=4+fA(this,this.l);break;case"lpwstr":t=KG(this,this.l),r=4+2*fA(this,this.l);break;case"lpp4":r=4+fA(this,this.l),t=WG(this,this.l),r&2&&(r+=2);break;case"8lpp4":r=4+fA(this,this.l),t=$G(this,this.l),r&3&&(r+=4-(r&3));break;case"cstr":for(r=0,t="";(a=bm(this,this.l+r++))!==0;)s.push(uE(a));t=s.join("");break;case"_wstr":for(r=0,t="";(a=gh(this,this.l+r))!==0;)s.push(uE(a)),r+=2;r+=2,t=s.join("");break;case"dbcs-cont":for(t="",l=this.l,A=0;A<r;++A){if(this.lens&&this.lens.indexOf(l)!==-1)return a=bm(this,l),this.l=l+1,o=$y.call(this,r-A,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(uE(gh(this,l))),l+=2}t=s.join(""),r*=2;break;case"cpstr":case"sbcs-cont":for(t="",l=this.l,A=0;A!=r;++A){if(this.lens&&this.lens.indexOf(l)!==-1)return a=bm(this,l),this.l=l+1,o=$y.call(this,r-A,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(uE(bm(this,l))),l+=1}t=s.join("");break;default:switch(r){case 1:return n=bm(this,this.l),this.l++,n;case 2:return n=(e==="i"?mue:gh)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||!(this[this.l+3]&128)?(n=(r>0?M0:vue)(this,this.l),this.l+=4,n):(i=fA(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return r==8?i=BS(this,this.l):i=BS([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;r=8;case 16:t=MG(this,this.l,r);break}}return this.l+=r,t}var wue=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255,r[t+2]=e>>>16&255,r[t+3]=e>>>24&255},yue=function(r,e,t){r[t]=e&255,r[t+1]=e>>8&255,r[t+2]=e>>16&255,r[t+3]=e>>24&255},xue=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255};function _ue(r,e,t){var n=0,i=0;if(t==="dbcs"){for(i=0;i!=e.length;++i)xue(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(t==="hex"){for(;i<r;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(t==="utf16le"){var s=Math.min(this.l+r,this.length);for(i=0;i<Math.min(e.length,r);++i){var a=e.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(r){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,wue(this,e,this.l);break;case 8:if(n=8,t==="f"){gue(this,e,this.l);break}case 16:break;case-4:n=4,yue(this,e,this.l);break}return this.l+=n,this}function YG(r,e){var t=MG(this,this.l,r.length>>1);if(t!==r)throw new Error(e+"Expected "+r+" saw "+t);this.l+=r.length>>1}function Ks(r,e){r.l=e,r.read_shift=$y,r.chk=YG,r.write_shift=_ue}function Pa(r,e){r.l+=e}function is(r){var e=$d(r);return Ks(e,0),e}function Kh(r,e,t){if(r){var n,i,s;Ks(r,r.l||0);for(var a=r.length,o=0,A=0;r.l<a;){o=r.read_shift(1),o&128&&(o=(o&127)+((r.read_shift(1)&127)<<7));var l=LS[o]||LS[65535];for(n=r.read_shift(1),s=n&127,i=1;i<4&&n&128;++i)s+=((n=r.read_shift(1))&127)<<7*i;A=r.l+s;var c=l.f&&l.f(r,s,t);if(r.l=A,e(c,l,o))return}}}function z3(){var r=[],e=Ur?256:2048,t=function(l){var c=is(l);return Ks(c,0),c},n=t(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&r.push(n),n=null)},s=function(l){return n&&l<n.length-n.l?n:(i(),n=t(Math.max(l+1,e)))},a=function(){return i(),If(r)},o=function(l){i(),n=l,n.l==null&&(n.l=n.length),s(e)};return{next:s,push:o,end:a,_bufs:r}}function qy(r,e,t){var n=Xs(r);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!t||t.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function a6(r,e,t){var n=Xs(r);return n.s=qy(n.s,e.s,t),n.e=qy(n.e,e.s,t),n}function Xy(r,e){if(r.cRel&&r.c<0)for(r=Xs(r);r.c<0;)r.c+=e>8?16384:256;if(r.rRel&&r.r<0)for(r=Xs(r);r.r<0;)r.r+=e>8?1048576:e>5?65536:16384;var t=lr(r);return!r.cRel&&r.cRel!=null&&(t=Cue(t)),!r.rRel&&r.rRel!=null&&(t=bue(t)),t}function YF(r,e){return r.s.r==0&&!r.s.rRel&&r.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!r.e.rRel?(r.s.cRel?"":"$")+As(r.s.c)+":"+(r.e.cRel?"":"$")+As(r.e.c):r.s.c==0&&!r.s.cRel&&r.e.c==(e.biff>=12?16383:255)&&!r.e.cRel?(r.s.rRel?"":"$")+Ys(r.s.r)+":"+(r.e.rRel?"":"$")+Ys(r.e.r):Xy(r.s,e.biff)+":"+Xy(r.e,e.biff)}function AN(r){return parseInt(Eue(r),10)-1}function Ys(r){return""+(r+1)}function bue(r){return r.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Eue(r){return r.replace(/\$(\d+)$/,"$1")}function lN(r){for(var e=Bue(r),t=0,n=0;n!==e.length;++n)t=26*t+e.charCodeAt(n)-64;return t-1}function As(r){if(r<0)throw new Error("invalid column "+r);var e="";for(++r;r;r=Math.floor((r-1)/26))e=String.fromCharCode((r-1)%26+65)+e;return e}function Cue(r){return r.replace(/^([A-Z])/,"$$$1")}function Bue(r){return r.replace(/^\$([A-Z])/,"$1")}function Sue(r){return r.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Ya(r){for(var e=0,t=0,n=0;n<r.length;++n){var i=r.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(t=26*t+(i-64))}return{c:t-1,r:e-1}}function lr(r){for(var e=r.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(r.r+1)}function Jv(r){var e=r.indexOf(":");return e==-1?{s:Ya(r),e:Ya(r)}:{s:Ya(r.slice(0,e)),e:Ya(r.slice(e+1))}}function Vr(r,e){return typeof e>"u"||typeof e=="number"?Vr(r.s,r.e):(typeof r!="string"&&(r=lr(r)),typeof e!="string"&&(e=lr(e)),r==e?r:r+":"+e)}function yi(r){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,n=0,i=0,s=r.length;for(t=0;n<s&&!((i=r.charCodeAt(n)-64)<1||i>26);++n)t=26*t+i;for(e.s.c=--t,t=0;n<s&&!((i=r.charCodeAt(n)-48)<0||i>9);++n)t=10*t+i;if(e.s.r=--t,n===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,t=0;n!=s&&!((i=r.charCodeAt(n)-64)<1||i>26);++n)t=26*t+i;for(e.e.c=--t,t=0;n!=s&&!((i=r.charCodeAt(n)-48)<0||i>9);++n)t=10*t+i;return e.e.r=--t,e}function o6(r,e){var t=r.t=="d"&&e instanceof Date;if(r.z!=null)try{return r.w=sl(r.z,t?so(e):e)}catch{}try{return r.w=sl((r.XF||{}).numFmtId||(t?14:0),t?so(e):e)}catch{return""+e}}function Mh(r,e,t){return r==null||r.t==null||r.t=="z"?"":r.w!==void 0?r.w:(r.t=="d"&&!r.z&&t&&t.dateNF&&(r.z=t.dateNF),r.t=="e"?Vg[r.v]||r.v:e==null?o6(r,r.v):o6(r,e))}function o0(r,e){var t=e&&e.sheet?e.sheet:"Sheet1",n={};return n[t]=r,{SheetNames:[t],Sheets:n}}function JG(r,e,t){var n=t||{},i=r?Array.isArray(r):n.dense,s=r||(i?[]:{}),a=0,o=0;if(s&&n.origin!=null){if(typeof n.origin=="number")a=n.origin;else{var A=typeof n.origin=="string"?Ya(n.origin):n.origin;a=A.r,o=A.c}s["!ref"]||(s["!ref"]="A1:A1")}var l={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var c=yi(s["!ref"]);l.s.c=c.s.c,l.s.r=c.s.r,l.e.c=Math.max(l.e.c,c.e.c),l.e.r=Math.max(l.e.r,c.e.r),a==-1&&(l.e.r=a=c.e.r+1)}for(var u=0;u!=e.length;++u)if(e[u]){if(!Array.isArray(e[u]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=e[u].length;++h)if(!(typeof e[u][h]>"u")){var f={v:e[u][h]},d=a+u,p=o+h;if(l.s.r>d&&(l.s.r=d),l.s.c>p&&(l.s.c=p),l.e.r<d&&(l.e.r=d),l.e.c<p&&(l.e.c=p),e[u][h]&&typeof e[u][h]=="object"&&!Array.isArray(e[u][h])&&!(e[u][h]instanceof Date))f=e[u][h];else if(Array.isArray(f.v)&&(f.f=e[u][h][1],f.v=f.v[0]),f.v===null)if(f.f)f.t="n";else if(n.nullError)f.t="e",f.v=0;else if(n.sheetStubs)f.t="z";else continue;else typeof f.v=="number"?f.t="n":typeof f.v=="boolean"?f.t="b":f.v instanceof Date?(f.z=n.dateNF||pr[14],n.cellDates?(f.t="d",f.w=sl(f.z,so(f.v))):(f.t="n",f.v=so(f.v),f.w=sl(f.z,f.v))):f.t="s";if(i)s[d]||(s[d]=[]),s[d][p]&&s[d][p].z&&(f.z=s[d][p].z),s[d][p]=f;else{var v=lr({c:p,r:d});s[v]&&s[v].z&&(f.z=s[v].z),s[v]=f}}}return l.s.c<1e7&&(s["!ref"]=Vr(l)),s}function Zv(r,e){return JG(null,r,e)}function Tue(r){return r.read_shift(4,"i")}function Ia(r){var e=r.read_shift(4);return e===0?"":r.read_shift(e,"dbcs")}function Fue(r){return{ich:r.read_shift(2),ifnt:r.read_shift(2)}}function cN(r,e){var t=r.l,n=r.read_shift(1),i=Ia(r),s=[],a={t:i,h:i};if(n&1){for(var o=r.read_shift(4),A=0;A!=o;++A)s.push(Fue(r));a.r=s}else a.r=[{ich:0,ifnt:0}];return r.l=t+e,a}var Iue=cN;function ol(r){var e=r.read_shift(4),t=r.read_shift(2);return t+=r.read_shift(1)<<16,r.l++,{c:e,iStyleRef:t}}function Qg(r){var e=r.read_shift(2);return e+=r.read_shift(1)<<16,r.l++,{c:-1,iStyleRef:e}}var kue=Ia;function uN(r){var e=r.read_shift(4);return e===0||e===4294967295?"":r.read_shift(e,"dbcs")}var Lue=Ia,W3=uN;function hN(r){var e=r.slice(r.l,r.l+4),t=e[0]&1,n=e[0]&2;r.l+=4;var i=n===0?BS([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):M0(e,0)>>2;return t?i/100:i}function ZG(r){var e={s:{},e:{}};return e.s.r=r.read_shift(4),e.e.r=r.read_shift(4),e.s.c=r.read_shift(4),e.e.c=r.read_shift(4),e}var Hg=ZG;function Sa(r){if(r.length-r.l<8)throw"XLS Xnum Buffer underflow";return r.read_shift(8,"f")}function Pue(r){var e={},t=r.read_shift(1),n=t>>>1,i=r.read_shift(1),s=r.read_shift(2,"i"),a=r.read_shift(1),o=r.read_shift(1),A=r.read_shift(1);switch(r.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var l=ag[i];l&&(e.rgb=J2(l));break;case 2:e.rgb=J2([a,o,A]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function Rue(r){var e=r.read_shift(1);r.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function e$(r,e){var t={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=r.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return t[r.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return r.l-=4,r.read_shift(0,e==1?"lpstr":"lpwstr")}function Nue(r){return e$(r,1)}function Due(r){return e$(r,2)}var fN=2,Bo=3,fE=11,A6=12,SS=19,dE=64,Uue=65,Mue=71,Oue=4108,Que=4126,bs=80,t$=81,Hue=[bs,t$],Vue={1:{n:"CodePage",t:fN},2:{n:"Category",t:bs},3:{n:"PresentationFormat",t:bs},4:{n:"ByteCount",t:Bo},5:{n:"LineCount",t:Bo},6:{n:"ParagraphCount",t:Bo},7:{n:"SlideCount",t:Bo},8:{n:"NoteCount",t:Bo},9:{n:"HiddenCount",t:Bo},10:{n:"MultimediaClipCount",t:Bo},11:{n:"ScaleCrop",t:fE},12:{n:"HeadingPairs",t:Oue},13:{n:"TitlesOfParts",t:Que},14:{n:"Manager",t:bs},15:{n:"Company",t:bs},16:{n:"LinksUpToDate",t:fE},17:{n:"CharacterCount",t:Bo},19:{n:"SharedDoc",t:fE},22:{n:"HyperlinksChanged",t:fE},23:{n:"AppVersion",t:Bo,p:"version"},24:{n:"DigSig",t:Uue},26:{n:"ContentType",t:bs},27:{n:"ContentStatus",t:bs},28:{n:"Language",t:bs},29:{n:"Version",t:bs},255:{},2147483648:{n:"Locale",t:SS},2147483651:{n:"Behavior",t:SS},1919054434:{}},jue={1:{n:"CodePage",t:fN},2:{n:"Title",t:bs},3:{n:"Subject",t:bs},4:{n:"Author",t:bs},5:{n:"Keywords",t:bs},6:{n:"Comments",t:bs},7:{n:"Template",t:bs},8:{n:"LastAuthor",t:bs},9:{n:"RevNumber",t:bs},10:{n:"EditTime",t:dE},11:{n:"LastPrinted",t:dE},12:{n:"CreatedDate",t:dE},13:{n:"ModifiedDate",t:dE},14:{n:"PageCount",t:Bo},15:{n:"WordCount",t:Bo},16:{n:"CharCount",t:Bo},17:{n:"Thumbnail",t:Mue},18:{n:"Application",t:bs},19:{n:"DocSecurity",t:Bo},255:{},2147483648:{n:"Locale",t:SS},2147483651:{n:"Behavior",t:SS},1919054434:{}},l6={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Kue=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function zue(r){return r.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var Wue=zue([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),ag=Xs(Wue),Vg={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},r$={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},c6={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function Gue(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function $ue(r){var e=Gue();if(!r||!r.match)return e;var t={};if((r.match(Na)||[]).forEach(function(n){var i=tr(n);switch(i[0].replace(rue,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":t[i.Extension]=i.ContentType;break;case"<Override":e[c6[i.ContentType]]!==void 0&&e[c6[i.ContentType]].push(i.PartName);break}}),e.xmlns!==fue.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=t,delete e.calcchains,e}var Hm={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function G3(r){var e=r.lastIndexOf("/");return r.slice(0,e+1)+"_rels/"+r.slice(e+1)+".rels"}function Yy(r,e){var t={"!id":{}};if(!r)return t;e.charAt(0)!=="/"&&(e="/"+e);var n={};return(r.match(Na)||[]).forEach(function(i){var s=tr(i);if(s[0]==="<Relationship"){var a={};a.Type=s.Type,a.Target=s.Target,a.Id=s.Id,s.TargetMode&&(a.TargetMode=s.TargetMode);var o=s.TargetMode==="External"?s.Target:vy(s.Target,e);t[o]=a,n[s.Id]=a}}),t["!id"]=n,t}var que="application/vnd.oasis.opendocument.spreadsheet";function Xue(r,e){for(var t=aN(r),n,i;n=X2.exec(t);)switch(n[3]){case"manifest":break;case"file-entry":if(i=tr(n[0],!1),i.path=="/"&&i.type!==que)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw n}}var Jy=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Yue=function(){for(var r=new Array(Jy.length),e=0;e<Jy.length;++e){var t=Jy[e],n="(?:"+t[0].slice(0,t[0].indexOf(":"))+":)"+t[0].slice(t[0].indexOf(":")+1);r[e]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return r}();function n$(r){var e={};r=Rn(r);for(var t=0;t<Jy.length;++t){var n=Jy[t],i=r.match(Yue[t]);i!=null&&i.length>0&&(e[n[1]]=Wr(i[1])),n[2]==="date"&&e[n[1]]&&(e[n[1]]=Ts(e[n[1]]))}return e}var Jue=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function i$(r,e,t,n){var i=[];if(typeof r=="string")i=e6(r,n);else for(var s=0;s<r.length;++s)i=i.concat(r[s].map(function(c){return{v:c}}));var a=typeof e=="string"?e6(e,n).map(function(c){return c.v}):e,o=0,A=0;if(a.length>0)for(var l=0;l!==i.length;l+=2){switch(A=+i[l+1].v,i[l].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":t.Worksheets=A,t.SheetNames=a.slice(o,o+A);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":t.NamedRanges=A,t.DefinedNames=a.slice(o,o+A);break;case"Charts":case"Diagramme":t.Chartsheets=A,t.ChartNames=a.slice(o,o+A);break}o+=A}}function Zue(r,e,t){var n={};return e||(e={}),r=Rn(r),Jue.forEach(function(i){var s=(r.match(q2(i[0]))||[])[1];switch(i[2]){case"string":s&&(e[i[1]]=Wr(s));break;case"bool":e[i[1]]=s==="true";break;case"raw":var a=r.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));a&&a.length>0&&(n[i[1]]=a[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&i$(n.HeadingPairs,n.TitlesOfParts,e,t),e}var ehe=/<[^>]+>[^<]*/g;function the(r,e){var t={},n="",i=r.match(ehe);if(i)for(var s=0;s!=i.length;++s){var a=i[s],o=tr(a);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Wr(o.name);break;case"</property>":n=null;break;default:if(a.indexOf("<vt:")===0){var A=a.split(">"),l=A[0].slice(4),c=A[1];switch(l){case"lpstr":case"bstr":case"lpwstr":t[n]=Wr(c);break;case"bool":t[n]=Gn(c);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":t[n]=parseInt(c,10);break;case"r4":case"r8":case"decimal":t[n]=parseFloat(c);break;case"filetime":case"date":t[n]=Ts(c);break;case"cy":case"error":t[n]=Wr(c);break;default:if(l.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",a,l,A)}}else if(a.slice(0,2)!=="</"){if(e.WTF)throw new Error(a)}}}return t}var rhe={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},JF;function nhe(r,e,t){JF||(JF=nN(rhe)),e=JF[e]||e,r[e]=t}function dN(r){var e=r.read_shift(4),t=r.read_shift(4);return new Date((t/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function s$(r,e,t){var n=r.l,i=r.read_shift(0,"lpstr-cp");if(t)for(;r.l-n&3;)++r.l;return i}function a$(r,e,t){var n=r.read_shift(0,"lpwstr");return n}function o$(r,e,t){return e===31?a$(r):s$(r,e,t)}function $3(r,e,t){return o$(r,e,t===!1?0:4)}function ihe(r,e){if(!e)throw new Error("VtUnalignedString must have positive length");return o$(r,e,0)}function she(r){for(var e=r.read_shift(4),t=[],n=0;n!=e;++n){var i=r.l;t[n]=r.read_shift(0,"lpwstr").replace(ro,""),r.l-i&2&&(r.l+=2)}return t}function ahe(r){for(var e=r.read_shift(4),t=[],n=0;n!=e;++n)t[n]=r.read_shift(0,"lpstr-cp").replace(ro,"");return t}function ohe(r){var e=r.l,t=TS(r,t$);r[r.l]==0&&r[r.l+1]==0&&r.l-e&2&&(r.l+=2);var n=TS(r,Bo);return[t,n]}function Ahe(r){for(var e=r.read_shift(4),t=[],n=0;n<e/2;++n)t.push(ohe(r));return t}function u6(r,e){for(var t=r.read_shift(4),n={},i=0;i!=t;++i){var s=r.read_shift(4),a=r.read_shift(4);n[s]=r.read_shift(a,e===1200?"utf16le":"utf8").replace(ro,"").replace(my,"!"),e===1200&&a%2&&(r.l+=2)}return r.l&3&&(r.l=r.l>>3<<2),n}function A$(r){var e=r.read_shift(4),t=r.slice(r.l,r.l+e);return r.l+=e,(e&3)>0&&(r.l+=4-(e&3)&3),t}function lhe(r){var e={};return e.Size=r.read_shift(4),r.l+=e.Size+3-(e.Size-1)%4,e}function TS(r,e,t){var n=r.read_shift(2),i,s=t||{};if(r.l+=2,e!==A6&&n!==e&&Hue.indexOf(e)===-1&&!((e&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+e+" saw "+n);switch(e===A6?n:e){case 2:return i=r.read_shift(2,"i"),s.raw||(r.l+=2),i;case 3:return i=r.read_shift(4,"i"),i;case 11:return r.read_shift(4)!==0;case 19:return i=r.read_shift(4),i;case 30:return s$(r,n,4).replace(ro,"");case 31:return a$(r);case 64:return dN(r);case 65:return A$(r);case 71:return lhe(r);case 80:return $3(r,n,!s.raw).replace(ro,"");case 81:return ihe(r,n).replace(ro,"");case 4108:return Ahe(r);case 4126:case 4127:return n==4127?she(r):ahe(r);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+n)}}function h6(r,e){var t=r.l,n=r.read_shift(4),i=r.read_shift(4),s=[],a=0,o=0,A=-1,l={};for(a=0;a!=i;++a){var c=r.read_shift(4),u=r.read_shift(4);s[a]=[c,u+t]}s.sort(function(x,b){return x[1]-b[1]});var h={};for(a=0;a!=i;++a){if(r.l!==s[a][1]){var f=!0;if(a>0&&e)switch(e[s[a-1][0]].t){case 2:r.l+2===s[a][1]&&(r.l+=2,f=!1);break;case 80:r.l<=s[a][1]&&(r.l=s[a][1],f=!1);break;case 4108:r.l<=s[a][1]&&(r.l=s[a][1],f=!1);break}if((!e||a==0)&&r.l<=s[a][1]&&(f=!1,r.l=s[a][1]),f)throw new Error("Read Error: Expected address "+s[a][1]+" at "+r.l+" :"+a)}if(e){var d=e[s[a][0]];if(h[d.n]=TS(r,d.t,{raw:!0}),d.p==="version"&&(h[d.n]=String(h[d.n]>>16)+"."+("0000"+String(h[d.n]&65535)).slice(-4)),d.n=="CodePage")switch(h[d.n]){case 0:h[d.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Ql(o=h[d.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[d.n])}}else if(s[a][0]===1){if(o=h.CodePage=TS(r,fN),Ql(o),A!==-1){var p=r.l;r.l=s[A][1],l=u6(r,o),r.l=p}}else if(s[a][0]===0){if(o===0){A=a,r.l=s[a+1][1];continue}l=u6(r,o)}else{var v=l[s[a][0]],m;switch(r[r.l]){case 65:r.l+=4,m=A$(r);break;case 30:r.l+=4,m=$3(r,r[r.l-4]).replace(/\u0000+$/,"");break;case 31:r.l+=4,m=$3(r,r[r.l-4]).replace(/\u0000+$/,"");break;case 3:r.l+=4,m=r.read_shift(4,"i");break;case 19:r.l+=4,m=r.read_shift(4);break;case 5:r.l+=4,m=r.read_shift(8,"f");break;case 11:r.l+=4,m=Bi(r,4);break;case 64:r.l+=4,m=Ts(dN(r));break;default:throw new Error("unparsed value: "+r[r.l])}h[v]=m}}return r.l=t+n,h}function f6(r,e,t){var n=r.content;if(!n)return{};Ks(n,0);var i,s,a,o,A=0;n.chk("feff","Byte Order: "),n.read_shift(2);var l=n.read_shift(4),c=n.read_shift(16);if(c!==Hr.utils.consts.HEADER_CLSID&&c!==t)throw new Error("Bad PropertySet CLSID "+c);if(i=n.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=n.read_shift(16),o=n.read_shift(4),i===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);i===2&&(a=n.read_shift(16),A=n.read_shift(4));var u=h6(n,e),h={SystemIdentifier:l};for(var f in u)h[f]=u[f];if(h.FMTID=s,i===1)return h;if(A-n.l==2&&(n.l+=2),n.l!==A)throw new Error("Length mismatch 2: "+n.l+" !== "+A);var d;try{d=h6(n,null)}catch{}for(f in d)h[f]=d[f];return h.FMTID=[s,a],h}function df(r,e){return r.read_shift(e),null}function che(r,e,t){for(var n=[],i=r.l+e;r.l<i;)n.push(t(r,i-r.l));if(i!==r.l)throw new Error("Slurp error");return n}function Bi(r,e){return r.read_shift(e)===1}function ji(r){return r.read_shift(2,"u")}function l$(r,e){return che(r,e,ji)}function uhe(r){var e=r.read_shift(1),t=r.read_shift(1);return t===1?e:e===1}function ub(r,e,t){var n=r.read_shift(t&&t.biff>=12?2:1),i="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var s=r.read_shift(1);s&&(i="dbcs-cont")}else t.biff==12&&(i="wstr");t.biff>=2&&t.biff<=5&&(i="cpstr");var a=n?r.read_shift(n,i):"";return a}function hhe(r){var e=r.read_shift(2),t=r.read_shift(1),n=t&4,i=t&8,s=1+(t&1),a=0,o,A={};i&&(a=r.read_shift(2)),n&&(o=r.read_shift(4));var l=s==2?"dbcs-cont":"sbcs-cont",c=e===0?"":r.read_shift(e,l);return i&&(r.l+=4*a),n&&(r.l+=o),A.t=c,i||(A.raw="<t>"+A.t+"</t>",A.r=A.t),A}function Sg(r,e,t){var n;if(t){if(t.biff>=2&&t.biff<=5)return r.read_shift(e,"cpstr");if(t.biff>=12)return r.read_shift(e,"dbcs-cont")}var i=r.read_shift(1);return i===0?n=r.read_shift(e,"sbcs-cont"):n=r.read_shift(e,"dbcs-cont"),n}function hb(r,e,t){var n=r.read_shift(t&&t.biff==2?1:2);return n===0?(r.l++,""):Sg(r,n,t)}function jg(r,e,t){if(t.biff>5)return hb(r,e,t);var n=r.read_shift(1);return n===0?(r.l++,""):r.read_shift(n,t.biff<=4||!r.lens?"cpstr":"sbcs-cont")}function fhe(r){var e=r.read_shift(1);r.l++;var t=r.read_shift(2);return r.l+=2,[e,t]}function dhe(r){var e=r.read_shift(4),t=r.l,n=!1;e>24&&(r.l+=e-24,r.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),r.l=t);var i=r.read_shift((n?e-24:e)>>1,"utf16le").replace(ro,"");return n&&(r.l+=24),i}function phe(r){for(var e=r.read_shift(2),t="";e-- >0;)t+="../";var n=r.read_shift(0,"lpstr-ansi");if(r.l+=2,r.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=r.read_shift(4);if(i===0)return t+n.replace(/\\/g,"/");var s=r.read_shift(4);if(r.read_shift(2)!=3)throw new Error("Bad FileMoniker");var a=r.read_shift(s>>1,"utf16le").replace(ro,"");return t+a}function ghe(r,e){var t=r.read_shift(16);switch(t){case"e0c9ea79f9bace118c8200aa004ba90b":return dhe(r);case"0303000000000000c000000000000046":return phe(r);default:throw new Error("Unsupported Moniker "+t)}}function pE(r){var e=r.read_shift(4),t=e>0?r.read_shift(e,"utf16le").replace(ro,""):"";return t}function mhe(r,e){var t=r.l+e,n=r.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var i=r.read_shift(2);r.l+=2;var s,a,o,A,l="",c,u;i&16&&(s=pE(r,t-r.l)),i&128&&(a=pE(r,t-r.l)),(i&257)===257&&(o=pE(r,t-r.l)),(i&257)===1&&(A=ghe(r,t-r.l)),i&8&&(l=pE(r,t-r.l)),i&32&&(c=r.read_shift(16)),i&64&&(u=dN(r)),r.l=t;var h=a||o||A||"";h&&l&&(h+="#"+l),h||(h="#"+l),i&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var f={Target:h};return c&&(f.guid=c),u&&(f.time=u),s&&(f.Tooltip=s),f}function c$(r){var e=r.read_shift(1),t=r.read_shift(1),n=r.read_shift(1),i=r.read_shift(1);return[e,t,n,i]}function u$(r,e){var t=c$(r);return t[3]=0,t}function su(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2);return{r:e,c:t,ixfe:n}}function vhe(r){var e=r.read_shift(2),t=r.read_shift(2);return r.l+=8,{type:e,flags:t}}function whe(r,e,t){return e===0?"":jg(r,e,t)}function yhe(r,e,t){var n=t.biff>8?4:2,i=r.read_shift(n),s=r.read_shift(n,"i"),a=r.read_shift(n,"i");return[i,s,a]}function h$(r){var e=r.read_shift(2),t=hN(r);return[e,t]}function xhe(r,e,t){r.l+=4,e-=4;var n=r.l+e,i=ub(r,e,t),s=r.read_shift(2);if(n-=r.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return r.l+=s,i}function mT(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2),i=r.read_shift(2);return{s:{c:n,r:e},e:{c:i,r:t}}}function f$(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(1),i=r.read_shift(1);return{s:{c:n,r:e},e:{c:i,r:t}}}var _he=f$;function d$(r){r.l+=4;var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2);return r.l+=12,[t,e,n]}function bhe(r){var e={};return r.l+=4,r.l+=16,e.fSharedNote=r.read_shift(2),r.l+=4,e}function Ehe(r){var e={};return r.l+=4,r.cf=r.read_shift(2),e}function sa(r){r.l+=2,r.l+=r.read_shift(2)}var Che={0:sa,4:sa,5:sa,6:sa,7:Ehe,8:sa,9:sa,10:sa,11:sa,12:sa,13:bhe,14:sa,15:sa,16:sa,17:sa,18:sa,19:sa,20:sa,21:d$};function Bhe(r,e){for(var t=r.l+e,n=[];r.l<t;){var i=r.read_shift(2);r.l-=2;try{n.push(Che[i](r,t-r.l))}catch{return r.l=t,n}}return r.l!=t&&(r.l=t),n}function gE(r,e){var t={BIFFVer:0,dt:0};switch(t.BIFFVer=r.read_shift(2),e-=2,e>=2&&(t.dt=r.read_shift(2),r.l-=2),t.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+t.BIFFVer)}return r.read_shift(e),t}function She(r,e){return e===0||r.read_shift(2),1200}function The(r,e,t){if(t.enc)return r.l+=e,"";var n=r.l,i=jg(r,0,t);return r.read_shift(e+n-r.l),i}function Fhe(r,e,t){var n=t&&t.biff==8||e==2?r.read_shift(2):(r.l+=e,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function Ihe(r,e,t){var n=r.read_shift(4),i=r.read_shift(1)&3,s=r.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var a=ub(r,0,t);return a.length===0&&(a="Sheet1"),{pos:n,hs:i,dt:s,name:a}}function khe(r,e){for(var t=r.l+e,n=r.read_shift(4),i=r.read_shift(4),s=[],a=0;a!=i&&r.l<t;++a)s.push(hhe(r));return s.Count=n,s.Unique=i,s}function Lhe(r,e){var t={};return t.dsst=r.read_shift(2),r.l+=e-2,t}function Phe(r){var e={};e.r=r.read_shift(2),e.c=r.read_shift(2),e.cnt=r.read_shift(2)-e.c;var t=r.read_shift(2);r.l+=4;var n=r.read_shift(1);return r.l+=3,n&7&&(e.level=n&7),n&32&&(e.hidden=!0),n&64&&(e.hpt=t/20),e}function Rhe(r){var e=vhe(r);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var t=r.read_shift(4);return t!==0}function Nhe(r){return r.read_shift(2),r.read_shift(4)}function d6(r,e,t){var n=0;t&&t.biff==2||(n=r.read_shift(2));var i=r.read_shift(2);t&&t.biff==2&&(n=1-(i>>15),i&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,i]}function Dhe(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2),i=r.read_shift(2),s=r.read_shift(2),a=r.read_shift(2),o=r.read_shift(2),A=r.read_shift(2),l=r.read_shift(2);return{Pos:[e,t],Dim:[n,i],Flags:s,CurTab:a,FirstTab:o,Selected:A,TabRatio:l}}function Uhe(r,e,t){if(t&&t.biff>=2&&t.biff<5)return{};var n=r.read_shift(2);return{RTL:n&64}}function Mhe(){}function Ohe(r,e,t){var n={dyHeight:r.read_shift(2),fl:r.read_shift(2)};switch(t&&t.biff||8){case 2:break;case 3:case 4:r.l+=2;break;default:r.l+=10;break}return n.name=ub(r,0,t),n}function Qhe(r){var e=su(r);return e.isst=r.read_shift(4),e}function Hhe(r,e,t){t.biffguess&&t.biff==2&&(t.biff=5);var n=r.l+e,i=su(r);t.biff==2&&r.l++;var s=hb(r,n-r.l,t);return i.val=s,i}function Vhe(r,e,t){var n=r.read_shift(2),i=jg(r,0,t);return[n,i]}var jhe=jg;function p6(r,e,t){var n=r.l+e,i=t.biff==8||!t.biff?4:2,s=r.read_shift(i),a=r.read_shift(i),o=r.read_shift(2),A=r.read_shift(2);return r.l=n,{s:{r:s,c:o},e:{r:a,c:A}}}function Khe(r){var e=r.read_shift(2),t=r.read_shift(2),n=h$(r);return{r:e,c:t,ixfe:n[0],rknum:n[1]}}function zhe(r,e){for(var t=r.l+e-2,n=r.read_shift(2),i=r.read_shift(2),s=[];r.l<t;)s.push(h$(r));if(r.l!==t)throw new Error("MulRK read error");var a=r.read_shift(2);if(s.length!=a-i+1)throw new Error("MulRK length mismatch");return{r:n,c:i,C:a,rkrec:s}}function Whe(r,e){for(var t=r.l+e-2,n=r.read_shift(2),i=r.read_shift(2),s=[];r.l<t;)s.push(r.read_shift(2));if(r.l!==t)throw new Error("MulBlank read error");var a=r.read_shift(2);if(s.length!=a-i+1)throw new Error("MulBlank length mismatch");return{r:n,c:i,C:a,ixfe:s}}function Ghe(r,e,t,n){var i={},s=r.read_shift(4),a=r.read_shift(4),o=r.read_shift(4),A=r.read_shift(2);return i.patternType=Kue[o>>26],n.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=a&15,i.dgRight=a>>4&15,i.dgTop=a>>8&15,i.dgBottom=a>>12&15,i.icvLeft=a>>16&127,i.icvRight=a>>23&127,i.grbitDiag=a>>30&3,i.icvTop=o&127,i.icvBottom=o>>7&127,i.icvDiag=o>>14&127,i.dgDiag=o>>21&15,i.icvFore=A&127,i.icvBack=A>>7&127,i.fsxButton=A>>14&1),i}function $he(r,e,t){var n={};return n.ifnt=r.read_shift(2),n.numFmtId=r.read_shift(2),n.flags=r.read_shift(2),n.fStyle=n.flags>>2&1,e-=6,n.data=Ghe(r,e,n.fStyle,t),n}function qhe(r){r.l+=4;var e=[r.read_shift(2),r.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function g6(r,e,t){var n=su(r);(t.biff==2||e==9)&&++r.l;var i=uhe(r);return n.val=i,n.t=i===!0||i===!1?"b":"e",n}function Xhe(r,e,t){t.biffguess&&t.biff==2&&(t.biff=5);var n=su(r),i=Sa(r);return n.val=i,n}var m6=whe;function Yhe(r,e,t){var n=r.l+e,i=r.read_shift(2),s=r.read_shift(2);if(t.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var a=Sg(r,s),o=[];n>r.l;)o.push(hb(r));return[s,i,a,o]}function v6(r,e,t){var n=r.read_shift(2),i,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return t.sbcch===14849&&(i=xhe(r,e-2,t)),s.body=i||r.read_shift(e-2),typeof i=="string"&&(s.Name=i),s}var Jhe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function w6(r,e,t){var n=r.l+e,i=r.read_shift(2),s=r.read_shift(1),a=r.read_shift(1),o=r.read_shift(t&&t.biff==2?1:2),A=0;(!t||t.biff>=5)&&(t.biff!=5&&(r.l+=2),A=r.read_shift(2),t.biff==5&&(r.l+=2),r.l+=4);var l=Sg(r,a,t);i&32&&(l=Jhe[l.charCodeAt(0)]);var c=n-r.l;t&&t.biff==2&&--c;var u=n==r.l||o===0||!(c>0)?[]:Ppe(r,c,t,o);return{chKey:s,Name:l,itab:A,rgce:u}}function p$(r,e,t){if(t.biff<8)return Zhe(r,e,t);for(var n=[],i=r.l+e,s=r.read_shift(t.biff>8?4:2);s--!==0;)n.push(yhe(r,t.biff>8?12:6,t));if(r.l!=i)throw new Error("Bad ExternSheet: "+r.l+" != "+i);return n}function Zhe(r,e,t){r[r.l+1]==3&&r[r.l]++;var n=ub(r,e,t);return n.charCodeAt(0)==3?n.slice(1):n}function efe(r,e,t){if(t.biff<8){r.l+=e;return}var n=r.read_shift(2),i=r.read_shift(2),s=Sg(r,n,t),a=Sg(r,i,t);return[s,a]}function tfe(r,e,t){var n=f$(r);r.l++;var i=r.read_shift(1);return e-=8,[Rpe(r,e,t),i,n]}function y6(r,e,t){var n=_he(r);switch(t.biff){case 2:r.l++,e-=7;break;case 3:case 4:r.l+=2,e-=8;break;default:r.l+=6,e-=12}return[n,kpe(r,e,t)]}function rfe(r){var e=r.read_shift(4)!==0,t=r.read_shift(4)!==0,n=r.read_shift(4);return[e,t,n]}function nfe(r,e,t){if(!(t.biff<8)){var n=r.read_shift(2),i=r.read_shift(2),s=r.read_shift(2),a=r.read_shift(2),o=jg(r,0,t);return t.biff<8&&r.read_shift(1),[{r:n,c:i},o,a,s]}}function ife(r,e,t){return nfe(r,e,t)}function sfe(r,e){for(var t=[],n=r.read_shift(2);n--;)t.push(mT(r));return t}function afe(r,e,t){if(t&&t.biff<8)return Afe(r,e,t);var n=d$(r),i=Bhe(r,e-22,n[1]);return{cmo:n,ft:i}}var ofe={8:function(r,e){var t=r.l+e;r.l+=10;var n=r.read_shift(2);r.l+=4,r.l+=2,r.l+=2,r.l+=2,r.l+=4;var i=r.read_shift(1);return r.l+=i,r.l=t,{fmt:n}}};function Afe(r,e,t){r.l+=4;var n=r.read_shift(2),i=r.read_shift(2),s=r.read_shift(2);r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=6,e-=36;var a=[];return a.push((ofe[n]||Pa)(r,e,t)),{cmo:[i,n,s],ft:a}}function lfe(r,e,t){var n=r.l,i="";try{r.l+=4;var s=(t.lastobj||{cmo:[0,0]}).cmo[1],a;[0,5,7,11,12,14].indexOf(s)==-1?r.l+=6:a=fhe(r,6,t);var o=r.read_shift(2);r.read_shift(2),ji(r,2);var A=r.read_shift(2);r.l+=A;for(var l=1;l<r.lens.length-1;++l){if(r.l-n!=r.lens[l])throw new Error("TxO: bad continue record");var c=r[r.l],u=Sg(r,r.lens[l+1]-r.lens[l]-1);if(i+=u,i.length>=(c?o:2*o))break}if(i.length!==o&&i.length!==o*2)throw new Error("cchText: "+o+" != "+i.length);return r.l=n+e,{t:i}}catch{return r.l=n+e,{t:i}}}function cfe(r,e){var t=mT(r);r.l+=16;var n=mhe(r,e-24);return[t,n]}function ufe(r,e){r.read_shift(2);var t=mT(r),n=r.read_shift((e-10)/2,"dbcs-cont");return n=n.replace(ro,""),[t,n]}function hfe(r){var e=[0,0],t;return t=r.read_shift(2),e[0]=l6[t]||t,t=r.read_shift(2),e[1]=l6[t]||t,e}function ffe(r){for(var e=r.read_shift(2),t=[];e-- >0;)t.push(u$(r));return t}function dfe(r){for(var e=r.read_shift(2),t=[];e-- >0;)t.push(u$(r));return t}function pfe(r){r.l+=2;var e={cxfs:0,crc:0};return e.cxfs=r.read_shift(2),e.crc=r.read_shift(4),e}function g$(r,e,t){if(!t.cellStyles)return Pa(r,e);var n=t&&t.biff>=12?4:2,i=r.read_shift(n),s=r.read_shift(n),a=r.read_shift(n),o=r.read_shift(n),A=r.read_shift(2);n==2&&(r.l+=2);var l={s:i,e:s,w:a,ixfe:o,flags:A};return(t.biff>=5||!t.biff)&&(l.level=A>>8&7),l}function gfe(r,e){var t={};return e<32||(r.l+=16,t.header=Sa(r),t.footer=Sa(r),r.l+=2),t}function mfe(r,e,t){var n={area:!1};if(t.biff!=5)return r.l+=e,n;var i=r.read_shift(1);return r.l+=3,i&16&&(n.area=!0),n}var vfe=su,wfe=l$,yfe=hb;function xfe(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(4),i={fmt:e,env:t,len:n,data:r.slice(r.l,r.l+n)};return r.l+=n,i}function _fe(r,e,t){t.biffguess&&t.biff==5&&(t.biff=2);var n=su(r);++r.l;var i=jg(r,e-7,t);return n.t="str",n.val=i,n}function bfe(r){var e=su(r);++r.l;var t=Sa(r);return e.t="n",e.val=t,e}function Efe(r){var e=su(r);++r.l;var t=r.read_shift(2);return e.t="n",e.val=t,e}function Cfe(r){var e=r.read_shift(1);return e===0?(r.l++,""):r.read_shift(e,"sbcs-cont")}function Bfe(r,e){r.l+=6,r.l+=2,r.l+=1,r.l+=3,r.l+=1,r.l+=e-13}function Sfe(r,e,t){var n=r.l+e,i=su(r),s=r.read_shift(2),a=Sg(r,s,t);return r.l=n,i.t="str",i.val=a,i}var Tfe=[2,3,48,49,131,139,140,245],x6=function(){var r={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=nN({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(o,A){var l=[],c=$d(1);switch(A.type){case"base64":c=Ol(bA(o));break;case"binary":c=Ol(o);break;case"buffer":case"array":c=o;break}Ks(c,0);var u=c.read_shift(1),h=!!(u&136),f=!1,d=!1;switch(u){case 2:break;case 3:break;case 48:f=!0,h=!0;break;case 49:f=!0,h=!0;break;case 131:break;case 139:break;case 140:d=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+u.toString(16))}var p=0,v=521;u==2&&(p=c.read_shift(2)),c.l+=3,u!=2&&(p=c.read_shift(4)),p>1048576&&(p=1e6),u!=2&&(v=c.read_shift(2));var m=c.read_shift(2),x=A.codepage||1252;u!=2&&(c.l+=16,c.read_shift(1),c[c.l]!==0&&(x=r[c[c.l]]),c.l+=1,c.l+=2),d&&(c.l+=36);for(var b=[],T={},R=Math.min(c.length,u==2?521:v-10-(f?264:0)),P=d?32:11;c.l<R&&c[c.l]!=13;)switch(T={},T.name=G2.utils.decode(x,c.slice(c.l,c.l+P)).replace(/[\u0000\r\n].*$/g,""),c.l+=P,T.type=String.fromCharCode(c.read_shift(1)),u!=2&&!d&&(T.offset=c.read_shift(4)),T.len=c.read_shift(1),u==2&&(T.offset=c.read_shift(2)),T.dec=c.read_shift(1),T.name.length&&b.push(T),u!=2&&(c.l+=d?13:14),T.type){case"B":(!f||T.len!=8)&&A.WTF&&console.log("Skipping "+T.name+":"+T.type);break;case"G":case"P":A.WTF&&console.log("Skipping "+T.name+":"+T.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+T.type)}if(c[c.l]!==13&&(c.l=v-1),c.read_shift(1)!==13)throw new Error("DBF Terminator not found "+c.l+" "+c[c.l]);c.l=v;var B=0,E=0;for(l[0]=[],E=0;E!=b.length;++E)l[0][E]=b[E].name;for(;p-- >0;){if(c[c.l]===42){c.l+=m;continue}for(++c.l,l[++B]=[],E=0,E=0;E!=b.length;++E){var _=c.slice(c.l,c.l+b[E].len);c.l+=b[E].len,Ks(_,0);var I=G2.utils.decode(x,_);switch(b[E].type){case"C":I.trim().length&&(l[B][E]=I.replace(/\s+$/,""));break;case"D":I.length===8?l[B][E]=new Date(+I.slice(0,4),+I.slice(4,6)-1,+I.slice(6,8)):l[B][E]=I;break;case"F":l[B][E]=parseFloat(I.trim());break;case"+":case"I":l[B][E]=d?_.read_shift(-4,"i")^2147483648:_.read_shift(4,"i");break;case"L":switch(I.trim().toUpperCase()){case"Y":case"T":l[B][E]=!0;break;case"N":case"F":l[B][E]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+I+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+u.toString(16));l[B][E]="##MEMO##"+(d?parseInt(I.trim(),10):_.read_shift(4));break;case"N":I=I.replace(/\u0000/g,"").trim(),I&&I!="."&&(l[B][E]=+I||0);break;case"@":l[B][E]=new Date(_.read_shift(-8,"f")-621356832e5);break;case"T":l[B][E]=new Date((_.read_shift(4)-2440588)*864e5+_.read_shift(4));break;case"Y":l[B][E]=_.read_shift(4,"i")/1e4+_.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":l[B][E]=-_.read_shift(-8,"f");break;case"B":if(f&&b[E].len==8){l[B][E]=_.read_shift(8,"f");break}case"G":case"P":_.l+=b[E].len;break;case"0":if(b[E].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+b[E].type)}}}if(u!=2&&c.l<c.length&&c[c.l++]!=26)throw new Error("DBF EOF Marker missing "+(c.l-1)+" of "+c.length+" "+c[c.l-1].toString(16));return A&&A.sheetRows&&(l=l.slice(0,A.sheetRows)),A.DBF=b,l}function n(o,A){var l=A||{};l.dateNF||(l.dateNF="yyyymmdd");var c=Zv(t(o,l),l);return c["!cols"]=l.DBF.map(function(u){return{wch:u.len,DBF:u}}),delete l.DBF,c}function i(o,A){try{return o0(n(o,A),A)}catch(l){if(A&&A.WTF)throw l}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,A){var l=A||{};if(+l.codepage>=0&&Ql(+l.codepage),l.type=="string")throw new Error("Cannot write DBF to JS string");var c=z3(),u=tL(o,{header:1,raw:!0,cellDates:!0}),h=u[0],f=u.slice(1),d=o["!cols"]||[],p=0,v=0,m=0,x=1;for(p=0;p<h.length;++p){if(((d[p]||{}).DBF||{}).name){h[p]=d[p].DBF.name,++m;continue}if(h[p]!=null){if(++m,typeof h[p]=="number"&&(h[p]=h[p].toString(10)),typeof h[p]!="string")throw new Error("DBF Invalid column name "+h[p]+" |"+typeof h[p]+"|");if(h.indexOf(h[p])!==p){for(v=0;v<1024;++v)if(h.indexOf(h[p]+"_"+v)==-1){h[p]+="_"+v;break}}}}var b=yi(o["!ref"]),T=[],R=[],P=[];for(p=0;p<=b.e.c-b.s.c;++p){var B="",E="",_=0,I=[];for(v=0;v<f.length;++v)f[v][p]!=null&&I.push(f[v][p]);if(I.length==0||h[p]==null){T[p]="?";continue}for(v=0;v<I.length;++v){switch(typeof I[v]){case"number":E="B";break;case"string":E="C";break;case"boolean":E="L";break;case"object":E=I[v]instanceof Date?"D":"C";break;default:E="C"}_=Math.max(_,String(I[v]).length),B=B&&B!=E?"C":E}_>250&&(_=250),E=((d[p]||{}).DBF||{}).type,E=="C"&&d[p].DBF.len>_&&(_=d[p].DBF.len),B=="B"&&E=="N"&&(B="N",P[p]=d[p].DBF.dec,_=d[p].DBF.len),R[p]=B=="C"||E=="N"?_:s[B]||0,x+=R[p],T[p]=B}var S=c.next(32);for(S.write_shift(4,318902576),S.write_shift(4,f.length),S.write_shift(2,296+32*m),S.write_shift(2,x),p=0;p<4;++p)S.write_shift(4,0);for(S.write_shift(4,0|(+e[pG]||3)<<8),p=0,v=0;p<h.length;++p)if(h[p]!=null){var F=c.next(32),N=(h[p].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);F.write_shift(1,N,"sbcs"),F.write_shift(1,T[p]=="?"?"C":T[p],"sbcs"),F.write_shift(4,v),F.write_shift(1,R[p]||s[T[p]]||0),F.write_shift(1,P[p]||0),F.write_shift(1,2),F.write_shift(4,0),F.write_shift(1,0),F.write_shift(4,0),F.write_shift(4,0),v+=R[p]||s[T[p]]||0}var G=c.next(264);for(G.write_shift(4,13),p=0;p<65;++p)G.write_shift(4,0);for(p=0;p<f.length;++p){var le=c.next(x);for(le.write_shift(1,0),v=0;v<h.length;++v)if(h[v]!=null)switch(T[v]){case"L":le.write_shift(1,f[p][v]==null?63:f[p][v]?84:70);break;case"B":le.write_shift(8,f[p][v]||0,"f");break;case"N":var ie="0";for(typeof f[p][v]=="number"&&(ie=f[p][v].toFixed(P[v]||0)),m=0;m<R[v]-ie.length;++m)le.write_shift(1,32);le.write_shift(1,ie,"sbcs");break;case"D":f[p][v]?(le.write_shift(4,("0000"+f[p][v].getFullYear()).slice(-4),"sbcs"),le.write_shift(2,("00"+(f[p][v].getMonth()+1)).slice(-2),"sbcs"),le.write_shift(2,("00"+f[p][v].getDate()).slice(-2),"sbcs")):le.write_shift(8,"00000000","sbcs");break;case"C":var te=String(f[p][v]!=null?f[p][v]:"").slice(0,R[v]);for(le.write_shift(1,te,"sbcs"),m=0;m<R[v]-te.length;++m)le.write_shift(1,32);break}}return c.next(1).write_shift(1,26),c.end()}return{to_workbook:i,to_sheet:n,from_sheet:a}}(),Ffe=function(){var r={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+tu(r).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(h,f){var d=r[f];return typeof d=="number"?UO(d):d},n=function(h,f,d){var p=f.charCodeAt(0)-32<<4|d.charCodeAt(0)-48;return p==59?h:UO(p)};r["|"]=254;function i(h,f){switch(f.type){case"base64":return s(bA(h),f);case"binary":return s(h,f);case"buffer":return s(Ur&&Buffer.isBuffer(h)?h.toString("binary"):Og(h),f);case"array":return s(Bg(h),f)}throw new Error("Unrecognized type "+f.type)}function s(h,f){var d=h.split(/[\n\r]+/),p=-1,v=-1,m=0,x=0,b=[],T=[],R=null,P={},B=[],E=[],_=[],I=0,S;for(+f.codepage>=0&&Ql(+f.codepage);m!==d.length;++m){I=0;var F=d[m].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,t),N=F.replace(/;;/g,"\0").split(";").map(function(Q){return Q.replace(/\u0000/g,";")}),G=N[0],le;if(F.length>0)switch(G){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":N[1].charAt(0)=="P"&&T.push(F.slice(3).replace(/;;/g,";"));break;case"C":var ie=!1,te=!1,J=!1,W=!1,be=-1,xe=-1;for(x=1;x<N.length;++x)switch(N[x].charAt(0)){case"A":break;case"X":v=parseInt(N[x].slice(1))-1,te=!0;break;case"Y":for(p=parseInt(N[x].slice(1))-1,te||(v=0),S=b.length;S<=p;++S)b[S]=[];break;case"K":le=N[x].slice(1),le.charAt(0)==='"'?le=le.slice(1,le.length-1):le==="TRUE"?le=!0:le==="FALSE"?le=!1:isNaN(Wl(le))?isNaN(Rv(le).getDate())||(le=Ts(le)):(le=Wl(le),R!==null&&Yv(R)&&(le=gT(le))),ie=!0;break;case"E":W=!0;var L=s1(N[x].slice(1),{r:p,c:v});b[p][v]=[b[p][v],L];break;case"S":J=!0,b[p][v]=[b[p][v],"S5S"];break;case"G":break;case"R":be=parseInt(N[x].slice(1))-1;break;case"C":xe=parseInt(N[x].slice(1))-1;break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+F)}if(ie&&(b[p][v]&&b[p][v].length==2?b[p][v][0]=le:b[p][v]=le,R=null),J){if(W)throw new Error("SYLK shared formula cannot have own formula");var O=be>-1&&b[be][xe];if(!O||!O[1])throw new Error("SYLK shared formula cannot find base");b[p][v][1]=B$(O[1],{r:p-be,c:v-xe})}break;case"F":var H=0;for(x=1;x<N.length;++x)switch(N[x].charAt(0)){case"X":v=parseInt(N[x].slice(1))-1,++H;break;case"Y":for(p=parseInt(N[x].slice(1))-1,S=b.length;S<=p;++S)b[S]=[];break;case"M":I=parseInt(N[x].slice(1))/20;break;case"F":break;case"G":break;case"P":R=T[parseInt(N[x].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(_=N[x].slice(1).split(" "),S=parseInt(_[0],10);S<=parseInt(_[1],10);++S)I=parseInt(_[2],10),E[S-1]=I===0?{hidden:!0}:{wch:I},Nv(E[S-1]);break;case"C":v=parseInt(N[x].slice(1))-1,E[v]||(E[v]={});break;case"R":p=parseInt(N[x].slice(1))-1,B[p]||(B[p]={}),I>0?(B[p].hpt=I,B[p].hpx=Z2(I)):I===0&&(B[p].hidden=!0);break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+F)}H<1&&(R=null);break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+F)}}return B.length>0&&(P["!rows"]=B),E.length>0&&(P["!cols"]=E),f&&f.sheetRows&&(b=b.slice(0,f.sheetRows)),[b,P]}function a(h,f){var d=i(h,f),p=d[0],v=d[1],m=Zv(p,f);return tu(v).forEach(function(x){m[x]=v[x]}),m}function o(h,f){return o0(a(h,f),f)}function A(h,f,d,p){var v="C;Y"+(d+1)+";X"+(p+1)+";K";switch(h.t){case"n":v+=h.v||0,h.f&&!h.F&&(v+=";E"+p0e(h.f,{r:d,c:p}));break;case"b":v+=h.v?"TRUE":"FALSE";break;case"e":v+=h.w||h.v;break;case"d":v+='"'+(h.w||h.v)+'"';break;case"s":v+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function l(h,f){f.forEach(function(d,p){var v="F;W"+(p+1)+" "+(p+1)+" ";d.hidden?v+="0":(typeof d.width=="number"&&!d.wpx&&(d.wpx=IS(d.width)),typeof d.wpx=="number"&&!d.wch&&(d.wch=kS(d.wpx)),typeof d.wch=="number"&&(v+=Math.round(d.wch))),v.charAt(v.length-1)!=" "&&h.push(v)})}function c(h,f){f.forEach(function(d,p){var v="F;";d.hidden?v+="M0;":d.hpt?v+="M"+20*d.hpt+";":d.hpx&&(v+="M"+20*b$(d.hpx)+";"),v.length>2&&h.push(v+"R"+(p+1))})}function u(h,f){var d=["ID;PWXL;N;E"],p=[],v=yi(h["!ref"]),m,x=Array.isArray(h),b=`\r
`;d.push("P;PGeneral"),d.push("F;P0;DG0G8;M255"),h["!cols"]&&l(d,h["!cols"]),h["!rows"]&&c(d,h["!rows"]),d.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var T=v.s.r;T<=v.e.r;++T)for(var R=v.s.c;R<=v.e.c;++R){var P=lr({r:T,c:R});m=x?(h[T]||[])[R]:h[P],!(!m||m.v==null&&(!m.f||m.F))&&p.push(A(m,h,T,R))}return d.join(b)+b+p.join(b)+b+"E"+b}return{to_workbook:o,to_sheet:a,from_sheet:u}}(),Ife=function(){function r(s,a){switch(a.type){case"base64":return e(bA(s),a);case"binary":return e(s,a);case"buffer":return e(Ur&&Buffer.isBuffer(s)?s.toString("binary"):Og(s),a);case"array":return e(Bg(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){for(var o=s.split(`
`),A=-1,l=-1,c=0,u=[];c!==o.length;++c){if(o[c].trim()==="BOT"){u[++A]=[],l=0;continue}if(!(A<0)){var h=o[c].trim().split(","),f=h[0],d=h[1];++c;for(var p=o[c]||"";(p.match(/["]/g)||[]).length&1&&c<o.length-1;)p+=`
`+o[++c];switch(p=p.trim(),+f){case-1:if(p==="BOT"){u[++A]=[],l=0;continue}else if(p!=="EOD")throw new Error("Unrecognized DIF special command "+p);break;case 0:p==="TRUE"?u[A][l]=!0:p==="FALSE"?u[A][l]=!1:isNaN(Wl(d))?isNaN(Rv(d).getDate())?u[A][l]=d:u[A][l]=Ts(d):u[A][l]=Wl(d),++l;break;case 1:p=p.slice(1,p.length-1),p=p.replace(/""/g,'"'),p&&p.match(/^=".*"$/)&&(p=p.slice(2,-1)),u[A][l++]=p!==""?p:null;break}if(p==="EOD")break}}return a&&a.sheetRows&&(u=u.slice(0,a.sheetRows)),u}function t(s,a){return Zv(r(s,a),a)}function n(s,a){return o0(t(s,a),a)}var i=function(){var s=function(A,l,c,u,h){A.push(l),A.push(c+","+u),A.push('"'+h.replace(/"/g,'""')+'"')},a=function(A,l,c,u){A.push(l+","+c),A.push(l==1?'"'+u.replace(/"/g,'""')+'"':u)};return function(A){var l=[],c=yi(A["!ref"]),u,h=Array.isArray(A);s(l,"TABLE",0,1,"sheetjs"),s(l,"VECTORS",0,c.e.r-c.s.r+1,""),s(l,"TUPLES",0,c.e.c-c.s.c+1,""),s(l,"DATA",0,0,"");for(var f=c.s.r;f<=c.e.r;++f){a(l,-1,0,"BOT");for(var d=c.s.c;d<=c.e.c;++d){var p=lr({r:f,c:d});if(u=h?(A[f]||[])[d]:A[p],!u){a(l,1,0,"");continue}switch(u.t){case"n":var v=u.w;!v&&u.v!=null&&(v=u.v),v==null?u.f&&!u.F?a(l,1,0,"="+u.f):a(l,1,0,""):a(l,0,v,"V");break;case"b":a(l,0,u.v?1:0,u.v?"TRUE":"FALSE");break;case"s":a(l,1,0,isNaN(u.v)?u.v:'="'+u.v+'"');break;case"d":u.w||(u.w=sl(u.z||pr[14],so(Ts(u.v)))),a(l,0,u.w,"V");break;default:a(l,1,0,"")}}}a(l,-1,0,"EOD");var m=`\r
`,x=l.join(m);return x}}();return{to_workbook:n,to_sheet:t,from_sheet:i}}(),kfe=function(){function r(u){return u.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(u){return u.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(u,h){for(var f=u.split(`
`),d=-1,p=-1,v=0,m=[];v!==f.length;++v){var x=f[v].trim().split(":");if(x[0]==="cell"){var b=Ya(x[1]);if(m.length<=b.r)for(d=m.length;d<=b.r;++d)m[d]||(m[d]=[]);switch(d=b.r,p=b.c,x[2]){case"t":m[d][p]=r(x[3]);break;case"v":m[d][p]=+x[3];break;case"vtf":var T=x[x.length-1];case"vtc":switch(x[3]){case"nl":m[d][p]=!!+x[4];break;default:m[d][p]=+x[4];break}x[2]=="vtf"&&(m[d][p]=[m[d][p],T])}}}return h&&h.sheetRows&&(m=m.slice(0,h.sheetRows)),m}function n(u,h){return Zv(t(u,h),h)}function i(u,h){return o0(n(u,h),h)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),A="--SocialCalcSpreadsheetControlSave--";function l(u){if(!u||!u["!ref"])return"";for(var h=[],f=[],d,p="",v=Jv(u["!ref"]),m=Array.isArray(u),x=v.s.r;x<=v.e.r;++x)for(var b=v.s.c;b<=v.e.c;++b)if(p=lr({r:x,c:b}),d=m?(u[x]||[])[b]:u[p],!(!d||d.v==null||d.t==="z")){switch(f=["cell",p,"t"],d.t){case"s":case"str":f.push(e(d.v));break;case"n":d.f?(f[2]="vtf",f[3]="n",f[4]=d.v,f[5]=e(d.f)):(f[2]="v",f[3]=d.v);break;case"b":f[2]="vt"+(d.f?"f":"c"),f[3]="nl",f[4]=d.v?"1":"0",f[5]=e(d.f||(d.v?"TRUE":"FALSE"));break;case"d":var T=so(Ts(d.v));f[2]="vtc",f[3]="nd",f[4]=""+T,f[5]=d.w||sl(d.z||pr[14],T);break;case"e":continue}h.push(f.join(":"))}return h.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function c(u){return[s,a,o,a,l(u),A].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:c}}(),Y2=function(){function r(c,u,h,f,d){d.raw?u[h][f]=c:c===""||(c==="TRUE"?u[h][f]=!0:c==="FALSE"?u[h][f]=!1:isNaN(Wl(c))?isNaN(Rv(c).getDate())?u[h][f]=c:u[h][f]=Ts(c):u[h][f]=Wl(c))}function e(c,u){var h=u||{},f=[];if(!c||c.length===0)return f;for(var d=c.split(/[\r\n]/),p=d.length-1;p>=0&&d[p].length===0;)--p;for(var v=10,m=0,x=0;x<=p;++x)m=d[x].indexOf(" "),m==-1?m=d[x].length:m++,v=Math.max(v,m);for(x=0;x<=p;++x){f[x]=[];var b=0;for(r(d[x].slice(0,v).trim(),f,x,b,h),b=1;b<=(d[x].length-v)/10+1;++b)r(d[x].slice(v+(b-1)*10,v+b*10).trim(),f,x,b,h)}return h.sheetRows&&(f=f.slice(0,h.sheetRows)),f}var t={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(c){for(var u={},h=!1,f=0,d=0;f<c.length;++f)(d=c.charCodeAt(f))==34?h=!h:!h&&d in t&&(u[d]=(u[d]||0)+1);d=[];for(f in u)Object.prototype.hasOwnProperty.call(u,f)&&d.push([u[f],f]);if(!d.length){u=n;for(f in u)Object.prototype.hasOwnProperty.call(u,f)&&d.push([u[f],f])}return d.sort(function(p,v){return p[0]-v[0]||n[p[1]]-n[v[1]]}),t[d.pop()[1]]||44}function s(c,u){var h=u||{},f="",d=h.dense?[]:{},p={s:{c:0,r:0},e:{c:0,r:0}};c.slice(0,4)=="sep="?c.charCodeAt(5)==13&&c.charCodeAt(6)==10?(f=c.charAt(4),c=c.slice(7)):c.charCodeAt(5)==13||c.charCodeAt(5)==10?(f=c.charAt(4),c=c.slice(6)):f=i(c.slice(0,1024)):h&&h.FS?f=h.FS:f=i(c.slice(0,1024));var v=0,m=0,x=0,b=0,T=0,R=f.charCodeAt(0),P=!1,B=0,E=c.charCodeAt(0);c=c.replace(/\r\n/mg,`
`);var _=h.dateNF!=null?Vce(h.dateNF):null;function I(){var S=c.slice(b,T),F={};if(S.charAt(0)=='"'&&S.charAt(S.length-1)=='"'&&(S=S.slice(1,-1).replace(/""/g,'"')),S.length===0)F.t="z";else if(h.raw)F.t="s",F.v=S;else if(S.trim().length===0)F.t="s",F.v=S;else if(S.charCodeAt(0)==61)S.charCodeAt(1)==34&&S.charCodeAt(S.length-1)==34?(F.t="s",F.v=S.slice(2,-1).replace(/""/g,'"')):m0e(S)?(F.t="n",F.f=S.slice(1)):(F.t="s",F.v=S);else if(S=="TRUE")F.t="b",F.v=!0;else if(S=="FALSE")F.t="b",F.v=!1;else if(!isNaN(x=Wl(S)))F.t="n",h.cellText!==!1&&(F.w=S),F.v=x;else if(!isNaN(Rv(S).getDate())||_&&S.match(_)){F.z=h.dateNF||pr[14];var N=0;_&&S.match(_)&&(S=jce(S,h.dateNF,S.match(_)||[]),N=1),h.cellDates?(F.t="d",F.v=Ts(S,N)):(F.t="n",F.v=so(Ts(S,N))),h.cellText!==!1&&(F.w=sl(F.z,F.v instanceof Date?so(F.v):F.v)),h.cellNF||delete F.z}else F.t="s",F.v=S;if(F.t=="z"||(h.dense?(d[v]||(d[v]=[]),d[v][m]=F):d[lr({c:m,r:v})]=F),b=T+1,E=c.charCodeAt(b),p.e.c<m&&(p.e.c=m),p.e.r<v&&(p.e.r=v),B==R)++m;else if(m=0,++v,h.sheetRows&&h.sheetRows<=v)return!0}e:for(;T<c.length;++T)switch(B=c.charCodeAt(T)){case 34:E===34&&(P=!P);break;case R:case 10:case 13:if(!P&&I())break e;break}return T-b>0&&I(),d["!ref"]=Vr(p),d}function a(c,u){return!(u&&u.PRN)||u.FS||c.slice(0,4)=="sep="||c.indexOf("	")>=0||c.indexOf(",")>=0||c.indexOf(";")>=0?s(c,u):Zv(e(c,u),u)}function o(c,u){var h="",f=u.type=="string"?[0,0,0,0]:_N(c,u);switch(u.type){case"base64":h=bA(c);break;case"binary":h=c;break;case"buffer":u.codepage==65001?h=c.toString("utf8"):u.codepage&&typeof G2<"u"||(h=Ur&&Buffer.isBuffer(c)?c.toString("binary"):Og(c));break;case"array":h=Bg(c);break;case"string":h=c;break;default:throw new Error("Unrecognized type "+u.type)}return f[0]==239&&f[1]==187&&f[2]==191?h=Rn(h.slice(3)):u.type!="string"&&u.type!="buffer"&&u.codepage==65001?h=Rn(h):u.type=="binary"&&typeof G2<"u",h.slice(0,19)=="socialcalc:version:"?kfe.to_sheet(u.type=="string"?h:Rn(h),u):a(h,u)}function A(c,u){return o0(o(c,u),u)}function l(c){for(var u=[],h=yi(c["!ref"]),f,d=Array.isArray(c),p=h.s.r;p<=h.e.r;++p){for(var v=[],m=h.s.c;m<=h.e.c;++m){var x=lr({r:p,c:m});if(f=d?(c[p]||[])[m]:c[x],!f||f.v==null){v.push("          ");continue}for(var b=(f.w||(Mh(f),f.w)||"").slice(0,10);b.length<10;)b+=" ";v.push(b+(m===0?" ":""))}u.push(v.join(""))}return u.join(`
`)}return{to_workbook:A,to_sheet:o,from_sheet:l}}();function Lfe(r,e){var t=e||{},n=!!t.WTF;t.WTF=!0;try{var i=Ffe.to_workbook(r,t);return t.WTF=n,i}catch(s){if(t.WTF=n,!s.message.match(/SYLK bad record ID/)&&n)throw s;return Y2.to_workbook(r,e)}}var Zy=function(){function r(L,O,H){if(L){Ks(L,L.l||0);for(var Q=H.Enum||be;L.l<L.length;){var Y=L.read_shift(2),oe=Q[Y]||Q[65535],de=L.read_shift(2),fe=L.l+de,_e=oe.f&&oe.f(L,de,H);if(L.l=fe,O(_e,oe,Y))return}}}function e(L,O){switch(O.type){case"base64":return t(Ol(bA(L)),O);case"binary":return t(Ol(L),O);case"buffer":case"array":return t(L,O)}throw"Unsupported type "+O.type}function t(L,O){if(!L)return L;var H=O||{},Q=H.dense?[]:{},Y="Sheet1",oe="",de=0,fe={},_e=[],Se=[],ne={s:{r:0,c:0},e:{r:0,c:0}},$e=H.sheetRows||0;if(L[2]==0&&(L[3]==8||L[3]==9)&&L.length>=16&&L[14]==5&&L[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(L[2]==2)H.Enum=be,r(L,function(je,qe,Ve){switch(Ve){case 0:H.vers=je,je>=4096&&(H.qpro=!0);break;case 6:ne=je;break;case 204:je&&(oe=je);break;case 222:oe=je;break;case 15:case 51:H.qpro||(je[1].v=je[1].v.slice(1));case 13:case 14:case 16:Ve==14&&(je[2]&112)==112&&(je[2]&15)>1&&(je[2]&15)<15&&(je[1].z=H.dateNF||pr[14],H.cellDates&&(je[1].t="d",je[1].v=gT(je[1].v))),H.qpro&&je[3]>de&&(Q["!ref"]=Vr(ne),fe[Y]=Q,_e.push(Y),Q=H.dense?[]:{},ne={s:{r:0,c:0},e:{r:0,c:0}},de=je[3],Y=oe||"Sheet"+(de+1),oe="");var ht=H.dense?(Q[je[0].r]||[])[je[0].c]:Q[lr(je[0])];if(ht){ht.t=je[1].t,ht.v=je[1].v,je[1].z!=null&&(ht.z=je[1].z),je[1].f!=null&&(ht.f=je[1].f);break}H.dense?(Q[je[0].r]||(Q[je[0].r]=[]),Q[je[0].r][je[0].c]=je[1]):Q[lr(je[0])]=je[1];break}},H);else if(L[2]==26||L[2]==14)H.Enum=xe,L[2]==14&&(H.qpro=!0,L.l=0),r(L,function(je,qe,Ve){switch(Ve){case 204:Y=je;break;case 22:je[1].v=je[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(je[3]>de&&(Q["!ref"]=Vr(ne),fe[Y]=Q,_e.push(Y),Q=H.dense?[]:{},ne={s:{r:0,c:0},e:{r:0,c:0}},de=je[3],Y="Sheet"+(de+1)),$e>0&&je[0].r>=$e)break;H.dense?(Q[je[0].r]||(Q[je[0].r]=[]),Q[je[0].r][je[0].c]=je[1]):Q[lr(je[0])]=je[1],ne.e.c<je[0].c&&(ne.e.c=je[0].c),ne.e.r<je[0].r&&(ne.e.r=je[0].r);break;case 27:je[14e3]&&(Se[je[14e3][0]]=je[14e3][1]);break;case 1537:Se[je[0]]=je[1],je[0]==de&&(Y=je[1]);break}},H);else throw new Error("Unrecognized LOTUS BOF "+L[2]);if(Q["!ref"]=Vr(ne),fe[oe||Y]=Q,_e.push(oe||Y),!Se.length)return{SheetNames:_e,Sheets:fe};for(var Be={},ue=[],Xe=0;Xe<Se.length;++Xe)fe[_e[Xe]]?(ue.push(Se[Xe]||_e[Xe]),Be[Se[Xe]]=fe[Se[Xe]]||fe[_e[Xe]]):(ue.push(Se[Xe]),Be[Se[Xe]]={"!ref":"A1"});return{SheetNames:ue,Sheets:Be}}function n(L,O){var H=O||{};if(+H.codepage>=0&&Ql(+H.codepage),H.type=="string")throw new Error("Cannot write WK1 to JS string");var Q=z3(),Y=yi(L["!ref"]),oe=Array.isArray(L),de=[];wl(Q,0,s(1030)),wl(Q,6,A(Y));for(var fe=Math.min(Y.e.r,8191),_e=Y.s.r;_e<=fe;++_e)for(var Se=Ys(_e),ne=Y.s.c;ne<=Y.e.c;++ne){_e===Y.s.r&&(de[ne]=As(ne));var $e=de[ne]+Se,Be=oe?(L[_e]||[])[ne]:L[$e];if(!(!Be||Be.t=="z"))if(Be.t=="n")(Be.v|0)==Be.v&&Be.v>=-32768&&Be.v<=32767?wl(Q,13,f(_e,ne,Be.v)):wl(Q,14,p(_e,ne,Be.v));else{var ue=Mh(Be);wl(Q,15,u(_e,ne,ue.slice(0,239)))}}return wl(Q,1),Q.end()}function i(L,O){var H=O||{};if(+H.codepage>=0&&Ql(+H.codepage),H.type=="string")throw new Error("Cannot write WK3 to JS string");var Q=z3();wl(Q,0,a(L));for(var Y=0,oe=0;Y<L.SheetNames.length;++Y)(L.Sheets[L.SheetNames[Y]]||{})["!ref"]&&wl(Q,27,W(L.SheetNames[Y],oe++));var de=0;for(Y=0;Y<L.SheetNames.length;++Y){var fe=L.Sheets[L.SheetNames[Y]];if(!(!fe||!fe["!ref"])){for(var _e=yi(fe["!ref"]),Se=Array.isArray(fe),ne=[],$e=Math.min(_e.e.r,8191),Be=_e.s.r;Be<=$e;++Be)for(var ue=Ys(Be),Xe=_e.s.c;Xe<=_e.e.c;++Xe){Be===_e.s.r&&(ne[Xe]=As(Xe));var je=ne[Xe]+ue,qe=Se?(fe[Be]||[])[Xe]:fe[je];if(!(!qe||qe.t=="z"))if(qe.t=="n")wl(Q,23,I(Be,Xe,de,qe.v));else{var Ve=Mh(qe);wl(Q,22,B(Be,Xe,de,Ve.slice(0,239)))}}++de}}return wl(Q,1),Q.end()}function s(L){var O=is(2);return O.write_shift(2,L),O}function a(L){var O=is(26);O.write_shift(2,4096),O.write_shift(2,4),O.write_shift(4,0);for(var H=0,Q=0,Y=0,oe=0;oe<L.SheetNames.length;++oe){var de=L.SheetNames[oe],fe=L.Sheets[de];if(!(!fe||!fe["!ref"])){++Y;var _e=Jv(fe["!ref"]);H<_e.e.r&&(H=_e.e.r),Q<_e.e.c&&(Q=_e.e.c)}}return H>8191&&(H=8191),O.write_shift(2,H),O.write_shift(1,Y),O.write_shift(1,Q),O.write_shift(2,0),O.write_shift(2,0),O.write_shift(1,1),O.write_shift(1,2),O.write_shift(4,0),O.write_shift(4,0),O}function o(L,O,H){var Q={s:{c:0,r:0},e:{c:0,r:0}};return O==8&&H.qpro?(Q.s.c=L.read_shift(1),L.l++,Q.s.r=L.read_shift(2),Q.e.c=L.read_shift(1),L.l++,Q.e.r=L.read_shift(2),Q):(Q.s.c=L.read_shift(2),Q.s.r=L.read_shift(2),O==12&&H.qpro&&(L.l+=2),Q.e.c=L.read_shift(2),Q.e.r=L.read_shift(2),O==12&&H.qpro&&(L.l+=2),Q.s.c==65535&&(Q.s.c=Q.e.c=Q.s.r=Q.e.r=0),Q)}function A(L){var O=is(8);return O.write_shift(2,L.s.c),O.write_shift(2,L.s.r),O.write_shift(2,L.e.c),O.write_shift(2,L.e.r),O}function l(L,O,H){var Q=[{c:0,r:0},{t:"n",v:0},0,0];return H.qpro&&H.vers!=20768?(Q[0].c=L.read_shift(1),Q[3]=L.read_shift(1),Q[0].r=L.read_shift(2),L.l+=2):(Q[2]=L.read_shift(1),Q[0].c=L.read_shift(2),Q[0].r=L.read_shift(2)),Q}function c(L,O,H){var Q=L.l+O,Y=l(L,O,H);if(Y[1].t="s",H.vers==20768){L.l++;var oe=L.read_shift(1);return Y[1].v=L.read_shift(oe,"utf8"),Y}return H.qpro&&L.l++,Y[1].v=L.read_shift(Q-L.l,"cstr"),Y}function u(L,O,H){var Q=is(7+H.length);Q.write_shift(1,255),Q.write_shift(2,O),Q.write_shift(2,L),Q.write_shift(1,39);for(var Y=0;Y<Q.length;++Y){var oe=H.charCodeAt(Y);Q.write_shift(1,oe>=128?95:oe)}return Q.write_shift(1,0),Q}function h(L,O,H){var Q=l(L,O,H);return Q[1].v=L.read_shift(2,"i"),Q}function f(L,O,H){var Q=is(7);return Q.write_shift(1,255),Q.write_shift(2,O),Q.write_shift(2,L),Q.write_shift(2,H,"i"),Q}function d(L,O,H){var Q=l(L,O,H);return Q[1].v=L.read_shift(8,"f"),Q}function p(L,O,H){var Q=is(13);return Q.write_shift(1,255),Q.write_shift(2,O),Q.write_shift(2,L),Q.write_shift(8,H,"f"),Q}function v(L,O,H){var Q=L.l+O,Y=l(L,O,H);if(Y[1].v=L.read_shift(8,"f"),H.qpro)L.l=Q;else{var oe=L.read_shift(2);T(L.slice(L.l,L.l+oe),Y),L.l+=oe}return Y}function m(L,O,H){var Q=O&32768;return O&=-32769,O=(Q?L:0)+(O>=8192?O-16384:O),(Q?"":"$")+(H?As(O):Ys(O))}var x={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},b=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function T(L,O){Ks(L,0);for(var H=[],Q=0,Y="",oe="",de="",fe="";L.l<L.length;){var _e=L[L.l++];switch(_e){case 0:H.push(L.read_shift(8,"f"));break;case 1:oe=m(O[0].c,L.read_shift(2),!0),Y=m(O[0].r,L.read_shift(2),!1),H.push(oe+Y);break;case 2:{var Se=m(O[0].c,L.read_shift(2),!0),ne=m(O[0].r,L.read_shift(2),!1);oe=m(O[0].c,L.read_shift(2),!0),Y=m(O[0].r,L.read_shift(2),!1),H.push(Se+ne+":"+oe+Y)}break;case 3:if(L.l<L.length){console.error("WK1 premature formula end");return}break;case 4:H.push("("+H.pop()+")");break;case 5:H.push(L.read_shift(2));break;case 6:{for(var $e="";_e=L[L.l++];)$e+=String.fromCharCode(_e);H.push('"'+$e.replace(/"/g,'""')+'"')}break;case 8:H.push("-"+H.pop());break;case 23:H.push("+"+H.pop());break;case 22:H.push("NOT("+H.pop()+")");break;case 20:case 21:fe=H.pop(),de=H.pop(),H.push(["AND","OR"][_e-20]+"("+de+","+fe+")");break;default:if(_e<32&&b[_e])fe=H.pop(),de=H.pop(),H.push(de+b[_e]+fe);else if(x[_e]){if(Q=x[_e][1],Q==69&&(Q=L[L.l++]),Q>H.length){console.error("WK1 bad formula parse 0x"+_e.toString(16)+":|"+H.join("|")+"|");return}var Be=H.slice(-Q);H.length-=Q,H.push(x[_e][0]+"("+Be.join(",")+")")}else return _e<=7?console.error("WK1 invalid opcode "+_e.toString(16)):_e<=24?console.error("WK1 unsupported op "+_e.toString(16)):_e<=30?console.error("WK1 invalid opcode "+_e.toString(16)):_e<=115?console.error("WK1 unsupported function opcode "+_e.toString(16)):console.error("WK1 unrecognized opcode "+_e.toString(16))}}H.length==1?O[1].f=""+H[0]:console.error("WK1 bad formula parse |"+H.join("|")+"|")}function R(L){var O=[{c:0,r:0},{t:"n",v:0},0];return O[0].r=L.read_shift(2),O[3]=L[L.l++],O[0].c=L[L.l++],O}function P(L,O){var H=R(L);return H[1].t="s",H[1].v=L.read_shift(O-4,"cstr"),H}function B(L,O,H,Q){var Y=is(6+Q.length);Y.write_shift(2,L),Y.write_shift(1,H),Y.write_shift(1,O),Y.write_shift(1,39);for(var oe=0;oe<Q.length;++oe){var de=Q.charCodeAt(oe);Y.write_shift(1,de>=128?95:de)}return Y.write_shift(1,0),Y}function E(L,O){var H=R(L);H[1].v=L.read_shift(2);var Q=H[1].v>>1;if(H[1].v&1)switch(Q&7){case 0:Q=(Q>>3)*5e3;break;case 1:Q=(Q>>3)*500;break;case 2:Q=(Q>>3)/20;break;case 3:Q=(Q>>3)/200;break;case 4:Q=(Q>>3)/2e3;break;case 5:Q=(Q>>3)/2e4;break;case 6:Q=(Q>>3)/16;break;case 7:Q=(Q>>3)/64;break}return H[1].v=Q,H}function _(L,O){var H=R(L),Q=L.read_shift(4),Y=L.read_shift(4),oe=L.read_shift(2);if(oe==65535)return Q===0&&Y===3221225472?(H[1].t="e",H[1].v=15):Q===0&&Y===3489660928?(H[1].t="e",H[1].v=42):H[1].v=0,H;var de=oe&32768;return oe=(oe&32767)-16446,H[1].v=(1-de*2)*(Y*Math.pow(2,oe+32)+Q*Math.pow(2,oe)),H}function I(L,O,H,Q){var Y=is(14);if(Y.write_shift(2,L),Y.write_shift(1,H),Y.write_shift(1,O),Q==0)return Y.write_shift(4,0),Y.write_shift(4,0),Y.write_shift(2,65535),Y;var oe=0,de=0,fe=0,_e=0;return Q<0&&(oe=1,Q=-Q),de=Math.log2(Q)|0,Q/=Math.pow(2,de-31),_e=Q>>>0,_e&2147483648||(Q/=2,++de,_e=Q>>>0),Q-=_e,_e|=2147483648,_e>>>=0,Q*=Math.pow(2,32),fe=Q>>>0,Y.write_shift(4,fe),Y.write_shift(4,_e),de+=16383+(oe?32768:0),Y.write_shift(2,de),Y}function S(L,O){var H=_(L);return L.l+=O-14,H}function F(L,O){var H=R(L),Q=L.read_shift(4);return H[1].v=Q>>6,H}function N(L,O){var H=R(L),Q=L.read_shift(8,"f");return H[1].v=Q,H}function G(L,O){var H=N(L);return L.l+=O-10,H}function le(L,O){return L[L.l+O-1]==0?L.read_shift(O,"cstr"):""}function ie(L,O){var H=L[L.l++];H>O-1&&(H=O-1);for(var Q="";Q.length<H;)Q+=String.fromCharCode(L[L.l++]);return Q}function te(L,O,H){if(!(!H.qpro||O<21)){var Q=L.read_shift(1);L.l+=17,L.l+=1,L.l+=2;var Y=L.read_shift(O-21,"cstr");return[Q,Y]}}function J(L,O){for(var H={},Q=L.l+O;L.l<Q;){var Y=L.read_shift(2);if(Y==14e3){for(H[Y]=[0,""],H[Y][0]=L.read_shift(2);L[L.l];)H[Y][1]+=String.fromCharCode(L[L.l]),L.l++;L.l++}}return H}function W(L,O){var H=is(5+L.length);H.write_shift(2,14e3),H.write_shift(2,O);for(var Q=0;Q<L.length;++Q){var Y=L.charCodeAt(Q);H[H.l++]=Y>127?95:Y}return H[H.l++]=0,H}var be={0:{n:"BOF",f:ji},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:d},15:{n:"LABEL",f:c},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:c},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:le},222:{n:"SHEETNAMELP",f:ie},65535:{n:""}},xe={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:P},23:{n:"NUMBER17",f:_},24:{n:"NUMBER18",f:E},25:{n:"FORMULA19",f:S},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:J},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:F},38:{n:"??"},39:{n:"NUMBER27",f:N},40:{n:"FORMULA28",f:G},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:le},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:te},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}}();function Pfe(r){var e={},t=r.match(Na),n=0,i=!1;if(t)for(;n!=t.length;++n){var s=tr(t[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;e.cp=JR[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=s.val;break;case"<sz":e.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":s.rgb&&(e.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return e}var Rfe=function(){var r=q2("t"),e=q2("rPr");function t(s){var a=s.match(r);if(!a)return{t:"s",v:""};var o={t:"s",v:Wr(a[1])},A=s.match(e);return A&&(o.s=Pfe(A[1])),o}var n=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(a){return a.replace(n,"").split(i).map(t).filter(function(o){return o.v})}}(),Nfe=function(){var e=/(\r\n|\n)/g;function t(i,s,a){var o=[];i.u&&o.push("text-decoration: underline;"),i.uval&&o.push("text-underline-style:"+i.uval+";"),i.sz&&o.push("font-size:"+i.sz+"pt;"),i.outline&&o.push("text-effect: outline;"),i.shadow&&o.push("text-shadow: auto;"),s.push('<span style="'+o.join("")+'">'),i.b&&(s.push("<b>"),a.push("</b>")),i.i&&(s.push("<i>"),a.push("</i>")),i.strike&&(s.push("<s>"),a.push("</s>"));var A=i.valign||"";return A=="superscript"||A=="super"?A="sup":A=="subscript"&&(A="sub"),A!=""&&(s.push("<"+A+">"),a.push("</"+A+">")),a.push("</span>"),i}function n(i){var s=[[],i.v,[]];return i.v?(i.s&&t(i.s,s[0],s[2]),s[0].join("")+s[1].replace(e,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}}(),Dfe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,Ufe=/<(?:\w+:)?r>/,Mfe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function pN(r,e){var t=e?e.cellHTML:!0,n={};return r?(r.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Wr(Rn(r.slice(r.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Rn(r),t&&(n.h=sN(n.t))):r.match(Ufe)&&(n.r=Rn(r),n.t=Wr(Rn((r.replace(Mfe,"").match(Dfe)||[]).join("").replace(Na,""))),t&&(n.h=Nfe(Rfe(n.r)))),n):{t:""}}var Ofe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,Qfe=/<(?:\w+:)?(?:si|sstItem)>/g,Hfe=/<\/(?:\w+:)?(?:si|sstItem)>/;function Vfe(r,e){var t=[],n="";if(!r)return t;var i=r.match(Ofe);if(i){n=i[2].replace(Qfe,"").split(Hfe);for(var s=0;s!=n.length;++s){var a=pN(n[s].trim(),e);a!=null&&(t[t.length]=a)}i=tr(i[1]),t.Count=i.count,t.Unique=i.uniqueCount}return t}function jfe(r){return[r.read_shift(4),r.read_shift(4)]}function Kfe(r,e){var t=[],n=!1;return Kh(r,function(s,a,o){switch(o){case 159:t.Count=s[0],t.Unique=s[1];break;case 19:t.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(a.T,!n||e.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),t}function m$(r){for(var e=[],t=r.split(""),n=0;n<t.length;++n)e[n]=t[n].charCodeAt(0);return e}function Eh(r,e){var t={};return t.Major=r.read_shift(2),t.Minor=r.read_shift(2),e>=4&&(r.l+=e-4),t}function zfe(r){var e={};return e.id=r.read_shift(0,"lpp4"),e.R=Eh(r,4),e.U=Eh(r,4),e.W=Eh(r,4),e}function Wfe(r){for(var e=r.read_shift(4),t=r.l+e-4,n={},i=r.read_shift(4),s=[];i-- >0;)s.push({t:r.read_shift(4),v:r.read_shift(0,"lpp4")});if(n.name=r.read_shift(0,"lpp4"),n.comps=s,r.l!=t)throw new Error("Bad DataSpaceMapEntry: "+r.l+" != "+t);return n}function Gfe(r){var e=[];r.l+=4;for(var t=r.read_shift(4);t-- >0;)e.push(Wfe(r));return e}function $fe(r){var e=[];r.l+=4;for(var t=r.read_shift(4);t-- >0;)e.push(r.read_shift(0,"lpp4"));return e}function qfe(r){var e={};return r.read_shift(4),r.l+=4,e.id=r.read_shift(0,"lpp4"),e.name=r.read_shift(0,"lpp4"),e.R=Eh(r,4),e.U=Eh(r,4),e.W=Eh(r,4),e}function Xfe(r){var e=qfe(r);if(e.ename=r.read_shift(0,"8lpp4"),e.blksz=r.read_shift(4),e.cmode=r.read_shift(4),r.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function v$(r,e){var t=r.l+e,n={};n.Flags=r.read_shift(4)&63,r.l+=4,n.AlgID=r.read_shift(4);var i=!1;switch(n.AlgID){case 26126:case 26127:case 26128:i=n.Flags==36;break;case 26625:i=n.Flags==4;break;case 0:i=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=r.read_shift(4),n.KeySize=r.read_shift(4),n.ProviderType=r.read_shift(4),r.l+=8,n.CSPName=r.read_shift(t-r.l>>1,"utf16le"),r.l=t,n}function w$(r,e){var t={},n=r.l+e;return r.l+=4,t.Salt=r.slice(r.l,r.l+16),r.l+=16,t.Verifier=r.slice(r.l,r.l+16),r.l+=16,r.read_shift(4),t.VerifierHash=r.slice(r.l,n),r.l=n,t}function Yfe(r){var e=Eh(r);switch(e.Minor){case 2:return[e.Minor,Jfe(r)];case 3:return[e.Minor,Zfe()];case 4:return[e.Minor,ede(r)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function Jfe(r){var e=r.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var t=r.read_shift(4),n=v$(r,t),i=w$(r,r.length-r.l);return{t:"Std",h:n,v:i}}function Zfe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function ede(r){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];r.l+=4;var t=r.read_shift(r.length-r.l,"utf8"),n={};return t.replace(Na,function(s){var a=tr(s);switch(iu(a[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(o){n[o]=a[o]});break;case"<dataIntegrity":n.encryptedHmacKey=a.encryptedHmacKey,n.encryptedHmacValue=a.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=a.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(a);break;default:throw a[0]}}),n}function tde(r,e){var t={},n=t.EncryptionVersionInfo=Eh(r,4);if(e-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);t.Flags=r.read_shift(4),e-=4;var i=r.read_shift(4);return e-=4,t.EncryptionHeader=v$(r,i),e-=i,t.EncryptionVerifier=w$(r,e),t}function rde(r){var e={},t=e.EncryptionVersionInfo=Eh(r,4);if(t.Major!=1||t.Minor!=1)throw"unrecognized version code "+t.Major+" : "+t.Minor;return e.Salt=r.read_shift(16),e.EncryptedVerifier=r.read_shift(16),e.EncryptedVerifierHash=r.read_shift(16),e}function nde(r){var e=0,t,n=m$(r),i=n.length+1,s,a,o,A,l;for(t=$d(i),t[0]=n.length,s=1;s!=i;++s)t[s]=n[s-1];for(s=i-1;s>=0;--s)a=t[s],o=e&16384?1:0,A=e<<1&32767,l=o|A,e=l^a;return e^52811}var y$=function(){var r=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],t=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(a){return(a/2|a*128)&255},i=function(a,o){return n(a^o)},s=function(a){for(var o=e[a.length-1],A=104,l=a.length-1;l>=0;--l)for(var c=a[l],u=0;u!=7;++u)c&64&&(o^=t[A]),c*=2,--A;return o};return function(a){for(var o=m$(a),A=s(o),l=o.length,c=$d(16),u=0;u!=16;++u)c[u]=0;var h,f,d;for((l&1)===1&&(h=A>>8,c[l]=i(r[0],h),--l,h=A&255,f=o[o.length-1],c[l]=i(f,h));l>0;)--l,h=A>>8,c[l]=i(o[l],h),--l,h=A&255,c[l]=i(o[l],h);for(l=15,d=15-o.length;d>0;)h=A>>8,c[l]=i(r[d],h),--l,--d,h=A&255,c[l]=i(o[l],h),--l,--d;return c}}(),ide=function(r,e,t,n,i){i||(i=e),n||(n=y$(r));var s,a;for(s=0;s!=e.length;++s)a=e[s],a^=n[t],a=(a>>5|a<<3)&255,i[s]=a,++t;return[i,t,n]},sde=function(r){var e=0,t=y$(r);return function(n){var i=ide("",n,e,t);return e=i[1],i[0]}};function ade(r,e,t,n){var i={key:ji(r),verificationBytes:ji(r)};return t.password&&(i.verifier=nde(t.password)),n.valid=i.verificationBytes===i.verifier,n.valid&&(n.insitu=sde(t.password)),i}function ode(r,e,t){var n=t||{};return n.Info=r.read_shift(2),r.l-=2,n.Info===1?n.Data=rde(r):n.Data=tde(r,e),n}function Ade(r,e,t){var n={Type:t.biff>=8?r.read_shift(2):0};return n.Type?ode(r,e-2,n):ade(r,t.biff>=8?e:e-2,t,n),n}var lde=function(){function r(i,s){switch(s.type){case"base64":return e(bA(i),s);case"binary":return e(i,s);case"buffer":return e(Ur&&Buffer.isBuffer(i)?i.toString("binary"):Og(i),s);case"array":return e(Bg(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var a=s||{},o=a.dense?[]:{},A=i.match(/\\trowd.*?\\row\b/g);if(!A.length)throw new Error("RTF missing table");var l={s:{c:0,r:0},e:{c:0,r:A.length-1}};return A.forEach(function(c,u){Array.isArray(o)&&(o[u]=[]);for(var h=/\\\w+\b/g,f=0,d,p=-1;d=h.exec(c);){switch(d[0]){case"\\cell":var v=c.slice(f,h.lastIndex-d[0].length);if(v[0]==" "&&(v=v.slice(1)),++p,v.length){var m={v,t:"s"};Array.isArray(o)?o[u][p]=m:o[lr({r:u,c:p})]=m}break}f=h.lastIndex}p>l.e.c&&(l.e.c=p)}),o["!ref"]=Vr(l),o}function t(i,s){return o0(r(i,s),s)}function n(i){for(var s=["{\\rtf1\\ansi"],a=yi(i["!ref"]),o,A=Array.isArray(i),l=a.s.r;l<=a.e.r;++l){s.push("\\trowd\\trautofit1");for(var c=a.s.c;c<=a.e.c;++c)s.push("\\cellx"+(c+1));for(s.push("\\pard\\intbl"),c=a.s.c;c<=a.e.c;++c){var u=lr({r:l,c});o=A?(i[l]||[])[c]:i[u],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(Mh(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:t,to_sheet:r,from_sheet:n}}();function cde(r){var e=r.slice(r[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function J2(r){for(var e=0,t=1;e!=3;++e)t=t*256+(r[e]>255?255:r[e]<0?0:r[e]);return t.toString(16).toUpperCase().slice(1)}function ude(r){var e=r[0]/255,t=r[1]/255,n=r[2]/255,i=Math.max(e,t,n),s=Math.min(e,t,n),a=i-s;if(a===0)return[0,0,e];var o=0,A=0,l=i+s;switch(A=a/(l>1?2-l:l),i){case e:o=((t-n)/a+6)%6;break;case t:o=(n-e)/a+2;break;case n:o=(e-t)/a+4;break}return[o/6,A,l/2]}function hde(r){var e=r[0],t=r[1],n=r[2],i=t*2*(n<.5?n:1-n),s=n-i/2,a=[s,s,s],o=6*e,A;if(t!==0)switch(o|0){case 0:case 6:A=i*o,a[0]+=i,a[1]+=A;break;case 1:A=i*(2-o),a[0]+=A,a[1]+=i;break;case 2:A=i*(o-2),a[1]+=i,a[2]+=A;break;case 3:A=i*(4-o),a[1]+=A,a[2]+=i;break;case 4:A=i*(o-4),a[2]+=i,a[0]+=A;break;case 5:A=i*(6-o),a[2]+=A,a[0]+=i;break}for(var l=0;l!=3;++l)a[l]=Math.round(a[l]*255);return a}function FS(r,e){if(e===0)return r;var t=ude(cde(r));return e<0?t[2]=t[2]*(1+e):t[2]=1-(1-t[2])*(1-e),J2(hde(t))}var x$=6,fde=15,dde=1,Xa=x$;function IS(r){return Math.floor((r+Math.round(128/Xa)/256)*Xa)}function kS(r){return Math.floor((r-5)/Xa*100+.5)/100}function q3(r){return Math.round((r*Xa+5)/Xa*256)/256}function ZF(r){return q3(kS(IS(r)))}function gN(r){var e=Math.abs(r-ZF(r)),t=Xa;if(e>.005)for(Xa=dde;Xa<fde;++Xa)Math.abs(r-ZF(r))<=e&&(e=Math.abs(r-ZF(r)),t=Xa);Xa=t}function Nv(r){r.width?(r.wpx=IS(r.width),r.wch=kS(r.wpx),r.MDW=Xa):r.wpx?(r.wch=kS(r.wpx),r.width=q3(r.wch),r.MDW=Xa):typeof r.wch=="number"&&(r.width=q3(r.wch),r.wpx=IS(r.width),r.MDW=Xa),r.customWidth&&delete r.customWidth}var pde=96,_$=pde;function b$(r){return r*96/_$}function Z2(r){return r*_$/96}var gde={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function mde(r,e,t,n){e.Borders=[];var i={},s=!1;(r[0].match(Na)||[]).forEach(function(a){var o=tr(a);switch(iu(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},o.diagonalUp&&(i.diagonalUp=Gn(o.diagonalUp)),o.diagonalDown&&(i.diagonalDown=Gn(o.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in borders")}})}function vde(r,e,t,n){e.Fills=[];var i={},s=!1;(r[0].match(Na)||[]).forEach(function(a){var o=tr(a);switch(iu(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":o.patternType&&(i.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),o.indexed&&(i.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(i.bgColor.theme=parseInt(o.theme,10)),o.tint&&(i.bgColor.tint=parseFloat(o.tint)),o.rgb&&(i.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),o.theme&&(i.fgColor.theme=parseInt(o.theme,10)),o.tint&&(i.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(i.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fills")}})}function wde(r,e,t,n){e.Fonts=[];var i={},s=!1;(r[0].match(Na)||[]).forEach(function(a){var o=tr(a);switch(iu(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=Rn(o.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=o.val?Gn(o.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=o.val?Gn(o.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=o.val?Gn(o.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=o.val?Gn(o.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=o.val?Gn(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=o.val?Gn(o.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=o.val?Gn(o.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":o.val&&(i.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=JR[parseInt(o.val,10)];break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=Gn(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var A=ag[i.color.index];i.color.index==81&&(A=ag[1]),A||(A=ag[1]),i.color.rgb=A[0].toString(16)+A[1].toString(16)+A[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&t.themeElements&&t.themeElements.clrScheme&&(i.color.rgb=FS(t.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fonts")}})}function yde(r,e,t){e.NumberFmt=[];for(var n=tu(pr),i=0;i<n.length;++i)e.NumberFmt[n[i]]=pr[n[i]];var s=r[0].match(Na);if(s)for(i=0;i<s.length;++i){var a=tr(s[i]);switch(iu(a[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Wr(Rn(a.formatCode)),A=parseInt(a.numFmtId,10);if(e.NumberFmt[A]=o,A>0){if(A>392){for(A=392;A>60&&e.NumberFmt[A]!=null;--A);e.NumberFmt[A]=o}sg(o,A)}}break;case"</numFmt>":break;default:if(t.WTF)throw new Error("unrecognized "+a[0]+" in numFmts")}}}var mE=["numFmtId","fillId","fontId","borderId","xfId"],vE=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function xde(r,e,t){e.CellXf=[];var n,i=!1;(r[0].match(Na)||[]).forEach(function(s){var a=tr(s),o=0;switch(iu(a[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=a,delete n[0],o=0;o<mE.length;++o)n[mE[o]]&&(n[mE[o]]=parseInt(n[mE[o]],10));for(o=0;o<vE.length;++o)n[vE[o]]&&(n[vE[o]]=Gn(n[vE[o]]));if(e.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(e.NumberFmt[n.numFmtId]==e.NumberFmt[o]){n.numFmtId=o;break}}e.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var A={};a.vertical&&(A.vertical=a.vertical),a.horizontal&&(A.horizontal=a.horizontal),a.textRotation!=null&&(A.textRotation=a.textRotation),a.indent&&(A.indent=a.indent),a.wrapText&&(A.wrapText=Gn(a.wrapText)),n.alignment=A;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(t&&t.WTF&&!i)throw new Error("unrecognized "+a[0]+" in cellXfs")}})}var _de=function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,t=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,A,l){var c={};if(!o)return c;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var u;return(u=o.match(e))&&yde(u,c,l),(u=o.match(i))&&wde(u,c,A,l),(u=o.match(n))&&vde(u,c,A,l),(u=o.match(s))&&mde(u,c,A,l),(u=o.match(t))&&xde(u,c,l),c}}();function bde(r,e){var t=r.read_shift(2),n=Ia(r);return[t,n]}function Ede(r,e,t){var n={};n.sz=r.read_shift(2)/20;var i=Rue(r);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var s=r.read_shift(2);switch(s===700&&(n.bold=1),r.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var a=r.read_shift(1);a!=0&&(n.underline=a);var o=r.read_shift(1);o>0&&(n.family=o);var A=r.read_shift(1);switch(A>0&&(n.charset=A),r.l++,n.color=Pue(r),r.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Ia(r),n}var Cde=Pa;function Bde(r,e){var t=r.l+e,n=r.read_shift(2),i=r.read_shift(2);return r.l=t,{ixfe:n,numFmtId:i}}var Sde=Pa;function Tde(r,e,t){var n={};n.NumberFmt=[];for(var i in pr)n.NumberFmt[i]=pr[i];n.CellXf=[],n.Fonts=[];var s=[],a=!1;return Kh(r,function(A,l,c){switch(c){case 44:n.NumberFmt[A[0]]=A[1],sg(A[1],A[0]);break;case 43:n.Fonts.push(A),A.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(A.color.rgb=FS(e.themeElements.clrScheme[A.color.theme].rgb,A.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(A);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:s.push(c),a=!0;break;case 38:s.pop(),a=!1;break;default:if(l.T>0)s.push(c);else if(l.T<0)s.pop();else if(!a||t.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+c.toString(16))}}),n}var Fde=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Ide(r,e,t){e.themeElements.clrScheme=[];var n={};(r[0].match(Na)||[]).forEach(function(i){var s=tr(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(e.themeElements.clrScheme[Fde.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(t&&t.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function kde(){}function Lde(){}var Pde=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,Rde=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,Nde=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function Dde(r,e,t){e.themeElements={};var n;[["clrScheme",Pde,Ide],["fontScheme",Rde,kde],["fmtScheme",Nde,Lde]].forEach(function(i){if(!(n=r.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](n,e,t)})}var Ude=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function E$(r,e){(!r||r.length===0)&&(r=Mde());var t,n={};if(!(t=r.match(Ude)))throw new Error("themeElements not found in theme");return Dde(t[0],n,e),n.raw=r,n}function Mde(r,e){var t=[NG];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function Ode(r,e,t){var n=r.l+e,i=r.read_shift(4);if(i!==124226){if(!t.cellStyles){r.l=n;return}var s=r.slice(r.l);r.l=n;var a;try{a=RG(s,{type:"array"})}catch{return}var o=gA(a,"theme/theme/theme1.xml",!0);if(o)return E$(o,t)}}function Qde(r){return r.read_shift(4)}function Hde(r){var e={};switch(e.xclrType=r.read_shift(2),e.nTintShade=r.read_shift(2),e.xclrType){case 0:r.l+=4;break;case 1:e.xclrValue=Vde(r,4);break;case 2:e.xclrValue=c$(r);break;case 3:e.xclrValue=Qde(r);break;case 4:r.l+=4;break}return r.l+=8,e}function Vde(r,e){return Pa(r,e)}function jde(r,e){return Pa(r,e)}function Kde(r){var e=r.read_shift(2),t=r.read_shift(2)-4,n=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=Hde(r);break;case 6:n[1]=jde(r,t);break;case 14:case 15:n[1]=r.read_shift(t===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+t)}return n}function zde(r,e){var t=r.l+e;r.l+=2;var n=r.read_shift(2);r.l+=2;for(var i=r.read_shift(2),s=[];i-- >0;)s.push(Kde(r,t-r.l));return{ixfe:n,ext:s}}function Wde(r,e){e.forEach(function(t){switch(t[0]){}})}function Gde(r,e){return{flags:r.read_shift(4),version:r.read_shift(4),name:Ia(r)}}function $de(r){for(var e=[],t=r.read_shift(4);t-- >0;)e.push([r.read_shift(4),r.read_shift(4)]);return e}function qde(r){return r.l+=4,r.read_shift(4)!=0}function Xde(r,e,t){var n={Types:[],Cell:[],Value:[]},i=t||{},s=[],a=!1,o=2;return Kh(r,function(A,l,c){switch(c){case 335:n.Types.push({name:A.name});break;case 51:A.forEach(function(u){o==1?n.Cell.push({type:n.Types[u[0]-1].name,index:u[1]}):o==0&&n.Value.push({type:n.Types[u[0]-1].name,index:u[1]})});break;case 337:o=A?1:0;break;case 338:o=2;break;case 35:s.push(c),a=!0;break;case 36:s.pop(),a=!1;break;default:if(!l.T){if(!a||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+c.toString(16))}}}),n}function Yde(r,e,t){var n={Types:[],Cell:[],Value:[]};if(!r)return n;var i=!1,s=2,a;return r.replace(Na,function(o){var A=tr(o);switch(iu(A[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:A.name});break;case"</metadataType>":break;case"<futureMetadata":for(var l=0;l<n.Types.length;++l)n.Types[l].name==A.name&&(a=n.Types[l]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[A.t-1].name,index:+A.v}):s==0&&n.Value.push({type:n.Types[A.t-1].name,index:+A.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!a)break;a.offsets||(a.offsets=[]),a.offsets.push(+A.i);break;default:if(!i&&t.WTF)throw new Error("unrecognized "+A[0]+" in metadata")}return o}),n}function Jde(r){var e=[];if(!r)return e;var t=1;return(r.match(Na)||[]).forEach(function(n){var i=tr(n);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?t=i.i:i.i=t,e.push(i);break}}),e}function Zde(r){var e={};e.i=r.read_shift(4);var t={};t.r=r.read_shift(4),t.c=r.read_shift(4),e.r=lr(t);var n=r.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}function e0e(r,e,t){var n=[];return Kh(r,function(s,a,o){switch(o){case 63:n.push(s);break;default:if(!a.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function t0e(r,e,t,n){if(!r)return r;var i=n||{},s=!1;Kh(r,function(o,A,l){switch(l){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!A.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}},i)}function r0e(r,e){if(!r)return"??";var t=(r.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][t].Target}function _6(r,e,t,n){var i=Array.isArray(r),s;e.forEach(function(a){var o=Ya(a.ref);if(i?(r[o.r]||(r[o.r]=[]),s=r[o.r][o.c]):s=r[a.ref],!s){s={t:"z"},i?r[o.r][o.c]=s:r[a.ref]=s;var A=yi(r["!ref"]||"BDWGO1000001:A1");A.s.r>o.r&&(A.s.r=o.r),A.e.r<o.r&&(A.e.r=o.r),A.s.c>o.c&&(A.s.c=o.c),A.e.c<o.c&&(A.e.c=o.c);var l=Vr(A);l!==r["!ref"]&&(r["!ref"]=l)}s.c||(s.c=[]);var c={a:a.author,t:a.t,r:a.r,T:t};a.h&&(c.h=a.h);for(var u=s.c.length-1;u>=0;--u){if(!t&&s.c[u].T)return;t&&!s.c[u].T&&s.c.splice(u,1)}if(t&&n){for(u=0;u<n.length;++u)if(c.a==n[u].id){c.a=n[u].name||c.a;break}}s.c.push(c)})}function n0e(r,e){if(r.match(/<(?:\w+:)?comments *\/>/))return[];var t=[],n=[],i=r.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&t.push(o[1])}});var s=r.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?comment[^>]*>/);if(o){var A=tr(o[0]),l={author:A.authorId&&t[A.authorId]||"sheetjsghost",ref:A.ref,guid:A.guid},c=Ya(A.ref);if(!(e.sheetRows&&e.sheetRows<=c.r)){var u=a.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!u&&!!u[1]&&pN(u[1])||{r:"",t:"",h:""};l.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),l.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(l.h=h.h),n.push(l)}}}}),n}function i0e(r,e){var t=[],n=!1,i={},s=0;return r.replace(Na,function(o,A){var l=tr(o);switch(iu(l[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:l.personId,guid:l.id,ref:l.ref,T:1};break;case"</threadedComment>":i.t!=null&&t.push(i);break;case"<text>":case"<text":s=A+o.length;break;case"</text>":i.t=r.slice(s,A).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+l[0]+" in threaded comments")}return o}),t}function s0e(r,e){var t=[],n=!1;return r.replace(Na,function(s){var a=tr(s);switch(iu(a[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":t.push({name:a.displayname,id:a.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+a[0]+" in threaded comments")}return s}),t}function a0e(r){var e={};e.iauthor=r.read_shift(4);var t=Hg(r);return e.rfx=t.s,e.ref=lr(t.s),r.l+=16,e}var o0e=Ia;function A0e(r,e){var t=[],n=[],i={},s=!1;return Kh(r,function(o,A,l){switch(l){case 632:n.push(o);break;case 635:i=o;break;case 637:i.t=o.t,i.h=o.h,i.r=o.r;break;case 636:if(i.author=n[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,t.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!A.T){if(!s||e.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}}),t}var l0e="application/vnd.ms-office.vbaProject";function c0e(r){var e=Hr.utils.cfb_new({root:"R"});return r.FullPaths.forEach(function(t,n){if(!(t.slice(-1)==="/"||!t.match(/_VBA_PROJECT_CUR/))){var i=t.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Hr.utils.cfb_add(e,i,r.FileIndex[n].content)}}),Hr.write(e)}function u0e(){return{"!type":"dialog"}}function h0e(){return{"!type":"dialog"}}function f0e(){return{"!type":"macro"}}function d0e(){return{"!type":"macro"}}var s1=function(){var r=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(n,i,s,a){var o=!1,A=!1;s.length==0?A=!0:s.charAt(0)=="["&&(A=!0,s=s.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var l=s.length>0?parseInt(s,10)|0:0,c=a.length>0?parseInt(a,10)|0:0;return o?c+=e.c:--c,A?l+=e.r:--l,i+(o?"":"$")+As(c)+(A?"":"$")+Ys(l)}return function(i,s){return e=s,i.replace(r,t)}}(),C$=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,p0e=function(){return function(e,t){return e.replace(C$,function(n,i,s,a,o,A){var l=lN(a)-(s?0:t.c),c=AN(A)-(o?0:t.r),u=c==0?"":o?c+1:"["+c+"]",h=l==0?"":s?l+1:"["+l+"]";return i+"R"+u+"C"+h})}}();function B$(r,e){return r.replace(C$,function(t,n,i,s,a,o){return n+(i=="$"?i+s:As(lN(s)+e.c))+(a=="$"?a+o:Ys(AN(o)+e.r))})}function g0e(r,e,t){var n=Jv(e),i=n.s,s=Ya(t),a={r:s.r-i.r,c:s.c-i.c};return B$(r,a)}function m0e(r){return r.length!=1}function b6(r){return r.replace(/_xlfn\./g,"")}function Qi(r){r.l+=1}function qd(r,e){var t=r.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function S$(r,e,t){var n=2;if(t){if(t.biff>=2&&t.biff<=5)return T$(r);t.biff==12&&(n=4)}var i=r.read_shift(n),s=r.read_shift(n),a=qd(r),o=qd(r);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function T$(r){var e=qd(r),t=qd(r),n=r.read_shift(1),i=r.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:t[0],c:i,cRel:t[1],rRel:t[2]}}}function v0e(r,e,t){if(t.biff<8)return T$(r);var n=r.read_shift(t.biff==12?4:2),i=r.read_shift(t.biff==12?4:2),s=qd(r),a=qd(r);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function F$(r,e,t){if(t&&t.biff>=2&&t.biff<=5)return w0e(r);var n=r.read_shift(t&&t.biff==12?4:2),i=qd(r);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function w0e(r){var e=qd(r),t=r.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function y0e(r){var e=r.read_shift(2),t=r.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function x0e(r,e,t){var n=t&&t.biff?t.biff:8;if(n>=2&&n<=5)return _0e(r);var i=r.read_shift(n>=12?4:2),s=r.read_shift(2),a=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;i>524287;)i-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:a,rRel:o}}function _0e(r){var e=r.read_shift(2),t=r.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:i,rRel:n}}function b0e(r,e,t){var n=(r[r.l++]&96)>>5,i=S$(r,t.biff>=2&&t.biff<=5?6:8,t);return[n,i]}function E0e(r,e,t){var n=(r[r.l++]&96)>>5,i=r.read_shift(2,"i"),s=8;if(t)switch(t.biff){case 5:r.l+=12,s=6;break;case 12:s=12;break}var a=S$(r,s,t);return[n,i,a]}function C0e(r,e,t){var n=(r[r.l++]&96)>>5;return r.l+=t&&t.biff>8?12:t.biff<8?6:8,[n]}function B0e(r,e,t){var n=(r[r.l++]&96)>>5,i=r.read_shift(2),s=8;if(t)switch(t.biff){case 5:r.l+=12,s=6;break;case 12:s=12;break}return r.l+=s,[n,i]}function S0e(r,e,t){var n=(r[r.l++]&96)>>5,i=v0e(r,e-1,t);return[n,i]}function T0e(r,e,t){var n=(r[r.l++]&96)>>5;return r.l+=t.biff==2?6:t.biff==12?14:7,[n]}function E6(r){var e=r[r.l+1]&1,t=1;return r.l+=4,[e,t]}function F0e(r,e,t){r.l+=2;for(var n=r.read_shift(t&&t.biff==2?1:2),i=[],s=0;s<=n;++s)i.push(r.read_shift(t&&t.biff==2?1:2));return i}function I0e(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(t&&t.biff==2?1:2)]}function k0e(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(t&&t.biff==2?1:2)]}function L0e(r){var e=r[r.l+1]&255?1:0;return r.l+=2,[e,r.read_shift(2)]}function P0e(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=t&&t.biff==2?3:4,[n]}function I$(r){var e=r.read_shift(1),t=r.read_shift(1);return[e,t]}function R0e(r){return r.read_shift(2),I$(r)}function N0e(r){return r.read_shift(2),I$(r)}function D0e(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=F$(r,0,t);return[n,i]}function U0e(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=x0e(r,0,t);return[n,i]}function M0e(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=r.read_shift(2);t&&t.biff==5&&(r.l+=12);var s=F$(r,0,t);return[n,i,s]}function O0e(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=r.read_shift(t&&t.biff<=3?1:2);return[Qpe[i],P$[i],n]}function Q0e(r,e,t){var n=r[r.l++],i=r.read_shift(1),s=t&&t.biff<=3?[n==88?-1:0,r.read_shift(1)]:H0e(r);return[i,(s[0]===0?P$:Ope)[s[1]]]}function H0e(r){return[r[r.l+1]>>7,r.read_shift(2)&32767]}function V0e(r,e,t){r.l+=t&&t.biff==2?3:4}function j0e(r,e,t){if(r.l++,t&&t.biff==12)return[r.read_shift(4,"i"),0];var n=r.read_shift(2),i=r.read_shift(t&&t.biff==2?1:2);return[n,i]}function K0e(r){return r.l++,Vg[r.read_shift(1)]}function z0e(r){return r.l++,r.read_shift(2)}function W0e(r){return r.l++,r.read_shift(1)!==0}function G0e(r){return r.l++,Sa(r)}function $0e(r,e,t){return r.l++,ub(r,e-1,t)}function q0e(r,e){var t=[r.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=Bi(r,1)?"TRUE":"FALSE",e!=12&&(r.l+=7);break;case 37:case 16:t[1]=Vg[r[r.l]],r.l+=e==12?4:8;break;case 0:r.l+=8;break;case 1:t[1]=Sa(r);break;case 2:t[1]=jg(r,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function X0e(r,e,t){for(var n=r.read_shift(t.biff==12?4:2),i=[],s=0;s!=n;++s)i.push((t.biff==12?Hg:mT)(r));return i}function Y0e(r,e,t){var n=0,i=0;t.biff==12?(n=r.read_shift(4),i=r.read_shift(4)):(i=1+r.read_shift(1),n=1+r.read_shift(2)),t.biff>=2&&t.biff<8&&(--n,--i==0&&(i=256));for(var s=0,a=[];s!=n&&(a[s]=[]);++s)for(var o=0;o!=i;++o)a[s][o]=q0e(r,t.biff);return a}function J0e(r,e,t){var n=r.read_shift(1)>>>5&3,i=!t||t.biff>=8?4:2,s=r.read_shift(i);switch(t.biff){case 2:r.l+=5;break;case 3:case 4:r.l+=8;break;case 5:r.l+=12;break}return[n,0,s]}function Z0e(r,e,t){if(t.biff==5)return epe(r);var n=r.read_shift(1)>>>5&3,i=r.read_shift(2),s=r.read_shift(4);return[n,i,s]}function epe(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2,"i");r.l+=8;var n=r.read_shift(2);return r.l+=12,[e,t,n]}function tpe(r,e,t){var n=r.read_shift(1)>>>5&3;r.l+=t&&t.biff==2?3:4;var i=r.read_shift(t&&t.biff==2?1:2);return[n,i]}function rpe(r,e,t){var n=r.read_shift(1)>>>5&3,i=r.read_shift(t&&t.biff==2?1:2);return[n,i]}function npe(r,e,t){var n=r.read_shift(1)>>>5&3;return r.l+=4,t.biff<8&&r.l--,t.biff==12&&(r.l+=2),[n]}function ipe(r,e,t){var n=(r[r.l++]&96)>>5,i=r.read_shift(2),s=4;if(t)switch(t.biff){case 5:s=15;break;case 12:s=6;break}return r.l+=s,[n,i]}var spe=Pa,ape=Pa,ope=Pa;function fb(r,e,t){return r.l+=2,[y0e(r)]}function mN(r){return r.l+=6,[]}var Ape=fb,lpe=mN,cpe=mN,upe=fb;function k$(r){return r.l+=2,[ji(r),r.read_shift(2)&1]}var hpe=fb,fpe=k$,dpe=mN,ppe=fb,gpe=fb,mpe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function vpe(r){r.l+=2;var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(4),i=r.read_shift(2),s=r.read_shift(2),a=mpe[t>>2&31];return{ixti:e,coltype:t&3,rt:a,idx:n,c:i,C:s}}function wpe(r){return r.l+=2,[r.read_shift(4)]}function ype(r,e,t){return r.l+=5,r.l+=2,r.l+=t.biff==2?1:4,["PTGSHEET"]}function xpe(r,e,t){return r.l+=t.biff==2?4:5,["PTGENDSHEET"]}function _pe(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function bpe(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function Epe(r){return r.l+=4,[0,0]}var C6={1:{n:"PtgExp",f:j0e},2:{n:"PtgTbl",f:ope},3:{n:"PtgAdd",f:Qi},4:{n:"PtgSub",f:Qi},5:{n:"PtgMul",f:Qi},6:{n:"PtgDiv",f:Qi},7:{n:"PtgPower",f:Qi},8:{n:"PtgConcat",f:Qi},9:{n:"PtgLt",f:Qi},10:{n:"PtgLe",f:Qi},11:{n:"PtgEq",f:Qi},12:{n:"PtgGe",f:Qi},13:{n:"PtgGt",f:Qi},14:{n:"PtgNe",f:Qi},15:{n:"PtgIsect",f:Qi},16:{n:"PtgUnion",f:Qi},17:{n:"PtgRange",f:Qi},18:{n:"PtgUplus",f:Qi},19:{n:"PtgUminus",f:Qi},20:{n:"PtgPercent",f:Qi},21:{n:"PtgParen",f:Qi},22:{n:"PtgMissArg",f:Qi},23:{n:"PtgStr",f:$0e},26:{n:"PtgSheet",f:ype},27:{n:"PtgEndSheet",f:xpe},28:{n:"PtgErr",f:K0e},29:{n:"PtgBool",f:W0e},30:{n:"PtgInt",f:z0e},31:{n:"PtgNum",f:G0e},32:{n:"PtgArray",f:T0e},33:{n:"PtgFunc",f:O0e},34:{n:"PtgFuncVar",f:Q0e},35:{n:"PtgName",f:J0e},36:{n:"PtgRef",f:D0e},37:{n:"PtgArea",f:b0e},38:{n:"PtgMemArea",f:tpe},39:{n:"PtgMemErr",f:spe},40:{n:"PtgMemNoMem",f:ape},41:{n:"PtgMemFunc",f:rpe},42:{n:"PtgRefErr",f:npe},43:{n:"PtgAreaErr",f:C0e},44:{n:"PtgRefN",f:U0e},45:{n:"PtgAreaN",f:S0e},46:{n:"PtgMemAreaN",f:_pe},47:{n:"PtgMemNoMemN",f:bpe},57:{n:"PtgNameX",f:Z0e},58:{n:"PtgRef3d",f:M0e},59:{n:"PtgArea3d",f:E0e},60:{n:"PtgRefErr3d",f:ipe},61:{n:"PtgAreaErr3d",f:B0e},255:{}},Cpe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Bpe={1:{n:"PtgElfLel",f:k$},2:{n:"PtgElfRw",f:ppe},3:{n:"PtgElfCol",f:Ape},6:{n:"PtgElfRwV",f:gpe},7:{n:"PtgElfColV",f:upe},10:{n:"PtgElfRadical",f:hpe},11:{n:"PtgElfRadicalS",f:dpe},13:{n:"PtgElfColS",f:lpe},15:{n:"PtgElfColSV",f:cpe},16:{n:"PtgElfRadicalLel",f:fpe},25:{n:"PtgList",f:vpe},29:{n:"PtgSxName",f:wpe},255:{}},Spe={0:{n:"PtgAttrNoop",f:Epe},1:{n:"PtgAttrSemi",f:P0e},2:{n:"PtgAttrIf",f:k0e},4:{n:"PtgAttrChoose",f:F0e},8:{n:"PtgAttrGoto",f:I0e},16:{n:"PtgAttrSum",f:V0e},32:{n:"PtgAttrBaxcel",f:E6},33:{n:"PtgAttrBaxcel",f:E6},64:{n:"PtgAttrSpace",f:R0e},65:{n:"PtgAttrSpaceSemi",f:N0e},128:{n:"PtgAttrIfError",f:L0e},255:{}};function db(r,e,t,n){if(n.biff<8)return Pa(r,e);for(var i=r.l+e,s=[],a=0;a!==t.length;++a)switch(t[a][0]){case"PtgArray":t[a][1]=Y0e(r,0,n),s.push(t[a][1]);break;case"PtgMemArea":t[a][2]=X0e(r,t[a][1],n),s.push(t[a][2]);break;case"PtgExp":n&&n.biff==12&&(t[a][1][1]=r.read_shift(4),s.push(t[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[a][0]}return e=i-r.l,e!==0&&s.push(Pa(r,e)),s}function pb(r,e,t){for(var n=r.l+e,i,s,a=[];n!=r.l;)e=n-r.l,s=r[r.l],i=C6[s]||C6[Cpe[s]],(s===24||s===25)&&(i=(s===24?Bpe:Spe)[r[r.l+1]]),!i||!i.f?Pa(r,e):a.push([i.n,i.f(r,e,t)]);return a}function Tpe(r){for(var e=[],t=0;t<r.length;++t){for(var n=r[t],i=[],s=0;s<n.length;++s){var a=n[s];if(a)switch(a[0]){case 2:i.push('"'+a[1].replace(/"/g,'""')+'"');break;default:i.push(a[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var Fpe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Ipe(r,e){if(!r&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(r)?"'"+r+"'":r}function L$(r,e,t){if(!r)return"SH33TJSERR0";if(t.biff>8&&(!r.XTI||!r.XTI[e]))return r.SheetNames[e];if(!r.XTI)return"SH33TJSERR6";var n=r.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":r.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(t.biff>8)switch(r[n[0]][0]){case 357:return i=n[1]==-1?"#REF":r.SheetNames[n[1]],n[1]==n[2]?i:i+":"+r.SheetNames[n[2]];case 358:return t.SID!=null?r.SheetNames[t.SID]:"SH33TJSSAME"+r[n[0]][0];case 355:default:return"SH33TJSSRC"+r[n[0]][0]}switch(r[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":r.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+r.SheetNames[n[2]];case 14849:return r[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return r[n[0]][0][3]?(i=n[1]==-1?"#REF":r[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+r[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function B6(r,e,t){var n=L$(r,e,t);return n=="#REF"?n:Ipe(n,t)}function xa(r,e,t,n,i){var s=i&&i.biff||8,a={s:{c:0,r:0}},o=[],A,l,c,u=0,h=0,f,d="";if(!r[0]||!r[0][0])return"";for(var p=-1,v="",m=0,x=r[0].length;m<x;++m){var b=r[0][m];switch(b[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(A=o.pop(),l=o.pop(),p>=0){switch(r[0][p][1][0]){case 0:v=vi(" ",r[0][p][1][1]);break;case 1:v=vi("\r",r[0][p][1][1]);break;default:if(v="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][p][1][0])}l=l+v,p=-1}o.push(l+Fpe[b[0]]+A);break;case"PtgIsect":A=o.pop(),l=o.pop(),o.push(l+" "+A);break;case"PtgUnion":A=o.pop(),l=o.pop(),o.push(l+","+A);break;case"PtgRange":A=o.pop(),l=o.pop(),o.push(l+":"+A);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":c=qy(b[1][1],a,i),o.push(Xy(c,s));break;case"PtgRefN":c=t?qy(b[1][1],t,i):b[1][1],o.push(Xy(c,s));break;case"PtgRef3d":u=b[1][1],c=qy(b[1][2],a,i),d=B6(n,u,i),o.push(d+"!"+Xy(c,s));break;case"PtgFunc":case"PtgFuncVar":var T=b[1][0],R=b[1][1];T||(T=0),T&=127;var P=T==0?[]:o.slice(-T);o.length-=T,R==="User"&&(R=P.shift()),o.push(R+"("+P.join(",")+")");break;case"PtgBool":o.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(b[1]);break;case"PtgNum":o.push(String(b[1]));break;case"PtgStr":o.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(b[1]);break;case"PtgAreaN":f=a6(b[1][1],t?{s:t}:a,i),o.push(YF(f,i));break;case"PtgArea":f=a6(b[1][1],a,i),o.push(YF(f,i));break;case"PtgArea3d":u=b[1][1],f=b[1][2],d=B6(n,u,i),o.push(d+"!"+YF(f,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=b[1][2];var B=(n.names||[])[h-1]||(n[0]||[])[h],E=B?B.Name:"SH33TJSNAME"+String(h);E&&E.slice(0,6)=="_xlfn."&&!i.xlfn&&(E=E.slice(6)),o.push(E);break;case"PtgNameX":var _=b[1][1];h=b[1][2];var I;if(i.biff<=5)_<0&&(_=-_),n[_]&&(I=n[_][h]);else{var S="";if(((n[_]||[])[0]||[])[0]==14849||(((n[_]||[])[0]||[])[0]==1025?n[_][h]&&n[_][h].itab>0&&(S=n.SheetNames[n[_][h].itab-1]+"!"):S=n.SheetNames[h-1]+"!"),n[_]&&n[_][h])S+=n[_][h].Name;else if(n[0]&&n[0][h])S+=n[0][h].Name;else{var F=(L$(n,_,i)||"").split(";;");F[h-1]?S=F[h-1]:S+="SH33TJSERRX"}o.push(S);break}I||(I={Name:"SH33TJSERRY"}),o.push(I.Name);break;case"PtgParen":var N="(",G=")";if(p>=0){switch(v="",r[0][p][1][0]){case 2:N=vi(" ",r[0][p][1][1])+N;break;case 3:N=vi("\r",r[0][p][1][1])+N;break;case 4:G=vi(" ",r[0][p][1][1])+G;break;case 5:G=vi("\r",r[0][p][1][1])+G;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][p][1][0])}p=-1}o.push(N+o.pop()+G);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":c={c:b[1][1],r:b[1][0]};var le={c:t.c,r:t.r};if(n.sharedf[lr(c)]){var ie=n.sharedf[lr(c)];o.push(xa(ie,a,le,n,i))}else{var te=!1;for(A=0;A!=n.arrayf.length;++A)if(l=n.arrayf[A],!(c.c<l[0].s.c||c.c>l[0].e.c)&&!(c.r<l[0].s.r||c.r>l[0].e.r)){o.push(xa(l[1],a,le,n,i)),te=!0;break}te||o.push(b[1])}break;case"PtgArray":o.push("{"+Tpe(b[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":p=m;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(b));default:throw new Error("Unrecognized Formula Token: "+String(b))}var J=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&p>=0&&J.indexOf(r[0][m][0])==-1){b=r[0][p];var W=!0;switch(b[1][0]){case 4:W=!1;case 0:v=vi(" ",b[1][1]);break;case 5:W=!1;case 1:v=vi("\r",b[1][1]);break;default:if(v="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}o.push((W?v:"")+o.pop()+(W?"":v)),p=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function kpe(r,e,t){var n=r.l+e,i=t.biff==2?1:2,s,a=r.read_shift(i);if(a==65535)return[[],Pa(r,e-2)];var o=pb(r,a,t);return e!==a+i&&(s=db(r,e-a-i,o,t)),r.l=n,[o,s]}function Lpe(r,e,t){var n=r.l+e,i=t.biff==2?1:2,s,a=r.read_shift(i);if(a==65535)return[[],Pa(r,e-2)];var o=pb(r,a,t);return e!==a+i&&(s=db(r,e-a-i,o,t)),r.l=n,[o,s]}function Ppe(r,e,t,n){var i=r.l+e,s=pb(r,n,t),a;return i!==r.l&&(a=db(r,i-r.l,s,t)),[s,a]}function Rpe(r,e,t){var n=r.l+e,i,s=r.read_shift(2),a=pb(r,s,t);return s==65535?[[],Pa(r,e-2)]:(e!==s+2&&(i=db(r,n-s-2,a,t)),[a,i])}function Npe(r){var e;if(gh(r,r.l+6)!==65535)return[Sa(r),"n"];switch(r[r.l]){case 0:return r.l+=8,["String","s"];case 1:return e=r[r.l+2]===1,r.l+=8,[e,"b"];case 2:return e=r[r.l+2],r.l+=8,[e,"e"];case 3:return r.l+=8,["","s"]}return[]}function e4(r,e,t){var n=r.l+e,i=su(r);t.biff==2&&++r.l;var s=Npe(r),a=r.read_shift(1);t.biff!=2&&(r.read_shift(1),t.biff>=5&&r.read_shift(4));var o=Lpe(r,n-r.l,t);return{cell:i,val:s[0],formula:o,shared:a>>3&1,tt:s[1]}}function vT(r,e,t){var n=r.read_shift(4),i=pb(r,n,t),s=r.read_shift(4),a=s>0?db(r,s,i,t):null;return[i,a]}var Dpe=vT,wT=vT,Upe=vT,Mpe=vT,Ope={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},P$={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Qpe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function S6(r){return r.slice(0,3)=="of:"&&(r=r.slice(3)),r.charCodeAt(0)==61&&(r=r.slice(1),r.charCodeAt(0)==61&&(r=r.slice(1))),r=r.replace(/COM\.MICROSOFT\./g,""),r=r.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,t){return t.replace(/\./g,"")}),r=r.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),r.replace(/[;~]/g,",").replace(/\|/g,";")}function t4(r){var e=r.split(":"),t=e[0].split(".")[0];return[t,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}var e2={},a1={};function t2(r,e){if(r){var t=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(t=[1,1,1,1,.5,.5]),r.left==null&&(r.left=t[0]),r.right==null&&(r.right=t[1]),r.top==null&&(r.top=t[2]),r.bottom==null&&(r.bottom=t[3]),r.header==null&&(r.header=t[4]),r.footer==null&&(r.footer=t[5])}}function R$(r,e,t,n,i,s){try{n.cellNF&&(r.z=pr[e])}catch(o){if(n.WTF)throw o}if(!(r.t==="z"&&!n.cellStyles)){if(r.t==="d"&&typeof r.v=="string"&&(r.v=Ts(r.v)),(!n||n.cellText!==!1)&&r.t!=="z")try{if(pr[e]==null&&sg(Hce[e]||"General",e),r.t==="e")r.w=r.w||Vg[r.v];else if(e===0)if(r.t==="n")(r.v|0)===r.v?r.w=r.v.toString(10):r.w=$2(r.v);else if(r.t==="d"){var a=so(r.v);(a|0)===a?r.w=a.toString(10):r.w=$2(a)}else{if(r.v===void 0)return"";r.w=Cg(r.v,a1)}else r.t==="d"?r.w=sl(e,so(r.v),a1):r.w=sl(e,r.v,a1)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&t!=null)try{r.s=s.Fills[t],r.s.fgColor&&r.s.fgColor.theme&&!r.s.fgColor.rgb&&(r.s.fgColor.rgb=FS(i.themeElements.clrScheme[r.s.fgColor.theme].rgb,r.s.fgColor.tint||0),n.WTF&&(r.s.fgColor.raw_rgb=i.themeElements.clrScheme[r.s.fgColor.theme].rgb)),r.s.bgColor&&r.s.bgColor.theme&&(r.s.bgColor.rgb=FS(i.themeElements.clrScheme[r.s.bgColor.theme].rgb,r.s.bgColor.tint||0),n.WTF&&(r.s.bgColor.raw_rgb=i.themeElements.clrScheme[r.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&s.Fills)throw o}}}function Hpe(r,e){var t=yi(e);t.s.r<=t.e.r&&t.s.c<=t.e.c&&t.s.r>=0&&t.s.c>=0&&(r["!ref"]=Vr(t))}var Vpe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,jpe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Kpe=/<(?:\w:)?hyperlink [^>]*>/mg,zpe=/"(\w*:\w*)"/,Wpe=/<(?:\w:)?col\b[^>]*[\/]?>/g,Gpe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,$pe=/<(?:\w:)?pageMargins[^>]*\/>/g,N$=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,qpe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,Xpe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Ype(r,e,t,n,i,s,a){if(!r)return r;n||(n={"!id":{}});var o=e.dense?[]:{},A={s:{r:2e6,c:2e6},e:{r:0,c:0}},l="",c="",u=r.match(jpe);u?(l=r.slice(0,u.index),c=r.slice(u.index+u[0].length)):l=c=r;var h=l.match(N$);h?vN(h[0],o,i,t):(h=l.match(qpe))&&Jpe(h[0],h[1]||"",o,i,t);var f=(l.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(f>0){var d=l.slice(f,f+50).match(zpe);d&&Hpe(o,d[1])}var p=l.match(Xpe);p&&p[1]&&ige(p[1],i);var v=[];if(e.cellStyles){var m=l.match(Wpe);m&&tge(v,m)}u&&sge(u[1],o,e,A,s,a);var x=c.match(Gpe);x&&(o["!autofilter"]=rge(x[0]));var b=[],T=c.match(Vpe);if(T)for(f=0;f!=T.length;++f)b[f]=yi(T[f].slice(T[f].indexOf('"')+1));var R=c.match(Kpe);R&&Zpe(o,R,n);var P=c.match($pe);if(P&&(o["!margins"]=ege(tr(P[0]))),!o["!ref"]&&A.e.c>=A.s.c&&A.e.r>=A.s.r&&(o["!ref"]=Vr(A)),e.sheetRows>0&&o["!ref"]){var B=yi(o["!ref"]);e.sheetRows<=+B.e.r&&(B.e.r=e.sheetRows-1,B.e.r>A.e.r&&(B.e.r=A.e.r),B.e.r<B.s.r&&(B.s.r=B.e.r),B.e.c>A.e.c&&(B.e.c=A.e.c),B.e.c<B.s.c&&(B.s.c=B.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Vr(B))}return v.length>0&&(o["!cols"]=v),b.length>0&&(o["!merges"]=b),o}function vN(r,e,t,n){var i=tr(r);t.Sheets[n]||(t.Sheets[n]={}),i.codeName&&(t.Sheets[n].CodeName=Wr(Rn(i.codeName)))}function Jpe(r,e,t,n,i){vN(r.slice(0,r.indexOf(">")),t,n,i)}function Zpe(r,e,t){for(var n=Array.isArray(r),i=0;i!=e.length;++i){var s=tr(Rn(e[i]),!0);if(!s.ref)return;var a=((t||{})["!id"]||[])[s.id];a?(s.Target=a.Target,s.location&&(s.Target+="#"+Wr(s.location))):(s.Target="#"+Wr(s.location),a={Target:s.Target,TargetMode:"Internal"}),s.Rel=a,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var o=yi(s.ref),A=o.s.r;A<=o.e.r;++A)for(var l=o.s.c;l<=o.e.c;++l){var c=lr({c:l,r:A});n?(r[A]||(r[A]=[]),r[A][l]||(r[A][l]={t:"z",v:void 0}),r[A][l].l=s):(r[c]||(r[c]={t:"z",v:void 0}),r[c].l=s)}}}function ege(r){var e={};return["left","right","top","bottom","header","footer"].forEach(function(t){r[t]&&(e[t]=parseFloat(r[t]))}),e}function tge(r,e){for(var t=!1,n=0;n!=e.length;++n){var i=tr(e[n],!0);i.hidden&&(i.hidden=Gn(i.hidden));var s=parseInt(i.min,10)-1,a=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!t&&i.width&&(t=!0,gN(i.width)),Nv(i);s<=a;)r[s++]=Xs(i)}}function rge(r){var e={ref:(r.match(/ref="([^"]*)"/)||[])[1]};return e}var nge=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function ige(r,e){e.Views||(e.Views=[{}]),(r.match(nge)||[]).forEach(function(t,n){var i=tr(t);e.Views[n]||(e.Views[n]={}),+i.zoomScale&&(e.Views[n].zoom=+i.zoomScale),Gn(i.rightToLeft)&&(e.Views[n].RTL=!0)})}var sge=function(){var r=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,t=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=q2("v"),a=q2("f");return function(A,l,c,u,h,f){for(var d=0,p="",v=[],m=[],x=0,b=0,T=0,R="",P,B,E=0,_=0,I,S,F=0,N=0,G=Array.isArray(f.CellXf),le,ie=[],te=[],J=Array.isArray(l),W=[],be={},xe=!1,L=!!c.sheetStubs,O=A.split(e),H=0,Q=O.length;H!=Q;++H){p=O[H].trim();var Y=p.length;if(Y!==0){var oe=0;e:for(d=0;d<Y;++d)switch(p[d]){case">":if(p[d-1]!="/"){++d;break e}if(c&&c.cellStyles){if(B=tr(p.slice(oe,d),!0),E=B.r!=null?parseInt(B.r,10):E+1,_=-1,c.sheetRows&&c.sheetRows<E)continue;be={},xe=!1,B.ht&&(xe=!0,be.hpt=parseFloat(B.ht),be.hpx=Z2(be.hpt)),B.hidden=="1"&&(xe=!0,be.hidden=!0),B.outlineLevel!=null&&(xe=!0,be.level=+B.outlineLevel),xe&&(W[E-1]=be)}break;case"<":oe=d;break}if(oe>=d)break;if(B=tr(p.slice(oe,d),!0),E=B.r!=null?parseInt(B.r,10):E+1,_=-1,!(c.sheetRows&&c.sheetRows<E)){u.s.r>E-1&&(u.s.r=E-1),u.e.r<E-1&&(u.e.r=E-1),c&&c.cellStyles&&(be={},xe=!1,B.ht&&(xe=!0,be.hpt=parseFloat(B.ht),be.hpx=Z2(be.hpt)),B.hidden=="1"&&(xe=!0,be.hidden=!0),B.outlineLevel!=null&&(xe=!0,be.level=+B.outlineLevel),xe&&(W[E-1]=be)),v=p.slice(d).split(r);for(var de=0;de!=v.length&&v[de].trim().charAt(0)=="<";++de);for(v=v.slice(de),d=0;d!=v.length;++d)if(p=v[d].trim(),p.length!==0){if(m=p.match(t),x=d,b=0,T=0,p="<c "+(p.slice(0,1)=="<"?">":"")+p,m!=null&&m.length===2){for(x=0,R=m[1],b=0;b!=R.length&&!((T=R.charCodeAt(b)-64)<1||T>26);++b)x=26*x+T;--x,_=x}else++_;for(b=0;b!=p.length&&p.charCodeAt(b)!==62;++b);if(++b,B=tr(p.slice(0,b),!0),B.r||(B.r=lr({r:E-1,c:_})),R=p.slice(b),P={t:""},(m=R.match(s))!=null&&m[1]!==""&&(P.v=Wr(m[1])),c.cellFormula){if((m=R.match(a))!=null&&m[1]!==""){if(P.f=Wr(Rn(m[1])).replace(/\r\n/g,`
`),c.xlfn||(P.f=b6(P.f)),m[0].indexOf('t="array"')>-1)P.F=(R.match(i)||[])[1],P.F.indexOf(":")>-1&&ie.push([yi(P.F),P.F]);else if(m[0].indexOf('t="shared"')>-1){S=tr(m[0]);var fe=Wr(Rn(m[1]));c.xlfn||(fe=b6(fe)),te[parseInt(S.si,10)]=[S,fe,B.r]}}else(m=R.match(/<f[^>]*\/>/))&&(S=tr(m[0]),te[S.si]&&(P.f=g0e(te[S.si][1],te[S.si][2],B.r)));var _e=Ya(B.r);for(b=0;b<ie.length;++b)_e.r>=ie[b][0].s.r&&_e.r<=ie[b][0].e.r&&_e.c>=ie[b][0].s.c&&_e.c<=ie[b][0].e.c&&(P.F=ie[b][1])}if(B.t==null&&P.v===void 0)if(P.f||P.F)P.v=0,P.t="n";else if(L)P.t="z";else continue;else P.t=B.t||"n";switch(u.s.c>_&&(u.s.c=_),u.e.c<_&&(u.e.c=_),P.t){case"n":if(P.v==""||P.v==null){if(!L)continue;P.t="z"}else P.v=parseFloat(P.v);break;case"s":if(typeof P.v>"u"){if(!L)continue;P.t="z"}else I=e2[parseInt(P.v,10)],P.v=I.t,P.r=I.r,c.cellHTML&&(P.h=I.h);break;case"str":P.t="s",P.v=P.v!=null?Rn(P.v):"",c.cellHTML&&(P.h=sN(P.v));break;case"inlineStr":m=R.match(n),P.t="s",m!=null&&(I=pN(m[1]))?(P.v=I.t,c.cellHTML&&(P.h=I.h)):P.v="";break;case"b":P.v=Gn(P.v);break;case"d":c.cellDates?P.v=Ts(P.v,1):(P.v=so(Ts(P.v,1)),P.t="n");break;case"e":(!c||c.cellText!==!1)&&(P.w=P.v),P.v=r$[P.v];break}if(F=N=0,le=null,G&&B.s!==void 0&&(le=f.CellXf[B.s],le!=null&&(le.numFmtId!=null&&(F=le.numFmtId),c.cellStyles&&le.fillId!=null&&(N=le.fillId))),R$(P,F,N,c,h,f),c.cellDates&&G&&P.t=="n"&&Yv(pr[F])&&(P.t="d",P.v=gT(P.v)),B.cm&&c.xlmeta){var Se=(c.xlmeta.Cell||[])[+B.cm-1];Se&&Se.type=="XLDAPR"&&(P.D=!0)}if(J){var ne=Ya(B.r);l[ne.r]||(l[ne.r]=[]),l[ne.r][ne.c]=P}else l[B.r]=P}}}}W.length>0&&(l["!rows"]=W)}}();function age(r,e){var t={},n=r.l+e;t.r=r.read_shift(4),r.l+=4;var i=r.read_shift(2);r.l+=1;var s=r.read_shift(1);return r.l=n,s&7&&(t.level=s&7),s&16&&(t.hidden=!0),s&32&&(t.hpt=i/20),t}var oge=Hg;function Age(){}function lge(r,e){var t={},n=r[r.l];return++r.l,t.above=!(n&64),t.left=!(n&128),r.l+=18,t.name=kue(r),t}function cge(r){var e=ol(r);return[e]}function uge(r){var e=Qg(r);return[e]}function hge(r){var e=ol(r),t=r.read_shift(1);return[e,t,"b"]}function fge(r){var e=Qg(r),t=r.read_shift(1);return[e,t,"b"]}function dge(r){var e=ol(r),t=r.read_shift(1);return[e,t,"e"]}function pge(r){var e=Qg(r),t=r.read_shift(1);return[e,t,"e"]}function gge(r){var e=ol(r),t=r.read_shift(4);return[e,t,"s"]}function mge(r){var e=Qg(r),t=r.read_shift(4);return[e,t,"s"]}function vge(r){var e=ol(r),t=Sa(r);return[e,t,"n"]}function D$(r){var e=Qg(r),t=Sa(r);return[e,t,"n"]}function wge(r){var e=ol(r),t=hN(r);return[e,t,"n"]}function yge(r){var e=Qg(r),t=hN(r);return[e,t,"n"]}function xge(r){var e=ol(r),t=cN(r);return[e,t,"is"]}function _ge(r){var e=ol(r),t=Ia(r);return[e,t,"str"]}function bge(r){var e=Qg(r),t=Ia(r);return[e,t,"str"]}function Ege(r,e,t){var n=r.l+e,i=ol(r);i.r=t["!row"];var s=r.read_shift(1),a=[i,s,"b"];if(t.cellFormula){r.l+=2;var o=wT(r,n-r.l,t);a[3]=xa(o,null,i,t.supbooks,t)}else r.l=n;return a}function Cge(r,e,t){var n=r.l+e,i=ol(r);i.r=t["!row"];var s=r.read_shift(1),a=[i,s,"e"];if(t.cellFormula){r.l+=2;var o=wT(r,n-r.l,t);a[3]=xa(o,null,i,t.supbooks,t)}else r.l=n;return a}function Bge(r,e,t){var n=r.l+e,i=ol(r);i.r=t["!row"];var s=Sa(r),a=[i,s,"n"];if(t.cellFormula){r.l+=2;var o=wT(r,n-r.l,t);a[3]=xa(o,null,i,t.supbooks,t)}else r.l=n;return a}function Sge(r,e,t){var n=r.l+e,i=ol(r);i.r=t["!row"];var s=Ia(r),a=[i,s,"str"];if(t.cellFormula){r.l+=2;var o=wT(r,n-r.l,t);a[3]=xa(o,null,i,t.supbooks,t)}else r.l=n;return a}var Tge=Hg;function Fge(r,e){var t=r.l+e,n=Hg(r),i=uN(r),s=Ia(r),a=Ia(r),o=Ia(r);r.l=t;var A={rfx:n,relId:i,loc:s,display:o};return a&&(A.Tooltip=a),A}function Ige(){}function kge(r,e,t){var n=r.l+e,i=ZG(r),s=r.read_shift(1),a=[i];if(a[2]=s,t.cellFormula){var o=Dpe(r,n-r.l,t);a[1]=o}else r.l=n;return a}function Lge(r,e,t){var n=r.l+e,i=Hg(r),s=[i];if(t.cellFormula){var a=Mpe(r,n-r.l,t);s[1]=a,r.l=n}else r.l=n;return s}var Pge=["left","right","top","bottom","header","footer"];function Rge(r){var e={};return Pge.forEach(function(t){e[t]=Sa(r)}),e}function Nge(r){var e=r.read_shift(2);return r.l+=28,{RTL:e&32}}function Dge(){}function Uge(){}function Mge(r,e,t,n,i,s,a){if(!r)return r;var o=e||{};n||(n={"!id":{}});var A=o.dense?[]:{},l,c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u=!1,h=!1,f,d,p,v,m,x,b,T,R,P=[];o.biff=12,o["!row"]=0;var B=0,E=!1,_=[],I={},S=o.supbooks||i.supbooks||[[]];if(S.sharedf=I,S.arrayf=_,S.SheetNames=i.SheetNames||i.Sheets.map(function(J){return J.name}),!o.supbooks&&(o.supbooks=S,i.Names))for(var F=0;F<i.Names.length;++F)S[0][F+1]=i.Names[F];var N=[],G=[],le=!1;LS[16]={n:"BrtShortReal",f:D$};var ie;if(Kh(r,function(W,be,xe){if(!h)switch(xe){case 148:l=W;break;case 0:f=W,o.sheetRows&&o.sheetRows<=f.r&&(h=!0),T=Ys(v=f.r),o["!row"]=f.r,(W.hidden||W.hpt||W.level!=null)&&(W.hpt&&(W.hpx=Z2(W.hpt)),G[W.r]=W);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(d={t:W[2]},W[2]){case"n":d.v=W[1];break;case"s":b=e2[W[1]],d.v=b.t,d.r=b.r;break;case"b":d.v=!!W[1];break;case"e":d.v=W[1],o.cellText!==!1&&(d.w=Vg[d.v]);break;case"str":d.t="s",d.v=W[1];break;case"is":d.t="s",d.v=W[1].t;break}if((p=a.CellXf[W[0].iStyleRef])&&R$(d,p.numFmtId,null,o,s,a),m=W[0].c==-1?m+1:W[0].c,o.dense?(A[v]||(A[v]=[]),A[v][m]=d):A[As(m)+T]=d,o.cellFormula){for(E=!1,B=0;B<_.length;++B){var L=_[B];f.r>=L[0].s.r&&f.r<=L[0].e.r&&m>=L[0].s.c&&m<=L[0].e.c&&(d.F=Vr(L[0]),E=!0)}!E&&W.length>3&&(d.f=W[3])}if(c.s.r>f.r&&(c.s.r=f.r),c.s.c>m&&(c.s.c=m),c.e.r<f.r&&(c.e.r=f.r),c.e.c<m&&(c.e.c=m),o.cellDates&&p&&d.t=="n"&&Yv(pr[p.numFmtId])){var O=G0(d.v);O&&(d.t="d",d.v=new Date(O.y,O.m-1,O.d,O.H,O.M,O.S,O.u))}ie&&(ie.type=="XLDAPR"&&(d.D=!0),ie=void 0);break;case 1:case 12:if(!o.sheetStubs||u)break;d={t:"z",v:void 0},m=W[0].c==-1?m+1:W[0].c,o.dense?(A[v]||(A[v]=[]),A[v][m]=d):A[As(m)+T]=d,c.s.r>f.r&&(c.s.r=f.r),c.s.c>m&&(c.s.c=m),c.e.r<f.r&&(c.e.r=f.r),c.e.c<m&&(c.e.c=m),ie&&(ie.type=="XLDAPR"&&(d.D=!0),ie=void 0);break;case 176:P.push(W);break;case 49:ie=((o.xlmeta||{}).Cell||[])[W-1];break;case 494:var H=n["!id"][W.relId];for(H?(W.Target=H.Target,W.loc&&(W.Target+="#"+W.loc),W.Rel=H):W.relId==""&&(W.Target="#"+W.loc),v=W.rfx.s.r;v<=W.rfx.e.r;++v)for(m=W.rfx.s.c;m<=W.rfx.e.c;++m)o.dense?(A[v]||(A[v]=[]),A[v][m]||(A[v][m]={t:"z",v:void 0}),A[v][m].l=W):(x=lr({c:m,r:v}),A[x]||(A[x]={t:"z",v:void 0}),A[x].l=W);break;case 426:if(!o.cellFormula)break;_.push(W),R=o.dense?A[v][m]:A[As(m)+T],R.f=xa(W[1],c,{r:f.r,c:m},S,o),R.F=Vr(W[0]);break;case 427:if(!o.cellFormula)break;I[lr(W[0].s)]=W[1],R=o.dense?A[v][m]:A[As(m)+T],R.f=xa(W[1],c,{r:f.r,c:m},S,o);break;case 60:if(!o.cellStyles)break;for(;W.e>=W.s;)N[W.e--]={width:W.w/256,hidden:!!(W.flags&1),level:W.level},le||(le=!0,gN(W.w/256)),Nv(N[W.e+1]);break;case 161:A["!autofilter"]={ref:Vr(W)};break;case 476:A["!margins"]=W;break;case 147:i.Sheets[t]||(i.Sheets[t]={}),W.name&&(i.Sheets[t].CodeName=W.name),(W.above||W.left)&&(A["!outline"]={above:W.above,left:W.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),W.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:u=!0;break;case 36:u=!1;break;case 37:u=!0;break;case 38:u=!1;break;default:if(!be.T){if(!u||o.WTF)throw new Error("Unexpected record 0x"+xe.toString(16))}}},o),delete o.supbooks,delete o["!row"],!A["!ref"]&&(c.s.r<2e6||l&&(l.e.r>0||l.e.c>0||l.s.r>0||l.s.c>0))&&(A["!ref"]=Vr(l||c)),o.sheetRows&&A["!ref"]){var te=yi(A["!ref"]);o.sheetRows<=+te.e.r&&(te.e.r=o.sheetRows-1,te.e.r>c.e.r&&(te.e.r=c.e.r),te.e.r<te.s.r&&(te.s.r=te.e.r),te.e.c>c.e.c&&(te.e.c=c.e.c),te.e.c<te.s.c&&(te.s.c=te.e.c),A["!fullref"]=A["!ref"],A["!ref"]=Vr(te))}return P.length>0&&(A["!merges"]=P),N.length>0&&(A["!cols"]=N),G.length>0&&(A["!rows"]=G),A}function Oge(r){var e=[],t=r.match(/^<c:numCache>/),n;(r.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var a=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);a&&(e[+a[1]]=t?+a[2]:a[2])});var i=Wr((r.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(r.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){n=s.replace(/<.*?>/g,"")}),[e,i,n]}function Qge(r,e,t,n,i,s){var a=s||{"!type":"chart"};if(!r)return s;var o=0,A=0,l="A",c={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(r.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(u){var h=Oge(u);c.s.r=c.s.c=0,c.e.c=o,l=As(o),h[0].forEach(function(f,d){a[l+Ys(d)]={t:"n",v:f,z:h[1]},A=d}),c.e.r<A&&(c.e.r=A),++o}),o>0&&(a["!ref"]=Vr(c)),a}function Hge(r,e,t,n,i){if(!r)return r;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a,o=r.match(N$);return o&&vN(o[0],s,i,t),(a=r.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=a[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function Vge(r,e){r.l+=10;var t=Ia(r);return{name:t}}function jge(r,e,t,n,i){if(!r)return r;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a=!1;return Kh(r,function(A,l,c){switch(c){case 550:s["!rel"]=A;break;case 651:i.Sheets[t]||(i.Sheets[t]={}),A.name&&(i.Sheets[t].CodeName=A.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!(l.T>0)){if(!(l.T<0)){if(!a||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}},e),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var U$=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Kge=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],zge=[],Wge=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function T6(r,e){for(var t=0;t!=r.length;++t)for(var n=r[t],i=0;i!=e.length;++i){var s=e[i];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=Gn(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function F6(r,e){for(var t=0;t!=e.length;++t){var n=e[t];if(r[n[0]]==null)r[n[0]]=n[1];else switch(n[2]){case"bool":typeof r[n[0]]=="string"&&(r[n[0]]=Gn(r[n[0]]));break;case"int":typeof r[n[0]]=="string"&&(r[n[0]]=parseInt(r[n[0]],10));break}}}function M$(r){F6(r.WBProps,U$),F6(r.CalcPr,Wge),T6(r.WBView,Kge),T6(r.Sheets,zge),a1.date1904=Gn(r.WBProps.date1904)}var Gge="][*?/\\".split("");function $ge(r,e){if(r.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return Gge.forEach(function(n){if(r.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}var qge=/<\w+:workbook/;function Xge(r,e){if(!r)throw new Error("Could not find file");var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,i="xmlns",s={},a=0;if(r.replace(Na,function(A,l){var c=tr(A);switch(iu(c[0])){case"<?xml":break;case"<workbook":A.match(qge)&&(i="xmlns"+A.match(/<(\w+):/)[1]),t.xmlns=c[i];break;case"</workbook>":break;case"<fileVersion":delete c[0],t.AppVersion=c;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":U$.forEach(function(u){if(c[u[0]]!=null)switch(u[2]){case"bool":t.WBProps[u[0]]=Gn(c[u[0]]);break;case"int":t.WBProps[u[0]]=parseInt(c[u[0]],10);break;default:t.WBProps[u[0]]=c[u[0]]}}),c.codeName&&(t.WBProps.CodeName=Rn(c.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete c[0],t.WBView.push(c);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(c.state){case"hidden":c.Hidden=1;break;case"veryHidden":c.Hidden=2;break;default:c.Hidden=0}delete c.state,c.name=Wr(Rn(c.name)),delete c[0],t.Sheets.push(c);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=Rn(c.name),c.comment&&(s.Comment=c.comment),c.localSheetId&&(s.Sheet=+c.localSheetId),Gn(c.hidden||"0")&&(s.Hidden=!0),a=l+A.length;break;case"</definedName>":s.Ref=Wr(Rn(r.slice(a,l))),t.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete c[0],t.CalcPr=c;break;case"<calcPr/>":delete c[0],t.CalcPr=c;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&e.WTF)throw new Error("unrecognized "+c[0]+" in workbook")}return A}),due.indexOf(t.xmlns)===-1)throw new Error("Unknown Namespace: "+t.xmlns);return M$(t),t}function Yge(r,e){var t={};return t.Hidden=r.read_shift(4),t.iTabID=r.read_shift(4),t.strRelID=W3(r),t.name=Ia(r),t}function Jge(r,e){var t={},n=r.read_shift(4);t.defaultThemeVersion=r.read_shift(4);var i=e>8?Ia(r):"";return i.length>0&&(t.CodeName=i),t.autoCompressPictures=!!(n&65536),t.backupFile=!!(n&64),t.checkCompatibility=!!(n&4096),t.date1904=!!(n&1),t.filterPrivacy=!!(n&8),t.hidePivotFieldList=!!(n&1024),t.promptedSolutions=!!(n&16),t.publishItems=!!(n&2048),t.refreshAllConnections=!!(n&262144),t.saveExternalLinkValues=!!(n&128),t.showBorderUnselectedTables=!!(n&4),t.showInkAnnotation=!!(n&32),t.showObjects=["all","placeholders","none"][n>>13&3],t.showPivotChartFilter=!!(n&32768),t.updateLinks=["userSet","never","always"][n>>8&3],t}function Zge(r,e){var t={};return r.read_shift(4),t.ArchID=r.read_shift(4),r.l+=e-8,t}function eme(r,e,t){var n=r.l+e;r.l+=4,r.l+=1;var i=r.read_shift(4),s=Lue(r),a=Upe(r,0,t),o=uN(r);r.l=n;var A={Name:s,Ptg:a};return i<268435455&&(A.Sheet=i),o&&(A.Comment=o),A}function tme(r,e){var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],i=!1;e||(e={}),e.biff=12;var s=[],a=[[]];return a.SheetNames=[],a.XTI=[],LS[16]={n:"BrtFRTArchID$",f:Zge},Kh(r,function(A,l,c){switch(c){case 156:a.SheetNames.push(A.name),t.Sheets.push(A);break;case 153:t.WBProps=A;break;case 39:A.Sheet!=null&&(e.SID=A.Sheet),A.Ref=xa(A.Ptg,null,null,a,e),delete e.SID,delete A.Ptg,s.push(A);break;case 1036:break;case 357:case 358:case 355:case 667:a[0].length?a.push([c,A]):a[0]=[c,A],a[a.length-1].XTI=[];break;case 362:a.length===0&&(a[0]=[],a[0].XTI=[]),a[a.length-1].XTI=a[a.length-1].XTI.concat(A),a.XTI=a.XTI.concat(A);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(c),i=!0;break;case 36:n.pop(),i=!1;break;case 37:n.push(c),i=!0;break;case 38:n.pop(),i=!1;break;case 16:break;default:if(!l.T){if(!i||e.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+c.toString(16))}}},e),M$(t),t.Names=s,t.supbooks=a,t}function rme(r,e,t){return e.slice(-4)===".bin"?tme(r,t):Xge(r,t)}function nme(r,e,t,n,i,s,a,o){return e.slice(-4)===".bin"?Mge(r,n,t,i,s,a,o):Ype(r,n,t,i,s,a,o)}function ime(r,e,t,n,i,s,a,o){return e.slice(-4)===".bin"?jge(r,n,t,i,s):Hge(r,n,t,i,s)}function sme(r,e,t,n,i,s,a,o){return e.slice(-4)===".bin"?f0e():d0e()}function ame(r,e,t,n,i,s,a,o){return e.slice(-4)===".bin"?u0e():h0e()}function ome(r,e,t,n){return e.slice(-4)===".bin"?Tde(r,t,n):_de(r,t,n)}function Ame(r,e,t){return E$(r,t)}function lme(r,e,t){return e.slice(-4)===".bin"?Kfe(r,t):Vfe(r,t)}function cme(r,e,t){return e.slice(-4)===".bin"?A0e(r,t):n0e(r,t)}function ume(r,e,t){return e.slice(-4)===".bin"?e0e(r):Jde(r)}function hme(r,e,t,n){return t.slice(-4)===".bin"?t0e(r,e,t,n):void 0}function fme(r,e,t){return e.slice(-4)===".bin"?Xde(r,e,t):Yde(r,e,t)}var O$=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,Q$=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function vl(r,e){var t=r.split(/\s+/),n=[];if(n[0]=t[0],t.length===1)return n;var i=r.match(O$),s,a,o,A;if(i)for(A=0;A!=i.length;++A)s=i[A].match(Q$),(a=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(a+1),n[o]=s[2].slice(1,s[2].length-1));return n}function dme(r){var e=r.split(/\s+/),t={};if(e.length===1)return t;var n=r.match(O$),i,s,a,o;if(n)for(o=0;o!=n.length;++o)i=n[o].match(Q$),(s=i[1].indexOf(":"))===-1?t[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?a="xmlns"+i[1].slice(6):a=i[1].slice(s+1),t[a]=i[2].slice(1,i[2].length-1));return t}var r2;function pme(r,e){var t=r2[r]||Wr(r);return t==="General"?Cg(e):sl(t,e)}function gme(r,e,t,n){var i=n;switch((t[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=Gn(n);break;case"i2":case"int":i=parseInt(n,10);break;case"r4":case"float":i=parseFloat(n);break;case"date":case"dateTime.tz":i=Ts(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+t[0])}r[Wr(e)]=i}function mme(r,e,t){if(r.t!=="z"){if(!t||t.cellText!==!1)try{r.t==="e"?r.w=r.w||Vg[r.v]:e==="General"?r.t==="n"?(r.v|0)===r.v?r.w=r.v.toString(10):r.w=$2(r.v):r.w=Cg(r.v):r.w=pme(e||"General",r.v)}catch(s){if(t.WTF)throw s}try{var n=r2[e]||e||"General";if(t.cellNF&&(r.z=n),t.cellDates&&r.t=="n"&&Yv(n)){var i=G0(r.v);i&&(r.t="d",r.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(t.WTF)throw s}}}function vme(r,e,t){if(t.cellStyles&&e.Interior){var n=e.Interior;n.Pattern&&(n.patternType=gde[n.Pattern]||n.Pattern)}r[e.ID]=e}function wme(r,e,t,n,i,s,a,o,A,l){var c="General",u=n.StyleID,h={};l=l||{};var f=[],d=0;for(u===void 0&&o&&(u=o.StyleID),u===void 0&&a&&(u=a.StyleID);s[u]!==void 0&&(s[u].nf&&(c=s[u].nf),s[u].Interior&&f.push(s[u].Interior),!!s[u].Parent);)u=s[u].Parent;switch(t.Type){case"Boolean":n.t="b",n.v=Gn(r);break;case"String":n.t="s",n.r=YO(Wr(r)),n.v=r.indexOf("<")>-1?Wr(e||r).replace(/<.*?>/g,""):n.r;break;case"DateTime":r.slice(-1)!="Z"&&(r+="Z"),n.v=(Ts(r)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=Wr(r):n.v<60&&(n.v=n.v-1),(!c||c=="General")&&(c="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+r),n.t||(n.t="n");break;case"Error":n.t="e",n.v=r$[r],l.cellText!==!1&&(n.w=r);break;default:r==""&&e==""?n.t="z":(n.t="s",n.v=YO(e||r));break}if(mme(n,c,l),l.cellFormula!==!1)if(n.Formula){var p=Wr(n.Formula);p.charCodeAt(0)==61&&(p=p.slice(1)),n.f=s1(p,i),delete n.Formula,n.ArrayRange=="RC"?n.F=s1("RC:RC",i):n.ArrayRange&&(n.F=s1(n.ArrayRange,i),A.push([yi(n.F),n.F]))}else for(d=0;d<A.length;++d)i.r>=A[d][0].s.r&&i.r<=A[d][0].e.r&&i.c>=A[d][0].s.c&&i.c<=A[d][0].e.c&&(n.F=A[d][1]);l.cellStyles&&(f.forEach(function(v){!h.patternType&&v.patternType&&(h.patternType=v.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function yme(r){r.t=r.v||"",r.t=r.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),r.v=r.w=r.ixfe=void 0}function r4(r,e){var t=e||{};TG();var n=gy(aN(r));(t.type=="binary"||t.type=="array"||t.type=="base64")&&(n=Rn(n));var i=n.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var a=Xs(t);return a.type="string",Y2.to_workbook(n,a)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(qe){i.indexOf("<"+qe)>=0&&(s=!0)}),s)return Fme(n,t);r2={"General Number":"General","General Date":pr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":pr[15],"Short Date":pr[14],"Long Time":pr[19],"Medium Time":pr[18],"Short Time":pr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:pr[2],Standard:pr[4],Percent:pr[10],Scientific:pr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,A=[],l,c={},u=[],h=t.dense?[]:{},f="",d={},p={},v=vl('<Data ss:Type="String">'),m=0,x=0,b=0,T={s:{r:2e6,c:2e6},e:{r:0,c:0}},R={},P={},B="",E=0,_=[],I={},S={},F=0,N=[],G=[],le={},ie=[],te,J=!1,W=[],be=[],xe={},L=0,O=0,H={Sheets:[],WBProps:{date1904:!1}},Q={};X2.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var Y="";o=X2.exec(n);)switch(o[3]=(Y=o[3]).toLowerCase()){case"data":if(Y=="data"){if(o[1]==="/"){if((l=A.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&A.push([o[3],!0]);break}if(A[A.length-1][1])break;o[1]==="/"?wme(n.slice(m,o.index),B,v,A[A.length-1][0]=="comment"?le:d,{c:x,r:b},R,ie[x],p,W,t):(B="",v=vl(o[0]),m=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(G.length>0&&(d.c=G),(!t.sheetRows||t.sheetRows>b)&&d.v!==void 0&&(t.dense?(h[b]||(h[b]=[]),h[b][x]=d):h[As(x)+Ys(b)]=d),d.HRef&&(d.l={Target:Wr(d.HRef)},d.HRefScreenTip&&(d.l.Tooltip=d.HRefScreenTip),delete d.HRef,delete d.HRefScreenTip),(d.MergeAcross||d.MergeDown)&&(L=x+(parseInt(d.MergeAcross,10)|0),O=b+(parseInt(d.MergeDown,10)|0),_.push({s:{c:x,r:b},e:{c:L,r:O}})),!t.sheetStubs)d.MergeAcross?x=L+1:++x;else if(d.MergeAcross||d.MergeDown){for(var oe=x;oe<=L;++oe)for(var de=b;de<=O;++de)(oe>x||de>b)&&(t.dense?(h[de]||(h[de]=[]),h[de][oe]={t:"z"}):h[As(oe)+Ys(de)]={t:"z"});x=L+1}else++x;else d=dme(o[0]),d.Index&&(x=+d.Index-1),x<T.s.c&&(T.s.c=x),x>T.e.c&&(T.e.c=x),o[0].slice(-2)==="/>"&&++x,G=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(b<T.s.r&&(T.s.r=b),b>T.e.r&&(T.e.r=b),o[0].slice(-2)==="/>"&&(p=vl(o[0]),p.Index&&(b=+p.Index-1)),x=0,++b):(p=vl(o[0]),p.Index&&(b=+p.Index-1),xe={},(p.AutoFitHeight=="0"||p.Height)&&(xe.hpx=parseInt(p.Height,10),xe.hpt=b$(xe.hpx),be[b]=xe),p.Hidden=="1"&&(xe.hidden=!0,be[b]=xe));break;case"worksheet":if(o[1]==="/"){if((l=A.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"));u.push(f),T.s.r<=T.e.r&&T.s.c<=T.e.c&&(h["!ref"]=Vr(T),t.sheetRows&&t.sheetRows<=T.e.r&&(h["!fullref"]=h["!ref"],T.e.r=t.sheetRows-1,h["!ref"]=Vr(T))),_.length&&(h["!merges"]=_),ie.length>0&&(h["!cols"]=ie),be.length>0&&(h["!rows"]=be),c[f]=h}else T={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=x=0,A.push([o[3],!1]),l=vl(o[0]),f=Wr(l.Name),h=t.dense?[]:{},_=[],W=[],be=[],Q={name:f,Hidden:0},H.Sheets.push(Q);break;case"table":if(o[1]==="/"){if((l=A.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"))}else{if(o[0].slice(-2)=="/>")break;A.push([o[3],!1]),ie=[],J=!1}break;case"style":o[1]==="/"?vme(R,P,t):P=vl(o[0]);break;case"numberformat":P.nf=Wr(vl(o[0]).Format||"General"),r2[P.nf]&&(P.nf=r2[P.nf]);for(var fe=0;fe!=392&&pr[fe]!=P.nf;++fe);if(fe==392){for(fe=57;fe!=392;++fe)if(pr[fe]==null){sg(P.nf,fe);break}}break;case"column":if(A[A.length-1][0]!=="table")break;if(te=vl(o[0]),te.Hidden&&(te.hidden=!0,delete te.Hidden),te.Width&&(te.wpx=parseInt(te.Width,10)),!J&&te.wpx>10){J=!0,Xa=x$;for(var _e=0;_e<ie.length;++_e)ie[_e]&&Nv(ie[_e])}J&&Nv(te),ie[te.Index-1||ie.length]=te;for(var Se=0;Se<+te.Span;++Se)ie[ie.length]=Xs(te);break;case"namedrange":if(o[1]==="/")break;H.Names||(H.Names=[]);var ne=tr(o[0]),$e={Name:ne.Name,Ref:s1(ne.RefersTo.slice(1),{r:0,c:0})};H.Sheets.length>0&&($e.Sheet=H.Sheets.length-1),H.Names.push($e);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?B+=n.slice(E,o.index):E=o.index+o[0].length;break;case"interior":if(!t.cellStyles)break;P.Interior=vl(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?nhe(I,Y,n.slice(F,o.index)):F=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((l=A.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"))}else A.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((l=A.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"));yme(le),G.push(le)}else A.push([o[3],!1]),l=vl(o[0]),le={a:l.Author};break;case"autofilter":if(o[1]==="/"){if((l=A.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Be=vl(o[0]);h["!autofilter"]={ref:s1(Be.Range).replace(/\$/g,"")},A.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((l=A.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&A.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((l=A.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&A.push([o[3],!0]);break;case"null":break;default:if(A.length==0&&o[3]=="document"||A.length==0&&o[3]=="uof")return N6(n,t);var ue=!0;switch(A[A.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:ue=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:ue=!1}break;case"excelworkbook":switch(o[3]){case"date1904":H.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:ue=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:ue=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(F,o.index)){case"SheetHidden":Q.Hidden=1;break;case"SheetVeryHidden":Q.Hidden=2;break}else F=o.index+o[0].length;break;case"header":h["!margins"]||t2(h["!margins"]={},"xlml"),isNaN(+tr(o[0]).Margin)||(h["!margins"].header=+tr(o[0]).Margin);break;case"footer":h["!margins"]||t2(h["!margins"]={},"xlml"),isNaN(+tr(o[0]).Margin)||(h["!margins"].footer=+tr(o[0]).Margin);break;case"pagemargins":var Xe=tr(o[0]);h["!margins"]||t2(h["!margins"]={},"xlml"),isNaN(+Xe.Top)||(h["!margins"].top=+Xe.Top),isNaN(+Xe.Left)||(h["!margins"].left=+Xe.Left),isNaN(+Xe.Right)||(h["!margins"].right=+Xe.Right),isNaN(+Xe.Bottom)||(h["!margins"].bottom=+Xe.Bottom);break;case"displayrighttoleft":H.Views||(H.Views=[]),H.Views[0]||(H.Views[0]={}),H.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:ue=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:ue=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:ue=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:ue=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:ue=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:ue=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:ue=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:ue=!1}break;case"smarttags":break;default:ue=!1;break}if(ue||o[3].match(/!\[CDATA/))break;if(!A[A.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+A.join("|");if(A[A.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?gme(S,Y,N,n.slice(F,o.index)):(N=o,F=o.index+o[0].length);break}if(t.WTF)throw"Unrecognized tag: "+o[3]+"|"+A.join("|")}var je={};return!t.bookSheets&&!t.bookProps&&(je.Sheets=c),je.SheetNames=u,je.Workbook=H,je.SSF=Xs(pr),je.Props=I,je.Custprops=S,je}function X3(r,e){switch(xN(e=e||{}),e.type||"base64"){case"base64":return r4(bA(r),e);case"binary":case"buffer":case"file":return r4(r,e);case"array":return r4(Og(r),e)}}function xme(r){var e={},t=r.content;if(t.l=28,e.AnsiUserType=t.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=Nue(t),t.length-t.l<=4)return e;var n=t.read_shift(4);if(n==0||n>40||(t.l-=4,e.Reserved1=t.read_shift(0,"lpstr-ansi"),t.length-t.l<=4)||(n=t.read_shift(4),n!==1907505652)||(e.UnicodeClipboardFormat=Due(t),n=t.read_shift(4),n==0||n>40))return e;t.l-=4,e.Reserved2=t.read_shift(0,"lpwstr")}var _me=[60,1084,2066,2165,2175];function bme(r,e,t,n,i){var s=n,a=[],o=t.slice(t.l,t.l+s);if(i&&i.enc&&i.enc.insitu&&o.length>0)switch(r){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(o)}a.push(o),t.l+=s;for(var A=gh(t,t.l),l=Y3[A],c=0;l!=null&&_me.indexOf(A)>-1;)s=gh(t,t.l+2),c=t.l+4,A==2066?c+=4:(A==2165||A==2175)&&(c+=12),o=t.slice(c,t.l+4+s),a.push(o),t.l+=4+s,l=Y3[A=gh(t,t.l)];var u=If(a);Ks(u,0);var h=0;u.lens=[];for(var f=0;f<a.length;++f)u.lens.push(h),h+=a[f].length;if(u.length<n)throw"XLS Record 0x"+r.toString(16)+" Truncated: "+u.length+" < "+n;return e.f(u,u.length,i)}function mc(r,e,t){if(r.t!=="z"&&r.XF){var n=0;try{n=r.z||r.XF.numFmtId||0,e.cellNF&&(r.z=pr[n])}catch(s){if(e.WTF)throw s}if(!e||e.cellText!==!1)try{r.t==="e"?r.w=r.w||Vg[r.v]:n===0||n=="General"?r.t==="n"?(r.v|0)===r.v?r.w=r.v.toString(10):r.w=$2(r.v):r.w=Cg(r.v):r.w=sl(n,r.v,{date1904:!!t,dateNF:e&&e.dateNF})}catch(s){if(e.WTF)throw s}if(e.cellDates&&n&&r.t=="n"&&Yv(pr[n]||String(n))){var i=G0(r.v);i&&(r.t="d",r.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function wE(r,e,t){return{v:r,ixfe:e,t}}function Eme(r,e){var t={opts:{}},n={},i=e.dense?[]:{},s={},a={},o=null,A=[],l="",c={},u,h="",f,d,p,v,m={},x=[],b,T,R=[],P=[],B={Sheets:[],WBProps:{date1904:!1},Views:[{}]},E={},_=function(at){return at<8?ag[at]:at<64&&P[at-8]||ag[at]},I=function(at,ct,jt){var Mt=ct.XF.data;if(!(!Mt||!Mt.patternType||!jt||!jt.cellStyles)){ct.s={},ct.s.patternType=Mt.patternType;var wt;(wt=J2(_(Mt.icvFore)))&&(ct.s.fgColor={rgb:wt}),(wt=J2(_(Mt.icvBack)))&&(ct.s.bgColor={rgb:wt})}},S=function(at,ct,jt){if(!(xe>1)&&!(jt.sheetRows&&at.r>=jt.sheetRows)){if(jt.cellStyles&&ct.XF&&ct.XF.data&&I(at,ct,jt),delete ct.ixfe,delete ct.XF,u=at,h=lr(at),(!a||!a.s||!a.e)&&(a={s:{r:0,c:0},e:{r:0,c:0}}),at.r<a.s.r&&(a.s.r=at.r),at.c<a.s.c&&(a.s.c=at.c),at.r+1>a.e.r&&(a.e.r=at.r+1),at.c+1>a.e.c&&(a.e.c=at.c+1),jt.cellFormula&&ct.f){for(var Mt=0;Mt<x.length;++Mt)if(!(x[Mt][0].s.c>at.c||x[Mt][0].s.r>at.r)&&!(x[Mt][0].e.c<at.c||x[Mt][0].e.r<at.r)){ct.F=Vr(x[Mt][0]),(x[Mt][0].s.c!=at.c||x[Mt][0].s.r!=at.r)&&delete ct.f,ct.f&&(ct.f=""+xa(x[Mt][1],a,at,W,F));break}}jt.dense?(i[at.r]||(i[at.r]=[]),i[at.r][at.c]=ct):i[h]=ct}},F={enc:!1,sbcch:0,snames:[],sharedf:m,arrayf:x,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(F.password=e.password);var N,G=[],le=[],ie=[],te=[],J=!1,W=[];W.SheetNames=F.snames,W.sharedf=F.sharedf,W.arrayf=F.arrayf,W.names=[],W.XTI=[];var be=0,xe=0,L=0,O=[],H=[],Q;F.codepage=1200,Ql(1200);for(var Y=!1;r.l<r.length-1;){var oe=r.l,de=r.read_shift(2);if(de===0&&be===10)break;var fe=r.l===r.length?0:r.read_shift(2),_e=Y3[de];if(_e&&_e.f){if(e.bookSheets&&be===133&&de!==133)break;if(be=de,_e.r===2||_e.r==12){var Se=r.read_shift(2);if(fe-=2,!F.enc&&Se!==de&&((Se&255)<<8|Se>>8)!==de)throw new Error("rt mismatch: "+Se+"!="+de);_e.r==12&&(r.l+=10,fe-=10)}var ne={};if(de===10?ne=_e.f(r,fe,F):ne=bme(de,_e,r,fe,F),xe==0&&[9,521,1033,2057].indexOf(be)===-1)continue;switch(de){case 34:t.opts.Date1904=B.WBProps.date1904=ne;break;case 134:t.opts.WriteProtect=!0;break;case 47:if(F.enc||(r.l=0),F.enc=ne,!e.password)throw new Error("File is password-protected");if(ne.valid==null)throw new Error("Encryption scheme unsupported");if(!ne.valid)throw new Error("Password is incorrect");break;case 92:F.lastuser=ne;break;case 66:var $e=Number(ne);switch($e){case 21010:$e=1200;break;case 32768:$e=1e4;break;case 32769:$e=1252;break}Ql(F.codepage=$e),Y=!0;break;case 317:F.rrtabid=ne;break;case 25:F.winlocked=ne;break;case 439:t.opts.RefreshAll=ne;break;case 12:t.opts.CalcCount=ne;break;case 16:t.opts.CalcDelta=ne;break;case 17:t.opts.CalcIter=ne;break;case 13:t.opts.CalcMode=ne;break;case 14:t.opts.CalcPrecision=ne;break;case 95:t.opts.CalcSaveRecalc=ne;break;case 15:F.CalcRefMode=ne;break;case 2211:t.opts.FullCalc=ne;break;case 129:ne.fDialog&&(i["!type"]="dialog"),ne.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),ne.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:R.push(ne);break;case 430:W.push([ne]),W[W.length-1].XTI=[];break;case 35:case 547:W[W.length-1].push(ne);break;case 24:case 536:Q={Name:ne.Name,Ref:xa(ne.rgce,a,null,W,F)},ne.itab>0&&(Q.Sheet=ne.itab-1),W.names.push(Q),W[0]||(W[0]=[],W[0].XTI=[]),W[W.length-1].push(ne),ne.Name=="_xlnm._FilterDatabase"&&ne.itab>0&&ne.rgce&&ne.rgce[0]&&ne.rgce[0][0]&&ne.rgce[0][0][0]=="PtgArea3d"&&(H[ne.itab-1]={ref:Vr(ne.rgce[0][0][1][2])});break;case 22:F.ExternCount=ne;break;case 23:W.length==0&&(W[0]=[],W[0].XTI=[]),W[W.length-1].XTI=W[W.length-1].XTI.concat(ne),W.XTI=W.XTI.concat(ne);break;case 2196:if(F.biff<8)break;Q!=null&&(Q.Comment=ne[1]);break;case 18:i["!protect"]=ne;break;case 19:ne!==0&&F.WTF&&console.error("Password verifier: "+ne);break;case 133:s[ne.pos]=ne,F.snames.push(ne.name);break;case 10:{if(--xe)break;if(a.e){if(a.e.r>0&&a.e.c>0){if(a.e.r--,a.e.c--,i["!ref"]=Vr(a),e.sheetRows&&e.sheetRows<=a.e.r){var Be=a.e.r;a.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=Vr(a),a.e.r=Be}a.e.r++,a.e.c++}G.length>0&&(i["!merges"]=G),le.length>0&&(i["!objects"]=le),ie.length>0&&(i["!cols"]=ie),te.length>0&&(i["!rows"]=te),B.Sheets.push(E)}l===""?c=i:n[l]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(F.biff===8&&(F.biff={9:2,521:3,1033:4}[de]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[ne.BIFFVer]||8),F.biffguess=ne.BIFFVer==0,ne.BIFFVer==0&&ne.dt==4096&&(F.biff=5,Y=!0,Ql(F.codepage=28591)),F.biff==8&&ne.BIFFVer==0&&ne.dt==16&&(F.biff=2),xe++)break;if(i=e.dense?[]:{},F.biff<8&&!Y&&(Y=!0,Ql(F.codepage=e.codepage||1252)),F.biff<5||ne.BIFFVer==0&&ne.dt==4096){l===""&&(l="Sheet1"),a={s:{r:0,c:0},e:{r:0,c:0}};var ue={pos:r.l-fe,name:l};s[ue.pos]=ue,F.snames.push(l)}else l=(s[oe]||{name:""}).name;ne.dt==32&&(i["!type"]="chart"),ne.dt==64&&(i["!type"]="macro"),G=[],le=[],F.arrayf=x=[],ie=[],te=[],J=!1,E={Hidden:(s[oe]||{hs:0}).hs,name:l}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[ne.r]||[])[ne.c]:i[lr({c:ne.c,r:ne.r})])&&++ne.c,b={ixfe:ne.ixfe,XF:R[ne.ixfe]||{},v:ne.val,t:"n"},L>0&&(b.z=O[b.ixfe>>8&63]),mc(b,e,t.opts.Date1904),S({c:ne.c,r:ne.r},b,e);break;case 5:case 517:b={ixfe:ne.ixfe,XF:R[ne.ixfe],v:ne.val,t:ne.t},L>0&&(b.z=O[b.ixfe>>8&63]),mc(b,e,t.opts.Date1904),S({c:ne.c,r:ne.r},b,e);break;case 638:b={ixfe:ne.ixfe,XF:R[ne.ixfe],v:ne.rknum,t:"n"},L>0&&(b.z=O[b.ixfe>>8&63]),mc(b,e,t.opts.Date1904),S({c:ne.c,r:ne.r},b,e);break;case 189:for(var Xe=ne.c;Xe<=ne.C;++Xe){var je=ne.rkrec[Xe-ne.c][0];b={ixfe:je,XF:R[je],v:ne.rkrec[Xe-ne.c][1],t:"n"},L>0&&(b.z=O[b.ixfe>>8&63]),mc(b,e,t.opts.Date1904),S({c:Xe,r:ne.r},b,e)}break;case 6:case 518:case 1030:{if(ne.val=="String"){o=ne;break}if(b=wE(ne.val,ne.cell.ixfe,ne.tt),b.XF=R[b.ixfe],e.cellFormula){var qe=ne.formula;if(qe&&qe[0]&&qe[0][0]&&qe[0][0][0]=="PtgExp"){var Ve=qe[0][0][1][0],ht=qe[0][0][1][1],nt=lr({r:Ve,c:ht});m[nt]?b.f=""+xa(ne.formula,a,ne.cell,W,F):b.F=((e.dense?(i[Ve]||[])[ht]:i[nt])||{}).F}else b.f=""+xa(ne.formula,a,ne.cell,W,F)}L>0&&(b.z=O[b.ixfe>>8&63]),mc(b,e,t.opts.Date1904),S(ne.cell,b,e),o=ne}break;case 7:case 519:if(o)o.val=ne,b=wE(ne,o.cell.ixfe,"s"),b.XF=R[b.ixfe],e.cellFormula&&(b.f=""+xa(o.formula,a,o.cell,W,F)),L>0&&(b.z=O[b.ixfe>>8&63]),mc(b,e,t.opts.Date1904),S(o.cell,b,e),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{x.push(ne);var Nt=lr(ne[0].s);if(f=e.dense?(i[ne[0].s.r]||[])[ne[0].s.c]:i[Nt],e.cellFormula&&f){if(!o||!Nt||!f)break;f.f=""+xa(ne[1],a,ne[0],W,F),f.F=Vr(ne[0])}}break;case 1212:{if(!e.cellFormula)break;if(h){if(!o)break;m[lr(o.cell)]=ne[0],f=e.dense?(i[o.cell.r]||[])[o.cell.c]:i[lr(o.cell)],(f||{}).f=""+xa(ne[0],a,u,W,F)}}break;case 253:b=wE(A[ne.isst].t,ne.ixfe,"s"),A[ne.isst].h&&(b.h=A[ne.isst].h),b.XF=R[b.ixfe],L>0&&(b.z=O[b.ixfe>>8&63]),mc(b,e,t.opts.Date1904),S({c:ne.c,r:ne.r},b,e);break;case 513:e.sheetStubs&&(b={ixfe:ne.ixfe,XF:R[ne.ixfe],t:"z"},L>0&&(b.z=O[b.ixfe>>8&63]),mc(b,e,t.opts.Date1904),S({c:ne.c,r:ne.r},b,e));break;case 190:if(e.sheetStubs)for(var gt=ne.c;gt<=ne.C;++gt){var Bt=ne.ixfe[gt-ne.c];b={ixfe:Bt,XF:R[Bt],t:"z"},L>0&&(b.z=O[b.ixfe>>8&63]),mc(b,e,t.opts.Date1904),S({c:gt,r:ne.r},b,e)}break;case 214:case 516:case 4:b=wE(ne.val,ne.ixfe,"s"),b.XF=R[b.ixfe],L>0&&(b.z=O[b.ixfe>>8&63]),mc(b,e,t.opts.Date1904),S({c:ne.c,r:ne.r},b,e);break;case 0:case 512:xe===1&&(a=ne);break;case 252:A=ne;break;case 1054:if(F.biff==4){O[L++]=ne[1];for(var Et=0;Et<L+163&&pr[Et]!=ne[1];++Et);Et>=163&&sg(ne[1],L+163)}else sg(ne[1],ne[0]);break;case 30:{O[L++]=ne;for(var At=0;At<L+163&&pr[At]!=ne;++At);At>=163&&sg(ne,L+163)}break;case 229:G=G.concat(ne);break;case 93:le[ne.cmo[0]]=F.lastobj=ne;break;case 438:F.lastobj.TxO=ne;break;case 127:F.lastobj.ImData=ne;break;case 440:for(v=ne[0].s.r;v<=ne[0].e.r;++v)for(p=ne[0].s.c;p<=ne[0].e.c;++p)f=e.dense?(i[v]||[])[p]:i[lr({c:p,r:v})],f&&(f.l=ne[1]);break;case 2048:for(v=ne[0].s.r;v<=ne[0].e.r;++v)for(p=ne[0].s.c;p<=ne[0].e.c;++p)f=e.dense?(i[v]||[])[p]:i[lr({c:p,r:v})],f&&f.l&&(f.l.Tooltip=ne[1]);break;case 28:{if(F.biff<=5&&F.biff>=2)break;f=e.dense?(i[ne[0].r]||[])[ne[0].c]:i[lr(ne[0])];var Ft=le[ne[2]];f||(e.dense?(i[ne[0].r]||(i[ne[0].r]=[]),f=i[ne[0].r][ne[0].c]={t:"z"}):f=i[lr(ne[0])]={t:"z"},a.e.r=Math.max(a.e.r,ne[0].r),a.s.r=Math.min(a.s.r,ne[0].r),a.e.c=Math.max(a.e.c,ne[0].c),a.s.c=Math.min(a.s.c,ne[0].c)),f.c||(f.c=[]),d={a:ne[1],t:Ft.TxO.t},f.c.push(d)}break;case 2173:Wde(R[ne.ixfe],ne.ext);break;case 125:{if(!F.cellStyles)break;for(;ne.e>=ne.s;)ie[ne.e--]={width:ne.w/256,level:ne.level||0,hidden:!!(ne.flags&1)},J||(J=!0,gN(ne.w/256)),Nv(ie[ne.e+1])}break;case 520:{var mt={};ne.level!=null&&(te[ne.r]=mt,mt.level=ne.level),ne.hidden&&(te[ne.r]=mt,mt.hidden=!0),ne.hpt&&(te[ne.r]=mt,mt.hpt=ne.hpt,mt.hpx=Z2(ne.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||t2(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[de]]=ne;break;case 161:i["!margins"]||t2(i["!margins"]={}),i["!margins"].header=ne.header,i["!margins"].footer=ne.footer;break;case 574:ne.RTL&&(B.Views[0].RTL=!0);break;case 146:P=ne;break;case 2198:N=ne;break;case 140:T=ne;break;case 442:l?E.CodeName=ne||E.name:B.WBProps.CodeName=ne||"ThisWorkbook";break}}else _e||console.error("Missing Info for XLS Record 0x"+de.toString(16)),r.l+=fe}return t.SheetNames=tu(s).sort(function(vt,at){return Number(vt)-Number(at)}).map(function(vt){return s[vt].name}),e.bookSheets||(t.Sheets=n),!t.SheetNames.length&&c["!ref"]?(t.SheetNames.push("Sheet1"),t.Sheets&&(t.Sheets.Sheet1=c)):t.Preamble=c,t.Sheets&&H.forEach(function(vt,at){t.Sheets[t.SheetNames[at]]["!autofilter"]=vt}),t.Strings=A,t.SSF=Xs(pr),F.enc&&(t.Encryption=F.enc),N&&(t.Themes=N),t.Metadata={},T!==void 0&&(t.Metadata.Country=T),W.names.length>0&&(B.Names=W.names),t.Workbook=B,t}var I6={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Cme(r,e,t){var n=Hr.find(r,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var i=f6(n,Vue,I6.DSI);for(var s in i)e[s]=i[s]}catch(l){if(t.WTF)throw l}var a=Hr.find(r,"/!SummaryInformation");if(a&&a.size>0)try{var o=f6(a,jue,I6.SI);for(var A in o)e[A]==null&&(e[A]=o[A])}catch(l){if(t.WTF)throw l}e.HeadingPairs&&e.TitlesOfParts&&(i$(e.HeadingPairs,e.TitlesOfParts,e,t),delete e.HeadingPairs,delete e.TitlesOfParts)}function H$(r,e){e||(e={}),xN(e),gG(),e.codepage&&ZR(e.codepage);var t,n;if(r.FullPaths){if(Hr.find(r,"/encryption"))throw new Error("File is password-protected");t=Hr.find(r,"!CompObj"),n=Hr.find(r,"/Workbook")||Hr.find(r,"/Book")}else{switch(e.type){case"base64":r=Ol(bA(r));break;case"binary":r=Ol(r);break;case"buffer":break;case"array":Array.isArray(r)||(r=Array.prototype.slice.call(r));break}Ks(r,0),n={content:r}}var i,s;if(t&&xme(t),e.bookProps&&!e.bookSheets)i={};else{var a=Ur?"buffer":"array";if(n&&n.content)i=Eme(n.content,e);else if((s=Hr.find(r,"PerfectOffice_MAIN"))&&s.content)i=Zy.to_workbook(s.content,(e.type=a,e));else if((s=Hr.find(r,"NativeContent_MAIN"))&&s.content)i=Zy.to_workbook(s.content,(e.type=a,e));else throw(s=Hr.find(r,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&r.FullPaths&&Hr.find(r,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=c0e(r))}var o={};return r.FullPaths&&Cme(r,o,e),i.Props=i.Custprops=o,e.bookFiles&&(i.cfb=r),i}var LS={0:{f:age},1:{f:cge},2:{f:wge},3:{f:dge},4:{f:hge},5:{f:vge},6:{f:_ge},7:{f:gge},8:{f:Sge},9:{f:Bge},10:{f:Ege},11:{f:Cge},12:{f:uge},13:{f:yge},14:{f:pge},15:{f:fge},16:{f:D$},17:{f:bge},18:{f:mge},19:{f:cN},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:eme},40:{},42:{},43:{f:Ede},44:{f:bde},45:{f:Cde},46:{f:Sde},47:{f:Bde},48:{},49:{f:Tue},50:{},51:{f:$de},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:g$},62:{f:xge},63:{f:Zde},64:{f:Dge},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Pa,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Nge},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:lge},148:{f:oge,p:16},151:{f:Ige},152:{},153:{f:Jge},154:{},155:{},156:{f:Yge},157:{},158:{},159:{T:1,f:jfe},160:{T:-1},161:{T:1,f:Hg},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Tge},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Gde},336:{T:-1},337:{f:qde,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:W3},357:{},358:{},359:{},360:{T:1},361:{},362:{f:p$},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:kge},427:{f:Lge},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Rge},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Age},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Fge},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:W3},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:o0e},633:{T:1},634:{T:-1},635:{T:1,f:a0e},636:{T:-1},637:{f:Iue},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Vge},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Uge},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},Y3={6:{f:e4},10:{f:df},12:{f:ji},13:{f:ji},14:{f:Bi},15:{f:Bi},16:{f:Sa},17:{f:Bi},18:{f:Bi},19:{f:ji},20:{f:m6},21:{f:m6},23:{f:p$},24:{f:w6},25:{f:Bi},26:{},27:{},28:{f:ife},29:{},34:{f:Bi},35:{f:v6},38:{f:Sa},39:{f:Sa},40:{f:Sa},41:{f:Sa},42:{f:Bi},43:{f:Bi},47:{f:Ade},49:{f:Ohe},51:{f:ji},60:{},61:{f:Dhe},64:{f:Bi},65:{f:Mhe},66:{f:ji},77:{},80:{},81:{},82:{},85:{f:ji},89:{},90:{},91:{},92:{f:The},93:{f:afe},94:{},95:{f:Bi},96:{},97:{},99:{f:Bi},125:{f:g$},128:{f:qhe},129:{f:Fhe},130:{f:ji},131:{f:Bi},132:{f:Bi},133:{f:Ihe},134:{},140:{f:hfe},141:{f:ji},144:{},146:{f:dfe},151:{},152:{},153:{},154:{},155:{},156:{f:ji},157:{},158:{},160:{f:wfe},161:{f:gfe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:zhe},190:{f:Whe},193:{f:df},197:{},198:{},199:{},200:{},201:{},202:{f:Bi},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:ji},220:{},221:{f:Bi},222:{},224:{f:$he},225:{f:She},226:{f:df},227:{},229:{f:sfe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:khe},253:{f:Qhe},255:{f:Lhe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:l$},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Bi},353:{f:df},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:Yhe},431:{f:Bi},432:{},433:{},434:{},437:{},438:{f:lfe},439:{f:Bi},440:{f:cfe},441:{},442:{f:hb},443:{},444:{f:ji},445:{},446:{},448:{f:df},449:{f:Nhe,r:2},450:{f:df},512:{f:p6},513:{f:vfe},515:{f:Xhe},516:{f:Hhe},517:{f:g6},519:{f:yfe},520:{f:Phe},523:{},545:{f:y6},549:{f:d6},566:{},574:{f:Uhe},638:{f:Khe},659:{},1048:{},1054:{f:Vhe},1084:{},1212:{f:tfe},2048:{f:ufe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:gE},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:df},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:pfe,r:12},2173:{f:zde,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Bi,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:efe,r:12},2197:{},2198:{f:Ode,r:12},2199:{},2200:{},2201:{},2202:{f:rfe,r:12},2203:{f:df},2204:{},2205:{},2206:{},2207:{},2211:{f:Rhe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:ji},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:mfe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:ffe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:p6},1:{},2:{f:Efe},3:{f:bfe},4:{f:_fe},5:{f:g6},7:{f:Cfe},8:{},9:{f:gE},11:{},22:{f:ji},30:{f:jhe},31:{},32:{},33:{f:y6},36:{},37:{f:d6},50:{f:Bfe},62:{},52:{},67:{},68:{f:ji},69:{},86:{},126:{},127:{f:xfe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:Sfe},223:{},234:{},354:{},421:{},518:{f:e4},521:{f:gE},536:{f:w6},547:{f:v6},561:{},579:{},1030:{f:e4},1033:{f:gE},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function wl(r,e,t,n){var i=e;if(!isNaN(i)){var s=(t||[]).length||0,a=r.next(4);a.write_shift(2,i),a.write_shift(2,s),s>0&&XG(t)&&r.push(t)}}function k6(r,e){var t=e||{},n=t.dense?[]:{};r=r.replace(/<!--.*?-->/g,"");var i=r.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=r.match(/<\/table/i),a=i.index,o=s&&s.index||r.length,A=Xce(r.slice(a,o),/(:?<tr[^>]*>)/i,"<tr>"),l=-1,c=0,u=0,h=0,f={s:{r:1e7,c:1e7},e:{r:0,c:0}},d=[];for(a=0;a<A.length;++a){var p=A[a].trim(),v=p.slice(0,3).toLowerCase();if(v=="<tr"){if(++l,t.sheetRows&&t.sheetRows<=l){--l;break}c=0;continue}if(!(v!="<td"&&v!="<th")){var m=p.split(/<\/t[dh]>/i);for(o=0;o<m.length;++o){var x=m[o].trim();if(x.match(/<t[dh]/i)){for(var b=x,T=0;b.charAt(0)=="<"&&(T=b.indexOf(">"))>-1;)b=b.slice(T+1);for(var R=0;R<d.length;++R){var P=d[R];P.s.c==c&&P.s.r<l&&l<=P.e.r&&(c=P.e.c+1,R=-1)}var B=tr(x.slice(0,x.indexOf(">")));h=B.colspan?+B.colspan:1,((u=+B.rowspan)>1||h>1)&&d.push({s:{r:l,c},e:{r:l+(u||1)-1,c:c+h-1}});var E=B.t||B["data-t"]||"";if(!b.length){c+=h;continue}if(b=UG(b),f.s.r>l&&(f.s.r=l),f.e.r<l&&(f.e.r=l),f.s.c>c&&(f.s.c=c),f.e.c<c&&(f.e.c=c),!b.length){c+=h;continue}var _={t:"s",v:b};t.raw||!b.trim().length||E=="s"||(b==="TRUE"?_={t:"b",v:!0}:b==="FALSE"?_={t:"b",v:!1}:isNaN(Wl(b))?isNaN(Rv(b).getDate())||(_={t:"d",v:Ts(b)},t.cellDates||(_={t:"n",v:so(_.v)}),_.z=t.dateNF||pr[14]):_={t:"n",v:Wl(b)}),t.dense?(n[l]||(n[l]=[]),n[l][c]=_):n[lr({r:l,c})]=_,c+=h}}}}return n["!ref"]=Vr(f),d.length&&(n["!merges"]=d),n}function Bme(r,e,t,n){for(var i=r["!merges"]||[],s=[],a=e.s.c;a<=e.e.c;++a){for(var o=0,A=0,l=0;l<i.length;++l)if(!(i[l].s.r>t||i[l].s.c>a)&&!(i[l].e.r<t||i[l].e.c<a)){if(i[l].s.r<t||i[l].s.c<a){o=-1;break}o=i[l].e.r-i[l].s.r+1,A=i[l].e.c-i[l].s.c+1;break}if(!(o<0)){var c=lr({r:t,c:a}),u=n.dense?(r[t]||[])[a]:r[c],h=u&&u.v!=null&&(u.h||sN(u.w||(Mh(u),u.w)||""))||"",f={};o>1&&(f.rowspan=o),A>1&&(f.colspan=A),n.editable?h='<span contenteditable="true">'+h+"</span>":u&&(f["data-t"]=u&&u.t||"z",u.v!=null&&(f["data-v"]=u.v),u.z!=null&&(f["data-z"]=u.z),u.l&&(u.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+u.l.Target+'">'+h+"</a>")),f.id=(n.id||"sjs")+"-"+c,s.push(hue("td",h,f))}}var d="<tr>";return d+s.join("")+"</tr>"}var Sme='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Tme="</body></html>";function Fme(r,e){var t=r.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!t||t.length==0)throw new Error("Invalid HTML: could not find <table>");if(t.length==1)return o0(k6(t[0],e),e);var n=bN();return t.forEach(function(i,s){EN(n,k6(i,e),"Sheet"+(s+1))}),n}function Ime(r,e,t){var n=[];return n.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function kme(r,e){var t=e||{},n=t.header!=null?t.header:Sme,i=t.footer!=null?t.footer:Tme,s=[n],a=Jv(r["!ref"]);t.dense=Array.isArray(r),s.push(Ime(r,a,t));for(var o=a.s.r;o<=a.e.r;++o)s.push(Bme(r,a,o,t));return s.push("</table>"+i),s.join("")}function V$(r,e,t){var n=t||{},i=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var a=typeof n.origin=="string"?Ya(n.origin):n.origin;i=a.r,s=a.c}var o=e.getElementsByTagName("tr"),A=Math.min(n.sheetRows||1e7,o.length),l={s:{r:0,c:0},e:{r:i,c:s}};if(r["!ref"]){var c=Jv(r["!ref"]);l.s.r=Math.min(l.s.r,c.s.r),l.s.c=Math.min(l.s.c,c.s.c),l.e.r=Math.max(l.e.r,c.e.r),l.e.c=Math.max(l.e.c,c.e.c),i==-1&&(l.e.r=i=c.e.r+1)}var u=[],h=0,f=r["!rows"]||(r["!rows"]=[]),d=0,p=0,v=0,m=0,x=0,b=0;for(r["!cols"]||(r["!cols"]=[]);d<o.length&&p<A;++d){var T=o[d];if(L6(T)){if(n.display)continue;f[p]={hidden:!0}}var R=T.children;for(v=m=0;v<R.length;++v){var P=R[v];if(!(n.display&&L6(P))){var B=P.hasAttribute("data-v")?P.getAttribute("data-v"):P.hasAttribute("v")?P.getAttribute("v"):UG(P.innerHTML),E=P.getAttribute("data-z")||P.getAttribute("z");for(h=0;h<u.length;++h){var _=u[h];_.s.c==m+s&&_.s.r<p+i&&p+i<=_.e.r&&(m=_.e.c+1-s,h=-1)}b=+P.getAttribute("colspan")||1,((x=+P.getAttribute("rowspan")||1)>1||b>1)&&u.push({s:{r:p+i,c:m+s},e:{r:p+i+(x||1)-1,c:m+s+(b||1)-1}});var I={t:"s",v:B},S=P.getAttribute("data-t")||P.getAttribute("t")||"";B!=null&&(B.length==0?I.t=S||"z":n.raw||B.trim().length==0||S=="s"||(B==="TRUE"?I={t:"b",v:!0}:B==="FALSE"?I={t:"b",v:!1}:isNaN(Wl(B))?isNaN(Rv(B).getDate())||(I={t:"d",v:Ts(B)},n.cellDates||(I={t:"n",v:so(I.v)}),I.z=n.dateNF||pr[14]):I={t:"n",v:Wl(B)})),I.z===void 0&&E!=null&&(I.z=E);var F="",N=P.getElementsByTagName("A");if(N&&N.length)for(var G=0;G<N.length&&!(N[G].hasAttribute("href")&&(F=N[G].getAttribute("href"),F.charAt(0)!="#"));++G);F&&F.charAt(0)!="#"&&(I.l={Target:F}),n.dense?(r[p+i]||(r[p+i]=[]),r[p+i][m+s]=I):r[lr({c:m+s,r:p+i})]=I,l.e.c<m+s&&(l.e.c=m+s),m+=b}}++p}return u.length&&(r["!merges"]=(r["!merges"]||[]).concat(u)),l.e.r=Math.max(l.e.r,p-1+i),r["!ref"]=Vr(l),p>=A&&(r["!fullref"]=Vr((l.e.r=o.length-d+p-1+i,l))),r}function j$(r,e){var t=e||{},n=t.dense?[]:{};return V$(n,r,e)}function Lme(r,e){return o0(j$(r,e),e)}function L6(r){var e="",t=Pme(r);return t&&(e=t(r).getPropertyValue("display")),e||(e=r.style&&r.style.display),e==="none"}function Pme(r){return r.ownerDocument.defaultView&&typeof r.ownerDocument.defaultView.getComputedStyle=="function"?r.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function Rme(r){var e=r.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),t=Wr(e.replace(/<[^>]*>/g,""));return[t]}var P6={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function K$(r,e){var t=e||{},n=aN(r),i=[],s,a,o={name:""},A="",l=0,c,u,h={},f=[],d=t.dense?[]:{},p,v,m={value:""},x="",b=0,T=[],R=-1,P=-1,B={s:{r:1e6,c:1e7},e:{r:0,c:0}},E=0,_={},I=[],S={},F=0,N=0,G=[],le=1,ie=1,te=[],J={Names:[]},W={},be=["",""],xe=[],L={},O="",H=0,Q=!1,Y=!1,oe=0;for(X2.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");p=X2.exec(n);)switch(p[3]=p[3].replace(/_.*$/,"")){case"table":case"":p[1]==="/"?(B.e.c>=B.s.c&&B.e.r>=B.s.r?d["!ref"]=Vr(B):d["!ref"]="A1:A1",t.sheetRows>0&&t.sheetRows<=B.e.r&&(d["!fullref"]=d["!ref"],B.e.r=t.sheetRows-1,d["!ref"]=Vr(B)),I.length&&(d["!merges"]=I),G.length&&(d["!rows"]=G),c.name=c.||c.name,typeof JSON<"u"&&JSON.stringify(c),f.push(c.name),h[c.name]=d,Y=!1):p[0].charAt(p[0].length-2)!=="/"&&(c=tr(p[0],!1),R=P=-1,B.s.r=B.s.c=1e7,B.e.r=B.e.c=0,d=t.dense?[]:{},I=[],G=[],Y=!0);break;case"table-row-group":p[1]==="/"?--E:++E;break;case"table-row":case"":if(p[1]==="/"){R+=le,le=1;break}if(u=tr(p[0],!1),u.?R=u.-1:R==-1&&(R=0),le=+u["number-rows-repeated"]||1,le<10)for(oe=0;oe<le;++oe)E>0&&(G[R+oe]={level:E});P=-1;break;case"covered-table-cell":p[1]!=="/"&&++P,t.sheetStubs&&(t.dense?(d[R]||(d[R]=[]),d[R][P]={t:"z"}):d[lr({r:R,c:P})]={t:"z"}),x="",T=[];break;case"table-cell":case"":if(p[0].charAt(p[0].length-2)==="/")++P,m=tr(p[0],!1),ie=parseInt(m["number-columns-repeated"]||"1",10),v={t:"z",v:null},m.formula&&t.cellFormula!=!1&&(v.f=S6(Wr(m.formula))),(m.||m["value-type"])=="string"&&(v.t="s",v.v=Wr(m["string-value"]||""),t.dense?(d[R]||(d[R]=[]),d[R][P]=v):d[lr({r:R,c:P})]=v),P+=ie-1;else if(p[1]!=="/"){++P,x="",b=0,T=[],ie=1;var de=le?R+le-1:R;if(P>B.e.c&&(B.e.c=P),P<B.s.c&&(B.s.c=P),R<B.s.r&&(B.s.r=R),de>B.e.r&&(B.e.r=de),m=tr(p[0],!1),xe=[],L={},v={t:m.||m["value-type"],v:null},t.cellFormula)if(m.formula&&(m.formula=Wr(m.formula)),m["number-matrix-columns-spanned"]&&m["number-matrix-rows-spanned"]&&(F=parseInt(m["number-matrix-rows-spanned"],10)||0,N=parseInt(m["number-matrix-columns-spanned"],10)||0,S={s:{r:R,c:P},e:{r:R+F-1,c:P+N-1}},v.F=Vr(S),te.push([S,v.F])),m.formula)v.f=S6(m.formula);else for(oe=0;oe<te.length;++oe)R>=te[oe][0].s.r&&R<=te[oe][0].e.r&&P>=te[oe][0].s.c&&P<=te[oe][0].e.c&&(v.F=te[oe][1]);switch((m["number-columns-spanned"]||m["number-rows-spanned"])&&(F=parseInt(m["number-rows-spanned"],10)||0,N=parseInt(m["number-columns-spanned"],10)||0,S={s:{r:R,c:P},e:{r:R+F-1,c:P+N-1}},I.push(S)),m["number-columns-repeated"]&&(ie=parseInt(m["number-columns-repeated"],10)),v.t){case"boolean":v.t="b",v.v=Gn(m["boolean-value"]);break;case"float":v.t="n",v.v=parseFloat(m.value);break;case"percentage":v.t="n",v.v=parseFloat(m.value);break;case"currency":v.t="n",v.v=parseFloat(m.value);break;case"date":v.t="d",v.v=Ts(m["date-value"]),t.cellDates||(v.t="n",v.v=so(v.v)),v.z="m/d/yy";break;case"time":v.t="n",v.v=Gce(m["time-value"])/86400,t.cellDates&&(v.t="d",v.v=gT(v.v)),v.z="HH:MM:SS";break;case"number":v.t="n",v.v=parseFloat(m.);break;default:if(v.t==="string"||v.t==="text"||!v.t)v.t="s",m["string-value"]!=null&&(x=Wr(m["string-value"]),T=[]);else throw new Error("Unsupported value type "+v.t)}}else{if(Q=!1,v.t==="s"&&(v.v=x||"",T.length&&(v.R=T),Q=b==0),W.Target&&(v.l=W),xe.length>0&&(v.c=xe,xe=[]),x&&t.cellText!==!1&&(v.w=x),Q&&(v.t="z",delete v.v),(!Q||t.sheetStubs)&&!(t.sheetRows&&t.sheetRows<=R))for(var fe=0;fe<le;++fe){if(ie=parseInt(m["number-columns-repeated"]||"1",10),t.dense)for(d[R+fe]||(d[R+fe]=[]),d[R+fe][P]=fe==0?v:Xs(v);--ie>0;)d[R+fe][P+ie]=Xs(v);else for(d[lr({r:R+fe,c:P})]=v;--ie>0;)d[lr({r:R+fe,c:P+ie})]=Xs(v);B.e.c<=P&&(B.e.c=P)}ie=parseInt(m["number-columns-repeated"]||"1",10),P+=ie-1,ie=0,v={},x="",T=[]}W={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(p[1]==="/"){if((s=i.pop())[0]!==p[3])throw"Bad state: "+s}else p[0].charAt(p[0].length-2)!=="/"&&i.push([p[3],!0]);break;case"annotation":if(p[1]==="/"){if((s=i.pop())[0]!==p[3])throw"Bad state: "+s;L.t=x,T.length&&(L.R=T),L.a=O,xe.push(L)}else p[0].charAt(p[0].length-2)!=="/"&&i.push([p[3],!1]);O="",H=0,x="",b=0,T=[];break;case"creator":p[1]==="/"?O=n.slice(H,p.index):H=p.index+p[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(p[1]==="/"){if((s=i.pop())[0]!==p[3])throw"Bad state: "+s}else p[0].charAt(p[0].length-2)!=="/"&&i.push([p[3],!1]);x="",b=0,T=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(p[1]==="/"){if(_[o.name]=A,(s=i.pop())[0]!==p[3])throw"Bad state: "+s}else p[0].charAt(p[0].length-2)!=="/"&&(A="",o=tr(p[0],!1),i.push([p[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":a=tr(p[0],!1),A+=P6[p[3]][a.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":a=tr(p[0],!1),A+=P6[p[3]][a.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(p[0].slice(-2)==="/>")break;if(p[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":A+=n.slice(l,p.index);break}else l=p.index+p[0].length;break;case"named-range":a=tr(p[0],!1),be=t4(a["cell-range-address"]);var _e={Name:a.name,Ref:be[0]+"!"+be[1]};Y&&(_e.Sheet=f.length),J.Names.push(_e);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(p[1]==="/"&&(!m||!m["string-value"])){var Se=Rme(n.slice(b,p.index));x=(x.length>0?x+`
`:"")+Se[0]}else tr(p[0],!1),b=p.index+p[0].length;break;case"s":break;case"database-range":if(p[1]==="/")break;try{be=t4(tr(p[0])["target-range-address"]),h[be[0]]["!autofilter"]={ref:be[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(p[1]!=="/"){if(W=tr(p[0],!1),!W.href)break;W.Target=Wr(W.href),delete W.href,W.Target.charAt(0)=="#"&&W.Target.indexOf(".")>-1?(be=t4(W.Target.slice(1)),W.Target="#"+be[0]+"!"+be[1]):W.Target.match(/^\.\.[\\\/]/)&&(W.Target=W.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(p[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(t.WTF)throw new Error(p)}}var ne={Sheets:h,SheetNames:f,Workbook:J};return t.bookSheets&&delete ne.Sheets,ne}function R6(r,e){e=e||{},UA(r,"META-INF/manifest.xml")&&Xue(Vi(r,"META-INF/manifest.xml"),e);var t=gA(r,"content.xml");if(!t)throw new Error("Missing content.xml in ODS / UOF file");var n=K$(Rn(t),e);return UA(r,"meta.xml")&&(n.Props=n$(Vi(r,"meta.xml"))),n}function N6(r,e){return K$(r,e)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function wN(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function J3(r){return typeof TextDecoder<"u"?new TextDecoder().decode(r):Rn(Og(r))}function Z3(r){var e=r.reduce(function(i,s){return i+s.length},0),t=new Uint8Array(e),n=0;return r.forEach(function(i){t.set(i,n),n+=i.length}),t}function D6(r){return r-=r>>1&1431655765,r=(r&858993459)+(r>>2&858993459),(r+(r>>4)&252645135)*16843009>>>24}function Nme(r,e){for(var t=(r[e+15]&127)<<7|r[e+14]>>1,n=r[e+14]&1,i=e+13;i>=e;--i)n=n*256+r[i];return(r[e+15]&128?-n:n)*Math.pow(10,t-6176)}function ex(r,e){var t=e?e[0]:0,n=r[t]&127;e:if(r[t++]>=128&&(n|=(r[t]&127)<<7,r[t++]<128||(n|=(r[t]&127)<<14,r[t++]<128)||(n|=(r[t]&127)<<21,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,28),++t,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,35),++t,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,42),++t,r[t++]<128)))break e;return e&&(e[0]=t),n}function hs(r){var e=0,t=r[e]&127;e:if(r[e++]>=128){if(t|=(r[e]&127)<<7,r[e++]<128||(t|=(r[e]&127)<<14,r[e++]<128)||(t|=(r[e]&127)<<21,r[e++]<128))break e;t|=(r[e]&127)<<28}return t}function Ta(r){for(var e=[],t=[0];t[0]<r.length;){var n=t[0],i=ex(r,t),s=i&7;i=Math.floor(i/8);var a=0,o;if(i==0)break;switch(s){case 0:{for(var A=t[0];r[t[0]++]>=128;);o=r.slice(A,t[0])}break;case 5:a=4,o=r.slice(t[0],t[0]+a),t[0]+=a;break;case 1:a=8,o=r.slice(t[0],t[0]+a),t[0]+=a;break;case 2:a=ex(r,t),o=r.slice(t[0],t[0]+a),t[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(n))}var l={data:o,type:s};e[i]==null?e[i]=[l]:e[i].push(l)}return e}function yN(r,e){return(r==null?void 0:r.map(function(t){return e(t.data)}))||[]}function Dme(r){for(var e,t=[],n=[0];n[0]<r.length;){var i=ex(r,n),s=Ta(r.slice(n[0],n[0]+i));n[0]+=i;var a={id:hs(s[1][0].data),messages:[]};s[2].forEach(function(o){var A=Ta(o.data),l=hs(A[3][0].data);a.messages.push({meta:A,data:r.slice(n[0],n[0]+l)}),n[0]+=l}),(e=s[3])!=null&&e[0]&&(a.merge=hs(s[3][0].data)>>>0>0),t.push(a)}return t}function Ume(r,e){if(r!=0)throw new Error("Unexpected Snappy chunk type ".concat(r));for(var t=[0],n=ex(e,t),i=[];t[0]<e.length;){var s=e[t[0]]&3;if(s==0){var a=e[t[0]++]>>2;if(a<60)++a;else{var o=a-59;a=e[t[0]],o>1&&(a|=e[t[0]+1]<<8),o>2&&(a|=e[t[0]+2]<<16),o>3&&(a|=e[t[0]+3]<<24),a>>>=0,a++,t[0]+=o}i.push(e.slice(t[0],t[0]+a)),t[0]+=a;continue}else{var A=0,l=0;if(s==1?(l=(e[t[0]]>>2&7)+4,A=(e[t[0]++]&224)<<3,A|=e[t[0]++]):(l=(e[t[0]++]>>2)+1,s==2?(A=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(A=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),i=[Z3(i)],A==0)throw new Error("Invalid offset 0");if(A>i[0].length)throw new Error("Invalid offset beyond length");if(l>=A)for(i.push(i[0].slice(-A)),l-=A;l>=i[i.length-1].length;)i.push(i[i.length-1]),l-=i[i.length-1].length;i.push(i[0].slice(-A,-A+l))}}var c=Z3(i);if(c.length!=n)throw new Error("Unexpected length: ".concat(c.length," != ").concat(n));return c}function Mme(r){for(var e=[],t=0;t<r.length;){var n=r[t++],i=r[t]|r[t+1]<<8|r[t+2]<<16;t+=3,e.push(Ume(n,r.slice(t,t+i))),t+=i}if(t!==r.length)throw new Error("data is not a valid framed stream!");return Z3(e)}function Ome(r,e,t,n){var i=wN(r),s=i.getUint32(4,!0),a=(n>1?12:8)+D6(s&(n>1?3470:398))*4,o=-1,A=-1,l=NaN,c=new Date(2001,0,1);s&512&&(o=i.getUint32(a,!0),a+=4),a+=D6(s&(n>1?12288:4096))*4,s&16&&(A=i.getUint32(a,!0),a+=4),s&32&&(l=i.getFloat64(a,!0),a+=8),s&64&&(c.setTime(c.getTime()+i.getFloat64(a,!0)*1e3),a+=8);var u;switch(r[2]){case 0:break;case 2:u={t:"n",v:l};break;case 3:u={t:"s",v:e[A]};break;case 5:u={t:"d",v:c};break;case 6:u={t:"b",v:l>0};break;case 7:u={t:"n",v:l/86400};break;case 8:u={t:"e",v:0};break;case 9:if(o>-1)u={t:"s",v:t[o]};else if(A>-1)u={t:"s",v:e[A]};else if(!isNaN(l))u={t:"n",v:l};else throw new Error("Unsupported cell type ".concat(r.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(r.slice(0,4)))}return u}function Qme(r,e,t){var n=wN(r),i=n.getUint32(8,!0),s=12,a=-1,o=-1,A=NaN,l=NaN,c=new Date(2001,0,1);i&1&&(A=Nme(r,s),s+=16),i&2&&(l=n.getFloat64(s,!0),s+=8),i&4&&(c.setTime(c.getTime()+n.getFloat64(s,!0)*1e3),s+=8),i&8&&(o=n.getUint32(s,!0),s+=4),i&16&&(a=n.getUint32(s,!0),s+=4);var u;switch(r[1]){case 0:break;case 2:u={t:"n",v:A};break;case 3:u={t:"s",v:e[o]};break;case 5:u={t:"d",v:c};break;case 6:u={t:"b",v:l>0};break;case 7:u={t:"n",v:l/86400};break;case 8:u={t:"e",v:0};break;case 9:if(a>-1)u={t:"s",v:t[a]};else throw new Error("Unsupported cell type ".concat(r[1]," : ").concat(i&31," : ").concat(r.slice(0,4)));break;case 10:u={t:"n",v:A};break;default:throw new Error("Unsupported cell type ".concat(r[1]," : ").concat(i&31," : ").concat(r.slice(0,4)))}return u}function Hme(r,e,t){switch(r[0]){case 0:case 1:case 2:case 3:return Ome(r,e,t,r[0]);case 5:return Qme(r,e,t);default:throw new Error("Unsupported payload version ".concat(r[0]))}}function Nd(r){var e=Ta(r);return ex(e[1][0].data)}function U6(r,e){var t=Ta(e.data),n=hs(t[1][0].data),i=t[3],s=[];return(i||[]).forEach(function(a){var o=Ta(a.data),A=hs(o[1][0].data)>>>0;switch(n){case 1:s[A]=J3(o[3][0].data);break;case 8:{var l=r[Nd(o[9][0].data)][0],c=Ta(l.data),u=r[Nd(c[1][0].data)][0],h=hs(u.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var f=Ta(u.data);s[A]=f[3].map(function(d){return J3(d.data)}).join("")}break}}),s}function Vme(r,e){var t,n,i,s,a,o,A,l,c,u,h,f,d,p,v=Ta(r),m=hs(v[1][0].data)>>>0,x=hs(v[2][0].data)>>>0,b=((n=(t=v[8])==null?void 0:t[0])==null?void 0:n.data)&&hs(v[8][0].data)>0||!1,T,R;if((s=(i=v[7])==null?void 0:i[0])!=null&&s.data&&e!=0)T=(o=(a=v[7])==null?void 0:a[0])==null?void 0:o.data,R=(l=(A=v[6])==null?void 0:A[0])==null?void 0:l.data;else if((u=(c=v[4])==null?void 0:c[0])!=null&&u.data&&e!=1)T=(f=(h=v[4])==null?void 0:h[0])==null?void 0:f.data,R=(p=(d=v[3])==null?void 0:d[0])==null?void 0:p.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var P=b?4:1,B=wN(T),E=[],_=0;_<T.length/2;++_){var I=B.getUint16(_*2,!0);I<65535&&E.push([_,I])}if(E.length!=x)throw"Expected ".concat(x," cells, found ").concat(E.length);var S=[];for(_=0;_<E.length-1;++_)S[E[_][0]]=R.subarray(E[_][1]*P,E[_+1][1]*P);return E.length>=1&&(S[E[E.length-1][0]]=R.subarray(E[E.length-1][1]*P)),{R:m,cells:S}}function jme(r,e){var t,n=Ta(e.data),i=(t=n==null?void 0:n[7])!=null&&t[0]?hs(n[7][0].data)>>>0>0?1:0:-1,s=yN(n[5],function(a){return Vme(a,i)});return{nrows:hs(n[4][0].data)>>>0,data:s.reduce(function(a,o){return a[o.R]||(a[o.R]=[]),o.cells.forEach(function(A,l){if(a[o.R][l])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(l));a[o.R][l]=A}),a},[])}}function Kme(r,e,t){var n,i=Ta(e.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(hs(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(hs(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));t["!ref"]=Vr(s);var a=Ta(i[4][0].data),o=U6(r,r[Nd(a[4][0].data)][0]),A=(n=a[17])!=null&&n[0]?U6(r,r[Nd(a[17][0].data)][0]):[],l=Ta(a[3][0].data),c=0;l[1].forEach(function(u){var h=Ta(u.data),f=r[Nd(h[2][0].data)][0],d=hs(f.meta[1][0].data);if(d!=6002)throw new Error("6001 unexpected reference to ".concat(d));var p=jme(r,f);p.data.forEach(function(v,m){v.forEach(function(x,b){var T=lr({r:c+m,c:b}),R=Hme(x,o,A);R&&(t[T]=R)})}),c+=p.nrows})}function zme(r,e){var t=Ta(e.data),n={"!ref":"A1"},i=r[Nd(t[2][0].data)],s=hs(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return Kme(r,i[0],n),n}function Wme(r,e){var t,n=Ta(e.data),i={name:(t=n[1])!=null&&t[0]?J3(n[1][0].data):"",sheets:[]},s=yN(n[2],Nd);return s.forEach(function(a){r[a].forEach(function(o){var A=hs(o.meta[1][0].data);A==6e3&&i.sheets.push(zme(r,o))})}),i}function Gme(r,e){var t=bN(),n=Ta(e.data),i=yN(n[1],Nd);if(i.forEach(function(s){r[s].forEach(function(a){var o=hs(a.meta[1][0].data);if(o==2){var A=Wme(r,a);A.sheets.forEach(function(l,c){EN(t,l,c==0?A.name:A.name+"_"+c,!0)})}})}),t.SheetNames.length==0)throw new Error("Empty NUMBERS file");return t}function n4(r){var e,t,n,i,s={},a=[];if(r.FullPaths.forEach(function(A){if(A.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),r.FileIndex.forEach(function(A){if(A.name.match(/\.iwa$/)){var l;try{l=Mme(A.content)}catch(u){return console.log("?? "+A.content.length+" "+(u.message||u))}var c;try{c=Dme(l)}catch(u){return console.log("## "+(u.message||u))}c.forEach(function(u){s[u.id]=u.messages,a.push(u.id)})}}),!a.length)throw new Error("File has no messages");var o=((i=(n=(t=(e=s==null?void 0:s[1])==null?void 0:e[0])==null?void 0:t.meta)==null?void 0:n[1])==null?void 0:i[0].data)&&hs(s[1][0].meta[1][0].data)==1&&s[1][0];if(o||a.forEach(function(A){s[A].forEach(function(l){var c=hs(l.meta[1][0].data)>>>0;if(c==1)if(!o)o=l;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return Gme(s,o)}function $me(r){return function(t){for(var n=0;n!=r.length;++n){var i=r[n];t[i[0]]===void 0&&(t[i[0]]=i[1]),i[2]==="n"&&(t[i[0]]=Number(t[i[0]]))}}}function xN(r){$me([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(r)}function qme(r){return Hm.WS.indexOf(r)>-1?"sheet":r==Hm.CS?"chart":r==Hm.DS?"dialog":r==Hm.MS?"macro":r&&r.length?r:"sheet"}function Xme(r,e){if(!r)return 0;try{r=e.map(function(n){return n.id||(n.id=n.strRelID),[n.name,r["!id"][n.id].Target,qme(r["!id"][n.id].Type)]})}catch{return null}return!r||r.length===0?null:r}function Yme(r,e,t,n,i,s,a,o,A,l,c,u){try{s[n]=Yy(gA(r,t,!0),e);var h=Vi(r,e),f;switch(o){case"sheet":f=nme(h,e,i,A,s[n],l,c,u);break;case"chart":if(f=ime(h,e,i,A,s[n],l,c,u),!f||!f["!drawel"])break;var d=vy(f["!drawel"].Target,e),p=G3(d),v=r0e(gA(r,d,!0),Yy(gA(r,p,!0),d)),m=vy(v,d),x=G3(m);f=Qge(gA(r,m,!0),m,A,Yy(gA(r,x,!0),m),l,f);break;case"macro":f=sme(h,e,i,A,s[n],l,c,u);break;case"dialog":f=ame(h,e,i,A,s[n],l,c,u);break;default:throw new Error("Unrecognized sheet type "+o)}a[n]=f;var b=[];s&&s[n]&&tu(s[n]).forEach(function(T){var R="";if(s[n][T].Type==Hm.CMNT){R=vy(s[n][T].Target,e);var P=cme(Vi(r,R,!0),R,A);if(!P||!P.length)return;_6(f,P,!1)}s[n][T].Type==Hm.TCMNT&&(R=vy(s[n][T].Target,e),b=b.concat(i0e(Vi(r,R,!0),A)))}),b&&b.length&&_6(f,b,!0,A.people||[])}catch(T){if(A.WTF)throw T}}function RA(r){return r.charAt(0)=="/"?r.slice(1):r}function Jme(r,e){if(TG(),e=e||{},xN(e),UA(r,"META-INF/manifest.xml")||UA(r,"objectdata.xml"))return R6(r,e);if(UA(r,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof n4<"u"){if(r.FileIndex)return n4(r);var t=Hr.utils.cfb_new();return qO(r).forEach(function(G){Zce(t,G,Jce(r,G))}),n4(t)}throw new Error("Unsupported NUMBERS file")}if(!UA(r,"[Content_Types].xml"))throw UA(r,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):UA(r,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=qO(r),i=$ue(gA(r,"[Content_Types].xml")),s=!1,a,o;if(i.workbooks.length===0&&(o="xl/workbook.xml",Vi(r,o,!0)&&i.workbooks.push(o)),i.workbooks.length===0){if(o="xl/workbook.bin",!Vi(r,o,!0))throw new Error("Could not find workbook");i.workbooks.push(o),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var A={},l={};if(!e.bookSheets&&!e.bookProps){if(e2=[],i.sst)try{e2=lme(Vi(r,RA(i.sst)),i.sst,e)}catch(G){if(e.WTF)throw G}e.cellStyles&&i.themes.length&&(A=Ame(gA(r,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(l=ome(Vi(r,RA(i.style)),i.style,A,e))}i.links.map(function(G){try{var le=Yy(gA(r,G3(RA(G))),G);return hme(Vi(r,RA(G)),le,G,e)}catch{}});var c=rme(Vi(r,RA(i.workbooks[0])),i.workbooks[0],e),u={},h="";i.coreprops.length&&(h=Vi(r,RA(i.coreprops[0]),!0),h&&(u=n$(h)),i.extprops.length!==0&&(h=Vi(r,RA(i.extprops[0]),!0),h&&Zue(h,u,e)));var f={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(h=gA(r,RA(i.custprops[0]),!0),h&&(f=the(h,e)));var d={};if((e.bookSheets||e.bookProps)&&(c.Sheets?a=c.Sheets.map(function(le){return le.name}):u.Worksheets&&u.SheetNames.length>0&&(a=u.SheetNames),e.bookProps&&(d.Props=u,d.Custprops=f),e.bookSheets&&typeof a<"u"&&(d.SheetNames=a),e.bookSheets?d.SheetNames:e.bookProps))return d;a={};var p={};e.bookDeps&&i.calcchain&&(p=ume(Vi(r,RA(i.calcchain)),i.calcchain));var v=0,m={},x,b;{var T=c.Sheets;u.Worksheets=T.length,u.SheetNames=[];for(var R=0;R!=T.length;++R)u.SheetNames[R]=T[R].name}var P=s?"bin":"xml",B=i.workbooks[0].lastIndexOf("/"),E=(i.workbooks[0].slice(0,B+1)+"_rels/"+i.workbooks[0].slice(B+1)+".rels").replace(/^\//,"");UA(r,E)||(E="xl/_rels/workbook."+P+".rels");var _=Yy(gA(r,E,!0),E.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=fme(Vi(r,RA(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=s0e(Vi(r,RA(i.people[0])),e)),_&&(_=Xme(_,c.Sheets));var I=Vi(r,"xl/worksheets/sheet.xml",!0)?1:0;e:for(v=0;v!=u.Worksheets;++v){var S="sheet";if(_&&_[v]?(x="xl/"+_[v][1].replace(/[\/]?xl\//,""),UA(r,x)||(x=_[v][1]),UA(r,x)||(x=E.replace(/_rels\/.*$/,"")+_[v][1]),S=_[v][2]):(x="xl/worksheets/sheet"+(v+1-I)+"."+P,x=x.replace(/sheet0\./,"sheet.")),b=x.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(v!=e.sheets)continue e;break;case"string":if(u.SheetNames[v].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var F=!1,N=0;N!=e.sheets.length;++N)typeof e.sheets[N]=="number"&&e.sheets[N]==v&&(F=1),typeof e.sheets[N]=="string"&&e.sheets[N].toLowerCase()==u.SheetNames[v].toLowerCase()&&(F=1);if(!F)continue e}}Yme(r,x,b,u.SheetNames[v],v,m,a,S,e,c,A,l)}return d={Directory:i,Workbook:c,Props:u,Custprops:f,Deps:p,Sheets:a,SheetNames:u.SheetNames,Strings:e2,Styles:l,Themes:A,SSF:Xs(pr)},e&&e.bookFiles&&(r.files?(d.keys=n,d.files=r.files):(d.keys=[],d.files={},r.FullPaths.forEach(function(G,le){G=G.replace(/^Root Entry[\/]/,""),d.keys.push(G),d.files[G]=r.FileIndex[le]}))),e&&e.bookVBA&&(i.vba.length>0?d.vbaraw=Vi(r,RA(i.vba[0]),!0):i.defaults&&i.defaults.bin===l0e&&(d.vbaraw=Vi(r,"xl/vbaProject.bin",!0))),d}function Zme(r,e){var t=e||{},n="Workbook",i=Hr.find(r,n);try{if(n="/!DataSpaces/Version",i=Hr.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(zfe(i.content),n="/!DataSpaces/DataSpaceMap",i=Hr.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=Gfe(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=Hr.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var a=$fe(i.content);if(a.length!=1||a[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=Hr.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);Xfe(i.content)}catch{}if(n="/EncryptionInfo",i=Hr.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=Yfe(i.content);if(n="/EncryptedPackage",i=Hr.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],i.content,t.password||"",t);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],i.content,t.password||"",t);throw new Error("File is password-protected")}function _N(r,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];case"base64":t=bA(r.slice(0,12));break;case"binary":t=r;break;case"array":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function e1e(r,e){return Hr.find(r,"EncryptedPackage")?Zme(r,e):H$(r,e)}function t1e(r,e){var t,n=r,i=e||{};return i.type||(i.type=Ur&&Buffer.isBuffer(r)?"buffer":"base64"),t=RG(n,i),Jme(t,i)}function z$(r,e){var t=0;e:for(;t<r.length;)switch(r.charCodeAt(t)){case 10:case 13:case 32:++t;break;case 60:return X3(r.slice(t),e);default:break e}return Y2.to_workbook(r,e)}function r1e(r,e){var t="",n=_N(r,e);switch(e.type){case"base64":t=bA(r);break;case"binary":t=r;break;case"buffer":t=r.toString("binary");break;case"array":t=Bg(r);break;default:throw new Error("Unrecognized type "+e.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(t=Rn(t)),e.type="binary",z$(t,e)}function n1e(r,e){var t=r;return e.type=="base64"&&(t=bA(t)),t=G2.utils.decode(1200,t.slice(2),"str"),e.type="binary",z$(t,e)}function i1e(r){return r.match(/[^\x00-\x7F]/)?wy(r):r}function i4(r,e,t,n){return n?(t.type="string",Y2.to_workbook(r,t)):Y2.to_workbook(e,t)}function eL(r,e){gG();var t=e||{};if(typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer)return eL(new Uint8Array(r),(t=Xs(t),t.type="array",t));typeof Uint8Array<"u"&&r instanceof Uint8Array&&!t.type&&(t.type=typeof Deno<"u"?"buffer":"array");var n=r,i=[0,0,0,0],s=!1;if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),a1={},t.dateNF&&(a1.dateNF=t.dateNF),t.type||(t.type=Ur&&Buffer.isBuffer(r)?"buffer":"base64"),t.type=="file"&&(t.type=Ur?"buffer":"binary",n=zce(r),typeof Uint8Array<"u"&&!Ur&&(t.type="array")),t.type=="string"&&(s=!0,t.type="binary",t.codepage=65001,n=i1e(r)),t.type=="array"&&typeof Uint8Array<"u"&&r instanceof Uint8Array&&typeof ArrayBuffer<"u"){var a=new ArrayBuffer(3),o=new Uint8Array(a);if(o.foo="bar",!o.foo)return t=Xs(t),t.type="array",eL(eN(n),t)}switch((i=_N(n,t))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return e1e(Hr.read(n,t),t);break;case 9:if(i[1]<=8)return H$(n,t);break;case 60:return X3(n,t);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return Lfe(n,t);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return Ife.to_workbook(n,t);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?t1e(n,t):i4(r,n,t,s);case 239:return i[3]===60?X3(n,t):i4(r,n,t,s);case 255:if(i[1]===254)return n1e(n,t);if(i[1]===0&&i[2]===2&&i[3]===0)return Zy.to_workbook(n,t);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return Zy.to_workbook(n,t);break;case 3:case 131:case 139:case 140:return x6.to_workbook(n,t);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return lde.to_workbook(n,t);break;case 10:case 13:case 32:return r1e(n,t);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return Tfe.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?x6.to_workbook(n,t):i4(r,n,t,s)}function s1e(r,e,t,n,i,s,a,o){var A=Ys(t),l=o.defval,c=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),u=!0,h=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:t,enumerable:!1})}catch{h.__rowNum__=t}else h.__rowNum__=t;if(!a||r[t])for(var f=e.s.c;f<=e.e.c;++f){var d=a?r[t][f]:r[n[f]+A];if(d===void 0||d.t===void 0){if(l===void 0)continue;s[f]!=null&&(h[s[f]]=l);continue}var p=d.v;switch(d.t){case"z":if(p==null)break;continue;case"e":p=p==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+d.t)}if(s[f]!=null){if(p==null)if(d.t=="e"&&p===null)h[s[f]]=null;else if(l!==void 0)h[s[f]]=l;else if(c&&p===null)h[s[f]]=null;else continue;else h[s[f]]=c&&(d.t!=="n"||d.t==="n"&&o.rawNumbers!==!1)?p:Mh(d,p,o);p!=null&&(u=!1)}}return{row:h,isempty:u}}function tL(r,e){if(r==null||r["!ref"]==null)return[];var t={t:"n",v:0},n=0,i=1,s=[],a=0,o="",A={s:{r:0,c:0},e:{r:0,c:0}},l=e||{},c=l.range!=null?l.range:r["!ref"];switch(l.header===1?n=1:l.header==="A"?n=2:Array.isArray(l.header)?n=3:l.header==null&&(n=0),typeof c){case"string":A=yi(c);break;case"number":A=yi(r["!ref"]),A.s.r=c;break;default:A=c}n>0&&(i=0);var u=Ys(A.s.r),h=[],f=[],d=0,p=0,v=Array.isArray(r),m=A.s.r,x=0,b={};v&&!r[m]&&(r[m]=[]);var T=l.skipHidden&&r["!cols"]||[],R=l.skipHidden&&r["!rows"]||[];for(x=A.s.c;x<=A.e.c;++x)if(!(T[x]||{}).hidden)switch(h[x]=As(x),t=v?r[m][x]:r[h[x]+u],n){case 1:s[x]=x-A.s.c;break;case 2:s[x]=h[x];break;case 3:s[x]=l.header[x-A.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),o=a=Mh(t,null,l),p=b[a]||0,!p)b[a]=1;else{do o=a+"_"+p++;while(b[o]);b[a]=p,b[o]=1}s[x]=o}for(m=A.s.r+i;m<=A.e.r;++m)if(!(R[m]||{}).hidden){var P=s1e(r,A,m,h,n,s,v,l);(P.isempty===!1||(n===1?l.blankrows!==!1:l.blankrows))&&(f[d++]=P.row)}return f.length=d,f}var M6=/"/g;function a1e(r,e,t,n,i,s,a,o){for(var A=!0,l=[],c="",u=Ys(t),h=e.s.c;h<=e.e.c;++h)if(n[h]){var f=o.dense?(r[t]||[])[h]:r[n[h]+u];if(f==null)c="";else if(f.v!=null){A=!1,c=""+(o.rawNumbers&&f.t=="n"?f.v:Mh(f,null,o));for(var d=0,p=0;d!==c.length;++d)if((p=c.charCodeAt(d))===i||p===s||p===34||o.forceQuotes){c='"'+c.replace(M6,'""')+'"';break}c=="ID"&&(c='"ID"')}else f.f!=null&&!f.F?(A=!1,c="="+f.f,c.indexOf(",")>=0&&(c='"'+c.replace(M6,'""')+'"')):c="";l.push(c)}return o.blankrows===!1&&A?null:l.join(a)}function W$(r,e){var t=[],n=e??{};if(r==null||r["!ref"]==null)return"";var i=yi(r["!ref"]),s=n.FS!==void 0?n.FS:",",a=s.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,A=o.charCodeAt(0),l=new RegExp((s=="|"?"\\|":s)+"+$"),c="",u=[];n.dense=Array.isArray(r);for(var h=n.skipHidden&&r["!cols"]||[],f=n.skipHidden&&r["!rows"]||[],d=i.s.c;d<=i.e.c;++d)(h[d]||{}).hidden||(u[d]=As(d));for(var p=0,v=i.s.r;v<=i.e.r;++v)(f[v]||{}).hidden||(c=a1e(r,i,v,u,a,A,s,n),c!=null&&(n.strip&&(c=c.replace(l,"")),(c||n.blankrows!==!1)&&t.push((p++?o:"")+c)));return delete n.dense,t.join("")}function o1e(r,e){e||(e={}),e.FS="	",e.RS=`
`;var t=W$(r,e);return t}function A1e(r){var e="",t,n="";if(r==null||r["!ref"]==null)return[];var i=yi(r["!ref"]),s="",a=[],o,A=[],l=Array.isArray(r);for(o=i.s.c;o<=i.e.c;++o)a[o]=As(o);for(var c=i.s.r;c<=i.e.r;++c)for(s=Ys(c),o=i.s.c;o<=i.e.c;++o)if(e=a[o]+s,t=l?(r[c]||[])[o]:r[e],n="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;n=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)n=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)n=""+t.v;else if(t.t=="b")n=t.v?"TRUE":"FALSE";else if(t.w!==void 0)n="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?n="'"+t.v:n=""+t.v}}A[A.length]=e+"="+n}return A}function G$(r,e,t){var n=t||{},i=+!n.skipHeader,s=r||{},a=0,o=0;if(s&&n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var A=typeof n.origin=="string"?Ya(n.origin):n.origin;a=A.r,o=A.c}var l,c={s:{c:0,r:0},e:{c:o,r:a+e.length-1+i}};if(s["!ref"]){var u=yi(s["!ref"]);c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),a==-1&&(a=u.e.r+1,c.e.r=a+e.length-1+i)}else a==-1&&(a=0,c.e.r=e.length-1+i);var h=n.header||[],f=0;e.forEach(function(p,v){tu(p).forEach(function(m){(f=h.indexOf(m))==-1&&(h[f=h.length]=m);var x=p[m],b="z",T="",R=lr({c:o+f,r:a+v+i});l=tx(s,R),x&&typeof x=="object"&&!(x instanceof Date)?s[R]=x:(typeof x=="number"?b="n":typeof x=="boolean"?b="b":typeof x=="string"?b="s":x instanceof Date?(b="d",n.cellDates||(b="n",x=so(x)),T=n.dateNF||pr[14]):x===null&&n.nullError&&(b="e",x=0),l?(l.t=b,l.v=x,delete l.w,delete l.R,T&&(l.z=T)):s[R]=l={t:b,v:x},T&&(l.z=T))})}),c.e.c=Math.max(c.e.c,o+h.length-1);var d=Ys(a);if(i)for(f=0;f<h.length;++f)s[As(f+o)+d]={t:"s",v:h[f]};return s["!ref"]=Vr(c),s}function l1e(r,e){return G$(null,r,e)}function tx(r,e,t){if(typeof e=="string"){if(Array.isArray(r)){var n=Ya(e);return r[n.r]||(r[n.r]=[]),r[n.r][n.c]||(r[n.r][n.c]={t:"z"})}return r[e]||(r[e]={t:"z"})}return typeof e!="number"?tx(r,lr(e)):tx(r,lr({r:e,c:t||0}))}function c1e(r,e){if(typeof e=="number"){if(e>=0&&r.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=r.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function bN(){return{SheetNames:[],Sheets:{}}}function EN(r,e,t,n){var i=1;if(!t)for(;i<=65535&&r.SheetNames.indexOf(t="Sheet"+i)!=-1;++i,t=void 0);if(!t||r.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&r.SheetNames.indexOf(t)>=0){var s=t.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var a=s&&s[1]||t;for(++i;i<=65535&&r.SheetNames.indexOf(t=a+i)!=-1;++i);}if($ge(t),r.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return r.SheetNames.push(t),r.Sheets[t]=e,t}function u1e(r,e,t){r.Workbook||(r.Workbook={}),r.Workbook.Sheets||(r.Workbook.Sheets=[]);var n=c1e(r,e);switch(r.Workbook.Sheets[n]||(r.Workbook.Sheets[n]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}r.Workbook.Sheets[n].Hidden=t}function h1e(r,e){return r.z=e,r}function $$(r,e,t){return e?(r.l={Target:e},t&&(r.l.Tooltip=t)):delete r.l,r}function f1e(r,e,t){return $$(r,"#"+e,t)}function d1e(r,e,t){r.c||(r.c=[]),r.c.push({t:e,a:t||"SheetJS"})}function p1e(r,e,t,n){for(var i=typeof e!="string"?e:yi(e),s=typeof e=="string"?e:Vr(e),a=i.s.r;a<=i.e.r;++a)for(var o=i.s.c;o<=i.e.c;++o){var A=tx(r,a,o);A.t="n",A.F=s,delete A.v,a==i.s.r&&o==i.s.c&&(A.f=t,n&&(A.D=!0))}return r}var g1e={encode_col:As,encode_row:Ys,encode_cell:lr,encode_range:Vr,decode_col:lN,decode_row:AN,split_cell:Sue,decode_cell:Ya,decode_range:Jv,format_cell:Mh,sheet_add_aoa:JG,sheet_add_json:G$,sheet_add_dom:V$,aoa_to_sheet:Zv,json_to_sheet:l1e,table_to_sheet:j$,table_to_book:Lme,sheet_to_csv:W$,sheet_to_txt:o1e,sheet_to_json:tL,sheet_to_html:kme,sheet_to_formulae:A1e,sheet_to_row_object_array:tL,sheet_get_cell:tx,book_new:bN,book_append_sheet:EN,book_set_sheet_visibility:u1e,cell_set_number_format:h1e,cell_set_hyperlink:$$,cell_set_internal_link:f1e,cell_add_comment:d1e,sheet_set_array_formula:p1e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};cce.workerSrc=hce;const q$=r=>new Promise((e,t)=>{const n=new FileReader;n.onload=async i=>{try{const s=new Uint8Array(i.target.result),a=await uce({data:s}).promise;let o="";for(let A=1;A<=a.numPages;A++){const u=(await(await a.getPage(A)).getTextContent()).items.map(h=>h.str).join(" ");o+=u+`
`}e(o)}catch(s){console.error("PDF Parsing Error:",s),t(s)}},n.onerror=i=>{console.error("File Reading Error:",i),t(i)},n.readAsArrayBuffer(r)}),m1e=r=>new Promise((e,t)=>{dce.parse(r,{header:!0,skipEmptyLines:!0,complete:n=>{n.errors.length>0?t(new Error("CSV  : "+n.errors[0].message)):e(n.data)},error:n=>{t(n)}})}),v1e=r=>new Promise((e,t)=>{const n=new FileReader;n.onload=i=>{try{const s=new Uint8Array(i.target.result),a=eL(s,{type:"array"}),o=a.SheetNames[0],A=a.Sheets[o],l=g1e.sheet_to_json(A,{header:1}),c=l[0],u=l.slice(1).map(h=>{let f={};return c.forEach((d,p)=>{f[d]=h[p]}),f});e(u)}catch(s){t(s)}},n.onerror=i=>{t(i)},n.readAsArrayBuffer(r)});function w1e(r){const e=r.split(".")[0],t=["","","",""];let n=e;for(const i of t)if(n.includes(i)){n=n.split(i)[0].trim();break}return n.trim().length===0&&(n=e),n.trim()}function y1e(r){const e={};r.forEach(n=>{const i=w1e(n.name);if(!i)return;e[i]||(e[i]={});const s=n.name.split(".").pop().toLowerCase();s==="pdf"?e[i].pdf=n:(s==="csv"||s==="xlsx")&&(e[i].spreadsheet=n)});const t={};return Object.keys(e).forEach(n=>{e[n].pdf&&e[n].spreadsheet&&(t[n]=e[n])}),t}function CN(r){if(!r||r.length===0)throw new Error("  .");const e=Object.keys(r[0]),t=["","","","","name"],n=["","","score"],i=d=>{const p=d.map(m=>m.toLowerCase());let v=e.find(m=>p.includes(m.toLowerCase().trim()));return v||(v=e.find(m=>{const x=m.toLowerCase().trim();return p.some(b=>x.includes(b))}),v)},s=i(t),a=i(n);if(!s)throw new Error("/CSV  ''  ''    .");if(!a)throw new Error("/CSV  ''  ''    .");const o=e.filter(d=>/^\d+$/.test(d.trim()));if(o.length===0)throw new Error(" ()    .");const A=o.length;let l=0;const c=[],u=Array(A).fill(0);if(r.forEach((d,p)=>{var R;const v=(R=d[s])==null?void 0:R.trim(),m=d[a];if(!v||v.includes("")||v.includes(""))return;const x=parseFloat(m);if(isNaN(x)){console.warn(`'${v}'  (${m})   .`);return}const b=[];let T=0;o.forEach((P,B)=>{const E=d[P],_=E==="O"||E===1||String(E).toLowerCase()==="o";b.push({qNum:parseInt(P,10),answer:String(E),isCorrect:_}),_&&(T++,u[B]++)}),c.push({id:`student-${p}`,name:v,score:x,answers:b,correctCount:T,submitted:!0,aiAnalysis:null}),l+=x}),c.length===0)throw new Error("     . '' ''  .");const h=(l/c.length).toFixed(1),f=u.map(d=>parseFloat((d/c.length*100).toFixed(1)));return{students:c,studentCount:c.length,classAverage:h,questionCount:A,answerRates:f,questionHeaders:o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1e="type.googleapis.com/google.protobuf.Int64Value",_1e="type.googleapis.com/google.protobuf.UInt64Value";function X$(r,e){const t={};for(const n in r)r.hasOwnProperty(n)&&(t[n]=e(r[n]));return t}function rL(r){if(r==null)return null;if(r instanceof Number&&(r=r.valueOf()),typeof r=="number"&&isFinite(r)||r===!0||r===!1||Object.prototype.toString.call(r)==="[object String]")return r;if(r instanceof Date)return r.toISOString();if(Array.isArray(r))return r.map(e=>rL(e));if(typeof r=="function"||typeof r=="object")return X$(r,e=>rL(e));throw new Error("Data cannot be encoded in JSON: "+r)}function PS(r){if(r==null)return r;if(r["@type"])switch(r["@type"]){case x1e:case _1e:{const e=Number(r.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+r);return e}default:throw new Error("Data cannot be decoded from JSON: "+r)}return Array.isArray(r)?r.map(e=>PS(e)):typeof r=="function"||typeof r=="object"?X$(r,e=>PS(e)):r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class o1 extends nu{constructor(e,t,n){super(`${BN}/${e}`,t||""),this.details=n}}function b1e(r){if(r>=200&&r<300)return"ok";switch(r){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function E1e(r,e){let t=b1e(r),n=t,i;try{const s=e&&e.error;if(s){const a=s.status;if(typeof a=="string"){if(!O6[a])return new o1("internal","internal");t=O6[a],n=a}const o=s.message;typeof o=="string"&&(n=o),i=s.details,i!==void 0&&(i=PS(i))}}catch{}return t==="ok"?null:new o1(t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1e{constructor(e,t,n){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||t.get().then(i=>this.messaging=i,()=>{}),this.appCheck||n.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),n=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:t,messagingToken:n,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL="us-central1";function B1e(r){let e=null;return{promise:new Promise((t,n)=>{e=setTimeout(()=>{n(new o1("deadline-exceeded","deadline-exceeded"))},r)}),cancel:()=>{e&&clearTimeout(e)}}}class S1e{constructor(e,t,n,i,s=nL,a){this.app=e,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new C1e(t,n,i),this.cancelAllRequests=new Promise(o=>{this.deleteService=()=>Promise.resolve(o())});try{const o=new URL(s);this.customDomain=o.origin+(o.pathname==="/"?"":o.pathname),this.region=nL}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function T1e(r,e,t){r.emulatorOrigin=`http://${e}:${t}`}function F1e(r,e,t){return n=>k1e(r,e,n,{})}async function I1e(r,e,t,n){t["Content-Type"]="application/json";let i;try{i=await n(r,{method:"POST",body:JSON.stringify(e),headers:t})}catch{return{status:0,json:null}}let s=null;try{s=await i.json()}catch{}return{status:i.status,json:s}}function k1e(r,e,t,n){const i=r._url(e);return L1e(r,i,t,n)}async function L1e(r,e,t,n){t=rL(t);const i={data:t},s={},a=await r.contextProvider.getContext(n.limitedUseAppCheckTokens);a.authToken&&(s.Authorization="Bearer "+a.authToken),a.messagingToken&&(s["Firebase-Instance-ID-Token"]=a.messagingToken),a.appCheckToken!==null&&(s["X-Firebase-AppCheck"]=a.appCheckToken);const o=n.timeout||7e4,A=B1e(o),l=await Promise.race([I1e(e,i,s,r.fetchImpl),A.promise,r.cancelAllRequests]);if(A.cancel(),!l)throw new o1("cancelled","Firebase Functions instance was deleted.");const c=E1e(l.status,l.json);if(c)throw c;if(!l.json)throw new o1("internal","Response is not valid JSON object.");let u=l.json.data;if(typeof u>"u"&&(u=l.json.result),typeof u>"u")throw new o1("internal","Response is missing data field.");return{data:PS(u)}}const Q6="@firebase/functions",H6="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1e="auth-internal",R1e="app-check-internal",N1e="messaging-internal";function D1e(r,e){const t=(n,{instanceIdentifier:i})=>{const s=n.getProvider("app").getImmediate(),a=n.getProvider(P1e),o=n.getProvider(N1e),A=n.getProvider(R1e);return new S1e(s,a,o,A,i,r)};mg(new Hd(BN,t,"PUBLIC").setMultipleInstances(!0)),$c(Q6,H6,e),$c(Q6,H6,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1e(r=H5(),e=nL){const n=Q5(qi(r),BN).getImmediate({identifier:e}),i=ej("functions");return i&&M1e(n,...i),n}function M1e(r,e,t){T1e(qi(r),e,t)}function O1e(r,e,t){return F1e(qi(r),e)}D1e(fetch.bind(self));const Q1e=U1e(qs.app),H1e=O1e(Q1e,"callGeminiAPI");function V1e(r){let e=r.trim();const t=e.match(/```json([\s\S]*?)```/);t&&t[1]&&(e=t[1].trim());try{return JSON.parse(e)}catch(n){throw console.error("Failed to parse AI response as JSON:",n),console.error("Problematic JSON string:",e),new Error("AI   JSON  .")}}async function SN(r){console.log(`[Cloud Function Call] Model: (gemini-via-backend), Prompt length: ${r.length} chars`);try{const t=(await H1e({prompt:r})).data;let n;if(typeof t=="string")n=t;else if(t&&typeof t.result=="string")n=t.result;else throw console.error("Cloud Function    :",t),new Error("AI(Cloud Function)     .");return V1e(n)}catch(e){console.error("Firebase Function  :",e);const t=e.message||"   ",n=e.code||"internal";throw new Error(`AI (Cloud Function)  : ${n} - ${t}`)}}async function j1e(r,e,t,n){const i=r.answers.filter(l=>!l.isCorrect);if(i.length===0)return Promise.resolve({strengths:` ${r.score},   .   (${e.classAverage})   ,        .        .`,weaknesses:"   .         .",recommendations:"  ,                . ,            .",incorrect_analysis:[]});const s=new Map,a=new Map;if(n&&n.question_units)n.question_units.forEach(l=>{s.set(l.qNum,l.unit),a.set(l.qNum,l.difficulty)});else throw new Error("   '  '  .    AI    .");const o=i.map(l=>({qNum:l.qNum,difficulty:a.get(l.qNum)||" "})),A=`
            .         .   , ,    ,      .   ,    .   ''     ,   .

        ** :**
        - : ${r.score}
        -   : ${e.classAverage} 

        **   ( ):**
        ${JSON.stringify(n,null,2)}

        **   (AI   ):**
        ${JSON.stringify(o,null,2)}
        
        **   JSON  .     :**
        {
            "strengths": "  ",
            "weaknesses": "  ",
            "recommendations": "  ",
            "incorrect_analysis": [
                {
                    "qNum": 12,
                    "unit": " ",
                    "analysis_point": "   ",
                    "solution": "         "
                }
            ]
        }
    `;return SN(A)}async function Y$(r){const e=[];if(r.answerRates.forEach((n,i)=>{n<=40&&e.push({qNum:i+1,rate:100-n})}),e.sort((n,i)=>i.rate-n.rate),e.length===0)return Promise.resolve({summary:"    ...",common_weaknesses:"    ...",recommendations:"   ...",question_analysis:[]});const t=`
            .         .        ,     .   ,    .

        **  :**
        -   : ${r.classAverage} 
        -   : ${r.questionCount} 
        
        **   (PDF ):**
        ${r.pdfInfo.fullText.substring(0,8e3)}
        
        **    ( 40% ):**
        ${JSON.stringify(e,null,2)}

        **   JSON  .     :**
        {
            "summary": "  ",
            "common_weaknesses": "   ",
            "recommendations": "    ",
            "question_analysis": [
                {
                    "qNum": 18,
                    "unit": " ",
                    "analysis_point": "      ",
                    "solution": "    ,      ."
                }
            ]
        }
    `;return SN(t)}async function J$(r,e){const t={MID_3:[" 01:  "," 02:    "," 05:   "," 08:   "," 10:  "," 15:  "],HIGH_1_1:[" 01:   "," 03:  "," 05: "," 08:    "," 12:    "],HIGH_1_2:[" 01:    "," 05:     "," 08: x, y    "," 10:  "," 15: "],HIGH_1_MIXED:[" 01:    "," 03: "," 08: x, y    "," 12:    "," 15: "]},i=(t[e]||t.HIGH_1_MIXED).map(a=>`- "${a}"`).join(`
`),s=`
           . 1 ${r.questionCount}    **(1)  ' '** **(2)**  .

        **   (PDF ):**
        ${r.pdfInfo.fullText.substring(0,15e3)}

        ** :**
          , RPM    **  '(unit)'** **'(difficulty)'** JSON  .
        
        [ ]
        -  ('')   .
        -   "A", "B-", "B0", "B+", "C" 5 .
        - (A =  , B0 = , C =  )
        - '', '', ''  .
        
        [  - ]
        ${i}

        [  - ]
        - "A" (  ,  )
        - "B0" ( ,  )
        - "C" (  ,  )

        **   JSON  .     :**
        {
            "question_units": [
                { "qNum": 1, "unit": " 01: ...", "difficulty": "A" },
                { "qNum": 2, "unit": " 02: ...", "difficulty": "B-" },
                { "qNum": ${r.questionCount}, "unit": "...", "difficulty": "C" }
            ]
        }
    `;return SN(s)}let K1e=class{constructor(e){De(this,"value");De(this,"next");this.value=e}};var cA,eg,tg;class z1e{constructor(){X(this,cA);X(this,eg);X(this,tg);this.clear()}enqueue(e){const t=new K1e(e);g(this,cA)?(g(this,eg).next=t,V(this,eg,t)):(V(this,cA,t),V(this,eg,t)),Rs(this,tg)._++}dequeue(){const e=g(this,cA);if(e)return V(this,cA,g(this,cA).next),Rs(this,tg)._--,e.value}peek(){if(g(this,cA))return g(this,cA).value}clear(){V(this,cA,void 0),V(this,eg,void 0),V(this,tg,0)}get size(){return g(this,tg)}*[Symbol.iterator](){let e=g(this,cA);for(;e;)yield e.value,e=e.next}*drain(){for(;g(this,cA);)yield this.dequeue()}}cA=new WeakMap,eg=new WeakMap,tg=new WeakMap;function W1e(r){V6(r);const e=new z1e;let t=0;const n=()=>{t<r&&e.size>0&&(t++,e.dequeue()())},i=()=>{t--,n()},s=async(A,l,c)=>{const u=(async()=>A(...c))();l(u);try{await u}catch{}i()},a=(A,l,c)=>{new Promise(u=>{e.enqueue(u)}).then(s.bind(void 0,A,l,c)),t<r&&n()},o=(A,...l)=>new Promise(c=>{a(A,c,l)});return Object.defineProperties(o,{activeCount:{get:()=>t},pendingCount:{get:()=>e.size},clearQueue:{value(){e.clear()}},concurrency:{get:()=>r,set(A){V6(A),r=A,queueMicrotask(()=>{for(;t<r&&e.size>0;)n()})}},map:{async value(A,l){const c=Array.from(A,(u,h)=>this(l,u,h));return Promise.all(c)}}}),o}function V6(r){if(!((Number.isInteger(r)||r===Number.POSITIVE_INFINITY)&&r>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up")}const G1e=W1e(5);async function $1e(r,e,t,n,i){const{pdf:s,spreadsheet:a}=e;n(`'${r}'   ...`);const o=await q$(s),A=a.name.endsWith(".csv")?await m1e(a):await v1e(a),l=CN(A),c={pdfInfo:{fileName:s.name,fullText:o},classAverage:l.classAverage,questionCount:l.questionCount,answerRates:l.answerRates};console.log(`[${r}] Step 1/2:   (, )  ...`),n(`'${r}' AI   ... (1/2)`);const[u,h]=await Promise.all([Y$(c),J$(c,i)]),f={pdfInfo:c.pdfInfo,aiOverallAnalysis:u,questionUnitMap:h};if(!h||!h.question_units)throw new Error(`'${r}' - (unitMap)  . AI  .`);return console.log(`[${r}] Step 2/2:   .`),{studentData:l,commonData:f}}async function q1e(r,e,t,n,i,s){i(`'${r}' PDF     ...`);const a=await q$(e),o=CN(t),A={pdfInfo:{fileName:e.name,fullText:a},classAverage:o.classAverage,questionCount:o.questionCount,answerRates:o.answerRates};console.log(`[${r}] Step 1/2:   (, )  ...`),i(`'${r}' AI   ... (1/2)`);const[l,c]=await Promise.all([Y$(A),J$(A,s)]),u={pdfInfo:A.pdfInfo,aiOverallAnalysis:l,questionUnitMap:c};if(!c||!c.question_units)throw new Error(`'${r}' - (unitMap)  . AI  .`);return console.log(`[${r}] Step 2/2:   .`),{studentData:o,commonData:u}}const X1e=()=>{const{setProcessing:r,setErrorMessage:e,setReportSummaries:t,setCurrentPage:n,uploadDate:i,setSelectedDate:s,currentTeacher:a,selectedFiles:o,setSelectedFiles:A}=ec(),l=Kt.useRef(null),c=f=>{f.target.files&&(A(Array.from(f.target.files)),e(""))},u=f=>{f&&(A(Array.from(f)),e(""))},h=Kt.useCallback(async(f,d,p)=>{if(!a){e(" .    .");return}if(!i){e("   .");return}const v=o.find(x=>x.name.toLowerCase().endsWith(".pdf"));if(!v){e("PDF     . ()");return}r(!0);const m=[];try{if(f==="file"){e("  ...");const x=y1e(o),b=Object.keys(x);if(b.length===0)throw new Error(" (PDF 1 +  1)   .   .");const T=b.map(P=>G1e(async()=>{console.log(`--- [${P}] AI    ---`);const{studentData:B,commonData:E}=await $1e(P,x[P],i,e,p);e(`'${P}'  ! DB  ...`);const _=await pO(P,i,B,E);return console.log(`--- [${P}] AI      ---`),{id:_,className:P,date:i,studentCount:B.studentCount}}));(await Promise.all(T)).forEach(P=>{P&&m.push(P)})}else{const{className:x,students:b}=d;if(!x||b.length===0)throw new Error("' '    1    .");console.log(`--- [${x}] ( ) AI    ---`);const{studentData:T,commonData:R}=await q1e(x,v,b,i,e,p);e(`'${x}'  ! DB  ...`);const P=await pO(x,i,T,R);console.log(`--- [${x}] ( ) AI      ---`),m.push({id:P,className:x,date:i,studentCount:T.studentCount})}e("  !"),t(x=>[...x,...m]),e(""),s(i),n("page2")}catch(x){console.error("   :",x),e(`  : ${x.message}.`)}finally{r(!1),f==="file"&&(A([]),l.current&&(l.current.value=""))}},[a,i,o,r,e,t,n,s,A]);return{fileInputRef:l,selectedFiles:o,handleFileChange:c,handleFileProcess:h,handleFileDrop:u}};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function gb(r){return r+.5|0}const hd=(r,e,t)=>Math.max(Math.min(r,t),e);function yy(r){return hd(gb(r*2.55),0,255)}function Dd(r){return hd(gb(r*255),0,255)}function Du(r){return hd(gb(r/2.55)/100,0,1)}function j6(r){return hd(gb(r*100),0,100)}const NA={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},iL=[..."0123456789ABCDEF"],Y1e=r=>iL[r&15],J1e=r=>iL[(r&240)>>4]+iL[r&15],yE=r=>(r&240)>>4===(r&15),Z1e=r=>yE(r.r)&&yE(r.g)&&yE(r.b)&&yE(r.a);function eve(r){var e=r.length,t;return r[0]==="#"&&(e===4||e===5?t={r:255&NA[r[1]]*17,g:255&NA[r[2]]*17,b:255&NA[r[3]]*17,a:e===5?NA[r[4]]*17:255}:(e===7||e===9)&&(t={r:NA[r[1]]<<4|NA[r[2]],g:NA[r[3]]<<4|NA[r[4]],b:NA[r[5]]<<4|NA[r[6]],a:e===9?NA[r[7]]<<4|NA[r[8]]:255})),t}const tve=(r,e)=>r<255?e(r):"";function rve(r){var e=Z1e(r)?Y1e:J1e;return r?"#"+e(r.r)+e(r.g)+e(r.b)+tve(r.a,e):void 0}const nve=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Z$(r,e,t){const n=e*Math.min(t,1-t),i=(s,a=(s+r/30)%12)=>t-n*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function ive(r,e,t){const n=(i,s=(i+r/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function sve(r,e,t){const n=Z$(r,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)n[i]*=1-e-t,n[i]+=e;return n}function ave(r,e,t,n,i){return r===i?(e-t)/n+(e<t?6:0):e===i?(t-r)/n+2:(r-e)/n+4}function TN(r){const t=r.r/255,n=r.g/255,i=r.b/255,s=Math.max(t,n,i),a=Math.min(t,n,i),o=(s+a)/2;let A,l,c;return s!==a&&(c=s-a,l=o>.5?c/(2-s-a):c/(s+a),A=ave(t,n,i,c,s),A=A*60+.5),[A|0,l||0,o]}function FN(r,e,t,n){return(Array.isArray(e)?r(e[0],e[1],e[2]):r(e,t,n)).map(Dd)}function IN(r,e,t){return FN(Z$,r,e,t)}function ove(r,e,t){return FN(sve,r,e,t)}function Ave(r,e,t){return FN(ive,r,e,t)}function eq(r){return(r%360+360)%360}function lve(r){const e=nve.exec(r);let t=255,n;if(!e)return;e[5]!==n&&(t=e[6]?yy(+e[5]):Dd(+e[5]));const i=eq(+e[2]),s=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?n=ove(i,s,a):e[1]==="hsv"?n=Ave(i,s,a):n=IN(i,s,a),{r:n[0],g:n[1],b:n[2],a:t}}function cve(r,e){var t=TN(r);t[0]=eq(t[0]+e),t=IN(t),r.r=t[0],r.g=t[1],r.b=t[2]}function uve(r){if(!r)return;const e=TN(r),t=e[0],n=j6(e[1]),i=j6(e[2]);return r.a<255?`hsla(${t}, ${n}%, ${i}%, ${Du(r.a)})`:`hsl(${t}, ${n}%, ${i}%)`}const K6={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},z6={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function hve(){const r={},e=Object.keys(z6),t=Object.keys(K6);let n,i,s,a,o;for(n=0;n<e.length;n++){for(a=o=e[n],i=0;i<t.length;i++)s=t[i],o=o.replace(s,K6[s]);s=parseInt(z6[a],16),r[o]=[s>>16&255,s>>8&255,s&255]}return r}let xE;function fve(r){xE||(xE=hve(),xE.transparent=[0,0,0,0]);const e=xE[r.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const dve=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function pve(r){const e=dve.exec(r);let t=255,n,i,s;if(e){if(e[7]!==n){const a=+e[7];t=e[8]?yy(a):hd(a*255,0,255)}return n=+e[1],i=+e[3],s=+e[5],n=255&(e[2]?yy(n):hd(n,0,255)),i=255&(e[4]?yy(i):hd(i,0,255)),s=255&(e[6]?yy(s):hd(s,0,255)),{r:n,g:i,b:s,a:t}}}function gve(r){return r&&(r.a<255?`rgba(${r.r}, ${r.g}, ${r.b}, ${Du(r.a)})`:`rgb(${r.r}, ${r.g}, ${r.b})`)}const s4=r=>r<=.0031308?r*12.92:Math.pow(r,1/2.4)*1.055-.055,tm=r=>r<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4);function mve(r,e,t){const n=tm(Du(r.r)),i=tm(Du(r.g)),s=tm(Du(r.b));return{r:Dd(s4(n+t*(tm(Du(e.r))-n))),g:Dd(s4(i+t*(tm(Du(e.g))-i))),b:Dd(s4(s+t*(tm(Du(e.b))-s))),a:r.a+t*(e.a-r.a)}}function _E(r,e,t){if(r){let n=TN(r);n[e]=Math.max(0,Math.min(n[e]+n[e]*t,e===0?360:1)),n=IN(n),r.r=n[0],r.g=n[1],r.b=n[2]}}function tq(r,e){return r&&Object.assign(e||{},r)}function W6(r){var e={r:0,g:0,b:0,a:255};return Array.isArray(r)?r.length>=3&&(e={r:r[0],g:r[1],b:r[2],a:255},r.length>3&&(e.a=Dd(r[3]))):(e=tq(r,{r:0,g:0,b:0,a:1}),e.a=Dd(e.a)),e}function vve(r){return r.charAt(0)==="r"?pve(r):lve(r)}class rx{constructor(e){if(e instanceof rx)return e;const t=typeof e;let n;t==="object"?n=W6(e):t==="string"&&(n=eve(e)||fve(e)||vve(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=tq(this._rgb);return e&&(e.a=Du(e.a)),e}set rgb(e){this._rgb=W6(e)}rgbString(){return this._valid?gve(this._rgb):void 0}hexString(){return this._valid?rve(this._rgb):void 0}hslString(){return this._valid?uve(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,i=e.rgb;let s;const a=t===s?.5:t,o=2*a-1,A=n.a-i.a,l=((o*A===-1?o:(o+A)/(1+o*A))+1)/2;s=1-l,n.r=255&l*n.r+s*i.r+.5,n.g=255&l*n.g+s*i.g+.5,n.b=255&l*n.b+s*i.b+.5,n.a=a*n.a+(1-a)*i.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=mve(this._rgb,e._rgb,t)),this}clone(){return new rx(this.rgb)}alpha(e){return this._rgb.a=Dd(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=gb(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return _E(this._rgb,2,e),this}darken(e){return _E(this._rgb,2,-e),this}saturate(e){return _E(this._rgb,1,e),this}desaturate(e){return _E(this._rgb,1,-e),this}rotate(e){return cve(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function xu(){}const wve=(()=>{let r=0;return()=>r++})();function Sr(r){return r==null}function qn(r){if(Array.isArray&&Array.isArray(r))return!0;const e=Object.prototype.toString.call(r);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Lr(r){return r!==null&&Object.prototype.toString.call(r)==="[object Object]"}function wi(r){return(typeof r=="number"||r instanceof Number)&&isFinite(+r)}function Yo(r,e){return wi(r)?r:e}function cr(r,e){return typeof r>"u"?e:r}const yve=(r,e)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100:+r/e,rq=(r,e)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100*e:+r;function kn(r,e,t){if(r&&typeof r.call=="function")return r.apply(t,e)}function un(r,e,t,n){let i,s,a;if(qn(r))for(s=r.length,i=0;i<s;i++)e.call(t,r[i],i);else if(Lr(r))for(a=Object.keys(r),s=a.length,i=0;i<s;i++)e.call(t,r[a[i]],a[i])}function RS(r,e){let t,n,i,s;if(!r||!e||r.length!==e.length)return!1;for(t=0,n=r.length;t<n;++t)if(i=r[t],s=e[t],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function NS(r){if(qn(r))return r.map(NS);if(Lr(r)){const e=Object.create(null),t=Object.keys(r),n=t.length;let i=0;for(;i<n;++i)e[t[i]]=NS(r[t[i]]);return e}return r}function nq(r){return["__proto__","prototype","constructor"].indexOf(r)===-1}function xve(r,e,t,n){if(!nq(r))return;const i=e[r],s=t[r];Lr(i)&&Lr(s)?nx(i,s,n):e[r]=NS(s)}function nx(r,e,t){const n=qn(e)?e:[e],i=n.length;if(!Lr(r))return r;t=t||{};const s=t.merger||xve;let a;for(let o=0;o<i;++o){if(a=n[o],!Lr(a))continue;const A=Object.keys(a);for(let l=0,c=A.length;l<c;++l)s(A[l],r,a,t)}return r}function n2(r,e){return nx(r,e,{merger:_ve})}function _ve(r,e,t){if(!nq(r))return;const n=e[r],i=t[r];Lr(n)&&Lr(i)?n2(n,i):Object.prototype.hasOwnProperty.call(e,r)||(e[r]=NS(i))}const G6={"":r=>r,x:r=>r.x,y:r=>r.y};function bve(r){const e=r.split("."),t=[];let n="";for(const i of e)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(t.push(n),n="");return t}function Eve(r){const e=bve(r);return t=>{for(const n of e){if(n==="")break;t=t&&t[n]}return t}}function Xd(r,e){return(G6[e]||(G6[e]=Eve(e)))(r)}function kN(r){return r.charAt(0).toUpperCase()+r.slice(1)}const ix=r=>typeof r<"u",Yd=r=>typeof r=="function",$6=(r,e)=>{if(r.size!==e.size)return!1;for(const t of r)if(!e.has(t))return!1;return!0};function Cve(r){return r.type==="mouseup"||r.type==="click"||r.type==="contextmenu"}const Xr=Math.PI,Hn=2*Xr,Bve=Hn+Xr,DS=Number.POSITIVE_INFINITY,Sve=Xr/180,Ni=Xr/2,b0=Xr/4,q6=Xr*2/3,fd=Math.log10,Zc=Math.sign;function i2(r,e,t){return Math.abs(r-e)<t}function X6(r){const e=Math.round(r);r=i2(r,e,r/1e3)?e:r;const t=Math.pow(10,Math.floor(fd(r))),n=r/t;return(n<=1?1:n<=2?2:n<=5?5:10)*t}function Tve(r){const e=[],t=Math.sqrt(r);let n;for(n=1;n<t;n++)r%n===0&&(e.push(n),e.push(r/n));return t===(t|0)&&e.push(t),e.sort((i,s)=>i-s).pop(),e}function Fve(r){return typeof r=="symbol"||typeof r=="object"&&r!==null&&!(Symbol.toPrimitive in r||"toString"in r||"valueOf"in r)}function Dv(r){return!Fve(r)&&!isNaN(parseFloat(r))&&isFinite(r)}function Ive(r,e){const t=Math.round(r);return t-e<=r&&t+e>=r}function iq(r,e,t){let n,i,s;for(n=0,i=r.length;n<i;n++)s=r[n][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Vl(r){return r*(Xr/180)}function LN(r){return r*(180/Xr)}function Y6(r){if(!wi(r))return;let e=1,t=0;for(;Math.round(r*e)/e!==r;)e*=10,t++;return t}function sq(r,e){const t=e.x-r.x,n=e.y-r.y,i=Math.sqrt(t*t+n*n);let s=Math.atan2(n,t);return s<-.5*Xr&&(s+=Hn),{angle:s,distance:i}}function sL(r,e){return Math.sqrt(Math.pow(e.x-r.x,2)+Math.pow(e.y-r.y,2))}function kve(r,e){return(r-e+Bve)%Hn-Xr}function _a(r){return(r%Hn+Hn)%Hn}function sx(r,e,t,n){const i=_a(r),s=_a(e),a=_a(t),o=_a(s-i),A=_a(a-i),l=_a(i-s),c=_a(i-a);return i===s||i===a||n&&s===a||o>A&&l<c}function Bs(r,e,t){return Math.max(e,Math.min(t,r))}function Lve(r){return Bs(r,-32768,32767)}function mh(r,e,t,n=1e-6){return r>=Math.min(e,t)-n&&r<=Math.max(e,t)+n}function PN(r,e,t){t=t||(a=>r[a]<e);let n=r.length-1,i=0,s;for(;n-i>1;)s=i+n>>1,t(s)?i=s:n=s;return{lo:i,hi:n}}const vh=(r,e,t,n)=>PN(r,t,n?i=>{const s=r[i][e];return s<t||s===t&&r[i+1][e]===t}:i=>r[i][e]<t),Pve=(r,e,t)=>PN(r,t,n=>r[n][e]>=t);function Rve(r,e,t){let n=0,i=r.length;for(;n<i&&r[n]<e;)n++;for(;i>n&&r[i-1]>t;)i--;return n>0||i<r.length?r.slice(n,i):r}const aq=["push","pop","shift","splice","unshift"];function Nve(r,e){if(r._chartjs){r._chartjs.listeners.push(e);return}Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),aq.forEach(t=>{const n="_onData"+kN(t),i=r[t];Object.defineProperty(r,t,{configurable:!0,enumerable:!1,value(...s){const a=i.apply(this,s);return r._chartjs.listeners.forEach(o=>{typeof o[n]=="function"&&o[n](...s)}),a}})})}function J6(r,e){const t=r._chartjs;if(!t)return;const n=t.listeners,i=n.indexOf(e);i!==-1&&n.splice(i,1),!(n.length>0)&&(aq.forEach(s=>{delete r[s]}),delete r._chartjs)}function oq(r){const e=new Set(r);return e.size===r.length?r:Array.from(e)}const Aq=function(){return typeof window>"u"?function(r){return r()}:window.requestAnimationFrame}();function lq(r,e){let t=[],n=!1;return function(...i){t=i,n||(n=!0,Aq.call(window,()=>{n=!1,r.apply(e,t)}))}}function Dve(r,e){let t;return function(...n){return e?(clearTimeout(t),t=setTimeout(r,e,n)):r.apply(this,n),e}}const RN=r=>r==="start"?"left":r==="end"?"right":"center",va=(r,e,t)=>r==="start"?e:r==="end"?t:(e+t)/2,Uve=(r,e,t,n)=>r===(n?"left":"right")?t:r==="center"?(e+t)/2:e;function cq(r,e,t){const n=e.length;let i=0,s=n;if(r._sorted){const{iScale:a,vScale:o,_parsed:A}=r,l=r.dataset&&r.dataset.options?r.dataset.options.spanGaps:null,c=a.axis,{min:u,max:h,minDefined:f,maxDefined:d}=a.getUserBounds();if(f){if(i=Math.min(vh(A,c,u).lo,t?n:vh(e,c,a.getPixelForValue(u)).lo),l){const p=A.slice(0,i+1).reverse().findIndex(v=>!Sr(v[o.axis]));i-=Math.max(0,p)}i=Bs(i,0,n-1)}if(d){let p=Math.max(vh(A,a.axis,h,!0).hi+1,t?0:vh(e,c,a.getPixelForValue(h),!0).hi+1);if(l){const v=A.slice(p-1).findIndex(m=>!Sr(m[o.axis]));p+=Math.max(0,v)}s=Bs(p,i,n)-i}else s=n-i}return{start:i,count:s}}function uq(r){const{xScale:e,yScale:t,_scaleRanges:n}=r,i={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!n)return r._scaleRanges=i,!0;const s=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==t.min||n.ymax!==t.max;return Object.assign(n,i),s}const bE=r=>r===0||r===1,Z6=(r,e,t)=>-(Math.pow(2,10*(r-=1))*Math.sin((r-e)*Hn/t)),e8=(r,e,t)=>Math.pow(2,-10*r)*Math.sin((r-e)*Hn/t)+1,s2={linear:r=>r,easeInQuad:r=>r*r,easeOutQuad:r=>-r*(r-2),easeInOutQuad:r=>(r/=.5)<1?.5*r*r:-.5*(--r*(r-2)-1),easeInCubic:r=>r*r*r,easeOutCubic:r=>(r-=1)*r*r+1,easeInOutCubic:r=>(r/=.5)<1?.5*r*r*r:.5*((r-=2)*r*r+2),easeInQuart:r=>r*r*r*r,easeOutQuart:r=>-((r-=1)*r*r*r-1),easeInOutQuart:r=>(r/=.5)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2),easeInQuint:r=>r*r*r*r*r,easeOutQuint:r=>(r-=1)*r*r*r*r+1,easeInOutQuint:r=>(r/=.5)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2),easeInSine:r=>-Math.cos(r*Ni)+1,easeOutSine:r=>Math.sin(r*Ni),easeInOutSine:r=>-.5*(Math.cos(Xr*r)-1),easeInExpo:r=>r===0?0:Math.pow(2,10*(r-1)),easeOutExpo:r=>r===1?1:-Math.pow(2,-10*r)+1,easeInOutExpo:r=>bE(r)?r:r<.5?.5*Math.pow(2,10*(r*2-1)):.5*(-Math.pow(2,-10*(r*2-1))+2),easeInCirc:r=>r>=1?r:-(Math.sqrt(1-r*r)-1),easeOutCirc:r=>Math.sqrt(1-(r-=1)*r),easeInOutCirc:r=>(r/=.5)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1),easeInElastic:r=>bE(r)?r:Z6(r,.075,.3),easeOutElastic:r=>bE(r)?r:e8(r,.075,.3),easeInOutElastic(r){return bE(r)?r:r<.5?.5*Z6(r*2,.1125,.45):.5+.5*e8(r*2-1,.1125,.45)},easeInBack(r){return r*r*((1.70158+1)*r-1.70158)},easeOutBack(r){return(r-=1)*r*((1.70158+1)*r+1.70158)+1},easeInOutBack(r){let e=1.70158;return(r/=.5)<1?.5*(r*r*(((e*=1.525)+1)*r-e)):.5*((r-=2)*r*(((e*=1.525)+1)*r+e)+2)},easeInBounce:r=>1-s2.easeOutBounce(1-r),easeOutBounce(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},easeInOutBounce:r=>r<.5?s2.easeInBounce(r*2)*.5:s2.easeOutBounce(r*2-1)*.5+.5};function NN(r){if(r&&typeof r=="object"){const e=r.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function t8(r){return NN(r)?r:new rx(r)}function a4(r){return NN(r)?r:new rx(r).saturate(.5).darken(.1).hexString()}const Mve=["x","y","borderWidth","radius","tension"],Ove=["color","borderColor","backgroundColor"];function Qve(r){r.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),r.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),r.set("animations",{colors:{type:"color",properties:Ove},numbers:{type:"number",properties:Mve}}),r.describe("animations",{_fallback:"animation"}),r.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Hve(r){r.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const r8=new Map;function Vve(r,e){e=e||{};const t=r+JSON.stringify(e);let n=r8.get(t);return n||(n=new Intl.NumberFormat(r,e),r8.set(t,n)),n}function mb(r,e,t){return Vve(e,t).format(r)}const hq={values(r){return qn(r)?r:""+r},numeric(r,e,t){if(r===0)return"0";const n=this.chart.options.locale;let i,s=r;if(t.length>1){const l=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(l<1e-4||l>1e15)&&(i="scientific"),s=jve(r,t)}const a=fd(Math.abs(s)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),A={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(A,this.options.ticks.format),mb(r,n,A)},logarithmic(r,e,t){if(r===0)return"0";const n=t[e].significand||r/Math.pow(10,Math.floor(fd(r)));return[1,2,3,5,10,15].includes(n)||e>.8*t.length?hq.numeric.call(this,r,e,t):""}};function jve(r,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&r!==Math.floor(r)&&(t=r-Math.floor(r)),t}var yT={formatters:hq};function Kve(r){r.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:yT.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),r.route("scale.ticks","color","","color"),r.route("scale.grid","color","","borderColor"),r.route("scale.border","color","","borderColor"),r.route("scale.title","color","","color"),r.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),r.describe("scales",{_fallback:"scale"}),r.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Tg=Object.create(null),aL=Object.create(null);function a2(r,e){if(!e)return r;const t=e.split(".");for(let n=0,i=t.length;n<i;++n){const s=t[n];r=r[s]||(r[s]=Object.create(null))}return r}function o4(r,e,t){return typeof e=="string"?nx(a2(r,e),t):nx(a2(r,""),e)}class zve{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>a4(i.backgroundColor),this.hoverBorderColor=(n,i)=>a4(i.borderColor),this.hoverColor=(n,i)=>a4(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return o4(this,e,t)}get(e){return a2(this,e)}describe(e,t){return o4(aL,e,t)}override(e,t){return o4(Tg,e,t)}route(e,t,n,i){const s=a2(this,e),a=a2(this,n),o="_"+t;Object.defineProperties(s,{[o]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const A=this[o],l=a[i];return Lr(A)?Object.assign({},l,A):cr(A,l)},set(A){this[o]=A}}})}apply(e){e.forEach(t=>t(this))}}var Xn=new zve({_scriptable:r=>!r.startsWith("on"),_indexable:r=>r!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Qve,Hve,Kve]);function Wve(r){return!r||Sr(r.size)||Sr(r.family)?null:(r.style?r.style+" ":"")+(r.weight?r.weight+" ":"")+r.size+"px "+r.family}function US(r,e,t,n,i){let s=e[i];return s||(s=e[i]=r.measureText(i).width,t.push(i)),s>n&&(n=s),n}function Gve(r,e,t,n){n=n||{};let i=n.data=n.data||{},s=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(i=n.data={},s=n.garbageCollect=[],n.font=e),r.save(),r.font=e;let a=0;const o=t.length;let A,l,c,u,h;for(A=0;A<o;A++)if(u=t[A],u!=null&&!qn(u))a=US(r,i,s,a,u);else if(qn(u))for(l=0,c=u.length;l<c;l++)h=u[l],h!=null&&!qn(h)&&(a=US(r,i,s,a,h));r.restore();const f=s.length/2;if(f>t.length){for(A=0;A<f;A++)delete i[s[A]];s.splice(0,f)}return a}function E0(r,e,t){const n=r.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*n)/n+i}function n8(r,e){!e&&!r||(e=e||r.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,r.width,r.height),e.restore())}function oL(r,e,t,n){fq(r,e,t,n,null)}function fq(r,e,t,n,i){let s,a,o,A,l,c,u,h;const f=e.pointStyle,d=e.rotation,p=e.radius;let v=(d||0)*Sve;if(f&&typeof f=="object"&&(s=f.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){r.save(),r.translate(t,n),r.rotate(v),r.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),r.restore();return}if(!(isNaN(p)||p<=0)){switch(r.beginPath(),f){default:i?r.ellipse(t,n,i/2,p,0,0,Hn):r.arc(t,n,p,0,Hn),r.closePath();break;case"triangle":c=i?i/2:p,r.moveTo(t+Math.sin(v)*c,n-Math.cos(v)*p),v+=q6,r.lineTo(t+Math.sin(v)*c,n-Math.cos(v)*p),v+=q6,r.lineTo(t+Math.sin(v)*c,n-Math.cos(v)*p),r.closePath();break;case"rectRounded":l=p*.516,A=p-l,a=Math.cos(v+b0)*A,u=Math.cos(v+b0)*(i?i/2-l:A),o=Math.sin(v+b0)*A,h=Math.sin(v+b0)*(i?i/2-l:A),r.arc(t-u,n-o,l,v-Xr,v-Ni),r.arc(t+h,n-a,l,v-Ni,v),r.arc(t+u,n+o,l,v,v+Ni),r.arc(t-h,n+a,l,v+Ni,v+Xr),r.closePath();break;case"rect":if(!d){A=Math.SQRT1_2*p,c=i?i/2:A,r.rect(t-c,n-A,2*c,2*A);break}v+=b0;case"rectRot":u=Math.cos(v)*(i?i/2:p),a=Math.cos(v)*p,o=Math.sin(v)*p,h=Math.sin(v)*(i?i/2:p),r.moveTo(t-u,n-o),r.lineTo(t+h,n-a),r.lineTo(t+u,n+o),r.lineTo(t-h,n+a),r.closePath();break;case"crossRot":v+=b0;case"cross":u=Math.cos(v)*(i?i/2:p),a=Math.cos(v)*p,o=Math.sin(v)*p,h=Math.sin(v)*(i?i/2:p),r.moveTo(t-u,n-o),r.lineTo(t+u,n+o),r.moveTo(t+h,n-a),r.lineTo(t-h,n+a);break;case"star":u=Math.cos(v)*(i?i/2:p),a=Math.cos(v)*p,o=Math.sin(v)*p,h=Math.sin(v)*(i?i/2:p),r.moveTo(t-u,n-o),r.lineTo(t+u,n+o),r.moveTo(t+h,n-a),r.lineTo(t-h,n+a),v+=b0,u=Math.cos(v)*(i?i/2:p),a=Math.cos(v)*p,o=Math.sin(v)*p,h=Math.sin(v)*(i?i/2:p),r.moveTo(t-u,n-o),r.lineTo(t+u,n+o),r.moveTo(t+h,n-a),r.lineTo(t-h,n+a);break;case"line":a=i?i/2:Math.cos(v)*p,o=Math.sin(v)*p,r.moveTo(t-a,n-o),r.lineTo(t+a,n+o);break;case"dash":r.moveTo(t,n),r.lineTo(t+Math.cos(v)*(i?i/2:p),n+Math.sin(v)*p);break;case!1:r.closePath();break}r.fill(),e.borderWidth>0&&r.stroke()}}function wh(r,e,t){return t=t||.5,!e||r&&r.x>e.left-t&&r.x<e.right+t&&r.y>e.top-t&&r.y<e.bottom+t}function xT(r,e){r.save(),r.beginPath(),r.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),r.clip()}function _T(r){r.restore()}function $ve(r,e,t,n,i){if(!e)return r.lineTo(t.x,t.y);if(i==="middle"){const s=(e.x+t.x)/2;r.lineTo(s,e.y),r.lineTo(s,t.y)}else i==="after"!=!!n?r.lineTo(e.x,t.y):r.lineTo(t.x,e.y);r.lineTo(t.x,t.y)}function qve(r,e,t,n){if(!e)return r.lineTo(t.x,t.y);r.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?t.cp2x:t.cp1x,n?t.cp2y:t.cp1y,t.x,t.y)}function Xve(r,e){e.translation&&r.translate(e.translation[0],e.translation[1]),Sr(e.rotation)||r.rotate(e.rotation),e.color&&(r.fillStyle=e.color),e.textAlign&&(r.textAlign=e.textAlign),e.textBaseline&&(r.textBaseline=e.textBaseline)}function Yve(r,e,t,n,i){if(i.strikethrough||i.underline){const s=r.measureText(n),a=e-s.actualBoundingBoxLeft,o=e+s.actualBoundingBoxRight,A=t-s.actualBoundingBoxAscent,l=t+s.actualBoundingBoxDescent,c=i.strikethrough?(A+l)/2:l;r.strokeStyle=r.fillStyle,r.beginPath(),r.lineWidth=i.decorationWidth||2,r.moveTo(a,c),r.lineTo(o,c),r.stroke()}}function Jve(r,e){const t=r.fillStyle;r.fillStyle=e.color,r.fillRect(e.left,e.top,e.width,e.height),r.fillStyle=t}function Fg(r,e,t,n,i,s={}){const a=qn(e)?e:[e],o=s.strokeWidth>0&&s.strokeColor!=="";let A,l;for(r.save(),r.font=i.string,Xve(r,s),A=0;A<a.length;++A)l=a[A],s.backdrop&&Jve(r,s.backdrop),o&&(s.strokeColor&&(r.strokeStyle=s.strokeColor),Sr(s.strokeWidth)||(r.lineWidth=s.strokeWidth),r.strokeText(l,t,n,s.maxWidth)),r.fillText(l,t,n,s.maxWidth),Yve(r,t,n,l,s),n+=Number(i.lineHeight);r.restore()}function ax(r,e){const{x:t,y:n,w:i,h:s,radius:a}=e;r.arc(t+a.topLeft,n+a.topLeft,a.topLeft,1.5*Xr,Xr,!0),r.lineTo(t,n+s-a.bottomLeft),r.arc(t+a.bottomLeft,n+s-a.bottomLeft,a.bottomLeft,Xr,Ni,!0),r.lineTo(t+i-a.bottomRight,n+s),r.arc(t+i-a.bottomRight,n+s-a.bottomRight,a.bottomRight,Ni,0,!0),r.lineTo(t+i,n+a.topRight),r.arc(t+i-a.topRight,n+a.topRight,a.topRight,0,-Ni,!0),r.lineTo(t+a.topLeft,n)}const Zve=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,ewe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function twe(r,e){const t=(""+r).match(Zve);if(!t||t[1]==="normal")return e*1.2;switch(r=+t[2],t[3]){case"px":return r;case"%":r/=100;break}return e*r}const rwe=r=>+r||0;function DN(r,e){const t={},n=Lr(e),i=n?Object.keys(e):e,s=Lr(r)?n?a=>cr(r[a],r[e[a]]):a=>r[a]:()=>r;for(const a of i)t[a]=rwe(s(a));return t}function dq(r){return DN(r,{top:"y",right:"x",bottom:"y",left:"x"})}function og(r){return DN(r,["topLeft","topRight","bottomLeft","bottomRight"])}function Ra(r){const e=dq(r);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ls(r,e){r=r||{},e=e||Xn.font;let t=cr(r.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let n=cr(r.style,e.style);n&&!(""+n).match(ewe)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:cr(r.family,e.family),lineHeight:twe(cr(r.lineHeight,e.lineHeight),t),size:t,style:n,weight:cr(r.weight,e.weight),string:""};return i.string=Wve(i),i}function xy(r,e,t,n){let i,s,a;for(i=0,s=r.length;i<s;++i)if(a=r[i],a!==void 0&&a!==void 0)return a}function nwe(r,e,t){const{min:n,max:i}=r,s=rq(e,(i-n)/2),a=(o,A)=>t&&o===0?0:o+A;return{min:a(n,-Math.abs(s)),max:a(i,s)}}function A0(r,e){return Object.assign(Object.create(r),e)}function UN(r,e=[""],t,n,i=()=>r[0]){const s=t||r;typeof n>"u"&&(n=vq("_fallback",r));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:r,_rootScopes:s,_fallback:n,_getTarget:i,override:o=>UN([o,...r],e,s,n)};return new Proxy(a,{deleteProperty(o,A){return delete o[A],delete o._keys,delete r[0][A],!0},get(o,A){return gq(o,A,()=>uwe(A,e,r,o))},getOwnPropertyDescriptor(o,A){return Reflect.getOwnPropertyDescriptor(o._scopes[0],A)},getPrototypeOf(){return Reflect.getPrototypeOf(r[0])},has(o,A){return s8(o).includes(A)},ownKeys(o){return s8(o)},set(o,A,l){const c=o._storage||(o._storage=i());return o[A]=c[A]=l,delete o._keys,!0}})}function Uv(r,e,t,n){const i={_cacheable:!1,_proxy:r,_context:e,_subProxy:t,_stack:new Set,_descriptors:pq(r,n),setContext:s=>Uv(r,s,t,n),override:s=>Uv(r.override(s),e,t,n)};return new Proxy(i,{deleteProperty(s,a){return delete s[a],delete r[a],!0},get(s,a,o){return gq(s,a,()=>swe(s,a,o))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(r,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(r,a)},getPrototypeOf(){return Reflect.getPrototypeOf(r)},has(s,a){return Reflect.has(r,a)},ownKeys(){return Reflect.ownKeys(r)},set(s,a,o){return r[a]=o,delete s[a],!0}})}function pq(r,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:n=e.indexable,_allKeys:i=e.allKeys}=r;return{allKeys:i,scriptable:t,indexable:n,isScriptable:Yd(t)?t:()=>t,isIndexable:Yd(n)?n:()=>n}}const iwe=(r,e)=>r?r+kN(e):e,MN=(r,e)=>Lr(e)&&r!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function gq(r,e,t){if(Object.prototype.hasOwnProperty.call(r,e)||e==="constructor")return r[e];const n=t();return r[e]=n,n}function swe(r,e,t){const{_proxy:n,_context:i,_subProxy:s,_descriptors:a}=r;let o=n[e];return Yd(o)&&a.isScriptable(e)&&(o=awe(e,o,r,t)),qn(o)&&o.length&&(o=owe(e,o,r,a.isIndexable)),MN(e,o)&&(o=Uv(o,i,s&&s[e],a)),o}function awe(r,e,t,n){const{_proxy:i,_context:s,_subProxy:a,_stack:o}=t;if(o.has(r))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+r);o.add(r);let A=e(s,a||n);return o.delete(r),MN(r,A)&&(A=ON(i._scopes,i,r,A)),A}function owe(r,e,t,n){const{_proxy:i,_context:s,_subProxy:a,_descriptors:o}=t;if(typeof s.index<"u"&&n(r))return e[s.index%e.length];if(Lr(e[0])){const A=e,l=i._scopes.filter(c=>c!==A);e=[];for(const c of A){const u=ON(l,i,r,c);e.push(Uv(u,s,a&&a[r],o))}}return e}function mq(r,e,t){return Yd(r)?r(e,t):r}const Awe=(r,e)=>r===!0?e:typeof r=="string"?Xd(e,r):void 0;function lwe(r,e,t,n,i){for(const s of e){const a=Awe(t,s);if(a){r.add(a);const o=mq(a._fallback,t,i);if(typeof o<"u"&&o!==t&&o!==n)return o}else if(a===!1&&typeof n<"u"&&t!==n)return null}return!1}function ON(r,e,t,n){const i=e._rootScopes,s=mq(e._fallback,t,n),a=[...r,...i],o=new Set;o.add(n);let A=i8(o,a,t,s||t,n);return A===null||typeof s<"u"&&s!==t&&(A=i8(o,a,s,A,n),A===null)?!1:UN(Array.from(o),[""],i,s,()=>cwe(e,t,n))}function i8(r,e,t,n,i){for(;t;)t=lwe(r,e,t,n,i);return t}function cwe(r,e,t){const n=r._getTarget();e in n||(n[e]={});const i=n[e];return qn(i)&&Lr(t)?t:i||{}}function uwe(r,e,t,n){let i;for(const s of e)if(i=vq(iwe(s,r),t),typeof i<"u")return MN(r,i)?ON(t,n,r,i):i}function vq(r,e){for(const t of e){if(!t)continue;const n=t[r];if(typeof n<"u")return n}}function s8(r){let e=r._keys;return e||(e=r._keys=hwe(r._scopes)),e}function hwe(r){const e=new Set;for(const t of r)for(const n of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(n);return Array.from(e)}function wq(r,e,t,n){const{iScale:i}=r,{key:s="r"}=this._parsing,a=new Array(n);let o,A,l,c;for(o=0,A=n;o<A;++o)l=o+t,c=e[l],a[o]={r:i.parse(Xd(c,s),l)};return a}const fwe=Number.EPSILON||1e-14,Mv=(r,e)=>e<r.length&&!r[e].skip&&r[e],yq=r=>r==="x"?"y":"x";function dwe(r,e,t,n){const i=r.skip?e:r,s=e,a=t.skip?e:t,o=sL(s,i),A=sL(a,s);let l=o/(o+A),c=A/(o+A);l=isNaN(l)?0:l,c=isNaN(c)?0:c;const u=n*l,h=n*c;return{previous:{x:s.x-u*(a.x-i.x),y:s.y-u*(a.y-i.y)},next:{x:s.x+h*(a.x-i.x),y:s.y+h*(a.y-i.y)}}}function pwe(r,e,t){const n=r.length;let i,s,a,o,A,l=Mv(r,0);for(let c=0;c<n-1;++c)if(A=l,l=Mv(r,c+1),!(!A||!l)){if(i2(e[c],0,fwe)){t[c]=t[c+1]=0;continue}i=t[c]/e[c],s=t[c+1]/e[c],o=Math.pow(i,2)+Math.pow(s,2),!(o<=9)&&(a=3/Math.sqrt(o),t[c]=i*a*e[c],t[c+1]=s*a*e[c])}}function gwe(r,e,t="x"){const n=yq(t),i=r.length;let s,a,o,A=Mv(r,0);for(let l=0;l<i;++l){if(a=o,o=A,A=Mv(r,l+1),!o)continue;const c=o[t],u=o[n];a&&(s=(c-a[t])/3,o[`cp1${t}`]=c-s,o[`cp1${n}`]=u-s*e[l]),A&&(s=(A[t]-c)/3,o[`cp2${t}`]=c+s,o[`cp2${n}`]=u+s*e[l])}}function mwe(r,e="x"){const t=yq(e),n=r.length,i=Array(n).fill(0),s=Array(n);let a,o,A,l=Mv(r,0);for(a=0;a<n;++a)if(o=A,A=l,l=Mv(r,a+1),!!A){if(l){const c=l[e]-A[e];i[a]=c!==0?(l[t]-A[t])/c:0}s[a]=o?l?Zc(i[a-1])!==Zc(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}pwe(r,i,s),gwe(r,s,e)}function EE(r,e,t){return Math.max(Math.min(r,t),e)}function vwe(r,e){let t,n,i,s,a,o=wh(r[0],e);for(t=0,n=r.length;t<n;++t)a=s,s=o,o=t<n-1&&wh(r[t+1],e),s&&(i=r[t],a&&(i.cp1x=EE(i.cp1x,e.left,e.right),i.cp1y=EE(i.cp1y,e.top,e.bottom)),o&&(i.cp2x=EE(i.cp2x,e.left,e.right),i.cp2y=EE(i.cp2y,e.top,e.bottom)))}function wwe(r,e,t,n,i){let s,a,o,A;if(e.spanGaps&&(r=r.filter(l=>!l.skip)),e.cubicInterpolationMode==="monotone")mwe(r,i);else{let l=n?r[r.length-1]:r[0];for(s=0,a=r.length;s<a;++s)o=r[s],A=dwe(l,o,r[Math.min(s+1,a-(n?0:1))%a],e.tension),o.cp1x=A.previous.x,o.cp1y=A.previous.y,o.cp2x=A.next.x,o.cp2y=A.next.y,l=o}e.capBezierPoints&&vwe(r,t)}function QN(){return typeof window<"u"&&typeof document<"u"}function HN(r){let e=r.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function MS(r,e,t){let n;return typeof r=="string"?(n=parseInt(r,10),r.indexOf("%")!==-1&&(n=n/100*e.parentNode[t])):n=r,n}const bT=r=>r.ownerDocument.defaultView.getComputedStyle(r,null);function ywe(r,e){return bT(r).getPropertyValue(e)}const xwe=["top","right","bottom","left"];function Ag(r,e,t){const n={};t=t?"-"+t:"";for(let i=0;i<4;i++){const s=xwe[i];n[s]=parseFloat(r[e+"-"+s+t])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const _we=(r,e,t)=>(r>0||e>0)&&(!t||!t.shadowRoot);function bwe(r,e){const t=r.touches,n=t&&t.length?t[0]:r,{offsetX:i,offsetY:s}=n;let a=!1,o,A;if(_we(i,s,r.target))o=i,A=s;else{const l=e.getBoundingClientRect();o=n.clientX-l.left,A=n.clientY-l.top,a=!0}return{x:o,y:A,box:a}}function N0(r,e){if("native"in r)return r;const{canvas:t,currentDevicePixelRatio:n}=e,i=bT(t),s=i.boxSizing==="border-box",a=Ag(i,"padding"),o=Ag(i,"border","width"),{x:A,y:l,box:c}=bwe(r,t),u=a.left+(c&&o.left),h=a.top+(c&&o.top);let{width:f,height:d}=e;return s&&(f-=a.width+o.width,d-=a.height+o.height),{x:Math.round((A-u)/f*t.width/n),y:Math.round((l-h)/d*t.height/n)}}function Ewe(r,e,t){let n,i;if(e===void 0||t===void 0){const s=r&&HN(r);if(!s)e=r.clientWidth,t=r.clientHeight;else{const a=s.getBoundingClientRect(),o=bT(s),A=Ag(o,"border","width"),l=Ag(o,"padding");e=a.width-l.width-A.width,t=a.height-l.height-A.height,n=MS(o.maxWidth,s,"clientWidth"),i=MS(o.maxHeight,s,"clientHeight")}}return{width:e,height:t,maxWidth:n||DS,maxHeight:i||DS}}const dd=r=>Math.round(r*10)/10;function Cwe(r,e,t,n){const i=bT(r),s=Ag(i,"margin"),a=MS(i.maxWidth,r,"clientWidth")||DS,o=MS(i.maxHeight,r,"clientHeight")||DS,A=Ewe(r,e,t);let{width:l,height:c}=A;if(i.boxSizing==="content-box"){const h=Ag(i,"border","width"),f=Ag(i,"padding");l-=f.width+h.width,c-=f.height+h.height}return l=Math.max(0,l-s.width),c=Math.max(0,n?l/n:c-s.height),l=dd(Math.min(l,a,A.maxWidth)),c=dd(Math.min(c,o,A.maxHeight)),l&&!c&&(c=dd(l/2)),(e!==void 0||t!==void 0)&&n&&A.height&&c>A.height&&(c=A.height,l=dd(Math.floor(c*n))),{width:l,height:c}}function a8(r,e,t){const n=e||1,i=dd(r.height*n),s=dd(r.width*n);r.height=dd(r.height),r.width=dd(r.width);const a=r.canvas;return a.style&&(t||!a.style.height&&!a.style.width)&&(a.style.height=`${r.height}px`,a.style.width=`${r.width}px`),r.currentDevicePixelRatio!==n||a.height!==i||a.width!==s?(r.currentDevicePixelRatio=n,a.height=i,a.width=s,r.ctx.setTransform(n,0,0,n,0,0),!0):!1}const Bwe=function(){let r=!1;try{const e={get passive(){return r=!0,!1}};QN()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return r}();function o8(r,e){const t=ywe(r,e),n=t&&t.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function D0(r,e,t,n){return{x:r.x+t*(e.x-r.x),y:r.y+t*(e.y-r.y)}}function Swe(r,e,t,n){return{x:r.x+t*(e.x-r.x),y:n==="middle"?t<.5?r.y:e.y:n==="after"?t<1?r.y:e.y:t>0?e.y:r.y}}function Twe(r,e,t,n){const i={x:r.cp2x,y:r.cp2y},s={x:e.cp1x,y:e.cp1y},a=D0(r,i,t),o=D0(i,s,t),A=D0(s,e,t),l=D0(a,o,t),c=D0(o,A,t);return D0(l,c,t)}const Fwe=function(r,e){return{x(t){return r+r+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,n){return t-n},leftForLtr(t,n){return t-n}}},Iwe=function(){return{x(r){return r},setWidth(r){},textAlign(r){return r},xPlus(r,e){return r+e},leftForLtr(r,e){return r}}};function A1(r,e,t){return r?Fwe(e,t):Iwe()}function xq(r,e){let t,n;(e==="ltr"||e==="rtl")&&(t=r.canvas.style,n=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),r.prevTextDirection=n)}function _q(r,e){e!==void 0&&(delete r.prevTextDirection,r.canvas.style.setProperty("direction",e[0],e[1]))}function bq(r){return r==="angle"?{between:sx,compare:kve,normalize:_a}:{between:mh,compare:(e,t)=>e-t,normalize:e=>e}}function A8({start:r,end:e,count:t,loop:n,style:i}){return{start:r%t,end:e%t,loop:n&&(e-r+1)%t===0,style:i}}function kwe(r,e,t){const{property:n,start:i,end:s}=t,{between:a,normalize:o}=bq(n),A=e.length;let{start:l,end:c,loop:u}=r,h,f;if(u){for(l+=A,c+=A,h=0,f=A;h<f&&a(o(e[l%A][n]),i,s);++h)l--,c--;l%=A,c%=A}return c<l&&(c+=A),{start:l,end:c,loop:u,style:r.style}}function Eq(r,e,t){if(!t)return[r];const{property:n,start:i,end:s}=t,a=e.length,{compare:o,between:A,normalize:l}=bq(n),{start:c,end:u,loop:h,style:f}=kwe(r,e,t),d=[];let p=!1,v=null,m,x,b;const T=()=>A(i,b,m)&&o(i,b)!==0,R=()=>o(s,m)===0||A(s,b,m),P=()=>p||T(),B=()=>!p||R();for(let E=c,_=c;E<=u;++E)x=e[E%a],!x.skip&&(m=l(x[n]),m!==b&&(p=A(m,i,s),v===null&&P()&&(v=o(m,i)===0?E:_),v!==null&&B()&&(d.push(A8({start:v,end:E,loop:h,count:a,style:f})),v=null),_=E,b=m));return v!==null&&d.push(A8({start:v,end:u,loop:h,count:a,style:f})),d}function Cq(r,e){const t=[],n=r.segments;for(let i=0;i<n.length;i++){const s=Eq(n[i],r.points,e);s.length&&t.push(...s)}return t}function Lwe(r,e,t,n){let i=0,s=e-1;if(t&&!n)for(;i<e&&!r[i].skip;)i++;for(;i<e&&r[i].skip;)i++;for(i%=e,t&&(s+=i);s>i&&r[s%e].skip;)s--;return s%=e,{start:i,end:s}}function Pwe(r,e,t,n){const i=r.length,s=[];let a=e,o=r[e],A;for(A=e+1;A<=t;++A){const l=r[A%i];l.skip||l.stop?o.skip||(n=!1,s.push({start:e%i,end:(A-1)%i,loop:n}),e=a=l.stop?A:null):(a=A,o.skip&&(e=A)),o=l}return a!==null&&s.push({start:e%i,end:a%i,loop:n}),s}function Rwe(r,e){const t=r.points,n=r.options.spanGaps,i=t.length;if(!i)return[];const s=!!r._loop,{start:a,end:o}=Lwe(t,i,s,n);if(n===!0)return l8(r,[{start:a,end:o,loop:s}],t,e);const A=o<a?o+i:o,l=!!r._fullLoop&&a===0&&o===i-1;return l8(r,Pwe(t,a,A,l),t,e)}function l8(r,e,t,n){return!n||!n.setContext||!t?e:Nwe(r,e,t,n)}function Nwe(r,e,t,n){const i=r._chart.getContext(),s=c8(r.options),{_datasetIndex:a,options:{spanGaps:o}}=r,A=t.length,l=[];let c=s,u=e[0].start,h=u;function f(d,p,v,m){const x=o?-1:1;if(d!==p){for(d+=A;t[d%A].skip;)d-=x;for(;t[p%A].skip;)p+=x;d%A!==p%A&&(l.push({start:d%A,end:p%A,loop:v,style:m}),c=m,u=p%A)}}for(const d of e){u=o?u:d.start;let p=t[u%A],v;for(h=u+1;h<=d.end;h++){const m=t[h%A];v=c8(n.setContext(A0(i,{type:"segment",p0:p,p1:m,p0DataIndex:(h-1)%A,p1DataIndex:h%A,datasetIndex:a}))),Dwe(v,c)&&f(u,h-1,d.loop,c),p=m,c=v}u<h-1&&f(u,h-1,d.loop,c)}return l}function c8(r){return{backgroundColor:r.backgroundColor,borderCapStyle:r.borderCapStyle,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderJoinStyle:r.borderJoinStyle,borderWidth:r.borderWidth,borderColor:r.borderColor}}function Dwe(r,e){if(!e)return!1;const t=[],n=function(i,s){return NN(s)?(t.includes(s)||t.push(s),t.indexOf(s)):s};return JSON.stringify(r,n)!==JSON.stringify(e,n)}function CE(r,e,t){return r.options.clip?r[t]:e[t]}function Uwe(r,e){const{xScale:t,yScale:n}=r;return t&&n?{left:CE(t,e,"left"),right:CE(t,e,"right"),top:CE(n,e,"top"),bottom:CE(n,e,"bottom")}:e}function Bq(r,e){const t=e._clip;if(t.disabled)return!1;const n=Uwe(e,r.chartArea);return{left:t.left===!1?0:n.left-(t.left===!0?0:t.left),right:t.right===!1?r.width:n.right+(t.right===!0?0:t.right),top:t.top===!1?0:n.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?r.height:n.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Mwe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,i){const s=t.listeners[i],a=t.duration;s.forEach(o=>o({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(n-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=Aq.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const s=n.items;let a=s.length-1,o=!1,A;for(;a>=0;--a)A=s[a],A._active?(A._total>n.duration&&(n.duration=A._total),A.tick(e),o=!0):(s[a]=s[s.length-1],s.pop());o&&(i.draw(),this._notify(i,n,e,"progress")),s.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),t+=s.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Iu=new Mwe;const u8="transparent",Owe={boolean(r,e,t){return t>.5?e:r},color(r,e,t){const n=t8(r||u8),i=n.valid&&t8(e||u8);return i&&i.valid?i.mix(n,t).hexString():e},number(r,e,t){return r+(e-r)*t}};class Qwe{constructor(e,t,n,i){const s=t[n];i=xy([e.to,i,s,e.from]);const a=xy([e.from,s,i]);this._active=!0,this._fn=e.fn||Owe[e.type||typeof a],this._easing=s2[e.easing]||s2.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const i=this._target[this._prop],s=n-this._start,a=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=xy([e.to,t,i,e.from]),this._from=xy([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,i=this._prop,s=this._from,a=this._loop,o=this._to;let A;if(this._active=s!==o&&(a||t<n),!this._active){this._target[i]=o,this._notify(!0);return}if(t<0){this._target[i]=s;return}A=t/n%2,A=a&&A>1?2-A:A,A=this._easing(Math.min(1,Math.max(0,A))),this._target[i]=this._fn(s,o,A)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,n)=>{e.push({res:t,rej:n})})}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][t]()}}class Sq{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Lr(e))return;const t=Object.keys(Xn.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!Lr(s))return;const a={};for(const o of t)a[o]=s[o];(qn(s.properties)&&s.properties||[i]).forEach(o=>{(o===i||!n.has(o))&&n.set(o,a)})})}_animateOptions(e,t){const n=t.options,i=Vwe(e,n);if(!i)return[];const s=this._createAnimations(i,n);return n.$shared&&Hwe(e.options.$animations,n).then(()=>{e.options=n},()=>{}),s}_createAnimations(e,t){const n=this._properties,i=[],s=e.$animations||(e.$animations={}),a=Object.keys(t),o=Date.now();let A;for(A=a.length-1;A>=0;--A){const l=a[A];if(l.charAt(0)==="$")continue;if(l==="options"){i.push(...this._animateOptions(e,t));continue}const c=t[l];let u=s[l];const h=n.get(l);if(u)if(h&&u.active()){u.update(h,c,o);continue}else u.cancel();if(!h||!h.duration){e[l]=c;continue}s[l]=u=new Qwe(h,e,l,c),i.push(u)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const n=this._createAnimations(e,t);if(n.length)return Iu.add(this._chart,n),!0}}function Hwe(r,e){const t=[],n=Object.keys(e);for(let i=0;i<n.length;i++){const s=r[n[i]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}function Vwe(r,e){if(!e)return;let t=r.options;if(!t){r.options=e;return}return t.$shared&&(r.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function h8(r,e){const t=r&&r.options||{},n=t.reverse,i=t.min===void 0?e:0,s=t.max===void 0?e:0;return{start:n?s:i,end:n?i:s}}function jwe(r,e,t){if(t===!1)return!1;const n=h8(r,t),i=h8(e,t);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function Kwe(r){let e,t,n,i;return Lr(r)?(e=r.top,t=r.right,n=r.bottom,i=r.left):e=t=n=i=r,{top:e,right:t,bottom:n,left:i,disabled:r===!1}}function Tq(r,e){const t=[],n=r._getSortedDatasetMetas(e);let i,s;for(i=0,s=n.length;i<s;++i)t.push(n[i].index);return t}function f8(r,e,t,n={}){const i=r.keys,s=n.mode==="single";let a,o,A,l;if(e===null)return;let c=!1;for(a=0,o=i.length;a<o;++a){if(A=+i[a],A===t){if(c=!0,n.all)continue;break}l=r.values[A],wi(l)&&(s||e===0||Zc(e)===Zc(l))&&(e+=l)}return!c&&!n.all?0:e}function zwe(r,e){const{iScale:t,vScale:n}=e,i=t.axis==="x"?"x":"y",s=n.axis==="x"?"x":"y",a=Object.keys(r),o=new Array(a.length);let A,l,c;for(A=0,l=a.length;A<l;++A)c=a[A],o[A]={[i]:c,[s]:r[c]};return o}function A4(r,e){const t=r&&r.options.stacked;return t||t===void 0&&e.stack!==void 0}function Wwe(r,e,t){return`${r.id}.${e.id}.${t.stack||t.type}`}function Gwe(r){const{min:e,max:t,minDefined:n,maxDefined:i}=r.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function $we(r,e,t){const n=r[e]||(r[e]={});return n[t]||(n[t]={})}function d8(r,e,t,n){for(const i of e.getMatchingVisibleMetas(n).reverse()){const s=r[i.index];if(t&&s>0||!t&&s<0)return i.index}return null}function p8(r,e){const{chart:t,_cachedMeta:n}=r,i=t._stacks||(t._stacks={}),{iScale:s,vScale:a,index:o}=n,A=s.axis,l=a.axis,c=Wwe(s,a,n),u=e.length;let h;for(let f=0;f<u;++f){const d=e[f],{[A]:p,[l]:v}=d,m=d._stacks||(d._stacks={});h=m[l]=$we(i,c,p),h[o]=v,h._top=d8(h,a,!0,n.type),h._bottom=d8(h,a,!1,n.type);const x=h._visualValues||(h._visualValues={});x[o]=v}}function l4(r,e){const t=r.scales;return Object.keys(t).filter(n=>t[n].axis===e).shift()}function qwe(r,e){return A0(r,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Xwe(r,e,t){return A0(r,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Nw(r,e){const t=r.controller.index,n=r.vScale&&r.vScale.axis;if(n){e=e||r._parsed;for(const i of e){const s=i._stacks;if(!s||s[n]===void 0||s[n][t]===void 0)return;delete s[n][t],s[n]._visualValues!==void 0&&s[n]._visualValues[t]!==void 0&&delete s[n]._visualValues[t]}}}const c4=r=>r==="reset"||r==="none",g8=(r,e)=>e?r:Object.assign({},r),Ywe=(r,e,t)=>r&&!e.hidden&&e._stacked&&{keys:Tq(t,!0),values:null};class Gl{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=A4(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Nw(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),i=(u,h,f,d)=>u==="x"?h:u==="r"?d:f,s=t.xAxisID=cr(n.xAxisID,l4(e,"x")),a=t.yAxisID=cr(n.yAxisID,l4(e,"y")),o=t.rAxisID=cr(n.rAxisID,l4(e,"r")),A=t.indexAxis,l=t.iAxisID=i(A,s,a,o),c=t.vAxisID=i(A,a,s,o);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(o),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&J6(this._data,this),e._stacked&&Nw(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(Lr(t)){const i=this._cachedMeta;this._data=zwe(t,i)}else if(n!==t){if(n){J6(n,this);const i=this._cachedMeta;Nw(i),i._parsed=[]}t&&Object.isExtensible(t)&&Nve(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const s=t._stacked;t._stacked=A4(t.vScale,t),t.stack!==n.stack&&(i=!0,Nw(t),t.stack=n.stack),this._resyncElements(e),(i||s!==t._stacked)&&(p8(this,t._parsed),t._stacked=A4(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:i}=this,{iScale:s,_stacked:a}=n,o=s.axis;let A=e===0&&t===i.length?!0:n._sorted,l=e>0&&n._parsed[e-1],c,u,h;if(this._parsing===!1)n._parsed=i,n._sorted=!0,h=i;else{qn(i[e])?h=this.parseArrayData(n,i,e,t):Lr(i[e])?h=this.parseObjectData(n,i,e,t):h=this.parsePrimitiveData(n,i,e,t);const f=()=>u[o]===null||l&&u[o]<l[o];for(c=0;c<t;++c)n._parsed[c+e]=u=h[c],A&&(f()&&(A=!1),l=u);n._sorted=A}a&&p8(this,h)}parsePrimitiveData(e,t,n,i){const{iScale:s,vScale:a}=e,o=s.axis,A=a.axis,l=s.getLabels(),c=s===a,u=new Array(i);let h,f,d;for(h=0,f=i;h<f;++h)d=h+n,u[h]={[o]:c||s.parse(l[d],d),[A]:a.parse(t[d],d)};return u}parseArrayData(e,t,n,i){const{xScale:s,yScale:a}=e,o=new Array(i);let A,l,c,u;for(A=0,l=i;A<l;++A)c=A+n,u=t[c],o[A]={x:s.parse(u[0],c),y:a.parse(u[1],c)};return o}parseObjectData(e,t,n,i){const{xScale:s,yScale:a}=e,{xAxisKey:o="x",yAxisKey:A="y"}=this._parsing,l=new Array(i);let c,u,h,f;for(c=0,u=i;c<u;++c)h=c+n,f=t[h],l[c]={x:s.parse(Xd(f,o),h),y:a.parse(Xd(f,A),h)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const i=this.chart,s=this._cachedMeta,a=t[e.axis],o={keys:Tq(i,!0),values:t._stacks[e.axis]._visualValues};return f8(o,a,s.index,{mode:n})}updateRangeFromParsed(e,t,n,i){const s=n[t.axis];let a=s===null?NaN:s;const o=i&&n._stacks[t.axis];i&&o&&(i.values=o,a=f8(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const n=this._cachedMeta,i=n._parsed,s=n._sorted&&e===n.iScale,a=i.length,o=this._getOtherScale(e),A=Ywe(t,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=Gwe(o);let h,f;function d(){f=i[h];const p=f[o.axis];return!wi(f[e.axis])||c>p||u<p}for(h=0;h<a&&!(!d()&&(this.updateRangeFromParsed(l,e,f,A),s));++h);if(s){for(h=a-1;h>=0;--h)if(!d()){this.updateRangeFromParsed(l,e,f,A);break}}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let i,s,a;for(i=0,s=t.length;i<s;++i)a=t[i][e.axis],wi(a)&&n.push(a);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,i=t.vScale,s=this.getParsed(e);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=Kwe(cr(this.options.clip,jwe(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,i=n.data||[],s=t.chartArea,a=[],o=this._drawStart||0,A=this._drawCount||i.length-o,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,s,o,A),c=o;c<o+A;++c){const u=i[c];u.hidden||(u.active&&l?a.push(u):u.draw(e,s))}for(c=0;c<a.length;++c)a[c].draw(e,s)}getStyle(e,t){const n=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=Xwe(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=qwe(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=n,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",n){const i=t==="active",s=this._cachedDataOpts,a=e+"-"+t,o=s[a],A=this.enableOptionSharing&&ix(n);if(o)return g8(o,A);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),u=i?[`${e}Hover`,"hover",e,""]:[e,""],h=l.getOptionScopes(this.getDataset(),c),f=Object.keys(Xn.elements[e]),d=()=>this.getContext(n,i,t),p=l.resolveNamedOptions(h,f,d,u);return p.$shared&&(p.$shared=A,s[a]=Object.freeze(g8(p,A))),p}_resolveAnimations(e,t,n){const i=this.chart,s=this._cachedDataOpts,a=`animation-${t}`,o=s[a];if(o)return o;let A;if(i.options.animation!==!1){const c=this.chart.config,u=c.datasetAnimationScopeKeys(this._type,t),h=c.getOptionScopes(this.getDataset(),u);A=c.createResolver(h,this.getContext(e,n,t))}const l=new Sq(i,A&&A.animations);return A&&A._cacheable&&(s[a]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||c4(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),i=this._sharedOptions,s=this.getSharedOptions(n),a=this.includeOptions(t,s)||s!==i;return this.updateSharedOptions(s,t,n),{sharedOptions:s,includeOptions:a}}updateElement(e,t,n,i){c4(i)?Object.assign(e,n):this._resolveAnimations(t,i).update(e,n)}updateSharedOptions(e,t,n){e&&!c4(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,i){e.active=i;const s=this.getStyle(t,i);this._resolveAnimations(t,n,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[o,A,l]of this._syncList)this[o](A,l);this._syncList=[];const i=n.length,s=t.length,a=Math.min(s,i);a&&this.parse(0,a),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,t,n=!0){const i=this._cachedMeta,s=i.data,a=e+t;let o;const A=l=>{for(l.length+=t,o=l.length-1;o>=a;o--)l[o]=l[o-t]};for(A(s),o=e;o<a;++o)s[o]=new this.dataElementType;this._parsing&&A(i._parsed),this.parse(e,t),n&&this.updateElements(s,e,t,"reset")}updateElements(e,t,n,i){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,t);n._stacked&&Nw(n,i)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,i]=e;this[t](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}De(Gl,"defaults",{}),De(Gl,"datasetElementType",null),De(Gl,"dataElementType",null);function Jwe(r,e){if(!r._cache.$bar){const t=r.getMatchingVisibleMetas(e);let n=[];for(let i=0,s=t.length;i<s;i++)n=n.concat(t[i].controller.getAllParsedValues(r));r._cache.$bar=oq(n.sort((i,s)=>i-s))}return r._cache.$bar}function Zwe(r){const e=r.iScale,t=Jwe(e,r.type);let n=e._length,i,s,a,o;const A=()=>{a===32767||a===-32768||(ix(o)&&(n=Math.min(n,Math.abs(a-o)||n)),o=a)};for(i=0,s=t.length;i<s;++i)a=e.getPixelForValue(t[i]),A();for(o=void 0,i=0,s=e.ticks.length;i<s;++i)a=e.getPixelForTick(i),A();return n}function eye(r,e,t,n){const i=t.barThickness;let s,a;return Sr(i)?(s=e.min*t.categoryPercentage,a=t.barPercentage):(s=i*n,a=1),{chunk:s/n,ratio:a,start:e.pixels[r]-s/2}}function tye(r,e,t,n){const i=e.pixels,s=i[r];let a=r>0?i[r-1]:null,o=r<i.length-1?i[r+1]:null;const A=t.categoryPercentage;a===null&&(a=s-(o===null?e.end-e.start:o-s)),o===null&&(o=s+s-a);const l=s-(s-Math.min(a,o))/2*A;return{chunk:Math.abs(o-a)/2*A/n,ratio:t.barPercentage,start:l}}function rye(r,e,t,n){const i=t.parse(r[0],n),s=t.parse(r[1],n),a=Math.min(i,s),o=Math.max(i,s);let A=a,l=o;Math.abs(a)>Math.abs(o)&&(A=o,l=a),e[t.axis]=l,e._custom={barStart:A,barEnd:l,start:i,end:s,min:a,max:o}}function Fq(r,e,t,n){return qn(r)?rye(r,e,t,n):e[t.axis]=t.parse(r,n),e}function m8(r,e,t,n){const i=r.iScale,s=r.vScale,a=i.getLabels(),o=i===s,A=[];let l,c,u,h;for(l=t,c=t+n;l<c;++l)h=e[l],u={},u[i.axis]=o||i.parse(a[l],l),A.push(Fq(h,u,s,l));return A}function u4(r){return r&&r.barStart!==void 0&&r.barEnd!==void 0}function nye(r,e,t){return r!==0?Zc(r):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function iye(r){let e,t,n,i,s;return r.horizontal?(e=r.base>r.x,t="left",n="right"):(e=r.base<r.y,t="bottom",n="top"),e?(i="end",s="start"):(i="start",s="end"),{start:t,end:n,reverse:e,top:i,bottom:s}}function sye(r,e,t,n){let i=e.borderSkipped;const s={};if(!i){r.borderSkipped=s;return}if(i===!0){r.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:o,reverse:A,top:l,bottom:c}=iye(r);i==="middle"&&t&&(r.enableBorderRadius=!0,(t._top||0)===n?i=l:(t._bottom||0)===n?i=c:(s[v8(c,a,o,A)]=!0,i=l)),s[v8(i,a,o,A)]=!0,r.borderSkipped=s}function v8(r,e,t,n){return n?(r=aye(r,e,t),r=w8(r,t,e)):r=w8(r,e,t),r}function aye(r,e,t){return r===e?t:r===t?e:r}function w8(r,e,t){return r==="start"?e:r==="end"?t:r}function oye(r,{inflateAmount:e},t){r.inflateAmount=e==="auto"?t===1?.33:0:e}class AB extends Gl{parsePrimitiveData(e,t,n,i){return m8(e,t,n,i)}parseArrayData(e,t,n,i){return m8(e,t,n,i)}parseObjectData(e,t,n,i){const{iScale:s,vScale:a}=e,{xAxisKey:o="x",yAxisKey:A="y"}=this._parsing,l=s.axis==="x"?o:A,c=a.axis==="x"?o:A,u=[];let h,f,d,p;for(h=n,f=n+i;h<f;++h)p=t[h],d={},d[s.axis]=s.parse(Xd(p,l),h),u.push(Fq(Xd(p,c),d,a,h));return u}updateRangeFromParsed(e,t,n,i){super.updateRangeFromParsed(e,t,n,i);const s=n._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:i}=t,s=this.getParsed(e),a=s._custom,o=u4(a)?"["+a.start+", "+a.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+n.getLabelForValue(s[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,i){const s=i==="reset",{index:a,_cachedMeta:{vScale:o}}=this,A=o.getBasePixel(),l=o.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:h}=this._getSharedOptions(t,i);for(let f=t;f<t+n;f++){const d=this.getParsed(f),p=s||Sr(d[o.axis])?{base:A,head:A}:this._calculateBarValuePixels(f),v=this._calculateBarIndexPixels(f,c),m=(d._stacks||{})[o.axis],x={horizontal:l,base:p.base,enableBorderRadius:!m||u4(d._custom)||a===m._top||a===m._bottom,x:l?p.head:v.center,y:l?v.center:p.head,height:l?v.size:Math.abs(p.size),width:l?Math.abs(p.size):v.size};h&&(x.options=u||this.resolveDataElementOptions(f,e[f].active?"active":i));const b=x.options||e[f].options;sye(x,b,m,a),oye(x,b,c.ratio),this.updateElement(e[f],f,x,i)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter(c=>c.controller.options.grouped),s=n.options.stacked,a=[],o=this._cachedMeta.controller.getParsed(t),A=o&&o[n.axis],l=c=>{const u=c._parsed.find(f=>f[n.axis]===A),h=u&&u[c.vScale.axis];if(Sr(h)||isNaN(h))return!0};for(const c of i)if(!(t!==void 0&&l(c))&&((s===!1||a.indexOf(c.stack)===-1||s===void 0&&c.stack===void 0)&&a.push(c.stack),c.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[cr(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,n){const i=this._getStacks(e,n),s=t!==void 0?i.indexOf(t):-1;return s===-1?i.length-1:s}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,i=[];let s,a;for(s=0,a=t.data.length;s<a;++s)i.push(n.getPixelForValue(this.getParsed(s)[n.axis],s));const o=e.barThickness;return{min:o||Zwe(t),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:i},options:{base:s,minBarLength:a}}=this,o=s||0,A=this.getParsed(e),l=A._custom,c=u4(l);let u=A[t.axis],h=0,f=n?this.applyStack(t,A,n):u,d,p;f!==u&&(h=f-u,f=u),c&&(u=l.barStart,f=l.barEnd-l.barStart,u!==0&&Zc(u)!==Zc(l.barEnd)&&(h=0),h+=u);const v=!Sr(s)&&!c?s:h;let m=t.getPixelForValue(v);if(this.chart.getDataVisibility(e)?d=t.getPixelForValue(h+f):d=m,p=d-m,Math.abs(p)<a){p=nye(p,t,o)*a,u===o&&(m-=p/2);const x=t.getPixelForDecimal(0),b=t.getPixelForDecimal(1),T=Math.min(x,b),R=Math.max(x,b);m=Math.max(Math.min(m,R),T),d=m+p,n&&!c&&(A._stacks[t.axis]._visualValues[i]=t.getValueForPixel(d)-t.getValueForPixel(m))}if(m===t.getPixelForValue(o)){const x=Zc(p)*t.getLineWidthForValue(o)/2;m+=x,p-=x}return{size:p,base:m,head:d,center:d+p/2}}_calculateBarIndexPixels(e,t){const n=t.scale,i=this.options,s=i.skipNull,a=cr(i.maxBarThickness,1/0);let o,A;const l=this._getAxisCount();if(t.grouped){const c=s?this._getStackCount(e):t.stackCount,u=i.barThickness==="flex"?tye(e,t,i,c*l):eye(e,t,i,c*l),h=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,f=this._getAxis().indexOf(cr(h,this.getFirstScaleIdForIndexAxis())),d=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+f;o=u.start+u.chunk*d+u.chunk/2,A=Math.min(a,u.chunk*u.ratio)}else o=n.getPixelForValue(this.getParsed(e)[n.axis],e),A=Math.min(a,t.min*t.ratio);return{base:o-A/2,head:o+A/2,center:o,size:A}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,i=n.length;let s=0;for(;s<i;++s)this.getParsed(s)[t.axis]!==null&&!n[s].hidden&&n[s].draw(this._ctx)}}De(AB,"id","bar"),De(AB,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),De(AB,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class lB extends Gl{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,i){const s=super.parsePrimitiveData(e,t,n,i);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+n).radius;return s}parseArrayData(e,t,n,i){const s=super.parseArrayData(e,t,n,i);for(let a=0;a<s.length;a++){const o=t[n+a];s[a]._custom=cr(o[2],this.resolveDataElementOptions(a+n).radius)}return s}parseObjectData(e,t,n,i){const s=super.parseObjectData(e,t,n,i);for(let a=0;a<s.length;a++){const o=t[n+a];s[a]._custom=cr(o&&o.r&&+o.r,this.resolveDataElementOptions(a+n).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:s}=t,a=this.getParsed(e),o=i.getLabelForValue(a.x),A=s.getLabelForValue(a.y),l=a._custom;return{label:n[e]||"",value:"("+o+", "+A+(l?", "+l:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,i){const s=i==="reset",{iScale:a,vScale:o}=this._cachedMeta,{sharedOptions:A,includeOptions:l}=this._getSharedOptions(t,i),c=a.axis,u=o.axis;for(let h=t;h<t+n;h++){const f=e[h],d=!s&&this.getParsed(h),p={},v=p[c]=s?a.getPixelForDecimal(.5):a.getPixelForValue(d[c]),m=p[u]=s?o.getBasePixel():o.getPixelForValue(d[u]);p.skip=isNaN(v)||isNaN(m),l&&(p.options=A||this.resolveDataElementOptions(h,f.active?"active":i),s&&(p.options.radius=0)),this.updateElement(f,h,p,i)}}resolveDataElementOptions(e,t){const n=this.getParsed(e);let i=super.resolveDataElementOptions(e,t);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const s=i.radius;return t!=="active"&&(i.radius=0),i.radius+=cr(n&&n._custom,s),i}}De(lB,"id","bubble"),De(lB,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),De(lB,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function Aye(r,e,t){let n=1,i=1,s=0,a=0;if(e<Hn){const o=r,A=o+e,l=Math.cos(o),c=Math.sin(o),u=Math.cos(A),h=Math.sin(A),f=(b,T,R)=>sx(b,o,A,!0)?1:Math.max(T,T*t,R,R*t),d=(b,T,R)=>sx(b,o,A,!0)?-1:Math.min(T,T*t,R,R*t),p=f(0,l,u),v=f(Ni,c,h),m=d(Xr,l,u),x=d(Xr+Ni,c,h);n=(p-m)/2,i=(v-x)/2,s=-(p+m)/2,a=-(v+x)/2}return{ratioX:n,ratioY:i,offsetX:s,offsetY:a}}class $0 extends Gl{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=n;else{let s=A=>+n[A];if(Lr(n[e])){const{key:A="value"}=this._parsing;s=l=>+Xd(n[l],A)}let a,o;for(a=e,o=e+t;a<o;++a)i._parsed[a]=s(a)}}_getRotation(){return Vl(this.options.rotation-90)}_getCircumference(){return Vl(this.options.circumference)}_getRotationExtents(){let e=Hn,t=-Hn;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,s=i._getRotation(),a=i._getCircumference();e=Math.min(e,s),t=Math.max(t,s+a)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,i=this._cachedMeta,s=i.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-a)/2,0),A=Math.min(yve(this.options.cutout,o),1),l=this._getRingWeight(this.index),{circumference:c,rotation:u}=this._getRotationExtents(),{ratioX:h,ratioY:f,offsetX:d,offsetY:p}=Aye(u,c,A),v=(n.width-a)/h,m=(n.height-a)/f,x=Math.max(Math.min(v,m)/2,0),b=rq(this.options.radius,x),T=Math.max(b*A,0),R=(b-T)/this._getVisibleDatasetWeightTotal();this.offsetX=d*b,this.offsetY=p*b,i.total=this.calculateTotal(),this.outerRadius=b-R*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-R*l,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const n=this.options,i=this._cachedMeta,s=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/Hn)}updateElements(e,t,n,i){const s=i==="reset",a=this.chart,o=a.chartArea,l=a.options.animation,c=(o.left+o.right)/2,u=(o.top+o.bottom)/2,h=s&&l.animateScale,f=h?0:this.innerRadius,d=h?0:this.outerRadius,{sharedOptions:p,includeOptions:v}=this._getSharedOptions(t,i);let m=this._getRotation(),x;for(x=0;x<t;++x)m+=this._circumference(x,s);for(x=t;x<t+n;++x){const b=this._circumference(x,s),T=e[x],R={x:c+this.offsetX,y:u+this.offsetY,startAngle:m,endAngle:m+b,circumference:b,outerRadius:d,innerRadius:f};v&&(R.options=p||this.resolveDataElementOptions(x,T.active?"active":i)),m+=b,this.updateElement(T,x,R,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n=0,i;for(i=0;i<t.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!t[i].hidden&&(n+=Math.abs(s))}return n}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Hn*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,i=n.data.labels||[],s=mb(t._parsed[e],n.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const n=this.chart;let i,s,a,o,A;if(!e){for(i=0,s=n.data.datasets.length;i<s;++i)if(n.isDatasetVisible(i)){a=n.getDatasetMeta(i),e=a.data,o=a.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)A=o.resolveDataElementOptions(i),A.borderAlign!=="inner"&&(t=Math.max(t,A.borderWidth||0,A.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,i=e.length;n<i;++n){const s=this.resolveDataElementOptions(n);t=Math.max(t,s.offset||0,s.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(cr(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}De($0,"id","doughnut"),De($0,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),De($0,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),De($0,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data,{labels:{pointStyle:n,textAlign:i,color:s,useBorderRadius:a,borderRadius:o}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((A,l)=>{const u=e.getDatasetMeta(0).controller.getStyle(l);return{text:A,fillStyle:u.backgroundColor,fontColor:s,hidden:!e.getDataVisibility(l),lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:u.borderWidth,strokeStyle:u.borderColor,textAlign:i,pointStyle:n,borderRadius:a&&(o||u.borderRadius),index:l}}):[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}});class cB extends Gl{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:i=[],_dataset:s}=t,a=this.chart._animationsDisabled;let{start:o,count:A}=cq(t,i,a);this._drawStart=o,this._drawCount=A,uq(t)&&(o=0,A=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!s._decimated,n.points=i;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!a,options:l},e),this.updateElements(i,o,A,e)}updateElements(e,t,n,i){const s=i==="reset",{iScale:a,vScale:o,_stacked:A,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(t,i),h=a.axis,f=o.axis,{spanGaps:d,segment:p}=this.options,v=Dv(d)?d:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||s||i==="none",x=t+n,b=e.length;let T=t>0&&this.getParsed(t-1);for(let R=0;R<b;++R){const P=e[R],B=m?P:{};if(R<t||R>=x){B.skip=!0;continue}const E=this.getParsed(R),_=Sr(E[f]),I=B[h]=a.getPixelForValue(E[h],R),S=B[f]=s||_?o.getBasePixel():o.getPixelForValue(A?this.applyStack(o,E,A):E[f],R);B.skip=isNaN(I)||isNaN(S)||_,B.stop=R>0&&Math.abs(E[h]-T[h])>v,p&&(B.parsed=E,B.raw=l.data[R]),u&&(B.options=c||this.resolveDataElementOptions(R,P.active?"active":i)),m||this.updateElement(P,R,B,i),T=E}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return n;const s=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,s,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}De(cB,"id","line"),De(cB,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),De(cB,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class o2 extends Gl{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,i=n.data.labels||[],s=mb(t._parsed[e].r,n.options.locale);return{label:i[e]||"",value:s}}parseObjectData(e,t,n,i){return wq.bind(this)(e,t,n,i)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((n,i)=>{const s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<t.min&&(t.min=s),s>t.max&&(t.max=s))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,n=e.options,i=Math.min(t.right-t.left,t.bottom-t.top),s=Math.max(i/2,0),a=Math.max(n.cutoutPercentage?s/100*n.cutoutPercentage:1,0),o=(s-a)/e.getVisibleDatasetCount();this.outerRadius=s-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(e,t,n,i){const s=i==="reset",a=this.chart,A=a.options.animation,l=this._cachedMeta.rScale,c=l.xCenter,u=l.yCenter,h=l.getIndexAngle(0)-.5*Xr;let f=h,d;const p=360/this.countVisibleElements();for(d=0;d<t;++d)f+=this._computeAngle(d,i,p);for(d=t;d<t+n;d++){const v=e[d];let m=f,x=f+this._computeAngle(d,i,p),b=a.getDataVisibility(d)?l.getDistanceFromCenterForValue(this.getParsed(d).r):0;f=x,s&&(A.animateScale&&(b=0),A.animateRotate&&(m=x=h));const T={x:c,y:u,innerRadius:0,outerRadius:b,startAngle:m,endAngle:x,options:this.resolveDataElementOptions(d,v.active?"active":i)};this.updateElement(v,d,T,i)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((n,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&t++}),t}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?Vl(this.resolveDataElementOptions(e,t).angle||n):0}}De(o2,"id","polarArea"),De(o2,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),De(o2,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:i}}=e.legend.options;return t.labels.map((s,a)=>{const A=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:A.backgroundColor,strokeStyle:A.borderColor,fontColor:i,lineWidth:A.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class AL extends $0{}De(AL,"id","pie"),De(AL,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class uB extends Gl{getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,i){return wq.bind(this)(e,t,n,i)}update(e){const t=this._cachedMeta,n=t.dataset,i=t.data||[],s=t.iScale.getLabels();if(n.points=i,e!=="resize"){const a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);const o={_loop:!0,_fullLoop:s.length===i.length,options:a};this.updateElement(n,void 0,o,e)}this.updateElements(i,0,i.length,e)}updateElements(e,t,n,i){const s=this._cachedMeta.rScale,a=i==="reset";for(let o=t;o<t+n;o++){const A=e[o],l=this.resolveDataElementOptions(o,A.active?"active":i),c=s.getPointPositionForValue(o,this.getParsed(o).r),u=a?s.xCenter:c.x,h=a?s.yCenter:c.y,f={x:u,y:h,angle:c.angle,skip:isNaN(u)||isNaN(h),options:l};this.updateElement(A,o,f,i)}}}De(uB,"id","radar"),De(uB,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),De(uB,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class hB extends Gl{getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:s}=t,a=this.getParsed(e),o=i.getLabelForValue(a.x),A=s.getLabelForValue(a.y);return{label:n[e]||"",value:"("+o+", "+A+")"}}update(e){const t=this._cachedMeta,{data:n=[]}=t,i=this.chart._animationsDisabled;let{start:s,count:a}=cq(t,n,i);if(this._drawStart=s,this._drawCount=a,uq(t)&&(s=0,a=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:o,_dataset:A}=t;o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!A._decimated,o.points=n;const l=this.resolveDatasetElementOptions(e);l.segment=this.options.segment,this.updateElement(o,void 0,{animated:!i,options:l},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(n,s,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,n,i){const s=i==="reset",{iScale:a,vScale:o,_stacked:A,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(t,i),u=this.getSharedOptions(c),h=this.includeOptions(i,u),f=a.axis,d=o.axis,{spanGaps:p,segment:v}=this.options,m=Dv(p)?p:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||s||i==="none";let b=t>0&&this.getParsed(t-1);for(let T=t;T<t+n;++T){const R=e[T],P=this.getParsed(T),B=x?R:{},E=Sr(P[d]),_=B[f]=a.getPixelForValue(P[f],T),I=B[d]=s||E?o.getBasePixel():o.getPixelForValue(A?this.applyStack(o,P,A):P[d],T);B.skip=isNaN(_)||isNaN(I)||E,B.stop=T>0&&Math.abs(P[f]-b[f])>m,v&&(B.parsed=P,B.raw=l.data[T]),h&&(B.options=u||this.resolveDataElementOptions(T,R.active?"active":i)),x||this.updateElement(R,T,B,i),b=P}this.updateSharedOptions(u,i,c)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let o=0;for(let A=t.length-1;A>=0;--A)o=Math.max(o,t[A].size(this.resolveDataElementOptions(A))/2);return o>0&&o}const n=e.dataset,i=n.options&&n.options.borderWidth||0;if(!t.length)return i;const s=t[0].size(this.resolveDataElementOptions(0)),a=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(i,s,a)/2}}De(hB,"id","scatter"),De(hB,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),De(hB,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var lye=Object.freeze({__proto__:null,BarController:AB,BubbleController:lB,DoughnutController:$0,LineController:cB,PieController:AL,PolarAreaController:o2,RadarController:uB,ScatterController:hB});function C0(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class VN{constructor(e){De(this,"options");this.options=e||{}}static override(e){Object.assign(VN.prototype,e)}init(){}formats(){return C0()}parse(){return C0()}format(){return C0()}add(){return C0()}diff(){return C0()}startOf(){return C0()}endOf(){return C0()}}var cye={_date:VN};function uye(r,e,t,n){const{controller:i,data:s,_sorted:a}=r,o=i._cachedMeta.iScale,A=r.dataset&&r.dataset.options?r.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&a&&s.length){const l=o._reversePixels?Pve:vh;if(n){if(i._sharedOptions){const c=s[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const h=l(s,e,t-u),f=l(s,e,t+u);return{lo:h.lo,hi:f.hi}}}}else{const c=l(s,e,t);if(A){const{vScale:u}=i._cachedMeta,{_parsed:h}=r,f=h.slice(0,c.lo+1).reverse().findIndex(p=>!Sr(p[u.axis]));c.lo-=Math.max(0,f);const d=h.slice(c.hi).findIndex(p=>!Sr(p[u.axis]));c.hi+=Math.max(0,d)}return c}}return{lo:0,hi:s.length-1}}function ET(r,e,t,n,i){const s=r.getSortedVisibleDatasetMetas(),a=t[e];for(let o=0,A=s.length;o<A;++o){const{index:l,data:c}=s[o],{lo:u,hi:h}=uye(s[o],e,a,i);for(let f=u;f<=h;++f){const d=c[f];d.skip||n(d,l,f)}}}function hye(r){const e=r.indexOf("x")!==-1,t=r.indexOf("y")!==-1;return function(n,i){const s=e?Math.abs(n.x-i.x):0,a=t?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function h4(r,e,t,n,i){const s=[];return!i&&!r.isPointInArea(e)||ET(r,t,e,function(o,A,l){!i&&!wh(o,r.chartArea,0)||o.inRange(e.x,e.y,n)&&s.push({element:o,datasetIndex:A,index:l})},!0),s}function fye(r,e,t,n){let i=[];function s(a,o,A){const{startAngle:l,endAngle:c}=a.getProps(["startAngle","endAngle"],n),{angle:u}=sq(a,{x:e.x,y:e.y});sx(u,l,c)&&i.push({element:a,datasetIndex:o,index:A})}return ET(r,t,e,s),i}function dye(r,e,t,n,i,s){let a=[];const o=hye(t);let A=Number.POSITIVE_INFINITY;function l(c,u,h){const f=c.inRange(e.x,e.y,i);if(n&&!f)return;const d=c.getCenterPoint(i);if(!(!!s||r.isPointInArea(d))&&!f)return;const v=o(e,d);v<A?(a=[{element:c,datasetIndex:u,index:h}],A=v):v===A&&a.push({element:c,datasetIndex:u,index:h})}return ET(r,t,e,l),a}function f4(r,e,t,n,i,s){return!s&&!r.isPointInArea(e)?[]:t==="r"&&!n?fye(r,e,t,i):dye(r,e,t,n,i,s)}function y8(r,e,t,n,i){const s=[],a=t==="x"?"inXRange":"inYRange";let o=!1;return ET(r,t,e,(A,l,c)=>{A[a]&&A[a](e[t],i)&&(s.push({element:A,datasetIndex:l,index:c}),o=o||A.inRange(e.x,e.y,i))}),n&&!o?[]:s}var pye={modes:{index(r,e,t,n){const i=N0(e,r),s=t.axis||"x",a=t.includeInvisible||!1,o=t.intersect?h4(r,i,s,n,a):f4(r,i,s,!1,n,a),A=[];return o.length?(r.getSortedVisibleDatasetMetas().forEach(l=>{const c=o[0].index,u=l.data[c];u&&!u.skip&&A.push({element:u,datasetIndex:l.index,index:c})}),A):[]},dataset(r,e,t,n){const i=N0(e,r),s=t.axis||"xy",a=t.includeInvisible||!1;let o=t.intersect?h4(r,i,s,n,a):f4(r,i,s,!1,n,a);if(o.length>0){const A=o[0].datasetIndex,l=r.getDatasetMeta(A).data;o=[];for(let c=0;c<l.length;++c)o.push({element:l[c],datasetIndex:A,index:c})}return o},point(r,e,t,n){const i=N0(e,r),s=t.axis||"xy",a=t.includeInvisible||!1;return h4(r,i,s,n,a)},nearest(r,e,t,n){const i=N0(e,r),s=t.axis||"xy",a=t.includeInvisible||!1;return f4(r,i,s,t.intersect,n,a)},x(r,e,t,n){const i=N0(e,r);return y8(r,i,"x",t.intersect,n)},y(r,e,t,n){const i=N0(e,r);return y8(r,i,"y",t.intersect,n)}}};const Iq=["left","top","right","bottom"];function Dw(r,e){return r.filter(t=>t.pos===e)}function x8(r,e){return r.filter(t=>Iq.indexOf(t.pos)===-1&&t.box.axis===e)}function Uw(r,e){return r.sort((t,n)=>{const i=e?n:t,s=e?t:n;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function gye(r){const e=[];let t,n,i,s,a,o;for(t=0,n=(r||[]).length;t<n;++t)i=r[t],{position:s,options:{stack:a,stackWeight:o=1}}=i,e.push({index:t,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&s+a,stackWeight:o});return e}function mye(r){const e={};for(const t of r){const{stack:n,pos:i,stackWeight:s}=t;if(!n||!Iq.includes(i))continue;const a=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return e}function vye(r,e){const t=mye(r),{vBoxMaxWidth:n,hBoxMaxHeight:i}=e;let s,a,o;for(s=0,a=r.length;s<a;++s){o=r[s];const{fullSize:A}=o.box,l=t[o.stack],c=l&&o.stackWeight/l.weight;o.horizontal?(o.width=c?c*n:A&&e.availableWidth,o.height=i):(o.width=n,o.height=c?c*i:A&&e.availableHeight)}return t}function wye(r){const e=gye(r),t=Uw(e.filter(l=>l.box.fullSize),!0),n=Uw(Dw(e,"left"),!0),i=Uw(Dw(e,"right")),s=Uw(Dw(e,"top"),!0),a=Uw(Dw(e,"bottom")),o=x8(e,"x"),A=x8(e,"y");return{fullSize:t,leftAndTop:n.concat(s),rightAndBottom:i.concat(A).concat(a).concat(o),chartArea:Dw(e,"chartArea"),vertical:n.concat(i).concat(A),horizontal:s.concat(a).concat(o)}}function _8(r,e,t,n){return Math.max(r[t],e[t])+Math.max(r[n],e[n])}function kq(r,e){r.top=Math.max(r.top,e.top),r.left=Math.max(r.left,e.left),r.bottom=Math.max(r.bottom,e.bottom),r.right=Math.max(r.right,e.right)}function yye(r,e,t,n){const{pos:i,box:s}=t,a=r.maxPadding;if(!Lr(i)){t.size&&(r[i]-=t.size);const u=n[t.stack]||{size:0,count:1};u.size=Math.max(u.size,t.horizontal?s.height:s.width),t.size=u.size/u.count,r[i]+=t.size}s.getPadding&&kq(a,s.getPadding());const o=Math.max(0,e.outerWidth-_8(a,r,"left","right")),A=Math.max(0,e.outerHeight-_8(a,r,"top","bottom")),l=o!==r.w,c=A!==r.h;return r.w=o,r.h=A,t.horizontal?{same:l,other:c}:{same:c,other:l}}function xye(r){const e=r.maxPadding;function t(n){const i=Math.max(e[n]-r[n],0);return r[n]+=i,i}r.y+=t("top"),r.x+=t("left"),t("right"),t("bottom")}function _ye(r,e){const t=e.maxPadding;function n(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{s[a]=Math.max(e[a],t[a])}),s}return n(r?["left","right"]:["top","bottom"])}function _y(r,e,t,n){const i=[];let s,a,o,A,l,c;for(s=0,a=r.length,l=0;s<a;++s){o=r[s],A=o.box,A.update(o.width||e.w,o.height||e.h,_ye(o.horizontal,e));const{same:u,other:h}=yye(e,t,o,n);l|=u&&i.length,c=c||h,A.fullSize||i.push(o)}return l&&_y(i,e,t,n)||c}function BE(r,e,t,n,i){r.top=t,r.left=e,r.right=e+n,r.bottom=t+i,r.width=n,r.height=i}function b8(r,e,t,n){const i=t.padding;let{x:s,y:a}=e;for(const o of r){const A=o.box,l=n[o.stack]||{placed:0,weight:1},c=o.stackWeight/l.weight||1;if(o.horizontal){const u=e.w*c,h=l.size||A.height;ix(l.start)&&(a=l.start),A.fullSize?BE(A,i.left,a,t.outerWidth-i.right-i.left,h):BE(A,e.left+l.placed,a,u,h),l.start=a,l.placed+=u,a=A.bottom}else{const u=e.h*c,h=l.size||A.width;ix(l.start)&&(s=l.start),A.fullSize?BE(A,s,i.top,h,t.outerHeight-i.bottom-i.top):BE(A,s,e.top+l.placed,h,u),l.start=s,l.placed+=u,s=A.right}}e.x=s,e.y=a}var Fa={addBox(r,e){r.boxes||(r.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},r.boxes.push(e)},removeBox(r,e){const t=r.boxes?r.boxes.indexOf(e):-1;t!==-1&&r.boxes.splice(t,1)},configure(r,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(r,e,t,n){if(!r)return;const i=Ra(r.options.layout.padding),s=Math.max(e-i.width,0),a=Math.max(t-i.height,0),o=wye(r.boxes),A=o.vertical,l=o.horizontal;un(r.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const c=A.reduce((p,v)=>v.box.options&&v.box.options.display===!1?p:p+1,0)||1,u=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/c,hBoxMaxHeight:a/2}),h=Object.assign({},i);kq(h,Ra(n));const f=Object.assign({maxPadding:h,w:s,h:a,x:i.left,y:i.top},i),d=vye(A.concat(l),u);_y(o.fullSize,f,u,d),_y(A,f,u,d),_y(l,f,u,d)&&_y(A,f,u,d),xye(f),b8(o.leftAndTop,f,u,d),f.x+=f.w,f.y+=f.h,b8(o.rightAndBottom,f,u,d),r.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},un(o.chartArea,p=>{const v=p.box;Object.assign(v,r.chartArea),v.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class Lq{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,i){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):n)}}isAttached(e){return!0}updateConfig(e){}}class bye extends Lq{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const fB="$chartjs",Eye={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},E8=r=>r===null||r==="";function Cye(r,e){const t=r.style,n=r.getAttribute("height"),i=r.getAttribute("width");if(r[fB]={initial:{height:n,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",E8(i)){const s=o8(r,"width");s!==void 0&&(r.width=s)}if(E8(n))if(r.style.height==="")r.height=r.width/(e||2);else{const s=o8(r,"height");s!==void 0&&(r.height=s)}return r}const Pq=Bwe?{passive:!0}:!1;function Bye(r,e,t){r&&r.addEventListener(e,t,Pq)}function Sye(r,e,t){r&&r.canvas&&r.canvas.removeEventListener(e,t,Pq)}function Tye(r,e){const t=Eye[r.type]||r.type,{x:n,y:i}=N0(r,e);return{type:t,chart:e,native:r,x:n!==void 0?n:null,y:i!==void 0?i:null}}function OS(r,e){for(const t of r)if(t===e||t.contains(e))return!0}function Fye(r,e,t){const n=r.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||OS(o.addedNodes,n),a=a&&!OS(o.removedNodes,n);a&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function Iye(r,e,t){const n=r.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||OS(o.removedNodes,n),a=a&&!OS(o.addedNodes,n);a&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const ox=new Map;let C8=0;function Rq(){const r=window.devicePixelRatio;r!==C8&&(C8=r,ox.forEach((e,t)=>{t.currentDevicePixelRatio!==r&&e()}))}function kye(r,e){ox.size||window.addEventListener("resize",Rq),ox.set(r,e)}function Lye(r){ox.delete(r),ox.size||window.removeEventListener("resize",Rq)}function Pye(r,e,t){const n=r.canvas,i=n&&HN(n);if(!i)return;const s=lq((o,A)=>{const l=i.clientWidth;t(o,A),l<i.clientWidth&&t()},window),a=new ResizeObserver(o=>{const A=o[0],l=A.contentRect.width,c=A.contentRect.height;l===0&&c===0||s(l,c)});return a.observe(i),kye(r,s),a}function d4(r,e,t){t&&t.disconnect(),e==="resize"&&Lye(r)}function Rye(r,e,t){const n=r.canvas,i=lq(s=>{r.ctx!==null&&t(Tye(s,r))},r);return Bye(n,e,i),i}class Nye extends Lq{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(Cye(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[fB])return!1;const n=t[fB].initial;["height","width"].forEach(s=>{const a=n[s];Sr(a)?t.removeAttribute(s):t.setAttribute(s,a)});const i=n.style||{};return Object.keys(i).forEach(s=>{t.style[s]=i[s]}),t.width=t.width,delete t[fB],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),a={attach:Fye,detach:Iye,resize:Pye}[t]||Rye;i[t]=a(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),i=n[t];if(!i)return;({attach:d4,detach:d4,resize:d4}[t]||Sye)(e,t,i),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,i){return Cwe(e,t,n,i)}isAttached(e){const t=e&&HN(e);return!!(t&&t.isConnected)}}function Dye(r){return!QN()||typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas?bye:Nye}class Yl{constructor(){De(this,"x");De(this,"y");De(this,"active",!1);De(this,"options");De(this,"$animations")}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return Dv(this.x)&&Dv(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const i={};return e.forEach(s=>{i[s]=n[s]&&n[s].active()?n[s]._to:this[s]}),i}}De(Yl,"defaults",{}),De(Yl,"defaultRoutes");function Uye(r,e){const t=r.options.ticks,n=Mye(r),i=Math.min(t.maxTicksLimit||n,n),s=t.major.enabled?Qye(e):[],a=s.length,o=s[0],A=s[a-1],l=[];if(a>i)return Hye(e,l,s,a/i),l;const c=Oye(s,e,i);if(a>0){let u,h;const f=a>1?Math.round((A-o)/(a-1)):null;for(SE(e,l,c,Sr(f)?0:o-f,o),u=0,h=a-1;u<h;u++)SE(e,l,c,s[u],s[u+1]);return SE(e,l,c,A,Sr(f)?e.length:A+f),l}return SE(e,l,c),l}function Mye(r){const e=r.options.offset,t=r._tickSize(),n=r._length/t+(e?0:1),i=r._maxLength/t;return Math.floor(Math.min(n,i))}function Oye(r,e,t){const n=Vye(r),i=e.length/t;if(!n)return Math.max(i,1);const s=Tve(n);for(let a=0,o=s.length-1;a<o;a++){const A=s[a];if(A>i)return A}return Math.max(i,1)}function Qye(r){const e=[];let t,n;for(t=0,n=r.length;t<n;t++)r[t].major&&e.push(t);return e}function Hye(r,e,t,n){let i=0,s=t[0],a;for(n=Math.ceil(n),a=0;a<r.length;a++)a===s&&(e.push(r[a]),i++,s=t[i*n])}function SE(r,e,t,n,i){const s=cr(n,0),a=Math.min(cr(i,r.length),r.length);let o=0,A,l,c;for(t=Math.ceil(t),i&&(A=i-n,t=A/Math.floor(A/t)),c=s;c<0;)o++,c=Math.round(s+o*t);for(l=Math.max(s,0);l<a;l++)l===c&&(e.push(r[l]),o++,c=Math.round(s+o*t))}function Vye(r){const e=r.length;let t,n;if(e<2)return!1;for(n=r[0],t=1;t<e;++t)if(r[t]-r[t-1]!==n)return!1;return n}const jye=r=>r==="left"?"right":r==="right"?"left":r,B8=(r,e,t)=>e==="top"||e==="left"?r[e]+t:r[e]-t,S8=(r,e)=>Math.min(e||r,r);function T8(r,e){const t=[],n=r.length/e,i=r.length;let s=0;for(;s<i;s+=n)t.push(r[Math.floor(s)]);return t}function Kye(r,e,t){const n=r.ticks.length,i=Math.min(e,n-1),s=r._startPixel,a=r._endPixel,o=1e-6;let A=r.getPixelForTick(i),l;if(!(t&&(n===1?l=Math.max(A-s,a-A):e===0?l=(r.getPixelForTick(1)-A)/2:l=(A-r.getPixelForTick(i-1))/2,A+=i<e?l:-l,A<s-o||A>a+o)))return A}function zye(r,e){un(r,t=>{const n=t.gc,i=n.length/2;let s;if(i>e){for(s=0;s<i;++s)delete t.data[n[s]];n.splice(0,i)}})}function Mw(r){return r.drawTicks?r.tickLength:0}function F8(r,e){if(!r.display)return 0;const t=ls(r.font,e),n=Ra(r.padding);return(qn(r.text)?r.text.length:1)*t.lineHeight+n.height}function Wye(r,e){return A0(r,{scale:e,type:"scale"})}function Gye(r,e,t){return A0(r,{tick:t,index:e,type:"tick"})}function $ye(r,e,t){let n=RN(r);return(t&&e!=="right"||!t&&e==="right")&&(n=jye(n)),n}function qye(r,e,t,n){const{top:i,left:s,bottom:a,right:o,chart:A}=r,{chartArea:l,scales:c}=A;let u=0,h,f,d;const p=a-i,v=o-s;if(r.isHorizontal()){if(f=va(n,s,o),Lr(t)){const m=Object.keys(t)[0],x=t[m];d=c[m].getPixelForValue(x)+p-e}else t==="center"?d=(l.bottom+l.top)/2+p-e:d=B8(r,t,e);h=o-s}else{if(Lr(t)){const m=Object.keys(t)[0],x=t[m];f=c[m].getPixelForValue(x)-v+e}else t==="center"?f=(l.left+l.right)/2-v+e:f=B8(r,t,e);d=va(n,a,i),u=t==="left"?-Ni:Ni}return{titleX:f,titleY:d,maxWidth:h,rotation:u}}class Kg extends Yl{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:i}=this;return e=Yo(e,Number.POSITIVE_INFINITY),t=Yo(t,Number.NEGATIVE_INFINITY),n=Yo(n,Number.POSITIVE_INFINITY),i=Yo(i,Number.NEGATIVE_INFINITY),{min:Yo(e,n),max:Yo(t,i),minDefined:wi(e),maxDefined:wi(t)}}getMinMax(e){let{min:t,max:n,minDefined:i,maxDefined:s}=this.getUserBounds(),a;if(i&&s)return{min:t,max:n};const o=this.getMatchingVisibleMetas();for(let A=0,l=o.length;A<l;++A)a=o[A].controller.getMinMax(this,e),i||(t=Math.min(t,a.min)),s||(n=Math.max(n,a.max));return t=s&&t>n?n:t,n=i&&t>n?t:n,{min:Yo(t,Yo(n,t)),max:Yo(n,Yo(t,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){kn(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:i,grace:s,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=nwe(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const A=o<this.ticks.length;this._convertTicksToLabels(A?T8(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=Uye(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),A&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,n;this.isHorizontal()?(t=this.left,n=this.right):(t=this.top,n=this.bottom,e=!e),this._startPixel=t,this._endPixel=n,this._reversePixels=e,this._length=n-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){kn(this.options.afterUpdate,[this])}beforeSetDimensions(){kn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){kn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),kn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){kn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,i,s;for(n=0,i=e.length;n<i;n++)s=e[n],s.label=kn(t.callback,[s.value,n,e],this)}afterTickToLabelConversion(){kn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){kn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=S8(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,s=t.maxRotation;let a=i,o,A,l;if(!this._isVisible()||!t.display||i>=s||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const c=this._getLabelSizes(),u=c.widest.width,h=c.highest.height,f=Bs(this.chart.width-u,0,this.maxWidth);o=e.offset?this.maxWidth/n:f/(n-1),u+6>o&&(o=f/(n-(e.offset?.5:1)),A=this.maxHeight-Mw(e.grid)-t.padding-F8(e.title,this.chart.options.font),l=Math.sqrt(u*u+h*h),a=LN(Math.min(Math.asin(Bs((c.highest.height+6)/o,-1,1)),Math.asin(Bs(A/l,-1,1))-Math.asin(Bs(h/l,-1,1)))),a=Math.max(i,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){kn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){kn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:i,grid:s}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const A=F8(i,t.options.font);if(o?(e.width=this.maxWidth,e.height=Mw(s)+A):(e.height=this.maxHeight,e.width=Mw(s)+A),n.display&&this.ticks.length){const{first:l,last:c,widest:u,highest:h}=this._getLabelSizes(),f=n.padding*2,d=Vl(this.labelRotation),p=Math.cos(d),v=Math.sin(d);if(o){const m=n.mirror?0:v*u.width+p*h.height;e.height=Math.min(this.maxHeight,e.height+m+f)}else{const m=n.mirror?0:p*u.width+v*h.height;e.width=Math.min(this.maxWidth,e.width+m+f)}this._calculatePadding(l,c,v,p)}}this._handleMargins(),o?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,i){const{ticks:{align:s,padding:a},position:o}=this.options,A=this.labelRotation!==0,l=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const c=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,f=0;A?l?(h=i*e.width,f=n*t.height):(h=n*e.height,f=i*t.width):s==="start"?f=t.width:s==="end"?h=e.width:s!=="inner"&&(h=e.width/2,f=t.width/2),this.paddingLeft=Math.max((h-c+a)*this.width/(this.width-c),0),this.paddingRight=Math.max((f-u+a)*this.width/(this.width-u),0)}else{let c=t.height/2,u=e.height/2;s==="start"?(c=0,u=e.height):s==="end"&&(c=t.height,u=0),this.paddingTop=c+a,this.paddingBottom=u+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){kn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,n;for(t=0,n=e.length;t<n;t++)Sr(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=T8(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:i,_longestTextCache:s}=this,a=[],o=[],A=Math.floor(t/S8(t,n));let l=0,c=0,u,h,f,d,p,v,m,x,b,T,R;for(u=0;u<t;u+=A){if(d=e[u].label,p=this._resolveTickFontOptions(u),i.font=v=p.string,m=s[v]=s[v]||{data:{},gc:[]},x=p.lineHeight,b=T=0,!Sr(d)&&!qn(d))b=US(i,m.data,m.gc,b,d),T=x;else if(qn(d))for(h=0,f=d.length;h<f;++h)R=d[h],!Sr(R)&&!qn(R)&&(b=US(i,m.data,m.gc,b,R),T+=x);a.push(b),o.push(T),l=Math.max(b,l),c=Math.max(T,c)}zye(s,t);const P=a.indexOf(l),B=o.indexOf(c),E=_=>({width:a[_]||0,height:o[_]||0});return{first:E(0),last:E(t-1),widest:E(P),highest:E(B),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Lve(this._alignToPixels?E0(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=Gye(this.getContext(),e,n))}return this.$context||(this.$context=Wye(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Vl(this.labelRotation),n=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,o=s?s.widest.width+a:0,A=s?s.highest.height+a:0;return this.isHorizontal()?A*n>o*i?o/n:A/i:A*i<o*n?A/n:o/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,i=this.options,{grid:s,position:a,border:o}=i,A=s.offset,l=this.isHorizontal(),u=this.ticks.length+(A?1:0),h=Mw(s),f=[],d=o.setContext(this.getContext()),p=d.display?d.width:0,v=p/2,m=function(ie){return E0(n,ie,p)};let x,b,T,R,P,B,E,_,I,S,F,N;if(a==="top")x=m(this.bottom),B=this.bottom-h,_=x-v,S=m(e.top)+v,N=e.bottom;else if(a==="bottom")x=m(this.top),S=e.top,N=m(e.bottom)-v,B=x+v,_=this.top+h;else if(a==="left")x=m(this.right),P=this.right-h,E=x-v,I=m(e.left)+v,F=e.right;else if(a==="right")x=m(this.left),I=e.left,F=m(e.right)-v,P=x+v,E=this.left+h;else if(t==="x"){if(a==="center")x=m((e.top+e.bottom)/2+.5);else if(Lr(a)){const ie=Object.keys(a)[0],te=a[ie];x=m(this.chart.scales[ie].getPixelForValue(te))}S=e.top,N=e.bottom,B=x+v,_=B+h}else if(t==="y"){if(a==="center")x=m((e.left+e.right)/2);else if(Lr(a)){const ie=Object.keys(a)[0],te=a[ie];x=m(this.chart.scales[ie].getPixelForValue(te))}P=x-v,E=P-h,I=e.left,F=e.right}const G=cr(i.ticks.maxTicksLimit,u),le=Math.max(1,Math.ceil(u/G));for(b=0;b<u;b+=le){const ie=this.getContext(b),te=s.setContext(ie),J=o.setContext(ie),W=te.lineWidth,be=te.color,xe=J.dash||[],L=J.dashOffset,O=te.tickWidth,H=te.tickColor,Q=te.tickBorderDash||[],Y=te.tickBorderDashOffset;T=Kye(this,b,A),T!==void 0&&(R=E0(n,T,W),l?P=E=I=F=R:B=_=S=N=R,f.push({tx1:P,ty1:B,tx2:E,ty2:_,x1:I,y1:S,x2:F,y2:N,width:W,color:be,borderDash:xe,borderDashOffset:L,tickWidth:O,tickColor:H,tickBorderDash:Q,tickBorderDashOffset:Y}))}return this._ticksLength=u,this._borderValue=x,f}_computeLabelItems(e){const t=this.axis,n=this.options,{position:i,ticks:s}=n,a=this.isHorizontal(),o=this.ticks,{align:A,crossAlign:l,padding:c,mirror:u}=s,h=Mw(n.grid),f=h+c,d=u?-c:f,p=-Vl(this.labelRotation),v=[];let m,x,b,T,R,P,B,E,_,I,S,F,N="middle";if(i==="top")P=this.bottom-d,B=this._getXAxisLabelAlignment();else if(i==="bottom")P=this.top+d,B=this._getXAxisLabelAlignment();else if(i==="left"){const le=this._getYAxisLabelAlignment(h);B=le.textAlign,R=le.x}else if(i==="right"){const le=this._getYAxisLabelAlignment(h);B=le.textAlign,R=le.x}else if(t==="x"){if(i==="center")P=(e.top+e.bottom)/2+f;else if(Lr(i)){const le=Object.keys(i)[0],ie=i[le];P=this.chart.scales[le].getPixelForValue(ie)+f}B=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")R=(e.left+e.right)/2-f;else if(Lr(i)){const le=Object.keys(i)[0],ie=i[le];R=this.chart.scales[le].getPixelForValue(ie)}B=this._getYAxisLabelAlignment(h).textAlign}t==="y"&&(A==="start"?N="top":A==="end"&&(N="bottom"));const G=this._getLabelSizes();for(m=0,x=o.length;m<x;++m){b=o[m],T=b.label;const le=s.setContext(this.getContext(m));E=this.getPixelForTick(m)+s.labelOffset,_=this._resolveTickFontOptions(m),I=_.lineHeight,S=qn(T)?T.length:1;const ie=S/2,te=le.color,J=le.textStrokeColor,W=le.textStrokeWidth;let be=B;a?(R=E,B==="inner"&&(m===x-1?be=this.options.reverse?"left":"right":m===0?be=this.options.reverse?"right":"left":be="center"),i==="top"?l==="near"||p!==0?F=-S*I+I/2:l==="center"?F=-G.highest.height/2-ie*I+I:F=-G.highest.height+I/2:l==="near"||p!==0?F=I/2:l==="center"?F=G.highest.height/2-ie*I:F=G.highest.height-S*I,u&&(F*=-1),p!==0&&!le.showLabelBackdrop&&(R+=I/2*Math.sin(p))):(P=E,F=(1-S)*I/2);let xe;if(le.showLabelBackdrop){const L=Ra(le.backdropPadding),O=G.heights[m],H=G.widths[m];let Q=F-L.top,Y=0-L.left;switch(N){case"middle":Q-=O/2;break;case"bottom":Q-=O;break}switch(B){case"center":Y-=H/2;break;case"right":Y-=H;break;case"inner":m===x-1?Y-=H:m>0&&(Y-=H/2);break}xe={left:Y,top:Q,width:H+L.width,height:O+L.height,color:le.backdropColor}}v.push({label:T,font:_,textOffset:F,options:{rotation:p,color:te,strokeColor:J,strokeWidth:W,textAlign:be,textBaseline:N,translation:[R,P],backdrop:xe}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Vl(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:i,padding:s}}=this.options,a=this._getLabelSizes(),o=e+s,A=a.widest.width;let l,c;return t==="left"?i?(c=this.right+s,n==="near"?l="left":n==="center"?(l="center",c+=A/2):(l="right",c+=A)):(c=this.right-o,n==="near"?l="right":n==="center"?(l="center",c-=A/2):(l="left",c=this.left)):t==="right"?i?(c=this.left+s,n==="near"?l="right":n==="center"?(l="center",c-=A/2):(l="left",c-=A)):(c=this.left+o,n==="near"?l="left":n==="center"?(l="center",c+=A/2):(l="right",c=this.right)):l="right",{textAlign:l,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:i,width:s,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,i,s,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const o=(A,l,c)=>{!c.width||!c.color||(n.save(),n.lineWidth=c.width,n.strokeStyle=c.color,n.setLineDash(c.borderDash||[]),n.lineDashOffset=c.borderDashOffset,n.beginPath(),n.moveTo(A.x,A.y),n.lineTo(l.x,l.y),n.stroke(),n.restore())};if(t.display)for(s=0,a=i.length;s<a;++s){const A=i[s];t.drawOnChartArea&&o({x:A.x1,y:A.y1},{x:A.x2,y:A.y2},A),t.drawTicks&&o({x:A.tx1,y:A.ty1},{x:A.tx2,y:A.ty2},{color:A.tickColor,width:A.tickWidth,borderDash:A.tickBorderDash,borderDashOffset:A.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:i}}=this,s=n.setContext(this.getContext()),a=n.display?s.width:0;if(!a)return;const o=i.setContext(this.getContext(0)).lineWidth,A=this._borderValue;let l,c,u,h;this.isHorizontal()?(l=E0(e,this.left,a)-a/2,c=E0(e,this.right,o)+o/2,u=h=A):(u=E0(e,this.top,a)-a/2,h=E0(e,this.bottom,o)+o/2,l=c=A),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(l,u),t.lineTo(c,h),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&xT(n,i);const s=this.getLabelItems(e);for(const a of s){const o=a.options,A=a.font,l=a.label,c=a.textOffset;Fg(n,l,0,c,A,o)}i&&_T(n)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:i}}=this;if(!n.display)return;const s=ls(n.font),a=Ra(n.padding),o=n.align;let A=s.lineHeight/2;t==="bottom"||t==="center"||Lr(t)?(A+=a.bottom,qn(n.text)&&(A+=s.lineHeight*(n.text.length-1))):A+=a.top;const{titleX:l,titleY:c,maxWidth:u,rotation:h}=qye(this,A,t,o);Fg(e,n.text,0,0,s,{color:n.color,maxWidth:u,rotation:h,textAlign:$ye(o,t,i),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=cr(e.grid&&e.grid.z,-1),i=cr(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Kg.prototype.draw?[{z:t,draw:s=>{this.draw(s)}}]:[{z:n,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let s,a;for(s=0,a=t.length;s<a;++s){const o=t[s];o[n]===this.id&&(!e||o.type===e)&&i.push(o)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return ls(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class TE{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;Jye(t)&&(n=this.register(t));const i=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,Xye(e,a,n),this.override&&Xn.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,i=this.scope;n in t&&delete t[n],i&&n in Xn[i]&&(delete Xn[i][n],this.override&&delete Tg[n])}}function Xye(r,e,t){const n=nx(Object.create(null),[t?Xn.get(t):{},Xn.get(e),r.defaults]);Xn.set(e,n),r.defaultRoutes&&Yye(e,r.defaultRoutes),r.descriptors&&Xn.describe(e,r.descriptors)}function Yye(r,e){Object.keys(e).forEach(t=>{const n=t.split("."),i=n.pop(),s=[r].concat(n).join("."),a=e[t].split("."),o=a.pop(),A=a.join(".");Xn.route(s,i,A,o)})}function Jye(r){return"id"in r&&"defaults"in r}class Zye{constructor(){this.controllers=new TE(Gl,"datasets",!0),this.elements=new TE(Yl,"elements"),this.plugins=new TE(Object,"plugins"),this.scales=new TE(Kg,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,n){[...t].forEach(i=>{const s=n||this._getRegistryForType(i);n||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):un(i,a=>{const o=n||this._getRegistryForType(a);this._exec(e,o,a)})})}_exec(e,t,n){const i=kN(e);kn(n["before"+i],[],n),t[e](n),kn(n["after"+i],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return i}}var Cc=new Zye;class e2e{constructor(){this._init=void 0}notify(e,t,n,i){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const s=i?this._descriptors(e).filter(i):this._descriptors(e),a=this._notify(s,e,t,n);return t==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,t,n,i){i=i||{};for(const s of e){const a=s.plugin,o=a[n],A=[t,i,s.options];if(kn(o,A,a)===!1&&i.cancelable)return!1}return!0}invalidate(){Sr(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,i=cr(n.options&&n.options.plugins,{}),s=t2e(n);return i===!1&&!t?[]:n2e(e,s,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,i=(s,a)=>s.filter(o=>!a.some(A=>o.plugin.id===A.plugin.id));this._notify(i(t,n),e,"stop"),this._notify(i(n,t),e,"start")}}function t2e(r){const e={},t=[],n=Object.keys(Cc.plugins.items);for(let s=0;s<n.length;s++)t.push(Cc.getPlugin(n[s]));const i=r.plugins||[];for(let s=0;s<i.length;s++){const a=i[s];t.indexOf(a)===-1&&(t.push(a),e[a.id]=!0)}return{plugins:t,localIds:e}}function r2e(r,e){return!e&&r===!1?null:r===!0?{}:r}function n2e(r,{plugins:e,localIds:t},n,i){const s=[],a=r.getContext();for(const o of e){const A=o.id,l=r2e(n[A],i);l!==null&&s.push({plugin:o,options:i2e(r.config,{plugin:o,local:t[A]},l,a)})}return s}function i2e(r,{plugin:e,local:t},n,i){const s=r.pluginScopeKeys(e),a=r.getOptionScopes(n,s);return t&&e.defaults&&a.push(e.defaults),r.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function lL(r,e){const t=Xn.datasets[r]||{};return((e.datasets||{})[r]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function s2e(r,e){let t=r;return r==="_index_"?t=e:r==="_value_"&&(t=e==="x"?"y":"x"),t}function a2e(r,e){return r===e?"_index_":"_value_"}function I8(r){if(r==="x"||r==="y"||r==="r")return r}function o2e(r){if(r==="top"||r==="bottom")return"x";if(r==="left"||r==="right")return"y"}function cL(r,...e){if(I8(r))return r;for(const t of e){const n=t.axis||o2e(t.position)||r.length>1&&I8(r[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${r}' axis. Please provide 'axis' or 'position' option.`)}function k8(r,e,t){if(t[e+"AxisID"]===r)return{axis:e}}function A2e(r,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(n=>n.xAxisID===r||n.yAxisID===r);if(t.length)return k8(r,"x",t[0])||k8(r,"y",t[0])}return{}}function l2e(r,e){const t=Tg[r.type]||{scales:{}},n=e.scales||{},i=lL(r.type,e),s=Object.create(null);return Object.keys(n).forEach(a=>{const o=n[a];if(!Lr(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const A=cL(a,o,A2e(a,r),Xn.scales[o.type]),l=a2e(A,i),c=t.scales||{};s[a]=n2(Object.create(null),[{axis:A},o,c[A],c[l]])}),r.data.datasets.forEach(a=>{const o=a.type||r.type,A=a.indexAxis||lL(o,e),c=(Tg[o]||{}).scales||{};Object.keys(c).forEach(u=>{const h=s2e(u,A),f=a[h+"AxisID"]||h;s[f]=s[f]||Object.create(null),n2(s[f],[{axis:h},n[f],c[u]])})}),Object.keys(s).forEach(a=>{const o=s[a];n2(o,[Xn.scales[o.type],Xn.scale])}),s}function Nq(r){const e=r.options||(r.options={});e.plugins=cr(e.plugins,{}),e.scales=l2e(r,e)}function Dq(r){return r=r||{},r.datasets=r.datasets||[],r.labels=r.labels||[],r}function c2e(r){return r=r||{},r.data=Dq(r.data),Nq(r),r}const L8=new Map,Uq=new Set;function FE(r,e){let t=L8.get(r);return t||(t=e(),L8.set(r,t),Uq.add(t)),t}const Ow=(r,e,t)=>{const n=Xd(e,t);n!==void 0&&r.add(n)};class u2e{constructor(e){this._config=c2e(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Dq(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Nq(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return FE(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return FE(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return FE(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,n=this.type;return FE(`${n}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const n=this._scopeCache;let i=n.get(e);return(!i||t)&&(i=new Map,n.set(e,i)),i}getOptionScopes(e,t,n){const{options:i,type:s}=this,a=this._cachedScopes(e,n),o=a.get(t);if(o)return o;const A=new Set;t.forEach(c=>{e&&(A.add(e),c.forEach(u=>Ow(A,e,u))),c.forEach(u=>Ow(A,i,u)),c.forEach(u=>Ow(A,Tg[s]||{},u)),c.forEach(u=>Ow(A,Xn,u)),c.forEach(u=>Ow(A,aL,u))});const l=Array.from(A);return l.length===0&&l.push(Object.create(null)),Uq.has(t)&&a.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,Tg[t]||{},Xn.datasets[t]||{},{type:t},Xn,aL]}resolveNamedOptions(e,t,n,i=[""]){const s={$shared:!0},{resolver:a,subPrefixes:o}=P8(this._resolverCache,e,i);let A=a;if(f2e(a,t)){s.$shared=!1,n=Yd(n)?n():n;const l=this.createResolver(e,n,o);A=Uv(a,n,l)}for(const l of t)s[l]=A[l];return s}createResolver(e,t,n=[""],i){const{resolver:s}=P8(this._resolverCache,e,n);return Lr(t)?Uv(s,t,void 0,i):s}}function P8(r,e,t){let n=r.get(e);n||(n=new Map,r.set(e,n));const i=t.join();let s=n.get(i);return s||(s={resolver:UN(e,t),subPrefixes:t.filter(o=>!o.toLowerCase().includes("hover"))},n.set(i,s)),s}const h2e=r=>Lr(r)&&Object.getOwnPropertyNames(r).some(e=>Yd(r[e]));function f2e(r,e){const{isScriptable:t,isIndexable:n}=pq(r);for(const i of e){const s=t(i),a=n(i),o=(a||s)&&r[i];if(s&&(Yd(o)||h2e(o))||a&&qn(o))return!0}return!1}var d2e="4.5.1";const p2e=["top","bottom","left","right","chartArea"];function R8(r,e){return r==="top"||r==="bottom"||p2e.indexOf(r)===-1&&e==="x"}function N8(r,e){return function(t,n){return t[r]===n[r]?t[e]-n[e]:t[r]-n[r]}}function D8(r){const e=r.chart,t=e.options.animation;e.notifyPlugins("afterRender"),kn(t&&t.onComplete,[r],e)}function g2e(r){const e=r.chart,t=e.options.animation;kn(t&&t.onProgress,[r],e)}function Mq(r){return QN()&&typeof r=="string"?r=document.getElementById(r):r&&r.length&&(r=r[0]),r&&r.canvas&&(r=r.canvas),r}const dB={},U8=r=>{const e=Mq(r);return Object.values(dB).filter(t=>t.canvas===e).pop()};function m2e(r,e,t){const n=Object.keys(r);for(const i of n){const s=+i;if(s>=e){const a=r[i];delete r[i],(t>0||s>e)&&(r[s+t]=a)}}}function v2e(r,e,t,n){return!t||r.type==="mouseout"?null:n?e:r}class jc{static register(...e){Cc.add(...e),M8()}static unregister(...e){Cc.remove(...e),M8()}constructor(e,t){const n=this.config=new u2e(t),i=Mq(e),s=U8(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||Dye(i)),this.platform.updateConfig(n);const o=this.platform.acquireContext(i,a.aspectRatio),A=o&&o.canvas,l=A&&A.height,c=A&&A.width;if(this.id=wve(),this.ctx=o,this.canvas=A,this.width=c,this.height=l,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new e2e,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Dve(u=>this.update(u),a.resizeDelay||0),this._dataChanges=[],dB[this.id]=this,!o||!A){console.error("Failed to create chart: can't acquire context from the given item");return}Iu.listen(this,"complete",D8),Iu.listen(this,"progress",g2e),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:i,_aspectRatio:s}=this;return Sr(e)?t&&s?s:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Cc}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():a8(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return n8(this.canvas,this.ctx),this}stop(){return Iu.stop(this),this}resize(e,t){Iu.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,i=this.canvas,s=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,e,t,s),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),A=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,a8(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),kn(n.onResize,[this,a],this),this.attached&&this._doResize(A)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};un(t,(n,i)=>{n.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,i=Object.keys(n).reduce((a,o)=>(a[o]=!1,a),{});let s=[];t&&(s=s.concat(Object.keys(t).map(a=>{const o=t[a],A=cL(a,o),l=A==="r",c=A==="x";return{options:o,dposition:l?"chartArea":c?"bottom":"left",dtype:l?"radialLinear":c?"category":"linear"}}))),un(s,a=>{const o=a.options,A=o.id,l=cL(A,o),c=cr(o.type,a.dtype);(o.position===void 0||R8(o.position,l)!==R8(a.dposition))&&(o.position=a.dposition),i[A]=!0;let u=null;if(A in n&&n[A].type===c)u=n[A];else{const h=Cc.getScale(c);u=new h({id:A,type:c,ctx:this.ctx,chart:this}),n[u.id]=u}u.init(o,e)}),un(i,(a,o)=>{a||delete n[o]}),un(n,a=>{Fa.configure(this,a,a.options),Fa.addBox(this,a)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((i,s)=>i.index-s.index),n>t){for(let i=t;i<n;++i)this._destroyDatasetMeta(i);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(N8("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((n,i)=>{t.filter(s=>s===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=t.length;n<i;n++){const s=t[n];let a=this.getDatasetMeta(n);const o=s.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(n),a=this.getDatasetMeta(n)),a.type=o,a.indexAxis=s.indexAxis||lL(o,this.options),a.order=s.order||0,a.index=n,a.label=""+s.label,a.visible=this.isDatasetVisible(n),a.controller)a.controller.updateIndex(n),a.controller.linkScales();else{const A=Cc.getController(o),{datasetElementType:l,dataElementType:c}=Xn.datasets[o];Object.assign(A,{dataElementType:Cc.getElement(c),datasetElementType:l&&Cc.getElement(l)}),a.controller=new A(this,n),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){un(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:u}=this.getDatasetMeta(l),h=!i&&s.indexOf(u)===-1;u.buildOrUpdateElements(h),a=Math.max(+u.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),i||un(s,l=>{l.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(N8("z","_idx"));const{_active:o,_lastEvent:A}=this;A?this._eventHandler(A,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){un(this.scales,e=>{Fa.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!$6(t,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:s}of t){const a=n==="_removeElements"?-s:s;m2e(e,i,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=s=>new Set(e.filter(a=>a[0]===s).map((a,o)=>o+","+a.splice(1).join(","))),i=n(0);for(let s=1;s<t;s++)if(!$6(i,n(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Fa.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],un(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,n=this.data.datasets.length;t<n;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,Yd(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),i={meta:n,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Iu.has(this)?this.attached&&!Iu.running(this)&&Iu.start(this):(this.draw(),D8({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let i,s;for(i=0,s=t.length;i<s;++i){const a=t[i];(!e||a.visible)&&n.push(a)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n={meta:e,index:e.index,cancelable:!0},i=Bq(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(i&&xT(t,i),e.controller.draw(),i&&_T(t),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return wh(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,i){const s=pye.modes[t];return typeof s=="function"?s(this,e,n,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let i=n.filter(s=>s&&s._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=A0(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!t.hidden}setDatasetVisibility(e,t){const n=this.getDatasetMeta(e);n.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const i=n?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,i);ix(t)?(s.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),a.update(s,{visible:n}),this.update(o=>o.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Iu.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),n8(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete dB[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(s,a)=>{t.addEventListener(this,s,a),e[s]=a},i=(s,a,o)=>{s.offsetX=a,s.offsetY=o,this._eventHandler(s)};un(this.options.events,s=>n(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(A,l)=>{t.addEventListener(this,A,l),e[A]=l},i=(A,l)=>{e[A]&&(t.removeEventListener(this,A,l),delete e[A])},s=(A,l)=>{this.canvas&&this.resize(A,l)};let a;const o=()=>{i("attach",o),this.attached=!0,this.resize(),n("resize",s),n("detach",a)};a=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),n("attach",o)},t.isAttached(this.canvas)?o():a()}unbindEvents(){un(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},un(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const i=n?"set":"remove";let s,a,o,A;for(t==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),o=0,A=e.length;o<A;++o){a=e[o];const l=a&&this.getDatasetMeta(a.datasetIndex).controller;l&&l[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map(({datasetIndex:s,index:a})=>{const o=this.getDatasetMeta(s);if(!o)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:o.data[a],index:a}});!RS(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,n){const i=this.options.hover,s=(A,l)=>A.filter(c=>!l.some(u=>c.datasetIndex===u.datasetIndex&&c.index===u.index)),a=s(t,e),o=n?e:s(e,t);a.length&&this.updateHoverStyle(a,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const s=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(s||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:i=[],options:s}=this,a=t,o=this._getActiveElements(e,i,n,a),A=Cve(e),l=v2e(e,this._lastEvent,n,A);n&&(this._lastEvent=null,kn(s.onHover,[e,o,this],this),A&&kn(s.onClick,[e,o,this],this));const c=!RS(o,i);return(c||t)&&(this._active=o,this._updateHoverStyles(o,i,t)),this._lastEvent=l,c}_getActiveElements(e,t,n,i){if(e.type==="mouseout")return[];if(!n)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}}De(jc,"defaults",Xn),De(jc,"instances",dB),De(jc,"overrides",Tg),De(jc,"registry",Cc),De(jc,"version",d2e),De(jc,"getChart",U8);function M8(){return un(jc.instances,r=>r._plugins.invalidate())}function w2e(r,e,t){const{startAngle:n,x:i,y:s,outerRadius:a,innerRadius:o,options:A}=e,{borderWidth:l,borderJoinStyle:c}=A,u=Math.min(l/a,_a(n-t));if(r.beginPath(),r.arc(i,s,a-l/2,n+u/2,t-u/2),o>0){const h=Math.min(l/o,_a(n-t));r.arc(i,s,o+l/2,t-h/2,n+h/2,!0)}else{const h=Math.min(l/2,a*_a(n-t));if(c==="round")r.arc(i,s,h,t-Xr/2,n+Xr/2,!0);else if(c==="bevel"){const f=2*h*h,d=-f*Math.cos(t+Xr/2)+i,p=-f*Math.sin(t+Xr/2)+s,v=f*Math.cos(n+Xr/2)+i,m=f*Math.sin(n+Xr/2)+s;r.lineTo(d,p),r.lineTo(v,m)}}r.closePath(),r.moveTo(0,0),r.rect(0,0,r.canvas.width,r.canvas.height),r.clip("evenodd")}function y2e(r,e,t){const{startAngle:n,pixelMargin:i,x:s,y:a,outerRadius:o,innerRadius:A}=e;let l=i/o;r.beginPath(),r.arc(s,a,o,n-l,t+l),A>i?(l=i/A,r.arc(s,a,A,t+l,n-l,!0)):r.arc(s,a,i,t+Ni,n-Ni),r.closePath(),r.clip()}function x2e(r){return DN(r,["outerStart","outerEnd","innerStart","innerEnd"])}function _2e(r,e,t,n){const i=x2e(r.options.borderRadius),s=(t-e)/2,a=Math.min(s,n*e/2),o=A=>{const l=(t-Math.min(s,A))*n/2;return Bs(A,0,Math.min(s,l))};return{outerStart:o(i.outerStart),outerEnd:o(i.outerEnd),innerStart:Bs(i.innerStart,0,a),innerEnd:Bs(i.innerEnd,0,a)}}function rm(r,e,t,n){return{x:t+r*Math.cos(e),y:n+r*Math.sin(e)}}function QS(r,e,t,n,i,s){const{x:a,y:o,startAngle:A,pixelMargin:l,innerRadius:c}=e,u=Math.max(e.outerRadius+n+t-l,0),h=c>0?c+n+t+l:0;let f=0;const d=i-A;if(n){const le=c>0?c-n:0,ie=u>0?u-n:0,te=(le+ie)/2,J=te!==0?d*te/(te+n):d;f=(d-J)/2}const p=Math.max(.001,d*u-t/Xr)/u,v=(d-p)/2,m=A+v+f,x=i-v-f,{outerStart:b,outerEnd:T,innerStart:R,innerEnd:P}=_2e(e,h,u,x-m),B=u-b,E=u-T,_=m+b/B,I=x-T/E,S=h+R,F=h+P,N=m+R/S,G=x-P/F;if(r.beginPath(),s){const le=(_+I)/2;if(r.arc(a,o,u,_,le),r.arc(a,o,u,le,I),T>0){const W=rm(E,I,a,o);r.arc(W.x,W.y,T,I,x+Ni)}const ie=rm(F,x,a,o);if(r.lineTo(ie.x,ie.y),P>0){const W=rm(F,G,a,o);r.arc(W.x,W.y,P,x+Ni,G+Math.PI)}const te=(x-P/h+(m+R/h))/2;if(r.arc(a,o,h,x-P/h,te,!0),r.arc(a,o,h,te,m+R/h,!0),R>0){const W=rm(S,N,a,o);r.arc(W.x,W.y,R,N+Math.PI,m-Ni)}const J=rm(B,m,a,o);if(r.lineTo(J.x,J.y),b>0){const W=rm(B,_,a,o);r.arc(W.x,W.y,b,m-Ni,_)}}else{r.moveTo(a,o);const le=Math.cos(_)*u+a,ie=Math.sin(_)*u+o;r.lineTo(le,ie);const te=Math.cos(I)*u+a,J=Math.sin(I)*u+o;r.lineTo(te,J)}r.closePath()}function b2e(r,e,t,n,i){const{fullCircles:s,startAngle:a,circumference:o}=e;let A=e.endAngle;if(s){QS(r,e,t,n,A,i);for(let l=0;l<s;++l)r.fill();isNaN(o)||(A=a+(o%Hn||Hn))}return QS(r,e,t,n,A,i),r.fill(),A}function E2e(r,e,t,n,i){const{fullCircles:s,startAngle:a,circumference:o,options:A}=e,{borderWidth:l,borderJoinStyle:c,borderDash:u,borderDashOffset:h,borderRadius:f}=A,d=A.borderAlign==="inner";if(!l)return;r.setLineDash(u||[]),r.lineDashOffset=h,d?(r.lineWidth=l*2,r.lineJoin=c||"round"):(r.lineWidth=l,r.lineJoin=c||"bevel");let p=e.endAngle;if(s){QS(r,e,t,n,p,i);for(let v=0;v<s;++v)r.stroke();isNaN(o)||(p=a+(o%Hn||Hn))}d&&y2e(r,e,p),A.selfJoin&&p-a>=Xr&&f===0&&c!=="miter"&&w2e(r,e,p),s||(QS(r,e,t,n,p,i),r.stroke())}class by extends Yl{constructor(t){super();De(this,"circumference");De(this,"endAngle");De(this,"fullCircles");De(this,"innerRadius");De(this,"outerRadius");De(this,"pixelMargin");De(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,n,i){const s=this.getProps(["x","y"],i),{angle:a,distance:o}=sq(s,{x:t,y:n}),{startAngle:A,endAngle:l,innerRadius:c,outerRadius:u,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),f=(this.options.spacing+this.options.borderWidth)/2,d=cr(h,l-A),p=sx(a,A,l)&&A!==l,v=d>=Hn||p,m=mh(o,c+f,u+f);return v&&m}getCenterPoint(t){const{x:n,y:i,startAngle:s,endAngle:a,innerRadius:o,outerRadius:A}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:l,spacing:c}=this.options,u=(s+a)/2,h=(o+A+c+l)/2;return{x:n+Math.cos(u)*h,y:i+Math.sin(u)*h}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:n,circumference:i}=this,s=(n.offset||0)/4,a=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>Hn?Math.floor(i/Hn):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const A=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(A)*s,Math.sin(A)*s);const l=1-Math.sin(Math.min(Xr,i||0)),c=s*l;t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,b2e(t,this,c,a,o),E2e(t,this,c,a,o),t.restore()}}De(by,"id","arc"),De(by,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),De(by,"defaultRoutes",{backgroundColor:"backgroundColor"}),De(by,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function Oq(r,e,t=e){r.lineCap=cr(t.borderCapStyle,e.borderCapStyle),r.setLineDash(cr(t.borderDash,e.borderDash)),r.lineDashOffset=cr(t.borderDashOffset,e.borderDashOffset),r.lineJoin=cr(t.borderJoinStyle,e.borderJoinStyle),r.lineWidth=cr(t.borderWidth,e.borderWidth),r.strokeStyle=cr(t.borderColor,e.borderColor)}function C2e(r,e,t){r.lineTo(t.x,t.y)}function B2e(r){return r.stepped?$ve:r.tension||r.cubicInterpolationMode==="monotone"?qve:C2e}function Qq(r,e,t={}){const n=r.length,{start:i=0,end:s=n-1}=t,{start:a,end:o}=e,A=Math.max(i,a),l=Math.min(s,o),c=i<a&&s<a||i>o&&s>o;return{count:n,start:A,loop:e.loop,ilen:l<A&&!c?n+l-A:l-A}}function S2e(r,e,t,n){const{points:i,options:s}=e,{count:a,start:o,loop:A,ilen:l}=Qq(i,t,n),c=B2e(s);let{move:u=!0,reverse:h}=n||{},f,d,p;for(f=0;f<=l;++f)d=i[(o+(h?l-f:f))%a],!d.skip&&(u?(r.moveTo(d.x,d.y),u=!1):c(r,p,d,h,s.stepped),p=d);return A&&(d=i[(o+(h?l:0))%a],c(r,p,d,h,s.stepped)),!!A}function T2e(r,e,t,n){const i=e.points,{count:s,start:a,ilen:o}=Qq(i,t,n),{move:A=!0,reverse:l}=n||{};let c=0,u=0,h,f,d,p,v,m;const x=T=>(a+(l?o-T:T))%s,b=()=>{p!==v&&(r.lineTo(c,v),r.lineTo(c,p),r.lineTo(c,m))};for(A&&(f=i[x(0)],r.moveTo(f.x,f.y)),h=0;h<=o;++h){if(f=i[x(h)],f.skip)continue;const T=f.x,R=f.y,P=T|0;P===d?(R<p?p=R:R>v&&(v=R),c=(u*c+T)/++u):(b(),r.lineTo(T,R),d=P,u=0,p=v=R),m=R}b()}function uL(r){const e=r.options,t=e.borderDash&&e.borderDash.length;return!r._decimated&&!r._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?T2e:S2e}function F2e(r){return r.stepped?Swe:r.tension||r.cubicInterpolationMode==="monotone"?Twe:D0}function I2e(r,e,t,n){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,n)&&i.closePath()),Oq(r,e.options),r.stroke(i)}function k2e(r,e,t,n){const{segments:i,options:s}=e,a=uL(e);for(const o of i)Oq(r,s,o.style),r.beginPath(),a(r,e,o,{start:t,end:t+n-1})&&r.closePath(),r.stroke()}const L2e=typeof Path2D=="function";function P2e(r,e,t,n){L2e&&!e.options.segment?I2e(r,e,t,n):k2e(r,e,t,n)}class pd extends Yl{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;wwe(this._points,n,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Rwe(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,i=e[t],s=this.points,a=Cq(this,{property:t,start:i,end:i});if(!a.length)return;const o=[],A=F2e(n);let l,c;for(l=0,c=a.length;l<c;++l){const{start:u,end:h}=a[l],f=s[u],d=s[h];if(f===d){o.push(f);continue}const p=Math.abs((i-f[t])/(d[t]-f[t])),v=A(f,d,p,n.stepped);v[t]=e[t],o.push(v)}return o.length===1?o[0]:o}pathSegment(e,t,n){return uL(this)(e,this,t,n)}path(e,t,n){const i=this.segments,s=uL(this);let a=this._loop;t=t||0,n=n||this.points.length-t;for(const o of i)a&=s(e,this,o,{start:t,end:t+n-1});return!!a}draw(e,t,n,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),P2e(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}De(pd,"id","line"),De(pd,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),De(pd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),De(pd,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function O8(r,e,t,n){const i=r.options,{[t]:s}=r.getProps([t],n);return Math.abs(e-s)<i.radius+i.hitRadius}class pB extends Yl{constructor(t){super();De(this,"parsed");De(this,"skip");De(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,i){const s=this.options,{x:a,y:o}=this.getProps(["x","y"],i);return Math.pow(t-a,2)+Math.pow(n-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,n){return O8(this,t,"x",n)}inYRange(t,n){return O8(this,t,"y",n)}getCenterPoint(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);const i=n&&t.borderWidth||0;return(n+i)*2}draw(t,n){const i=this.options;this.skip||i.radius<.1||!wh(this,n,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,oL(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}De(pB,"id","point"),De(pB,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),De(pB,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Hq(r,e){const{x:t,y:n,base:i,width:s,height:a}=r.getProps(["x","y","base","width","height"],e);let o,A,l,c,u;return r.horizontal?(u=a/2,o=Math.min(t,i),A=Math.max(t,i),l=n-u,c=n+u):(u=s/2,o=t-u,A=t+u,l=Math.min(n,i),c=Math.max(n,i)),{left:o,top:l,right:A,bottom:c}}function gd(r,e,t,n){return r?0:Bs(e,t,n)}function R2e(r,e,t){const n=r.options.borderWidth,i=r.borderSkipped,s=dq(n);return{t:gd(i.top,s.top,0,t),r:gd(i.right,s.right,0,e),b:gd(i.bottom,s.bottom,0,t),l:gd(i.left,s.left,0,e)}}function N2e(r,e,t){const{enableBorderRadius:n}=r.getProps(["enableBorderRadius"]),i=r.options.borderRadius,s=og(i),a=Math.min(e,t),o=r.borderSkipped,A=n||Lr(i);return{topLeft:gd(!A||o.top||o.left,s.topLeft,0,a),topRight:gd(!A||o.top||o.right,s.topRight,0,a),bottomLeft:gd(!A||o.bottom||o.left,s.bottomLeft,0,a),bottomRight:gd(!A||o.bottom||o.right,s.bottomRight,0,a)}}function D2e(r){const e=Hq(r),t=e.right-e.left,n=e.bottom-e.top,i=R2e(r,t/2,n/2),s=N2e(r,t/2,n/2);return{outer:{x:e.left,y:e.top,w:t,h:n,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:t-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function p4(r,e,t,n){const i=e===null,s=t===null,o=r&&!(i&&s)&&Hq(r,n);return o&&(i||mh(e,o.left,o.right))&&(s||mh(t,o.top,o.bottom))}function U2e(r){return r.topLeft||r.topRight||r.bottomLeft||r.bottomRight}function M2e(r,e){r.rect(e.x,e.y,e.w,e.h)}function g4(r,e,t={}){const n=r.x!==t.x?-e:0,i=r.y!==t.y?-e:0,s=(r.x+r.w!==t.x+t.w?e:0)-n,a=(r.y+r.h!==t.y+t.h?e:0)-i;return{x:r.x+n,y:r.y+i,w:r.w+s,h:r.h+a,radius:r.radius}}class gB extends Yl{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:i}}=this,{inner:s,outer:a}=D2e(this),o=U2e(a.radius)?ax:M2e;e.save(),(a.w!==s.w||a.h!==s.h)&&(e.beginPath(),o(e,g4(a,t,s)),e.clip(),o(e,g4(s,-t,a)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),o(e,g4(s,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,n){return p4(this,e,t,n)}inXRange(e,t){return p4(this,e,null,t)}inYRange(e,t){return p4(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+i)/2:t,y:s?n:(n+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}De(gB,"id","bar"),De(gB,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),De(gB,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var O2e=Object.freeze({__proto__:null,ArcElement:by,BarElement:gB,LineElement:pd,PointElement:pB});const hL=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Q8=hL.map(r=>r.replace("rgb(","rgba(").replace(")",", 0.5)"));function Vq(r){return hL[r%hL.length]}function jq(r){return Q8[r%Q8.length]}function Q2e(r,e){return r.borderColor=Vq(e),r.backgroundColor=jq(e),++e}function H2e(r,e){return r.backgroundColor=r.data.map(()=>Vq(e++)),e}function V2e(r,e){return r.backgroundColor=r.data.map(()=>jq(e++)),e}function j2e(r){let e=0;return(t,n)=>{const i=r.getDatasetMeta(n).controller;i instanceof $0?e=H2e(t,e):i instanceof o2?e=V2e(t,e):i&&(e=Q2e(t,e))}}function H8(r){let e;for(e in r)if(r[e].borderColor||r[e].backgroundColor)return!0;return!1}function K2e(r){return r&&(r.borderColor||r.backgroundColor)}function z2e(){return Xn.borderColor!=="rgba(0,0,0,0.1)"||Xn.backgroundColor!=="rgba(0,0,0,0.1)"}var W2e={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(r,e,t){if(!t.enabled)return;const{data:{datasets:n},options:i}=r.config,{elements:s}=i,a=H8(n)||K2e(i)||s&&H8(s)||z2e();if(!t.forceOverride&&a)return;const o=j2e(r);n.forEach(o)}};function G2e(r,e,t,n,i){const s=i.samples||n;if(s>=t)return r.slice(e,e+t);const a=[],o=(t-2)/(s-2);let A=0;const l=e+t-1;let c=e,u,h,f,d,p;for(a[A++]=r[c],u=0;u<s-2;u++){let v=0,m=0,x;const b=Math.floor((u+1)*o)+1+e,T=Math.min(Math.floor((u+2)*o)+1,t)+e,R=T-b;for(x=b;x<T;x++)v+=r[x].x,m+=r[x].y;v/=R,m/=R;const P=Math.floor(u*o)+1+e,B=Math.min(Math.floor((u+1)*o)+1,t)+e,{x:E,y:_}=r[c];for(f=d=-1,x=P;x<B;x++)d=.5*Math.abs((E-v)*(r[x].y-_)-(E-r[x].x)*(m-_)),d>f&&(f=d,h=r[x],p=x);a[A++]=h,c=p}return a[A++]=r[l],a}function $2e(r,e,t,n){let i=0,s=0,a,o,A,l,c,u,h,f,d,p;const v=[],m=e+t-1,x=r[e].x,T=r[m].x-x;for(a=e;a<e+t;++a){o=r[a],A=(o.x-x)/T*n,l=o.y;const R=A|0;if(R===c)l<d?(d=l,u=a):l>p&&(p=l,h=a),i=(s*i+o.x)/++s;else{const P=a-1;if(!Sr(u)&&!Sr(h)){const B=Math.min(u,h),E=Math.max(u,h);B!==f&&B!==P&&v.push({...r[B],x:i}),E!==f&&E!==P&&v.push({...r[E],x:i})}a>0&&P!==f&&v.push(r[P]),v.push(o),c=R,s=0,d=p=l,u=h=f=a}}return v}function Kq(r){if(r._decimated){const e=r._data;delete r._decimated,delete r._data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function V8(r){r.data.datasets.forEach(e=>{Kq(e)})}function q2e(r,e){const t=e.length;let n=0,i;const{iScale:s}=r,{min:a,max:o,minDefined:A,maxDefined:l}=s.getUserBounds();return A&&(n=Bs(vh(e,s.axis,a).lo,0,t-1)),l?i=Bs(vh(e,s.axis,o).hi+1,n,t)-n:i=t-n,{start:n,count:i}}var X2e={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(r,e,t)=>{if(!t.enabled){V8(r);return}const n=r.width;r.data.datasets.forEach((i,s)=>{const{_data:a,indexAxis:o}=i,A=r.getDatasetMeta(s),l=a||i.data;if(xy([o,r.options.indexAxis])==="y"||!A.controller.supportsDecimation)return;const c=r.scales[A.xAxisID];if(c.type!=="linear"&&c.type!=="time"||r.options.parsing)return;let{start:u,count:h}=q2e(A,l);const f=t.threshold||4*n;if(h<=f){Kq(i);return}Sr(a)&&(i._data=l,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(p){this._data=p}}));let d;switch(t.algorithm){case"lttb":d=G2e(l,u,h,n,t);break;case"min-max":d=$2e(l,u,h,n);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}i._decimated=d})},destroy(r){V8(r)}};function Y2e(r,e,t){const n=r.segments,i=r.points,s=e.points,a=[];for(const o of n){let{start:A,end:l}=o;l=CT(A,l,i);const c=fL(t,i[A],i[l],o.loop);if(!e.segments){a.push({source:o,target:c,start:i[A],end:i[l]});continue}const u=Cq(e,c);for(const h of u){const f=fL(t,s[h.start],s[h.end],h.loop),d=Eq(o,i,f);for(const p of d)a.push({source:p,target:h,start:{[t]:j8(c,f,"start",Math.max)},end:{[t]:j8(c,f,"end",Math.min)}})}}return a}function fL(r,e,t,n){if(n)return;let i=e[r],s=t[r];return r==="angle"&&(i=_a(i),s=_a(s)),{property:r,start:i,end:s}}function J2e(r,e){const{x:t=null,y:n=null}=r||{},i=e.points,s=[];return e.segments.forEach(({start:a,end:o})=>{o=CT(a,o,i);const A=i[a],l=i[o];n!==null?(s.push({x:A.x,y:n}),s.push({x:l.x,y:n})):t!==null&&(s.push({x:t,y:A.y}),s.push({x:t,y:l.y}))}),s}function CT(r,e,t){for(;e>r;e--){const n=t[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function j8(r,e,t,n){return r&&e?n(r[t],e[t]):r?r[t]:e?e[t]:0}function zq(r,e){let t=[],n=!1;return qn(r)?(n=!0,t=r):t=J2e(r,e),t.length?new pd({points:t,options:{tension:0},_loop:n,_fullLoop:n}):null}function K8(r){return r&&r.fill!==!1}function Z2e(r,e,t){let i=r[e].fill;const s=[e];let a;if(!t)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!wi(i))return i;if(a=r[i],!a)return!1;if(a.visible)return i;s.push(i),i=a.fill}return!1}function exe(r,e,t){const n=ixe(r);if(Lr(n))return isNaN(n.value)?!1:n;let i=parseFloat(n);return wi(i)&&Math.floor(i)===i?txe(n[0],e,i,t):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function txe(r,e,t,n){return(r==="-"||r==="+")&&(t=e+t),t===e||t<0||t>=n?!1:t}function rxe(r,e){let t=null;return r==="start"?t=e.bottom:r==="end"?t=e.top:Lr(r)?t=e.getPixelForValue(r.value):e.getBasePixel&&(t=e.getBasePixel()),t}function nxe(r,e,t){let n;return r==="start"?n=t:r==="end"?n=e.options.reverse?e.min:e.max:Lr(r)?n=r.value:n=e.getBaseValue(),n}function ixe(r){const e=r.options,t=e.fill;let n=cr(t&&t.target,t);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function sxe(r){const{scale:e,index:t,line:n}=r,i=[],s=n.segments,a=n.points,o=axe(e,t);o.push(zq({x:null,y:e.bottom},n));for(let A=0;A<s.length;A++){const l=s[A];for(let c=l.start;c<=l.end;c++)oxe(i,a[c],o)}return new pd({points:i,options:{}})}function axe(r,e){const t=[],n=r.getMatchingVisibleMetas("line");for(let i=0;i<n.length;i++){const s=n[i];if(s.index===e)break;s.hidden||t.unshift(s.dataset)}return t}function oxe(r,e,t){const n=[];for(let i=0;i<t.length;i++){const s=t[i],{first:a,last:o,point:A}=Axe(s,e,"x");if(!(!A||a&&o)){if(a)n.unshift(A);else if(r.push(A),!o)break}}r.push(...n)}function Axe(r,e,t){const n=r.interpolate(e,t);if(!n)return{};const i=n[t],s=r.segments,a=r.points;let o=!1,A=!1;for(let l=0;l<s.length;l++){const c=s[l],u=a[c.start][t],h=a[c.end][t];if(mh(i,u,h)){o=i===u,A=i===h;break}}return{first:o,last:A,point:n}}class Wq{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){const{x:i,y:s,radius:a}=this;return t=t||{start:0,end:Hn},e.arc(i,s,a,t.end,t.start,!0),!n.bounds}interpolate(e){const{x:t,y:n,radius:i}=this,s=e.angle;return{x:t+Math.cos(s)*i,y:n+Math.sin(s)*i,angle:s}}}function lxe(r){const{chart:e,fill:t,line:n}=r;if(wi(t))return cxe(e,t);if(t==="stack")return sxe(r);if(t==="shape")return!0;const i=uxe(r);return i instanceof Wq?i:zq(i,n)}function cxe(r,e){const t=r.getDatasetMeta(e);return t&&r.isDatasetVisible(e)?t.dataset:null}function uxe(r){return(r.scale||{}).getPointPositionForValue?fxe(r):hxe(r)}function hxe(r){const{scale:e={},fill:t}=r,n=rxe(t,e);if(wi(n)){const i=e.isHorizontal();return{x:i?n:null,y:i?null:n}}return null}function fxe(r){const{scale:e,fill:t}=r,n=e.options,i=e.getLabels().length,s=n.reverse?e.max:e.min,a=nxe(t,e,s),o=[];if(n.grid.circular){const A=e.getPointPositionForValue(0,s);return new Wq({x:A.x,y:A.y,radius:e.getDistanceFromCenterForValue(a)})}for(let A=0;A<i;++A)o.push(e.getPointPositionForValue(A,a));return o}function m4(r,e,t){const n=lxe(e),{chart:i,index:s,line:a,scale:o,axis:A}=e,l=a.options,c=l.fill,u=l.backgroundColor,{above:h=u,below:f=u}=c||{},d=i.getDatasetMeta(s),p=Bq(i,d);n&&a.points.length&&(xT(r,t),dxe(r,{line:a,target:n,above:h,below:f,area:t,scale:o,axis:A,clip:p}),_T(r))}function dxe(r,e){const{line:t,target:n,above:i,below:s,area:a,scale:o,clip:A}=e,l=t._loop?"angle":e.axis;r.save();let c=s;s!==i&&(l==="x"?(z8(r,n,a.top),v4(r,{line:t,target:n,color:i,scale:o,property:l,clip:A}),r.restore(),r.save(),z8(r,n,a.bottom)):l==="y"&&(W8(r,n,a.left),v4(r,{line:t,target:n,color:s,scale:o,property:l,clip:A}),r.restore(),r.save(),W8(r,n,a.right),c=i)),v4(r,{line:t,target:n,color:c,scale:o,property:l,clip:A}),r.restore()}function z8(r,e,t){const{segments:n,points:i}=e;let s=!0,a=!1;r.beginPath();for(const o of n){const{start:A,end:l}=o,c=i[A],u=i[CT(A,l,i)];s?(r.moveTo(c.x,c.y),s=!1):(r.lineTo(c.x,t),r.lineTo(c.x,c.y)),a=!!e.pathSegment(r,o,{move:a}),a?r.closePath():r.lineTo(u.x,t)}r.lineTo(e.first().x,t),r.closePath(),r.clip()}function W8(r,e,t){const{segments:n,points:i}=e;let s=!0,a=!1;r.beginPath();for(const o of n){const{start:A,end:l}=o,c=i[A],u=i[CT(A,l,i)];s?(r.moveTo(c.x,c.y),s=!1):(r.lineTo(t,c.y),r.lineTo(c.x,c.y)),a=!!e.pathSegment(r,o,{move:a}),a?r.closePath():r.lineTo(t,u.y)}r.lineTo(t,e.first().y),r.closePath(),r.clip()}function v4(r,e){const{line:t,target:n,property:i,color:s,scale:a,clip:o}=e,A=Y2e(t,n,i);for(const{source:l,target:c,start:u,end:h}of A){const{style:{backgroundColor:f=s}={}}=l,d=n!==!0;r.save(),r.fillStyle=f,pxe(r,a,o,d&&fL(i,u,h)),r.beginPath();const p=!!t.pathSegment(r,l);let v;if(d){p?r.closePath():G8(r,n,h,i);const m=!!n.pathSegment(r,c,{move:p,reverse:!0});v=p&&m,v||G8(r,n,u,i)}r.closePath(),r.fill(v?"evenodd":"nonzero"),r.restore()}}function pxe(r,e,t,n){const i=e.chart.chartArea,{property:s,start:a,end:o}=n||{};if(s==="x"||s==="y"){let A,l,c,u;s==="x"?(A=a,l=i.top,c=o,u=i.bottom):(A=i.left,l=a,c=i.right,u=o),r.beginPath(),t&&(A=Math.max(A,t.left),c=Math.min(c,t.right),l=Math.max(l,t.top),u=Math.min(u,t.bottom)),r.rect(A,l,c-A,u-l),r.clip()}}function G8(r,e,t,n){const i=e.interpolate(t,n);i&&r.lineTo(i.x,i.y)}var gxe={id:"filler",afterDatasetsUpdate(r,e,t){const n=(r.data.datasets||[]).length,i=[];let s,a,o,A;for(a=0;a<n;++a)s=r.getDatasetMeta(a),o=s.dataset,A=null,o&&o.options&&o instanceof pd&&(A={visible:r.isDatasetVisible(a),index:a,fill:exe(o,a,n),chart:r,axis:s.controller.options.indexAxis,scale:s.vScale,line:o}),s.$filler=A,i.push(A);for(a=0;a<n;++a)A=i[a],!(!A||A.fill===!1)&&(A.fill=Z2e(i,a,t.propagate))},beforeDraw(r,e,t){const n=t.drawTime==="beforeDraw",i=r.getSortedVisibleDatasetMetas(),s=r.chartArea;for(let a=i.length-1;a>=0;--a){const o=i[a].$filler;o&&(o.line.updateControlPoints(s,o.axis),n&&o.fill&&m4(r.ctx,o,s))}},beforeDatasetsDraw(r,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const n=r.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i){const s=n[i].$filler;K8(s)&&m4(r.ctx,s,r.chartArea)}},beforeDatasetDraw(r,e,t){const n=e.meta.$filler;!K8(n)||t.drawTime!=="beforeDatasetDraw"||m4(r.ctx,n,r.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const $8=(r,e)=>{let{boxHeight:t=e,boxWidth:n=e}=r;return r.usePointStyle&&(t=Math.min(t,e),n=r.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:t,itemHeight:Math.max(e,t)}},mxe=(r,e)=>r!==null&&e!==null&&r.datasetIndex===e.datasetIndex&&r.index===e.index;class q8 extends Yl{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=kn(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(n=>e.filter(n,this.chart.data))),e.sort&&(t=t.sort((n,i)=>e.sort(n,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,i=ls(n.font),s=i.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:A}=$8(n,s);let l,c;t.font=i.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(a,s,o,A)+10):(c=this.maxHeight,l=this._fitCols(a,i,o,A)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,i){const{ctx:s,maxWidth:a,options:{labels:{padding:o}}}=this,A=this.legendHitBoxes=[],l=this.lineWidths=[0],c=i+o;let u=e;s.textAlign="left",s.textBaseline="middle";let h=-1,f=-c;return this.legendItems.forEach((d,p)=>{const v=n+t/2+s.measureText(d.text).width;(p===0||l[l.length-1]+v+2*o>a)&&(u+=c,l[l.length-(p>0?0:1)]=0,f+=c,h++),A[p]={left:0,top:f,row:h,width:v,height:i},l[l.length-1]+=v+o}),u}_fitCols(e,t,n,i){const{ctx:s,maxHeight:a,options:{labels:{padding:o}}}=this,A=this.legendHitBoxes=[],l=this.columnSizes=[],c=a-e;let u=o,h=0,f=0,d=0,p=0;return this.legendItems.forEach((v,m)=>{const{itemWidth:x,itemHeight:b}=vxe(n,t,s,v,i);m>0&&f+b+2*o>c&&(u+=h+o,l.push({width:h,height:f}),d+=h+o,p++,h=f=0),A[m]={left:d,top:f,col:p,width:x,height:b},h=Math.max(h,x),f+=b+o}),u+=h,l.push({width:h,height:f}),u}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:i},rtl:s}}=this,a=A1(s,this.left,this.width);if(this.isHorizontal()){let o=0,A=va(n,this.left+i,this.right-this.lineWidths[o]);for(const l of t)o!==l.row&&(o=l.row,A=va(n,this.left+i,this.right-this.lineWidths[o])),l.top+=this.top+e+i,l.left=a.leftForLtr(a.x(A),l.width),A+=l.width+i}else{let o=0,A=va(n,this.top+e+i,this.bottom-this.columnSizes[o].height);for(const l of t)l.col!==o&&(o=l.col,A=va(n,this.top+e+i,this.bottom-this.columnSizes[o].height)),l.top=A,l.left+=this.left+i,l.left=a.leftForLtr(a.x(l.left),l.width),A+=l.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;xT(e,this),this._draw(),_T(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:i}=this,{align:s,labels:a}=e,o=Xn.color,A=A1(e.rtl,this.left,this.width),l=ls(a.font),{padding:c}=a,u=l.size,h=u/2;let f;this.drawTitle(),i.textAlign=A.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=l.string;const{boxWidth:d,boxHeight:p,itemHeight:v}=$8(a,u),m=function(P,B,E){if(isNaN(d)||d<=0||isNaN(p)||p<0)return;i.save();const _=cr(E.lineWidth,1);if(i.fillStyle=cr(E.fillStyle,o),i.lineCap=cr(E.lineCap,"butt"),i.lineDashOffset=cr(E.lineDashOffset,0),i.lineJoin=cr(E.lineJoin,"miter"),i.lineWidth=_,i.strokeStyle=cr(E.strokeStyle,o),i.setLineDash(cr(E.lineDash,[])),a.usePointStyle){const I={radius:p*Math.SQRT2/2,pointStyle:E.pointStyle,rotation:E.rotation,borderWidth:_},S=A.xPlus(P,d/2),F=B+h;fq(i,I,S,F,a.pointStyleWidth&&d)}else{const I=B+Math.max((u-p)/2,0),S=A.leftForLtr(P,d),F=og(E.borderRadius);i.beginPath(),Object.values(F).some(N=>N!==0)?ax(i,{x:S,y:I,w:d,h:p,radius:F}):i.rect(S,I,d,p),i.fill(),_!==0&&i.stroke()}i.restore()},x=function(P,B,E){Fg(i,E.text,P,B+v/2,l,{strikethrough:E.hidden,textAlign:A.textAlign(E.textAlign)})},b=this.isHorizontal(),T=this._computeTitleHeight();b?f={x:va(s,this.left+c,this.right-n[0]),y:this.top+c+T,line:0}:f={x:this.left+c,y:va(s,this.top+T+c,this.bottom-t[0].height),line:0},xq(this.ctx,e.textDirection);const R=v+c;this.legendItems.forEach((P,B)=>{i.strokeStyle=P.fontColor,i.fillStyle=P.fontColor;const E=i.measureText(P.text).width,_=A.textAlign(P.textAlign||(P.textAlign=a.textAlign)),I=d+h+E;let S=f.x,F=f.y;A.setWidth(this.width),b?B>0&&S+I+c>this.right&&(F=f.y+=R,f.line++,S=f.x=va(s,this.left+c,this.right-n[f.line])):B>0&&F+R>this.bottom&&(S=f.x=S+t[f.line].width+c,f.line++,F=f.y=va(s,this.top+T+c,this.bottom-t[f.line].height));const N=A.x(S);if(m(N,F,P),S=Uve(_,S+d+h,b?S+I:this.right,e.rtl),x(A.x(S),F,P),b)f.x+=I+c;else if(typeof P.text!="string"){const G=l.lineHeight;f.y+=Gq(P,G)+c}else f.y+=R}),_q(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=ls(t.font),i=Ra(t.padding);if(!t.display)return;const s=A1(e.rtl,this.left,this.width),a=this.ctx,o=t.position,A=n.size/2,l=i.top+A;let c,u=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),c=this.top+l,u=va(e.align,u,this.right-h);else{const d=this.columnSizes.reduce((p,v)=>Math.max(p,v.height),0);c=l+va(e.align,this.top,this.bottom-d-e.labels.padding-this._computeTitleHeight())}const f=va(o,u,u+h);a.textAlign=s.textAlign(RN(o)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=n.string,Fg(a,t.text,f,c,n)}_computeTitleHeight(){const e=this.options.title,t=ls(e.font),n=Ra(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,i,s;if(mh(e,this.left,this.right)&&mh(t,this.top,this.bottom)){for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(i=s[n],mh(e,i.left,i.left+i.width)&&mh(t,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(e){const t=this.options;if(!xxe(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=mxe(i,n);i&&!s&&kn(t.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!s&&kn(t.onHover,[e,n,this],this)}else n&&kn(t.onClick,[e,n,this],this)}}function vxe(r,e,t,n,i){const s=wxe(n,r,e,t),a=yxe(i,n,e.lineHeight);return{itemWidth:s,itemHeight:a}}function wxe(r,e,t,n){let i=r.text;return i&&typeof i!="string"&&(i=i.reduce((s,a)=>s.length>a.length?s:a)),e+t.size/2+n.measureText(i).width}function yxe(r,e,t){let n=r;return typeof e.text!="string"&&(n=Gq(e,t)),n}function Gq(r,e){const t=r.text?r.text.length:0;return e*t}function xxe(r,e){return!!((r==="mousemove"||r==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(r==="click"||r==="mouseup"))}var _xe={id:"legend",_element:q8,start(r,e,t){const n=r.legend=new q8({ctx:r.ctx,options:t,chart:r});Fa.configure(r,n,t),Fa.addBox(r,n)},stop(r){Fa.removeBox(r,r.legend),delete r.legend},beforeUpdate(r,e,t){const n=r.legend;Fa.configure(r,n,t),n.options=t},afterUpdate(r){const e=r.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(r,e){e.replay||r.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(r,e,t){const n=e.datasetIndex,i=t.chart;i.isDatasetVisible(n)?(i.hide(n),e.hidden=!0):(i.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:r=>r.chart.options.color,boxWidth:40,padding:10,generateLabels(r){const e=r.data.datasets,{labels:{usePointStyle:t,pointStyle:n,textAlign:i,color:s,useBorderRadius:a,borderRadius:o}}=r.legend.options;return r._getSortedDatasetMetas().map(A=>{const l=A.controller.getStyle(t?0:void 0),c=Ra(l.borderWidth);return{text:e[A.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!A.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:n||l.pointStyle,rotation:l.rotation,textAlign:i||l.textAlign,borderRadius:a&&(o||l.borderRadius),datasetIndex:A.index}},this)}},title:{color:r=>r.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:r=>!r.startsWith("on"),labels:{_scriptable:r=>!["generateLabels","filter","sort"].includes(r)}}};class jN extends Yl{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const i=qn(n.text)?n.text.length:1;this._padding=Ra(n.padding);const s=i*ls(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:n,bottom:i,right:s,options:a}=this,o=a.align;let A=0,l,c,u;return this.isHorizontal()?(c=va(o,n,s),u=t+e,l=s-n):(a.position==="left"?(c=n+e,u=va(o,i,t),A=Xr*-.5):(c=s-e,u=va(o,t,i),A=Xr*.5),l=i-t),{titleX:c,titleY:u,maxWidth:l,rotation:A}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=ls(t.font),s=n.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:A,rotation:l}=this._drawArgs(s);Fg(e,t.text,0,0,n,{color:t.color,maxWidth:A,rotation:l,textAlign:RN(t.align),textBaseline:"middle",translation:[a,o]})}}function bxe(r,e){const t=new jN({ctx:r.ctx,options:e,chart:r});Fa.configure(r,t,e),Fa.addBox(r,t),r.titleBlock=t}var Exe={id:"title",_element:jN,start(r,e,t){bxe(r,t)},stop(r){const e=r.titleBlock;Fa.removeBox(r,e),delete r.titleBlock},beforeUpdate(r,e,t){const n=r.titleBlock;Fa.configure(r,n,t),n.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const IE=new WeakMap;var Cxe={id:"subtitle",start(r,e,t){const n=new jN({ctx:r.ctx,options:t,chart:r});Fa.configure(r,n,t),Fa.addBox(r,n),IE.set(r,n)},stop(r){Fa.removeBox(r,IE.get(r)),IE.delete(r)},beforeUpdate(r,e,t){const n=IE.get(r);Fa.configure(r,n,t),n.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ey={average(r){if(!r.length)return!1;let e,t,n=new Set,i=0,s=0;for(e=0,t=r.length;e<t;++e){const o=r[e].element;if(o&&o.hasValue()){const A=o.tooltipPosition();n.add(A.x),i+=A.y,++s}}return s===0||n.size===0?!1:{x:[...n].reduce((o,A)=>o+A)/n.size,y:i/s}},nearest(r,e){if(!r.length)return!1;let t=e.x,n=e.y,i=Number.POSITIVE_INFINITY,s,a,o;for(s=0,a=r.length;s<a;++s){const A=r[s].element;if(A&&A.hasValue()){const l=A.getCenterPoint(),c=sL(e,l);c<i&&(i=c,o=A)}}if(o){const A=o.tooltipPosition();t=A.x,n=A.y}return{x:t,y:n}}};function _c(r,e){return e&&(qn(e)?Array.prototype.push.apply(r,e):r.push(e)),r}function ku(r){return(typeof r=="string"||r instanceof String)&&r.indexOf(`
`)>-1?r.split(`
`):r}function Bxe(r,e){const{element:t,datasetIndex:n,index:i}=e,s=r.getDatasetMeta(n).controller,{label:a,value:o}=s.getLabelAndValue(i);return{chart:r,label:a,parsed:s.getParsed(i),raw:r.data.datasets[n].data[i],formattedValue:o,dataset:s.getDataset(),dataIndex:i,datasetIndex:n,element:t}}function X8(r,e){const t=r.chart.ctx,{body:n,footer:i,title:s}=r,{boxWidth:a,boxHeight:o}=e,A=ls(e.bodyFont),l=ls(e.titleFont),c=ls(e.footerFont),u=s.length,h=i.length,f=n.length,d=Ra(e.padding);let p=d.height,v=0,m=n.reduce((T,R)=>T+R.before.length+R.lines.length+R.after.length,0);if(m+=r.beforeBody.length+r.afterBody.length,u&&(p+=u*l.lineHeight+(u-1)*e.titleSpacing+e.titleMarginBottom),m){const T=e.displayColors?Math.max(o,A.lineHeight):A.lineHeight;p+=f*T+(m-f)*A.lineHeight+(m-1)*e.bodySpacing}h&&(p+=e.footerMarginTop+h*c.lineHeight+(h-1)*e.footerSpacing);let x=0;const b=function(T){v=Math.max(v,t.measureText(T).width+x)};return t.save(),t.font=l.string,un(r.title,b),t.font=A.string,un(r.beforeBody.concat(r.afterBody),b),x=e.displayColors?a+2+e.boxPadding:0,un(n,T=>{un(T.before,b),un(T.lines,b),un(T.after,b)}),x=0,t.font=c.string,un(r.footer,b),t.restore(),v+=d.width,{width:v,height:p}}function Sxe(r,e){const{y:t,height:n}=e;return t<n/2?"top":t>r.height-n/2?"bottom":"center"}function Txe(r,e,t,n){const{x:i,width:s}=n,a=t.caretSize+t.caretPadding;if(r==="left"&&i+s+a>e.width||r==="right"&&i-s-a<0)return!0}function Fxe(r,e,t,n){const{x:i,width:s}=t,{width:a,chartArea:{left:o,right:A}}=r;let l="center";return n==="center"?l=i<=(o+A)/2?"left":"right":i<=s/2?l="left":i>=a-s/2&&(l="right"),Txe(l,r,e,t)&&(l="center"),l}function Y8(r,e,t){const n=t.yAlign||e.yAlign||Sxe(r,t);return{xAlign:t.xAlign||e.xAlign||Fxe(r,e,t,n),yAlign:n}}function Ixe(r,e){let{x:t,width:n}=r;return e==="right"?t-=n:e==="center"&&(t-=n/2),t}function kxe(r,e,t){let{y:n,height:i}=r;return e==="top"?n+=t:e==="bottom"?n-=i+t:n-=i/2,n}function J8(r,e,t,n){const{caretSize:i,caretPadding:s,cornerRadius:a}=r,{xAlign:o,yAlign:A}=t,l=i+s,{topLeft:c,topRight:u,bottomLeft:h,bottomRight:f}=og(a);let d=Ixe(e,o);const p=kxe(e,A,l);return A==="center"?o==="left"?d+=l:o==="right"&&(d-=l):o==="left"?d-=Math.max(c,h)+i:o==="right"&&(d+=Math.max(u,f)+i),{x:Bs(d,0,n.width-e.width),y:Bs(p,0,n.height-e.height)}}function kE(r,e,t){const n=Ra(t.padding);return e==="center"?r.x+r.width/2:e==="right"?r.x+r.width-n.right:r.x+n.left}function Z8(r){return _c([],ku(r))}function Lxe(r,e,t){return A0(r,{tooltip:e,tooltipItems:t,type:"tooltip"})}function eQ(r,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?r.override(t):r}const $q={beforeTitle:xu,title(r){if(r.length>0){const e=r[0],t=e.chart.data.labels,n=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return t[e.dataIndex]}return""},afterTitle:xu,beforeBody:xu,beforeLabel:xu,label(r){if(this&&this.options&&this.options.mode==="dataset")return r.label+": "+r.formattedValue||r.formattedValue;let e=r.dataset.label||"";e&&(e+=": ");const t=r.formattedValue;return Sr(t)||(e+=t),e},labelColor(r){const t=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(r){const t=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:xu,afterBody:xu,beforeFooter:xu,footer:xu,afterFooter:xu};function wo(r,e,t,n){const i=r[e].call(t,n);return typeof i>"u"?$q[e].call(t,n):i}class dL extends Yl{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&t.options.animation&&n.animations,s=new Sq(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=Lxe(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:n}=t,i=wo(n,"beforeTitle",this,e),s=wo(n,"title",this,e),a=wo(n,"afterTitle",this,e);let o=[];return o=_c(o,ku(i)),o=_c(o,ku(s)),o=_c(o,ku(a)),o}getBeforeBody(e,t){return Z8(wo(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,i=[];return un(e,s=>{const a={before:[],lines:[],after:[]},o=eQ(n,s);_c(a.before,ku(wo(o,"beforeLabel",this,s))),_c(a.lines,wo(o,"label",this,s)),_c(a.after,ku(wo(o,"afterLabel",this,s))),i.push(a)}),i}getAfterBody(e,t){return Z8(wo(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,i=wo(n,"beforeFooter",this,e),s=wo(n,"footer",this,e),a=wo(n,"afterFooter",this,e);let o=[];return o=_c(o,ku(i)),o=_c(o,ku(s)),o=_c(o,ku(a)),o}_createItems(e){const t=this._active,n=this.chart.data,i=[],s=[],a=[];let o=[],A,l;for(A=0,l=t.length;A<l;++A)o.push(Bxe(this.chart,t[A]));return e.filter&&(o=o.filter((c,u,h)=>e.filter(c,u,h,n))),e.itemSort&&(o=o.sort((c,u)=>e.itemSort(c,u,n))),un(o,c=>{const u=eQ(e.callbacks,c);i.push(wo(u,"labelColor",this,c)),s.push(wo(u,"labelPointStyle",this,c)),a.push(wo(u,"labelTextColor",this,c))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=o,o}update(e,t){const n=this.options.setContext(this.getContext()),i=this._active;let s,a=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const o=Ey[n.position].call(this,i,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);const A=this._size=X8(this,n),l=Object.assign({},o,A),c=Y8(this.chart,n,l),u=J8(n,l,c,this.chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,s={opacity:1,x:u.x,y:u.y,width:A.width,height:A.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,i){const s=this.getCaretPosition(e,n,i);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,n){const{xAlign:i,yAlign:s}=this,{caretSize:a,cornerRadius:o}=n,{topLeft:A,topRight:l,bottomLeft:c,bottomRight:u}=og(o),{x:h,y:f}=e,{width:d,height:p}=t;let v,m,x,b,T,R;return s==="center"?(T=f+p/2,i==="left"?(v=h,m=v-a,b=T+a,R=T-a):(v=h+d,m=v+a,b=T-a,R=T+a),x=v):(i==="left"?m=h+Math.max(A,c)+a:i==="right"?m=h+d-Math.max(l,u)-a:m=this.caretX,s==="top"?(b=f,T=b-a,v=m-a,x=m+a):(b=f+p,T=b+a,v=m+a,x=m-a),R=b),{x1:v,x2:m,x3:x,y1:b,y2:T,y3:R}}drawTitle(e,t,n){const i=this.title,s=i.length;let a,o,A;if(s){const l=A1(n.rtl,this.x,this.width);for(e.x=kE(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",a=ls(n.titleFont),o=n.titleSpacing,t.fillStyle=n.titleColor,t.font=a.string,A=0;A<s;++A)t.fillText(i[A],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,A+1===s&&(e.y+=n.titleMarginBottom-o)}}_drawColorBox(e,t,n,i,s){const a=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:A,boxWidth:l}=s,c=ls(s.bodyFont),u=kE(this,"left",s),h=i.x(u),f=A<c.lineHeight?(c.lineHeight-A)/2:0,d=t.y+f;if(s.usePointStyle){const p={radius:Math.min(l,A)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},v=i.leftForLtr(h,l)+l/2,m=d+A/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,oL(e,p,v,m),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,oL(e,p,v,m)}else{e.lineWidth=Lr(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const p=i.leftForLtr(h,l),v=i.leftForLtr(i.xPlus(h,1),l-2),m=og(a.borderRadius);Object.values(m).some(x=>x!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,ax(e,{x:p,y:d,w:l,h:A,radius:m}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),ax(e,{x:v,y:d+1,w:l-2,h:A-2,radius:m}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(p,d,l,A),e.strokeRect(p,d,l,A),e.fillStyle=a.backgroundColor,e.fillRect(v,d+1,l-2,A-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:i}=this,{bodySpacing:s,bodyAlign:a,displayColors:o,boxHeight:A,boxWidth:l,boxPadding:c}=n,u=ls(n.bodyFont);let h=u.lineHeight,f=0;const d=A1(n.rtl,this.x,this.width),p=function(E){t.fillText(E,d.x(e.x+f),e.y+h/2),e.y+=h+s},v=d.textAlign(a);let m,x,b,T,R,P,B;for(t.textAlign=a,t.textBaseline="middle",t.font=u.string,e.x=kE(this,v,n),t.fillStyle=n.bodyColor,un(this.beforeBody,p),f=o&&v!=="right"?a==="center"?l/2+c:l+2+c:0,T=0,P=i.length;T<P;++T){for(m=i[T],x=this.labelTextColors[T],t.fillStyle=x,un(m.before,p),b=m.lines,o&&b.length&&(this._drawColorBox(t,e,T,d,n),h=Math.max(u.lineHeight,A)),R=0,B=b.length;R<B;++R)p(b[R]),h=u.lineHeight;un(m.after,p)}f=0,h=u.lineHeight,un(this.afterBody,p),e.y-=s}drawFooter(e,t,n){const i=this.footer,s=i.length;let a,o;if(s){const A=A1(n.rtl,this.x,this.width);for(e.x=kE(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=A.textAlign(n.footerAlign),t.textBaseline="middle",a=ls(n.footerFont),t.fillStyle=n.footerColor,t.font=a.string,o=0;o<s;++o)t.fillText(i[o],A.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+n.footerSpacing}}drawBackground(e,t,n,i){const{xAlign:s,yAlign:a}=this,{x:o,y:A}=e,{width:l,height:c}=n,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:d}=og(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(o+u,A),a==="top"&&this.drawCaret(e,t,n,i),t.lineTo(o+l-h,A),t.quadraticCurveTo(o+l,A,o+l,A+h),a==="center"&&s==="right"&&this.drawCaret(e,t,n,i),t.lineTo(o+l,A+c-d),t.quadraticCurveTo(o+l,A+c,o+l-d,A+c),a==="bottom"&&this.drawCaret(e,t,n,i),t.lineTo(o+f,A+c),t.quadraticCurveTo(o,A+c,o,A+c-f),a==="center"&&s==="left"&&this.drawCaret(e,t,n,i),t.lineTo(o,A+u),t.quadraticCurveTo(o,A,o+u,A),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,i=n&&n.x,s=n&&n.y;if(i||s){const a=Ey[e.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=X8(this,e),A=Object.assign({},a,this._size),l=Y8(t,e,A),c=J8(e,A,l,t);(i._to!==c.x||s._to!==c.y)&&(this.xAlign=l.xAlign,this.yAlign=l.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const a=Ra(t.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&o&&(e.save(),e.globalAlpha=n,this.drawBackground(s,e,i,t),xq(e,t.textDirection),s.y+=a.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),_q(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,i=e.map(({datasetIndex:o,index:A})=>{const l=this.chart.getDatasetMeta(o);if(!l)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:l.data[A],index:A}}),s=!RS(n,i),a=this._positionChanged(i,t);(s||a)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,n=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],a=this._getActiveElements(e,s,t,n),o=this._positionChanged(a,e),A=t||!RS(a,s)||o;return A&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),A}_getActiveElements(e,t,n,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,s.mode,s,n);return s.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:n,caretY:i,options:s}=this,a=Ey[s.position].call(this,e,t);return a!==!1&&(n!==a.x||i!==a.y)}}De(dL,"positioners",Ey);var Pxe={id:"tooltip",_element:dL,positioners:Ey,afterInit(r,e,t){t&&(r.tooltip=new dL({chart:r,options:t}))},beforeUpdate(r,e,t){r.tooltip&&r.tooltip.initialize(t)},reset(r,e,t){r.tooltip&&r.tooltip.initialize(t)},afterDraw(r){const e=r.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(r.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(r.ctx),r.notifyPlugins("afterTooltipDraw",t)}},afterEvent(r,e){if(r.tooltip){const t=e.replay;r.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(r,e)=>e.bodyFont.size,boxWidth:(r,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:$q},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:r=>r!=="filter"&&r!=="itemSort"&&r!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Rxe=Object.freeze({__proto__:null,Colors:W2e,Decimation:X2e,Filler:gxe,Legend:_xe,SubTitle:Cxe,Title:Exe,Tooltip:Pxe});const Nxe=(r,e,t,n)=>(typeof e=="string"?(t=r.push(e)-1,n.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function Dxe(r,e,t,n){const i=r.indexOf(e);if(i===-1)return Nxe(r,e,t,n);const s=r.lastIndexOf(e);return i!==s?t:i}const Uxe=(r,e)=>r===null?null:Bs(Math.round(r),0,e);function tQ(r){const e=this.getLabels();return r>=0&&r<e.length?e[r]:r}class pL extends Kg{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const n=this.getLabels();for(const{index:i,label:s}of t)n[i]===s&&n.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Sr(e))return null;const n=this.getLabels();return t=isFinite(t)&&n[t]===e?t:Dxe(n,e,cr(t,e),this._addedLabels),Uxe(t,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),t||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,i=[];let s=this.getLabels();s=e===0&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let a=e;a<=t;a++)i.push({value:a});return i}getLabelForValue(e){return tQ.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}De(pL,"id","category"),De(pL,"defaults",{ticks:{callback:tQ}});function Mxe(r,e){const t=[],{bounds:i,step:s,min:a,max:o,precision:A,count:l,maxTicks:c,maxDigits:u,includeBounds:h}=r,f=s||1,d=c-1,{min:p,max:v}=e,m=!Sr(a),x=!Sr(o),b=!Sr(l),T=(v-p)/(u+1);let R=X6((v-p)/d/f)*f,P,B,E,_;if(R<1e-14&&!m&&!x)return[{value:p},{value:v}];_=Math.ceil(v/R)-Math.floor(p/R),_>d&&(R=X6(_*R/d/f)*f),Sr(A)||(P=Math.pow(10,A),R=Math.ceil(R*P)/P),i==="ticks"?(B=Math.floor(p/R)*R,E=Math.ceil(v/R)*R):(B=p,E=v),m&&x&&s&&Ive((o-a)/s,R/1e3)?(_=Math.round(Math.min((o-a)/R,c)),R=(o-a)/_,B=a,E=o):b?(B=m?a:B,E=x?o:E,_=l-1,R=(E-B)/_):(_=(E-B)/R,i2(_,Math.round(_),R/1e3)?_=Math.round(_):_=Math.ceil(_));const I=Math.max(Y6(R),Y6(B));P=Math.pow(10,Sr(A)?I:A),B=Math.round(B*P)/P,E=Math.round(E*P)/P;let S=0;for(m&&(h&&B!==a?(t.push({value:a}),B<a&&S++,i2(Math.round((B+S*R)*P)/P,a,rQ(a,T,r))&&S++):B<a&&S++);S<_;++S){const F=Math.round((B+S*R)*P)/P;if(x&&F>o)break;t.push({value:F})}return x&&h&&E!==o?t.length&&i2(t[t.length-1].value,o,rQ(o,T,r))?t[t.length-1].value=o:t.push({value:o}):(!x||E===o)&&t.push({value:E}),t}function rQ(r,e,{horizontal:t,minRotation:n}){const i=Vl(n),s=(t?Math.sin(i):Math.cos(i))||.001,a=.75*e*(""+r).length;return Math.min(e/s,a)}class HS extends Kg{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Sr(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this;const a=A=>i=t?i:A,o=A=>s=n?s:A;if(e){const A=Zc(i),l=Zc(s);A<0&&l<0?o(0):A>0&&l>0&&a(0)}if(i===s){let A=s===0?1:Math.abs(s*.05);o(s+A),e||a(i-A)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:n}=e,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},s=this._range||this,a=Mxe(i,s);return e.bounds==="ticks"&&iq(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const i=(n-t)/Math.max(e.length-1,1)/2;t-=i,n+=i}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return mb(e,this.chart.options.locale,this.options.ticks.format)}}class gL extends HS{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=wi(e)?e:0,this.max=wi(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=Vl(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}De(gL,"id","linear"),De(gL,"defaults",{ticks:{callback:yT.formatters.numeric}});const Ax=r=>Math.floor(fd(r)),B0=(r,e)=>Math.pow(10,Ax(r)+e);function nQ(r){return r/Math.pow(10,Ax(r))===1}function iQ(r,e,t){const n=Math.pow(10,t),i=Math.floor(r/n);return Math.ceil(e/n)-i}function Oxe(r,e){const t=e-r;let n=Ax(t);for(;iQ(r,e,n)>10;)n++;for(;iQ(r,e,n)<10;)n--;return Math.min(n,Ax(r))}function Qxe(r,{min:e,max:t}){e=Yo(r.min,e);const n=[],i=Ax(e);let s=Oxe(e,t),a=s<0?Math.pow(10,Math.abs(s)):1;const o=Math.pow(10,s),A=i>s?Math.pow(10,i):0,l=Math.round((e-A)*a)/a,c=Math.floor((e-A)/o/10)*o*10;let u=Math.floor((l-c)/Math.pow(10,s)),h=Yo(r.min,Math.round((A+c+u*Math.pow(10,s))*a)/a);for(;h<t;)n.push({value:h,major:nQ(h),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(s++,u=2,a=s>=0?1:a),h=Math.round((A+c+u*Math.pow(10,s))*a)/a;const f=Yo(r.max,h);return n.push({value:f,major:nQ(f),significand:u}),n}class mL extends Kg{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=HS.prototype.parse.apply(this,[e,t]);if(n===0){this._zero=!0;return}return wi(n)&&n>0?n:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=wi(e)?Math.max(0,e):null,this.max=wi(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!wi(this._userMin)&&(this.min=e===B0(this.min,0)?B0(this.min,-1):B0(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,i=this.max;const s=o=>n=e?n:o,a=o=>i=t?i:o;n===i&&(n<=0?(s(1),a(10)):(s(B0(n,-1)),a(B0(i,1)))),n<=0&&s(B0(i,-1)),i<=0&&a(B0(n,1)),this.min=n,this.max=i}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},n=Qxe(t,this);return e.bounds==="ticks"&&iq(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":mb(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=fd(e),this._valueRange=fd(this.max)-fd(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(fd(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}De(mL,"id","logarithmic"),De(mL,"defaults",{ticks:{callback:yT.formatters.logarithmic,major:{enabled:!0}}});function vL(r){const e=r.ticks;if(e.display&&r.display){const t=Ra(e.backdropPadding);return cr(e.font&&e.font.size,Xn.font.size)+t.height}return 0}function Hxe(r,e,t){return t=qn(t)?t:[t],{w:Gve(r,e.string,t),h:t.length*e.lineHeight}}function sQ(r,e,t,n,i){return r===n||r===i?{start:e-t/2,end:e+t/2}:r<n||r>i?{start:e-t,end:e}:{start:e,end:e+t}}function Vxe(r){const e={l:r.left+r._padding.left,r:r.right-r._padding.right,t:r.top+r._padding.top,b:r.bottom-r._padding.bottom},t=Object.assign({},e),n=[],i=[],s=r._pointLabels.length,a=r.options.pointLabels,o=a.centerPointLabels?Xr/s:0;for(let A=0;A<s;A++){const l=a.setContext(r.getPointLabelContext(A));i[A]=l.padding;const c=r.getPointPosition(A,r.drawingArea+i[A],o),u=ls(l.font),h=Hxe(r.ctx,u,r._pointLabels[A]);n[A]=h;const f=_a(r.getIndexAngle(A)+o),d=Math.round(LN(f)),p=sQ(d,c.x,h.w,0,180),v=sQ(d,c.y,h.h,90,270);jxe(t,e,f,p,v)}r.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),r._pointLabelItems=Wxe(r,n,i)}function jxe(r,e,t,n,i){const s=Math.abs(Math.sin(t)),a=Math.abs(Math.cos(t));let o=0,A=0;n.start<e.l?(o=(e.l-n.start)/s,r.l=Math.min(r.l,e.l-o)):n.end>e.r&&(o=(n.end-e.r)/s,r.r=Math.max(r.r,e.r+o)),i.start<e.t?(A=(e.t-i.start)/a,r.t=Math.min(r.t,e.t-A)):i.end>e.b&&(A=(i.end-e.b)/a,r.b=Math.max(r.b,e.b+A))}function Kxe(r,e,t){const n=r.drawingArea,{extra:i,additionalAngle:s,padding:a,size:o}=t,A=r.getPointPosition(e,n+i+a,s),l=Math.round(LN(_a(A.angle+Ni))),c=qxe(A.y,o.h,l),u=Gxe(l),h=$xe(A.x,o.w,u);return{visible:!0,x:A.x,y:c,textAlign:u,left:h,top:c,right:h+o.w,bottom:c+o.h}}function zxe(r,e){if(!e)return!0;const{left:t,top:n,right:i,bottom:s}=r;return!(wh({x:t,y:n},e)||wh({x:t,y:s},e)||wh({x:i,y:n},e)||wh({x:i,y:s},e))}function Wxe(r,e,t){const n=[],i=r._pointLabels.length,s=r.options,{centerPointLabels:a,display:o}=s.pointLabels,A={extra:vL(s)/2,additionalAngle:a?Xr/i:0};let l;for(let c=0;c<i;c++){A.padding=t[c],A.size=e[c];const u=Kxe(r,c,A);n.push(u),o==="auto"&&(u.visible=zxe(u,l),u.visible&&(l=u))}return n}function Gxe(r){return r===0||r===180?"center":r<180?"left":"right"}function $xe(r,e,t){return t==="right"?r-=e:t==="center"&&(r-=e/2),r}function qxe(r,e,t){return t===90||t===270?r-=e/2:(t>270||t<90)&&(r-=e),r}function Xxe(r,e,t){const{left:n,top:i,right:s,bottom:a}=t,{backdropColor:o}=e;if(!Sr(o)){const A=og(e.borderRadius),l=Ra(e.backdropPadding);r.fillStyle=o;const c=n-l.left,u=i-l.top,h=s-n+l.width,f=a-i+l.height;Object.values(A).some(d=>d!==0)?(r.beginPath(),ax(r,{x:c,y:u,w:h,h:f,radius:A}),r.fill()):r.fillRect(c,u,h,f)}}function Yxe(r,e){const{ctx:t,options:{pointLabels:n}}=r;for(let i=e-1;i>=0;i--){const s=r._pointLabelItems[i];if(!s.visible)continue;const a=n.setContext(r.getPointLabelContext(i));Xxe(t,a,s);const o=ls(a.font),{x:A,y:l,textAlign:c}=s;Fg(t,r._pointLabels[i],A,l+o.lineHeight/2,o,{color:a.color,textAlign:c,textBaseline:"middle"})}}function qq(r,e,t,n){const{ctx:i}=r;if(t)i.arc(r.xCenter,r.yCenter,e,0,Hn);else{let s=r.getPointPosition(0,e);i.moveTo(s.x,s.y);for(let a=1;a<n;a++)s=r.getPointPosition(a,e),i.lineTo(s.x,s.y)}}function Jxe(r,e,t,n,i){const s=r.ctx,a=e.circular,{color:o,lineWidth:A}=e;!a&&!n||!o||!A||t<0||(s.save(),s.strokeStyle=o,s.lineWidth=A,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),qq(r,t,a,n),s.closePath(),s.stroke(),s.restore())}function Zxe(r,e,t){return A0(r,{label:t,index:e,type:"pointLabel"})}class Cy extends HS{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Ra(vL(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=wi(e)&&!isNaN(e)?e:0,this.max=wi(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/vL(this.options))}generateTickLabels(e){HS.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,n)=>{const i=kn(this.options.pointLabels.callback,[t,n],this);return i||i===0?i:""}).filter((t,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?Vxe(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,i))}getIndexAngle(e){const t=Hn/(this._pointLabels.length||1),n=this.options.startAngle||0;return _a(e*t+Vl(n))}getDistanceFromCenterForValue(e){if(Sr(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Sr(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return Zxe(this.getContext(),e,n)}}getPointPosition(e,t,n=0){const i=this.getIndexAngle(e)-Ni+n;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:i,bottom:s}=this._pointLabelItems[e];return{left:t,top:n,right:i,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),qq(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:i,border:s}=t,a=this._pointLabels.length;let o,A,l;if(t.pointLabels.display&&Yxe(this,a),i.display&&this.ticks.forEach((c,u)=>{if(u!==0||u===0&&this.min<0){A=this.getDistanceFromCenterForValue(c.value);const h=this.getContext(u),f=i.setContext(h),d=s.setContext(h);Jxe(this,f,A,a,d)}}),n.display){for(e.save(),o=a-1;o>=0;o--){const c=n.setContext(this.getPointLabelContext(o)),{color:u,lineWidth:h}=c;!h||!u||(e.lineWidth=h,e.strokeStyle=u,e.setLineDash(c.borderDash),e.lineDashOffset=c.borderDashOffset,A=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),l=this.getPointPosition(o,A),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let s,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((o,A)=>{if(A===0&&this.min>=0&&!t.reverse)return;const l=n.setContext(this.getContext(A)),c=ls(l.font);if(s=this.getDistanceFromCenterForValue(this.ticks[A].value),l.showLabelBackdrop){e.font=c.string,a=e.measureText(o.label).width,e.fillStyle=l.backdropColor;const u=Ra(l.backdropPadding);e.fillRect(-a/2-u.left,-s-c.size/2-u.top,a+u.width,c.size+u.height)}Fg(e,o.label,0,-s,c,{color:l.color,strokeColor:l.textStrokeColor,strokeWidth:l.textStrokeWidth})}),e.restore()}drawTitle(){}}De(Cy,"id","radialLinear"),De(Cy,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:yT.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),De(Cy,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),De(Cy,"descriptors",{angleLines:{_fallback:"grid"}});const BT={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Io=Object.keys(BT);function aQ(r,e){return r-e}function oQ(r,e){if(Sr(e))return null;const t=r._adapter,{parser:n,round:i,isoWeekday:s}=r._parseOpts;let a=e;return typeof n=="function"&&(a=n(a)),wi(a)||(a=typeof n=="string"?t.parse(a,n):t.parse(a)),a===null?null:(i&&(a=i==="week"&&(Dv(s)||s===!0)?t.startOf(a,"isoWeek",s):t.startOf(a,i)),+a)}function AQ(r,e,t,n){const i=Io.length;for(let s=Io.indexOf(r);s<i-1;++s){const a=BT[Io[s]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((t-e)/(o*a.size))<=n)return Io[s]}return Io[i-1]}function e_e(r,e,t,n,i){for(let s=Io.length-1;s>=Io.indexOf(t);s--){const a=Io[s];if(BT[a].common&&r._adapter.diff(i,n,a)>=e-1)return a}return Io[t?Io.indexOf(t):0]}function t_e(r){for(let e=Io.indexOf(r)+1,t=Io.length;e<t;++e)if(BT[Io[e]].common)return Io[e]}function lQ(r,e,t){if(!t)r[e]=!0;else if(t.length){const{lo:n,hi:i}=PN(t,e),s=t[n]>=e?t[n]:t[i];r[s]=!0}}function r_e(r,e,t,n){const i=r._adapter,s=+i.startOf(e[0].value,n),a=e[e.length-1].value;let o,A;for(o=s;o<=a;o=+i.add(o,1,n))A=t[o],A>=0&&(e[A].major=!0);return e}function cQ(r,e,t){const n=[],i={},s=e.length;let a,o;for(a=0;a<s;++a)o=e[a],i[o]=a,n.push({value:o,major:!1});return s===0||!t?n:r_e(r,n,i,t)}class lx extends Kg{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const n=e.time||(e.time={}),i=this._adapter=new cye._date(e.adapters.date);i.init(t),n2(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:oQ(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:i,max:s,minDefined:a,maxDefined:o}=this.getUserBounds();function A(l){!a&&!isNaN(l.min)&&(i=Math.min(i,l.min)),!o&&!isNaN(l.max)&&(s=Math.max(s,l.max))}(!a||!o)&&(A(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&A(this.getMinMax(!1))),i=wi(i)&&!isNaN(i)?i:+t.startOf(Date.now(),n),s=wi(s)&&!isNaN(s)?s:+t.endOf(Date.now(),n)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,a=this.max,o=Rve(i,s,a);return this._unit=t.unit||(n.autoSkip?AQ(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):e_e(this,o.length,t.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:t_e(this._unit),this.initOffsets(i),e.reverse&&o.reverse(),cQ(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,n=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?n=s:n=(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;t=Bs(t,0,a),n=Bs(n,0,a),this._offsets={start:t,end:n,factor:1/(t+1+n)}}_generate(){const e=this._adapter,t=this.min,n=this.max,i=this.options,s=i.time,a=s.unit||AQ(s.minUnit,t,n,this._getLabelCapacity(t)),o=cr(i.ticks.stepSize,1),A=a==="week"?s.isoWeekday:!1,l=Dv(A)||A===!0,c={};let u=t,h,f;if(l&&(u=+e.startOf(u,"isoWeek",A)),u=+e.startOf(u,l?"day":a),e.diff(n,t,a)>1e5*o)throw new Error(t+" and "+n+" are too far apart with stepSize of "+o+" "+a);const d=i.ticks.source==="data"&&this.getDataTimestamps();for(h=u,f=0;h<n;h=+e.add(h,o,a),f++)lQ(c,h,d);return(h===n||i.bounds==="ticks"||f===1)&&lQ(c,h,d),Object.keys(c).sort(aQ).map(p=>+p)}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,s=this._unit,a=t||i[s];return this._adapter.format(e,a)}_tickFormatFunction(e,t,n,i){const s=this.options,a=s.ticks.callback;if(a)return kn(a,[e,t,n],this);const o=s.time.displayFormats,A=this._unit,l=this._majorUnit,c=A&&o[A],u=l&&o[l],h=n[t],f=l&&u&&h&&h.major;return this._adapter.format(e,i||(f?u:c))}generateTickLabels(e){let t,n,i;for(t=0,n=e.length;t<n;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,i=Vl(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(i),a=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:n*s+o*a,h:n*a+o*s}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,i=n[t.unit]||n.millisecond,s=this._tickFormatFunction(e,0,cQ(this,[e],this._majorUnit),i),a=this._getLabelSize(s),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],t,n;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,n=i.length;t<n;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const i=this.getLabels();for(t=0,n=i.length;t<n;++t)e.push(oQ(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return oq(e.sort(aQ))}}De(lx,"id","time"),De(lx,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function LE(r,e,t){let n=0,i=r.length-1,s,a,o,A;t?(e>=r[n].pos&&e<=r[i].pos&&({lo:n,hi:i}=vh(r,"pos",e)),{pos:s,time:o}=r[n],{pos:a,time:A}=r[i]):(e>=r[n].time&&e<=r[i].time&&({lo:n,hi:i}=vh(r,"time",e)),{time:s,pos:o}=r[n],{time:a,pos:A}=r[i]);const l=a-s;return l?o+(A-o)*(e-s)/l:o}class wL extends lx{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=LE(t,this.min),this._tableRange=LE(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,i=[],s=[];let a,o,A,l,c;for(a=0,o=e.length;a<o;++a)l=e[a],l>=t&&l<=n&&i.push(l);if(i.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(a=0,o=i.length;a<o;++a)c=i[a+1],A=i[a-1],l=i[a],Math.round((c+A)/2)!==l&&s.push({time:l,pos:a/(o-1)});return s}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(t)||n.length===1)&&n.push(t),n.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return t.length&&n.length?e=this.normalize(t.concat(n)):e=t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(LE(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return LE(this._table,n*this._tableRange+this._minPos,!0)}}De(wL,"id","timeseries"),De(wL,"defaults",lx.defaults);var n_e=Object.freeze({__proto__:null,CategoryScale:pL,LinearScale:gL,LogarithmicScale:mL,RadialLinearScale:Cy,TimeScale:lx,TimeSeriesScale:wL});const i_e=[lye,O2e,Rxe,n_e];jc.register(...i_e);function Xq(r,e){const t=r.students.filter(i=>i.submitted);let n="";if(t.length===0)n=`
            <div class="card p-3 printable-section mb-2">
                <h3 class="text-xl font-bold text-gray-800 mb-2">    </h3>
                <p class="text-center text-gray-500 text-sm leading-tight">     .</p>
            </div>`;else{const i=t.map(l=>l.score),s=Math.max(...i),a=Math.min(...i),o=[];r.answerRates.forEach((l,c)=>{l===100&&o.push(c+1)});const A=[];r.answerRates.forEach((l,c)=>{l<=40&&A.push({qNum:c+1,rate:l})}),n=`
            <div id="pdf-section-features" class="card p-3 printable-section mb-2">
                <h3 class="text-xl font-bold text-gray-800 mb-2">    </h3>
                {/*  [] align-items: start  (  ) */}
                <div class="grid md:grid-cols-3 gap-2">
                    
                    {/*  []   () - flex, max-h  */}
                    <div class="bg-indigo-50 rounded border border-indigo-200 p-1 flex flex-col justify-between">
                        <h4 class="font-semibold text-indigo-800 text-sm mb-0.5">  </h4>
                        <div class="flex-1 overflow-y-auto text-indigo-700 text-sm leading-tight break-words max-h-[5.5rem]">
                             ${s},  ${a},  ${r.classAverage}
                        </div>
                    </div>
                    
                    {/*  []   () - flex, max-h  */}
                    <div class="bg-green-50 rounded border border-green-200 p-1 flex flex-col justify-between">
                        <h4 class="font-semibold text-green-800 text-sm mb-0.5">   </h4>
                        <div class="flex-1 overflow-y-auto text-green-700 text-sm leading-tight break-words max-h-[5.5rem]">
                            ${o.length>0?o.map(l=>`${l}`).join(", "):""}
                        </div>
                    </div>

                    {/*  []   () - max-h 5.5rem  */}
                    <div class="bg-red-50 rounded border border-red-200 p-1 flex flex-col justify-between">
                        <h4 class="font-semibold text-red-800 text-sm mb-0.5">    (40% )</h4>
                        <div class="flex-1 overflow-y-auto text-red-700 text-sm leading-tight break-words max-h-[5.5rem]">
                            ${A.length>0?A.map(l=>`${l.qNum}(${l.rate}%)`).join(", "):""}
                        </div>
                    </div>
                    {/* --- []  --- */}
                </div>
            </div>
        `}return n}function s_e(r,e,t,n){const i=Xq(r),s=e?e.summary.replace(/\n/g," "):'<div class="ai-spinner"></div>',a=e?e.common_weaknesses.replace(/\n/g," "):'<div class="ai-spinner"></div>',o=e?e.recommendations.replace(/\n/g," "):'<div class="ai-spinner"></div>',A=`
        <div id="pdf-section-chart-overall" class="card p-6 printable-section" style="page-break-inside: avoid;">
            <h3 class="text-2xl font-bold text-gray-800 mb-4">    </h3>
            <div class="w-full"><canvas id="scoreChart"></canvas></div>
        </div>
    `,l=`
        <div id="pdf-section-ai-boxes-overall" class="card p-6 printable-section" style="page-break-inside: avoid;">
            <h3 class="text-2xl font-bold text-gray-800 mb-4">   AI  </h3>
            <div class="space-y-6">
                <div class="p-6 rounded-lg bg-gray-100 border border-gray-200">
                    <h4 class="font-bold text-lg text-gray-800 mb-2">  </h4>
                    <div class="text-gray-700 report-ai-content max-w-none">${s}</div>
                </div>
                <div class="p-6 rounded-lg bg-red-50 border-red-200">
                    <h4 class="font-bold text-lg text-red-800 mb-2">   </h4>
                    <div class="text-red-700 report-ai-content max-w-none">${a}</div>
                </div>
                <div class="p-6 rounded-lg bg-green-50 border-green-200">
                    <h4 class="font-bold text-lg text-green-800 mb-2">   </h4>
                    <div class="text-green-700 report-ai-content max-w-none">${o}</div>
                </div>
            </div>
        </div>
    `;let c='<tr><td colspan="4" class="text-center py-4">AI   ...</td></tr>';e&&(e.question_analysis&&e.question_analysis.length>0?c=e.question_analysis.map(h=>`
                <tr class="border-b bg-red-50 hover:bg-red-100">
                    <td class="px-4 py-3 text-center font-medium">${h.qNum}</td>
                    <td class="px-6 py-3">${h.unit||" ..."}</td>
                    <td class="px-6 py-3">${h.analysis_point||" ..."}</td>
                    <td class="px-6 py-3">${h.solution||" ..."}</td>
                </tr>
            `).join(""):c='<tr><td colspan="4" class="text-center py-4">   .</td></tr>');const u=`
        <div id="pdf-section-solutions-overall" class="card p-6 printable-section">
            <h3 class="text-2xl font-bold text-gray-800 mb-4">     (AI )</h3>
            <div class="overflow-x-auto">
                <table class="w-full text-sm text-left text-gray-500">
                    <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                        <tr>
                            <th class="px-4 py-3 text-center"></th>
                            <th class="px-6 py-3">   (AI)</th>
                            <th class="px-6 py-3"> </th>
                            <th class="px-6 py-3"> </th>
                        </tr>
                    </thead>
                    <tbody>
                        ${c}
                    </tbody>
                </table>
            </div>
        </div>
    `;return`
        <div class="text-center my-4 print:hidden">
            <h2 class="text-3xl font-bold text-gray-800">${t} ${n}</h2>
            <p class="text-xl text-gray-600">  ( )</p>
        </div>
        
        <div class="report-page active" data-page-name=" ">
            ${i}
            ${A}
        </div>
        
        <div class="report-page" data-page-name="AI ">
            ${l}
        </div>

        <div class="report-page" data-page-name="  ">
            ${u}
        </div>
    `}function a_e(r,e,t,n,i,s){var b,T,R;if(!r||!r.submitted)return`
            <div class="text-center my-4 print:hidden">
                <h2 class="text-3xl font-bold text-gray-800">${i} ${s}</h2>
                <p class="text-xl text-gray-600">${r?r.name:"  "}  </p>
            </div>
            <div class="card p-8 text-center">
                <p class="text-xl text-gray-600 p-8">       .</p>
            </div>
        `;const a=Xq(e),o=`
        <div id="pdf-section-comment" class="card p-6 printable-section">
            <h3 class="text-2xl font-bold text-gray-800 mb-4">   </h3>
            <div class="p-6 rounded-lg bg-blue-50 border border-blue-200">
                <textarea id="instructorComment" 
                    class="w-full h-40 p-3 bg-white border border-blue-200 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none transition duration-150 ease-in-out" 
                    placeholder="   ..."></textarea>
            </div>
        </div>
    `,A=t?t.strengths.replace(/\n/g," "):'<div class="ai-spinner"></div>',l=t?t.weaknesses.replace(/\n/g," "):'<div class="ai-spinner"></div>',c=t?t.recommendations.replace(/\n/g," "):'<div class="ai-spinner"></div>',u=`
        <div id="pdf-section-chart" class="card p-6 printable-section" style="page-break-inside: avoid;">
            <h3 class="text-2xl font-bold text-gray-800 mb-4"> ${r.name}   </h3>
            <div class="w-full"><canvas id="scoreChart"></canvas></div>
        </div>
    `,h=`
        <div id="pdf-section-ai-boxes" class="card p-6 printable-section" style="page-break-inside: avoid;">
            <h3 class="text-2xl font-bold text-gray-800 mb-4"> ${r.name}  AI  </h3>
            
            <div class="space-y-6">
                <div class="p-6 rounded-lg bg-blue-50 border border-blue-200">
                    <h4 class="font-bold text-lg text-blue-800 mb-2">  (Strengths)</h4>
                    <div class="text-blue-700 report-ai-content max-w-none">${A}</div>
                </div>
                <div class="p-6 rounded-lg bg-red-50 border-red-200">
                    <h4 class="font-bold text-lg text-red-800 mb-2">  (Weaknesses)</h4>
                    <div class="text-red-700 report-ai-content max-w-none">${l}</div>
                </div>
                <div class="p-6 rounded-lg bg-green-50 border-green-200">
                    <h4 class="font-bold text-lg text-green-800 mb-2">   (Recommendations)</h4>
                    <div class="text-green-700 report-ai-content max-w-none">${c}</div>
                </div>
            </div>
        </div>
    `,f=new Map,d=new Map;(T=(b=e.questionUnitMap)==null?void 0:b.question_units)==null||T.forEach(P=>{f.set(P.qNum,P.unit),d.set(P.qNum,P.difficulty)}),(R=t==null?void 0:t.incorrect_analysis)==null||R.forEach(P=>{P.unit&&f.set(P.qNum,P.unit)});const v=`
        <div id="pdf-section-errata" class="card p-6 printable-section">
            <h3 class="text-2xl font-bold text-gray-800 mb-4">  </h3>
            <div class="overflow-x-auto">
                <table class="w-full text-sm text-left text-gray-500">
                    <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                        <tr>
                            <th class="px-4 py-3 text-center"></th>
                            <th class="px-6 py-3">   (AI )</th>
                            <th class="px-4 py-3 text-center"> (AI)</th> {/*    */}
                            <th class="px-4 py-3 text-center"></th>
                            <th class="px-4 py-3 text-center">  (%)</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${r.answers.map((P,B)=>`
        <tr class="border-b ${P.isCorrect?"hover:bg-gray-50":"bg-red-50 hover:bg-red-100"}">
            <td class="px-4 py-3 text-center font-medium ${P.isCorrect?"":"text-red-600"}">${P.qNum}</td>
            <td class="px-6 py-3">${f.get(P.qNum)||""}</td>
            {/*  [] getDifficulty   difficultyMap AI   */}
            <td class="px-4 py-3 text-center">${d.get(P.qNum)||"N/A"}</td>
            <td class="px-4 py-3 text-center font-bold ${P.isCorrect?"text-blue-600":"text-red-600"}">${P.isCorrect?"O":"X"}</td>
            <td class="px-4 py-3 text-center">${e.answerRates[B]??"N/A"}%</td>
        </tr>
    `).join("")}
                    </tbody>
                </table>
            </div>
        </div>
    `;let m='<tr><td colspan="5" class="text-center py-4">AI   ...</td></tr>';t&&(t.incorrect_analysis&&t.incorrect_analysis.length>0?m=t.incorrect_analysis.map(P=>`
                <tr class="border-b bg-red-50 hover:bg-red-100">
                    <td class="px-4 py-3 text-center font-medium">${P.qNum}</td>
                    <td class="px-6 py-3">${f.get(P.qNum)||" "}</td>
                    {/*  [] getDifficulty   difficultyMap AI   */}
                    <td class="px-4 py-3 text-center">${d.get(P.qNum)||"N/A"}</td>
                    <td class="px-6 py-3">${P.analysis_point||"AI  ..."}</td>
                    <td class="px-6 py-3">${P.solution||"AI  ..."}</td>
                </tr>
            `).join(""):m='<tr><td colspan="5" class="text-center py-4">  !</td></tr>');const x=`
        <div id="pdf-section-solutions" class="card p-6 printable-section">
            <h3 class="text-2xl font-bold text-gray-800 mb-4">      (AI )</h3>
            <div class="overflow-x-auto">
                <table class="w-full text-sm text-left text-gray-500">
                    <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                        <tr>
                            <th class="px-4 py-3 text-center"></th>
                            <th class="px-6 py-3">  </th>
                            <th class="px-4 py-3 text-center"> (AI)</th> {/*    */}
                            <th class="px-6 py-3">  (AI)</th>
                            <th class="px-6 py-3">  (AI)</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${m}
                    </tbody>
                </table>
            </div>
        </div>
    `;return`
        <div class="text-center my-4 print:hidden">
            <h2 class="text-3xl font-bold text-gray-800">${i} ${s}</h2>
            <p class="text-xl text-gray-600">${r.name}  </p>
        </div>

        <div class="report-page active" data-page-name=" ">
            ${a}
            ${o}
            ${u} 
        </div>
        
        <div class="report-page" data-page-name="AI ">
            ${h} 
        </div>
        
        <div class="report-page" data-page-name=" ">
            ${v} 
        </div>

        <div class="report-page" data-page-name=" ">
            ${x} 
        </div>
    `}function uQ(r,e,t,n=!0){if(!r)return null;if(!e||!e.students)return console.warn("renderScoreChart: studentData.students ."),null;const i=r.getContext("2d");if(!i)return null;const a=[...e.students.filter(u=>u.submitted)].sort((u,h)=>h.score-u.score),o=a.map((u,h)=>t&&u.name===t.name?u.name:t?` ${h+1}`:u.name),A=a.map(u=>u.score),l=a.map(u=>t&&u.name===t.name?"rgba(59, 130, 246, 0.7)":"rgba(156, 163, 175, 0.5)"),c=a.map(u=>t&&u.name===t.name?"rgba(37, 99, 235, 1)":"rgba(107, 114, 128, 1)");return new jc(i,{type:"bar",data:{labels:o,datasets:[{label:t?" ":" ",data:A,backgroundColor:l,borderColor:c,borderWidth:1,order:2},{label:" ",data:Array(A.length).fill(e.classAverage),type:"line",fill:!1,borderColor:"rgb(239, 68, 68)",backgroundColor:"rgb(239, 68, 68)",tension:.1,borderWidth:3,pointRadius:0,order:1}]},options:{responsive:!0,maintainAspectRatio:!0,animation:n,scales:{y:{beginAtZero:!0,max:100},x:{ticks:{display:t||a.length<=10}}},plugins:{title:{display:!0,text:"    ()",font:{size:16}},legend:{position:"bottom"},tooltip:{callbacks:{label:function(u){let h=u.dataset.label||"";return h&&(h+=": "),u.dataset.type==="line"?h=" ":h=t?u.label:a[u.dataIndex].name,u.parsed.y!==null&&(h+=`${u.parsed.y}`),h}}}}}})}const o_e=()=>{const{currentReportData:r,setCurrentReportData:e,currentPage:t,selectedReportId:n,selectedClass:i,selectedDate:s,selectedStudent:a,aiLoading:o,setAiLoading:A,setReportHTML:l,setCurrentPage:c,setErrorMessage:u,setReportCurrentPage:h}=ec(),f=Kt.useCallback(async()=>{var x,b;const d=r;if(!d){u("    ."),c("page4");return}const p=a?(x=d.students)==null?void 0:x.find(T=>T.name===a):null;if(a&&!p){u(` '${a}'  .`),c("page4");return}if(a){if(p.submitted&&!p.aiAnalysis&&!o){A(!0),l(`<div class="card p-8 text-center mt-10"><div class="spinner mx-auto"></div><p class="mt-4 text-gray-600">AI ${p.name}     ...</p></div>`);try{console.log(`[AI Analysis] '${p.name}'   ...`);const T=await j1e(p,d,i,d.questionUnitMap);console.log(`[AI Analysis] '${p.name}'   .`),await AAe(n,p.name,T),console.log(`[Firestore] '${p.name}'     .`),e(R=>{const P=R.students.map(B=>B.name===p.name?{...B,aiAnalysis:T}:B);return{...R,students:P}})}catch(T){console.error("Individual analysis failed:",T),u(`'${p.name}'    : ${T.message}`),c("page4"),A(!1)}finally{setTimeout(()=>A(!1),0)}return}else if(o){l(`<div class="card p-8 text-center mt-10"><div class="spinner mx-auto"></div><p class="mt-4 text-gray-600">AI ${p.name}     ...</p></div>`);return}}if(!d.aiOverallAnalysis||!d.questionUnitMap){u("  . (  ) ''    ."),c("page4");return}const v=(b=d.students)==null?void 0:b.find(T=>T.name===a);if(a&&(v!=null&&v.submitted)&&!(v!=null&&v.aiAnalysis)){u(`'${a}'  AI    .    .`);return}const m=a?a_e(v,d,v==null?void 0:v.aiAnalysis,d.aiOverallAnalysis,i,s):s_e(d,d.aiOverallAnalysis,i,s);l(m),h(1)},[r,i,s,a,n,o,A,l,u,c,h,e]);return Kt.useEffect(()=>{t==="page5"&&f()},[t,f]),{}};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var yL=function(r,e){return yL=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},yL(r,e)};function tc(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");yL(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var xL=function(){return xL=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},xL.apply(this,arguments)};function Ga(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(c){try{l(n.next(c))}catch(u){a(u)}}function A(c){try{l(n.throw(c))}catch(u){a(u)}}function l(c){c.done?s(c.value):i(c.value).then(o,A)}l((n=n.apply(r,[])).next())})}function ma(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(l){return function(c){return A([l,c])}}function A(l){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){t.label=l[1];break}if(l[0]===6&&t.label<s[1]){t.label=s[1],s=l;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(l);break}s[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(r,t)}catch(c){l=[6,c],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function PE(r,e,t){if(arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return r.concat(s||e)}var Oh=function(){function r(e,t,n,i){this.left=e,this.top=t,this.width=n,this.height=i}return r.prototype.add=function(e,t,n,i){return new r(this.left+e,this.top+t,this.width+n,this.height+i)},r.fromClientRect=function(e,t){return new r(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},r.fromDOMRectList=function(e,t){var n=Array.from(t).find(function(i){return i.width!==0});return n?new r(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):r.EMPTY},r.EMPTY=new r(0,0,0,0),r}(),ST=function(r,e){return Oh.fromClientRect(r,e.getBoundingClientRect())},A_e=function(r){var e=r.body,t=r.documentElement;if(!e||!t)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),i=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new Oh(0,0,n,i)},TT=function(r){for(var e=[],t=0,n=r.length;t<n;){var i=r.charCodeAt(t++);if(i>=55296&&i<=56319&&t<n){var s=r.charCodeAt(t++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),t--)}else e.push(i)}return e},Fi=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var t=r.length;if(!t)return"";for(var n=[],i=-1,s="";++i<t;){var a=r[i];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(i+1===t||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},hQ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l_e=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var RE=0;RE<hQ.length;RE++)l_e[hQ.charCodeAt(RE)]=RE;var fQ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",By=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var NE=0;NE<fQ.length;NE++)By[fQ.charCodeAt(NE)]=NE;var c_e=function(r){var e=r.length*.75,t=r.length,n,i=0,s,a,o,A;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),c=Array.isArray(l)?l:new Uint8Array(l);for(n=0;n<t;n+=4)s=By[r.charCodeAt(n)],a=By[r.charCodeAt(n+1)],o=By[r.charCodeAt(n+2)],A=By[r.charCodeAt(n+3)],c[i++]=s<<2|a>>4,c[i++]=(a&15)<<4|o>>2,c[i++]=(o&3)<<6|A&63;return l},u_e=function(r){for(var e=r.length,t=[],n=0;n<e;n+=2)t.push(r[n+1]<<8|r[n]);return t},h_e=function(r){for(var e=r.length,t=[],n=0;n<e;n+=4)t.push(r[n+3]<<24|r[n+2]<<16|r[n+1]<<8|r[n]);return t},lg=5,KN=11,w4=2,f_e=KN-lg,Yq=65536>>lg,d_e=1<<lg,y4=d_e-1,p_e=1024>>lg,g_e=Yq+p_e,m_e=g_e,v_e=32,w_e=m_e+v_e,y_e=65536>>KN,x_e=1<<f_e,__e=x_e-1,dQ=function(r,e,t){return r.slice?r.slice(e,t):new Uint16Array(Array.prototype.slice.call(r,e,t))},b_e=function(r,e,t){return r.slice?r.slice(e,t):new Uint32Array(Array.prototype.slice.call(r,e,t))},E_e=function(r,e){var t=c_e(r),n=Array.isArray(t)?h_e(t):new Uint32Array(t),i=Array.isArray(t)?u_e(t):new Uint16Array(t),s=24,a=dQ(i,s/2,n[4]/2),o=n[5]===2?dQ(i,(s+n[4])/2):b_e(n,Math.ceil((s+n[4])/4));return new C_e(n[0],n[1],n[2],n[3],a,o)},C_e=function(){function r(e,t,n,i,s,a){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=a}return r.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>lg],t=(t<<w4)+(e&y4),this.data[t];if(e<=65535)return t=this.index[Yq+(e-55296>>lg)],t=(t<<w4)+(e&y4),this.data[t];if(e<this.highStart)return t=w_e-y_e+(e>>KN),t=this.index[t],t+=e>>lg&__e,t=this.index[t],t=(t<<w4)+(e&y4),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r}(),pQ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",B_e=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var DE=0;DE<pQ.length;DE++)B_e[pQ.charCodeAt(DE)]=DE;var S_e="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",gQ=50,T_e=1,Jq=2,Zq=3,F_e=4,I_e=5,mQ=7,eX=8,vQ=9,md=10,_L=11,wQ=12,bL=13,k_e=14,Sy=15,EL=16,UE=17,Qw=18,L_e=19,yQ=20,CL=21,Hw=22,x4=23,nm=24,Xo=25,Ty=26,Fy=27,im=28,P_e=29,O0=30,R_e=31,ME=32,OE=33,BL=34,SL=35,TL=36,cx=37,FL=38,mB=39,vB=40,_4=41,tX=42,N_e=43,D_e=[9001,65288],rX="!",Ir="",QE="",IL=E_e(S_e),_u=[O0,TL],kL=[T_e,Jq,Zq,I_e],nX=[md,eX],xQ=[Fy,Ty],U_e=kL.concat(nX),_Q=[FL,mB,vB,BL,SL],M_e=[Sy,bL],O_e=function(r,e){e===void 0&&(e="strict");var t=[],n=[],i=[];return r.forEach(function(s,a){var o=IL.get(s);if(o>gQ?(i.push(!0),o-=gQ):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return n.push(a),t.push(EL);if(o===F_e||o===_L){if(a===0)return n.push(a),t.push(O0);var A=t[a-1];return U_e.indexOf(A)===-1?(n.push(n[a-1]),t.push(A)):(n.push(a),t.push(O0))}if(n.push(a),o===R_e)return t.push(e==="strict"?CL:cx);if(o===tX||o===P_e)return t.push(O0);if(o===N_e)return s>=131072&&s<=196605||s>=196608&&s<=262141?t.push(cx):t.push(O0);t.push(o)}),[n,t,i]},b4=function(r,e,t,n){var i=n[t];if(Array.isArray(r)?r.indexOf(i)!==-1:r===i)for(var s=t;s<=n.length;){s++;var a=n[s];if(a===e)return!0;if(a!==md)break}if(i===md)for(var s=t;s>0;){s--;var o=n[s];if(Array.isArray(r)?r.indexOf(o)!==-1:r===o)for(var A=t;A<=n.length;){A++;var a=n[A];if(a===e)return!0;if(a!==md)break}if(o!==md)break}return!1},bQ=function(r,e){for(var t=r;t>=0;){var n=e[t];if(n===md)t--;else return n}return 0},Q_e=function(r,e,t,n,i){if(t[n]===0)return Ir;var s=n-1;if(Array.isArray(i)&&i[s]===!0)return Ir;var a=s-1,o=s+1,A=e[s],l=a>=0?e[a]:0,c=e[o];if(A===Jq&&c===Zq)return Ir;if(kL.indexOf(A)!==-1)return rX;if(kL.indexOf(c)!==-1||nX.indexOf(c)!==-1)return Ir;if(bQ(s,e)===eX)return QE;if(IL.get(r[s])===_L||(A===ME||A===OE)&&IL.get(r[o])===_L||A===mQ||c===mQ||A===vQ||[md,bL,Sy].indexOf(A)===-1&&c===vQ||[UE,Qw,L_e,nm,im].indexOf(c)!==-1||bQ(s,e)===Hw||b4(x4,Hw,s,e)||b4([UE,Qw],CL,s,e)||b4(wQ,wQ,s,e))return Ir;if(A===md)return QE;if(A===x4||c===x4)return Ir;if(c===EL||A===EL)return QE;if([bL,Sy,CL].indexOf(c)!==-1||A===k_e||l===TL&&M_e.indexOf(A)!==-1||A===im&&c===TL||c===yQ||_u.indexOf(c)!==-1&&A===Xo||_u.indexOf(A)!==-1&&c===Xo||A===Fy&&[cx,ME,OE].indexOf(c)!==-1||[cx,ME,OE].indexOf(A)!==-1&&c===Ty||_u.indexOf(A)!==-1&&xQ.indexOf(c)!==-1||xQ.indexOf(A)!==-1&&_u.indexOf(c)!==-1||[Fy,Ty].indexOf(A)!==-1&&(c===Xo||[Hw,Sy].indexOf(c)!==-1&&e[o+1]===Xo)||[Hw,Sy].indexOf(A)!==-1&&c===Xo||A===Xo&&[Xo,im,nm].indexOf(c)!==-1)return Ir;if([Xo,im,nm,UE,Qw].indexOf(c)!==-1)for(var u=s;u>=0;){var h=e[u];if(h===Xo)return Ir;if([im,nm].indexOf(h)!==-1)u--;else break}if([Fy,Ty].indexOf(c)!==-1)for(var u=[UE,Qw].indexOf(A)!==-1?a:s;u>=0;){var h=e[u];if(h===Xo)return Ir;if([im,nm].indexOf(h)!==-1)u--;else break}if(FL===A&&[FL,mB,BL,SL].indexOf(c)!==-1||[mB,BL].indexOf(A)!==-1&&[mB,vB].indexOf(c)!==-1||[vB,SL].indexOf(A)!==-1&&c===vB||_Q.indexOf(A)!==-1&&[yQ,Ty].indexOf(c)!==-1||_Q.indexOf(c)!==-1&&A===Fy||_u.indexOf(A)!==-1&&_u.indexOf(c)!==-1||A===nm&&_u.indexOf(c)!==-1||_u.concat(Xo).indexOf(A)!==-1&&c===Hw&&D_e.indexOf(r[o])===-1||_u.concat(Xo).indexOf(c)!==-1&&A===Qw)return Ir;if(A===_4&&c===_4){for(var f=t[s],d=1;f>0&&(f--,e[f]===_4);)d++;if(d%2!==0)return Ir}return A===ME&&c===OE?Ir:QE},H_e=function(r,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=O_e(r,e.lineBreak),n=t[0],i=t[1],s=t[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(o){return[Xo,O0,tX].indexOf(o)!==-1?cx:o}));var a=e.wordBreak==="keep-all"?s.map(function(o,A){return o&&r[A]>=19968&&r[A]<=40959}):void 0;return[n,i,a]},V_e=function(){function r(e,t,n,i){this.codePoints=e,this.required=t===rX,this.start=n,this.end=i}return r.prototype.slice=function(){return Fi.apply(void 0,this.codePoints.slice(this.start,this.end))},r}(),j_e=function(r,e){var t=TT(r),n=H_e(t,e),i=n[0],s=n[1],a=n[2],o=t.length,A=0,l=0;return{next:function(){if(l>=o)return{done:!0,value:null};for(var c=Ir;l<o&&(c=Q_e(t,s,i,++l,a))===Ir;);if(c!==Ir||l===o){var u=new V_e(t,c,A,l);return A=l,{value:u,done:!1}}return{done:!0,value:null}}}},K_e=1,z_e=2,vb=4,EQ=8,VS=10,CQ=47,A2=92,W_e=9,G_e=32,HE=34,Vw=61,$_e=35,q_e=36,X_e=37,VE=39,jE=40,jw=41,Y_e=95,So=45,J_e=33,Z_e=60,ebe=62,tbe=64,rbe=91,nbe=93,ibe=61,sbe=123,KE=63,abe=125,BQ=124,obe=126,Abe=128,SQ=65533,E4=42,q0=43,lbe=44,cbe=58,ube=59,ux=46,hbe=0,fbe=8,dbe=11,pbe=14,gbe=31,mbe=127,vc=-1,iX=48,sX=97,aX=101,vbe=102,wbe=117,ybe=122,oX=65,AX=69,lX=70,xbe=85,_be=90,ba=function(r){return r>=iX&&r<=57},bbe=function(r){return r>=55296&&r<=57343},sm=function(r){return ba(r)||r>=oX&&r<=lX||r>=sX&&r<=vbe},Ebe=function(r){return r>=sX&&r<=ybe},Cbe=function(r){return r>=oX&&r<=_be},Bbe=function(r){return Ebe(r)||Cbe(r)},Sbe=function(r){return r>=Abe},zE=function(r){return r===VS||r===W_e||r===G_e},jS=function(r){return Bbe(r)||Sbe(r)||r===Y_e},TQ=function(r){return jS(r)||ba(r)||r===So},Tbe=function(r){return r>=hbe&&r<=fbe||r===dbe||r>=pbe&&r<=gbe||r===mbe},_f=function(r,e){return r!==A2?!1:e!==VS},WE=function(r,e,t){return r===So?jS(e)||_f(e,t):jS(r)?!0:!!(r===A2&&_f(r,e))},C4=function(r,e,t){return r===q0||r===So?ba(e)?!0:e===ux&&ba(t):ba(r===ux?e:r)},Fbe=function(r){var e=0,t=1;(r[e]===q0||r[e]===So)&&(r[e]===So&&(t=-1),e++);for(var n=[];ba(r[e]);)n.push(r[e++]);var i=n.length?parseInt(Fi.apply(void 0,n),10):0;r[e]===ux&&e++;for(var s=[];ba(r[e]);)s.push(r[e++]);var a=s.length,o=a?parseInt(Fi.apply(void 0,s),10):0;(r[e]===AX||r[e]===aX)&&e++;var A=1;(r[e]===q0||r[e]===So)&&(r[e]===So&&(A=-1),e++);for(var l=[];ba(r[e]);)l.push(r[e++]);var c=l.length?parseInt(Fi.apply(void 0,l),10):0;return t*(i+o*Math.pow(10,-a))*Math.pow(10,A*c)},Ibe={type:2},kbe={type:3},Lbe={type:4},Pbe={type:13},Rbe={type:8},Nbe={type:21},Dbe={type:9},Ube={type:10},Mbe={type:11},Obe={type:12},Qbe={type:14},GE={type:23},Hbe={type:1},Vbe={type:25},jbe={type:24},Kbe={type:26},zbe={type:27},Wbe={type:28},Gbe={type:29},$be={type:31},LL={type:32},cX=function(){function r(){this._value=[]}return r.prototype.write=function(e){this._value=this._value.concat(TT(e))},r.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==LL;)e.push(t),t=this.consumeToken();return e},r.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case HE:return this.consumeStringToken(HE);case $_e:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(TQ(t)||_f(n,i)){var s=WE(t,n,i)?z_e:K_e,a=this.consumeName();return{type:5,value:a,flags:s}}break;case q_e:if(this.peekCodePoint(0)===Vw)return this.consumeCodePoint(),Pbe;break;case VE:return this.consumeStringToken(VE);case jE:return Ibe;case jw:return kbe;case E4:if(this.peekCodePoint(0)===Vw)return this.consumeCodePoint(),Qbe;break;case q0:if(C4(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case lbe:return Lbe;case So:var o=e,A=this.peekCodePoint(0),l=this.peekCodePoint(1);if(C4(o,A,l))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(WE(o,A,l))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(A===So&&l===ebe)return this.consumeCodePoint(),this.consumeCodePoint(),jbe;break;case ux:if(C4(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case CQ:if(this.peekCodePoint(0)===E4)for(this.consumeCodePoint();;){var c=this.consumeCodePoint();if(c===E4&&(c=this.consumeCodePoint(),c===CQ))return this.consumeToken();if(c===vc)return this.consumeToken()}break;case cbe:return Kbe;case ube:return zbe;case Z_e:if(this.peekCodePoint(0)===J_e&&this.peekCodePoint(1)===So&&this.peekCodePoint(2)===So)return this.consumeCodePoint(),this.consumeCodePoint(),Vbe;break;case tbe:var u=this.peekCodePoint(0),h=this.peekCodePoint(1),f=this.peekCodePoint(2);if(WE(u,h,f)){var a=this.consumeName();return{type:7,value:a}}break;case rbe:return Wbe;case A2:if(_f(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case nbe:return Gbe;case ibe:if(this.peekCodePoint(0)===Vw)return this.consumeCodePoint(),Rbe;break;case sbe:return Mbe;case abe:return Obe;case wbe:case xbe:var d=this.peekCodePoint(0),p=this.peekCodePoint(1);return d===q0&&(sm(p)||p===KE)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case BQ:if(this.peekCodePoint(0)===Vw)return this.consumeCodePoint(),Dbe;if(this.peekCodePoint(0)===BQ)return this.consumeCodePoint(),Nbe;break;case obe:if(this.peekCodePoint(0)===Vw)return this.consumeCodePoint(),Ube;break;case vc:return LL}return zE(e)?(this.consumeWhiteSpace(),$be):ba(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):jS(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Fi(e)}},r.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},r.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},r.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},r.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();sm(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===KE&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(Fi.apply(void 0,e.map(function(A){return A===KE?iX:A})),16),s=parseInt(Fi.apply(void 0,e.map(function(A){return A===KE?lX:A})),16);return{type:30,start:i,end:s}}var a=parseInt(Fi.apply(void 0,e),16);if(this.peekCodePoint(0)===So&&sm(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var o=[];sm(t)&&o.length<6;)o.push(t),t=this.consumeCodePoint();var s=parseInt(Fi.apply(void 0,o),16);return{type:30,start:a,end:s}}else return{type:30,start:a,end:a}},r.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===jE?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===jE?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},r.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===vc)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===VE||t===HE){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===vc||this.peekCodePoint(0)===jw)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),GE)}for(;;){var i=this.consumeCodePoint();if(i===vc||i===jw)return{type:22,value:Fi.apply(void 0,e)};if(zE(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===vc||this.peekCodePoint(0)===jw?(this.consumeCodePoint(),{type:22,value:Fi.apply(void 0,e)}):(this.consumeBadUrlRemnants(),GE);if(i===HE||i===VE||i===jE||Tbe(i))return this.consumeBadUrlRemnants(),GE;if(i===A2)if(_f(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),GE;else e.push(i)}},r.prototype.consumeWhiteSpace=function(){for(;zE(this.peekCodePoint(0));)this.consumeCodePoint()},r.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===jw||e===vc)return;_f(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},r.prototype.consumeStringSlice=function(e){for(var t=5e4,n="";e>0;){var i=Math.min(t,e);n+=Fi.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),n},r.prototype.consumeStringToken=function(e){var t="",n=0;do{var i=this._value[n];if(i===vc||i===void 0||i===e)return t+=this.consumeStringSlice(n),{type:0,value:t};if(i===VS)return this._value.splice(0,n),Hbe;if(i===A2){var s=this._value[n+1];s!==vc&&s!==void 0&&(s===VS?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):_f(i,s)&&(t+=this.consumeStringSlice(n),t+=Fi(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},r.prototype.consumeNumber=function(){var e=[],t=vb,n=this.peekCodePoint(0);for((n===q0||n===So)&&e.push(this.consumeCodePoint());ba(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===ux&&ba(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=EQ;ba(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===AX||n===aX)&&((i===q0||i===So)&&ba(s)||ba(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=EQ;ba(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[Fbe(e),t]},r.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);if(WE(i,s,a)){var o=this.consumeName();return{type:15,number:t,flags:n,unit:o}}return i===X_e?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},r.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(sm(e)){for(var t=Fi(e);sm(this.peekCodePoint(0))&&t.length<6;)t+=Fi(this.consumeCodePoint());zE(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return n===0||bbe(n)||n>1114111?SQ:n}return e===vc?SQ:e},r.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(TQ(t))e+=Fi(t);else if(_f(t,this.peekCodePoint(0)))e+=Fi(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},r}(),uX=function(){function r(e){this._tokens=e}return r.create=function(e){var t=new cX;return t.write(e),new r(t.read())},r.parseValue=function(e){return r.create(e).parseComponentValue()},r.parseValues=function(e){return r.create(e).parseComponentValues()},r.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},r.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},r.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},r.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||Xbe(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},r.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},r.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?LL:e},r.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},r}(),wb=function(r){return r.type===15},ew=function(r){return r.type===17},mn=function(r){return r.type===20},qbe=function(r){return r.type===0},PL=function(r,e){return mn(r)&&r.value===e},hX=function(r){return r.type!==31},Ov=function(r){return r.type!==31&&r.type!==4},au=function(r){var e=[],t=[];return r.forEach(function(n){if(n.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(t),t=[];return}n.type!==31&&t.push(n)}),t.length&&e.push(t),e},Xbe=function(r,e){return e===11&&r.type===12||e===28&&r.type===29?!0:e===2&&r.type===3},Jd=function(r){return r.type===17||r.type===15},Ki=function(r){return r.type===16||Jd(r)},fX=function(r){return r.length>1?[r[0],r[1]]:[r[0]]},Ws={type:17,number:0,flags:vb},zN={type:16,number:50,flags:vb},vd={type:16,number:100,flags:vb},Iy=function(r,e,t){var n=r[0],i=r[1];return[Ln(n,e),Ln(typeof i<"u"?i:n,t)]},Ln=function(r,e){if(r.type===16)return r.number/100*e;if(wb(r))switch(r.unit){case"rem":case"em":return 16*r.number;case"px":default:return r.number}return r.number},dX="deg",pX="grad",gX="rad",mX="turn",FT={name:"angle",parse:function(r,e){if(e.type===15)switch(e.unit){case dX:return Math.PI*e.number/180;case pX:return Math.PI/200*e.number;case gX:return e.number;case mX:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},vX=function(r){return r.type===15&&(r.unit===dX||r.unit===pX||r.unit===gX||r.unit===mX)},wX=function(r){var e=r.filter(mn).map(function(t){return t.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Ws,Ws];case"to top":case"bottom":return JA(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Ws,vd];case"to right":case"left":return JA(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[vd,vd];case"to bottom":case"top":return JA(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[vd,Ws];case"to left":case"right":return JA(270)}return 0},JA=function(r){return Math.PI*r/180},Ud={name:"color",parse:function(r,e){if(e.type===18){var t=Ybe[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(r,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);return wd(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3),a=e.value.substring(3,4);return wd(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(a+a,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6);return wd(parseInt(n,16),parseInt(i,16),parseInt(s,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),a=e.value.substring(6,8);return wd(parseInt(n,16),parseInt(i,16),parseInt(s,16),parseInt(a,16)/255)}}if(e.type===20){var o=Ch[e.value.toUpperCase()];if(typeof o<"u")return o}return Ch.TRANSPARENT}},Md=function(r){return(255&r)===0},ps=function(r){var e=255&r,t=255&r>>8,n=255&r>>16,i=255&r>>24;return e<255?"rgba("+i+","+n+","+t+","+e/255+")":"rgb("+i+","+n+","+t+")"},wd=function(r,e,t,n){return(r<<24|e<<16|t<<8|Math.round(n*255)<<0)>>>0},FQ=function(r,e){if(r.type===17)return r.number;if(r.type===16){var t=e===3?1:255;return e===3?r.number/100*t:Math.round(r.number/100*t)}return 0},IQ=function(r,e){var t=e.filter(Ov);if(t.length===3){var n=t.map(FQ),i=n[0],s=n[1],a=n[2];return wd(i,s,a,1)}if(t.length===4){var o=t.map(FQ),i=o[0],s=o[1],a=o[2],A=o[3];return wd(i,s,a,A)}return 0};function B4(r,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-r)*t*6+r:t<1/2?e:t<2/3?(e-r)*6*(2/3-t)+r:r}var kQ=function(r,e){var t=e.filter(Ov),n=t[0],i=t[1],s=t[2],a=t[3],o=(n.type===17?JA(n.number):FT.parse(r,n))/(Math.PI*2),A=Ki(i)?i.number/100:0,l=Ki(s)?s.number/100:0,c=typeof a<"u"&&Ki(a)?Ln(a,1):1;if(A===0)return wd(l*255,l*255,l*255,1);var u=l<=.5?l*(A+1):l+A-l*A,h=l*2-u,f=B4(h,u,o+1/3),d=B4(h,u,o),p=B4(h,u,o-1/3);return wd(f*255,d*255,p*255,c)},Ybe={hsl:kQ,hsla:kQ,rgb:IQ,rgba:IQ},l2=function(r,e){return Ud.parse(r,uX.create(e).parseComponentValue())},Ch={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Jbe={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(r,e){return e.map(function(t){if(mn(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Zbe={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},IT=function(r,e){var t=Ud.parse(r,e[0]),n=e[1];return n&&Ki(n)?{color:t,stop:n}:{color:t,stop:null}},LQ=function(r,e){var t=r[0],n=r[r.length-1];t.stop===null&&(t.stop=Ws),n.stop===null&&(n.stop=vd);for(var i=[],s=0,a=0;a<r.length;a++){var o=r[a].stop;if(o!==null){var A=Ln(o,e);A>s?i.push(A):i.push(s),s=A}else i.push(null)}for(var l=null,a=0;a<i.length;a++){var c=i[a];if(c===null)l===null&&(l=a);else if(l!==null){for(var u=a-l,h=i[l-1],f=(c-h)/(u+1),d=1;d<=u;d++)i[l+d-1]=f*d;l=null}}return r.map(function(p,v){var m=p.color;return{color:m,stop:Math.max(Math.min(1,i[v]/e),0)}})},eEe=function(r,e,t){var n=e/2,i=t/2,s=Ln(r[0],e)-n,a=i-Ln(r[1],t);return(Math.atan2(a,s)+Math.PI*2)%(Math.PI*2)},tEe=function(r,e,t){var n=typeof r=="number"?r:eEe(r,e,t),i=Math.abs(e*Math.sin(n))+Math.abs(t*Math.cos(n)),s=e/2,a=t/2,o=i/2,A=Math.sin(n-Math.PI/2)*o,l=Math.cos(n-Math.PI/2)*o;return[i,s-l,s+l,a-A,a+A]},xl=function(r,e){return Math.sqrt(r*r+e*e)},PQ=function(r,e,t,n,i){var s=[[0,0],[0,e],[r,0],[r,e]];return s.reduce(function(a,o){var A=o[0],l=o[1],c=xl(t-A,n-l);return(i?c<a.optimumDistance:c>a.optimumDistance)?{optimumCorner:o,optimumDistance:c}:a},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},rEe=function(r,e,t,n,i){var s=0,a=0;switch(r.size){case 0:r.shape===0?s=a=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(t),Math.abs(t-i)):r.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-n)),a=Math.min(Math.abs(t),Math.abs(t-i)));break;case 2:if(r.shape===0)s=a=Math.min(xl(e,t),xl(e,t-i),xl(e-n,t),xl(e-n,t-i));else if(r.shape===1){var o=Math.min(Math.abs(t),Math.abs(t-i))/Math.min(Math.abs(e),Math.abs(e-n)),A=PQ(n,i,e,t,!0),l=A[0],c=A[1];s=xl(l-e,(c-t)/o),a=o*s}break;case 1:r.shape===0?s=a=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(t),Math.abs(t-i)):r.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-n)),a=Math.max(Math.abs(t),Math.abs(t-i)));break;case 3:if(r.shape===0)s=a=Math.max(xl(e,t),xl(e,t-i),xl(e-n,t),xl(e-n,t-i));else if(r.shape===1){var o=Math.max(Math.abs(t),Math.abs(t-i))/Math.max(Math.abs(e),Math.abs(e-n)),u=PQ(n,i,e,t,!1),l=u[0],c=u[1];s=xl(l-e,(c-t)/o),a=o*s}break}return Array.isArray(r.size)&&(s=Ln(r.size[0],n),a=r.size.length===2?Ln(r.size[1],i):s),[s,a]},nEe=function(r,e){var t=JA(180),n=[];return au(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&a.value==="to"){t=wX(i);return}else if(vX(a)){t=FT.parse(r,a);return}}var o=IT(r,i);n.push(o)}),{angle:t,stops:n,type:1}},$E=function(r,e){var t=JA(180),n=[];return au(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){t=wX(i);return}else if(vX(a)){t=(FT.parse(r,a)+JA(270))%JA(360);return}}var o=IT(r,i);n.push(o)}),{angle:t,stops:n,type:1}},iEe=function(r,e){var t=JA(180),n=[],i=1,s=0,a=3,o=[];return au(e).forEach(function(A,l){var c=A[0];if(l===0){if(mn(c)&&c.value==="linear"){i=1;return}else if(mn(c)&&c.value==="radial"){i=2;return}}if(c.type===18){if(c.name==="from"){var u=Ud.parse(r,c.values[0]);n.push({stop:Ws,color:u})}else if(c.name==="to"){var u=Ud.parse(r,c.values[0]);n.push({stop:vd,color:u})}else if(c.name==="color-stop"){var h=c.values.filter(Ov);if(h.length===2){var u=Ud.parse(r,h[1]),f=h[0];ew(f)&&n.push({stop:{type:16,number:f.number*100,flags:f.flags},color:u})}}}}),i===1?{angle:(t+JA(180))%JA(360),stops:n,type:i}:{size:a,shape:s,stops:n,position:o,type:i}},yX="closest-side",xX="farthest-side",_X="closest-corner",bX="farthest-corner",EX="circle",CX="ellipse",BX="cover",SX="contain",sEe=function(r,e){var t=0,n=3,i=[],s=[];return au(e).forEach(function(a,o){var A=!0;if(o===0){var l=!1;A=a.reduce(function(u,h){if(l)if(mn(h))switch(h.value){case"center":return s.push(zN),u;case"top":case"left":return s.push(Ws),u;case"right":case"bottom":return s.push(vd),u}else(Ki(h)||Jd(h))&&s.push(h);else if(mn(h))switch(h.value){case EX:return t=0,!1;case CX:return t=1,!1;case"at":return l=!0,!1;case yX:return n=0,!1;case BX:case xX:return n=1,!1;case SX:case _X:return n=2,!1;case bX:return n=3,!1}else if(Jd(h)||Ki(h))return Array.isArray(n)||(n=[]),n.push(h),!1;return u},A)}if(A){var c=IT(r,a);i.push(c)}}),{size:n,shape:t,stops:i,position:s,type:2}},qE=function(r,e){var t=0,n=3,i=[],s=[];return au(e).forEach(function(a,o){var A=!0;if(o===0?A=a.reduce(function(c,u){if(mn(u))switch(u.value){case"center":return s.push(zN),!1;case"top":case"left":return s.push(Ws),!1;case"right":case"bottom":return s.push(vd),!1}else if(Ki(u)||Jd(u))return s.push(u),!1;return c},A):o===1&&(A=a.reduce(function(c,u){if(mn(u))switch(u.value){case EX:return t=0,!1;case CX:return t=1,!1;case SX:case yX:return n=0,!1;case xX:return n=1,!1;case _X:return n=2,!1;case BX:case bX:return n=3,!1}else if(Jd(u)||Ki(u))return Array.isArray(n)||(n=[]),n.push(u),!1;return c},A)),A){var l=IT(r,a);i.push(l)}}),{size:n,shape:t,stops:i,position:s,type:2}},aEe=function(r){return r.type===1},oEe=function(r){return r.type===2},WN={name:"image",parse:function(r,e){if(e.type===22){var t={url:e.value,type:0};return r.cache.addImage(e.value),t}if(e.type===18){var n=TX[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(r,e.values)}throw new Error("Unsupported image type "+e.type)}};function AEe(r){return!(r.type===20&&r.value==="none")&&(r.type!==18||!!TX[r.name])}var TX={"linear-gradient":nEe,"-moz-linear-gradient":$E,"-ms-linear-gradient":$E,"-o-linear-gradient":$E,"-webkit-linear-gradient":$E,"radial-gradient":sEe,"-moz-radial-gradient":qE,"-ms-radial-gradient":qE,"-o-radial-gradient":qE,"-webkit-radial-gradient":qE,"-webkit-gradient":iEe},lEe={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(r,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(n){return Ov(n)&&AEe(n)}).map(function(n){return WN.parse(r,n)})}},cEe={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(r,e){return e.map(function(t){if(mn(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},uEe={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(r,e){return au(e).map(function(t){return t.filter(Ki)}).map(fX)}},hEe={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(r,e){return au(e).map(function(t){return t.filter(mn).map(function(n){return n.value}).join(" ")}).map(fEe)}},fEe=function(r){switch(r){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},l1;(function(r){r.AUTO="auto",r.CONTAIN="contain",r.COVER="cover"})(l1||(l1={}));var dEe={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(r,e){return au(e).map(function(t){return t.filter(pEe)})}},pEe=function(r){return mn(r)||Ki(r)},kT=function(r){return{name:"border-"+r+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},gEe=kT("top"),mEe=kT("right"),vEe=kT("bottom"),wEe=kT("left"),LT=function(r){return{name:"border-radius-"+r,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return fX(t.filter(Ki))}}},yEe=LT("top-left"),xEe=LT("top-right"),_Ee=LT("bottom-right"),bEe=LT("bottom-left"),PT=function(r){return{name:"border-"+r+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},EEe=PT("top"),CEe=PT("right"),BEe=PT("bottom"),SEe=PT("left"),RT=function(r){return{name:"border-"+r+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return wb(t)?t.number:0}}},TEe=RT("top"),FEe=RT("right"),IEe=RT("bottom"),kEe=RT("left"),LEe={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},PEe={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(r,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},REe={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(r,e){return e.filter(mn).reduce(function(t,n){return t|NEe(n.value)},0)}},NEe=function(r){switch(r){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},DEe={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},UEe={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(r,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},KS;(function(r){r.NORMAL="normal",r.STRICT="strict"})(KS||(KS={}));var MEe={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"strict":return KS.STRICT;case"normal":default:return KS.NORMAL}}},OEe={name:"line-height",initialValue:"normal",prefix:!1,type:4},RQ=function(r,e){return mn(r)&&r.value==="normal"?1.2*e:r.type===17?e*r.number:Ki(r)?Ln(r,e):e},QEe={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(r,e){return e.type===20&&e.value==="none"?null:WN.parse(r,e)}},HEe={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(r,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},RL={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},NT=function(r){return{name:"margin-"+r,initialValue:"0",prefix:!1,type:4}},VEe=NT("top"),jEe=NT("right"),KEe=NT("bottom"),zEe=NT("left"),WEe={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(r,e){return e.filter(mn).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},GEe={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},DT=function(r){return{name:"padding-"+r,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},$Ee=DT("top"),qEe=DT("right"),XEe=DT("bottom"),YEe=DT("left"),JEe={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(r,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},ZEe={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(r,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},eCe={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.length===1&&PL(e[0],"none")?[]:au(e).map(function(t){for(var n={color:Ch.TRANSPARENT,offsetX:Ws,offsetY:Ws,blur:Ws},i=0,s=0;s<t.length;s++){var a=t[s];Jd(a)?(i===0?n.offsetX=a:i===1?n.offsetY=a:n.blur=a,i++):n.color=Ud.parse(r,a)}return n})}},tCe={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},rCe={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(r,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=sCe[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},nCe=function(r){var e=r.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},iCe=function(r){var e=r.filter(function(A){return A.type===17}).map(function(A){return A.number}),t=e[0],n=e[1];e[2],e[3];var i=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],o=e[13];return e[14],e[15],e.length===16?[t,n,i,s,a,o]:null},sCe={matrix:nCe,matrix3d:iCe},NQ={type:16,number:50,flags:vb},aCe=[NQ,NQ],oCe={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(r,e){var t=e.filter(Ki);return t.length!==2?aCe:[t[0],t[1]]}},ACe={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},c2;(function(r){r.NORMAL="normal",r.BREAK_ALL="break-all",r.KEEP_ALL="keep-all"})(c2||(c2={}));var lCe={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"break-all":return c2.BREAK_ALL;case"keep-all":return c2.KEEP_ALL;case"normal":default:return c2.NORMAL}}},cCe={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(r,e){if(e.type===20)return{auto:!0,order:0};if(ew(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},FX={name:"time",parse:function(r,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},uCe={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(r,e){return ew(e)?e.number:1}},hCe={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},fCe={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(r,e){return e.filter(mn).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},dCe={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(r,e){var t=[],n=[];return e.forEach(function(i){switch(i.type){case 20:case 0:t.push(i.value);break;case 17:t.push(i.number.toString());break;case 4:n.push(t.join(" ")),t.length=0;break}}),t.length&&n.push(t.join(" ")),n.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},pCe={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},gCe={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(r,e){if(ew(e))return e.number;if(mn(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},mCe={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.filter(mn).map(function(t){return t.value})}},vCe={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},as=function(r,e){return(r&e)!==0},wCe={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(r,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},yCe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var n=[],i=e.filter(hX),s=0;s<i.length;s++){var a=i[s],o=i[s+1];if(a.type===20){var A=o&&ew(o)?o.number:1;n.push({counter:a.value,increment:A})}}return n}},xCe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return[];for(var t=[],n=e.filter(hX),i=0;i<n.length;i++){var s=n[i],a=n[i+1];if(mn(s)&&s.value!=="none"){var o=a&&ew(a)?a.number:0;t.push({counter:s.value,reset:o})}}return t}},_Ce={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(r,e){return e.filter(wb).map(function(t){return FX.parse(r,t)})}},bCe={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var n=[],i=e.filter(qbe);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var a=i[s].value,o=i[s+1].value;n.push({open:a,close:o})}return n}},DQ=function(r,e,t){if(!r)return"";var n=r[Math.min(e,r.length-1)];return n?t?n.open:n.close:""},ECe={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.length===1&&PL(e[0],"none")?[]:au(e).map(function(t){for(var n={color:255,offsetX:Ws,offsetY:Ws,blur:Ws,spread:Ws,inset:!1},i=0,s=0;s<t.length;s++){var a=t[s];PL(a,"inset")?n.inset=!0:Jd(a)?(i===0?n.offsetX=a:i===1?n.offsetY=a:i===2?n.blur=a:n.spread=a,i++):n.color=Ud.parse(r,a)}return n})}},CCe={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(r,e){var t=[0,1,2],n=[];return e.filter(mn).forEach(function(i){switch(i.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),t.forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),n}},BCe={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},SCe={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(r,e){return wb(e)?e.number:0}},TCe=function(){function r(e,t){var n,i;this.animationDuration=xt(e,_Ce,t.animationDuration),this.backgroundClip=xt(e,Jbe,t.backgroundClip),this.backgroundColor=xt(e,Zbe,t.backgroundColor),this.backgroundImage=xt(e,lEe,t.backgroundImage),this.backgroundOrigin=xt(e,cEe,t.backgroundOrigin),this.backgroundPosition=xt(e,uEe,t.backgroundPosition),this.backgroundRepeat=xt(e,hEe,t.backgroundRepeat),this.backgroundSize=xt(e,dEe,t.backgroundSize),this.borderTopColor=xt(e,gEe,t.borderTopColor),this.borderRightColor=xt(e,mEe,t.borderRightColor),this.borderBottomColor=xt(e,vEe,t.borderBottomColor),this.borderLeftColor=xt(e,wEe,t.borderLeftColor),this.borderTopLeftRadius=xt(e,yEe,t.borderTopLeftRadius),this.borderTopRightRadius=xt(e,xEe,t.borderTopRightRadius),this.borderBottomRightRadius=xt(e,_Ee,t.borderBottomRightRadius),this.borderBottomLeftRadius=xt(e,bEe,t.borderBottomLeftRadius),this.borderTopStyle=xt(e,EEe,t.borderTopStyle),this.borderRightStyle=xt(e,CEe,t.borderRightStyle),this.borderBottomStyle=xt(e,BEe,t.borderBottomStyle),this.borderLeftStyle=xt(e,SEe,t.borderLeftStyle),this.borderTopWidth=xt(e,TEe,t.borderTopWidth),this.borderRightWidth=xt(e,FEe,t.borderRightWidth),this.borderBottomWidth=xt(e,IEe,t.borderBottomWidth),this.borderLeftWidth=xt(e,kEe,t.borderLeftWidth),this.boxShadow=xt(e,ECe,t.boxShadow),this.color=xt(e,LEe,t.color),this.direction=xt(e,PEe,t.direction),this.display=xt(e,REe,t.display),this.float=xt(e,DEe,t.cssFloat),this.fontFamily=xt(e,dCe,t.fontFamily),this.fontSize=xt(e,pCe,t.fontSize),this.fontStyle=xt(e,vCe,t.fontStyle),this.fontVariant=xt(e,mCe,t.fontVariant),this.fontWeight=xt(e,gCe,t.fontWeight),this.letterSpacing=xt(e,UEe,t.letterSpacing),this.lineBreak=xt(e,MEe,t.lineBreak),this.lineHeight=xt(e,OEe,t.lineHeight),this.listStyleImage=xt(e,QEe,t.listStyleImage),this.listStylePosition=xt(e,HEe,t.listStylePosition),this.listStyleType=xt(e,RL,t.listStyleType),this.marginTop=xt(e,VEe,t.marginTop),this.marginRight=xt(e,jEe,t.marginRight),this.marginBottom=xt(e,KEe,t.marginBottom),this.marginLeft=xt(e,zEe,t.marginLeft),this.opacity=xt(e,uCe,t.opacity);var s=xt(e,WEe,t.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=xt(e,GEe,t.overflowWrap),this.paddingTop=xt(e,$Ee,t.paddingTop),this.paddingRight=xt(e,qEe,t.paddingRight),this.paddingBottom=xt(e,XEe,t.paddingBottom),this.paddingLeft=xt(e,YEe,t.paddingLeft),this.paintOrder=xt(e,CCe,t.paintOrder),this.position=xt(e,ZEe,t.position),this.textAlign=xt(e,JEe,t.textAlign),this.textDecorationColor=xt(e,hCe,(n=t.textDecorationColor)!==null&&n!==void 0?n:t.color),this.textDecorationLine=xt(e,fCe,(i=t.textDecorationLine)!==null&&i!==void 0?i:t.textDecoration),this.textShadow=xt(e,eCe,t.textShadow),this.textTransform=xt(e,tCe,t.textTransform),this.transform=xt(e,rCe,t.transform),this.transformOrigin=xt(e,oCe,t.transformOrigin),this.visibility=xt(e,ACe,t.visibility),this.webkitTextStrokeColor=xt(e,BCe,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=xt(e,SCe,t.webkitTextStrokeWidth),this.wordBreak=xt(e,lCe,t.wordBreak),this.zIndex=xt(e,cCe,t.zIndex)}return r.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},r.prototype.isTransparent=function(){return Md(this.backgroundColor)},r.prototype.isTransformed=function(){return this.transform!==null},r.prototype.isPositioned=function(){return this.position!==0},r.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},r.prototype.isFloating=function(){return this.float!==0},r.prototype.isInlineLevel=function(){return as(this.display,4)||as(this.display,33554432)||as(this.display,268435456)||as(this.display,536870912)||as(this.display,67108864)||as(this.display,134217728)},r}(),FCe=function(){function r(e,t){this.content=xt(e,wCe,t.content),this.quotes=xt(e,bCe,t.quotes)}return r}(),UQ=function(){function r(e,t){this.counterIncrement=xt(e,yCe,t.counterIncrement),this.counterReset=xt(e,xCe,t.counterReset)}return r}(),xt=function(r,e,t){var n=new cX,i=t!==null&&typeof t<"u"?t.toString():e.initialValue;n.write(i);var s=new uX(n.read());switch(e.type){case 2:var a=s.parseComponentValue();return e.parse(r,mn(a)?a.value:e.initialValue);case 0:return e.parse(r,s.parseComponentValue());case 1:return e.parse(r,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return FT.parse(r,s.parseComponentValue());case"color":return Ud.parse(r,s.parseComponentValue());case"image":return WN.parse(r,s.parseComponentValue());case"length":var o=s.parseComponentValue();return Jd(o)?o:Ws;case"length-percentage":var A=s.parseComponentValue();return Ki(A)?A:Ws;case"time":return FX.parse(r,s.parseComponentValue())}break}},ICe="data-html2canvas-debug",kCe=function(r){var e=r.getAttribute(ICe);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},NL=function(r,e){var t=kCe(r);return t===1||e===t},ou=function(){function r(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,NL(t,3))debugger;this.styles=new TCe(e,window.getComputedStyle(t,null)),ML(t)&&(this.styles.animationDuration.some(function(n){return n>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=ST(this.context,t),NL(t,4)&&(this.flags|=16)}return r}(),LCe="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",MQ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ky=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var XE=0;XE<MQ.length;XE++)ky[MQ.charCodeAt(XE)]=XE;var PCe=function(r){var e=r.length*.75,t=r.length,n,i=0,s,a,o,A;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),c=Array.isArray(l)?l:new Uint8Array(l);for(n=0;n<t;n+=4)s=ky[r.charCodeAt(n)],a=ky[r.charCodeAt(n+1)],o=ky[r.charCodeAt(n+2)],A=ky[r.charCodeAt(n+3)],c[i++]=s<<2|a>>4,c[i++]=(a&15)<<4|o>>2,c[i++]=(o&3)<<6|A&63;return l},RCe=function(r){for(var e=r.length,t=[],n=0;n<e;n+=2)t.push(r[n+1]<<8|r[n]);return t},NCe=function(r){for(var e=r.length,t=[],n=0;n<e;n+=4)t.push(r[n+3]<<24|r[n+2]<<16|r[n+1]<<8|r[n]);return t},cg=5,GN=11,S4=2,DCe=GN-cg,IX=65536>>cg,UCe=1<<cg,T4=UCe-1,MCe=1024>>cg,OCe=IX+MCe,QCe=OCe,HCe=32,VCe=QCe+HCe,jCe=65536>>GN,KCe=1<<DCe,zCe=KCe-1,OQ=function(r,e,t){return r.slice?r.slice(e,t):new Uint16Array(Array.prototype.slice.call(r,e,t))},WCe=function(r,e,t){return r.slice?r.slice(e,t):new Uint32Array(Array.prototype.slice.call(r,e,t))},GCe=function(r,e){var t=PCe(r),n=Array.isArray(t)?NCe(t):new Uint32Array(t),i=Array.isArray(t)?RCe(t):new Uint16Array(t),s=24,a=OQ(i,s/2,n[4]/2),o=n[5]===2?OQ(i,(s+n[4])/2):WCe(n,Math.ceil((s+n[4])/4));return new $Ce(n[0],n[1],n[2],n[3],a,o)},$Ce=function(){function r(e,t,n,i,s,a){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=a}return r.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>cg],t=(t<<S4)+(e&T4),this.data[t];if(e<=65535)return t=this.index[IX+(e-55296>>cg)],t=(t<<S4)+(e&T4),this.data[t];if(e<this.highStart)return t=VCe-jCe+(e>>GN),t=this.index[t],t+=e>>cg&zCe,t=this.index[t],t=(t<<S4)+(e&T4),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r}(),QQ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qCe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var YE=0;YE<QQ.length;YE++)qCe[QQ.charCodeAt(YE)]=YE;var XCe=1,F4=2,I4=3,HQ=4,VQ=5,YCe=7,jQ=8,k4=9,L4=10,KQ=11,zQ=12,WQ=13,GQ=14,P4=15,JCe=function(r){for(var e=[],t=0,n=r.length;t<n;){var i=r.charCodeAt(t++);if(i>=55296&&i<=56319&&t<n){var s=r.charCodeAt(t++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),t--)}else e.push(i)}return e},ZCe=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var t=r.length;if(!t)return"";for(var n=[],i=-1,s="";++i<t;){var a=r[i];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(i+1===t||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},eBe=GCe(LCe),MA="",R4="",tBe=function(r){return eBe.get(r)},rBe=function(r,e,t){var n=t-2,i=e[n],s=e[t-1],a=e[t];if(s===F4&&a===I4)return MA;if(s===F4||s===I4||s===HQ||a===F4||a===I4||a===HQ)return R4;if(s===jQ&&[jQ,k4,KQ,zQ].indexOf(a)!==-1||(s===KQ||s===k4)&&(a===k4||a===L4)||(s===zQ||s===L4)&&a===L4||a===WQ||a===VQ||a===YCe||s===XCe)return MA;if(s===WQ&&a===GQ){for(;i===VQ;)i=e[--n];if(i===GQ)return MA}if(s===P4&&a===P4){for(var o=0;i===P4;)o++,i=e[--n];if(o%2===0)return MA}return R4},nBe=function(r){var e=JCe(r),t=e.length,n=0,i=0,s=e.map(tBe);return{next:function(){if(n>=t)return{done:!0,value:null};for(var a=MA;n<t&&(a=rBe(e,s,++n))===MA;);if(a!==MA||n===t){var o=ZCe.apply(null,e.slice(i,n));return i=n,{value:o,done:!1}}return{done:!0,value:null}}}},iBe=function(r){for(var e=nBe(r),t=[],n;!(n=e.next()).done;)n.value&&t.push(n.value.slice());return t},sBe=function(r){var e=123;if(r.createRange){var t=r.createRange();if(t.getBoundingClientRect){var n=r.createElement("boundtest");n.style.height=e+"px",n.style.display="block",r.body.appendChild(n),t.selectNode(n);var i=t.getBoundingClientRect(),s=Math.round(i.height);if(r.body.removeChild(n),s===e)return!0}}return!1},aBe=function(r){var e=r.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",r.body.appendChild(e);var t=r.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,i=TT(n.data).map(function(A){return Fi(A)}),s=0,a={},o=i.every(function(A,l){t.setStart(n,s),t.setEnd(n,s+A.length);var c=t.getBoundingClientRect();s+=A.length;var u=c.x>a.x||c.y>a.y;return a=c,l===0?!0:u});return r.body.removeChild(e),o},oBe=function(){return typeof new Image().crossOrigin<"u"},ABe=function(){return typeof new XMLHttpRequest().responseType=="string"},lBe=function(r){var e=new Image,t=r.createElement("canvas"),n=t.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),t.toDataURL()}catch{return!1}return!0},$Q=function(r){return r[0]===0&&r[1]===255&&r[2]===0&&r[3]===255},cBe=function(r){var e=r.createElement("canvas"),t=100;e.width=t,e.height=t;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,t,t);var i=new Image,s=e.toDataURL();i.src=s;var a=DL(t,t,0,0,i);return n.fillStyle="red",n.fillRect(0,0,t,t),qQ(a).then(function(o){n.drawImage(o,0,0);var A=n.getImageData(0,0,t,t).data;n.fillStyle="red",n.fillRect(0,0,t,t);var l=r.createElement("div");return l.style.backgroundImage="url("+s+")",l.style.height=t+"px",$Q(A)?qQ(DL(t,t,0,0,l)):Promise.reject(!1)}).then(function(o){return n.drawImage(o,0,0),$Q(n.getImageData(0,0,t,t).data)}).catch(function(){return!1})},DL=function(r,e,t,n,i){var s="http://www.w3.org/2000/svg",a=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return a.setAttributeNS(null,"width",r.toString()),a.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",t.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(o),o.appendChild(i),a},qQ=function(r){return new Promise(function(e,t){var n=new Image;n.onload=function(){return e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},Hs={get SUPPORT_RANGE_BOUNDS(){var r=sBe(document);return Object.defineProperty(Hs,"SUPPORT_RANGE_BOUNDS",{value:r}),r},get SUPPORT_WORD_BREAKING(){var r=Hs.SUPPORT_RANGE_BOUNDS&&aBe(document);return Object.defineProperty(Hs,"SUPPORT_WORD_BREAKING",{value:r}),r},get SUPPORT_SVG_DRAWING(){var r=lBe(document);return Object.defineProperty(Hs,"SUPPORT_SVG_DRAWING",{value:r}),r},get SUPPORT_FOREIGNOBJECT_DRAWING(){var r=typeof Array.from=="function"&&typeof window.fetch=="function"?cBe(document):Promise.resolve(!1);return Object.defineProperty(Hs,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:r}),r},get SUPPORT_CORS_IMAGES(){var r=oBe();return Object.defineProperty(Hs,"SUPPORT_CORS_IMAGES",{value:r}),r},get SUPPORT_RESPONSE_TYPE(){var r=ABe();return Object.defineProperty(Hs,"SUPPORT_RESPONSE_TYPE",{value:r}),r},get SUPPORT_CORS_XHR(){var r="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Hs,"SUPPORT_CORS_XHR",{value:r}),r},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var r=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Hs,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:r}),r}},u2=function(){function r(e,t){this.text=e,this.bounds=t}return r}(),uBe=function(r,e,t,n){var i=dBe(e,t),s=[],a=0;return i.forEach(function(o){if(t.textDecorationLine.length||o.trim().length>0)if(Hs.SUPPORT_RANGE_BOUNDS){var A=XQ(n,a,o.length).getClientRects();if(A.length>1){var l=$N(o),c=0;l.forEach(function(h){s.push(new u2(h,Oh.fromDOMRectList(r,XQ(n,c+a,h.length).getClientRects()))),c+=h.length})}else s.push(new u2(o,Oh.fromDOMRectList(r,A)))}else{var u=n.splitText(o.length);s.push(new u2(o,hBe(r,n))),n=u}else Hs.SUPPORT_RANGE_BOUNDS||(n=n.splitText(o.length));a+=o.length}),s},hBe=function(r,e){var t=e.ownerDocument;if(t){var n=t.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(n,e);var s=ST(r,n);return n.firstChild&&i.replaceChild(n.firstChild,n),s}}return Oh.EMPTY},XQ=function(r,e,t){var n=r.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(r,e),i.setEnd(r,e+t),i},$N=function(r){if(Hs.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(r)).map(function(t){return t.segment})}return iBe(r)},fBe=function(r,e){if(Hs.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(r)).map(function(n){return n.segment})}return gBe(r,e)},dBe=function(r,e){return e.letterSpacing!==0?$N(r):fBe(r,e)},pBe=[32,160,4961,65792,65793,4153,4241],gBe=function(r,e){for(var t=j_e(r,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],i,s=function(){if(i.value){var a=i.value.slice(),o=TT(a),A="";o.forEach(function(l){pBe.indexOf(l)===-1?A+=Fi(l):(A.length&&n.push(A),n.push(Fi(l)),A="")}),A.length&&n.push(A)}};!(i=t.next()).done;)s();return n},mBe=function(){function r(e,t,n){this.text=vBe(t.data,n.textTransform),this.textBounds=uBe(e,this.text,n,t)}return r}(),vBe=function(r,e){switch(e){case 1:return r.toLowerCase();case 3:return r.replace(wBe,yBe);case 2:return r.toUpperCase();default:return r}},wBe=/(^|\s|:|-|\(|\))([a-z])/g,yBe=function(r,e,t){return r.length>0?e+t.toUpperCase():r},kX=function(r){tc(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return e}(ou),LX=function(r){tc(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return e}(ou),PX=function(r){tc(e,r);function e(t,n){var i=r.call(this,t,n)||this,s=new XMLSerializer,a=ST(t,n);return n.setAttribute("width",a.width+"px"),n.setAttribute("height",a.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e}(ou),RX=function(r){tc(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.value=n.value,i}return e}(ou),UL=function(r){tc(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.start=n.start,i.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,i}return e}(ou),xBe=[{type:15,flags:0,unit:"px",number:3}],_Be=[{type:16,flags:0,number:50}],bBe=function(r){return r.width>r.height?new Oh(r.left+(r.width-r.height)/2,r.top,r.height,r.height):r.width<r.height?new Oh(r.left,r.top+(r.height-r.width)/2,r.width,r.width):r},EBe=function(r){var e=r.type===CBe?new Array(r.value.length+1).join(""):r.value;return e.length===0?r.placeholder||"":e},zS="checkbox",WS="radio",CBe="password",YQ=707406591,qN=function(r){tc(e,r);function e(t,n){var i=r.call(this,t,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=EBe(n),(i.type===zS||i.type===WS)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=bBe(i.bounds)),i.type){case zS:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=xBe;break;case WS:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=_Be;break}return i}return e}(ou),NX=function(r){tc(e,r);function e(t,n){var i=r.call(this,t,n)||this,s=n.options[n.selectedIndex||0];return i.value=s&&s.text||"",i}return e}(ou),DX=function(r){tc(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.value=n.value,i}return e}(ou),UX=function(r){tc(e,r);function e(t,n){var i=r.call(this,t,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=OX(t,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?l2(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):Ch.TRANSPARENT,a=n.contentWindow.document.body?l2(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):Ch.TRANSPARENT;i.backgroundColor=Md(s)?Md(a)?i.styles.backgroundColor:a:s}}catch{}return i}return e}(ou),BBe=["OL","UL","MENU"],wB=function(r,e,t,n){for(var i=e.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,QX(i)&&i.data.trim().length>0)t.textNodes.push(new mBe(r,i,t.styles));else if(Vm(i))if(KX(i)&&i.assignedNodes)i.assignedNodes().forEach(function(o){return wB(r,o,t,n)});else{var a=MX(r,i);a.styles.isVisible()&&(SBe(i,a,n)?a.flags|=4:TBe(a.styles)&&(a.flags|=2),BBe.indexOf(i.tagName)!==-1&&(a.flags|=8),t.elements.push(a),i.slot,i.shadowRoot?wB(r,i.shadowRoot,a,n):!GS(i)&&!HX(i)&&!$S(i)&&wB(r,i,a,n))}},MX=function(r,e){return OL(e)?new kX(r,e):VX(e)?new LX(r,e):HX(e)?new PX(r,e):FBe(e)?new RX(r,e):IBe(e)?new UL(r,e):kBe(e)?new qN(r,e):$S(e)?new NX(r,e):GS(e)?new DX(r,e):jX(e)?new UX(r,e):new ou(r,e)},OX=function(r,e){var t=MX(r,e);return t.flags|=4,wB(r,e,t,t),t},SBe=function(r,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||XN(r)&&t.styles.isTransparent()},TBe=function(r){return r.isPositioned()||r.isFloating()},QX=function(r){return r.nodeType===Node.TEXT_NODE},Vm=function(r){return r.nodeType===Node.ELEMENT_NODE},ML=function(r){return Vm(r)&&typeof r.style<"u"&&!yB(r)},yB=function(r){return typeof r.className=="object"},FBe=function(r){return r.tagName==="LI"},IBe=function(r){return r.tagName==="OL"},kBe=function(r){return r.tagName==="INPUT"},LBe=function(r){return r.tagName==="HTML"},HX=function(r){return r.tagName==="svg"},XN=function(r){return r.tagName==="BODY"},VX=function(r){return r.tagName==="CANVAS"},JQ=function(r){return r.tagName==="VIDEO"},OL=function(r){return r.tagName==="IMG"},jX=function(r){return r.tagName==="IFRAME"},ZQ=function(r){return r.tagName==="STYLE"},PBe=function(r){return r.tagName==="SCRIPT"},GS=function(r){return r.tagName==="TEXTAREA"},$S=function(r){return r.tagName==="SELECT"},KX=function(r){return r.tagName==="SLOT"},eH=function(r){return r.tagName.indexOf("-")>0},RBe=function(){function r(){this.counters={}}return r.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},r.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},r.prototype.pop=function(e){var t=this;e.forEach(function(n){return t.counters[n].pop()})},r.prototype.parse=function(e){var t=this,n=e.counterIncrement,i=e.counterReset,s=!0;n!==null&&n.forEach(function(o){var A=t.counters[o.counter];A&&o.increment!==0&&(s=!1,A.length||A.push(1),A[Math.max(0,A.length-1)]+=o.increment)});var a=[];return s&&i.forEach(function(o){var A=t.counters[o.counter];a.push(o.counter),A||(A=t.counters[o.counter]=[]),A.push(o.reset)}),a},r}(),tH={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},rH={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},NBe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},DBe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},am=function(r,e,t,n,i,s){return r<e||r>t?hx(r,i,s.length>0):n.integers.reduce(function(a,o,A){for(;r>=o;)r-=o,a+=n.values[A];return a},"")+s},zX=function(r,e,t,n){var i="";do t||r--,i=n(r)+i,r/=e;while(r*e>=e);return i},Ci=function(r,e,t,n,i){var s=t-e+1;return(r<0?"-":"")+(zX(Math.abs(r),s,n,function(a){return Fi(Math.floor(a%s)+e)})+i)},S0=function(r,e,t){t===void 0&&(t=". ");var n=e.length;return zX(Math.abs(r),n,!1,function(i){return e[Math.floor(i%n)]})+t},Em=1,vf=2,wf=4,Ly=8,bu=function(r,e,t,n,i,s){if(r<-9999||r>9999)return hx(r,4,i.length>0);var a=Math.abs(r),o=i;if(a===0)return e[0]+o;for(var A=0;a>0&&A<=4;A++){var l=a%10;l===0&&as(s,Em)&&o!==""?o=e[l]+o:l>1||l===1&&A===0||l===1&&A===1&&as(s,vf)||l===1&&A===1&&as(s,wf)&&r>100||l===1&&A>1&&as(s,Ly)?o=e[l]+(A>0?t[A-1]:"")+o:l===1&&A>0&&(o=t[A-1]+o),a=Math.floor(a/10)}return(r<0?n:"")+o},nH="",iH="",sH="",N4="",hx=function(r,e,t){var n=t?". ":"",i=t?"":"",s=t?", ":"",a=t?" ":"";switch(e){case 0:return""+a;case 1:return""+a;case 2:return""+a;case 5:var o=Ci(r,48,57,!0,n);return o.length<4?"0"+o:o;case 4:return S0(r,"",i);case 6:return am(r,1,3999,tH,3,n).toLowerCase();case 7:return am(r,1,3999,tH,3,n);case 8:return Ci(r,945,969,!1,n);case 9:return Ci(r,97,122,!1,n);case 10:return Ci(r,65,90,!1,n);case 11:return Ci(r,1632,1641,!0,n);case 12:case 49:return am(r,1,9999,rH,3,n);case 35:return am(r,1,9999,rH,3,n).toLowerCase();case 13:return Ci(r,2534,2543,!0,n);case 14:case 30:return Ci(r,6112,6121,!0,n);case 15:return S0(r,"",i);case 16:return S0(r,"",i);case 17:case 48:return bu(r,"",nH,"",i,vf|wf|Ly);case 47:return bu(r,"",iH,"",i,Em|vf|wf|Ly);case 42:return bu(r,"",nH,"",i,vf|wf|Ly);case 41:return bu(r,"",iH,"",i,Em|vf|wf|Ly);case 26:return bu(r,"","",sH,i,0);case 25:return bu(r,"","",sH,i,Em|vf|wf);case 31:return bu(r,"","",N4,s,Em|vf|wf);case 33:return bu(r,"","",N4,s,0);case 32:return bu(r,"","",N4,s,Em|vf|wf);case 18:return Ci(r,2406,2415,!0,n);case 20:return am(r,1,19999,DBe,3,n);case 21:return Ci(r,2790,2799,!0,n);case 22:return Ci(r,2662,2671,!0,n);case 22:return am(r,1,10999,NBe,3,n);case 23:return S0(r,"");case 24:return S0(r,"");case 27:return Ci(r,3302,3311,!0,n);case 28:return S0(r,"",i);case 29:return S0(r,"",i);case 34:return Ci(r,3792,3801,!0,n);case 37:return Ci(r,6160,6169,!0,n);case 38:return Ci(r,4160,4169,!0,n);case 39:return Ci(r,2918,2927,!0,n);case 40:return Ci(r,1776,1785,!0,n);case 43:return Ci(r,3046,3055,!0,n);case 44:return Ci(r,3174,3183,!0,n);case 45:return Ci(r,3664,3673,!0,n);case 46:return Ci(r,3872,3881,!0,n);case 3:default:return Ci(r,48,57,!0,n)}},WX="data-html2canvas-ignore",aH=function(){function r(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new RBe,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return r.prototype.toIFrame=function(e,t){var n=this,i=UBe(e,t);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,o=i.contentWindow,A=o.document,l=QBe(i).then(function(){return Ga(n,void 0,void 0,function(){var c,u;return ma(this,function(h){switch(h.label){case 0:return this.scrolledElements.forEach(KBe),o&&(o.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==t.top||o.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-t.left,o.scrollY-t.top,0,0))),c=this.options.onclone,u=this.clonedReferenceElement,typeof u>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:A.fonts&&A.fonts.ready?[4,A.fonts.ready]:[3,2];case 1:h.sent(),h.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,OBe(A)]:[3,4];case 3:h.sent(),h.label=4;case 4:return typeof c=="function"?[2,Promise.resolve().then(function(){return c(A,u)}).then(function(){return i})]:[2,i]}})})});return A.open(),A.write(VBe(document.doctype)+"<html></html>"),jBe(this.referenceElement.ownerDocument,s,a),A.replaceChild(A.adoptNode(this.documentElement),A.documentElement),A.close(),l},r.prototype.createElementClone=function(e){if(NL(e,2))debugger;if(VX(e))return this.createCanvasClone(e);if(JQ(e))return this.createVideoClone(e);if(ZQ(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return OL(t)&&(OL(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),eH(t)?this.createCustomElementClone(t):t},r.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return D4(e.style,t),t},r.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce(function(s,a){return a&&typeof a.cssText=="string"?s+a.cssText:s},""),i=e.cloneNode(!1);return i.textContent=n,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},r.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var s=e.getContext("2d"),a=i.getContext("2d");if(a)if(!this.options.allowTaint&&s)a.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var o=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(o){var A=o.getContextAttributes();(A==null?void 0:A.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},r.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},r.prototype.appendChildNode=function(e,t,n){(!Vm(t)||!PBe(t)&&!t.hasAttribute(WX)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!Vm(t)||!ZQ(t))&&e.appendChild(this.cloneNode(t,n))},r.prototype.cloneChildNodes=function(e,t,n){for(var i=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(Vm(s)&&KX(s)&&typeof s.assignedNodes=="function"){var a=s.assignedNodes();a.length&&a.forEach(function(o){return i.appendChildNode(t,o,n)})}else this.appendChildNode(t,s,n)},r.prototype.cloneNode=function(e,t){if(QX(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&Vm(e)&&(ML(e)||yB(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var s=n.getComputedStyle(e),a=n.getComputedStyle(e,":before"),o=n.getComputedStyle(e,":after");this.referenceElement===e&&ML(i)&&(this.clonedReferenceElement=i),XN(i)&&GBe(i);var A=this.counters.parse(new UQ(this.context,s)),l=this.resolvePseudoContent(e,i,a,h2.BEFORE);eH(e)&&(t=!0),JQ(e)||this.cloneChildNodes(e,i,t),l&&i.insertBefore(l,i.firstChild);var c=this.resolvePseudoContent(e,i,o,h2.AFTER);return c&&i.appendChild(c),this.counters.pop(A),(s&&(this.options.copyStyles||yB(e))&&!jX(e)||t)&&D4(s,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(GS(e)||$S(e))&&(GS(i)||$S(i))&&(i.value=e.value),i}return e.cloneNode(!1)},r.prototype.resolvePseudoContent=function(e,t,n,i){var s=this;if(n){var a=n.content,o=t.ownerDocument;if(!(!o||!a||a==="none"||a==="-moz-alt-content"||n.display==="none")){this.counters.parse(new UQ(this.context,n));var A=new FCe(this.context,n),l=o.createElement("html2canvaspseudoelement");D4(n,l),A.content.forEach(function(u){if(u.type===0)l.appendChild(o.createTextNode(u.value));else if(u.type===22){var h=o.createElement("img");h.src=u.value,h.style.opacity="1",l.appendChild(h)}else if(u.type===18){if(u.name==="attr"){var f=u.values.filter(mn);f.length&&l.appendChild(o.createTextNode(e.getAttribute(f[0].value)||""))}else if(u.name==="counter"){var d=u.values.filter(Ov),p=d[0],v=d[1];if(p&&mn(p)){var m=s.counters.getCounterValue(p.value),x=v&&mn(v)?RL.parse(s.context,v.value):3;l.appendChild(o.createTextNode(hx(m,x,!1)))}}else if(u.name==="counters"){var b=u.values.filter(Ov),p=b[0],T=b[1],v=b[2];if(p&&mn(p)){var R=s.counters.getCounterValues(p.value),P=v&&mn(v)?RL.parse(s.context,v.value):3,B=T&&T.type===0?T.value:"",E=R.map(function(S){return hx(S,P,!1)}).join(B);l.appendChild(o.createTextNode(E))}}}else if(u.type===20)switch(u.value){case"open-quote":l.appendChild(o.createTextNode(DQ(A.quotes,s.quoteDepth++,!0)));break;case"close-quote":l.appendChild(o.createTextNode(DQ(A.quotes,--s.quoteDepth,!1)));break;default:l.appendChild(o.createTextNode(u.value))}}),l.className=QL+" "+HL;var c=i===h2.BEFORE?" "+QL:" "+HL;return yB(t)?t.className.baseValue+=c:t.className+=c,l}}},r.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},r}(),h2;(function(r){r[r.BEFORE=0]="BEFORE",r[r.AFTER=1]="AFTER"})(h2||(h2={}));var UBe=function(r,e){var t=r.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute(WX,"true"),r.body.appendChild(t),t},MBe=function(r){return new Promise(function(e){if(r.complete){e();return}if(!r.src){e();return}r.onload=e,r.onerror=e})},OBe=function(r){return Promise.all([].slice.call(r.images,0).map(MBe))},QBe=function(r){return new Promise(function(e,t){var n=r.contentWindow;if(!n)return t("No window assigned for iframe");var i=n.document;n.onload=r.onload=function(){n.onload=r.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),e(r))},50)}})},HBe=["all","d","content"],D4=function(r,e){for(var t=r.length-1;t>=0;t--){var n=r.item(t);HBe.indexOf(n)===-1&&e.style.setProperty(n,r.getPropertyValue(n))}return e},VBe=function(r){var e="";return r&&(e+="<!DOCTYPE ",r.name&&(e+=r.name),r.internalSubset&&(e+=r.internalSubset),r.publicId&&(e+='"'+r.publicId+'"'),r.systemId&&(e+='"'+r.systemId+'"'),e+=">"),e},jBe=function(r,e,t){r&&r.defaultView&&(e!==r.defaultView.pageXOffset||t!==r.defaultView.pageYOffset)&&r.defaultView.scrollTo(e,t)},KBe=function(r){var e=r[0],t=r[1],n=r[2];e.scrollLeft=t,e.scrollTop=n},zBe=":before",WBe=":after",QL="___html2canvas___pseudoelement_before",HL="___html2canvas___pseudoelement_after",oH=`{
    content: "" !important;
    display: none !important;
}`,GBe=function(r){$Be(r,"."+QL+zBe+oH+`
         .`+HL+WBe+oH)},$Be=function(r,e){var t=r.ownerDocument;if(t){var n=t.createElement("style");n.textContent=e,r.appendChild(n)}},GX=function(){function r(){}return r.getOrigin=function(e){var t=r._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},r.isSameOrigin=function(e){return r.getOrigin(e)===r._origin},r.setContext=function(e){r._link=e.document.createElement("a"),r._origin=r.getOrigin(e.location.href)},r._origin="about:blank",r}(),qBe=function(){function r(e,t){this.context=e,this._options=t,this._cache={}}return r.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(M4(e)||ZBe(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},r.prototype.match=function(e){return this._cache[e]},r.prototype.loadImage=function(e){return Ga(this,void 0,void 0,function(){var t,n,i,s,a=this;return ma(this,function(o){switch(o.label){case 0:return t=GX.isSameOrigin(e),n=!U4(e)&&this._options.useCORS===!0&&Hs.SUPPORT_CORS_IMAGES&&!t,i=!U4(e)&&!t&&!M4(e)&&typeof this._options.proxy=="string"&&Hs.SUPPORT_CORS_XHR&&!n,!t&&this._options.allowTaint===!1&&!U4(e)&&!M4(e)&&!i&&!n?[2]:(s=e,i?[4,this.proxy(s)]:[3,2]);case 1:s=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(A,l){var c=new Image;c.onload=function(){return A(c)},c.onerror=l,(eSe(s)||n)&&(c.crossOrigin="anonymous"),c.src=s,c.complete===!0&&setTimeout(function(){return A(c)},500),a._options.imageTimeout>0&&setTimeout(function(){return l("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},r.prototype.has=function(e){return typeof this._cache[e]<"u"},r.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},r.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(s,a){var o=Hs.SUPPORT_RESPONSE_TYPE?"blob":"text",A=new XMLHttpRequest;A.onload=function(){if(A.status===200)if(o==="text")s(A.response);else{var u=new FileReader;u.addEventListener("load",function(){return s(u.result)},!1),u.addEventListener("error",function(h){return a(h)},!1),u.readAsDataURL(A.response)}else a("Failed to proxy resource "+i+" with status code "+A.status)},A.onerror=a;var l=n.indexOf("?")>-1?"&":"?";if(A.open("GET",""+n+l+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&A instanceof XMLHttpRequest&&(A.responseType=o),t._options.imageTimeout){var c=t._options.imageTimeout;A.timeout=c,A.ontimeout=function(){return a("Timed out ("+c+"ms) proxying "+i)}}A.send()})},r}(),XBe=/^data:image\/svg\+xml/i,YBe=/^data:image\/.*;base64,/i,JBe=/^data:image\/.*/i,ZBe=function(r){return Hs.SUPPORT_SVG_DRAWING||!tSe(r)},U4=function(r){return JBe.test(r)},eSe=function(r){return YBe.test(r)},M4=function(r){return r.substr(0,4)==="blob"},tSe=function(r){return r.substr(-3).toLowerCase()==="svg"||XBe.test(r)},yt=function(){function r(e,t){this.type=0,this.x=e,this.y=t}return r.prototype.add=function(e,t){return new r(this.x+e,this.y+t)},r}(),om=function(r,e,t){return new yt(r.x+(e.x-r.x)*t,r.y+(e.y-r.y)*t)},JE=function(){function r(e,t,n,i){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=i}return r.prototype.subdivide=function(e,t){var n=om(this.start,this.startControl,e),i=om(this.startControl,this.endControl,e),s=om(this.endControl,this.end,e),a=om(n,i,e),o=om(i,s,e),A=om(a,o,e);return t?new r(this.start,n,a,A):new r(A,o,s,this.end)},r.prototype.add=function(e,t){return new r(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},r.prototype.reverse=function(){return new r(this.end,this.endControl,this.startControl,this.start)},r}(),$A=function(r){return r.type===1},rSe=function(){function r(e){var t=e.styles,n=e.bounds,i=Iy(t.borderTopLeftRadius,n.width,n.height),s=i[0],a=i[1],o=Iy(t.borderTopRightRadius,n.width,n.height),A=o[0],l=o[1],c=Iy(t.borderBottomRightRadius,n.width,n.height),u=c[0],h=c[1],f=Iy(t.borderBottomLeftRadius,n.width,n.height),d=f[0],p=f[1],v=[];v.push((s+A)/n.width),v.push((d+u)/n.width),v.push((a+p)/n.height),v.push((l+h)/n.height);var m=Math.max.apply(Math,v);m>1&&(s/=m,a/=m,A/=m,l/=m,u/=m,h/=m,d/=m,p/=m);var x=n.width-A,b=n.height-h,T=n.width-u,R=n.height-p,P=t.borderTopWidth,B=t.borderRightWidth,E=t.borderBottomWidth,_=t.borderLeftWidth,I=Ln(t.paddingTop,e.bounds.width),S=Ln(t.paddingRight,e.bounds.width),F=Ln(t.paddingBottom,e.bounds.width),N=Ln(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||a>0?Vn(n.left+_/3,n.top+P/3,s-_/3,a-P/3,nn.TOP_LEFT):new yt(n.left+_/3,n.top+P/3),this.topRightBorderDoubleOuterBox=s>0||a>0?Vn(n.left+x,n.top+P/3,A-B/3,l-P/3,nn.TOP_RIGHT):new yt(n.left+n.width-B/3,n.top+P/3),this.bottomRightBorderDoubleOuterBox=u>0||h>0?Vn(n.left+T,n.top+b,u-B/3,h-E/3,nn.BOTTOM_RIGHT):new yt(n.left+n.width-B/3,n.top+n.height-E/3),this.bottomLeftBorderDoubleOuterBox=d>0||p>0?Vn(n.left+_/3,n.top+R,d-_/3,p-E/3,nn.BOTTOM_LEFT):new yt(n.left+_/3,n.top+n.height-E/3),this.topLeftBorderDoubleInnerBox=s>0||a>0?Vn(n.left+_*2/3,n.top+P*2/3,s-_*2/3,a-P*2/3,nn.TOP_LEFT):new yt(n.left+_*2/3,n.top+P*2/3),this.topRightBorderDoubleInnerBox=s>0||a>0?Vn(n.left+x,n.top+P*2/3,A-B*2/3,l-P*2/3,nn.TOP_RIGHT):new yt(n.left+n.width-B*2/3,n.top+P*2/3),this.bottomRightBorderDoubleInnerBox=u>0||h>0?Vn(n.left+T,n.top+b,u-B*2/3,h-E*2/3,nn.BOTTOM_RIGHT):new yt(n.left+n.width-B*2/3,n.top+n.height-E*2/3),this.bottomLeftBorderDoubleInnerBox=d>0||p>0?Vn(n.left+_*2/3,n.top+R,d-_*2/3,p-E*2/3,nn.BOTTOM_LEFT):new yt(n.left+_*2/3,n.top+n.height-E*2/3),this.topLeftBorderStroke=s>0||a>0?Vn(n.left+_/2,n.top+P/2,s-_/2,a-P/2,nn.TOP_LEFT):new yt(n.left+_/2,n.top+P/2),this.topRightBorderStroke=s>0||a>0?Vn(n.left+x,n.top+P/2,A-B/2,l-P/2,nn.TOP_RIGHT):new yt(n.left+n.width-B/2,n.top+P/2),this.bottomRightBorderStroke=u>0||h>0?Vn(n.left+T,n.top+b,u-B/2,h-E/2,nn.BOTTOM_RIGHT):new yt(n.left+n.width-B/2,n.top+n.height-E/2),this.bottomLeftBorderStroke=d>0||p>0?Vn(n.left+_/2,n.top+R,d-_/2,p-E/2,nn.BOTTOM_LEFT):new yt(n.left+_/2,n.top+n.height-E/2),this.topLeftBorderBox=s>0||a>0?Vn(n.left,n.top,s,a,nn.TOP_LEFT):new yt(n.left,n.top),this.topRightBorderBox=A>0||l>0?Vn(n.left+x,n.top,A,l,nn.TOP_RIGHT):new yt(n.left+n.width,n.top),this.bottomRightBorderBox=u>0||h>0?Vn(n.left+T,n.top+b,u,h,nn.BOTTOM_RIGHT):new yt(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=d>0||p>0?Vn(n.left,n.top+R,d,p,nn.BOTTOM_LEFT):new yt(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||a>0?Vn(n.left+_,n.top+P,Math.max(0,s-_),Math.max(0,a-P),nn.TOP_LEFT):new yt(n.left+_,n.top+P),this.topRightPaddingBox=A>0||l>0?Vn(n.left+Math.min(x,n.width-B),n.top+P,x>n.width+B?0:Math.max(0,A-B),Math.max(0,l-P),nn.TOP_RIGHT):new yt(n.left+n.width-B,n.top+P),this.bottomRightPaddingBox=u>0||h>0?Vn(n.left+Math.min(T,n.width-_),n.top+Math.min(b,n.height-E),Math.max(0,u-B),Math.max(0,h-E),nn.BOTTOM_RIGHT):new yt(n.left+n.width-B,n.top+n.height-E),this.bottomLeftPaddingBox=d>0||p>0?Vn(n.left+_,n.top+Math.min(R,n.height-E),Math.max(0,d-_),Math.max(0,p-E),nn.BOTTOM_LEFT):new yt(n.left+_,n.top+n.height-E),this.topLeftContentBox=s>0||a>0?Vn(n.left+_+N,n.top+P+I,Math.max(0,s-(_+N)),Math.max(0,a-(P+I)),nn.TOP_LEFT):new yt(n.left+_+N,n.top+P+I),this.topRightContentBox=A>0||l>0?Vn(n.left+Math.min(x,n.width+_+N),n.top+P+I,x>n.width+_+N?0:A-_+N,l-(P+I),nn.TOP_RIGHT):new yt(n.left+n.width-(B+S),n.top+P+I),this.bottomRightContentBox=u>0||h>0?Vn(n.left+Math.min(T,n.width-(_+N)),n.top+Math.min(b,n.height+P+I),Math.max(0,u-(B+S)),h-(E+F),nn.BOTTOM_RIGHT):new yt(n.left+n.width-(B+S),n.top+n.height-(E+F)),this.bottomLeftContentBox=d>0||p>0?Vn(n.left+_+N,n.top+R,Math.max(0,d-(_+N)),p-(E+F),nn.BOTTOM_LEFT):new yt(n.left+_+N,n.top+n.height-(E+F))}return r}(),nn;(function(r){r[r.TOP_LEFT=0]="TOP_LEFT",r[r.TOP_RIGHT=1]="TOP_RIGHT",r[r.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",r[r.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(nn||(nn={}));var Vn=function(r,e,t,n,i){var s=4*((Math.sqrt(2)-1)/3),a=t*s,o=n*s,A=r+t,l=e+n;switch(i){case nn.TOP_LEFT:return new JE(new yt(r,l),new yt(r,l-o),new yt(A-a,e),new yt(A,e));case nn.TOP_RIGHT:return new JE(new yt(r,e),new yt(r+a,e),new yt(A,l-o),new yt(A,l));case nn.BOTTOM_RIGHT:return new JE(new yt(A,e),new yt(A,e+o),new yt(r+a,l),new yt(r,l));case nn.BOTTOM_LEFT:default:return new JE(new yt(A,l),new yt(A-a,l),new yt(r,e+o),new yt(r,e))}},qS=function(r){return[r.topLeftBorderBox,r.topRightBorderBox,r.bottomRightBorderBox,r.bottomLeftBorderBox]},nSe=function(r){return[r.topLeftContentBox,r.topRightContentBox,r.bottomRightContentBox,r.bottomLeftContentBox]},XS=function(r){return[r.topLeftPaddingBox,r.topRightPaddingBox,r.bottomRightPaddingBox,r.bottomLeftPaddingBox]},iSe=function(){function r(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return r}(),ZE=function(){function r(e,t){this.path=e,this.target=t,this.type=1}return r}(),sSe=function(){function r(e){this.opacity=e,this.type=2,this.target=6}return r}(),aSe=function(r){return r.type===0},$X=function(r){return r.type===1},oSe=function(r){return r.type===2},AH=function(r,e){return r.length===e.length?r.some(function(t,n){return t===e[n]}):!1},ASe=function(r,e,t,n,i){return r.map(function(s,a){switch(a){case 0:return s.add(e,t);case 1:return s.add(e+n,t);case 2:return s.add(e+n,t+i);case 3:return s.add(e,t+i)}return s})},qX=function(){function r(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return r}(),XX=function(){function r(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new rSe(this.container),this.container.styles.opacity<1&&this.effects.push(new sSe(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new iSe(n,i,s))}if(this.container.styles.overflowX!==0){var a=qS(this.curves),o=XS(this.curves);AH(a,o)?this.effects.push(new ZE(a,6)):(this.effects.push(new ZE(a,2)),this.effects.push(new ZE(o,4)))}}return r.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,i=this.effects.slice(0);n;){var s=n.effects.filter(function(A){return!$X(A)});if(t||n.container.styles.position!==0||!n.parent){if(i.unshift.apply(i,s),t=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var a=qS(n.curves),o=XS(n.curves);AH(a,o)||i.unshift(new ZE(o,6))}}else i.unshift.apply(i,s);n=n.parent}return i.filter(function(A){return as(A.target,e)})},r}(),VL=function(r,e,t,n){r.container.elements.forEach(function(i){var s=as(i.flags,4),a=as(i.flags,2),o=new XX(i,r);as(i.styles.display,2048)&&n.push(o);var A=as(i.flags,8)?[]:n;if(s||a){var l=s||i.styles.isPositioned()?t:e,c=new qX(o);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var u=i.styles.zIndex.order;if(u<0){var h=0;l.negativeZIndex.some(function(d,p){return u>d.element.container.styles.zIndex.order?(h=p,!1):h>0}),l.negativeZIndex.splice(h,0,c)}else if(u>0){var f=0;l.positiveZIndex.some(function(d,p){return u>=d.element.container.styles.zIndex.order?(f=p+1,!1):f>0}),l.positiveZIndex.splice(f,0,c)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else i.styles.isFloating()?l.nonPositionedFloats.push(c):l.nonPositionedInlineLevel.push(c);VL(o,c,s?c:t,A)}else i.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),VL(o,e,t,A);as(i.flags,8)&&YX(i,A)})},YX=function(r,e){for(var t=r instanceof UL?r.start:1,n=r instanceof UL?r.reversed:!1,i=0;i<e.length;i++){var s=e[i];s.container instanceof RX&&typeof s.container.value=="number"&&s.container.value!==0&&(t=s.container.value),s.listValue=hx(t,s.container.styles.listStyleType,!0),t+=n?-1:1}},lSe=function(r){var e=new XX(r,null),t=new qX(e),n=[];return VL(e,t,t,n),YX(e.container,n),t},lH=function(r,e){switch(e){case 0:return ZA(r.topLeftBorderBox,r.topLeftPaddingBox,r.topRightBorderBox,r.topRightPaddingBox);case 1:return ZA(r.topRightBorderBox,r.topRightPaddingBox,r.bottomRightBorderBox,r.bottomRightPaddingBox);case 2:return ZA(r.bottomRightBorderBox,r.bottomRightPaddingBox,r.bottomLeftBorderBox,r.bottomLeftPaddingBox);case 3:default:return ZA(r.bottomLeftBorderBox,r.bottomLeftPaddingBox,r.topLeftBorderBox,r.topLeftPaddingBox)}},cSe=function(r,e){switch(e){case 0:return ZA(r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox,r.topRightBorderBox,r.topRightBorderDoubleOuterBox);case 1:return ZA(r.topRightBorderBox,r.topRightBorderDoubleOuterBox,r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox);case 2:return ZA(r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox,r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox);case 3:default:return ZA(r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox,r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox)}},uSe=function(r,e){switch(e){case 0:return ZA(r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox,r.topRightBorderDoubleInnerBox,r.topRightPaddingBox);case 1:return ZA(r.topRightBorderDoubleInnerBox,r.topRightPaddingBox,r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox);case 2:return ZA(r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox,r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox);case 3:default:return ZA(r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox,r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox)}},hSe=function(r,e){switch(e){case 0:return eC(r.topLeftBorderStroke,r.topRightBorderStroke);case 1:return eC(r.topRightBorderStroke,r.bottomRightBorderStroke);case 2:return eC(r.bottomRightBorderStroke,r.bottomLeftBorderStroke);case 3:default:return eC(r.bottomLeftBorderStroke,r.topLeftBorderStroke)}},eC=function(r,e){var t=[];return $A(r)?t.push(r.subdivide(.5,!1)):t.push(r),$A(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},ZA=function(r,e,t,n){var i=[];return $A(r)?i.push(r.subdivide(.5,!1)):i.push(r),$A(t)?i.push(t.subdivide(.5,!0)):i.push(t),$A(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),$A(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},JX=function(r){var e=r.bounds,t=r.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},YS=function(r){var e=r.styles,t=r.bounds,n=Ln(e.paddingLeft,t.width),i=Ln(e.paddingRight,t.width),s=Ln(e.paddingTop,t.width),a=Ln(e.paddingBottom,t.width);return t.add(n+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+i),-(e.borderTopWidth+e.borderBottomWidth+s+a))},fSe=function(r,e){return r===0?e.bounds:r===2?YS(e):JX(e)},dSe=function(r,e){return r===0?e.bounds:r===2?YS(e):JX(e)},O4=function(r,e,t){var n=fSe(Cm(r.styles.backgroundOrigin,e),r),i=dSe(Cm(r.styles.backgroundClip,e),r),s=pSe(Cm(r.styles.backgroundSize,e),t,n),a=s[0],o=s[1],A=Iy(Cm(r.styles.backgroundPosition,e),n.width-a,n.height-o),l=gSe(Cm(r.styles.backgroundRepeat,e),A,s,n,i),c=Math.round(n.left+A[0]),u=Math.round(n.top+A[1]);return[l,c,u,a,o]},Am=function(r){return mn(r)&&r.value===l1.AUTO},tC=function(r){return typeof r=="number"},pSe=function(r,e,t){var n=e[0],i=e[1],s=e[2],a=r[0],o=r[1];if(!a)return[0,0];if(Ki(a)&&o&&Ki(o))return[Ln(a,t.width),Ln(o,t.height)];var A=tC(s);if(mn(a)&&(a.value===l1.CONTAIN||a.value===l1.COVER)){if(tC(s)){var l=t.width/t.height;return l<s!=(a.value===l1.COVER)?[t.width,t.width/s]:[t.height*s,t.height]}return[t.width,t.height]}var c=tC(n),u=tC(i),h=c||u;if(Am(a)&&(!o||Am(o))){if(c&&u)return[n,i];if(!A&&!h)return[t.width,t.height];if(h&&A){var f=c?n:i*s,d=u?i:n/s;return[f,d]}var p=c?n:t.width,v=u?i:t.height;return[p,v]}if(A){var m=0,x=0;return Ki(a)?m=Ln(a,t.width):Ki(o)&&(x=Ln(o,t.height)),Am(a)?m=x*s:(!o||Am(o))&&(x=m/s),[m,x]}var b=null,T=null;if(Ki(a)?b=Ln(a,t.width):o&&Ki(o)&&(T=Ln(o,t.height)),b!==null&&(!o||Am(o))&&(T=c&&u?b/n*i:t.height),T!==null&&Am(a)&&(b=c&&u?T/i*n:t.width),b!==null&&T!==null)return[b,T];throw new Error("Unable to calculate background-size for element")},Cm=function(r,e){var t=r[e];return typeof t>"u"?r[0]:t},gSe=function(r,e,t,n,i){var s=e[0],a=e[1],o=t[0],A=t[1];switch(r){case 2:return[new yt(Math.round(n.left),Math.round(n.top+a)),new yt(Math.round(n.left+n.width),Math.round(n.top+a)),new yt(Math.round(n.left+n.width),Math.round(A+n.top+a)),new yt(Math.round(n.left),Math.round(A+n.top+a))];case 3:return[new yt(Math.round(n.left+s),Math.round(n.top)),new yt(Math.round(n.left+s+o),Math.round(n.top)),new yt(Math.round(n.left+s+o),Math.round(n.height+n.top)),new yt(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new yt(Math.round(n.left+s),Math.round(n.top+a)),new yt(Math.round(n.left+s+o),Math.round(n.top+a)),new yt(Math.round(n.left+s+o),Math.round(n.top+a+A)),new yt(Math.round(n.left+s),Math.round(n.top+a+A))];default:return[new yt(Math.round(i.left),Math.round(i.top)),new yt(Math.round(i.left+i.width),Math.round(i.top)),new yt(Math.round(i.left+i.width),Math.round(i.height+i.top)),new yt(Math.round(i.left),Math.round(i.height+i.top))]}},mSe="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",cH="Hidden Text",vSe=function(){function r(e){this._data={},this._document=e}return r.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),a=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",a.appendChild(n),i.src=mSe,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=t,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(cH)),n.appendChild(s),n.appendChild(i);var o=i.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(cH)),n.style.lineHeight="normal",i.style.verticalAlign="super";var A=i.offsetTop-n.offsetTop+2;return a.removeChild(n),{baseline:o,middle:A}},r.prototype.getMetrics=function(e,t){var n=e+" "+t;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},r}(),ZX=function(){function r(e,t){this.context=e,this.options=t}return r}(),wSe=1e4,ySe=function(r){tc(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new vSe(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return e.prototype.applyEffects=function(t){for(var n=this;this._activeEffects.length;)this.popEffect();t.forEach(function(i){return n.applyEffect(i)})},e.prototype.applyEffect=function(t){this.ctx.save(),oSe(t)&&(this.ctx.globalAlpha=t.opacity),aSe(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),$X(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return Ga(this,void 0,void 0,function(){var n;return ma(this,function(i){switch(i.label){case 0:return n=t.element.container.styles,n.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return Ga(this,void 0,void 0,function(){return ma(this,function(n){switch(n.label){case 0:if(as(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(t)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,n,i){var s=this;if(n===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+i);else{var a=$N(t.text);a.reduce(function(o,A){return s.ctx.fillText(A,o,t.bounds.top+i),o+s.ctx.measureText(A).width},t.bounds.left)}},e.prototype.createFontStyle=function(t){var n=t.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),i=CSe(t.fontFamily).join(", "),s=wb(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,n,t.fontWeight,s,i].join(" "),i,s]},e.prototype.renderTextNode=function(t,n){return Ga(this,void 0,void 0,function(){var i,s,a,o,A,l,c,u,h=this;return ma(this,function(f){return i=this.createFontStyle(n),s=i[0],a=i[1],o=i[2],this.ctx.font=s,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",A=this.fontMetrics.getMetrics(a,o),l=A.baseline,c=A.middle,u=n.paintOrder,t.textBounds.forEach(function(d){u.forEach(function(p){switch(p){case 0:h.ctx.fillStyle=ps(n.color),h.renderTextWithLetterSpacing(d,n.letterSpacing,l);var v=n.textShadow;v.length&&d.text.trim().length&&(v.slice(0).reverse().forEach(function(m){h.ctx.shadowColor=ps(m.color),h.ctx.shadowOffsetX=m.offsetX.number*h.options.scale,h.ctx.shadowOffsetY=m.offsetY.number*h.options.scale,h.ctx.shadowBlur=m.blur.number,h.renderTextWithLetterSpacing(d,n.letterSpacing,l)}),h.ctx.shadowColor="",h.ctx.shadowOffsetX=0,h.ctx.shadowOffsetY=0,h.ctx.shadowBlur=0),n.textDecorationLine.length&&(h.ctx.fillStyle=ps(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(m){switch(m){case 1:h.ctx.fillRect(d.bounds.left,Math.round(d.bounds.top+l),d.bounds.width,1);break;case 2:h.ctx.fillRect(d.bounds.left,Math.round(d.bounds.top),d.bounds.width,1);break;case 3:h.ctx.fillRect(d.bounds.left,Math.ceil(d.bounds.top+c),d.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&d.text.trim().length&&(h.ctx.strokeStyle=ps(n.webkitTextStrokeColor),h.ctx.lineWidth=n.webkitTextStrokeWidth,h.ctx.lineJoin=window.chrome?"miter":"round",h.ctx.strokeText(d.text,d.bounds.left,d.bounds.top+l)),h.ctx.strokeStyle="",h.ctx.lineWidth=0,h.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(t,n,i){if(i&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var s=YS(t),a=XS(n);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,t.intrinsicWidth,t.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return Ga(this,void 0,void 0,function(){var n,i,s,a,o,A,x,x,l,c,u,h,T,f,d,R,p,v,m,x,b,T,R;return ma(this,function(P){switch(P.label){case 0:this.applyEffects(t.getEffects(4)),n=t.container,i=t.curves,s=n.styles,a=0,o=n.textNodes,P.label=1;case 1:return a<o.length?(A=o[a],[4,this.renderTextNode(A,s)]):[3,4];case 2:P.sent(),P.label=3;case 3:return a++,[3,1];case 4:if(!(n instanceof kX))return[3,8];P.label=5;case 5:return P.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return x=P.sent(),this.renderReplacedElement(n,i,x),[3,8];case 7:return P.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof LX&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof PX))return[3,12];P.label=9;case 9:return P.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return x=P.sent(),this.renderReplacedElement(n,i,x),[3,12];case 11:return P.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof UX&&n.tree?(l=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,l.render(n.tree)]):[3,14];case 13:c=P.sent(),n.width&&n.height&&this.ctx.drawImage(c,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),P.label=14;case 14:if(n instanceof qN&&(u=Math.min(n.bounds.width,n.bounds.height),n.type===zS?n.checked&&(this.ctx.save(),this.path([new yt(n.bounds.left+u*.39363,n.bounds.top+u*.79),new yt(n.bounds.left+u*.16,n.bounds.top+u*.5549),new yt(n.bounds.left+u*.27347,n.bounds.top+u*.44071),new yt(n.bounds.left+u*.39694,n.bounds.top+u*.5649),new yt(n.bounds.left+u*.72983,n.bounds.top+u*.23),new yt(n.bounds.left+u*.84,n.bounds.top+u*.34085),new yt(n.bounds.left+u*.39363,n.bounds.top+u*.79)]),this.ctx.fillStyle=ps(YQ),this.ctx.fill(),this.ctx.restore()):n.type===WS&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+u/2,n.bounds.top+u/2,u/4,0,Math.PI*2,!0),this.ctx.fillStyle=ps(YQ),this.ctx.fill(),this.ctx.restore())),xSe(n)&&n.value.length){switch(h=this.createFontStyle(s),T=h[0],f=h[1],d=this.fontMetrics.getMetrics(T,f).baseline,this.ctx.font=T,this.ctx.fillStyle=ps(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=bSe(n.styles.textAlign),R=YS(n),p=0,n.styles.textAlign){case 1:p+=R.width/2;break;case 2:p+=R.width;break}v=R.add(p,0,0,-R.height/2+1),this.ctx.save(),this.path([new yt(R.left,R.top),new yt(R.left+R.width,R.top),new yt(R.left+R.width,R.top+R.height),new yt(R.left,R.top+R.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new u2(n.value,v),s.letterSpacing,d),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!as(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(m=n.styles.listStyleImage,m.type!==0)return[3,18];x=void 0,b=m.url,P.label=15;case 15:return P.trys.push([15,17,,18]),[4,this.context.cache.match(b)];case 16:return x=P.sent(),this.ctx.drawImage(x,n.bounds.left-(x.width+10),n.bounds.top),[3,18];case 17:return P.sent(),this.context.logger.error("Error loading list-style-image "+b),[3,18];case 18:return[3,20];case 19:t.listValue&&n.styles.listStyleType!==-1&&(T=this.createFontStyle(s)[0],this.ctx.font=T,this.ctx.fillStyle=ps(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",R=new Oh(n.bounds.left,n.bounds.top+Ln(n.styles.paddingTop,n.bounds.width),n.bounds.width,RQ(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new u2(t.listValue,R),s.letterSpacing,RQ(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),P.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return Ga(this,void 0,void 0,function(){var n,i,m,s,a,m,o,A,m,l,c,m,u,h,m,f,d,m,p,v,m;return ma(this,function(x){switch(x.label){case 0:if(as(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:x.sent(),n=0,i=t.negativeZIndex,x.label=2;case 2:return n<i.length?(m=i[n],[4,this.renderStack(m)]):[3,5];case 3:x.sent(),x.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:x.sent(),s=0,a=t.nonInlineLevel,x.label=7;case 7:return s<a.length?(m=a[s],[4,this.renderNode(m)]):[3,10];case 8:x.sent(),x.label=9;case 9:return s++,[3,7];case 10:o=0,A=t.nonPositionedFloats,x.label=11;case 11:return o<A.length?(m=A[o],[4,this.renderStack(m)]):[3,14];case 12:x.sent(),x.label=13;case 13:return o++,[3,11];case 14:l=0,c=t.nonPositionedInlineLevel,x.label=15;case 15:return l<c.length?(m=c[l],[4,this.renderStack(m)]):[3,18];case 16:x.sent(),x.label=17;case 17:return l++,[3,15];case 18:u=0,h=t.inlineLevel,x.label=19;case 19:return u<h.length?(m=h[u],[4,this.renderNode(m)]):[3,22];case 20:x.sent(),x.label=21;case 21:return u++,[3,19];case 22:f=0,d=t.zeroOrAutoZIndexOrTransformedOrOpacity,x.label=23;case 23:return f<d.length?(m=d[f],[4,this.renderStack(m)]):[3,26];case 24:x.sent(),x.label=25;case 25:return f++,[3,23];case 26:p=0,v=t.positiveZIndex,x.label=27;case 27:return p<v.length?(m=v[p],[4,this.renderStack(m)]):[3,30];case 28:x.sent(),x.label=29;case 29:return p++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var n=this;t.forEach(function(i,s){var a=$A(i)?i.start:i;s===0?n.ctx.moveTo(a.x,a.y):n.ctx.lineTo(a.x,a.y),$A(i)&&n.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(t,n,i,s){this.path(t),this.ctx.fillStyle=n,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},e.prototype.resizeImage=function(t,n,i){var s;if(t.width===n&&t.height===i)return t;var a=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,o=a.createElement("canvas");o.width=Math.max(1,n),o.height=Math.max(1,i);var A=o.getContext("2d");return A.drawImage(t,0,0,t.width,t.height,0,0,n,i),o},e.prototype.renderBackgroundImage=function(t){return Ga(this,void 0,void 0,function(){var n,i,s,a,o,A;return ma(this,function(l){switch(l.label){case 0:n=t.styles.backgroundImage.length-1,i=function(c){var u,h,f,I,ie,te,N,G,E,d,I,ie,te,N,G,p,v,m,x,b,T,R,P,B,E,_,I,S,F,N,G,le,ie,te,J,W,be,xe,L,O,H,Q;return ma(this,function(Y){switch(Y.label){case 0:if(c.type!==0)return[3,5];u=void 0,h=c.url,Y.label=1;case 1:return Y.trys.push([1,3,,4]),[4,s.context.cache.match(h)];case 2:return u=Y.sent(),[3,4];case 3:return Y.sent(),s.context.logger.error("Error loading background-image "+h),[3,4];case 4:return u&&(f=O4(t,n,[u.width,u.height,u.width/u.height]),I=f[0],ie=f[1],te=f[2],N=f[3],G=f[4],E=s.ctx.createPattern(s.resizeImage(u,N,G),"repeat"),s.renderRepeat(I,E,ie,te)),[3,6];case 5:aEe(c)?(d=O4(t,n,[null,null,null]),I=d[0],ie=d[1],te=d[2],N=d[3],G=d[4],p=tEe(c.angle,N,G),v=p[0],m=p[1],x=p[2],b=p[3],T=p[4],R=document.createElement("canvas"),R.width=N,R.height=G,P=R.getContext("2d"),B=P.createLinearGradient(m,b,x,T),LQ(c.stops,v).forEach(function(oe){return B.addColorStop(oe.stop,ps(oe.color))}),P.fillStyle=B,P.fillRect(0,0,N,G),N>0&&G>0&&(E=s.ctx.createPattern(R,"repeat"),s.renderRepeat(I,E,ie,te))):oEe(c)&&(_=O4(t,n,[null,null,null]),I=_[0],S=_[1],F=_[2],N=_[3],G=_[4],le=c.position.length===0?[zN]:c.position,ie=Ln(le[0],N),te=Ln(le[le.length-1],G),J=rEe(c,ie,te,N,G),W=J[0],be=J[1],W>0&&be>0&&(xe=s.ctx.createRadialGradient(S+ie,F+te,0,S+ie,F+te,W),LQ(c.stops,W*2).forEach(function(oe){return xe.addColorStop(oe.stop,ps(oe.color))}),s.path(I),s.ctx.fillStyle=xe,W!==be?(L=t.bounds.left+.5*t.bounds.width,O=t.bounds.top+.5*t.bounds.height,H=be/W,Q=1/H,s.ctx.save(),s.ctx.translate(L,O),s.ctx.transform(1,0,0,H,0,0),s.ctx.translate(-L,-O),s.ctx.fillRect(S,Q*(F-O)+O,N,G*Q),s.ctx.restore()):s.ctx.fill())),Y.label=6;case 6:return n--,[2]}})},s=this,a=0,o=t.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return a<o.length?(A=o[a],[5,i(A)]):[3,4];case 2:l.sent(),l.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,n,i){return Ga(this,void 0,void 0,function(){return ma(this,function(s){return this.path(lH(i,n)),this.ctx.fillStyle=ps(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,n,i,s){return Ga(this,void 0,void 0,function(){var a,o;return ma(this,function(A){switch(A.label){case 0:return n<3?[4,this.renderSolidBorder(t,i,s)]:[3,2];case 1:return A.sent(),[2];case 2:return a=cSe(s,i),this.path(a),this.ctx.fillStyle=ps(t),this.ctx.fill(),o=uSe(s,i),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return Ga(this,void 0,void 0,function(){var n,i,s,a,o,A,l,c,u=this;return ma(this,function(h){switch(h.label){case 0:return this.applyEffects(t.getEffects(2)),n=t.container.styles,i=!Md(n.backgroundColor)||n.backgroundImage.length,s=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],a=_Se(Cm(n.backgroundClip,0),t.curves),i||n.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),Md(n.backgroundColor)||(this.ctx.fillStyle=ps(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:h.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(f){u.ctx.save();var d=qS(t.curves),p=f.inset?0:wSe,v=ASe(d,-p+(f.inset?1:-1)*f.spread.number,(f.inset?1:-1)*f.spread.number,f.spread.number*(f.inset?-2:2),f.spread.number*(f.inset?-2:2));f.inset?(u.path(d),u.ctx.clip(),u.mask(v)):(u.mask(d),u.ctx.clip(),u.path(v)),u.ctx.shadowOffsetX=f.offsetX.number+p,u.ctx.shadowOffsetY=f.offsetY.number,u.ctx.shadowColor=ps(f.color),u.ctx.shadowBlur=f.blur.number,u.ctx.fillStyle=f.inset?ps(f.color):"rgba(0,0,0,1)",u.ctx.fill(),u.ctx.restore()}),h.label=2;case 2:o=0,A=0,l=s,h.label=3;case 3:return A<l.length?(c=l[A],c.style!==0&&!Md(c.color)&&c.width>0?c.style!==2?[3,5]:[4,this.renderDashedDottedBorder(c.color,c.width,o,t.curves,2)]:[3,11]):[3,13];case 4:return h.sent(),[3,11];case 5:return c.style!==3?[3,7]:[4,this.renderDashedDottedBorder(c.color,c.width,o,t.curves,3)];case 6:return h.sent(),[3,11];case 7:return c.style!==4?[3,9]:[4,this.renderDoubleBorder(c.color,c.width,o,t.curves)];case 8:return h.sent(),[3,11];case 9:return[4,this.renderSolidBorder(c.color,o,t.curves)];case 10:h.sent(),h.label=11;case 11:o++,h.label=12;case 12:return A++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,n,i,s,a){return Ga(this,void 0,void 0,function(){var o,A,l,c,u,h,f,d,p,v,m,x,b,T,R,P,R,P;return ma(this,function(B){return this.ctx.save(),o=hSe(s,i),A=lH(s,i),a===2&&(this.path(A),this.ctx.clip()),$A(A[0])?(l=A[0].start.x,c=A[0].start.y):(l=A[0].x,c=A[0].y),$A(A[1])?(u=A[1].end.x,h=A[1].end.y):(u=A[1].x,h=A[1].y),i===0||i===2?f=Math.abs(l-u):f=Math.abs(c-h),this.ctx.beginPath(),a===3?this.formatPath(o):this.formatPath(A.slice(0,2)),d=n<3?n*3:n*2,p=n<3?n*2:n,a===3&&(d=n,p=n),v=!0,f<=d*2?v=!1:f<=d*2+p?(m=f/(2*d+p),d*=m,p*=m):(x=Math.floor((f+p)/(d+p)),b=(f-x*d)/(x-1),T=(f-(x+1)*d)/x,p=T<=0||Math.abs(p-b)<Math.abs(p-T)?b:T),v&&(a===3?this.ctx.setLineDash([0,d+p]):this.ctx.setLineDash([d,p])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=ps(t),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&($A(A[0])&&(R=A[3],P=A[0],this.ctx.beginPath(),this.formatPath([new yt(R.end.x,R.end.y),new yt(P.start.x,P.start.y)]),this.ctx.stroke()),$A(A[1])&&(R=A[1],P=A[2],this.ctx.beginPath(),this.formatPath([new yt(R.end.x,R.end.y),new yt(P.start.x,P.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return Ga(this,void 0,void 0,function(){var n;return ma(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ps(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=lSe(t),[4,this.renderStack(n)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(ZX),xSe=function(r){return r instanceof DX||r instanceof NX?!0:r instanceof qN&&r.type!==WS&&r.type!==zS},_Se=function(r,e){switch(r){case 0:return qS(e);case 2:return nSe(e);case 1:default:return XS(e)}},bSe=function(r){switch(r){case 1:return"center";case 2:return"right";case 0:default:return"left"}},ESe=["-apple-system","system-ui"],CSe=function(r){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?r.filter(function(e){return ESe.indexOf(e)===-1}):r},BSe=function(r){tc(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return e.prototype.render=function(t){return Ga(this,void 0,void 0,function(){var n,i;return ma(this,function(s){switch(s.label){case 0:return n=DL(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,SSe(n)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ps(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(ZX),SSe=function(r){return new Promise(function(e,t){var n=new Image;n.onload=function(){e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},TSe=function(){function r(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return r.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,PE([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.prototype.getTime=function(){return Date.now()-this.start},r.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,PE([this.id,this.getTime()+"ms"],e))},r.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,PE([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,PE([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.instances={},r}(),FSe=function(){function r(e,t){var n;this.windowBounds=t,this.instanceName="#"+r.instanceCount++,this.logger=new TSe({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new qBe(this,e)}return r.instanceCount=1,r}(),eY=function(r,e){return e===void 0&&(e={}),ISe(r,e)};typeof window<"u"&&GX.setContext(window);var ISe=function(r,e){return Ga(void 0,void 0,void 0,function(){var t,n,i,s,a,o,A,l,c,u,h,f,d,p,v,m,x,b,T,R,B,P,B,E,_,I,S,F,N,G,le,ie,te,J,W,be,xe,L,O,H;return ma(this,function(Q){switch(Q.label){case 0:if(!r||typeof r!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=r.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(n=t.defaultView,!n)throw new Error("Document is not attached to a Window");return i={allowTaint:(E=e.allowTaint)!==null&&E!==void 0?E:!1,imageTimeout:(_=e.imageTimeout)!==null&&_!==void 0?_:15e3,proxy:e.proxy,useCORS:(I=e.useCORS)!==null&&I!==void 0?I:!1},s=xL({logging:(S=e.logging)!==null&&S!==void 0?S:!0,cache:e.cache},i),a={windowWidth:(F=e.windowWidth)!==null&&F!==void 0?F:n.innerWidth,windowHeight:(N=e.windowHeight)!==null&&N!==void 0?N:n.innerHeight,scrollX:(G=e.scrollX)!==null&&G!==void 0?G:n.pageXOffset,scrollY:(le=e.scrollY)!==null&&le!==void 0?le:n.pageYOffset},o=new Oh(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),A=new FSe(s,o),l=(ie=e.foreignObjectRendering)!==null&&ie!==void 0?ie:!1,c={allowTaint:(te=e.allowTaint)!==null&&te!==void 0?te:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:l,copyStyles:l},A.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),u=new aH(A,r,c),h=u.clonedReferenceElement,h?[4,u.toIFrame(t,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return f=Q.sent(),d=XN(h)||LBe(h)?A_e(h.ownerDocument):ST(A,h),p=d.width,v=d.height,m=d.left,x=d.top,b=kSe(A,h,e.backgroundColor),T={canvas:e.canvas,backgroundColor:b,scale:(W=(J=e.scale)!==null&&J!==void 0?J:n.devicePixelRatio)!==null&&W!==void 0?W:1,x:((be=e.x)!==null&&be!==void 0?be:0)+m,y:((xe=e.y)!==null&&xe!==void 0?xe:0)+x,width:(L=e.width)!==null&&L!==void 0?L:Math.ceil(p),height:(O=e.height)!==null&&O!==void 0?O:Math.ceil(v)},l?(A.logger.debug("Document cloned, using foreign object rendering"),B=new BSe(A,T),[4,B.render(h)]):[3,3];case 2:return R=Q.sent(),[3,5];case 3:return A.logger.debug("Document cloned, element located at "+m+","+x+" with size "+p+"x"+v+" using computed rendering"),A.logger.debug("Starting DOM parsing"),P=OX(A,h),b===P.styles.backgroundColor&&(P.styles.backgroundColor=Ch.TRANSPARENT),A.logger.debug("Starting renderer for element at "+T.x+","+T.y+" with size "+T.width+"x"+T.height),B=new ySe(A,T),[4,B.render(P)];case 4:R=Q.sent(),Q.label=5;case 5:return(!((H=e.removeContainer)!==null&&H!==void 0)||H)&&(aH.destroy(f)||A.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),A.logger.debug("Finished rendering"),[2,R]}})})},kSe=function(r,e,t){var n=e.ownerDocument,i=n.documentElement?l2(r,getComputedStyle(n.documentElement).backgroundColor):Ch.TRANSPARENT,s=n.body?l2(r,getComputedStyle(n.body).backgroundColor):Ch.TRANSPARENT,a=typeof t=="string"?l2(r,t):t===null?Ch.TRANSPARENT:4294967295;return e===n.documentElement?Md(i)?Md(s)?a:s:i:a};const LSe=Object.freeze(Object.defineProperty({__proto__:null,default:eY},Symbol.toStringTag,{value:"Module"})),PSe="modulepreload",RSe=function(r){return"/"+r},uH={},Q4=function(e,t,n){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(t.map(A=>{if(A=RSe(A),A in uH)return;uH[A]=!0;const l=A.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${A}"]${c}`))return;const u=document.createElement("link");if(u.rel=l?"stylesheet":PSe,l||(u.as="script"),u.crossOrigin="",u.href=A,o&&u.setAttribute("nonce",o),document.head.appendChild(u),l)return new Promise((h,f)=>{u.addEventListener("load",h),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${A}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function hn(r){"@babel/helpers - typeof";return hn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hn(r)}var Jl=Uint8Array,wA=Uint16Array,YN=Int32Array,JN=new Jl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ZN=new Jl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),hH=new Jl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),tY=function(r,e){for(var t=new wA(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var i=new YN(t[30]),n=1;n<30;++n)for(var s=t[n];s<t[n+1];++s)i[s]=s-t[n]<<5|n;return{b:t,r:i}},rY=tY(JN,2),NSe=rY.b,jL=rY.r;NSe[28]=258,jL[258]=28;var DSe=tY(ZN,0),fH=DSe.r,KL=new wA(32768);for(var On=0;On<32768;++On){var pf=(On&43690)>>1|(On&21845)<<1;pf=(pf&52428)>>2|(pf&13107)<<2,pf=(pf&61680)>>4|(pf&3855)<<4,KL[On]=((pf&65280)>>8|(pf&255)<<8)>>1}var f2=function(r,e,t){for(var n=r.length,i=0,s=new wA(e);i<n;++i)r[i]&&++s[r[i]-1];var a=new wA(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(t){o=new wA(1<<e);var A=15-e;for(i=0;i<n;++i)if(r[i])for(var l=i<<4|r[i],c=e-r[i],u=a[r[i]-1]++<<c,h=u|(1<<c)-1;u<=h;++u)o[KL[u]>>A]=l}else for(o=new wA(n),i=0;i<n;++i)r[i]&&(o[i]=KL[a[r[i]-1]++]>>15-r[i]);return o},Ig=new Jl(288);for(var On=0;On<144;++On)Ig[On]=8;for(var On=144;On<256;++On)Ig[On]=9;for(var On=256;On<280;++On)Ig[On]=7;for(var On=280;On<288;++On)Ig[On]=8;var JS=new Jl(32);for(var On=0;On<32;++On)JS[On]=5;var USe=f2(Ig,9,0),MSe=f2(JS,5,0),nY=function(r){return(r+7)/8|0},OSe=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new Jl(r.subarray(e,t))},Eu=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8},Kw=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8,r[n+2]|=t>>16},H4=function(r,e){for(var t=[],n=0;n<r.length;++n)r[n]&&t.push({s:n,f:r[n]});var i=t.length,s=t.slice();if(!i)return{t:sY,l:0};if(i==1){var a=new Jl(t[0].s+1);return a[t[0].s]=1,{t:a,l:1}}t.sort(function(R,P){return R.f-P.f}),t.push({s:-1,f:25001});var o=t[0],A=t[1],l=0,c=1,u=2;for(t[0]={s:-1,f:o.f+A.f,l:o,r:A};c!=i-1;)o=t[t[l].f<t[u].f?l++:u++],A=t[l!=c&&t[l].f<t[u].f?l++:u++],t[c++]={s:-1,f:o.f+A.f,l:o,r:A};for(var h=s[0].s,n=1;n<i;++n)s[n].s>h&&(h=s[n].s);var f=new wA(h+1),d=zL(t[c-1],f,0);if(d>e){var n=0,p=0,v=d-e,m=1<<v;for(s.sort(function(P,B){return f[B.s]-f[P.s]||P.f-B.f});n<i;++n){var x=s[n].s;if(f[x]>e)p+=m-(1<<d-f[x]),f[x]=e;else break}for(p>>=v;p>0;){var b=s[n].s;f[b]<e?p-=1<<e-f[b]++-1:++n}for(;n>=0&&p;--n){var T=s[n].s;f[T]==e&&(--f[T],++p)}d=e}return{t:new Jl(f),l:d}},zL=function(r,e,t){return r.s==-1?Math.max(zL(r.l,e,t+1),zL(r.r,e,t+1)):e[r.s]=t},dH=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new wA(++e),n=0,i=r[0],s=1,a=function(A){t[n++]=A},o=1;o<=e;++o)if(r[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=r[o]}return{c:t.subarray(0,n),n:e}},zw=function(r,e){for(var t=0,n=0;n<e.length;++n)t+=r[n]*e[n];return t},iY=function(r,e,t){var n=t.length,i=nY(e+2);r[i]=n&255,r[i+1]=n>>8,r[i+2]=r[i]^255,r[i+3]=r[i+1]^255;for(var s=0;s<n;++s)r[i+s+4]=t[s];return(i+4+n)*8},pH=function(r,e,t,n,i,s,a,o,A,l,c){Eu(e,c++,t),++i[256];for(var u=H4(i,15),h=u.t,f=u.l,d=H4(s,15),p=d.t,v=d.l,m=dH(h),x=m.c,b=m.n,T=dH(p),R=T.c,P=T.n,B=new wA(19),E=0;E<x.length;++E)++B[x[E]&31];for(var E=0;E<R.length;++E)++B[R[E]&31];for(var _=H4(B,7),I=_.t,S=_.l,F=19;F>4&&!I[hH[F-1]];--F);var N=l+5<<3,G=zw(i,Ig)+zw(s,JS)+a,le=zw(i,h)+zw(s,p)+a+14+3*F+zw(B,I)+2*B[16]+3*B[17]+7*B[18];if(A>=0&&N<=G&&N<=le)return iY(e,c,r.subarray(A,A+l));var ie,te,J,W;if(Eu(e,c,1+(le<G)),c+=2,le<G){ie=f2(h,f,0),te=h,J=f2(p,v,0),W=p;var be=f2(I,S,0);Eu(e,c,b-257),Eu(e,c+5,P-1),Eu(e,c+10,F-4),c+=14;for(var E=0;E<F;++E)Eu(e,c+3*E,I[hH[E]]);c+=3*F;for(var xe=[x,R],L=0;L<2;++L)for(var O=xe[L],E=0;E<O.length;++E){var H=O[E]&31;Eu(e,c,be[H]),c+=I[H],H>15&&(Eu(e,c,O[E]>>5&127),c+=O[E]>>12)}}else ie=USe,te=Ig,J=MSe,W=JS;for(var E=0;E<o;++E){var Q=n[E];if(Q>255){var H=Q>>18&31;Kw(e,c,ie[H+257]),c+=te[H+257],H>7&&(Eu(e,c,Q>>23&31),c+=JN[H]);var Y=Q&31;Kw(e,c,J[Y]),c+=W[Y],Y>3&&(Kw(e,c,Q>>5&8191),c+=ZN[Y])}else Kw(e,c,ie[Q]),c+=te[Q]}return Kw(e,c,ie[256]),c+te[256]},QSe=new YN([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),sY=new Jl(0),HSe=function(r,e,t,n,i,s){var a=s.z||r.length,o=new Jl(n+a+5*(1+Math.ceil(a/7e3))+i),A=o.subarray(n,o.length-i),l=s.l,c=(s.r||0)&7;if(e){c&&(A[0]=s.r>>3);for(var u=QSe[e-1],h=u>>13,f=u&8191,d=(1<<t)-1,p=s.p||new wA(32768),v=s.h||new wA(d+1),m=Math.ceil(t/3),x=2*m,b=function(Be){return(r[Be]^r[Be+1]<<m^r[Be+2]<<x)&d},T=new YN(25e3),R=new wA(288),P=new wA(32),B=0,E=0,_=s.i||0,I=0,S=s.w||0,F=0;_+2<a;++_){var N=b(_),G=_&32767,le=v[N];if(p[G]=le,v[N]=G,S<=_){var ie=a-_;if((B>7e3||I>24576)&&(ie>423||!l)){c=pH(r,A,0,T,R,P,E,I,F,_-F,c),I=B=E=0,F=_;for(var te=0;te<286;++te)R[te]=0;for(var te=0;te<30;++te)P[te]=0}var J=2,W=0,be=f,xe=G-le&32767;if(ie>2&&N==b(_-xe))for(var L=Math.min(h,ie)-1,O=Math.min(32767,_),H=Math.min(258,ie);xe<=O&&--be&&G!=le;){if(r[_+J]==r[_+J-xe]){for(var Q=0;Q<H&&r[_+Q]==r[_+Q-xe];++Q);if(Q>J){if(J=Q,W=xe,Q>L)break;for(var Y=Math.min(xe,Q-2),oe=0,te=0;te<Y;++te){var de=_-xe+te&32767,fe=p[de],_e=de-fe&32767;_e>oe&&(oe=_e,le=de)}}}G=le,le=p[G],xe+=G-le&32767}if(W){T[I++]=268435456|jL[J]<<18|fH[W];var Se=jL[J]&31,ne=fH[W]&31;E+=JN[Se]+ZN[ne],++R[257+Se],++P[ne],S=_+J,++B}else T[I++]=r[_],++R[r[_]]}}for(_=Math.max(_,S);_<a;++_)T[I++]=r[_],++R[r[_]];c=pH(r,A,l,T,R,P,E,I,F,_-F,c),l||(s.r=c&7|A[c/8|0]<<3,c-=7,s.h=v,s.p=p,s.i=_,s.w=S)}else{for(var _=s.w||0;_<a+l;_+=65535){var $e=_+65535;$e>=a&&(A[c/8|0]=l,$e=a),c=iY(A,c+1,r.subarray(_,$e))}s.i=a}return OSe(o,0,n+nY(c)+i)},aY=function(){var r=1,e=0;return{p:function(t){for(var n=r,i=e,s=t.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=n+=t[a];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}r=n,e=i},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},VSe=function(r,e,t,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new Jl(s.length+r.length);a.set(s),a.set(r,s.length),r=a,i.w=s.length}return HSe(r,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,n,i)},oY=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},jSe=function(r,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=n<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var i=aY();i.p(e.dictionary),oY(r,2,i.d())}};function WL(r,e){e||(e={});var t=aY();t.p(r);var n=VSe(r,e,e.dictionary?6:2,4);return jSe(n,e),oY(n,n.length-4,t.d()),n}var KSe=typeof TextDecoder<"u"&&new TextDecoder,zSe=0;try{KSe.decode(sY,{stream:!0}),zSe=1}catch{}function WSe(r){if(Array.isArray(r))return r}function GSe(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,s,a,o=[],A=!0,l=!1;try{if(s=(t=t.call(r)).next,e!==0)for(;!(A=(n=s.call(t)).done)&&(o.push(n.value),o.length!==e);A=!0);}catch(c){l=!0,i=c}finally{try{if(!A&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(l)throw i}}return o}}function gH(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function $Se(r,e){if(r){if(typeof r=="string")return gH(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?gH(r,e):void 0}}function qSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mH(r,e){return WSe(r)||GSe(r,e)||$Se(r,e)||qSe()}function vH(r,e="utf8"){return new TextDecoder(e).decode(r)}const XSe=new TextEncoder;function YSe(r){return XSe.encode(r)}const JSe=1024*8,ZSe=(()=>{const r=new Uint8Array(4),e=new Uint32Array(r.buffer);return!((e[0]=1)&r[0])})(),V4={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class eD{constructor(e=JSe,t={}){De(this,"buffer");De(this,"byteLength");De(this,"byteOffset");De(this,"length");De(this,"offset");De(this,"lastWrittenByte");De(this,"littleEndian");De(this,"_data");De(this,"_mark");De(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=t.offset?t.offset>>>0:0,s=e.byteLength-i;let a=i;(ArrayBuffer.isView(e)||e instanceof eD)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const n=V4[t].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+n);if(this.littleEndian===ZSe&&t!=="uint8"&&t!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+n));o.reverse();const A=new V4[t](o.buffer);return this.offset+=n,A.reverse(),A}const a=new V4[t](s);return this.offset+=n,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let n=0;n<e;n++)t+=this.readChar();return t}readUtf8(e=1){return vH(this.readBytes(e))}decodeText(e=1,t="utf8"){return vH(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(YSe(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function tw(r){let e=r.length;for(;--e>=0;)r[e]=0}const e5e=3,t5e=258,AY=29,r5e=256,n5e=r5e+1+AY,lY=30,i5e=512,s5e=new Array((n5e+2)*2);tw(s5e);const a5e=new Array(lY*2);tw(a5e);const o5e=new Array(i5e);tw(o5e);const A5e=new Array(t5e-e5e+1);tw(A5e);const l5e=new Array(AY);tw(l5e);const c5e=new Array(lY);tw(c5e);const u5e=(r,e,t,n)=>{let i=r&65535|0,s=r>>>16&65535|0,a=0;for(;t!==0;){a=t>2e3?2e3:t,t-=a;do i=i+e[n++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0};var GL=u5e;const h5e=()=>{let r,e=[];for(var t=0;t<256;t++){r=t;for(var n=0;n<8;n++)r=r&1?3988292384^r>>>1:r>>>1;e[t]=r}return e},f5e=new Uint32Array(h5e()),d5e=(r,e,t,n)=>{const i=f5e,s=n+t;r^=-1;for(let a=n;a<s;a++)r=r>>>8^i[(r^e[a])&255];return r^-1};var wc=d5e,$L={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},cY={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const p5e=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var g5e=function(r){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const n in t)p5e(t,n)&&(r[n]=t[n])}}return r},m5e=r=>{let e=0;for(let n=0,i=r.length;n<i;n++)e+=r[n].length;const t=new Uint8Array(e);for(let n=0,i=0,s=r.length;n<s;n++){let a=r[n];t.set(a,i),i+=a.length}return t},uY={assign:g5e,flattenChunks:m5e};let hY=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{hY=!1}const fx=new Uint8Array(256);for(let r=0;r<256;r++)fx[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;fx[254]=fx[254]=1;var v5e=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let e,t,n,i,s,a=r.length,o=0;for(i=0;i<a;i++)t=r.charCodeAt(i),(t&64512)===55296&&i+1<a&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),i++)),o+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(o),s=0,i=0;s<o;i++)t=r.charCodeAt(i),(t&64512)===55296&&i+1<a&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),i++)),t<128?e[s++]=t:t<2048?(e[s++]=192|t>>>6,e[s++]=128|t&63):t<65536?(e[s++]=224|t>>>12,e[s++]=128|t>>>6&63,e[s++]=128|t&63):(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63,e[s++]=128|t>>>6&63,e[s++]=128|t&63);return e};const w5e=(r,e)=>{if(e<65534&&r.subarray&&hY)return String.fromCharCode.apply(null,r.length===e?r:r.subarray(0,e));let t="";for(let n=0;n<e;n++)t+=String.fromCharCode(r[n]);return t};var y5e=(r,e)=>{const t=e||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,e));let n,i;const s=new Array(t*2);for(i=0,n=0;n<t;){let a=r[n++];if(a<128){s[i++]=a;continue}let o=fx[a];if(o>4){s[i++]=65533,n+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&n<t;)a=a<<6|r[n++]&63,o--;if(o>1){s[i++]=65533;continue}a<65536?s[i++]=a:(a-=65536,s[i++]=55296|a>>10&1023,s[i++]=56320|a&1023)}return w5e(s,i)},x5e=(r,e)=>{e=e||r.length,e>r.length&&(e=r.length);let t=e-1;for(;t>=0&&(r[t]&192)===128;)t--;return t<0||t===0?e:t+fx[r[t]]>e?t:e},qL={string2buf:v5e,buf2string:y5e,utf8border:x5e};function _5e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var b5e=_5e;const rC=16209,E5e=16191;var C5e=function(e,t){let n,i,s,a,o,A,l,c,u,h,f,d,p,v,m,x,b,T,R,P,B,E,_,I;const S=e.state;n=e.next_in,_=e.input,i=n+(e.avail_in-5),s=e.next_out,I=e.output,a=s-(t-e.avail_out),o=s+(e.avail_out-257),A=S.dmax,l=S.wsize,c=S.whave,u=S.wnext,h=S.window,f=S.hold,d=S.bits,p=S.lencode,v=S.distcode,m=(1<<S.lenbits)-1,x=(1<<S.distbits)-1;e:do{d<15&&(f+=_[n++]<<d,d+=8,f+=_[n++]<<d,d+=8),b=p[f&m];t:for(;;){if(T=b>>>24,f>>>=T,d-=T,T=b>>>16&255,T===0)I[s++]=b&65535;else if(T&16){R=b&65535,T&=15,T&&(d<T&&(f+=_[n++]<<d,d+=8),R+=f&(1<<T)-1,f>>>=T,d-=T),d<15&&(f+=_[n++]<<d,d+=8,f+=_[n++]<<d,d+=8),b=v[f&x];r:for(;;){if(T=b>>>24,f>>>=T,d-=T,T=b>>>16&255,T&16){if(P=b&65535,T&=15,d<T&&(f+=_[n++]<<d,d+=8,d<T&&(f+=_[n++]<<d,d+=8)),P+=f&(1<<T)-1,P>A){e.msg="invalid distance too far back",S.mode=rC;break e}if(f>>>=T,d-=T,T=s-a,P>T){if(T=P-T,T>c&&S.sane){e.msg="invalid distance too far back",S.mode=rC;break e}if(B=0,E=h,u===0){if(B+=l-T,T<R){R-=T;do I[s++]=h[B++];while(--T);B=s-P,E=I}}else if(u<T){if(B+=l+u-T,T-=u,T<R){R-=T;do I[s++]=h[B++];while(--T);if(B=0,u<R){T=u,R-=T;do I[s++]=h[B++];while(--T);B=s-P,E=I}}}else if(B+=u-T,T<R){R-=T;do I[s++]=h[B++];while(--T);B=s-P,E=I}for(;R>2;)I[s++]=E[B++],I[s++]=E[B++],I[s++]=E[B++],R-=3;R&&(I[s++]=E[B++],R>1&&(I[s++]=E[B++]))}else{B=s-P;do I[s++]=I[B++],I[s++]=I[B++],I[s++]=I[B++],R-=3;while(R>2);R&&(I[s++]=I[B++],R>1&&(I[s++]=I[B++]))}}else if(T&64){e.msg="invalid distance code",S.mode=rC;break e}else{b=v[(b&65535)+(f&(1<<T)-1)];continue r}break}}else if(T&64)if(T&32){S.mode=E5e;break e}else{e.msg="invalid literal/length code",S.mode=rC;break e}else{b=p[(b&65535)+(f&(1<<T)-1)];continue t}break}}while(n<i&&s<o);R=d>>3,n-=R,d-=R<<3,f&=(1<<d)-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=s<o?257+(o-s):257-(s-o),S.hold=f,S.bits=d};const lm=15,wH=852,yH=592,xH=0,j4=1,_H=2,B5e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),S5e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),T5e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),F5e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),I5e=(r,e,t,n,i,s,a,o)=>{const A=o.bits;let l=0,c=0,u=0,h=0,f=0,d=0,p=0,v=0,m=0,x=0,b,T,R,P,B,E=null,_;const I=new Uint16Array(lm+1),S=new Uint16Array(lm+1);let F=null,N,G,le;for(l=0;l<=lm;l++)I[l]=0;for(c=0;c<n;c++)I[e[t+c]]++;for(f=A,h=lm;h>=1&&I[h]===0;h--);if(f>h&&(f=h),h===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,o.bits=1,0;for(u=1;u<h&&I[u]===0;u++);for(f<u&&(f=u),v=1,l=1;l<=lm;l++)if(v<<=1,v-=I[l],v<0)return-1;if(v>0&&(r===xH||h!==1))return-1;for(S[1]=0,l=1;l<lm;l++)S[l+1]=S[l]+I[l];for(c=0;c<n;c++)e[t+c]!==0&&(a[S[e[t+c]]++]=c);if(r===xH?(E=F=a,_=20):r===j4?(E=B5e,F=S5e,_=257):(E=T5e,F=F5e,_=0),x=0,c=0,l=u,B=s,d=f,p=0,R=-1,m=1<<f,P=m-1,r===j4&&m>wH||r===_H&&m>yH)return 1;for(;;){N=l-p,a[c]+1<_?(G=0,le=a[c]):a[c]>=_?(G=F[a[c]-_],le=E[a[c]-_]):(G=96,le=0),b=1<<l-p,T=1<<d,u=T;do T-=b,i[B+(x>>p)+T]=N<<24|G<<16|le|0;while(T!==0);for(b=1<<l-1;x&b;)b>>=1;if(b!==0?(x&=b-1,x+=b):x=0,c++,--I[l]===0){if(l===h)break;l=e[t+a[c]]}if(l>f&&(x&P)!==R){for(p===0&&(p=f),B+=u,d=l-p,v=1<<d;d+p<h&&(v-=I[d+p],!(v<=0));)d++,v<<=1;if(m+=1<<d,r===j4&&m>wH||r===_H&&m>yH)return 1;R=x&P,i[R]=f<<24|d<<16|B-s|0}}return x!==0&&(i[B+x]=l-p<<24|64<<16|0),o.bits=f,0};var d2=I5e;const k5e=0,fY=1,dY=2,{Z_FINISH:bH,Z_BLOCK:L5e,Z_TREES:nC,Z_OK:kg,Z_STREAM_END:P5e,Z_NEED_DICT:R5e,Z_STREAM_ERROR:al,Z_DATA_ERROR:pY,Z_MEM_ERROR:gY,Z_BUF_ERROR:N5e,Z_DEFLATED:EH}=cY,UT=16180,CH=16181,BH=16182,SH=16183,TH=16184,FH=16185,IH=16186,kH=16187,LH=16188,PH=16189,ZS=16190,Cu=16191,K4=16192,RH=16193,z4=16194,NH=16195,DH=16196,UH=16197,MH=16198,iC=16199,sC=16200,OH=16201,QH=16202,HH=16203,VH=16204,jH=16205,W4=16206,KH=16207,zH=16208,jn=16209,mY=16210,vY=16211,D5e=852,U5e=592,M5e=15,O5e=M5e,WH=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function Q5e(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const zg=r=>{if(!r)return 1;const e=r.state;return!e||e.strm!==r||e.mode<UT||e.mode>vY?1:0},wY=r=>{if(zg(r))return al;const e=r.state;return r.total_in=r.total_out=e.total=0,r.msg="",e.wrap&&(r.adler=e.wrap&1),e.mode=UT,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(D5e),e.distcode=e.distdyn=new Int32Array(U5e),e.sane=1,e.back=-1,kg},yY=r=>{if(zg(r))return al;const e=r.state;return e.wsize=0,e.whave=0,e.wnext=0,wY(r)},xY=(r,e)=>{let t;if(zg(r))return al;const n=r.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?al:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=t,n.wbits=e,yY(r))},_Y=(r,e)=>{if(!r)return al;const t=new Q5e;r.state=t,t.strm=r,t.window=null,t.mode=UT;const n=xY(r,e);return n!==kg&&(r.state=null),n},H5e=r=>_Y(r,O5e);let GH=!0,G4,$4;const V5e=r=>{if(GH){G4=new Int32Array(512),$4=new Int32Array(32);let e=0;for(;e<144;)r.lens[e++]=8;for(;e<256;)r.lens[e++]=9;for(;e<280;)r.lens[e++]=7;for(;e<288;)r.lens[e++]=8;for(d2(fY,r.lens,0,288,G4,0,r.work,{bits:9}),e=0;e<32;)r.lens[e++]=5;d2(dY,r.lens,0,32,$4,0,r.work,{bits:5}),GH=!1}r.lencode=G4,r.lenbits=9,r.distcode=$4,r.distbits=5},bY=(r,e,t,n)=>{let i;const s=r.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(e.subarray(t-n,t-n+i),s.wnext),n-=i,n?(s.window.set(e.subarray(t-n,t),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},j5e=(r,e)=>{let t,n,i,s,a,o,A,l,c,u,h,f,d,p,v=0,m,x,b,T,R,P,B,E;const _=new Uint8Array(4);let I,S;const F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(zg(r)||!r.output||!r.input&&r.avail_in!==0)return al;t=r.state,t.mode===Cu&&(t.mode=K4),a=r.next_out,i=r.output,A=r.avail_out,s=r.next_in,n=r.input,o=r.avail_in,l=t.hold,c=t.bits,u=o,h=A,E=kg;e:for(;;)switch(t.mode){case UT:if(t.wrap===0){t.mode=K4;break}for(;c<16;){if(o===0)break e;o--,l+=n[s++]<<c,c+=8}if(t.wrap&2&&l===35615){t.wbits===0&&(t.wbits=15),t.check=0,_[0]=l&255,_[1]=l>>>8&255,t.check=wc(t.check,_,2,0),l=0,c=0,t.mode=CH;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((l&255)<<8)+(l>>8))%31){r.msg="incorrect header check",t.mode=jn;break}if((l&15)!==EH){r.msg="unknown compression method",t.mode=jn;break}if(l>>>=4,c-=4,B=(l&15)+8,t.wbits===0&&(t.wbits=B),B>15||B>t.wbits){r.msg="invalid window size",t.mode=jn;break}t.dmax=1<<t.wbits,t.flags=0,r.adler=t.check=1,t.mode=l&512?PH:Cu,l=0,c=0;break;case CH:for(;c<16;){if(o===0)break e;o--,l+=n[s++]<<c,c+=8}if(t.flags=l,(t.flags&255)!==EH){r.msg="unknown compression method",t.mode=jn;break}if(t.flags&57344){r.msg="unknown header flags set",t.mode=jn;break}t.head&&(t.head.text=l>>8&1),t.flags&512&&t.wrap&4&&(_[0]=l&255,_[1]=l>>>8&255,t.check=wc(t.check,_,2,0)),l=0,c=0,t.mode=BH;case BH:for(;c<32;){if(o===0)break e;o--,l+=n[s++]<<c,c+=8}t.head&&(t.head.time=l),t.flags&512&&t.wrap&4&&(_[0]=l&255,_[1]=l>>>8&255,_[2]=l>>>16&255,_[3]=l>>>24&255,t.check=wc(t.check,_,4,0)),l=0,c=0,t.mode=SH;case SH:for(;c<16;){if(o===0)break e;o--,l+=n[s++]<<c,c+=8}t.head&&(t.head.xflags=l&255,t.head.os=l>>8),t.flags&512&&t.wrap&4&&(_[0]=l&255,_[1]=l>>>8&255,t.check=wc(t.check,_,2,0)),l=0,c=0,t.mode=TH;case TH:if(t.flags&1024){for(;c<16;){if(o===0)break e;o--,l+=n[s++]<<c,c+=8}t.length=l,t.head&&(t.head.extra_len=l),t.flags&512&&t.wrap&4&&(_[0]=l&255,_[1]=l>>>8&255,t.check=wc(t.check,_,2,0)),l=0,c=0}else t.head&&(t.head.extra=null);t.mode=FH;case FH:if(t.flags&1024&&(f=t.length,f>o&&(f=o),f&&(t.head&&(B=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(s,s+f),B)),t.flags&512&&t.wrap&4&&(t.check=wc(t.check,n,f,s)),o-=f,s+=f,t.length-=f),t.length))break e;t.length=0,t.mode=IH;case IH:if(t.flags&2048){if(o===0)break e;f=0;do B=n[s+f++],t.head&&B&&t.length<65536&&(t.head.name+=String.fromCharCode(B));while(B&&f<o);if(t.flags&512&&t.wrap&4&&(t.check=wc(t.check,n,f,s)),o-=f,s+=f,B)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=kH;case kH:if(t.flags&4096){if(o===0)break e;f=0;do B=n[s+f++],t.head&&B&&t.length<65536&&(t.head.comment+=String.fromCharCode(B));while(B&&f<o);if(t.flags&512&&t.wrap&4&&(t.check=wc(t.check,n,f,s)),o-=f,s+=f,B)break e}else t.head&&(t.head.comment=null);t.mode=LH;case LH:if(t.flags&512){for(;c<16;){if(o===0)break e;o--,l+=n[s++]<<c,c+=8}if(t.wrap&4&&l!==(t.check&65535)){r.msg="header crc mismatch",t.mode=jn;break}l=0,c=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),r.adler=t.check=0,t.mode=Cu;break;case PH:for(;c<32;){if(o===0)break e;o--,l+=n[s++]<<c,c+=8}r.adler=t.check=WH(l),l=0,c=0,t.mode=ZS;case ZS:if(t.havedict===0)return r.next_out=a,r.avail_out=A,r.next_in=s,r.avail_in=o,t.hold=l,t.bits=c,R5e;r.adler=t.check=1,t.mode=Cu;case Cu:if(e===L5e||e===nC)break e;case K4:if(t.last){l>>>=c&7,c-=c&7,t.mode=W4;break}for(;c<3;){if(o===0)break e;o--,l+=n[s++]<<c,c+=8}switch(t.last=l&1,l>>>=1,c-=1,l&3){case 0:t.mode=RH;break;case 1:if(V5e(t),t.mode=iC,e===nC){l>>>=2,c-=2;break e}break;case 2:t.mode=DH;break;case 3:r.msg="invalid block type",t.mode=jn}l>>>=2,c-=2;break;case RH:for(l>>>=c&7,c-=c&7;c<32;){if(o===0)break e;o--,l+=n[s++]<<c,c+=8}if((l&65535)!==(l>>>16^65535)){r.msg="invalid stored block lengths",t.mode=jn;break}if(t.length=l&65535,l=0,c=0,t.mode=z4,e===nC)break e;case z4:t.mode=NH;case NH:if(f=t.length,f){if(f>o&&(f=o),f>A&&(f=A),f===0)break e;i.set(n.subarray(s,s+f),a),o-=f,s+=f,A-=f,a+=f,t.length-=f;break}t.mode=Cu;break;case DH:for(;c<14;){if(o===0)break e;o--,l+=n[s++]<<c,c+=8}if(t.nlen=(l&31)+257,l>>>=5,c-=5,t.ndist=(l&31)+1,l>>>=5,c-=5,t.ncode=(l&15)+4,l>>>=4,c-=4,t.nlen>286||t.ndist>30){r.msg="too many length or distance symbols",t.mode=jn;break}t.have=0,t.mode=UH;case UH:for(;t.have<t.ncode;){for(;c<3;){if(o===0)break e;o--,l+=n[s++]<<c,c+=8}t.lens[F[t.have++]]=l&7,l>>>=3,c-=3}for(;t.have<19;)t.lens[F[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,I={bits:t.lenbits},E=d2(k5e,t.lens,0,19,t.lencode,0,t.work,I),t.lenbits=I.bits,E){r.msg="invalid code lengths set",t.mode=jn;break}t.have=0,t.mode=MH;case MH:for(;t.have<t.nlen+t.ndist;){for(;v=t.lencode[l&(1<<t.lenbits)-1],m=v>>>24,x=v>>>16&255,b=v&65535,!(m<=c);){if(o===0)break e;o--,l+=n[s++]<<c,c+=8}if(b<16)l>>>=m,c-=m,t.lens[t.have++]=b;else{if(b===16){for(S=m+2;c<S;){if(o===0)break e;o--,l+=n[s++]<<c,c+=8}if(l>>>=m,c-=m,t.have===0){r.msg="invalid bit length repeat",t.mode=jn;break}B=t.lens[t.have-1],f=3+(l&3),l>>>=2,c-=2}else if(b===17){for(S=m+3;c<S;){if(o===0)break e;o--,l+=n[s++]<<c,c+=8}l>>>=m,c-=m,B=0,f=3+(l&7),l>>>=3,c-=3}else{for(S=m+7;c<S;){if(o===0)break e;o--,l+=n[s++]<<c,c+=8}l>>>=m,c-=m,B=0,f=11+(l&127),l>>>=7,c-=7}if(t.have+f>t.nlen+t.ndist){r.msg="invalid bit length repeat",t.mode=jn;break}for(;f--;)t.lens[t.have++]=B}}if(t.mode===jn)break;if(t.lens[256]===0){r.msg="invalid code -- missing end-of-block",t.mode=jn;break}if(t.lenbits=9,I={bits:t.lenbits},E=d2(fY,t.lens,0,t.nlen,t.lencode,0,t.work,I),t.lenbits=I.bits,E){r.msg="invalid literal/lengths set",t.mode=jn;break}if(t.distbits=6,t.distcode=t.distdyn,I={bits:t.distbits},E=d2(dY,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,I),t.distbits=I.bits,E){r.msg="invalid distances set",t.mode=jn;break}if(t.mode=iC,e===nC)break e;case iC:t.mode=sC;case sC:if(o>=6&&A>=258){r.next_out=a,r.avail_out=A,r.next_in=s,r.avail_in=o,t.hold=l,t.bits=c,C5e(r,h),a=r.next_out,i=r.output,A=r.avail_out,s=r.next_in,n=r.input,o=r.avail_in,l=t.hold,c=t.bits,t.mode===Cu&&(t.back=-1);break}for(t.back=0;v=t.lencode[l&(1<<t.lenbits)-1],m=v>>>24,x=v>>>16&255,b=v&65535,!(m<=c);){if(o===0)break e;o--,l+=n[s++]<<c,c+=8}if(x&&!(x&240)){for(T=m,R=x,P=b;v=t.lencode[P+((l&(1<<T+R)-1)>>T)],m=v>>>24,x=v>>>16&255,b=v&65535,!(T+m<=c);){if(o===0)break e;o--,l+=n[s++]<<c,c+=8}l>>>=T,c-=T,t.back+=T}if(l>>>=m,c-=m,t.back+=m,t.length=b,x===0){t.mode=jH;break}if(x&32){t.back=-1,t.mode=Cu;break}if(x&64){r.msg="invalid literal/length code",t.mode=jn;break}t.extra=x&15,t.mode=OH;case OH:if(t.extra){for(S=t.extra;c<S;){if(o===0)break e;o--,l+=n[s++]<<c,c+=8}t.length+=l&(1<<t.extra)-1,l>>>=t.extra,c-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=QH;case QH:for(;v=t.distcode[l&(1<<t.distbits)-1],m=v>>>24,x=v>>>16&255,b=v&65535,!(m<=c);){if(o===0)break e;o--,l+=n[s++]<<c,c+=8}if(!(x&240)){for(T=m,R=x,P=b;v=t.distcode[P+((l&(1<<T+R)-1)>>T)],m=v>>>24,x=v>>>16&255,b=v&65535,!(T+m<=c);){if(o===0)break e;o--,l+=n[s++]<<c,c+=8}l>>>=T,c-=T,t.back+=T}if(l>>>=m,c-=m,t.back+=m,x&64){r.msg="invalid distance code",t.mode=jn;break}t.offset=b,t.extra=x&15,t.mode=HH;case HH:if(t.extra){for(S=t.extra;c<S;){if(o===0)break e;o--,l+=n[s++]<<c,c+=8}t.offset+=l&(1<<t.extra)-1,l>>>=t.extra,c-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){r.msg="invalid distance too far back",t.mode=jn;break}t.mode=VH;case VH:if(A===0)break e;if(f=h-A,t.offset>f){if(f=t.offset-f,f>t.whave&&t.sane){r.msg="invalid distance too far back",t.mode=jn;break}f>t.wnext?(f-=t.wnext,d=t.wsize-f):d=t.wnext-f,f>t.length&&(f=t.length),p=t.window}else p=i,d=a-t.offset,f=t.length;f>A&&(f=A),A-=f,t.length-=f;do i[a++]=p[d++];while(--f);t.length===0&&(t.mode=sC);break;case jH:if(A===0)break e;i[a++]=t.length,A--,t.mode=sC;break;case W4:if(t.wrap){for(;c<32;){if(o===0)break e;o--,l|=n[s++]<<c,c+=8}if(h-=A,r.total_out+=h,t.total+=h,t.wrap&4&&h&&(r.adler=t.check=t.flags?wc(t.check,i,h,a-h):GL(t.check,i,h,a-h)),h=A,t.wrap&4&&(t.flags?l:WH(l))!==t.check){r.msg="incorrect data check",t.mode=jn;break}l=0,c=0}t.mode=KH;case KH:if(t.wrap&&t.flags){for(;c<32;){if(o===0)break e;o--,l+=n[s++]<<c,c+=8}if(t.wrap&4&&l!==(t.total&4294967295)){r.msg="incorrect length check",t.mode=jn;break}l=0,c=0}t.mode=zH;case zH:E=P5e;break e;case jn:E=pY;break e;case mY:return gY;case vY:default:return al}return r.next_out=a,r.avail_out=A,r.next_in=s,r.avail_in=o,t.hold=l,t.bits=c,(t.wsize||h!==r.avail_out&&t.mode<jn&&(t.mode<W4||e!==bH))&&bY(r,r.output,r.next_out,h-r.avail_out),u-=r.avail_in,h-=r.avail_out,r.total_in+=u,r.total_out+=h,t.total+=h,t.wrap&4&&h&&(r.adler=t.check=t.flags?wc(t.check,i,h,r.next_out-h):GL(t.check,i,h,r.next_out-h)),r.data_type=t.bits+(t.last?64:0)+(t.mode===Cu?128:0)+(t.mode===iC||t.mode===z4?256:0),(u===0&&h===0||e===bH)&&E===kg&&(E=N5e),E},K5e=r=>{if(zg(r))return al;let e=r.state;return e.window&&(e.window=null),r.state=null,kg},z5e=(r,e)=>{if(zg(r))return al;const t=r.state;return t.wrap&2?(t.head=e,e.done=!1,kg):al},W5e=(r,e)=>{const t=e.length;let n,i,s;return zg(r)||(n=r.state,n.wrap!==0&&n.mode!==ZS)?al:n.mode===ZS&&(i=1,i=GL(i,e,t,0),i!==n.check)?pY:(s=bY(r,e,t,t),s?(n.mode=mY,gY):(n.havedict=1,kg))};var G5e=yY,$5e=xY,q5e=wY,X5e=H5e,Y5e=_Y,J5e=j5e,Z5e=K5e,eTe=z5e,tTe=W5e,rTe="pako inflate (from Nodeca project)",Uu={inflateReset:G5e,inflateReset2:$5e,inflateResetKeep:q5e,inflateInit:X5e,inflateInit2:Y5e,inflate:J5e,inflateEnd:Z5e,inflateGetHeader:eTe,inflateSetDictionary:tTe,inflateInfo:rTe};function nTe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var iTe=nTe;const EY=Object.prototype.toString,{Z_NO_FLUSH:sTe,Z_FINISH:aTe,Z_OK:dx,Z_STREAM_END:q4,Z_NEED_DICT:X4,Z_STREAM_ERROR:oTe,Z_DATA_ERROR:$H,Z_MEM_ERROR:ATe}=cY;function yb(r){this.options=uY.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(r&&r.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new b5e,this.strm.avail_out=0;let t=Uu.inflateInit2(this.strm,e.windowBits);if(t!==dx)throw new Error($L[t]);if(this.header=new iTe,Uu.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=qL.string2buf(e.dictionary):EY.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Uu.inflateSetDictionary(this.strm,e.dictionary),t!==dx)))throw new Error($L[t])}yb.prototype.push=function(r,e){const t=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?aTe:sTe,EY.call(r)==="[object ArrayBuffer]"?t.input=new Uint8Array(r):t.input=r,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),s=Uu.inflate(t,a),s===X4&&i&&(s=Uu.inflateSetDictionary(t,i),s===dx?s=Uu.inflate(t,a):s===$H&&(s=X4));t.avail_in>0&&s===q4&&t.state.wrap>0&&r[t.next_in]!==0;)Uu.inflateReset(t),s=Uu.inflate(t,a);switch(s){case oTe:case $H:case X4:case ATe:return this.onEnd(s),this.ended=!0,!1}if(o=t.avail_out,t.next_out&&(t.avail_out===0||s===q4))if(this.options.to==="string"){let A=qL.utf8border(t.output,t.next_out),l=t.next_out-A,c=qL.buf2string(t.output,A);t.next_out=l,t.avail_out=n-l,l&&t.output.set(t.output.subarray(A,A+l),0),this.onData(c)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===dx&&o===0)){if(s===q4)return s=Uu.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};yb.prototype.onData=function(r){this.chunks.push(r)};yb.prototype.onEnd=function(r){r===dx&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=uY.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function lTe(r,e){const t=new yb(e);if(t.push(r),t.err)throw t.msg||$L[t.err];return t.result}var cTe=yb,uTe=lTe,hTe={Inflate:cTe,inflate:uTe};const{Inflate:fTe,inflate:dTe}=hTe;var qH=fTe,pTe=dTe;const CY=[];for(let r=0;r<256;r++){let e=r;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;CY[r]=e}const XH=4294967295;function gTe(r,e,t){let n=r;for(let i=0;i<t;i++)n=CY[(n^e[i])&255]^n>>>8;return n}function mTe(r,e){return(gTe(XH,r,e)^XH)>>>0}function YH(r,e,t){const n=r.readUint32(),i=mTe(new Uint8Array(r.buffer,r.byteOffset+r.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${t}. Expected ${n}, found ${i}`)}function BY(r,e,t){for(let n=0;n<t;n++)e[n]=r[n]}function SY(r,e,t,n){let i=0;for(;i<n;i++)e[i]=r[i];for(;i<t;i++)e[i]=r[i]+e[i-n]&255}function TY(r,e,t,n){let i=0;if(t.length===0)for(;i<n;i++)e[i]=r[i];else for(;i<n;i++)e[i]=r[i]+t[i]&255}function FY(r,e,t,n,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=r[s];for(;s<n;s++)e[s]=r[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=r[s]+(t[s]>>1)&255;for(;s<n;s++)e[s]=r[s]+(e[s-i]+t[s]>>1)&255}}function IY(r,e,t,n,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=r[s];for(;s<n;s++)e[s]=r[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=r[s]+t[s]&255;for(;s<n;s++)e[s]=r[s]+vTe(e[s-i],t[s],t[s-i])&255}}function vTe(r,e,t){const n=r+e-t,i=Math.abs(n-r),s=Math.abs(n-e),a=Math.abs(n-t);return i<=s&&i<=a?r:s<=a?e:t}function wTe(r,e,t,n,i,s){switch(r){case 0:BY(e,t,i);break;case 1:SY(e,t,i,s);break;case 2:TY(e,t,n,i);break;case 3:FY(e,t,n,i,s);break;case 4:IY(e,t,n,i,s);break;default:throw new Error(`Unsupported filter: ${r}`)}}const yTe=new Uint16Array([255]),xTe=new Uint8Array(yTe.buffer),_Te=xTe[0]===255;function bTe(r){const{data:e,width:t,height:n,channels:i,depth:s}=r,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*i,A=new Uint8Array(n*t*o);let l=0;for(let c=0;c<7;c++){const u=a[c],h=Math.ceil((t-u.x)/u.xStep),f=Math.ceil((n-u.y)/u.yStep);if(h<=0||f<=0)continue;const d=h*o,p=new Uint8Array(d);for(let v=0;v<f;v++){const m=e[l++],x=e.subarray(l,l+d);l+=d;const b=new Uint8Array(d);wTe(m,x,b,p,d,o),p.set(b);for(let T=0;T<h;T++){const R=u.x+T*u.xStep,P=u.y+v*u.yStep;if(!(R>=t||P>=n))for(let B=0;B<o;B++)A[(P*t+R)*o+B]=b[T*o+B]}}}if(s===16){const c=new Uint16Array(A.buffer);if(_Te)for(let u=0;u<c.length;u++)c[u]=ETe(c[u]);return c}else return A}function ETe(r){return(r&255)<<8|r>>8&255}const CTe=new Uint16Array([255]),BTe=new Uint8Array(CTe.buffer),STe=BTe[0]===255,TTe=new Uint8Array(0);function JH(r){const{data:e,width:t,height:n,channels:i,depth:s}=r,a=Math.ceil(s/8)*i,o=Math.ceil(s/8*i*t),A=new Uint8Array(n*o);let l=TTe,c=0,u,h;for(let f=0;f<n;f++){switch(u=e.subarray(c+1,c+1+o),h=A.subarray(f*o,(f+1)*o),e[c]){case 0:BY(u,h,o);break;case 1:SY(u,h,o,a);break;case 2:TY(u,h,l,o);break;case 3:FY(u,h,l,o,a);break;case 4:IY(u,h,l,o,a);break;default:throw new Error(`Unsupported filter: ${e[c]}`)}l=h,c+=o+1}if(s===16){const f=new Uint16Array(A.buffer);if(STe)for(let d=0;d<f.length;d++)f[d]=FTe(f[d]);return f}else return A}function FTe(r){return(r&255)<<8|r>>8&255}const xB=Uint8Array.of(137,80,78,71,13,10,26,10);function ZH(r){if(!ITe(r.readBytes(xB.length)))throw new Error("wrong PNG signature")}function ITe(r){if(r.length<xB.length)return!1;for(let e=0;e<xB.length;e++)if(r[e]!==xB[e])return!1;return!0}const kTe="tEXt",LTe=0,kY=new TextDecoder("latin1");function PTe(r){if(NTe(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const RTe=/^[\u0000-\u00FF]*$/;function NTe(r){if(!RTe.test(r))throw new Error("invalid latin1 text")}function DTe(r,e,t){const n=LY(e);r[n]=UTe(e,t-n.length-1)}function LY(r){for(r.mark();r.readByte()!==LTe;);const e=r.offset;r.reset();const t=kY.decode(r.readBytes(e-r.offset-1));return r.skip(1),PTe(t),t}function UTe(r,e){return kY.decode(r.readBytes(e))}const qo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Y4={UNKNOWN:-1,DEFLATE:0},e7={UNKNOWN:-1,ADAPTIVE:0},J4={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},aC={NONE:0,BACKGROUND:1,PREVIOUS:2},Z4={SOURCE:0,OVER:1};class MTe extends eD{constructor(t,n={}){super(t);De(this,"_checkCrc");De(this,"_inflator");De(this,"_png");De(this,"_apng");De(this,"_end");De(this,"_hasPalette");De(this,"_palette");De(this,"_hasTransparency");De(this,"_transparency");De(this,"_compressionMethod");De(this,"_filterMethod");De(this,"_interlaceMethod");De(this,"_colorType");De(this,"_isAnimated");De(this,"_numberOfFrames");De(this,"_numberOfPlays");De(this,"_frames");De(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new qH,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Y4.UNKNOWN,this._filterMethod=e7.UNKNOWN,this._interlaceMethod=J4.UNKNOWN,this._colorType=qo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(ZH(this);!this._end;){const t=this.readUint32(),n=this.readChars(4);this.decodeChunk(t,n)}return this.decodeImage(),this._png}decodeApng(){for(ZH(this);!this._end;){const t=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(t,n)}return this.decodeApngImage(),this._apng}decodeChunk(t,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case kTe:DTe(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?YH(this,t+4,n):this.skip(4)}decodeApngChunk(t,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,n),this.offset=i+t;break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?YH(this,t+4,n):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=OTe(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case qo.GREYSCALE:i=1;break;case qo.TRUECOLOUR:i=3;break;case qo.INDEXED_COLOUR:i=1;break;case qo.GREYSCALE_ALPHA:i=2;break;case qo.TRUECOLOUR_ALPHA:i=4;break;case qo.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==Y4.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const n=t/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<n;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const n=t,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let n=t,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case qo.GREYSCALE:case qo.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let n=0;n<t/2;n++)this._transparency[n]=this.readUint16();break}case qo.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let n=0;for(;n<t;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case qo.UNKNOWN:case qo.GREYSCALE_ALPHA:case qo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const n=LY(this),i=this.readUint8();if(i!==Y4.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(t-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:pTe(s)}}decodepHYs(){const t=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:t,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const n={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(t);if(i){if(i.data=JH({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const s=this._apng.frames.at(t-1);this.disposeFrame(i,s,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(t,n,i){switch(t.disposeOp){case aC.NONE:break;case aC.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let a=0;a<this._png.width;a++){const o=(s*t.width+a)*this._png.channels;for(let A=0;A<this._png.channels;A++)i.data[o+A]=0}break;case aC.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,n){const i=1<<this._png.depth,s=(a,o)=>{const A=((a+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,l=(a*n.width+o)*this._png.channels;return{index:A,frameIndex:l}};switch(n.blendOp){case Z4.SOURCE:for(let a=0;a<n.height;a++)for(let o=0;o<n.width;o++){const{index:A,frameIndex:l}=s(a,o);for(let c=0;c<this._png.channels;c++)t.data[A+c]=n.data[l+c]}break;case Z4.OVER:for(let a=0;a<n.height;a++)for(let o=0;o<n.width;o++){const{index:A,frameIndex:l}=s(a,o);for(let c=0;c<this._png.channels;c++){const u=n.data[l+this._png.channels-1]/i,h=c%(this._png.channels-1)===0?1:n.data[l+c],f=Math.floor(u*h+(1-u)*t.data[A+c]);t.data[A+c]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==e7.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===J4.NO_INTERLACE)this._png.data=JH({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===J4.ADAM7)this._png.data=bTe({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,n=this._frames.at(-1);n?n.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:aC.NONE,blendOp:Z4.SOURCE,data:t}),this._inflator=new qH,this._writingDataChunks=!1}}function OTe(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var t7;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(t7||(t7={}));function QTe(r,e){return new MTe(r,e).decode()}var nr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function eI(){nr.console&&typeof nr.console.log=="function"&&nr.console.log.apply(nr.console,arguments)}var En={log:eI,warn:function(r){nr.console&&(typeof nr.console.warn=="function"?nr.console.warn.apply(nr.console,arguments):eI.call(null,arguments))},error:function(r){nr.console&&(typeof nr.console.error=="function"?nr.console.error.apply(nr.console,arguments):eI(r))}};function tI(r,e,t){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){U0(n.response,e,t)},n.onerror=function(){En.error("could not download file")},n.send()}function r7(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function oC(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var U0=nr.saveAs||((typeof window>"u"?"undefined":hn(window))!=="object"||window!==nr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var n=nr.URL||nr.webkitURL,i=document.createElement("a");e=e||r.name||"download",i.download=e,i.rel="noopener",typeof r=="string"?(i.href=r,i.origin!==location.origin?r7(i.href)?tI(r,e,t):oC(i,i.target="_blank"):oC(i)):(i.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){oC(i)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(r7(r))tI(r,e,t);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){oC(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:hn(s)!=="object"&&(En.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(r,t),e)}:function(r,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return tI(r,e,t);var i=r.type==="application/octet-stream",s=/constructor/i.test(nr.HTMLElement)||nr.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":hn(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var c=o.result;c=a?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=c:location=c,n=null},o.readAsDataURL(r)}else{var A=nr.URL||nr.webkitURL,l=A.createObjectURL(r);n?n.location=l:location.href=l,n=null,setTimeout(function(){A.revokeObjectURL(l)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function PY(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<t.length;n++){var i=t[n].re,s=t[n].process,a=i.exec(r);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),A=this.g.toString(16),l=this.b.toString(16);return o.length==1&&(o="0"+o),A.length==1&&(A="0"+A),l.length==1&&(l="0"+l),"#"+o+A+l}}var _B=nr.atob.bind(nr),n7=nr.btoa.bind(nr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function rI(r,e){var t=r[0],n=r[1],i=r[2],s=r[3];t=aa(t,n,i,s,e[0],7,-680876936),s=aa(s,t,n,i,e[1],12,-389564586),i=aa(i,s,t,n,e[2],17,606105819),n=aa(n,i,s,t,e[3],22,-1044525330),t=aa(t,n,i,s,e[4],7,-176418897),s=aa(s,t,n,i,e[5],12,1200080426),i=aa(i,s,t,n,e[6],17,-1473231341),n=aa(n,i,s,t,e[7],22,-45705983),t=aa(t,n,i,s,e[8],7,1770035416),s=aa(s,t,n,i,e[9],12,-1958414417),i=aa(i,s,t,n,e[10],17,-42063),n=aa(n,i,s,t,e[11],22,-1990404162),t=aa(t,n,i,s,e[12],7,1804603682),s=aa(s,t,n,i,e[13],12,-40341101),i=aa(i,s,t,n,e[14],17,-1502002290),t=oa(t,n=aa(n,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=oa(s,t,n,i,e[6],9,-1069501632),i=oa(i,s,t,n,e[11],14,643717713),n=oa(n,i,s,t,e[0],20,-373897302),t=oa(t,n,i,s,e[5],5,-701558691),s=oa(s,t,n,i,e[10],9,38016083),i=oa(i,s,t,n,e[15],14,-660478335),n=oa(n,i,s,t,e[4],20,-405537848),t=oa(t,n,i,s,e[9],5,568446438),s=oa(s,t,n,i,e[14],9,-1019803690),i=oa(i,s,t,n,e[3],14,-187363961),n=oa(n,i,s,t,e[8],20,1163531501),t=oa(t,n,i,s,e[13],5,-1444681467),s=oa(s,t,n,i,e[2],9,-51403784),i=oa(i,s,t,n,e[7],14,1735328473),t=Aa(t,n=oa(n,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Aa(s,t,n,i,e[8],11,-2022574463),i=Aa(i,s,t,n,e[11],16,1839030562),n=Aa(n,i,s,t,e[14],23,-35309556),t=Aa(t,n,i,s,e[1],4,-1530992060),s=Aa(s,t,n,i,e[4],11,1272893353),i=Aa(i,s,t,n,e[7],16,-155497632),n=Aa(n,i,s,t,e[10],23,-1094730640),t=Aa(t,n,i,s,e[13],4,681279174),s=Aa(s,t,n,i,e[0],11,-358537222),i=Aa(i,s,t,n,e[3],16,-722521979),n=Aa(n,i,s,t,e[6],23,76029189),t=Aa(t,n,i,s,e[9],4,-640364487),s=Aa(s,t,n,i,e[12],11,-421815835),i=Aa(i,s,t,n,e[15],16,530742520),t=la(t,n=Aa(n,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=la(s,t,n,i,e[7],10,1126891415),i=la(i,s,t,n,e[14],15,-1416354905),n=la(n,i,s,t,e[5],21,-57434055),t=la(t,n,i,s,e[12],6,1700485571),s=la(s,t,n,i,e[3],10,-1894986606),i=la(i,s,t,n,e[10],15,-1051523),n=la(n,i,s,t,e[1],21,-2054922799),t=la(t,n,i,s,e[8],6,1873313359),s=la(s,t,n,i,e[15],10,-30611744),i=la(i,s,t,n,e[6],15,-1560198380),n=la(n,i,s,t,e[13],21,1309151649),t=la(t,n,i,s,e[4],6,-145523070),s=la(s,t,n,i,e[11],10,-1120210379),i=la(i,s,t,n,e[2],15,718787259),n=la(n,i,s,t,e[9],21,-343485551),r[0]=yd(t,r[0]),r[1]=yd(n,r[1]),r[2]=yd(i,r[2]),r[3]=yd(s,r[3])}function MT(r,e,t,n,i,s){return e=yd(yd(e,r),yd(n,s)),yd(e<<i|e>>>32-i,t)}function aa(r,e,t,n,i,s,a){return MT(e&t|~e&n,r,e,i,s,a)}function oa(r,e,t,n,i,s,a){return MT(e&n|t&~n,r,e,i,s,a)}function Aa(r,e,t,n,i,s,a){return MT(e^t^n,r,e,i,s,a)}function la(r,e,t,n,i,s,a){return MT(t^(e|~n),r,e,i,s,a)}function RY(r){var e,t=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)rI(n,HTe(r.substring(e-64,e)));r=r.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)i[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(rI(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,rI(n,i),n}function HTe(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}var i7="0123456789abcdef".split("");function VTe(r){for(var e="",t=0;t<4;t++)e+=i7[r>>8*t+4&15]+i7[r>>8*t&15];return e}function jTe(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function XL(r){return RY(r).map(jTe).join("")}var KTe=function(r){for(var e=0;e<r.length;e++)r[e]=VTe(r[e]);return r.join("")}(RY("hello"))!="5d41402abc4b2a76b9719d911017c592";function yd(r,e){if(KTe){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function YL(r,e){var t,n,i,s;if(r!==t){for(var a=(i=r,s=1+(256/r.length|0),new Array(s+1).join(i)),o=[],A=0;A<256;A++)o[A]=A;var l=0;for(A=0;A<256;A++){var c=o[A];l=(l+c+a.charCodeAt(A))%256,o[A]=o[l],o[l]=c}t=r,n=o}else o=n;var u=e.length,h=0,f=0,d="";for(A=0;A<u;A++)f=(f+(c=o[h=(h+1)%256]))%256,o[h]=o[f],o[f]=c,a=o[(o[h]+o[f])%256],d+=String.fromCharCode(e.charCodeAt(A)^a);return d}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var s7={print:4,modify:8,copy:16,"annot-forms":32};function Bm(r,e,t,n){this.v=1,this.r=2;var i=192;r.forEach(function(o){if(s7.perm!==void 0)throw new Error("Invalid permission: "+o);i+=s7[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=XL(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=YL(this.encryptionKey,this.padding)}function Sm(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,n=0;n<t;n++){var i=r.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):r[n]}return e}function a7(r){if(hn(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,i){if(i=i||!1,typeof t!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[n,!!i],s},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var a=e[t][s];try{a[0].apply(r,n)}catch(o){nr.console&&En.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function e5(r){if(!(this instanceof e5))return new e5(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function NY(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function Q0(r,e,t,n,i){if(!(this instanceof Q0))return new Q0(r,e,t,n,i);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,NY.call(this,n,i)}function jm(r,e,t,n,i){if(!(this instanceof jm))return new jm(r,e,t,n,i);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,NY.call(this,n,i)}function Ht(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,A=16,l="S",c=null;hn(r=r||{})==="object"&&(t=r.orientation,n=r.unit||n,i=r.format||i,s=r.compress||r.compressPdf||s,(c=r.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),o=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(A=r.floatPrecision),l=r.defaultPathOperation||"S"),a=r.filters||(s===!0?["FlateEncode"]:a),n=n||"mm",t=(""+(t||"P")).toLowerCase();var u=r.putOnlyUsedFonts||!1,h={},f={internal:{},__private__:{}};f.__private__.PubSub=a7;var d="1.3",p=f.__private__.getPdfVersion=function(){return d};f.__private__.setPdfVersion=function(k){d=k};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return v};var m=f.__private__.getPageFormat=function(k){return v[k]};i=i||"a4";var x="compat",b="advanced",T=x;function R(){this.saveGraphicsState(),ue(new zt(at,0,0,-at,0,FA()*at).toString()+" cm"),this.setFontSize(this.getFontSize()/at),l="n",T=b}function P(){this.restoreGraphicsState(),l="S",T=x}var B=f.__private__.combineFontStyleAndFontWeight=function(k,K){if(k=="bold"&&K=="normal"||k=="bold"&&K==400||k=="normal"&&K=="italic"||k=="bold"&&K=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return K&&(k=K==400||K==="normal"?k==="italic"?"italic":"normal":K!=700&&K!=="bold"||k!=="normal"?(K==700?"bold":K)+""+k:"bold"),k};f.advancedAPI=function(k){var K=T===x;return K&&R.call(this),typeof k!="function"||(k(this),K&&P.call(this)),this},f.compatAPI=function(k){var K=T===b;return K&&P.call(this),typeof k!="function"||(k(this),K&&R.call(this)),this},f.isAdvancedAPI=function(){return T===b};var E,_=function(k){if(T!==b)throw new Error(k+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},I=f.roundToPrecision=f.__private__.roundToPrecision=function(k,K){var ge=e||K;if(isNaN(k)||isNaN(ge))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return k.toFixed(ge).replace(/0+$/,"")};E=f.hpf=f.__private__.hpf=typeof A=="number"?function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return I(k,A)}:A==="smart"?function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return I(k,k>-1&&k<1?16:5)}:function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return I(k,16)};var S=f.f2=f.__private__.f2=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.f2");return I(k,2)},F=f.__private__.f3=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.f3");return I(k,3)},N=f.scale=f.__private__.scale=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.scale");return T===x?k*at:T===b?k:void 0},G=function(k){return N(function(K){return T===x?FA()-K:T===b?K:void 0}(k))};f.__private__.setPrecision=f.setPrecision=function(k){typeof parseInt(k,10)=="number"&&(e=parseInt(k,10))};var le,ie="00000000000000000000000000000000",te=f.__private__.getFileId=function(){return ie},J=f.__private__.setFileId=function(k){return ie=k!==void 0&&/^[a-fA-F0-9]{32}$/.test(k)?k.toUpperCase():ie.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(sn=new Bm(c.userPermissions,c.userPassword,c.ownerPassword,ie)),ie};f.setFileId=function(k){return J(k),this},f.getFileId=function(){return te()};var W=f.__private__.convertDateToPDFDate=function(k){var K=k.getTimezoneOffset(),ge=K<0?"+":"-",Ee=Math.floor(Math.abs(K/60)),Ie=Math.abs(K%60),ze=[ge,H(Ee),"'",H(Ie),"'"].join("");return["D:",k.getFullYear(),H(k.getMonth()+1),H(k.getDate()),H(k.getHours()),H(k.getMinutes()),H(k.getSeconds()),ze].join("")},be=f.__private__.convertPDFDateToDate=function(k){var K=parseInt(k.substr(2,4),10),ge=parseInt(k.substr(6,2),10)-1,Ee=parseInt(k.substr(8,2),10),Ie=parseInt(k.substr(10,2),10),ze=parseInt(k.substr(12,2),10),Je=parseInt(k.substr(14,2),10);return new Date(K,ge,Ee,Ie,ze,Je,0)},xe=f.__private__.setCreationDate=function(k){var K;if(k===void 0&&(k=new Date),k instanceof Date)K=W(k);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(k))throw new Error("Invalid argument passed to jsPDF.setCreationDate");K=k}return le=K},L=f.__private__.getCreationDate=function(k){var K=le;return k==="jsDate"&&(K=be(le)),K};f.setCreationDate=function(k){return xe(k),this},f.getCreationDate=function(k){return L(k)};var O,H=f.__private__.padd2=function(k){return("0"+parseInt(k)).slice(-2)},Q=f.__private__.padd2Hex=function(k){return("00"+(k=k.toString())).substr(k.length)},Y=0,oe=[],de=[],fe=0,_e=[],Se=[],ne=!1,$e=de;f.__private__.setCustomOutputDestination=function(k){ne=!0,$e=k};var Be=function(k){ne||($e=k)};f.__private__.resetCustomOutputDestination=function(){ne=!1,$e=de};var ue=f.__private__.out=function(k){return k=k.toString(),fe+=k.length+1,$e.push(k),$e},Xe=f.__private__.write=function(k){return ue(arguments.length===1?k.toString():Array.prototype.join.call(arguments," "))},je=f.__private__.getArrayBuffer=function(k){for(var K=k.length,ge=new ArrayBuffer(K),Ee=new Uint8Array(ge);K--;)Ee[K]=k.charCodeAt(K);return ge},qe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return qe};var Ve=r.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(k){return Ve=T===b?k/at:k,this};var ht,nt=f.__private__.getFontSize=f.getFontSize=function(){return T===x?Ve:Ve*at},Nt=r.R2L||!1;f.__private__.setR2L=f.setR2L=function(k){return Nt=k,this},f.__private__.getR2L=f.getR2L=function(){return Nt};var gt,Bt=f.__private__.setZoomMode=function(k){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(k))ht=k;else if(isNaN(k)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(k)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+k+'" is not recognized.');ht=k}else ht=parseInt(k,10)};f.__private__.getZoomMode=function(){return ht};var Et,At=f.__private__.setPageMode=function(k){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(k)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+k+'" is not recognized.');gt=k};f.__private__.getPageMode=function(){return gt};var Ft=f.__private__.setLayoutMode=function(k){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(k)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+k+'" is not recognized.');Et=k};f.__private__.getLayoutMode=function(){return Et},f.__private__.setDisplayMode=f.setDisplayMode=function(k,K,ge){return Bt(k),Ft(K),At(ge),this};var mt={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(k){if(Object.keys(mt).indexOf(k)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return mt[k]},f.__private__.getDocumentProperties=function(){return mt},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(k){for(var K in mt)mt.hasOwnProperty(K)&&k[K]&&(mt[K]=k[K]);return this},f.__private__.setDocumentProperty=function(k,K){if(Object.keys(mt).indexOf(k)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return mt[k]=K};var vt,at,ct,jt,Mt,wt={},Jt={},Jr=[],Wt={},fr={},Zt={},wn={},yn=null,jr=0,Gt=[],xr=new a7(f),BA=r.hotfixes||[],Yn={},Ao={},fs=[],zt=function k(K,ge,Ee,Ie,ze,Je){if(!(this instanceof k))return new k(K,ge,Ee,Ie,ze,Je);isNaN(K)&&(K=1),isNaN(ge)&&(ge=0),isNaN(Ee)&&(Ee=0),isNaN(Ie)&&(Ie=1),isNaN(ze)&&(ze=0),isNaN(Je)&&(Je=0),this._matrix=[K,ge,Ee,Ie,ze,Je]};Object.defineProperty(zt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(k){this._matrix[0]=k}}),Object.defineProperty(zt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(k){this._matrix[1]=k}}),Object.defineProperty(zt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(k){this._matrix[2]=k}}),Object.defineProperty(zt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(k){this._matrix[3]=k}}),Object.defineProperty(zt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(k){this._matrix[4]=k}}),Object.defineProperty(zt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(k){this._matrix[5]=k}}),Object.defineProperty(zt.prototype,"a",{get:function(){return this._matrix[0]},set:function(k){this._matrix[0]=k}}),Object.defineProperty(zt.prototype,"b",{get:function(){return this._matrix[1]},set:function(k){this._matrix[1]=k}}),Object.defineProperty(zt.prototype,"c",{get:function(){return this._matrix[2]},set:function(k){this._matrix[2]=k}}),Object.defineProperty(zt.prototype,"d",{get:function(){return this._matrix[3]},set:function(k){this._matrix[3]=k}}),Object.defineProperty(zt.prototype,"e",{get:function(){return this._matrix[4]},set:function(k){this._matrix[4]=k}}),Object.defineProperty(zt.prototype,"f",{get:function(){return this._matrix[5]},set:function(k){this._matrix[5]=k}}),Object.defineProperty(zt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(zt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(zt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(zt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),zt.prototype.join=function(k){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(E).join(k)},zt.prototype.multiply=function(k){var K=k.sx*this.sx+k.shy*this.shx,ge=k.sx*this.shy+k.shy*this.sy,Ee=k.shx*this.sx+k.sy*this.shx,Ie=k.shx*this.shy+k.sy*this.sy,ze=k.tx*this.sx+k.ty*this.shx+this.tx,Je=k.tx*this.shy+k.ty*this.sy+this.ty;return new zt(K,ge,Ee,Ie,ze,Je)},zt.prototype.decompose=function(){var k=this.sx,K=this.shy,ge=this.shx,Ee=this.sy,Ie=this.tx,ze=this.ty,Je=Math.sqrt(k*k+K*K),Ct=(k/=Je)*ge+(K/=Je)*Ee;ge-=k*Ct,Ee-=K*Ct;var Pt=Math.sqrt(ge*ge+Ee*Ee);return Ct/=Pt,k*(Ee/=Pt)<K*(ge/=Pt)&&(k=-k,K=-K,Ct=-Ct,Je=-Je),{scale:new zt(Je,0,0,Pt,0,0),translate:new zt(1,0,0,1,Ie,ze),rotate:new zt(k,K,-K,k,0,0),skew:new zt(1,0,Ct,1,0,0)}},zt.prototype.toString=function(k){return this.join(" ")},zt.prototype.inversed=function(){var k=this.sx,K=this.shy,ge=this.shx,Ee=this.sy,Ie=this.tx,ze=this.ty,Je=1/(k*Ee-K*ge),Ct=Ee*Je,Pt=-K*Je,Xt=-ge*Je,rr=k*Je;return new zt(Ct,Pt,Xt,rr,-Ct*Ie-Xt*ze,-Pt*Ie-rr*ze)},zt.prototype.applyToPoint=function(k){var K=k.x*this.sx+k.y*this.shx+this.tx,ge=k.x*this.shy+k.y*this.sy+this.ty;return new Ac(K,ge)},zt.prototype.applyToRectangle=function(k){var K=this.applyToPoint(k),ge=this.applyToPoint(new Ac(k.x+k.w,k.y+k.h));return new Xh(K.x,K.y,ge.x-K.x,ge.y-K.y)},zt.prototype.clone=function(){var k=this.sx,K=this.shy,ge=this.shx,Ee=this.sy,Ie=this.tx,ze=this.ty;return new zt(k,K,ge,Ee,Ie,ze)},f.Matrix=zt;var xn=f.matrixMult=function(k,K){return K.multiply(k)},lo=new zt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=lo;var li=function(k,K){if(!fr[k]){var ge=(K instanceof Q0?"Sh":"P")+(Object.keys(Wt).length+1).toString(10);K.id=ge,fr[k]=ge,Wt[ge]=K,xr.publish("addPattern",K)}};f.ShadingPattern=Q0,f.TilingPattern=jm,f.addShadingPattern=function(k,K){return _("addShadingPattern()"),li(k,K),this},f.beginTilingPattern=function(k){_("beginTilingPattern()"),lc(k.boundingBox[0],k.boundingBox[1],k.boundingBox[2]-k.boundingBox[0],k.boundingBox[3]-k.boundingBox[1],k.matrix)},f.endTilingPattern=function(k,K){_("endTilingPattern()"),K.stream=Se[O].join(`
`),li(k,K),xr.publish("endTilingPattern",K),fs.pop().restore()};var Ui,Bn=f.__private__.newObject=function(){var k=ci();return q(k,!0),k},ci=f.__private__.newObjectDeferred=function(){return Y++,oe[Y]=function(){return fe},Y},q=function(k,K){return K=typeof K=="boolean"&&K,oe[k]=fe,K&&ue(k+" 0 obj"),k},me=f.__private__.newAdditionalObject=function(){var k={objId:ci(),content:""};return _e.push(k),k},Ae=ci(),he=ci(),pe=f.__private__.decodeColorString=function(k){var K=k.split(" ");if(K.length!==2||K[1]!=="g"&&K[1]!=="G")K.length!==5||K[4]!=="k"&&K[4]!=="K"||(K=[(1-K[0])*(1-K[3]),(1-K[1])*(1-K[3]),(1-K[2])*(1-K[3]),"r"]);else{var ge=parseFloat(K[0]);K=[ge,ge,ge,"r"]}for(var Ee="#",Ie=0;Ie<3;Ie++)Ee+=("0"+Math.floor(255*parseFloat(K[Ie])).toString(16)).slice(-2);return Ee},ye=f.__private__.encodeColorString=function(k){var K;typeof k=="string"&&(k={ch1:k});var ge=k.ch1,Ee=k.ch2,Ie=k.ch3,ze=k.ch4,Je=k.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ge=="string"&&ge.charAt(0)!=="#"){var Ct=new PY(ge);if(Ct.ok)ge=Ct.toHex();else if(!/^\d*\.?\d*$/.test(ge))throw new Error('Invalid color "'+ge+'" passed to jsPDF.encodeColorString.')}if(typeof ge=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ge)&&(ge="#"+ge[1]+ge[1]+ge[2]+ge[2]+ge[3]+ge[3]),typeof ge=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ge)){var Pt=parseInt(ge.substr(1),16);ge=Pt>>16&255,Ee=Pt>>8&255,Ie=255&Pt}if(Ee===void 0||ze===void 0&&ge===Ee&&Ee===Ie)K=typeof ge=="string"?ge+" "+Je[0]:k.precision===2?S(ge/255)+" "+Je[0]:F(ge/255)+" "+Je[0];else if(ze===void 0||hn(ze)==="object"){if(ze&&!isNaN(ze.a)&&ze.a===0)return["1.","1.","1.",Je[1]].join(" ");K=typeof ge=="string"?[ge,Ee,Ie,Je[1]].join(" "):k.precision===2?[S(ge/255),S(Ee/255),S(Ie/255),Je[1]].join(" "):[F(ge/255),F(Ee/255),F(Ie/255),Je[1]].join(" ")}else K=typeof ge=="string"?[ge,Ee,Ie,ze,Je[2]].join(" "):k.precision===2?[S(ge),S(Ee),S(Ie),S(ze),Je[2]].join(" "):[F(ge),F(Ee),F(Ie),F(ze),Je[2]].join(" ");return K},Pe=f.__private__.getFilters=function(){return a},He=f.__private__.putStream=function(k){var K=(k=k||{}).data||"",ge=k.filters||Pe(),Ee=k.alreadyAppliedFilters||[],Ie=k.addLength1||!1,ze=K.length,Je=k.objectId,Ct=function(ui){return ui};if(c!==null&&Je===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(Ct=sn.encryptor(Je,0));var Pt={};ge===!0&&(ge=["FlateEncode"]);var Xt=k.additionalKeyValues||[],rr=(Pt=Ht.API.processDataByFilters!==void 0?Ht.API.processDataByFilters(K,ge):{data:K,reverseChain:[]}).reverseChain+(Array.isArray(Ee)?Ee.join(" "):Ee.toString());if(Pt.data.length!==0&&(Xt.push({key:"Length",value:Pt.data.length}),Ie===!0&&Xt.push({key:"Length1",value:ze})),rr.length!=0)if(rr.split("/").length-1==1)Xt.push({key:"Filter",value:rr});else{Xt.push({key:"Filter",value:"["+rr+"]"});for(var Mr=0;Mr<Xt.length;Mr+=1)if(Xt[Mr].key==="DecodeParms"){for(var Zr=[],Zn=0;Zn<Pt.reverseChain.split("/").length-1;Zn+=1)Zr.push("null");Zr.push(Xt[Mr].value),Xt[Mr].value="["+Zr.join(" ")+"]"}}ue("<<");for(var an=0;an<Xt.length;an++)ue("/"+Xt[an].key+" "+Xt[an].value);ue(">>"),Pt.data.length!==0&&(ue("stream"),ue(Ct(Pt.data)),ue("endstream"))},Re=f.__private__.putPage=function(k){var K=k.number,ge=k.data,Ee=k.objId,Ie=k.contentsObjId;q(Ee,!0),ue("<</Type /Page"),ue("/Parent "+k.rootDictionaryObjId+" 0 R"),ue("/Resources "+k.resourceDictionaryObjId+" 0 R"),ue("/MediaBox ["+parseFloat(E(k.mediaBox.bottomLeftX))+" "+parseFloat(E(k.mediaBox.bottomLeftY))+" "+E(k.mediaBox.topRightX)+" "+E(k.mediaBox.topRightY)+"]"),k.cropBox!==null&&ue("/CropBox ["+E(k.cropBox.bottomLeftX)+" "+E(k.cropBox.bottomLeftY)+" "+E(k.cropBox.topRightX)+" "+E(k.cropBox.topRightY)+"]"),k.bleedBox!==null&&ue("/BleedBox ["+E(k.bleedBox.bottomLeftX)+" "+E(k.bleedBox.bottomLeftY)+" "+E(k.bleedBox.topRightX)+" "+E(k.bleedBox.topRightY)+"]"),k.trimBox!==null&&ue("/TrimBox ["+E(k.trimBox.bottomLeftX)+" "+E(k.trimBox.bottomLeftY)+" "+E(k.trimBox.topRightX)+" "+E(k.trimBox.topRightY)+"]"),k.artBox!==null&&ue("/ArtBox ["+E(k.artBox.bottomLeftX)+" "+E(k.artBox.bottomLeftY)+" "+E(k.artBox.topRightX)+" "+E(k.artBox.topRightY)+"]"),typeof k.userUnit=="number"&&k.userUnit!==1&&ue("/UserUnit "+k.userUnit),xr.publish("putPage",{objId:Ee,pageContext:Gt[K],pageNumber:K,page:ge}),ue("/Contents "+Ie+" 0 R"),ue(">>"),ue("endobj");var ze=ge.join(`
`);return T===b&&(ze+=`
Q`),q(Ie,!0),He({data:ze,filters:Pe(),objectId:Ie}),ue("endobj"),Ee},Ne=f.__private__.putPages=function(){var k,K,ge=[];for(k=1;k<=jr;k++)Gt[k].objId=ci(),Gt[k].contentsObjId=ci();for(k=1;k<=jr;k++)ge.push(Re({number:k,data:Se[k],objId:Gt[k].objId,contentsObjId:Gt[k].contentsObjId,mediaBox:Gt[k].mediaBox,cropBox:Gt[k].cropBox,bleedBox:Gt[k].bleedBox,trimBox:Gt[k].trimBox,artBox:Gt[k].artBox,userUnit:Gt[k].userUnit,rootDictionaryObjId:Ae,resourceDictionaryObjId:he}));q(Ae,!0),ue("<</Type /Pages");var Ee="/Kids [";for(K=0;K<jr;K++)Ee+=ge[K]+" 0 R ";ue(Ee+"]"),ue("/Count "+jr),ue(">>"),ue("endobj"),xr.publish("postPutPages")},Me=function(k){xr.publish("putFont",{font:k,out:ue,newObject:Bn,putStream:He}),k.isAlreadyPutted!==!0&&(k.objectNumber=Bn(),ue("<<"),ue("/Type /Font"),ue("/BaseFont /"+Sm(k.postScriptName)),ue("/Subtype /Type1"),typeof k.encoding=="string"&&ue("/Encoding /"+k.encoding),ue("/FirstChar 32"),ue("/LastChar 255"),ue(">>"),ue("endobj"))},et=function(k){k.objectNumber=Bn();var K=[];K.push({key:"Type",value:"/XObject"}),K.push({key:"Subtype",value:"/Form"}),K.push({key:"BBox",value:"["+[E(k.x),E(k.y),E(k.x+k.width),E(k.y+k.height)].join(" ")+"]"}),K.push({key:"Matrix",value:"["+k.matrix.toString()+"]"});var ge=k.pages[1].join(`
`);He({data:ge,additionalKeyValues:K,objectId:k.objectNumber}),ue("endobj")},lt=function(k,K){K||(K=21);var ge=Bn(),Ee=function(Je,Ct){var Pt,Xt=[],rr=1/(Ct-1);for(Pt=0;Pt<1;Pt+=rr)Xt.push(Pt);if(Xt.push(1),Je[0].offset!=0){var Mr={offset:0,color:Je[0].color};Je.unshift(Mr)}if(Je[Je.length-1].offset!=1){var Zr={offset:1,color:Je[Je.length-1].color};Je.push(Zr)}for(var Zn="",an=0,ui=0;ui<Xt.length;ui++){for(Pt=Xt[ui];Pt>Je[an+1].offset;)an++;var ei=Je[an].offset,hi=(Pt-ei)/(Je[an+1].offset-ei),Sn=Je[an].color,Fs=Je[an+1].color;Zn+=Q(Math.round((1-hi)*Sn[0]+hi*Fs[0]).toString(16))+Q(Math.round((1-hi)*Sn[1]+hi*Fs[1]).toString(16))+Q(Math.round((1-hi)*Sn[2]+hi*Fs[2]).toString(16))}return Zn.trim()}(k.colors,K),Ie=[];Ie.push({key:"FunctionType",value:"0"}),Ie.push({key:"Domain",value:"[0.0 1.0]"}),Ie.push({key:"Size",value:"["+K+"]"}),Ie.push({key:"BitsPerSample",value:"8"}),Ie.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ie.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),He({data:Ee,additionalKeyValues:Ie,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ge}),ue("endobj"),k.objectNumber=Bn(),ue("<< /ShadingType "+k.type),ue("/ColorSpace /DeviceRGB");var ze="/Coords ["+E(parseFloat(k.coords[0]))+" "+E(parseFloat(k.coords[1]))+" ";k.type===2?ze+=E(parseFloat(k.coords[2]))+" "+E(parseFloat(k.coords[3])):ze+=E(parseFloat(k.coords[2]))+" "+E(parseFloat(k.coords[3]))+" "+E(parseFloat(k.coords[4]))+" "+E(parseFloat(k.coords[5])),ue(ze+="]"),k.matrix&&ue("/Matrix ["+k.matrix.toString()+"]"),ue("/Function "+ge+" 0 R"),ue("/Extend [true true]"),ue(">>"),ue("endobj")},dt=function(k,K){var ge=ci(),Ee=Bn();K.push({resourcesOid:ge,objectOid:Ee}),k.objectNumber=Ee;var Ie=[];Ie.push({key:"Type",value:"/Pattern"}),Ie.push({key:"PatternType",value:"1"}),Ie.push({key:"PaintType",value:"1"}),Ie.push({key:"TilingType",value:"1"}),Ie.push({key:"BBox",value:"["+k.boundingBox.map(E).join(" ")+"]"}),Ie.push({key:"XStep",value:E(k.xStep)}),Ie.push({key:"YStep",value:E(k.yStep)}),Ie.push({key:"Resources",value:ge+" 0 R"}),k.matrix&&Ie.push({key:"Matrix",value:"["+k.matrix.toString()+"]"}),He({data:k.stream,additionalKeyValues:Ie,objectId:k.objectNumber}),ue("endobj")},it=function(k){for(var K in k.objectNumber=Bn(),ue("<<"),k)switch(K){case"opacity":ue("/ca "+S(k[K]));break;case"stroke-opacity":ue("/CA "+S(k[K]))}ue(">>"),ue("endobj")},ut=function(k){q(k.resourcesOid,!0),ue("<<"),ue("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var K in ue("/Font <<"),wt)wt.hasOwnProperty(K)&&(u===!1||u===!0&&h.hasOwnProperty(K))&&ue("/"+K+" "+wt[K].objectNumber+" 0 R");ue(">>")}(),function(){if(Object.keys(Wt).length>0){for(var K in ue("/Shading <<"),Wt)Wt.hasOwnProperty(K)&&Wt[K]instanceof Q0&&Wt[K].objectNumber>=0&&ue("/"+K+" "+Wt[K].objectNumber+" 0 R");xr.publish("putShadingPatternDict"),ue(">>")}}(),function(K){if(Object.keys(Wt).length>0){for(var ge in ue("/Pattern <<"),Wt)Wt.hasOwnProperty(ge)&&Wt[ge]instanceof f.TilingPattern&&Wt[ge].objectNumber>=0&&Wt[ge].objectNumber<K&&ue("/"+ge+" "+Wt[ge].objectNumber+" 0 R");xr.publish("putTilingPatternDict"),ue(">>")}}(k.objectOid),function(){if(Object.keys(Zt).length>0){var K;for(K in ue("/ExtGState <<"),Zt)Zt.hasOwnProperty(K)&&Zt[K].objectNumber>=0&&ue("/"+K+" "+Zt[K].objectNumber+" 0 R");xr.publish("putGStateDict"),ue(">>")}}(),function(){for(var K in ue("/XObject <<"),Yn)Yn.hasOwnProperty(K)&&Yn[K].objectNumber>=0&&ue("/"+K+" "+Yn[K].objectNumber+" 0 R");xr.publish("putXobjectDict"),ue(">>")}(),ue(">>"),ue("endobj")},qt=function(k){Jt[k.fontName]=Jt[k.fontName]||{},Jt[k.fontName][k.fontStyle]=k.id},$r=function(k,K,ge,Ee,Ie){var ze={id:"F"+(Object.keys(wt).length+1).toString(10),postScriptName:k,fontName:K,fontStyle:ge,encoding:Ee,isStandardFont:Ie||!1,metadata:{}};return xr.publish("addFont",{font:ze,instance:this}),wt[ze.id]=ze,qt(ze),ze.id},dr=f.__private__.pdfEscape=f.pdfEscape=function(k,K){return function(ge,Ee){var Ie,ze,Je,Ct,Pt,Xt,rr,Mr,Zr;if(Je=(Ee=Ee||{}).sourceEncoding||"Unicode",Pt=Ee.outputEncoding,(Ee.autoencode||Pt)&&wt[vt].metadata&&wt[vt].metadata[Je]&&wt[vt].metadata[Je].encoding&&(Ct=wt[vt].metadata[Je].encoding,!Pt&&wt[vt].encoding&&(Pt=wt[vt].encoding),!Pt&&Ct.codePages&&(Pt=Ct.codePages[0]),typeof Pt=="string"&&(Pt=Ct[Pt]),Pt)){for(rr=!1,Xt=[],Ie=0,ze=ge.length;Ie<ze;Ie++)(Mr=Pt[ge.charCodeAt(Ie)])?Xt.push(String.fromCharCode(Mr)):Xt.push(ge[Ie]),Xt[Ie].charCodeAt(0)>>8&&(rr=!0);ge=Xt.join("")}for(Ie=ge.length;rr===void 0&&Ie!==0;)ge.charCodeAt(Ie-1)>>8&&(rr=!0),Ie--;if(!rr)return ge;for(Xt=Ee.noBOM?[]:[254,255],Ie=0,ze=ge.length;Ie<ze;Ie++){if((Zr=(Mr=ge.charCodeAt(Ie))>>8)>>8)throw new Error("Character at position "+Ie+" of string '"+ge+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Xt.push(Zr),Xt.push(Mr-(Zr<<8))}return String.fromCharCode.apply(void 0,Xt)}(k,K).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},tn=f.__private__.beginPage=function(k){Se[++jr]=[],Gt[jr]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(k[0]),topRightY:Number(k[1])}},Uo(jr),Be(Se[O])},co=function(k,K){var ge,Ee,Ie;switch(t=K||t,typeof k=="string"&&(ge=m(k.toLowerCase()),Array.isArray(ge)&&(Ee=ge[0],Ie=ge[1])),Array.isArray(k)&&(Ee=k[0]*at,Ie=k[1]*at),isNaN(Ee)&&(Ee=i[0],Ie=i[1]),(Ee>14400||Ie>14400)&&(En.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ee=Math.min(14400,Ee),Ie=Math.min(14400,Ie)),i=[Ee,Ie],t.substr(0,1)){case"l":Ie>Ee&&(i=[Ie,Ee]);break;case"p":Ee>Ie&&(i=[Ie,Ee])}tn(i),oc(Gh),ue(ul),pn!==0&&ue(pn+" J"),d0!==0&&ue(d0+" j"),xr.publish("addPage",{pageNumber:jr})},Do=function(k){k>0&&k<=jr&&(Se.splice(k,1),Gt.splice(k,1),jr--,O>jr&&(O=jr),this.setPage(O))},Uo=function(k){k>0&&k<=jr&&(O=k)},Da=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Se.length-1},Al=function(k,K,ge){var Ee,Ie=void 0;return ge=ge||{},k=k!==void 0?k:wt[vt].fontName,K=K!==void 0?K:wt[vt].fontStyle,Ee=k.toLowerCase(),Jt[Ee]!==void 0&&Jt[Ee][K]!==void 0?Ie=Jt[Ee][K]:Jt[k]!==void 0&&Jt[k][K]!==void 0?Ie=Jt[k][K]:ge.disableWarning===!1&&En.warn("Unable to look up font label for font '"+k+"', '"+K+"'. Refer to getFontList() for available fonts."),Ie||ge.noFallback||(Ie=Jt.times[K])==null&&(Ie=Jt.times.normal),Ie},Mi=f.__private__.putInfo=function(){var k=Bn(),K=function(Ee){return Ee};for(var ge in c!==null&&(K=sn.encryptor(k,0)),ue("<<"),ue("/Producer ("+dr(K("jsPDF "+Ht.version))+")"),mt)mt.hasOwnProperty(ge)&&mt[ge]&&ue("/"+ge.substr(0,1).toUpperCase()+ge.substr(1)+" ("+dr(K(mt[ge]))+")");ue("/CreationDate ("+dr(K(le))+")"),ue(">>"),ue("endobj")},l0=f.__private__.putCatalog=function(k){var K=(k=k||{}).rootDictionaryObjId||Ae;switch(Bn(),ue("<<"),ue("/Type /Catalog"),ue("/Pages "+K+" 0 R"),ht||(ht="fullwidth"),ht){case"fullwidth":ue("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ue("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ue("/OpenAction [3 0 R /Fit]");break;case"original":ue("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ge=""+ht;ge.substr(ge.length-1)==="%"&&(ht=parseInt(ht)/100),typeof ht=="number"&&ue("/OpenAction [3 0 R /XYZ null null "+S(ht)+"]")}switch(Et||(Et="continuous"),Et){case"continuous":ue("/PageLayout /OneColumn");break;case"single":ue("/PageLayout /SinglePage");break;case"two":case"twoleft":ue("/PageLayout /TwoColumnLeft");break;case"tworight":ue("/PageLayout /TwoColumnRight")}gt&&ue("/PageMode /"+gt),xr.publish("putCatalog"),ue(">>"),ue("endobj")},Jn=f.__private__.putTrailer=function(){ue("trailer"),ue("<<"),ue("/Size "+(Y+1)),ue("/Root "+Y+" 0 R"),ue("/Info "+(Y-1)+" 0 R"),c!==null&&ue("/Encrypt "+sn.oid+" 0 R"),ue("/ID [ <"+ie+"> <"+ie+"> ]"),ue(">>")},c0=f.__private__.putHeader=function(){ue("%PDF-"+d),ue("%")},Gg=f.__private__.putXRef=function(){var k="0000000000";ue("xref"),ue("0 "+(Y+1)),ue("0000000000 65535 f ");for(var K=1;K<=Y;K++)typeof oe[K]=="function"?ue((k+oe[K]()).slice(-10)+" 00000 n "):oe[K]!==void 0?ue((k+oe[K]).slice(-10)+" 00000 n "):ue("0000000000 00000 n ")},ll=f.__private__.buildDocument=function(){var k;Y=0,fe=0,de=[],oe=[],_e=[],Ae=ci(),he=ci(),Be(de),xr.publish("buildDocument"),c0(),Ne(),function(){xr.publish("putAdditionalObjects");for(var ge=0;ge<_e.length;ge++){var Ee=_e[ge];q(Ee.objId,!0),ue(Ee.content),ue("endobj")}xr.publish("postPutAdditionalObjects")}(),k=[],function(){for(var ge in wt)wt.hasOwnProperty(ge)&&(u===!1||u===!0&&h.hasOwnProperty(ge))&&Me(wt[ge])}(),function(){var ge;for(ge in Zt)Zt.hasOwnProperty(ge)&&it(Zt[ge])}(),function(){for(var ge in Yn)Yn.hasOwnProperty(ge)&&et(Yn[ge])}(),function(ge){var Ee;for(Ee in Wt)Wt.hasOwnProperty(Ee)&&(Wt[Ee]instanceof Q0?lt(Wt[Ee]):Wt[Ee]instanceof jm&&dt(Wt[Ee],ge))}(k),xr.publish("putResources"),k.forEach(ut),ut({resourcesOid:he,objectOid:Number.MAX_SAFE_INTEGER}),xr.publish("postPutResources"),c!==null&&(sn.oid=Bn(),ue("<<"),ue("/Filter /Standard"),ue("/V "+sn.v),ue("/R "+sn.r),ue("/U <"+sn.toHexString(sn.U)+">"),ue("/O <"+sn.toHexString(sn.O)+">"),ue("/P "+sn.P),ue(">>"),ue("endobj")),Mi(),l0();var K=fe;return Gg(),Jn(),ue("startxref"),ue(""+K),ue("%%EOF"),Be(Se[O]),de.join(`
`)},ic=f.__private__.getBlob=function(k){return new Blob([je(k)],{type:"application/pdf"})},uo=f.output=f.__private__.output=(Ui=function(k,K){switch(typeof(K=K||{})=="string"?K={filename:K}:K.filename=K.filename||"generated.pdf",k){case void 0:return ll();case"save":f.save(K.filename);break;case"arraybuffer":return je(ll());case"blob":return ic(ll());case"bloburi":case"bloburl":if(nr.URL!==void 0&&typeof nr.URL.createObjectURL=="function")return nr.URL&&nr.URL.createObjectURL(ic(ll()))||void 0;En.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ge="",Ee=ll();try{ge=n7(Ee)}catch{ge=n7(unescape(encodeURIComponent(Ee)))}return"data:application/pdf;filename="+K.filename+";base64,"+ge;case"pdfobjectnewwindow":if(Object.prototype.toString.call(nr)==="[object Window]"){var Ie="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ze=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';K.pdfObjectUrl&&(Ie=K.pdfObjectUrl,ze="");var Je='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ie+'"'+ze+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(K)+");<\/script></body></html>",Ct=nr.open();return Ct!==null&&Ct.document.write(Je),Ct}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(nr)==="[object Window]"){var Pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(K.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+K.filename+'" width="500px" height="400px" /></body></html>',Xt=nr.open();if(Xt!==null){Xt.document.write(Pt);var rr=this;Xt.document.documentElement.querySelector("#pdfViewer").onload=function(){Xt.document.title=K.filename,Xt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(rr.output("bloburl"))}}return Xt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(nr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Mr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",K)+'"></iframe></body></html>',Zr=nr.open();if(Zr!==null&&(Zr.document.write(Mr),Zr.document.title=K.filename),Zr||typeof safari>"u")return Zr;break;case"datauri":case"dataurl":return nr.document.location.href=this.output("datauristring",K);default:return null}},Ui.foo=function(){try{return Ui.apply(this,arguments)}catch(ge){var k=ge.stack||"";~k.indexOf(" at ")&&(k=k.split(" at ")[1]);var K="Error in function "+k.split(`
`)[0].split("<")[0]+": "+ge.message;if(!nr.console)throw new Error(K);nr.console.error(K,ge),nr.alert&&alert(K)}},Ui.foo.bar=Ui,Ui.foo),cu=function(k){return Array.isArray(BA)===!0&&BA.indexOf(k)>-1};switch(n){case"pt":at=1;break;case"mm":at=72/25.4;break;case"cm":at=72/2.54;break;case"in":at=72;break;case"px":at=cu("px_scaling")==1?.75:96/72;break;case"pc":case"em":at=12;break;case"ex":at=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);at=n}var sn=null;xe(),J();var Ua=f.__private__.getPageInfo=f.getPageInfo=function(k){if(isNaN(k)||k%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Gt[k].objId,pageNumber:k,pageContext:Gt[k]}},zh=f.__private__.getPageInfoByObjId=function(k){if(isNaN(k)||k%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var K in Gt)if(Gt[K].objId===k)break;return Ua(K)},Wh=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Gt[O].objId,pageNumber:O,pageContext:Gt[O]}};f.addPage=function(){return co.apply(this,arguments),this},f.setPage=function(){return Uo.apply(this,arguments),Be.call(this,Se[O]),this},f.insertPage=function(k){return this.addPage(),this.movePage(O,k),this},f.movePage=function(k,K){var ge,Ee;if(k>K){ge=Se[k],Ee=Gt[k];for(var Ie=k;Ie>K;Ie--)Se[Ie]=Se[Ie-1],Gt[Ie]=Gt[Ie-1];Se[K]=ge,Gt[K]=Ee,this.setPage(K)}else if(k<K){ge=Se[k],Ee=Gt[k];for(var ze=k;ze<K;ze++)Se[ze]=Se[ze+1],Gt[ze]=Gt[ze+1];Se[K]=ge,Gt[K]=Ee,this.setPage(K)}return this},f.deletePage=function(){return Do.apply(this,arguments),this},f.__private__.text=f.text=function(k,K,ge,Ee,Ie){var ze,Je,Ct,Pt,Xt,rr,Mr,Zr,Zn,an=(Ee=Ee||{}).scope||this;if(typeof k=="number"&&typeof K=="number"&&(typeof ge=="string"||Array.isArray(ge))){var ui=ge;ge=K,K=k,k=ui}if(arguments[3]instanceof zt==0?(Ct=arguments[4],Pt=arguments[5],hn(Mr=arguments[3])==="object"&&Mr!==null||(typeof Ct=="string"&&(Pt=Ct,Ct=null),typeof Mr=="string"&&(Pt=Mr,Mr=null),typeof Mr=="number"&&(Ct=Mr,Mr=null),Ee={flags:Mr,angle:Ct,align:Pt})):(_("The transform parameter of text() with a Matrix value"),Zn=Ie),isNaN(K)||isNaN(ge)||k==null)throw new Error("Invalid arguments passed to jsPDF.text");if(k.length===0)return an;var ei,hi="",Sn=typeof Ee.lineHeightFactor=="number"?Ee.lineHeightFactor:ac,Fs=an.internal.scaleFactor;function v0(rn){return rn=rn.split("	").join(Array(Ee.TabLen||9).join(" ")),dr(rn,Mr)}function Oo(rn){for(var _n,_i=rn.concat(),Xi=[],mu=_i.length;mu--;)typeof(_n=_i.shift())=="string"?Xi.push(_n):Array.isArray(rn)&&(_n.length===1||_n[1]===void 0&&_n[2]===void 0)?Xi.push(_n[0]):Xi.push([_n[0],_n[1],_n[2]]);return Xi}function y(rn,_n){var _i;if(typeof rn=="string")_i=_n(rn)[0];else if(Array.isArray(rn)){for(var Xi,mu,pw=rn.concat(),Yg=[],_b=pw.length;_b--;)typeof(Xi=pw.shift())=="string"?Yg.push(_n(Xi)[0]):Array.isArray(Xi)&&typeof Xi[0]=="string"&&(mu=_n(Xi[0],Xi[1],Xi[2]),Yg.push([mu[0],mu[1],mu[2]]));_i=Yg}return _i}var U=!1,j=!0;if(typeof k=="string")U=!0;else if(Array.isArray(k)){var ae=k.concat();Je=[];for(var ke,Qe=ae.length;Qe--;)(typeof(ke=ae.shift())!="string"||Array.isArray(ke)&&typeof ke[0]!="string")&&(j=!1);U=j}if(U===!1)throw new Error('Type of text must be string or Array. "'+k+'" is not recognized.');typeof k=="string"&&(k=k.match(/[\r?\n]/)?k.split(/\r\n|\r|\n/g):[k]);var ot=Ve/an.internal.scaleFactor,Pr=ot*(Sn-1);switch(Ee.baseline){case"bottom":ge-=Pr;break;case"top":ge+=ot-Pr;break;case"hanging":ge+=ot-2*Pr;break;case"middle":ge+=ot/2-Pr}if((rr=Ee.maxWidth||0)>0&&(typeof k=="string"?k=an.splitTextToSize(k,rr):Object.prototype.toString.call(k)==="[object Array]"&&(k=k.reduce(function(rn,_n){return rn.concat(an.splitTextToSize(_n,rr))},[]))),ze={text:k,x:K,y:ge,options:Ee,mutex:{pdfEscape:dr,activeFontKey:vt,fonts:wt,activeFontSize:Ve}},xr.publish("preProcessText",ze),k=ze.text,Ct=(Ee=ze.options).angle,Zn instanceof zt==0&&Ct&&typeof Ct=="number"){Ct*=Math.PI/180,Ee.rotationDirection===0&&(Ct=-Ct),T===b&&(Ct=-Ct);var ti=Math.cos(Ct),Er=Math.sin(Ct);Zn=new zt(ti,Er,-Er,ti,0,0)}else Ct&&Ct instanceof zt&&(Zn=Ct);T!==b||Zn||(Zn=lo),(Xt=Ee.charSpace||fu)!==void 0&&(hi+=E(N(Xt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Zr=Ee.horizontalScale)!==void 0&&(hi+=E(100*Zr)+` Tz
`),Ee.lang;var br=-1,Tn=Ee.renderingMode!==void 0?Ee.renderingMode:Ee.stroke,Qo=an.internal.getCurrentPageInfo().pageContext;switch(Tn){case 0:case!1:case"fill":br=0;break;case 1:case!0:case"stroke":br=1;break;case 2:case"fillThenStroke":br=2;break;case 3:case"invisible":br=3;break;case 4:case"fillAndAddForClipping":br=4;break;case 5:case"strokeAndAddPathForClipping":br=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":br=6;break;case 7:case"addToPathForClipping":br=7}var ea=Qo.usedRenderingMode!==void 0?Qo.usedRenderingMode:-1;br!==-1?hi+=br+` Tr
`:ea!==-1&&(hi+=`0 Tr
`),br!==-1&&(Qo.usedRenderingMode=br),Pt=Ee.align||"left";var Is,fl=Ve*Sn,Aw=an.internal.pageSize.getWidth(),lw=wt[vt];Xt=Ee.charSpace||fu,rr=Ee.maxWidth||0,Mr=Object.assign({autoencode:!0,noBOM:!0},Ee.flags);var Jh=[],w0=function(rn){return an.getStringUnitWidth(rn,{font:lw,charSpace:Xt,fontSize:Ve,doKerning:!1})*Ve/Fs};if(Object.prototype.toString.call(k)==="[object Array]"){var Ho;Je=Oo(k),Pt!=="left"&&(Is=Je.map(w0));var Vo,Zh=0;if(Pt==="right"){K-=Is[0],k=[],Qe=Je.length;for(var gu=0;gu<Qe;gu++)gu===0?(Vo=ds(K),Ho=cl(ge)):(Vo=N(Zh-Is[gu]),Ho=-fl),k.push([Je[gu],Vo,Ho]),Zh=Is[gu]}else if(Pt==="center"){K-=Is[0]/2,k=[],Qe=Je.length;for(var ef=0;ef<Qe;ef++)ef===0?(Vo=ds(K),Ho=cl(ge)):(Vo=N((Zh-Is[ef])/2),Ho=-fl),k.push([Je[ef],Vo,Ho]),Zh=Is[ef]}else if(Pt==="left"){k=[],Qe=Je.length;for(var cw=0;cw<Qe;cw++)k.push(Je[cw])}else if(Pt==="justify"&&lw.encoding==="Identity-H"){k=[],Qe=Je.length,rr=rr!==0?rr:Aw;for(var Xg=0,xi=0;xi<Qe;xi++)if(Ho=xi===0?cl(ge):-fl,Vo=xi===0?ds(K):Xg,xi<Qe-1){var xb=N((rr-Is[xi])/(Je[xi].split(" ").length-1)),uc=Je[xi].split(" ");k.push([uc[0]+" ",Vo,Ho]),Xg=0;for(var hc=1;hc<uc.length;hc++){var uw=(w0(uc[hc-1]+" "+uc[hc])-w0(uc[hc]))*Fs+xb;hc==uc.length-1?k.push([uc[hc],uw,0]):k.push([uc[hc]+" ",uw,0]),Xg-=uw}}else k.push([Je[xi],Vo,Ho]);k.push(["",Xg,0])}else{if(Pt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(k=[],Qe=Je.length,rr=rr!==0?rr:Aw,xi=0;xi<Qe;xi++){Ho=xi===0?cl(ge):-fl,Vo=xi===0?ds(K):0;var hw=Je[xi].split(" ").length-1,fw=hw>0?(rr-Is[xi])/hw:0;xi<Qe-1?Jh.push(E(N(fw))):Jh.push(0),k.push([Je[xi],Vo,Ho])}}}(typeof Ee.R2L=="boolean"?Ee.R2L:Nt)===!0&&(k=y(k,function(rn,_n,_i){return[rn.split("").reverse().join(""),_n,_i]})),ze={text:k,x:K,y:ge,options:Ee,mutex:{pdfEscape:dr,activeFontKey:vt,fonts:wt,activeFontSize:Ve}},xr.publish("postProcessText",ze),k=ze.text,ei=ze.mutex.isHex||!1;var dw=wt[vt].encoding;dw!=="WinAnsiEncoding"&&dw!=="StandardEncoding"||(k=y(k,function(rn,_n,_i){return[v0(rn),_n,_i]})),Je=Oo(k),k=[];for(var tf,rf,nf,y0=Array.isArray(Je[0])?1:0,sf="",x0=function(rn,_n,_i){var Xi="";return _i instanceof zt?(_i=typeof Ee.angle=="number"?xn(_i,new zt(1,0,0,1,rn,_n)):xn(new zt(1,0,0,1,rn,_n),_i),T===b&&(_i=xn(new zt(1,0,0,-1,0,0),_i)),Xi=_i.join(" ")+` Tm
`):Xi=E(rn)+" "+E(_n)+` Td
`,Xi},IA=0;IA<Je.length;IA++){switch(sf="",y0){case 1:nf=(ei?"<":"(")+Je[IA][0]+(ei?">":")"),tf=parseFloat(Je[IA][1]),rf=parseFloat(Je[IA][2]);break;case 0:nf=(ei?"<":"(")+Je[IA]+(ei?">":")"),tf=ds(K),rf=cl(ge)}Jh!==void 0&&Jh[IA]!==void 0&&(sf=Jh[IA]+` Tw
`),IA===0?k.push(sf+x0(tf,rf,Zn)+nf):y0===0?k.push(sf+nf):y0===1&&k.push(sf+x0(tf,rf,Zn)+nf)}k=y0===0?k.join(` Tj
T* `):k.join(` Tj
`),k+=` Tj
`;var fc=`BT
/`;return fc+=vt+" "+Ve+` Tf
`,fc+=E(Ve*Sn)+` TL
`,fc+=Mo+`
`,fc+=hi,fc+=k,ue(fc+="ET"),h[vt]=!0,an};var $g=f.__private__.clip=f.clip=function(k){return ue(k==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return $g("evenodd")},f.__private__.discardPath=f.discardPath=function(){return ue("n"),this};var Fr=f.__private__.isValidStyle=function(k){var K=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(k)!==-1&&(K=!0),K};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(k){return Fr(k)&&(l=k),this};var uu=f.__private__.getStyle=f.getStyle=function(k){var K=l;switch(k){case"D":case"S":K="S";break;case"F":K="f";break;case"FD":case"DF":K="B";break;case"f":case"f*":case"B":case"B*":K=k}return K},sc=f.close=function(){return ue("h"),this};f.stroke=function(){return ue("S"),this},f.fill=function(k){return ho("f",k),this},f.fillEvenOdd=function(k){return ho("f*",k),this},f.fillStroke=function(k){return ho("B",k),this},f.fillStrokeEvenOdd=function(k){return ho("B*",k),this};var ho=function(k,K){hn(K)==="object"?rw(K,k):ue(k)},u0=function(k){k===null||T===b&&k===void 0||(k=uu(k),ue(k))};function qg(k,K,ge,Ee,Ie){var ze=new jm(K||this.boundingBox,ge||this.xStep,Ee||this.yStep,this.gState,Ie||this.matrix);ze.stream=this.stream;var Je=k+"$$"+this.cloneIndex+++"$$";return li(Je,ze),ze}var rw=function(k,K){var ge=fr[k.key],Ee=Wt[ge];if(Ee instanceof Q0)ue("q"),ue(nw(K)),Ee.gState&&f.setGState(Ee.gState),ue(k.matrix.toString()+" cm"),ue("/"+ge+" sh"),ue("Q");else if(Ee instanceof jm){var Ie=new zt(1,0,0,-1,0,FA());k.matrix&&(Ie=Ie.multiply(k.matrix||lo),ge=qg.call(Ee,k.key,k.boundingBox,k.xStep,k.yStep,Ie).id),ue("q"),ue("/Pattern cs"),ue("/"+ge+" scn"),Ee.gState&&f.setGState(Ee.gState),ue(K),ue("Q")}},nw=function(k){switch(k){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},h0=f.moveTo=function(k,K){return ue(E(N(k))+" "+E(G(K))+" m"),this},hu=f.lineTo=function(k,K){return ue(E(N(k))+" "+E(G(K))+" l"),this},fo=f.curveTo=function(k,K,ge,Ee,Ie,ze){return ue([E(N(k)),E(G(K)),E(N(ge)),E(G(Ee)),E(N(Ie)),E(G(ze)),"c"].join(" ")),this};f.__private__.line=f.line=function(k,K,ge,Ee,Ie){if(isNaN(k)||isNaN(K)||isNaN(ge)||isNaN(Ee)||!Fr(Ie))throw new Error("Invalid arguments passed to jsPDF.line");return T===x?this.lines([[ge-k,Ee-K]],k,K,[1,1],Ie||"S"):this.lines([[ge-k,Ee-K]],k,K,[1,1]).stroke()},f.__private__.lines=f.lines=function(k,K,ge,Ee,Ie,ze){var Je,Ct,Pt,Xt,rr,Mr,Zr,Zn,an,ui,ei,hi;if(typeof k=="number"&&(hi=ge,ge=K,K=k,k=hi),Ee=Ee||[1,1],ze=ze||!1,isNaN(K)||isNaN(ge)||!Array.isArray(k)||!Array.isArray(Ee)||!Fr(Ie)||typeof ze!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(h0(K,ge),Je=Ee[0],Ct=Ee[1],Xt=k.length,ui=K,ei=ge,Pt=0;Pt<Xt;Pt++)(rr=k[Pt]).length===2?(ui=rr[0]*Je+ui,ei=rr[1]*Ct+ei,hu(ui,ei)):(Mr=rr[0]*Je+ui,Zr=rr[1]*Ct+ei,Zn=rr[2]*Je+ui,an=rr[3]*Ct+ei,ui=rr[4]*Je+ui,ei=rr[5]*Ct+ei,fo(Mr,Zr,Zn,an,ui,ei));return ze&&sc(),u0(Ie),this},f.path=function(k){for(var K=0;K<k.length;K++){var ge=k[K],Ee=ge.c;switch(ge.op){case"m":h0(Ee[0],Ee[1]);break;case"l":hu(Ee[0],Ee[1]);break;case"c":fo.apply(this,Ee);break;case"h":sc()}}return this},f.__private__.rect=f.rect=function(k,K,ge,Ee,Ie){if(isNaN(k)||isNaN(K)||isNaN(ge)||isNaN(Ee)||!Fr(Ie))throw new Error("Invalid arguments passed to jsPDF.rect");return T===x&&(Ee=-Ee),ue([E(N(k)),E(G(K)),E(N(ge)),E(N(Ee)),"re"].join(" ")),u0(Ie),this},f.__private__.triangle=f.triangle=function(k,K,ge,Ee,Ie,ze,Je){if(isNaN(k)||isNaN(K)||isNaN(ge)||isNaN(Ee)||isNaN(Ie)||isNaN(ze)||!Fr(Je))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ge-k,Ee-K],[Ie-ge,ze-Ee],[k-Ie,K-ze]],k,K,[1,1],Je,!0),this},f.__private__.roundedRect=f.roundedRect=function(k,K,ge,Ee,Ie,ze,Je){if(isNaN(k)||isNaN(K)||isNaN(ge)||isNaN(Ee)||isNaN(Ie)||isNaN(ze)||!Fr(Je))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ct=4/3*(Math.SQRT2-1);return Ie=Math.min(Ie,.5*ge),ze=Math.min(ze,.5*Ee),this.lines([[ge-2*Ie,0],[Ie*Ct,0,Ie,ze-ze*Ct,Ie,ze],[0,Ee-2*ze],[0,ze*Ct,-Ie*Ct,ze,-Ie,ze],[2*Ie-ge,0],[-Ie*Ct,0,-Ie,-ze*Ct,-Ie,-ze],[0,2*ze-Ee],[0,-ze*Ct,Ie*Ct,-ze,Ie,-ze]],k+Ie,K,[1,1],Je,!0),this},f.__private__.ellipse=f.ellipse=function(k,K,ge,Ee,Ie){if(isNaN(k)||isNaN(K)||isNaN(ge)||isNaN(Ee)||!Fr(Ie))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ze=4/3*(Math.SQRT2-1)*ge,Je=4/3*(Math.SQRT2-1)*Ee;return h0(k+ge,K),fo(k+ge,K-Je,k+ze,K-Ee,k,K-Ee),fo(k-ze,K-Ee,k-ge,K-Je,k-ge,K),fo(k-ge,K+Je,k-ze,K+Ee,k,K+Ee),fo(k+ze,K+Ee,k+ge,K+Je,k+ge,K),u0(Ie),this},f.__private__.circle=f.circle=function(k,K,ge,Ee){if(isNaN(k)||isNaN(K)||isNaN(ge)||!Fr(Ee))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(k,K,ge,ge,Ee)},f.setFont=function(k,K,ge){return ge&&(K=B(K,ge)),vt=Al(k,K,{disableWarning:!1}),this};var SA=f.__private__.getFont=f.getFont=function(){return wt[Al.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var k,K,ge={};for(k in Jt)if(Jt.hasOwnProperty(k))for(K in ge[k]=[],Jt[k])Jt[k].hasOwnProperty(K)&&ge[k].push(K);return ge},f.addFont=function(k,K,ge,Ee,Ie){var ze=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ze.indexOf(arguments[3])!==-1?Ie=arguments[3]:arguments[3]&&ze.indexOf(arguments[3])==-1&&(ge=B(ge,Ee)),$r.call(this,k,K,ge,Ie=Ie||"Identity-H")};var ac,Gh=r.lineWidth||.200025,er=f.__private__.getLineWidth=f.getLineWidth=function(){return Gh},oc=f.__private__.setLineWidth=f.setLineWidth=function(k){return Gh=k,ue(E(N(k))+" w"),this};f.__private__.setLineDash=Ht.API.setLineDash=Ht.API.setLineDashPattern=function(k,K){if(k=k||[],K=K||0,isNaN(K)||!Array.isArray(k))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return k=k.map(function(ge){return E(N(ge))}).join(" "),K=E(N(K)),ue("["+k+"] "+K+" d"),this};var iw=f.__private__.getLineHeight=f.getLineHeight=function(){return Ve*ac};f.__private__.getLineHeight=f.getLineHeight=function(){return Ve*ac};var sw=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(k){return typeof(k=k||1.15)=="number"&&(ac=k),this},aw=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return ac};sw(r.lineHeight);var ds=f.__private__.getHorizontalCoordinate=function(k){return N(k)},cl=f.__private__.getVerticalCoordinate=function(k){return T===b?k:Gt[O].mediaBox.topRightY-Gt[O].mediaBox.bottomLeftY-N(k)},ow=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(k){return E(ds(k))},$h=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(k){return E(cl(k))},ul=r.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return pe(ul)},f.__private__.setStrokeColor=f.setDrawColor=function(k,K,ge,Ee){return ul=ye({ch1:k,ch2:K,ch3:ge,ch4:Ee,pdfColorType:"draw",precision:2}),ue(ul),this};var qh=r.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return pe(qh)},f.__private__.setFillColor=f.setFillColor=function(k,K,ge,Ee){return qh=ye({ch1:k,ch2:K,ch3:ge,ch4:Ee,pdfColorType:"fill",precision:2}),ue(qh),this};var Mo=r.textColor||"0 g",TA=f.__private__.getTextColor=f.getTextColor=function(){return pe(Mo)};f.__private__.setTextColor=f.setTextColor=function(k,K,ge,Ee){return Mo=ye({ch1:k,ch2:K,ch3:ge,ch4:Ee,pdfColorType:"text",precision:3}),this};var fu=r.charSpace,f0=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(fu||0)};f.__private__.setCharSpace=f.setCharSpace=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return fu=k,this};var pn=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(k){var K=f.CapJoinStyles[k];if(K===void 0)throw new Error("Line cap style of '"+k+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return pn=K,ue(K+" J"),this};var d0=0;f.__private__.setLineJoin=f.setLineJoin=function(k){var K=f.CapJoinStyles[k];if(K===void 0)throw new Error("Line join style of '"+k+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return d0=K,ue(K+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(k){if(k=k||0,isNaN(k))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ue(E(N(k))+" M"),this},f.GState=e5,f.setGState=function(k){(k=typeof k=="string"?Zt[wn[k]]:du(null,k)).equals(yn)||(ue("/"+k.id+" gs"),yn=k)};var du=function(k,K){if(!k||!wn[k]){var ge=!1;for(var Ee in Zt)if(Zt.hasOwnProperty(Ee)&&Zt[Ee].equals(K)){ge=!0;break}if(ge)K=Zt[Ee];else{var Ie="GS"+(Object.keys(Zt).length+1).toString(10);Zt[Ie]=K,K.id=Ie}return k&&(wn[k]=K.id),xr.publish("addGState",K),K}};f.addGState=function(k,K){return du(k,K),this},f.saveGraphicsState=function(){return ue("q"),Jr.push({key:vt,size:Ve,color:Mo}),this},f.restoreGraphicsState=function(){ue("Q");var k=Jr.pop();return vt=k.key,Ve=k.size,Mo=k.color,yn=null,this},f.setCurrentTransformationMatrix=function(k){return ue(k.toString()+" cm"),this},f.comment=function(k){return ue("#"+k),this};var Ac=function(k,K){var ge=k||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ge},set:function(ze){isNaN(ze)||(ge=parseFloat(ze))}});var Ee=K||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ee},set:function(ze){isNaN(ze)||(Ee=parseFloat(ze))}});var Ie="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ie},set:function(ze){Ie=ze.toString()}}),this},Xh=function(k,K,ge,Ee){Ac.call(this,k,K),this.type="rect";var Ie=ge||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ie},set:function(Je){isNaN(Je)||(Ie=parseFloat(Je))}});var ze=Ee||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ze},set:function(Je){isNaN(Je)||(ze=parseFloat(Je))}}),this},pu=function(){this.page=jr,this.currentPage=O,this.pages=Se.slice(0),this.pagesContext=Gt.slice(0),this.x=ct,this.y=jt,this.matrix=Mt,this.width=po(O),this.height=hl(O),this.outputDestination=$e,this.id="",this.objectNumber=-1};pu.prototype.restore=function(){jr=this.page,O=this.currentPage,Gt=this.pagesContext,Se=this.pages,ct=this.x,jt=this.y,Mt=this.matrix,p0(O,this.width),Ma(O,this.height),$e=this.outputDestination};var lc=function(k,K,ge,Ee,Ie){fs.push(new pu),jr=O=0,Se=[],ct=k,jt=K,Mt=Ie,tn([ge,Ee])};for(var cc in f.beginFormObject=function(k,K,ge,Ee,Ie){return lc(k,K,ge,Ee,Ie),this},f.endFormObject=function(k){return function(K){if(Ao[K])fs.pop().restore();else{var ge=new pu,Ee="Xo"+(Object.keys(Yn).length+1).toString(10);ge.id=Ee,Ao[K]=Ee,Yn[Ee]=ge,xr.publish("addFormObject",ge),fs.pop().restore()}}(k),this},f.doFormObject=function(k,K){var ge=Yn[Ao[k]];return ue("q"),ue(K.toString()+" cm"),ue("/"+ge.id+" Do"),ue("Q"),this},f.getFormObject=function(k){var K=Yn[Ao[k]];return{x:K.x,y:K.y,width:K.width,height:K.height,matrix:K.matrix}},f.save=function(k,K){return k=k||"generated.pdf",(K=K||{}).returnPromise=K.returnPromise||!1,K.returnPromise===!1?(U0(ic(ll()),k),typeof U0.unload=="function"&&nr.setTimeout&&setTimeout(U0.unload,911),this):new Promise(function(ge,Ee){try{var Ie=U0(ic(ll()),k);typeof U0.unload=="function"&&nr.setTimeout&&setTimeout(U0.unload,911),ge(Ie)}catch(ze){Ee(ze.message)}})},Ht.API)Ht.API.hasOwnProperty(cc)&&(cc==="events"&&Ht.API.events.length?function(k,K){var ge,Ee,Ie;for(Ie=K.length-1;Ie!==-1;Ie--)ge=K[Ie][0],Ee=K[Ie][1],k.subscribe.apply(k,[ge].concat(typeof Ee=="function"?[Ee]:Ee))}(xr,Ht.API.events):f[cc]=Ht.API[cc]);function po(k){return Gt[k].mediaBox.topRightX-Gt[k].mediaBox.bottomLeftX}function p0(k,K){Gt[k].mediaBox.topRightX=K+Gt[k].mediaBox.bottomLeftX}function hl(k){return Gt[k].mediaBox.topRightY-Gt[k].mediaBox.bottomLeftY}function Ma(k,K){Gt[k].mediaBox.topRightY=K+Gt[k].mediaBox.bottomLeftY}var g0=f.getPageWidth=function(k){return po(k=k||O)/at},Yh=f.setPageWidth=function(k,K){p0(k,K*at)},FA=f.getPageHeight=function(k){return hl(k=k||O)/at},m0=f.setPageHeight=function(k,K){Ma(k,K*at)};return f.internal={pdfEscape:dr,getStyle:uu,getFont:SA,getFontSize:nt,getCharSpace:f0,getTextColor:TA,getLineHeight:iw,getLineHeightFactor:aw,getLineWidth:er,write:Xe,getHorizontalCoordinate:ds,getVerticalCoordinate:cl,getCoordinateString:ow,getVerticalCoordinateString:$h,collections:{},newObject:Bn,newAdditionalObject:me,newObjectDeferred:ci,newObjectDeferredBegin:q,getFilters:Pe,putStream:He,events:xr,scaleFactor:at,pageSize:{getWidth:function(){return g0(O)},setWidth:function(k){Yh(O,k)},getHeight:function(){return FA(O)},setHeight:function(k){m0(O,k)}},encryptionOptions:c,encryption:sn,getEncryptor:function(k){return c!==null?sn.encryptor(k,0):function(K){return K}},output:uo,getNumberOfPages:Da,pages:Se,out:ue,f2:S,f3:F,getPageInfo:Ua,getPageInfoByObjId:zh,getCurrentPageInfo:Wh,getPDFVersion:p,Point:Ac,Rectangle:Xh,Matrix:zt,hasHotfix:cu},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return g0(O)},set:function(k){Yh(O,k)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return FA(O)},set:function(k){m0(O,k)},enumerable:!0,configurable:!0}),(function(k){for(var K=0,ge=qe.length;K<ge;K++){var Ee=$r.call(this,k[K][0],k[K][1],k[K][2],qe[K][3],!0);u===!1&&(h[Ee]=!0);var Ie=k[K][0].split("-");qt({id:Ee,fontName:Ie[0],fontStyle:Ie[1]||""})}xr.publish("addFonts",{fonts:wt,dictionary:Jt})}).call(f,qe),vt="F1",co(i,t),xr.publish("initialized"),f}Bm.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},Bm.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Bm.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},Bm.prototype.processOwnerPassword=function(r,e){return YL(XL(e).substr(0,5),r)},Bm.prototype.encryptor=function(r,e){var t=XL(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return YL(t,n)}},e5.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||hn(r)!==hn(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;n++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},Ht.API={events:[]},Ht.version="3.0.3";var gi=Ht.API,tD=1,Wg=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},cm=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},or=function(r){return r.toFixed(2)},gf=function(r){return r.toFixed(5)};gi.__acroform__={};var No=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},o7=function(r){return r*tD},bc=function(r){var e=new UY,t=Lt.internal.getHeight(r)||0,n=Lt.internal.getWidth(r)||0;return e.BBox=[0,0,Number(or(n)),Number(or(t))],e},zTe=gi.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<e},WTe=gi.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<e)},GTe=gi.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},Li=gi.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return GTe(r,e-1)},Pi=gi.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return zTe(r,e-1)},Ri=gi.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return WTe(r,e-1)},$Te=gi.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=r[0],s=r[1],a=r[2],o=r[3],A={};return A.lowerLeft_X=t(i)||0,A.lowerLeft_Y=n(s+o)||0,A.upperRight_X=t(i+a)||0,A.upperRight_Y=n(s)||0,[Number(or(A.lowerLeft_X)),Number(or(A.lowerLeft_Y)),Number(or(A.upperRight_X)),Number(or(A.upperRight_Y))]},qTe=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,n=JL(r,t),i=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+i+" "+or(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=bc(r);return s.scope=r.scope,s.stream=e.join(`
`),s}},JL=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=r.multiline?i.map(function(S){return S.split(`
`)}):i.map(function(S){return[S]});var s=t,a=Lt.internal.getHeight(r)||0;a=a<0?-a:a;var o=Lt.internal.getWidth(r)||0;o=o<0?-o:o;var A=function(S,F,N){if(S+1<i.length){var G=F+" "+i[S+1][0];return AC(G,r,N).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var l,c,u=AC("3",r,s).height,h=r.multiline?a-s:(a-u)/2,f=h+=2,d=0,p=0,v=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+AC(e,r,s=12).width+", FieldWidth:"+o+`
`;break}for(var m="",x=0,b=0;b<i.length;b++)if(i.hasOwnProperty(b)){var T=!1;if(i[b].length!==1&&v!==i[b].length-1){if((u+2)*(x+2)+2>a)continue e;m+=i[b][v],T=!0,p=b,b--}else{m=(m+=i[b][v]+" ").substr(m.length-1)==" "?m.substr(0,m.length-1):m;var R=parseInt(b),P=A(R,m,s),B=b>=i.length-1;if(P&&!B){m+=" ",v=0;continue}if(P||B){if(B)p=R;else if(r.multiline&&(u+2)*(x+2)+2>a)continue e}else{if(!r.multiline||(u+2)*(x+2)+2>a)continue e;p=R}}for(var E="",_=d;_<=p;_++){var I=i[_];if(r.multiline){if(_===p){E+=I[v]+" ",v=(v+1)%I.length;continue}if(_===d){E+=I[I.length-1]+" ";continue}}E+=I[0]+" "}switch(E=E.substr(E.length-1)==" "?E.substr(0,E.length-1):E,c=AC(E,r,s).width,r.textAlign){case"right":l=o-c-2;break;case"center":l=(o-c)/2;break;default:l=2}e+=or(l)+" "+or(f)+` Td
`,e+="("+Wg(E)+`) Tj
`,e+=-or(l)+` 0 Td
`,f=-(s+2),c=0,d=T?p:p+1,x++,m=""}break}return n.text=e,n.fontSize=s,n},AC=function(r,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},XTe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},YTe=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},JTe=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(rc.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(XTe)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");tD=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new MY,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&YTe(s,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(n,i){var s=!n;for(var a in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var o=n[a],A=[],l=o.Rect;if(o.Rect&&(o.Rect=$Te(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Lt.createDefaultAppearanceStream(o),hn(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(A=o.getKeyValueListForStream()),o.Rect=l,o.hasAppearanceStream&&!o.appearanceStreamContent){var c=qTe(o);A.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(o.appearanceStreamContent){var u="";for(var h in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(h)){var f=o.appearanceStreamContent[h];if(u+="/"+h+" ",u+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var a in f)if(f.hasOwnProperty(a)){var d=f[a];typeof d=="function"&&(d=d.call(i,o)),u+="/"+a+" "+d+" ",i.internal.acroformPlugin.xForms.indexOf(d)>=0||i.internal.acroformPlugin.xForms.push(d)}}else typeof(d=f)=="function"&&(d=d.call(i,o)),u+="/"+a+" "+d,i.internal.acroformPlugin.xForms.indexOf(d)>=0||i.internal.acroformPlugin.xForms.push(d);u+=">>"}A.push({key:"AP",value:`<<
`+u+">>"})}i.internal.putStream({additionalKeyValues:A,objectId:o.objId}),i.internal.out("endobj")}s&&function(p,v){for(var m in p)if(p.hasOwnProperty(m)){var x=m,b=p[m];v.internal.newObjectDeferredBegin(b.objId,!0),hn(b)==="object"&&typeof b.putStream=="function"&&b.putStream(),delete p[x]}}(i.internal.acroformPlugin.xForms,i)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},DY=gi.__acroform__.arrayToPdfArray=function(r,e,t){var n=function(a){return a};if(Array.isArray(r)){for(var i="[",s=0;s<r.length;s++)switch(s!==0&&(i+=" "),hn(r[s])){case"boolean":case"number":case"object":i+=r[s].toString();break;case"string":r[s].substr(0,1)!=="/"?(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),i+="("+Wg(n(r[s].toString()))+")"):i+=r[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},nI=function(r,e,t){var n=function(i){return i};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(r=r||"").toString(),"("+Wg(n(r))+")"},zc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};zc.prototype.toString=function(){return this.objId+" 0 R"},zc.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},zc.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],i=this[n];i&&(Array.isArray(i)?r.push({key:n,value:DY(i,this.objId,this.scope)}):i instanceof zc?(i.scope=this.scope,r.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&r.push({key:n,value:i}))}return r};var UY=function(){zc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};No(UY,zc);var MY=function(){zc.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Wg(t(r))+")"}},set:function(t){r=t}})};No(MY,zc);var rc=function r(){zc.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute F supplied.');e=m}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Li(e,3)},set:function(m){m?this.F=Pi(e,3):this.F=Ri(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute Ff supplied.');t=m}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(m){n=m!==void 0?m:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(m){n[0]=m}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(m){n[1]=m}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(m){n[2]=m}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(m){n[3]=m}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(m){switch(m){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=m;break;default:throw new Error('Invalid value "'+m+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof t5)return;s="FieldObject"+r.FieldNum++}var m=function(x){return x};return this.scope&&(m=this.scope.internal.getEncryptor(this.objId)),"("+Wg(m(s))+")"},set:function(m){s=m.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(m){s=m}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(m){a=m}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(m){o=m}});var A=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return A},set:function(m){A=m}});var l=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return l===void 0?50/tD:l},set:function(m){l=m}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(m){c=m}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof t5||this instanceof ug))return nI(u,this.objId,this.scope)},set:function(m){m=m.toString(),u=m}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Cs==0?nI(h,this.objId,this.scope):h},set:function(m){m=m.toString(),h=this instanceof Cs==0?m.substr(0,1)==="("?cm(m.substr(1,m.length-2)):cm(m):m}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Cs==1?cm(h.substr(1,h.length-1)):h},set:function(m){m=m.toString(),h=this instanceof Cs==1?"/"+m:m}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(m){this.V=m}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Cs==0?nI(f,this.objId,this.scope):f},set:function(m){m=m.toString(),f=this instanceof Cs==0?m.substr(0,1)==="("?cm(m.substr(1,m.length-2)):cm(m):m}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Cs==1?cm(f.substr(1,f.length-1)):f},set:function(m){m=m.toString(),f=this instanceof Cs==1?"/"+m:m}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var d,p=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return p},set:function(m){m=!!m,p=m}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(d)return d},set:function(m){d=m}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,1)},set:function(m){m?this.Ff=Pi(this.Ff,1):this.Ff=Ri(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,2)},set:function(m){m?this.Ff=Pi(this.Ff,2):this.Ff=Ri(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,3)},set:function(m){m?this.Ff=Pi(this.Ff,3):this.Ff=Ri(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(m){if([0,1,2].indexOf(m)===-1)throw new Error('Invalid value "'+m+'" for attribute Q supplied.');v=m}}),Object.defineProperty(this,"textAlign",{get:function(){var m;switch(v){case 0:default:m="left";break;case 1:m="center";break;case 2:m="right"}return m},configurable:!0,enumerable:!0,set:function(m){switch(m){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};No(rc,zc);var c1=function(){rc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return DY(e,this.objId,this.scope)},set:function(t){var n,i;i=[],typeof(n=t)=="string"&&(i=function(s,a,o){o||(o=1);for(var A,l=[];A=a.exec(s);)l.push(A[o]);return l}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,18)},set:function(t){t?this.Ff=Pi(this.Ff,18):this.Ff=Ri(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Pi(this.Ff,19):this.Ff=Ri(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,20)},set:function(t){t?(this.Ff=Pi(this.Ff,20),e.sort()):this.Ff=Ri(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,22)},set:function(t){t?this.Ff=Pi(this.Ff,22):this.Ff=Ri(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,23)},set:function(t){t?this.Ff=Pi(this.Ff,23):this.Ff=Ri(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,27)},set:function(t){t?this.Ff=Pi(this.Ff,27):this.Ff=Ri(this.Ff,27)}}),this.hasAppearanceStream=!1};No(c1,rc);var u1=function(){c1.call(this),this.fontName="helvetica",this.combo=!1};No(u1,c1);var h1=function(){u1.call(this),this.combo=!0};No(h1,u1);var bB=function(){h1.call(this),this.edit=!0};No(bB,h1);var Cs=function(){rc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,15)},set:function(t){t?this.Ff=Pi(this.Ff,15):this.Ff=Ri(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,16)},set:function(t){t?this.Ff=Pi(this.Ff,16):this.Ff=Ri(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,17)},set:function(t){t?this.Ff=Pi(this.Ff,17):this.Ff=Ri(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,26)},set:function(t){t?this.Ff=Pi(this.Ff,26):this.Ff=Ri(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+Wg(t(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){hn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};No(Cs,rc);var EB=function(){Cs.call(this),this.pushButton=!0};No(EB,Cs);var f1=function(){Cs.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};No(f1,Cs);var t5=function(){var r,e;rc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),n)a.push("/"+s+" ("+Wg(i(n[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){hn(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Lt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};No(t5,rc),f1.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},f1.prototype.createOption=function(r){var e=new t5;return e.Parent=this,e.optionName=r,this.Kids.push(e),ZTe.call(this.scope,e),e};var CB=function(){Cs.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Lt.CheckBox.createAppearanceStream()};No(CB,Cs);var ug=function(){rc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,13)},set:function(e){e?this.Ff=Pi(this.Ff,13):this.Ff=Ri(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,21)},set:function(e){e?this.Ff=Pi(this.Ff,21):this.Ff=Ri(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,23)},set:function(e){e?this.Ff=Pi(this.Ff,23):this.Ff=Ri(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,24)},set:function(e){e?this.Ff=Pi(this.Ff,24):this.Ff=Ri(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,25)},set:function(e){e?this.Ff=Pi(this.Ff,25):this.Ff=Ri(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,26)},set:function(e){e?this.Ff=Pi(this.Ff,26):this.Ff=Ri(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};No(ug,rc);var BB=function(){ug.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,14)},set:function(r){r?this.Ff=Pi(this.Ff,14):this.Ff=Ri(this.Ff,14)}}),this.password=!0};No(BB,ug);var Lt={CheckBox:{createAppearanceStream:function(){return{N:{On:Lt.CheckBox.YesNormal},D:{On:Lt.CheckBox.YesPushDown,Off:Lt.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=bc(r);e.scope=r.scope;var t=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,i=r.scope.__private__.encodeColorString(r.color),s=JL(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+or(Lt.internal.getWidth(r))+" "+or(Lt.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+or(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=bc(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),i=[],s=Lt.internal.getHeight(r),a=Lt.internal.getWidth(r),o=JL(r,r.caption);return i.push("1 g"),i.push("0 0 "+or(a)+" "+or(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+or(a-1)+" "+or(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+or(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(r){var e=bc(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+or(Lt.internal.getWidth(r))+" "+or(Lt.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:Lt.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=Lt.RadioButton.Circle.YesNormal,e.D[r]=Lt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=bc(r);e.scope=r.scope;var t=[],n=Lt.internal.getWidth(r)<=Lt.internal.getHeight(r)?Lt.internal.getWidth(r)/4:Lt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Lt.internal.Bezier_C,s=Number((n*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+gf(Lt.internal.getWidth(r)/2)+" "+gf(Lt.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),t.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),t.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),t.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=bc(r);e.scope=r.scope;var t=[],n=Lt.internal.getWidth(r)<=Lt.internal.getHeight(r)?Lt.internal.getWidth(r)/4:Lt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Lt.internal.Bezier_C).toFixed(5)),a=Number((n*Lt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+gf(Lt.internal.getWidth(r)/2)+" "+gf(Lt.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+gf(Lt.internal.getWidth(r)/2)+" "+gf(Lt.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),t.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),t.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),t.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=bc(r);e.scope=r.scope;var t=[],n=Lt.internal.getWidth(r)<=Lt.internal.getHeight(r)?Lt.internal.getWidth(r)/4:Lt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Lt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+gf(Lt.internal.getWidth(r)/2)+" "+gf(Lt.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:Lt.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=Lt.RadioButton.Cross.YesNormal,e.D[r]=Lt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=bc(r);e.scope=r.scope;var t=[],n=Lt.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+or(Lt.internal.getWidth(r)-2)+" "+or(Lt.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(or(n.x1.x)+" "+or(n.x1.y)+" m"),t.push(or(n.x2.x)+" "+or(n.x2.y)+" l"),t.push(or(n.x4.x)+" "+or(n.x4.y)+" m"),t.push(or(n.x3.x)+" "+or(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=bc(r);e.scope=r.scope;var t=Lt.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+or(Lt.internal.getWidth(r))+" "+or(Lt.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+or(Lt.internal.getWidth(r)-2)+" "+or(Lt.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(or(t.x1.x)+" "+or(t.x1.y)+" m"),n.push(or(t.x2.x)+" "+or(t.x2.y)+" l"),n.push(or(t.x4.x)+" "+or(t.x4.y)+" m"),n.push(or(t.x3.x)+" "+or(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(r){var e=bc(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+or(Lt.internal.getWidth(r))+" "+or(Lt.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};Lt.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=Lt.internal.getWidth(r),t=Lt.internal.getHeight(r),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},Lt.internal.getWidth=function(r){var e=0;return hn(r)==="object"&&(e=o7(r.Rect[2])),e},Lt.internal.getHeight=function(r){var e=0;return hn(r)==="object"&&(e=o7(r.Rect[3])),e};var ZTe=gi.addField=function(r){if(JTe(this,r),!(r instanceof rc))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};gi.AcroFormChoiceField=c1,gi.AcroFormListBox=u1,gi.AcroFormComboBox=h1,gi.AcroFormEditBox=bB,gi.AcroFormButton=Cs,gi.AcroFormPushButton=EB,gi.AcroFormRadioButton=f1,gi.AcroFormCheckBox=CB,gi.AcroFormTextField=ug,gi.AcroFormPasswordField=BB,gi.AcroFormAppearance=Lt,gi.AcroForm={ChoiceField:c1,ListBox:u1,ComboBox:h1,EditBox:bB,Button:Cs,PushButton:EB,RadioButton:f1,CheckBox:CB,TextField:ug,PasswordField:BB,Appearance:Lt},Ht.AcroForm={ChoiceField:c1,ListBox:u1,ComboBox:h1,EditBox:bB,Button:Cs,PushButton:EB,RadioButton:f1,CheckBox:CB,TextField:ug,PasswordField:BB,Appearance:Lt};Ht.AcroForm;function OY(r){return r.reduce(function(e,t,n){return e[t]=n,e},{})}(function(r){var e="addImage_";r.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=r.__addimage__.getImageFileTypeByImageData=function(S,F){var N,G,le,ie,te,J=t;if((F=F||t)==="RGBA"||S.data!==void 0&&S.data instanceof Uint8ClampedArray&&"height"in S&&"width"in S)return"RGBA";if(P(S))for(te in n)for(le=n[te],N=0;N<le.length;N+=1){for(ie=!0,G=0;G<le[N].length;G+=1)if(le[N][G]!==void 0&&le[N][G]!==S[G]){ie=!1;break}if(ie===!0){J=te;break}}else for(te in n)for(le=n[te],N=0;N<le.length;N+=1){for(ie=!0,G=0;G<le[N].length;G+=1)if(le[N][G]!==void 0&&le[N][G]!==S.charCodeAt(G)){ie=!1;break}if(ie===!0){J=te;break}}return J===t&&F!==t&&(J=F),J},s=function S(F){for(var N=this.internal.write,G=this.internal.putStream,le=(0,this.internal.getFilters)();le.indexOf("FlateEncode")!==-1;)le.splice(le.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var ie=[];if(ie.push({key:"Type",value:"/XObject"}),ie.push({key:"Subtype",value:"/Image"}),ie.push({key:"Width",value:F.width}),ie.push({key:"Height",value:F.height}),F.colorSpace===m.INDEXED?ie.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(ie.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===m.DEVICE_CMYK&&ie.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ie.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&ie.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)&&F.transparency.length>0){for(var te="",J=0,W=F.transparency.length;J<W;J++)te+=F.transparency[J]+" "+F.transparency[J]+" ";ie.push({key:"Mask",value:"["+te+"]"})}F.sMask!==void 0&&ie.push({key:"SMask",value:F.objectId+1+" 0 R"});var be=F.filter!==void 0?["/"+F.filter]:void 0;if(G({data:F.data,additionalKeyValues:ie,alreadyAppliedFilters:be,objectId:F.objectId}),N("endobj"),"sMask"in F&&F.sMask!==void 0){var xe,L=(xe=F.sMaskBitsPerComponent)!==null&&xe!==void 0?xe:F.bitsPerComponent,O={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:L,data:F.sMask};"filter"in F&&(O.decodeParameters="/Predictor ".concat(F.predictor," /Colors 1 /BitsPerComponent ").concat(L," /Columns ").concat(F.width),O.filter=F.filter),S.call(this,O)}if(F.colorSpace===m.INDEXED){var H=this.internal.newObject();G({data:E(new Uint8Array(F.palette)),objectId:H}),N("endobj")}},a=function(){var S=this.internal.collections[e+"images"];for(var F in S)s.call(this,S[F])},o=function(){var S,F=this.internal.collections[e+"images"],N=this.internal.write;for(var G in F)N("/I"+(S=F[G]).index,S.objectId,"0","R")},A=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var S=this.internal.collections[e+"images"];return A.call(this),S},c=function(){return Object.keys(this.internal.collections[e+"images"]).length},u=function(S){return typeof r["process"+S.toUpperCase()]=="function"},h=function(S){return hn(S)==="object"&&S.nodeType===1},f=function(S,F){if(S.nodeName==="IMG"&&S.hasAttribute("src")){var N=""+S.getAttribute("src");if(N.indexOf("data:image/")===0)return _B(unescape(N).split("base64,").pop());var G=r.loadFile(N,!0);if(G!==void 0)return G}if(S.nodeName==="CANVAS"){if(S.width===0||S.height===0)throw new Error("Given canvas must have data. Canvas width: "+S.width+", height: "+S.height);var le;switch(F){case"PNG":le="image/png";break;case"WEBP":le="image/webp";break;default:le="image/jpeg"}return _B(S.toDataURL(le,1).split("base64,").pop())}},d=function(S){var F=this.internal.collections[e+"images"];if(F){for(var N in F)if(S===F[N].alias)return F[N]}},p=function(S,F,N){return S||F||(S=-96,F=-96),S<0&&(S=-1*N.width*72/S/this.internal.scaleFactor),F<0&&(F=-1*N.height*72/F/this.internal.scaleFactor),S===0&&(S=F*N.width/N.height),F===0&&(F=S*N.height/N.width),[S,F]},v=function(S,F,N,G,le,ie){var te=p.call(this,N,G,le),J=this.internal.getCoordinateString,W=this.internal.getVerticalCoordinateString,be=l.call(this);if(N=te[0],G=te[1],be[le.index]=le,ie){ie*=Math.PI/180;var xe=Math.cos(ie),L=Math.sin(ie),O=function(Q){return Q.toFixed(4)},H=[O(xe),O(L),O(-1*L),O(xe),0,0,"cm"]}this.internal.write("q"),ie?(this.internal.write([1,"0","0",1,J(S),W(F+G),"cm"].join(" ")),this.internal.write(H.join(" ")),this.internal.write([J(N),"0","0",J(G),"0","0","cm"].join(" "))):this.internal.write([J(N),"0","0",J(G),J(S),W(F+G),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+le.index+" Do"),this.internal.write("Q")},m=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=r.__addimage__.sHashCode=function(S){var F,N,G=0;if(typeof S=="string")for(N=S.length,F=0;F<N;F++)G=(G<<5)-G+S.charCodeAt(F),G|=0;else if(P(S))for(N=S.byteLength/2,F=0;F<N;F++)G=(G<<5)-G+S[F],G|=0;return G},T=r.__addimage__.validateStringAsBase64=function(S){(S=S||"").toString().trim();var F=!0;return S.length===0&&(F=!1),S.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(S.substr(0,S.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(S.substr(-2))===!1&&(F=!1),F},R=r.__addimage__.extractImageFromDataUrl=function(S){if(S==null||!(S=S.trim()).startsWith("data:"))return null;var F=S.indexOf(",");return F<0?null:S.substring(0,F).trim().endsWith("base64")?S.substring(F+1):null};r.__addimage__.isArrayBuffer=function(S){return S instanceof ArrayBuffer};var P=r.__addimage__.isArrayBufferView=function(S){return S instanceof Int8Array||S instanceof Uint8Array||S instanceof Uint8ClampedArray||S instanceof Int16Array||S instanceof Uint16Array||S instanceof Int32Array||S instanceof Uint32Array||S instanceof Float32Array||S instanceof Float64Array},B=r.__addimage__.binaryStringToUint8Array=function(S){for(var F=S.length,N=new Uint8Array(F),G=0;G<F;G++)N[G]=S.charCodeAt(G);return N},E=r.__addimage__.arrayBufferToBinaryString=function(S){for(var F="",N=P(S)?S:new Uint8Array(S),G=0;G<N.length;G+=8192)F+=String.fromCharCode.apply(null,N.subarray(G,G+8192));return F};r.addImage=function(){var S,F,N,G,le,ie,te,J,W;if(typeof arguments[1]=="number"?(F=t,N=arguments[1],G=arguments[2],le=arguments[3],ie=arguments[4],te=arguments[5],J=arguments[6],W=arguments[7]):(F=arguments[1],N=arguments[2],G=arguments[3],le=arguments[4],ie=arguments[5],te=arguments[6],J=arguments[7],W=arguments[8]),hn(S=arguments[0])==="object"&&!h(S)&&"imageData"in S){var be=S;S=be.imageData,F=be.format||F||t,N=be.x||N||0,G=be.y||G||0,le=be.w||be.width||le,ie=be.h||be.height||ie,te=be.alias||te,J=be.compression||J,W=be.rotation||be.angle||W}var xe=this.internal.getFilters();if(J===void 0&&xe.indexOf("FlateEncode")!==-1&&(J="SLOW"),isNaN(N)||isNaN(G))throw new Error("Invalid coordinates passed to jsPDF.addImage");A.call(this);var L=_.call(this,S,F,te,J);return v.call(this,N,G,le,ie,L,W),this};var _=function(S,F,N,G){var le,ie,te;if(typeof S=="string"&&i(S)===t){S=unescape(S);var J=I(S,!1);(J!==""||(J=r.loadFile(S,!0))!==void 0)&&(S=J)}if(h(S)&&(S=f(S,F)),F=i(S,F),!u(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((te=N)==null||te.length===0)&&(N=function(W){return typeof W=="string"||P(W)?b(W):P(W.data)?b(W.data):null}(S)),(le=d.call(this,N))||(S instanceof Uint8Array||F==="RGBA"||(ie=S,S=B(S)),le=this["process"+F.toUpperCase()](S,c.call(this),N,function(W){return W&&typeof W=="string"&&(W=W.toUpperCase()),W in r.image_compression?W:x.NONE}(G),ie)),!le)throw new Error("An unknown error occurred whilst processing the image.");return le},I=r.__addimage__.convertBase64ToBinaryString=function(S,F){F=typeof F!="boolean"||F;var N,G="";if(typeof S=="string"){var le;N=(le=R(S))!==null&&le!==void 0?le:S;try{G=_B(N)}catch(ie){if(F)throw T(N)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ie.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return G};r.getImageProperties=function(S){var F,N,G="";if(h(S)&&(S=f(S)),typeof S=="string"&&i(S)===t&&((G=I(S,!1))===""&&(G=r.loadFile(S)||""),S=G),N=i(S),!u(N))throw new Error("addImage does not support files of type '"+N+"', please ensure that a plugin for '"+N+"' support is added.");if(S instanceof Uint8Array||(S=B(S)),!(F=this["process"+N.toUpperCase()](S)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=N,F}})(Ht.API),function(r){var e=function(t){if(t!==void 0&&t!="")return!0};Ht.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var n,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,A=this.internal.getPageInfoByObjId(t.objId),l=t.pageContext.annotations,c=!1,u=0;u<l.length&&!c;u++)switch((n=l[u]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var h=0;h<l.length;h++){n=l[h];var f=this.internal.pdfEscape,d=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var p=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),m=this.internal.getEncryptor(p.objId),x=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+f(m(n.contents))+")",s+=" /Popup "+v.objId+" 0 R",s+=" /P "+A.objId+" 0 R",s+=" /T ("+f(m(x))+") >>",p.content=s;var b=p.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(s+=" /Open true"),s+=" >>",v.content=s,this.internal.write(p.objId,"0 R",v.objId,"0 R");break;case"freetext":i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var T=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(d(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+T+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var R=this.annotations._nameMap[n.options.name];n.options.pageNumber=R.page,n.options.top=R.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(d(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var P=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+P+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},r.link=function(t,n,i,s,a){var o=this.internal.getCurrentPageInfo(),A=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:A(t),y:l(n),w:A(t+i),h:l(n+s)},options:a,type:"link"})},r.textWithLink=function(t,n,i,s){var a,o,A=this.getTextWidth(t),l=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var c=this.splitTextToSize(t,o).length;a=Math.ceil(l*c)}else o=A,a=l;return this.text(t,n,i,s),i+=.2*l,s.align==="center"&&(n-=A/2),s.align==="right"&&(n-=A),this.link(n,i-l,o,a,s),A},r.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}}(Ht.API),function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];r.__arabicParser__={};var s=r.__arabicParser__.isInArabicSubstitutionA=function(p){return e[p.charCodeAt(0)]!==void 0},a=r.__arabicParser__.isArabicLetter=function(p){return typeof p=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(p)},o=r.__arabicParser__.isArabicEndLetter=function(p){return a(p)&&s(p)&&e[p.charCodeAt(0)].length<=2},A=r.__arabicParser__.isArabicAlfLetter=function(p){return a(p)&&i.indexOf(p.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(p){return a(p)&&s(p)&&e[p.charCodeAt(0)].length>=1};var l=r.__arabicParser__.arabicLetterHasFinalForm=function(p){return a(p)&&s(p)&&e[p.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(p){return a(p)&&s(p)&&e[p.charCodeAt(0)].length>=3};var c=r.__arabicParser__.arabicLetterHasMedialForm=function(p){return a(p)&&s(p)&&e[p.charCodeAt(0)].length==4},u=r.__arabicParser__.resolveLigatures=function(p){var v=0,m=t,x="",b=0;for(v=0;v<p.length;v+=1)m[p.charCodeAt(v)]!==void 0?(b++,typeof(m=m[p.charCodeAt(v)])=="number"&&(x+=String.fromCharCode(m),m=t,b=0),v===p.length-1&&(m=t,x+=p.charAt(v-(b-1)),v-=b-1,b=0)):(m=t,x+=p.charAt(v-b),v-=b,b=0);return x};r.__arabicParser__.isArabicDiacritic=function(p){return p!==void 0&&n[p.charCodeAt(0)]!==void 0};var h=r.__arabicParser__.getCorrectForm=function(p,v,m){return a(p)?s(p)===!1?-1:!l(p)||!a(v)&&!a(m)||!a(m)&&o(v)||o(p)&&!a(v)||o(p)&&A(v)||o(p)&&o(v)?0:c(p)&&a(v)&&!o(v)&&a(m)&&l(m)?3:o(p)||!a(m)?1:2:-1},f=function(p){var v=0,m=0,x=0,b="",T="",R="",P=(p=p||"").split("\\s+"),B=[];for(v=0;v<P.length;v+=1){for(B.push(""),m=0;m<P[v].length;m+=1)b=P[v][m],T=P[v][m-1],R=P[v][m+1],a(b)?(x=h(b,T,R),B[v]+=x!==-1?String.fromCharCode(e[b.charCodeAt(0)][x]):b):B[v]+=b;B[v]=u(B[v])}return B.join(" ")},d=r.__arabicParser__.processArabic=r.processArabic=function(){var p,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,m=[];if(Array.isArray(v)){var x=0;for(m=[],x=0;x<v.length;x+=1)Array.isArray(v[x])?m.push([f(v[x][0]),v[x][1],v[x][2]]):m.push([f(v[x])]);p=m}else p=f(v);return typeof arguments[0]=="string"?p:(arguments[0].text=p,arguments[0])};r.events.push(["preProcessText",d])}(Ht.API),Ht.API.autoPrint=function(r){var e;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(o){t=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var i;if((t=t||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Ht.API),function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var A=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return A},set:function(p){A=p}});var l=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return l},set:function(p){l=p}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(p){c=p}});var u=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return u},set:function(p){u=p}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(p){h=p}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(p){f=p}});var d=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return d},set:function(p){d=p}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(A){return n.call(this),this.internal.__cell__.headerFunction=typeof A=="function"?A:void 0,this},r.getTextDimensions=function(A,l){n.call(this);var c=(l=l||{}).fontSize||this.getFontSize(),u=l.font||this.getFont(),h=l.scaleFactor||this.internal.scaleFactor,f=0,d=0,p=0,v=this;if(!Array.isArray(A)&&typeof A!="string"){if(typeof A!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");A=String(A)}var m=l.maxWidth;m>0?typeof A=="string"?A=this.splitTextToSize(A,m):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(b,T){return b.concat(v.splitTextToSize(T,m))},[])):A=Array.isArray(A)?A:[A];for(var x=0;x<A.length;x++)f<(p=this.getStringUnitWidth(A[x],{font:u})*c)&&(f=p);return f!==0&&(d=A.length),{w:f/=h,h:Math.max((d*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/h,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var A=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(A.left,A.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=r.cell=function(){var A;A=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var l=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,u=this.internal.__cell__.margins||e,h=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return l.lineNumber!==void 0&&(l.lineNumber===A.lineNumber?(A.x=(l.x||0)+(l.width||0),A.y=l.y||0):l.y+l.height+A.height+u.bottom>this.getPageHeight()?(this.cellAddPage(),A.y=u.top,f&&h&&(this.printHeaderRow(A.lineNumber,!0),A.y+=h[0].height)):A.y=l.y+l.height||A.y),A.text[0]!==void 0&&(this.rect(A.x,A.y,A.width,A.height,t===!0?"FD":void 0),A.align==="right"?this.text(A.text,A.x+A.width-c,A.y+c,{align:"right",baseline:"top"}):A.align==="center"?this.text(A.text,A.x+A.width/2,A.y+c,{align:"center",baseline:"top",maxWidth:A.width-c-c}):this.text(A.text,A.x+c,A.y+c,{align:"left",baseline:"top",maxWidth:A.width-c-c})),this.internal.__cell__.lastCell=A,this};r.table=function(A,l,c,u,h){if(n.call(this),!c)throw new Error("No data for PDF table.");var f,d,p,v,m=[],x=[],b=[],T={},R={},P=[],B=[],E=(h=h||{}).autoSize||!1,_=h.printHeaders!==!1,I=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,S=h.margins||Object.assign({width:this.getPageWidth()},e),F=typeof h.padding=="number"?h.padding:3,N=h.headerBackgroundColor||"#c8c8c8",G=h.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=_,this.internal.__cell__.margins=S,this.internal.__cell__.table_font_size=I,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=N,this.internal.__cell__.headerTextColor=G,this.setFontSize(I),u==null)x=m=Object.keys(c[0]),b=m.map(function(){return"left"});else if(Array.isArray(u)&&hn(u[0])==="object")for(m=u.map(function(be){return be.name}),x=u.map(function(be){return be.prompt||be.name||""}),b=u.map(function(be){return be.align||"left"}),f=0;f<u.length;f+=1)R[u[f].name]=.7499990551181103*u[f].width;else Array.isArray(u)&&typeof u[0]=="string"&&(x=m=u,b=m.map(function(){return"left"}));if(E||Array.isArray(u)&&typeof u[0]=="string")for(f=0;f<m.length;f+=1){for(T[v=m[f]]=c.map(function(be){return be[v]}),this.setFont(void 0,"bold"),P.push(this.getTextDimensions(x[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),d=T[v],this.setFont(void 0,"normal"),p=0;p<d.length;p+=1)P.push(this.getTextDimensions(d[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);R[v]=Math.max.apply(null,P)+F+F,P=[]}if(_){var le={};for(f=0;f<m.length;f+=1)le[m[f]]={},le[m[f]].text=x[f],le[m[f]].align=b[f];var ie=o.call(this,le,R);B=m.map(function(be){return new s(A,l,R[be],ie,le[be].text,void 0,le[be].align)}),this.setTableHeaderRow(B),this.printHeaderRow(1,!1)}var te=u.reduce(function(be,xe){return be[xe.name]=xe.align,be},{});for(f=0;f<c.length;f+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:f,data:c[f]},this);var J=o.call(this,c[f],R);for(p=0;p<m.length;p+=1){var W=c[f][m[p]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:f,col:p,data:W},this),a.call(this,new s(A,l,R[m[p]],J,W,f+2,te[m[p]]))}}return this.internal.__cell__.table_x=A,this.internal.__cell__.table_y=l,this};var o=function(A,l){var c=this.internal.__cell__.padding,u=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(A).map(function(f){var d=A[f];return this.splitTextToSize(d.hasOwnProperty("text")?d.text:d,l[f]-c-c)},this).map(function(f){return this.getLineHeightFactor()*f.length*u/h+c+c},this).reduce(function(f,d){return Math.max(f,d)},0)};r.setTableHeaderRow=function(A){n.call(this),this.internal.__cell__.tableHeaderRow=A},r.printHeaderRow=function(A,l){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var u=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(u[0],u[1],u[2],u[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){c=this.internal.__cell__.tableHeaderRow[f].clone(),l&&(c.y=this.internal.__cell__.margins.top||0,h.push(c)),c.lineNumber=A;var d=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,c),this.setTextColor(d)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),t=!1}}(Ht.API);var QY={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},HY=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],ZL=OY(HY),VY=[100,200,300,400,500,600,700,800,900],eFe=OY(VY);function iI(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=function(s){return QY[s=s||"normal"]?s:"normal"}(r.style),n=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(r.weight),i=function(s){return typeof ZL[s=s||"normal"]=="number"?s:"normal"}(r.stretch);return{family:e,style:t,weight:n,stretch:i,src:r.src||[],ref:r.ref||{name:e,style:[i,t,n].join(" ")}}}function A7(r,e,t,n){var i;for(i=t;i>=0&&i<e.length;i+=n)if(r[e[i]])return r[e[i]];for(i=t;i>=0&&i<e.length;i-=n)if(r[e[i]])return r[e[i]]}var tFe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},l7={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function c7(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function u7(r){return r.trimLeft()}function rFe(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function nFe(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var lC,h7,f7,um,cC,d7,p7,g7,sI=["times"];function m7(r,e,t,n,i){var s=4,a=w7;switch(i){case Ht.API.image_compression.FAST:s=1,a=v7;break;case Ht.API.image_compression.MEDIUM:s=6,a=y7;break;case Ht.API.image_compression.SLOW:s=9,a=x7}r=function(A,l,c,u){for(var h,f=A.length/l,d=new Uint8Array(A.length+f),p=[iFe,v7,w7,y7,x7],v=0;v<f;v+=1){var m=v*l,x=A.subarray(m,m+l);if(u)d.set(u(x,c,h),m+v);else{for(var b=p.length,T=[],R=0;R<b;R+=1)T[R]=p[R](x,c,h);var P=aFe(T.concat());d.set(T[P],m+v)}h=x}return d}(r,e,Math.ceil(t*n/8),a);var o=WL(r,{level:s});return Ht.API.__addimage__.arrayBufferToBinaryString(o)}function iFe(r){var e=Array.apply([],r);return e.unshift(0),e}function v7(r,e){var t=r.length,n=[];n[0]=1;for(var i=0;i<t;i+=1){var s=r[i-e]||0;n[i+1]=r[i]-s+256&255}return n}function w7(r,e,t){var n=r.length,i=[];i[0]=2;for(var s=0;s<n;s+=1){var a=t&&t[s]||0;i[s+1]=r[s]-a+256&255}return i}function y7(r,e,t){var n=r.length,i=[];i[0]=3;for(var s=0;s<n;s+=1){var a=r[s-e]||0,o=t&&t[s]||0;i[s+1]=r[s]+256-(a+o>>>1)&255}return i}function x7(r,e,t){var n=r.length,i=[];i[0]=4;for(var s=0;s<n;s+=1){var a=sFe(r[s-e]||0,t&&t[s]||0,t&&t[s-e]||0);i[s+1]=r[s]-a+256&255}return i}function sFe(r,e,t){if(r===e&&e===t)return r;var n=Math.abs(e-t),i=Math.abs(r-t),s=Math.abs(r+e-t-t);return n<=i&&n<=s?r:i<=s?e:t}function aFe(r){var e=r.map(function(t){return t.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function aI(r,e,t){var n=e*t,i=Math.floor(n/8),s=16-(n-8*i+t),a=(1<<t)-1;return jY(r,i)>>s&a}function _7(r,e,t,n){var i=t*n,s=Math.floor(i/8),a=16-(i-8*s+n),o=(1<<n)-1,A=(e&o)<<a;(function(l,c,u){if(c+1<l.byteLength)l.setUint16(c,u,!1);else{var h=u>>8&255;l.setUint8(c,h)}})(r,s,jY(r,s)&~(o<<a)&65535|A)}function jY(r,e){return e+1<r.byteLength?r.getUint16(e,!1):r.getUint8(e)<<8}function oFe(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,n=r[e++]|r[e++]<<8,i=r[e++],s=i>>7,a=1<<1+(7&i);r[e++],r[e++];var o=null,A=null;s&&(o=e,A=a,e+=3*a);var l=!0,c=[],u=0,h=null,f=0,d=null;for(this.width=t,this.height=n;l&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,d=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((S=r[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var p=r[e++];u=r[e++]|r[e++]<<8,h=r[e++],1&p||(h=null),f=p>>2&7,e++;break;case 254:for(;;){if(!((S=r[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var v=r[e++]|r[e++]<<8,m=r[e++]|r[e++]<<8,x=r[e++]|r[e++]<<8,b=r[e++]|r[e++]<<8,T=r[e++],R=T>>6&1,P=1<<1+(7&T),B=o,E=A,_=!1;T>>7&&(_=!0,B=e,E=P,e+=3*P);var I=e;for(e++;;){var S;if(!((S=r[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}c.push({x:v,y:m,width:x,height:b,has_local_palette:_,palette_offset:B,palette_size:E,data_offset:I,data_length:e-I,transparent_index:h,interlaced:!!R,delay:u,disposal:f});break;case 59:l=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return d},this.frameInfo=function(F){if(F<0||F>=c.length)throw new Error("Frame index out of range.");return c[F]},this.decodeAndBlitFrameBGRA=function(F,N){var G=this.frameInfo(F),le=G.width*G.height,ie=new Uint8Array(le);b7(r,G.data_offset,ie,le);var te=G.palette_offset,J=G.transparent_index;J===null&&(J=256);var W=G.width,be=t-W,xe=W,L=4*(G.y*t+G.x),O=4*((G.y+G.height)*t+G.x),H=L,Q=4*be;G.interlaced===!0&&(Q+=4*t*7);for(var Y=8,oe=0,de=ie.length;oe<de;++oe){var fe=ie[oe];if(xe===0&&(xe=W,(H+=Q)>=O&&(Q=4*be+4*t*(Y-1),H=L+(W+be)*(Y<<1),Y>>=1)),fe===J)H+=4;else{var _e=r[te+3*fe],Se=r[te+3*fe+1],ne=r[te+3*fe+2];N[H++]=ne,N[H++]=Se,N[H++]=_e,N[H++]=255}--xe}},this.decodeAndBlitFrameRGBA=function(F,N){var G=this.frameInfo(F),le=G.width*G.height,ie=new Uint8Array(le);b7(r,G.data_offset,ie,le);var te=G.palette_offset,J=G.transparent_index;J===null&&(J=256);var W=G.width,be=t-W,xe=W,L=4*(G.y*t+G.x),O=4*((G.y+G.height)*t+G.x),H=L,Q=4*be;G.interlaced===!0&&(Q+=4*t*7);for(var Y=8,oe=0,de=ie.length;oe<de;++oe){var fe=ie[oe];if(xe===0&&(xe=W,(H+=Q)>=O&&(Q=4*be+4*t*(Y-1),H=L+(W+be)*(Y<<1),Y>>=1)),fe===J)H+=4;else{var _e=r[te+3*fe],Se=r[te+3*fe+1],ne=r[te+3*fe+2];N[H++]=_e,N[H++]=Se,N[H++]=ne,N[H++]=255}--xe}}}function b7(r,e,t,n){for(var i=r[e++],s=1<<i,a=s+1,o=a+1,A=i+1,l=(1<<A)-1,c=0,u=0,h=0,f=r[e++],d=new Int32Array(4096),p=null;;){for(;c<16&&f!==0;)u|=r[e++]<<c,c+=8,f===1?f=r[e++]:--f;if(c<A)break;var v=u&l;if(u>>=A,c-=A,v!==s){if(v===a)break;for(var m=v<o?v:p,x=0,b=m;b>s;)b=d[b]>>8,++x;var T=b;if(h+x+(m!==v?1:0)>n)return void En.log("Warning, gif stream longer than expected.");t[h++]=T;var R=h+=x;for(m!==v&&(t[h++]=T),b=m;x--;)b=d[b],t[--R]=255&b,b>>=8;p!==null&&o<4096&&(d[o++]=p<<8|T,o>=l+1&&A<12&&(++A,l=l<<1|1)),p=v}else o=a+1,l=(1<<(A=i+1))-1,p=null}return h!==n&&En.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function oI(r){var e,t,n,i,s,a=Math.floor,o=new Array(64),A=new Array(64),l=new Array(64),c=new Array(64),u=new Array(65535),h=new Array(65535),f=new Array(64),d=new Array(64),p=[],v=0,m=7,x=new Array(64),b=new Array(64),T=new Array(64),R=new Array(256),P=new Array(2048),B=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],_=[0,1,2,3,4,5,6,7,8,9,10,11],I=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],S=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],N=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],le=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ie(L,O){for(var H=0,Q=0,Y=new Array,oe=1;oe<=16;oe++){for(var de=1;de<=L[oe];de++)Y[O[Q]]=[],Y[O[Q]][0]=H,Y[O[Q]][1]=oe,Q++,H++;H*=2}return Y}function te(L){for(var O=L[0],H=L[1]-1;H>=0;)O&1<<H&&(v|=1<<m),H--,--m<0&&(v==255?(J(255),J(0)):J(v),m=7,v=0)}function J(L){p.push(L)}function W(L){J(L>>8&255),J(255&L)}function be(L,O,H,Q,Y){for(var oe,de=Y[0],fe=Y[240],_e=function(Ve,ht){var nt,Nt,gt,Bt,Et,At,Ft,mt,vt,at,ct=0;for(vt=0;vt<8;++vt){nt=Ve[ct],Nt=Ve[ct+1],gt=Ve[ct+2],Bt=Ve[ct+3],Et=Ve[ct+4],At=Ve[ct+5],Ft=Ve[ct+6];var jt=nt+(mt=Ve[ct+7]),Mt=nt-mt,wt=Nt+Ft,Jt=Nt-Ft,Jr=gt+At,Wt=gt-At,fr=Bt+Et,Zt=Bt-Et,wn=jt+fr,yn=jt-fr,jr=wt+Jr,Gt=wt-Jr;Ve[ct]=wn+jr,Ve[ct+4]=wn-jr;var xr=.707106781*(Gt+yn);Ve[ct+2]=yn+xr,Ve[ct+6]=yn-xr;var BA=.382683433*((wn=Zt+Wt)-(Gt=Jt+Mt)),Yn=.5411961*wn+BA,Ao=1.306562965*Gt+BA,fs=.707106781*(jr=Wt+Jt),zt=Mt+fs,xn=Mt-fs;Ve[ct+5]=xn+Yn,Ve[ct+3]=xn-Yn,Ve[ct+1]=zt+Ao,Ve[ct+7]=zt-Ao,ct+=8}for(ct=0,vt=0;vt<8;++vt){nt=Ve[ct],Nt=Ve[ct+8],gt=Ve[ct+16],Bt=Ve[ct+24],Et=Ve[ct+32],At=Ve[ct+40],Ft=Ve[ct+48];var lo=nt+(mt=Ve[ct+56]),li=nt-mt,Ui=Nt+Ft,Bn=Nt-Ft,ci=gt+At,q=gt-At,me=Bt+Et,Ae=Bt-Et,he=lo+me,pe=lo-me,ye=Ui+ci,Pe=Ui-ci;Ve[ct]=he+ye,Ve[ct+32]=he-ye;var He=.707106781*(Pe+pe);Ve[ct+16]=pe+He,Ve[ct+48]=pe-He;var Re=.382683433*((he=Ae+q)-(Pe=Bn+li)),Ne=.5411961*he+Re,Me=1.306562965*Pe+Re,et=.707106781*(ye=q+Bn),lt=li+et,dt=li-et;Ve[ct+40]=dt+Ne,Ve[ct+24]=dt-Ne,Ve[ct+8]=lt+Me,Ve[ct+56]=lt-Me,ct++}for(vt=0;vt<64;++vt)at=Ve[vt]*ht[vt],f[vt]=at>0?at+.5|0:at-.5|0;return f}(L,O),Se=0;Se<64;++Se)d[B[Se]]=_e[Se];var ne=d[0]-H;H=d[0],ne==0?te(Q[0]):(te(Q[h[oe=32767+ne]]),te(u[oe]));for(var $e=63;$e>0&&d[$e]==0;)$e--;if($e==0)return te(de),H;for(var Be,ue=1;ue<=$e;){for(var Xe=ue;d[ue]==0&&ue<=$e;)++ue;var je=ue-Xe;if(je>=16){Be=je>>4;for(var qe=1;qe<=Be;++qe)te(fe);je&=15}oe=32767+d[ue],te(Y[(je<<4)+h[oe]]),te(u[oe]),ue++}return $e!=63&&te(de),H}function xe(L){L=Math.min(Math.max(L,1),100),s!=L&&(function(O){for(var H=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Q=0;Q<64;Q++){var Y=a((H[Q]*O+50)/100);Y=Math.min(Math.max(Y,1),255),o[B[Q]]=Y}for(var oe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var fe=a((oe[de]*O+50)/100);fe=Math.min(Math.max(fe,1),255),A[B[de]]=fe}for(var _e=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Se=0,ne=0;ne<8;ne++)for(var $e=0;$e<8;$e++)l[Se]=1/(o[B[Se]]*_e[ne]*_e[$e]*8),c[Se]=1/(A[B[Se]]*_e[ne]*_e[$e]*8),Se++}(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),s=L)}this.encode=function(L,O){O&&xe(O),p=new Array,v=0,m=7,W(65496),W(65504),W(16),J(74),J(70),J(73),J(70),J(0),J(1),J(1),J(0),W(1),W(1),J(0),J(0),function(){W(65499),W(132),J(0);for(var Nt=0;Nt<64;Nt++)J(o[Nt]);J(1);for(var gt=0;gt<64;gt++)J(A[gt])}(),function(Nt,gt){W(65472),W(17),J(8),W(gt),W(Nt),J(3),J(1),J(17),J(0),J(2),J(17),J(1),J(3),J(17),J(1)}(L.width,L.height),function(){W(65476),W(418),J(0);for(var Nt=0;Nt<16;Nt++)J(E[Nt+1]);for(var gt=0;gt<=11;gt++)J(_[gt]);J(16);for(var Bt=0;Bt<16;Bt++)J(I[Bt+1]);for(var Et=0;Et<=161;Et++)J(S[Et]);J(1);for(var At=0;At<16;At++)J(F[At+1]);for(var Ft=0;Ft<=11;Ft++)J(N[Ft]);J(17);for(var mt=0;mt<16;mt++)J(G[mt+1]);for(var vt=0;vt<=161;vt++)J(le[vt])}(),W(65498),W(12),J(3),J(1),J(0),J(2),J(17),J(3),J(17),J(0),J(63),J(0);var H=0,Q=0,Y=0;v=0,m=7,this.encode.displayName="_encode_";for(var oe,de,fe,_e,Se,ne,$e,Be,ue,Xe=L.data,je=L.width,qe=L.height,Ve=4*je,ht=0;ht<qe;){for(oe=0;oe<Ve;){for(Se=Ve*ht+oe,$e=-1,Be=0,ue=0;ue<64;ue++)ne=Se+(Be=ue>>3)*Ve+($e=4*(7&ue)),ht+Be>=qe&&(ne-=Ve*(ht+1+Be-qe)),oe+$e>=Ve&&(ne-=oe+$e-Ve+4),de=Xe[ne++],fe=Xe[ne++],_e=Xe[ne++],x[ue]=(P[de]+P[fe+256|0]+P[_e+512|0]>>16)-128,b[ue]=(P[de+768|0]+P[fe+1024|0]+P[_e+1280|0]>>16)-128,T[ue]=(P[de+1280|0]+P[fe+1536|0]+P[_e+1792|0]>>16)-128;H=be(x,l,H,e,n),Q=be(b,c,Q,t,i),Y=be(T,c,Y,t,i),oe+=32}ht+=8}if(m>=0){var nt=[];nt[1]=m+1,nt[0]=(1<<m+1)-1,te(nt)}return W(65497),new Uint8Array(p)},r=r||50,function(){for(var L=String.fromCharCode,O=0;O<256;O++)R[O]=L(O)}(),e=ie(E,_),t=ie(F,N),n=ie(I,S),i=ie(G,le),function(){for(var L=1,O=2,H=1;H<=15;H++){for(var Q=L;Q<O;Q++)h[32767+Q]=H,u[32767+Q]=[],u[32767+Q][1]=H,u[32767+Q][0]=Q;for(var Y=-(O-1);Y<=-L;Y++)h[32767+Y]=H,u[32767+Y]=[],u[32767+Y][1]=H,u[32767+Y][0]=O-1+Y;L<<=1,O<<=1}}(),function(){for(var L=0;L<256;L++)P[L]=19595*L,P[L+256|0]=38470*L,P[L+512|0]=7471*L+32768,P[L+768|0]=-11059*L,P[L+1024|0]=-21709*L,P[L+1280|0]=32768*L+8421375,P[L+1536|0]=-27439*L,P[L+1792|0]=-5329*L}(),xe(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function yl(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function E7(r){function e(_){if(!_)throw Error("assert :P")}function t(_,I,S){for(var F=0;4>F;F++)if(_[I+F]!=S.charCodeAt(F))return!0;return!1}function n(_,I,S,F,N){for(var G=0;G<N;G++)_[I+G]=S[F+G]}function i(_,I,S,F){for(var N=0;N<F;N++)_[I+N]=S}function s(_){return new Int32Array(_)}function a(_,I){for(var S=[],F=0;F<_;F++)S.push(new I);return S}function o(_,I){var S=[];return function F(N,G,le){for(var ie=le[G],te=0;te<ie&&(N.push(le.length>G+1?[]:new I),!(le.length<G+1));te++)F(N[te],G+1,le)}(S,0,_),S}var A=function(){var _=this;function I(w,C){for(var D=1<<C-1>>>0;w&D;)D>>>=1;return D?(w&D-1)+D:w}function S(w,C,D,M,z){e(!(M%D));do w[C+(M-=D)]=z;while(0<M)}function F(w,C,D,M,z){if(e(2328>=z),512>=z)var Z=s(512);else if((Z=s(z))==null)return 0;return function(re,se,ce,ve,Ce,Oe){var we,Te,Le=se,Ke=1<<ce,Ue=s(16),We=s(16);for(e(Ce!=0),e(ve!=null),e(re!=null),e(0<ce),Te=0;Te<Ce;++Te){if(15<ve[Te])return 0;++Ue[ve[Te]]}if(Ue[0]==Ce)return 0;for(We[1]=0,we=1;15>we;++we){if(Ue[we]>1<<we)return 0;We[we+1]=We[we]+Ue[we]}for(Te=0;Te<Ce;++Te)we=ve[Te],0<ve[Te]&&(Oe[We[we]++]=Te);if(We[15]==1)return(ve=new N).g=0,ve.value=Oe[0],S(re,Le,1,Ke,ve),Ke;var Ge,rt=-1,Ze=Ke-1,Qt=0,It=1,mr=1,Dt=1<<ce;for(Te=0,we=1,Ce=2;we<=ce;++we,Ce<<=1){if(It+=mr<<=1,0>(mr-=Ue[we]))return 0;for(;0<Ue[we];--Ue[we])(ve=new N).g=we,ve.value=Oe[Te++],S(re,Le+Qt,Ce,Dt,ve),Qt=I(Qt,we)}for(we=ce+1,Ce=2;15>=we;++we,Ce<<=1){if(It+=mr<<=1,0>(mr-=Ue[we]))return 0;for(;0<Ue[we];--Ue[we]){if(ve=new N,(Qt&Ze)!=rt){for(Le+=Dt,Ge=1<<(rt=we)-ce;15>rt&&!(0>=(Ge-=Ue[rt]));)++rt,Ge<<=1;Ke+=Dt=1<<(Ge=rt-ce),re[se+(rt=Qt&Ze)].g=Ge+ce,re[se+rt].value=Le-se-rt}ve.g=we-ce,ve.value=Oe[Te++],S(re,Le+(Qt>>ce),Ce,Dt,ve),Qt=I(Qt,we)}}return It!=2*We[15]-1?0:Ke}(w,C,D,M,z,Z)}function N(){this.value=this.g=0}function G(){this.value=this.g=0}function le(){this.G=a(5,N),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(w0,G)}function ie(w,C,D,M){e(w!=null),e(C!=null),e(2147483648>M),w.Ca=254,w.I=0,w.b=-8,w.Ka=0,w.oa=C,w.pa=D,w.Jd=C,w.Yc=D+M,w.Zc=4<=M?D+M-4+1:D,de(w)}function te(w,C){for(var D=0;0<C--;)D|=_e(w,128)<<C;return D}function J(w,C){var D=te(w,C);return fe(w)?-D:D}function W(w,C,D,M){var z,Z=0;for(e(w!=null),e(C!=null),e(4294967288>M),w.Sb=M,w.Ra=0,w.u=0,w.h=0,4<M&&(M=4),z=0;z<M;++z)Z+=C[D+z]<<8*z;w.Ra=Z,w.bb=M,w.oa=C,w.pa=D}function be(w){for(;8<=w.u&&w.bb<w.Sb;)w.Ra>>>=8,w.Ra+=w.oa[w.pa+w.bb]<<Zh-8>>>0,++w.bb,w.u-=8;Q(w)&&(w.h=1,w.u=0)}function xe(w,C){if(e(0<=C),!w.h&&C<=Vo){var D=H(w)&Ho[C];return w.u+=C,be(w),D}return w.h=1,w.u=0}function L(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function O(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(w){return w.Ra>>>(w.u&Zh-1)>>>0}function Q(w){return e(w.bb<=w.Sb),w.h||w.bb==w.Sb&&w.u>Zh}function Y(w,C){w.u=C,w.h=Q(w)}function oe(w){w.u>=gu&&(e(w.u>=gu),be(w))}function de(w){e(w!=null&&w.oa!=null),w.pa<w.Zc?(w.I=(w.oa[w.pa++]|w.I<<8)>>>0,w.b+=8):(e(w!=null&&w.oa!=null),w.pa<w.Yc?(w.b+=8,w.I=w.oa[w.pa++]|w.I<<8):w.Ka?w.b=0:(w.I<<=8,w.b+=8,w.Ka=1))}function fe(w){return te(w,1)}function _e(w,C){var D=w.Ca;0>w.b&&de(w);var M=w.b,z=D*C>>>8,Z=(w.I>>>M>z)+0;for(Z?(D-=z,w.I-=z+1<<M>>>0):D=z+1,M=D,z=0;256<=M;)z+=8,M>>=8;return M=7^z+ef[M],w.b-=M,w.Ca=(D<<M)-1,Z}function Se(w,C,D){w[C+0]=D>>24&255,w[C+1]=D>>16&255,w[C+2]=D>>8&255,w[C+3]=255&D}function ne(w,C){return w[C+0]|w[C+1]<<8}function $e(w,C){return ne(w,C)|w[C+2]<<16}function Be(w,C){return ne(w,C)|ne(w,C+2)<<16}function ue(w,C){var D=1<<C;return e(w!=null),e(0<C),w.X=s(D),w.X==null?0:(w.Mb=32-C,w.Xa=C,1)}function Xe(w,C){e(w!=null),e(C!=null),e(w.Xa==C.Xa),n(C.X,0,w.X,0,1<<C.Xa)}function je(){this.X=[],this.Xa=this.Mb=0}function qe(w,C,D,M){e(D!=null),e(M!=null);var z=D[0],Z=M[0];return z==0&&(z=(w*Z+C/2)/C),Z==0&&(Z=(C*z+w/2)/w),0>=z||0>=Z?0:(D[0]=z,M[0]=Z,1)}function Ve(w,C){return w+(1<<C)-1>>>C}function ht(w,C){return((4278255360&w)+(4278255360&C)>>>0&4278255360)+((16711935&w)+(16711935&C)>>>0&16711935)>>>0}function nt(w,C){_[C]=function(D,M,z,Z,re,se,ce){var ve;for(ve=0;ve<re;++ve){var Ce=_[w](se[ce+ve-1],z,Z+ve);se[ce+ve]=ht(D[M+ve],Ce)}}}function Nt(){this.ud=this.hd=this.jd=0}function gt(w,C){return((4278124286&(w^C))>>>1)+(w&C)>>>0}function Bt(w){return 0<=w&&256>w?w:0>w?0:255<w?255:void 0}function Et(w,C){return Bt(w+(w-C+.5>>1))}function At(w,C,D){return Math.abs(C-D)-Math.abs(w-D)}function Ft(w,C,D,M,z,Z,re){for(M=Z[re-1],D=0;D<z;++D)Z[re+D]=M=ht(w[C+D],M)}function mt(w,C,D,M,z){var Z;for(Z=0;Z<D;++Z){var re=w[C+Z],se=re>>8&255,ce=16711935&(ce=(ce=16711935&re)+((se<<16)+se));M[z+Z]=(4278255360&re)+ce>>>0}}function vt(w,C){C.jd=255&w,C.hd=w>>8&255,C.ud=w>>16&255}function at(w,C,D,M,z,Z){var re;for(re=0;re<M;++re){var se=C[D+re],ce=se>>>8,ve=se,Ce=255&(Ce=(Ce=se>>>16)+((w.jd<<24>>24)*(ce<<24>>24)>>>5));ve=255&(ve=(ve+=(w.hd<<24>>24)*(ce<<24>>24)>>>5)+((w.ud<<24>>24)*(Ce<<24>>24)>>>5)),z[Z+re]=(4278255360&se)+(Ce<<16)+ve}}function ct(w,C,D,M,z){_[C]=function(Z,re,se,ce,ve,Ce,Oe,we,Te){for(ce=Oe;ce<we;++ce)for(Oe=0;Oe<Te;++Oe)ve[Ce++]=z(se[M(Z[re++])])},_[w]=function(Z,re,se,ce,ve,Ce,Oe){var we=8>>Z.b,Te=Z.Ea,Le=Z.K[0],Ke=Z.w;if(8>we)for(Z=(1<<Z.b)-1,Ke=(1<<we)-1;re<se;++re){var Ue,We=0;for(Ue=0;Ue<Te;++Ue)Ue&Z||(We=M(ce[ve++])),Ce[Oe++]=z(Le[We&Ke]),We>>=we}else _["VP8LMapColor"+D](ce,ve,Le,Ke,Ce,Oe,re,se,Te)}}function jt(w,C,D,M,z){for(D=C+D;C<D;){var Z=w[C++];M[z++]=Z>>16&255,M[z++]=Z>>8&255,M[z++]=255&Z}}function Mt(w,C,D,M,z){for(D=C+D;C<D;){var Z=w[C++];M[z++]=Z>>16&255,M[z++]=Z>>8&255,M[z++]=255&Z,M[z++]=Z>>24&255}}function wt(w,C,D,M,z){for(D=C+D;C<D;){var Z=(re=w[C++])>>16&240|re>>12&15,re=240&re|re>>28&15;M[z++]=Z,M[z++]=re}}function Jt(w,C,D,M,z){for(D=C+D;C<D;){var Z=(re=w[C++])>>16&248|re>>13&7,re=re>>5&224|re>>3&31;M[z++]=Z,M[z++]=re}}function Jr(w,C,D,M,z){for(D=C+D;C<D;){var Z=w[C++];M[z++]=255&Z,M[z++]=Z>>8&255,M[z++]=Z>>16&255}}function Wt(w,C,D,M,z,Z){if(Z==0)for(D=C+D;C<D;)Se(M,((Z=w[C++])[0]>>24|Z[1]>>8&65280|Z[2]<<8&16711680|Z[3]<<24)>>>0),z+=32;else n(M,z,w,C,D)}function fr(w,C){_[C][0]=_[w+"0"],_[C][1]=_[w+"1"],_[C][2]=_[w+"2"],_[C][3]=_[w+"3"],_[C][4]=_[w+"4"],_[C][5]=_[w+"5"],_[C][6]=_[w+"6"],_[C][7]=_[w+"7"],_[C][8]=_[w+"8"],_[C][9]=_[w+"9"],_[C][10]=_[w+"10"],_[C][11]=_[w+"11"],_[C][12]=_[w+"12"],_[C][13]=_[w+"13"],_[C][14]=_[w+"0"],_[C][15]=_[w+"0"]}function Zt(w){return w==jT||w==KT||w==Tb||w==zT}function wn(){this.eb=[],this.size=this.A=this.fb=0}function yn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function jr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new wn,this.f.kb=new yn,this.sd=null}function Gt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function xr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function BA(w){return alert("todo:WebPSamplerProcessPlane"),w.T}function Yn(w,C){var D=w.T,M=C.ba.f.RGBA,z=M.eb,Z=M.fb+w.ka*M.A,re=LA[C.ba.S],se=w.y,ce=w.O,ve=w.f,Ce=w.N,Oe=w.ea,we=w.W,Te=C.cc,Le=C.dc,Ke=C.Mc,Ue=C.Nc,We=w.ka,Ge=w.ka+w.T,rt=w.U,Ze=rt+1>>1;for(We==0?re(se,ce,null,null,ve,Ce,Oe,we,ve,Ce,Oe,we,z,Z,null,null,rt):(re(C.ec,C.fc,se,ce,Te,Le,Ke,Ue,ve,Ce,Oe,we,z,Z-M.A,z,Z,rt),++D);We+2<Ge;We+=2)Te=ve,Le=Ce,Ke=Oe,Ue=we,Ce+=w.Rc,we+=w.Rc,Z+=2*M.A,re(se,(ce+=2*w.fa)-w.fa,se,ce,Te,Le,Ke,Ue,ve,Ce,Oe,we,z,Z-M.A,z,Z,rt);return ce+=w.fa,w.j+Ge<w.o?(n(C.ec,C.fc,se,ce,rt),n(C.cc,C.dc,ve,Ce,Ze),n(C.Mc,C.Nc,Oe,we,Ze),D--):1&Ge||re(se,ce,null,null,ve,Ce,Oe,we,ve,Ce,Oe,we,z,Z+M.A,null,null,rt),D}function Ao(w,C,D){var M=w.F,z=[w.J];if(M!=null){var Z=w.U,re=C.ba.S,se=re==Sb||re==Tb;C=C.ba.f.RGBA;var ce=[0],ve=w.ka;ce[0]=w.T,w.Kb&&(ve==0?--ce[0]:(--ve,z[0]-=w.width),w.j+w.ka+w.T==w.o&&(ce[0]=w.o-w.j-ve));var Ce=C.eb;ve=C.fb+ve*C.A,w=pD(M,z[0],w.width,Z,ce,Ce,ve+(se?0:3),C.A),e(D==ce),w&&Zt(re)&&gw(Ce,ve,se,Z,ce,C.A)}return 0}function fs(w){var C=w.ma,D=C.ba.S,M=11>D,z=D==Cb||D==Bb||D==Sb||D==VT||D==12||Zt(D);if(C.memory=null,C.Ib=null,C.Jb=null,C.Nd=null,!Aw(C.Oa,w,z?11:12))return 0;if(z&&Zt(D)&&v0(),w.da)alert("todo:use_scaling");else{if(M){if(C.Ib=BA,w.Kb){if(D=w.U+1>>1,C.memory=s(w.U+2*D),C.memory==null)return 0;C.ec=C.memory,C.fc=0,C.cc=C.ec,C.dc=C.fc+w.U,C.Mc=C.cc,C.Nc=C.dc+D,C.Ib=Yn,v0()}}else alert("todo:EmitYUV");z&&(C.Jb=Ao,M&&Sn())}if(M&&!kD){for(w=0;256>w;++w)CJ[w]=89858*(w-128)+Ib>>Fb,TJ[w]=-22014*(w-128)+Ib,SJ[w]=-45773*(w-128),BJ[w]=113618*(w-128)+Ib>>Fb;for(w=vw;w<$T;++w)C=76283*(w-16)+Ib>>Fb,FJ[w-vw]=br(C,255),IJ[w-vw]=br(C+8>>4,15);kD=1}return 1}function zt(w){var C=w.ma,D=w.U,M=w.T;return e(!(1&w.ka)),0>=D||0>=M?0:(D=C.Ib(w,C),C.Jb!=null&&C.Jb(w,C,D),C.Dc+=D,1)}function xn(w){w.ma.memory=null}function lo(w,C,D,M){return xe(w,8)!=47?0:(C[0]=xe(w,14)+1,D[0]=xe(w,14)+1,M[0]=xe(w,1),xe(w,3)!=0?0:!w.h)}function li(w,C){if(4>w)return w+1;var D=w-2>>1;return(2+(1&w)<<D)+xe(C,D)+1}function Ui(w,C){return 120<C?C-120:1<=(D=((D=uJ[C-1])>>4)*w+(8-(15&D)))?D:1;var D}function Bn(w,C,D){var M=H(D),z=w[C+=255&M].g-8;return 0<z&&(Y(D,D.u+8),M=H(D),C+=w[C].value,C+=M&(1<<z)-1),Y(D,D.u+w[C].g),w[C].value}function ci(w,C,D){return D.g+=w.g,D.value+=w.value<<C>>>0,e(8>=D.g),w.g}function q(w,C,D){var M=w.xc;return e((C=M==0?0:w.vc[w.md*(D>>M)+(C>>M)])<w.Wb),w.Ya[C]}function me(w,C,D,M){var z=w.ab,Z=w.c*C,re=w.C;C=re+C;var se=D,ce=M;for(M=w.Ta,D=w.Ua;0<z--;){var ve=w.gc[z],Ce=re,Oe=C,we=se,Te=ce,Le=(ce=M,se=D,ve.Ea);switch(e(Ce<Oe),e(Oe<=ve.nc),ve.hc){case 2:xi(we,Te,(Oe-Ce)*Le,ce,se);break;case 0:var Ke=Ce,Ue=Oe,We=ce,Ge=se,rt=(Dt=ve).Ea;Ke==0&&(cw(we,Te,null,null,1,We,Ge),Ft(we,Te+1,0,0,rt-1,We,Ge+1),Te+=rt,Ge+=rt,++Ke);for(var Ze=1<<Dt.b,Qt=Ze-1,It=Ve(rt,Dt.b),mr=Dt.K,Dt=Dt.w+(Ke>>Dt.b)*It;Ke<Ue;){var Rr=mr,Yi=Dt,vr=1;for(Xg(we,Te,We,Ge-rt,1,We,Ge);vr<rt;){var Ut=(vr&~Qt)+Ze;Ut>rt&&(Ut=rt),(0,hw[Rr[Yi++]>>8&15])(we,Te+ +vr,We,Ge+vr-rt,Ut-vr,We,Ge+vr),vr=Ut}Te+=rt,Ge+=rt,++Ke&Qt||(Dt+=It)}Oe!=ve.nc&&n(ce,se-Le,ce,se+(Oe-Ce-1)*Le,Le);break;case 1:for(Le=we,Ue=Te,rt=(we=ve.Ea)-(Ge=we&~(We=(Te=1<<ve.b)-1)),Ke=Ve(we,ve.b),Ze=ve.K,ve=ve.w+(Ce>>ve.b)*Ke;Ce<Oe;){for(Qt=Ze,It=ve,mr=new Nt,Dt=Ue+Ge,Rr=Ue+we;Ue<Dt;)vt(Qt[It++],mr),fw(mr,Le,Ue,Te,ce,se),Ue+=Te,se+=Te;Ue<Rr&&(vt(Qt[It++],mr),fw(mr,Le,Ue,rt,ce,se),Ue+=rt,se+=rt),++Ce&We||(ve+=Ke)}break;case 3:if(we==ce&&Te==se&&0<ve.b){for(Ue=ce,we=Le=se+(Oe-Ce)*Le-(Ge=(Oe-Ce)*Ve(ve.Ea,ve.b)),Te=ce,We=se,Ke=[],Ge=(rt=Ge)-1;0<=Ge;--Ge)Ke[Ge]=Te[We+Ge];for(Ge=rt-1;0<=Ge;--Ge)Ue[we+Ge]=Ke[Ge];xb(ve,Ce,Oe,ce,Le,ce,se)}else xb(ve,Ce,Oe,we,Te,ce,se)}se=M,ce=D}ce!=D&&n(M,D,se,ce,Z)}function Ae(w,C){var D=w.V,M=w.Ba+w.c*w.C,z=C-w.C;if(e(C<=w.l.o),e(16>=z),0<z){var Z=w.l,re=w.Ta,se=w.Ua,ce=Z.width;if(me(w,z,D,M),z=se=[se],e((D=w.C)<(M=C)),e(Z.v<Z.va),M>Z.o&&(M=Z.o),D<Z.j){var ve=Z.j-D;D=Z.j,z[0]+=ve*ce}if(D>=M?D=0:(z[0]+=4*Z.v,Z.ka=D-Z.j,Z.U=Z.va-Z.v,Z.T=M-D,D=1),D){if(se=se[0],11>(D=w.ca).S){var Ce=D.f.RGBA,Oe=(M=D.S,z=Z.U,Z=Z.T,ve=Ce.eb,Ce.A),we=Z;for(Ce=Ce.fb+w.Ma*Ce.A;0<we--;){var Te=re,Le=se,Ke=z,Ue=ve,We=Ce;switch(M){case Eb:dw(Te,Le,Ke,Ue,We);break;case Cb:tf(Te,Le,Ke,Ue,We);break;case jT:tf(Te,Le,Ke,Ue,We),gw(Ue,We,0,Ke,1,0);break;case _D:y0(Te,Le,Ke,Ue,We);break;case Bb:Wt(Te,Le,Ke,Ue,We,1);break;case KT:Wt(Te,Le,Ke,Ue,We,1),gw(Ue,We,0,Ke,1,0);break;case Sb:Wt(Te,Le,Ke,Ue,We,0);break;case Tb:Wt(Te,Le,Ke,Ue,We,0),gw(Ue,We,1,Ke,1,0);break;case VT:rf(Te,Le,Ke,Ue,We);break;case zT:rf(Te,Le,Ke,Ue,We),dD(Ue,We,Ke,1,0);break;case bD:nf(Te,Le,Ke,Ue,We);break;default:e(0)}se+=ce,Ce+=Oe}w.Ma+=Z}else alert("todo:EmitRescaledRowsYUVA");e(w.Ma<=D.height)}}w.C=C,e(w.C<=w.i)}function he(w){var C;if(0<w.ua)return 0;for(C=0;C<w.Wb;++C){var D=w.Ya[C].G,M=w.Ya[C].H;if(0<D[1][M[1]+0].g||0<D[2][M[2]+0].g||0<D[3][M[3]+0].g)return 0}return 1}function pe(w,C,D,M,z,Z){if(w.Z!=0){var re=w.qd,se=w.rd;for(e(of[w.Z]!=null);C<D;++C)of[w.Z](re,se,M,z,M,z,Z),re=M,se=z,z+=Z;w.qd=re,w.rd=se}}function ye(w,C){var D=w.l.ma,M=D.Z==0||D.Z==1?w.l.j:w.C;if(M=w.C<M?M:w.C,e(C<=w.l.o),C>M){var z=w.l.width,Z=D.ca,re=D.tb+z*M,se=w.V,ce=w.Ba+w.c*M,ve=w.gc;e(w.ab==1),e(ve[0].hc==3),hc(ve[0],M,C,se,ce,Z,re),pe(D,M,C,Z,re,z)}w.C=w.Ma=C}function Pe(w,C,D,M,z,Z,re){var se=w.$/M,ce=w.$%M,ve=w.m,Ce=w.s,Oe=D+w.$,we=Oe;z=D+M*z;var Te=D+M*Z,Le=280+Ce.ua,Ke=w.Pb?se:16777216,Ue=0<Ce.ua?Ce.Wa:null,We=Ce.wc,Ge=Oe<Te?q(Ce,ce,se):null;e(w.C<Z),e(Te<=z);var rt=!1;e:for(;;){for(;rt||Oe<Te;){var Ze=0;if(se>=Ke){var Qt=Oe-D;e((Ke=w).Pb),Ke.wd=Ke.m,Ke.xd=Qt,0<Ke.s.ua&&Xe(Ke.s.Wa,Ke.s.vb),Ke=se+fJ}if(ce&We||(Ge=q(Ce,ce,se)),e(Ge!=null),Ge.Qb&&(C[Oe]=Ge.qb,rt=!0),!rt)if(oe(ve),Ge.jc){Ze=ve,Qt=C;var It=Oe,mr=Ge.pd[H(Ze)&w0-1];e(Ge.jc),256>mr.g?(Y(Ze,Ze.u+mr.g),Qt[It]=mr.value,Ze=0):(Y(Ze,Ze.u+mr.g-256),e(256<=mr.value),Ze=mr.value),Ze==0&&(rt=!0)}else Ze=Bn(Ge.G[0],Ge.H[0],ve);if(ve.h)break;if(rt||256>Ze){if(!rt)if(Ge.nd)C[Oe]=(Ge.qb|Ze<<8)>>>0;else{if(oe(ve),rt=Bn(Ge.G[1],Ge.H[1],ve),oe(ve),Qt=Bn(Ge.G[2],Ge.H[2],ve),It=Bn(Ge.G[3],Ge.H[3],ve),ve.h)break;C[Oe]=(It<<24|rt<<16|Ze<<8|Qt)>>>0}if(rt=!1,++Oe,++ce>=M&&(ce=0,++se,re!=null&&se<=Z&&!(se%16)&&re(w,se),Ue!=null))for(;we<Oe;)Ze=C[we++],Ue.X[(506832829*Ze&4294967295)>>>Ue.Mb]=Ze}else if(280>Ze){if(Ze=li(Ze-256,ve),Qt=Bn(Ge.G[4],Ge.H[4],ve),oe(ve),Qt=Ui(M,Qt=li(Qt,ve)),ve.h)break;if(Oe-D<Qt||z-Oe<Ze)break e;for(It=0;It<Ze;++It)C[Oe+It]=C[Oe+It-Qt];for(Oe+=Ze,ce+=Ze;ce>=M;)ce-=M,++se,re!=null&&se<=Z&&!(se%16)&&re(w,se);if(e(Oe<=z),ce&We&&(Ge=q(Ce,ce,se)),Ue!=null)for(;we<Oe;)Ze=C[we++],Ue.X[(506832829*Ze&4294967295)>>>Ue.Mb]=Ze}else{if(!(Ze<Le))break e;for(rt=Ze-280,e(Ue!=null);we<Oe;)Ze=C[we++],Ue.X[(506832829*Ze&4294967295)>>>Ue.Mb]=Ze;Ze=Oe,e(!(rt>>>(Qt=Ue).Xa)),C[Ze]=Qt.X[rt],rt=!0}rt||e(ve.h==Q(ve))}if(w.Pb&&ve.h&&Oe<z)e(w.m.h),w.a=5,w.m=w.wd,w.$=w.xd,0<w.s.ua&&Xe(w.s.vb,w.s.Wa);else{if(ve.h)break e;re!=null&&re(w,se>Z?Z:se),w.a=0,w.$=Oe-D}return 1}return w.a=3,0}function He(w){e(w!=null),w.vc=null,w.yc=null,w.Ya=null;var C=w.Wa;C!=null&&(C.X=null),w.vb=null,e(w!=null)}function Re(){var w=new Pt;return w==null?null:(w.a=0,w.xb=BD,fr("Predictor","VP8LPredictors"),fr("Predictor","VP8LPredictors_C"),fr("PredictorAdd","VP8LPredictorsAdd"),fr("PredictorAdd","VP8LPredictorsAdd_C"),xi=mt,fw=at,dw=jt,tf=Mt,rf=wt,nf=Jt,y0=Jr,_.VP8LMapColor32b=uc,_.VP8LMapColor8b=uw,w)}function Ne(w,C,D,M,z){var Z=1,re=[w],se=[C],ce=M.m,ve=M.s,Ce=null,Oe=0;e:for(;;){if(D)for(;Z&&xe(ce,1);){var we=re,Te=se,Le=M,Ke=1,Ue=Le.m,We=Le.gc[Le.ab],Ge=xe(Ue,2);if(Le.Oc&1<<Ge)Z=0;else{switch(Le.Oc|=1<<Ge,We.hc=Ge,We.Ea=we[0],We.nc=Te[0],We.K=[null],++Le.ab,e(4>=Le.ab),Ge){case 0:case 1:We.b=xe(Ue,3)+2,Ke=Ne(Ve(We.Ea,We.b),Ve(We.nc,We.b),0,Le,We.K),We.K=We.K[0];break;case 3:var rt,Ze=xe(Ue,8)+1,Qt=16<Ze?0:4<Ze?1:2<Ze?2:3;if(we[0]=Ve(We.Ea,Qt),We.b=Qt,rt=Ke=Ne(Ze,1,0,Le,We.K)){var It,mr=Ze,Dt=We,Rr=1<<(8>>Dt.b),Yi=s(Rr);if(Yi==null)rt=0;else{var vr=Dt.K[0],Ut=Dt.w;for(Yi[0]=Dt.K[0][0],It=1;It<1*mr;++It)Yi[It]=ht(vr[Ut+It],Yi[It-1]);for(;It<4*Rr;++It)Yi[It]=0;Dt.K[0]=null,Dt.K[0]=Yi,rt=1}}Ke=rt;break;case 2:break;default:e(0)}Z=Ke}}if(re=re[0],se=se[0],Z&&xe(ce,1)&&!(Z=1<=(Oe=xe(ce,4))&&11>=Oe)){M.a=3;break e}var ft;if(ft=Z)t:{var bi,hr,Or,Nn=M,ks=re,Oa=se,fi=Oe,ta=D,Qa=Nn.m,Ji=Nn.s,Kr=[null],on=1,di=0,An=hJ[fi];r:for(;;){if(ta&&xe(Qa,1)){var Ls=xe(Qa,3)+2,pl=Ve(ks,Ls),Ei=Ve(Oa,Ls),go=pl*Ei;if(!Ne(pl,Ei,0,Nn,Kr))break r;for(Kr=Kr[0],Ji.xc=Ls,bi=0;bi<go;++bi){var bn=Kr[bi]>>8&65535;Kr[bi]=bn,bn>=on&&(on=bn+1)}}if(Qa.h)break r;for(hr=0;5>hr;++hr){var Zi=ED[hr];!hr&&0<fi&&(Zi+=1<<fi),di<Zi&&(di=Zi)}var Ko=a(on*An,N),Ha=on,zo=a(Ha,le);if(zo==null)var Wo=null;else e(65536>=Ha),Wo=zo;var mo=s(di);if(Wo==null||mo==null||Ko==null){Nn.a=1;break r}var Go=Ko;for(bi=Or=0;bi<on;++bi){var Fn=Wo[bi],$o=Fn.G,gl=Fn.H,_0=0,wu=1,Ps=0;for(hr=0;5>hr;++hr){Zi=ED[hr],$o[hr]=Go,gl[hr]=Or,!hr&&0<fi&&(Zi+=1<<fi);i:{var Lb,qT=Zi,Pb=Nn,ww=mo,PJ=Go,RJ=Or,XT=0,Af=Pb.m,NJ=xe(Af,1);if(i(ww,0,0,qT),NJ){var DJ=xe(Af,1)+1,UJ=xe(Af,1),RD=xe(Af,UJ==0?1:8);ww[RD]=1,DJ==2&&(ww[RD=xe(Af,8)]=1);var Rb=1}else{var ND=s(19),DD=xe(Af,4)+4;if(19<DD){Pb.a=3;var Nb=0;break i}for(Lb=0;Lb<DD;++Lb)ND[cJ[Lb]]=xe(Af,3);var YT=void 0,yw=void 0,UD=Pb,MJ=ND,Db=qT,MD=ww,JT=0,lf=UD.m,OD=8,QD=a(128,N);n:for(;F(QD,0,7,MJ,19);){if(xe(lf,1)){var OJ=2+2*xe(lf,3);if((YT=2+xe(lf,OJ))>Db)break n}else YT=Db;for(yw=0;yw<Db&&YT--;){oe(lf);var HD=QD[0+(127&H(lf))];Y(lf,lf.u+HD.g);var Jg=HD.value;if(16>Jg)MD[yw++]=Jg,Jg!=0&&(OD=Jg);else{var QJ=Jg==16,VD=Jg-16,HJ=AJ[VD],jD=xe(lf,oJ[VD])+HJ;if(yw+jD>Db)break n;for(var VJ=QJ?OD:0;0<jD--;)MD[yw++]=VJ}}JT=1;break n}JT||(UD.a=3),Rb=JT}(Rb=Rb&&!Af.h)&&(XT=F(PJ,RJ,8,ww,qT)),Rb&&XT!=0?Nb=XT:(Pb.a=3,Nb=0)}if(Nb==0)break r;if(wu&&lJ[hr]==1&&(wu=Go[Or].g==0),_0+=Go[Or].g,Or+=Nb,3>=hr){var xw,ZT=mo[0];for(xw=1;xw<Zi;++xw)mo[xw]>ZT&&(ZT=mo[xw]);Ps+=ZT}}if(Fn.nd=wu,Fn.Qb=0,wu&&(Fn.qb=($o[3][gl[3]+0].value<<24|$o[1][gl[1]+0].value<<16|$o[2][gl[2]+0].value)>>>0,_0==0&&256>$o[0][gl[0]+0].value&&(Fn.Qb=1,Fn.qb+=$o[0][gl[0]+0].value<<8)),Fn.jc=!Fn.Qb&&6>Ps,Fn.jc){var Ub,yu=Fn;for(Ub=0;Ub<w0;++Ub){var cf=Ub,uf=yu.pd[cf],Mb=yu.G[0][yu.H[0]+cf];256<=Mb.value?(uf.g=Mb.g+256,uf.value=Mb.value):(uf.g=0,uf.value=0,cf>>=ci(Mb,8,uf),cf>>=ci(yu.G[1][yu.H[1]+cf],16,uf),cf>>=ci(yu.G[2][yu.H[2]+cf],0,uf),ci(yu.G[3][yu.H[3]+cf],24,uf))}}}Ji.vc=Kr,Ji.Wb=on,Ji.Ya=Wo,Ji.yc=Ko,ft=1;break t}ft=0}if(!(Z=ft)){M.a=3;break e}if(0<Oe){if(ve.ua=1<<Oe,!ue(ve.Wa,Oe)){M.a=1,Z=0;break e}}else ve.ua=0;var eF=M,KD=re,jJ=se,tF=eF.s,rF=tF.xc;if(eF.c=KD,eF.i=jJ,tF.md=Ve(KD,rF),tF.wc=rF==0?-1:(1<<rF)-1,D){M.xb=yJ;break e}if((Ce=s(re*se))==null){M.a=1,Z=0;break e}Z=(Z=Pe(M,Ce,0,re,se,se,null))&&!ce.h;break e}return Z?(z!=null?z[0]=Ce:(e(Ce==null),e(D)),M.$=0,D||He(ve)):He(ve),Z}function Me(w,C){var D=w.c*w.i,M=D+C+16*C;return e(w.c<=C),w.V=s(M),w.V==null?(w.Ta=null,w.Ua=0,w.a=1,0):(w.Ta=w.V,w.Ua=w.Ba+D+C,1)}function et(w,C){var D=w.C,M=C-D,z=w.V,Z=w.Ba+w.c*D;for(e(C<=w.l.o);0<M;){var re=16<M?16:M,se=w.l.ma,ce=w.l.width,ve=ce*re,Ce=se.ca,Oe=se.tb+ce*D,we=w.Ta,Te=w.Ua;me(w,re,z,Z),gD(we,Te,Ce,Oe,ve),pe(se,D,D+re,Ce,Oe,ce),M-=re,z+=re*w.c,D+=re}e(D==C),w.C=w.Ma=C}function lt(){this.ub=this.yd=this.td=this.Rb=0}function dt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function it(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function ut(){this.Yb=function(){var w=[];return function C(D,M,z){for(var Z=z[M],re=0;re<Z&&(D.push(z.length>M+1?[]:0),!(z.length<M+1));re++)C(D[re],M+1,z)}(w,0,[3,11]),w}()}function qt(){this.jb=s(3),this.Wc=o([4,8],ut),this.Xc=o([4,17],ut)}function $r(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function dr(){this.ld=this.La=this.dd=this.tc=0}function tn(){this.Na=this.la=0}function co(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Do(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Uo(){this.uc=this.M=this.Nb=0,this.wa=Array(new dr),this.Y=0,this.ya=Array(new Do),this.aa=0,this.l=new Mi}function Da(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Al(){this.cb=this.a=0,this.sc="",this.m=new L,this.Od=new lt,this.Kc=new dt,this.ed=new $r,this.Qa=new it,this.Ic=this.$c=this.Aa=0,this.D=new Uo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,L),this.ia=0,this.pb=a(4,co),this.Pa=new qt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Da),this.Hd=0,this.rb=Array(new tn),this.sb=0,this.wa=Array(new dr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Do),this.L=this.aa=0,this.gd=o([4,2],dr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Mi(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function l0(){var w=new Al;return w!=null&&(w.a=0,w.sc="OK",w.cb=0,w.Xb=0,mw||(mw=ll)),w}function Jn(w,C,D){return w.a==0&&(w.a=C,w.sc=D,w.cb=0),0}function c0(w,C,D){return 3<=D&&w[C+0]==157&&w[C+1]==1&&w[C+2]==42}function Gg(w,C){if(w==null)return 0;if(w.a=0,w.sc="OK",C==null)return Jn(w,2,"null VP8Io passed to VP8GetHeaders()");var D=C.data,M=C.w,z=C.ha;if(4>z)return Jn(w,7,"Truncated header.");var Z=D[M+0]|D[M+1]<<8|D[M+2]<<16,re=w.Od;if(re.Rb=!(1&Z),re.td=Z>>1&7,re.yd=Z>>4&1,re.ub=Z>>5,3<re.td)return Jn(w,3,"Incorrect keyframe parameters.");if(!re.yd)return Jn(w,4,"Frame not displayable.");M+=3,z-=3;var se=w.Kc;if(re.Rb){if(7>z)return Jn(w,7,"cannot parse picture header");if(!c0(D,M,z))return Jn(w,3,"Bad code word");se.c=16383&(D[M+4]<<8|D[M+3]),se.Td=D[M+4]>>6,se.i=16383&(D[M+6]<<8|D[M+5]),se.Ud=D[M+6]>>6,M+=7,z-=7,w.za=se.c+15>>4,w.Ub=se.i+15>>4,C.width=se.c,C.height=se.i,C.Da=0,C.j=0,C.v=0,C.va=C.width,C.o=C.height,C.da=0,C.ib=C.width,C.hb=C.height,C.U=C.width,C.T=C.height,i((Z=w.Pa).jb,0,255,Z.jb.length),e((Z=w.Qa)!=null),Z.Cb=0,Z.Bb=0,Z.Fb=1,i(Z.Zb,0,0,Z.Zb.length),i(Z.Lb,0,0,Z.Lb)}if(re.ub>z)return Jn(w,7,"bad partition length");ie(Z=w.m,D,M,re.ub),M+=re.ub,z-=re.ub,re.Rb&&(se.Ld=fe(Z),se.Kd=fe(Z)),se=w.Qa;var ce,ve=w.Pa;if(e(Z!=null),e(se!=null),se.Cb=fe(Z),se.Cb){if(se.Bb=fe(Z),fe(Z)){for(se.Fb=fe(Z),ce=0;4>ce;++ce)se.Zb[ce]=fe(Z)?J(Z,7):0;for(ce=0;4>ce;++ce)se.Lb[ce]=fe(Z)?J(Z,6):0}if(se.Bb)for(ce=0;3>ce;++ce)ve.jb[ce]=fe(Z)?te(Z,8):255}else se.Bb=0;if(Z.Ka)return Jn(w,3,"cannot parse segment header");if((se=w.ed).zd=fe(Z),se.Tb=te(Z,6),se.wb=te(Z,3),se.Pc=fe(Z),se.Pc&&fe(Z)){for(ve=0;4>ve;++ve)fe(Z)&&(se.vd[ve]=J(Z,6));for(ve=0;4>ve;++ve)fe(Z)&&(se.od[ve]=J(Z,6))}if(w.L=se.Tb==0?0:se.zd?1:2,Z.Ka)return Jn(w,3,"cannot parse filter header");var Ce=z;if(z=ce=M,M=ce+Ce,se=Ce,w.Xb=(1<<te(w.m,2))-1,Ce<3*(ve=w.Xb))D=7;else{for(ce+=3*ve,se-=3*ve,Ce=0;Ce<ve;++Ce){var Oe=D[z+0]|D[z+1]<<8|D[z+2]<<16;Oe>se&&(Oe=se),ie(w.Jc[+Ce],D,ce,Oe),ce+=Oe,se-=Oe,z+=3}ie(w.Jc[+ve],D,ce,se),D=ce<M?0:5}if(D!=0)return Jn(w,D,"cannot parse partitions");for(D=te(ce=w.m,7),z=fe(ce)?J(ce,4):0,M=fe(ce)?J(ce,4):0,se=fe(ce)?J(ce,4):0,ve=fe(ce)?J(ce,4):0,ce=fe(ce)?J(ce,4):0,Ce=w.Qa,Oe=0;4>Oe;++Oe){if(Ce.Cb){var we=Ce.Zb[Oe];Ce.Fb||(we+=D)}else{if(0<Oe){w.pb[Oe]=w.pb[0];continue}we=D}var Te=w.pb[Oe];Te.Sc[0]=WT[br(we+z,127)],Te.Sc[1]=GT[br(we+0,127)],Te.Eb[0]=2*WT[br(we+M,127)],Te.Eb[1]=101581*GT[br(we+se,127)]>>16,8>Te.Eb[1]&&(Te.Eb[1]=8),Te.Qc[0]=WT[br(we+ve,117)],Te.Qc[1]=GT[br(we+ce,127)],Te.lc=we+ce}if(!re.Rb)return Jn(w,4,"Not a key frame.");for(fe(Z),re=w.Pa,D=0;4>D;++D){for(z=0;8>z;++z)for(M=0;3>M;++M)for(se=0;11>se;++se)ve=_e(Z,vJ[D][z][M][se])?te(Z,8):gJ[D][z][M][se],re.Wc[D][z].Yb[M][se]=ve;for(z=0;17>z;++z)re.Xc[D][z]=re.Wc[D][wJ[z]]}return w.kc=fe(Z),w.kc&&(w.Bd=te(Z,8)),w.cb=1}function ll(w,C,D,M,z,Z,re){var se=C[z].Yb[D];for(D=0;16>z;++z){if(!_e(w,se[D+0]))return z;for(;!_e(w,se[D+1]);)if(se=C[++z].Yb[0],D=0,z==16)return 16;var ce=C[z+1].Yb;if(_e(w,se[D+2])){var ve=w,Ce=0;if(_e(ve,(we=se)[(Oe=D)+3]))if(_e(ve,we[Oe+6])){for(se=0,Oe=2*(Ce=_e(ve,we[Oe+8]))+(we=_e(ve,we[Oe+9+Ce])),Ce=0,we=dJ[Oe];we[se];++se)Ce+=Ce+_e(ve,we[se]);Ce+=3+(8<<Oe)}else _e(ve,we[Oe+7])?(Ce=7+2*_e(ve,165),Ce+=_e(ve,145)):Ce=5+_e(ve,159);else Ce=_e(ve,we[Oe+4])?3+_e(ve,we[Oe+5]):2;se=ce[2]}else Ce=1,se=ce[1];ce=re+pJ[z],0>(ve=w).b&&de(ve);var Oe,we=ve.b,Te=(Oe=ve.Ca>>1)-(ve.I>>we)>>31;--ve.b,ve.Ca+=Te,ve.Ca|=1,ve.I-=(Oe+1&Te)<<we,Z[ce]=((Ce^Te)-Te)*M[(0<z)+0]}return 16}function ic(w){var C=w.rb[w.sb-1];C.la=0,C.Na=0,i(w.zc,0,0,w.zc.length),w.ja=0}function uo(w,C,D,M,z){z=w[C+D+32*M]+(z>>3),w[C+D+32*M]=-256&z?0>z?0:255:z}function cu(w,C,D,M,z,Z){uo(w,C,0,D,M+z),uo(w,C,1,D,M+Z),uo(w,C,2,D,M-Z),uo(w,C,3,D,M-z)}function sn(w){return(20091*w>>16)+w}function Ua(w,C,D,M){var z,Z=0,re=s(16);for(z=0;4>z;++z){var se=w[C+0]+w[C+8],ce=w[C+0]-w[C+8],ve=(35468*w[C+4]>>16)-sn(w[C+12]),Ce=sn(w[C+4])+(35468*w[C+12]>>16);re[Z+0]=se+Ce,re[Z+1]=ce+ve,re[Z+2]=ce-ve,re[Z+3]=se-Ce,Z+=4,C++}for(z=Z=0;4>z;++z)se=(w=re[Z+0]+4)+re[Z+8],ce=w-re[Z+8],ve=(35468*re[Z+4]>>16)-sn(re[Z+12]),uo(D,M,0,0,se+(Ce=sn(re[Z+4])+(35468*re[Z+12]>>16))),uo(D,M,1,0,ce+ve),uo(D,M,2,0,ce-ve),uo(D,M,3,0,se-Ce),Z++,M+=32}function zh(w,C,D,M){var z=w[C+0]+4,Z=35468*w[C+4]>>16,re=sn(w[C+4]),se=35468*w[C+1]>>16;cu(D,M,0,z+re,w=sn(w[C+1]),se),cu(D,M,1,z+Z,w,se),cu(D,M,2,z-Z,w,se),cu(D,M,3,z-re,w,se)}function Wh(w,C,D,M,z){Ua(w,C,D,M),z&&Ua(w,C+16,D,M+4)}function $g(w,C,D,M){x0(w,C+0,D,M,1),x0(w,C+32,D,M+128,1)}function Fr(w,C,D,M){var z;for(w=w[C+0]+4,z=0;4>z;++z)for(C=0;4>C;++C)uo(D,M,C,z,w)}function uu(w,C,D,M){w[C+0]&&rn(w,C+0,D,M),w[C+16]&&rn(w,C+16,D,M+4),w[C+32]&&rn(w,C+32,D,M+128),w[C+48]&&rn(w,C+48,D,M+128+4)}function sc(w,C,D,M){var z,Z=s(16);for(z=0;4>z;++z){var re=w[C+0+z]+w[C+12+z],se=w[C+4+z]+w[C+8+z],ce=w[C+4+z]-w[C+8+z],ve=w[C+0+z]-w[C+12+z];Z[0+z]=re+se,Z[8+z]=re-se,Z[4+z]=ve+ce,Z[12+z]=ve-ce}for(z=0;4>z;++z)re=(w=Z[0+4*z]+3)+Z[3+4*z],se=Z[1+4*z]+Z[2+4*z],ce=Z[1+4*z]-Z[2+4*z],ve=w-Z[3+4*z],D[M+0]=re+se>>3,D[M+16]=ve+ce>>3,D[M+32]=re-se>>3,D[M+48]=ve-ce>>3,M+=64}function ho(w,C,D){var M,z=C-32,Z=jo,re=255-w[z-1];for(M=0;M<D;++M){var se,ce=Z,ve=re+w[C-1];for(se=0;se<D;++se)w[C+se]=ce[ve+w[z+se]];C+=32}}function u0(w,C){ho(w,C,4)}function qg(w,C){ho(w,C,8)}function rw(w,C){ho(w,C,16)}function nw(w,C){var D;for(D=0;16>D;++D)n(w,C+32*D,w,C-32,16)}function h0(w,C){var D;for(D=16;0<D;--D)i(w,C,w[C-1],16),C+=32}function hu(w,C,D){var M;for(M=0;16>M;++M)i(C,D+32*M,w,16)}function fo(w,C){var D,M=16;for(D=0;16>D;++D)M+=w[C-1+32*D]+w[C+D-32];hu(M>>5,w,C)}function SA(w,C){var D,M=8;for(D=0;16>D;++D)M+=w[C-1+32*D];hu(M>>4,w,C)}function ac(w,C){var D,M=8;for(D=0;16>D;++D)M+=w[C+D-32];hu(M>>4,w,C)}function Gh(w,C){hu(128,w,C)}function er(w,C,D){return w+2*C+D+2>>2}function oc(w,C){var D,M=C-32;for(M=new Uint8Array([er(w[M-1],w[M+0],w[M+1]),er(w[M+0],w[M+1],w[M+2]),er(w[M+1],w[M+2],w[M+3]),er(w[M+2],w[M+3],w[M+4])]),D=0;4>D;++D)n(w,C+32*D,M,0,M.length)}function iw(w,C){var D=w[C-1],M=w[C-1+32],z=w[C-1+64],Z=w[C-1+96];Se(w,C+0,16843009*er(w[C-1-32],D,M)),Se(w,C+32,16843009*er(D,M,z)),Se(w,C+64,16843009*er(M,z,Z)),Se(w,C+96,16843009*er(z,Z,Z))}function sw(w,C){var D,M=4;for(D=0;4>D;++D)M+=w[C+D-32]+w[C-1+32*D];for(M>>=3,D=0;4>D;++D)i(w,C+32*D,M,4)}function aw(w,C){var D=w[C-1+0],M=w[C-1+32],z=w[C-1+64],Z=w[C-1-32],re=w[C+0-32],se=w[C+1-32],ce=w[C+2-32],ve=w[C+3-32];w[C+0+96]=er(M,z,w[C-1+96]),w[C+1+96]=w[C+0+64]=er(D,M,z),w[C+2+96]=w[C+1+64]=w[C+0+32]=er(Z,D,M),w[C+3+96]=w[C+2+64]=w[C+1+32]=w[C+0+0]=er(re,Z,D),w[C+3+64]=w[C+2+32]=w[C+1+0]=er(se,re,Z),w[C+3+32]=w[C+2+0]=er(ce,se,re),w[C+3+0]=er(ve,ce,se)}function ds(w,C){var D=w[C+1-32],M=w[C+2-32],z=w[C+3-32],Z=w[C+4-32],re=w[C+5-32],se=w[C+6-32],ce=w[C+7-32];w[C+0+0]=er(w[C+0-32],D,M),w[C+1+0]=w[C+0+32]=er(D,M,z),w[C+2+0]=w[C+1+32]=w[C+0+64]=er(M,z,Z),w[C+3+0]=w[C+2+32]=w[C+1+64]=w[C+0+96]=er(z,Z,re),w[C+3+32]=w[C+2+64]=w[C+1+96]=er(Z,re,se),w[C+3+64]=w[C+2+96]=er(re,se,ce),w[C+3+96]=er(se,ce,ce)}function cl(w,C){var D=w[C-1+0],M=w[C-1+32],z=w[C-1+64],Z=w[C-1-32],re=w[C+0-32],se=w[C+1-32],ce=w[C+2-32],ve=w[C+3-32];w[C+0+0]=w[C+1+64]=Z+re+1>>1,w[C+1+0]=w[C+2+64]=re+se+1>>1,w[C+2+0]=w[C+3+64]=se+ce+1>>1,w[C+3+0]=ce+ve+1>>1,w[C+0+96]=er(z,M,D),w[C+0+64]=er(M,D,Z),w[C+0+32]=w[C+1+96]=er(D,Z,re),w[C+1+32]=w[C+2+96]=er(Z,re,se),w[C+2+32]=w[C+3+96]=er(re,se,ce),w[C+3+32]=er(se,ce,ve)}function ow(w,C){var D=w[C+0-32],M=w[C+1-32],z=w[C+2-32],Z=w[C+3-32],re=w[C+4-32],se=w[C+5-32],ce=w[C+6-32],ve=w[C+7-32];w[C+0+0]=D+M+1>>1,w[C+1+0]=w[C+0+64]=M+z+1>>1,w[C+2+0]=w[C+1+64]=z+Z+1>>1,w[C+3+0]=w[C+2+64]=Z+re+1>>1,w[C+0+32]=er(D,M,z),w[C+1+32]=w[C+0+96]=er(M,z,Z),w[C+2+32]=w[C+1+96]=er(z,Z,re),w[C+3+32]=w[C+2+96]=er(Z,re,se),w[C+3+64]=er(re,se,ce),w[C+3+96]=er(se,ce,ve)}function $h(w,C){var D=w[C-1+0],M=w[C-1+32],z=w[C-1+64],Z=w[C-1+96];w[C+0+0]=D+M+1>>1,w[C+2+0]=w[C+0+32]=M+z+1>>1,w[C+2+32]=w[C+0+64]=z+Z+1>>1,w[C+1+0]=er(D,M,z),w[C+3+0]=w[C+1+32]=er(M,z,Z),w[C+3+32]=w[C+1+64]=er(z,Z,Z),w[C+3+64]=w[C+2+64]=w[C+0+96]=w[C+1+96]=w[C+2+96]=w[C+3+96]=Z}function ul(w,C){var D=w[C-1+0],M=w[C-1+32],z=w[C-1+64],Z=w[C-1+96],re=w[C-1-32],se=w[C+0-32],ce=w[C+1-32],ve=w[C+2-32];w[C+0+0]=w[C+2+32]=D+re+1>>1,w[C+0+32]=w[C+2+64]=M+D+1>>1,w[C+0+64]=w[C+2+96]=z+M+1>>1,w[C+0+96]=Z+z+1>>1,w[C+3+0]=er(se,ce,ve),w[C+2+0]=er(re,se,ce),w[C+1+0]=w[C+3+32]=er(D,re,se),w[C+1+32]=w[C+3+64]=er(M,D,re),w[C+1+64]=w[C+3+96]=er(z,M,D),w[C+1+96]=er(Z,z,M)}function qh(w,C){var D;for(D=0;8>D;++D)n(w,C+32*D,w,C-32,8)}function Mo(w,C){var D;for(D=0;8>D;++D)i(w,C,w[C-1],8),C+=32}function TA(w,C,D){var M;for(M=0;8>M;++M)i(C,D+32*M,w,8)}function fu(w,C){var D,M=8;for(D=0;8>D;++D)M+=w[C+D-32]+w[C-1+32*D];TA(M>>4,w,C)}function f0(w,C){var D,M=4;for(D=0;8>D;++D)M+=w[C+D-32];TA(M>>3,w,C)}function pn(w,C){var D,M=4;for(D=0;8>D;++D)M+=w[C-1+32*D];TA(M>>3,w,C)}function d0(w,C){TA(128,w,C)}function du(w,C,D){var M=w[C-D],z=w[C+0],Z=3*(z-M)+HT[1020+w[C-2*D]-w[C+D]],re=bb[112+(Z+4>>3)];w[C-D]=jo[255+M+bb[112+(Z+3>>3)]],w[C+0]=jo[255+z-re]}function Ac(w,C,D,M){var z=w[C+0],Z=w[C+D];return kA[255+w[C-2*D]-w[C-D]]>M||kA[255+Z-z]>M}function Xh(w,C,D,M){return 4*kA[255+w[C-D]-w[C+0]]+kA[255+w[C-2*D]-w[C+D]]<=M}function pu(w,C,D,M,z){var Z=w[C-3*D],re=w[C-2*D],se=w[C-D],ce=w[C+0],ve=w[C+D],Ce=w[C+2*D],Oe=w[C+3*D];return 4*kA[255+se-ce]+kA[255+re-ve]>M?0:kA[255+w[C-4*D]-Z]<=z&&kA[255+Z-re]<=z&&kA[255+re-se]<=z&&kA[255+Oe-Ce]<=z&&kA[255+Ce-ve]<=z&&kA[255+ve-ce]<=z}function lc(w,C,D,M){var z=2*M+1;for(M=0;16>M;++M)Xh(w,C+M,D,z)&&du(w,C+M,D)}function cc(w,C,D,M){var z=2*M+1;for(M=0;16>M;++M)Xh(w,C+M*D,1,z)&&du(w,C+M*D,1)}function po(w,C,D,M){var z;for(z=3;0<z;--z)lc(w,C+=4*D,D,M)}function p0(w,C,D,M){var z;for(z=3;0<z;--z)cc(w,C+=4,D,M)}function hl(w,C,D,M,z,Z,re,se){for(Z=2*Z+1;0<z--;){if(pu(w,C,D,Z,re))if(Ac(w,C,D,se))du(w,C,D);else{var ce=w,ve=C,Ce=D,Oe=ce[ve-2*Ce],we=ce[ve-Ce],Te=ce[ve+0],Le=ce[ve+Ce],Ke=ce[ve+2*Ce],Ue=27*(Ge=HT[1020+3*(Te-we)+HT[1020+Oe-Le]])+63>>7,We=18*Ge+63>>7,Ge=9*Ge+63>>7;ce[ve-3*Ce]=jo[255+ce[ve-3*Ce]+Ge],ce[ve-2*Ce]=jo[255+Oe+We],ce[ve-Ce]=jo[255+we+Ue],ce[ve+0]=jo[255+Te-Ue],ce[ve+Ce]=jo[255+Le-We],ce[ve+2*Ce]=jo[255+Ke-Ge]}C+=M}}function Ma(w,C,D,M,z,Z,re,se){for(Z=2*Z+1;0<z--;){if(pu(w,C,D,Z,re))if(Ac(w,C,D,se))du(w,C,D);else{var ce=w,ve=C,Ce=D,Oe=ce[ve-Ce],we=ce[ve+0],Te=ce[ve+Ce],Le=bb[112+(4+(Ke=3*(we-Oe))>>3)],Ke=bb[112+(Ke+3>>3)],Ue=Le+1>>1;ce[ve-2*Ce]=jo[255+ce[ve-2*Ce]+Ue],ce[ve-Ce]=jo[255+Oe+Ke],ce[ve+0]=jo[255+we-Le],ce[ve+Ce]=jo[255+Te-Ue]}C+=M}}function g0(w,C,D,M,z,Z){hl(w,C,D,1,16,M,z,Z)}function Yh(w,C,D,M,z,Z){hl(w,C,1,D,16,M,z,Z)}function FA(w,C,D,M,z,Z){var re;for(re=3;0<re;--re)Ma(w,C+=4*D,D,1,16,M,z,Z)}function m0(w,C,D,M,z,Z){var re;for(re=3;0<re;--re)Ma(w,C+=4,1,D,16,M,z,Z)}function k(w,C,D,M,z,Z,re,se){hl(w,C,z,1,8,Z,re,se),hl(D,M,z,1,8,Z,re,se)}function K(w,C,D,M,z,Z,re,se){hl(w,C,1,z,8,Z,re,se),hl(D,M,1,z,8,Z,re,se)}function ge(w,C,D,M,z,Z,re,se){Ma(w,C+4*z,z,1,8,Z,re,se),Ma(D,M+4*z,z,1,8,Z,re,se)}function Ee(w,C,D,M,z,Z,re,se){Ma(w,C+4,1,z,8,Z,re,se),Ma(D,M+4,1,z,8,Z,re,se)}function Ie(){this.ba=new jr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new xr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ze(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Je(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ct(){this.ua=0,this.Wa=new je,this.vb=new je,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new le,this.yc=new N}function Pt(){this.xb=this.a=0,this.l=new Mi,this.ca=new jr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new O,this.Pb=0,this.wd=new O,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ct,this.ab=0,this.gc=a(4,Je),this.Oc=0}function Xt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Mi,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function rr(w,C,D,M,z,Z,re){for(w=w==null?0:w[C+0],C=0;C<re;++C)z[Z+C]=w+D[M+C]&255,w=z[Z+C]}function Mr(w,C,D,M,z,Z,re){var se;if(w==null)rr(null,null,D,M,z,Z,re);else for(se=0;se<re;++se)z[Z+se]=w[C+se]+D[M+se]&255}function Zr(w,C,D,M,z,Z,re){if(w==null)rr(null,null,D,M,z,Z,re);else{var se,ce=w[C+0],ve=ce,Ce=ce;for(se=0;se<re;++se)ve=Ce+(ce=w[C+se])-ve,Ce=D[M+se]+(-256&ve?0>ve?0:255:ve)&255,ve=ce,z[Z+se]=Ce}}function Zn(w,C,D,M){var z=C.width,Z=C.o;if(e(w!=null&&C!=null),0>D||0>=M||D+M>Z)return null;if(!w.Cc){if(w.ga==null){var re;if(w.ga=new Xt,(re=w.ga==null)||(re=C.width*C.o,e(w.Gb.length==0),w.Gb=s(re),w.Uc=0,w.Gb==null?re=0:(w.mb=w.Gb,w.nb=w.Uc,w.rc=null,re=1),re=!re),!re){re=w.ga;var se=w.Fa,ce=w.P,ve=w.qc,Ce=w.mb,Oe=w.nb,we=ce+1,Te=ve-1,Le=re.l;if(e(se!=null&&Ce!=null&&C!=null),of[0]=null,of[1]=rr,of[2]=Mr,of[3]=Zr,re.ca=Ce,re.tb=Oe,re.c=C.width,re.i=C.height,e(0<re.c&&0<re.i),1>=ve)C=0;else if(re.$a=3&se[ce+0],re.Z=se[ce+0]>>2&3,re.Lc=se[ce+0]>>4&3,ce=se[ce+0]>>6&3,0>re.$a||1<re.$a||4<=re.Z||1<re.Lc||ce)C=0;else if(Le.put=zt,Le.ac=fs,Le.bc=xn,Le.ma=re,Le.width=C.width,Le.height=C.height,Le.Da=C.Da,Le.v=C.v,Le.va=C.va,Le.j=C.j,Le.o=C.o,re.$a)e:{e(re.$a==1),C=Re();t:for(;;){if(C==null){C=0;break e}if(e(re!=null),re.mc=C,C.c=re.c,C.i=re.i,C.l=re.l,C.l.ma=re,C.l.width=re.c,C.l.height=re.i,C.a=0,W(C.m,se,we,Te),!Ne(re.c,re.i,1,C,null)||(C.ab==1&&C.gc[0].hc==3&&he(C.s)?(re.ic=1,se=C.c*C.i,C.Ta=null,C.Ua=0,C.V=s(se),C.Ba=0,C.V==null?(C.a=1,C=0):C=1):(re.ic=0,C=Me(C,re.c)),!C))break t;C=1;break e}re.mc=null,C=0}else C=Te>=re.c*re.i;re=!C}if(re)return null;w.ga.Lc!=1?w.Ga=0:M=Z-D}e(w.ga!=null),e(D+M<=Z);e:{if(C=(se=w.ga).c,Z=se.l.o,se.$a==0){if(we=w.rc,Te=w.Vc,Le=w.Fa,ce=w.P+1+D*C,ve=w.mb,Ce=w.nb+D*C,e(ce<=w.P+w.qc),se.Z!=0)for(e(of[se.Z]!=null),re=0;re<M;++re)of[se.Z](we,Te,Le,ce,ve,Ce,C),we=ve,Te=Ce,Ce+=C,ce+=C;else for(re=0;re<M;++re)n(ve,Ce,Le,ce,C),we=ve,Te=Ce,Ce+=C,ce+=C;w.rc=we,w.Vc=Te}else{if(e(se.mc!=null),C=D+M,e((re=se.mc)!=null),e(C<=re.i),re.C>=C)C=1;else if(se.ic||Sn(),se.ic){se=re.V,we=re.Ba,Te=re.c;var Ke=re.i,Ue=(Le=1,ce=re.$/Te,ve=re.$%Te,Ce=re.m,Oe=re.s,re.$),We=Te*Ke,Ge=Te*C,rt=Oe.wc,Ze=Ue<Ge?q(Oe,ve,ce):null;e(Ue<=We),e(C<=Ke),e(he(Oe));t:for(;;){for(;!Ce.h&&Ue<Ge;){if(ve&rt||(Ze=q(Oe,ve,ce)),e(Ze!=null),oe(Ce),256>(Ke=Bn(Ze.G[0],Ze.H[0],Ce)))se[we+Ue]=Ke,++Ue,++ve>=Te&&(ve=0,++ce<=C&&!(ce%16)&&ye(re,ce));else{if(!(280>Ke)){Le=0;break t}Ke=li(Ke-256,Ce);var Qt,It=Bn(Ze.G[4],Ze.H[4],Ce);if(oe(Ce),!(Ue>=(It=Ui(Te,It=li(It,Ce)))&&We-Ue>=Ke)){Le=0;break t}for(Qt=0;Qt<Ke;++Qt)se[we+Ue+Qt]=se[we+Ue+Qt-It];for(Ue+=Ke,ve+=Ke;ve>=Te;)ve-=Te,++ce<=C&&!(ce%16)&&ye(re,ce);Ue<Ge&&ve&rt&&(Ze=q(Oe,ve,ce))}e(Ce.h==Q(Ce))}ye(re,ce>C?C:ce);break t}!Le||Ce.h&&Ue<We?(Le=0,re.a=Ce.h?5:3):re.$=Ue,C=Le}else C=Pe(re,re.V,re.Ba,re.c,re.i,C,et);if(!C){M=0;break e}}D+M>=Z&&(w.Cc=1),M=1}if(!M)return null;if(w.Cc&&((M=w.ga)!=null&&(M.mc=null),w.ga=null,0<w.Ga))return alert("todo:WebPDequantizeLevels"),null}return w.nb+D*z}function an(w,C,D,M,z,Z){for(;0<z--;){var re,se=w,ce=C+(D?1:0),ve=w,Ce=C+(D?0:3);for(re=0;re<M;++re){var Oe=ve[Ce+4*re];Oe!=255&&(Oe*=32897,se[ce+4*re+0]=se[ce+4*re+0]*Oe>>23,se[ce+4*re+1]=se[ce+4*re+1]*Oe>>23,se[ce+4*re+2]=se[ce+4*re+2]*Oe>>23)}C+=Z}}function ui(w,C,D,M,z){for(;0<M--;){var Z;for(Z=0;Z<D;++Z){var re=w[C+2*Z+0],se=15&(ve=w[C+2*Z+1]),ce=4369*se,ve=(240&ve|ve>>4)*ce>>16;w[C+2*Z+0]=(240&re|re>>4)*ce>>16&240|(15&re|re<<4)*ce>>16>>4&15,w[C+2*Z+1]=240&ve|se}C+=z}}function ei(w,C,D,M,z,Z,re,se){var ce,ve,Ce=255;for(ve=0;ve<z;++ve){for(ce=0;ce<M;++ce){var Oe=w[C+ce];Z[re+4*ce]=Oe,Ce&=Oe}C+=D,re+=se}return Ce!=255}function hi(w,C,D,M,z){var Z;for(Z=0;Z<z;++Z)D[M+Z]=w[C+Z]>>8}function Sn(){gw=an,dD=ui,pD=ei,gD=hi}function Fs(w,C,D){_[w]=function(M,z,Z,re,se,ce,ve,Ce,Oe,we,Te,Le,Ke,Ue,We,Ge,rt){var Ze,Qt=rt-1>>1,It=se[ce+0]|ve[Ce+0]<<16,mr=Oe[we+0]|Te[Le+0]<<16;e(M!=null);var Dt=3*It+mr+131074>>2;for(C(M[z+0],255&Dt,Dt>>16,Ke,Ue),Z!=null&&(Dt=3*mr+It+131074>>2,C(Z[re+0],255&Dt,Dt>>16,We,Ge)),Ze=1;Ze<=Qt;++Ze){var Rr=se[ce+Ze]|ve[Ce+Ze]<<16,Yi=Oe[we+Ze]|Te[Le+Ze]<<16,vr=It+Rr+mr+Yi+524296,Ut=vr+2*(Rr+mr)>>3;Dt=Ut+It>>1,It=(vr=vr+2*(It+Yi)>>3)+Rr>>1,C(M[z+2*Ze-1],255&Dt,Dt>>16,Ke,Ue+(2*Ze-1)*D),C(M[z+2*Ze-0],255&It,It>>16,Ke,Ue+(2*Ze-0)*D),Z!=null&&(Dt=vr+mr>>1,It=Ut+Yi>>1,C(Z[re+2*Ze-1],255&Dt,Dt>>16,We,Ge+(2*Ze-1)*D),C(Z[re+2*Ze+0],255&It,It>>16,We,Ge+(2*Ze+0)*D)),It=Rr,mr=Yi}1&rt||(Dt=3*It+mr+131074>>2,C(M[z+rt-1],255&Dt,Dt>>16,Ke,Ue+(rt-1)*D),Z!=null&&(Dt=3*mr+It+131074>>2,C(Z[re+rt-1],255&Dt,Dt>>16,We,Ge+(rt-1)*D)))}}function v0(){LA[Eb]=xJ,LA[Cb]=SD,LA[_D]=_J,LA[Bb]=TD,LA[Sb]=FD,LA[VT]=ID,LA[bD]=bJ,LA[jT]=SD,LA[KT]=TD,LA[Tb]=FD,LA[zT]=ID}function Oo(w){return w&-16384?0>w?0:255:w>>EJ}function y(w,C){return Oo((19077*w>>8)+(26149*C>>8)-14234)}function U(w,C,D){return Oo((19077*w>>8)-(6419*C>>8)-(13320*D>>8)+8708)}function j(w,C){return Oo((19077*w>>8)+(33050*C>>8)-17685)}function ae(w,C,D,M,z){M[z+0]=y(w,D),M[z+1]=U(w,C,D),M[z+2]=j(w,C)}function ke(w,C,D,M,z){M[z+0]=j(w,C),M[z+1]=U(w,C,D),M[z+2]=y(w,D)}function Qe(w,C,D,M,z){var Z=U(w,C,D);C=Z<<3&224|j(w,C)>>3,M[z+0]=248&y(w,D)|Z>>5,M[z+1]=C}function ot(w,C,D,M,z){var Z=240&j(w,C)|15;M[z+0]=240&y(w,D)|U(w,C,D)>>4,M[z+1]=Z}function Pr(w,C,D,M,z){M[z+0]=255,ae(w,C,D,M,z+1)}function ti(w,C,D,M,z){ke(w,C,D,M,z),M[z+3]=255}function Er(w,C,D,M,z){ae(w,C,D,M,z),M[z+3]=255}function br(w,C){return 0>w?0:w>C?C:w}function Tn(w,C,D){_[w]=function(M,z,Z,re,se,ce,ve,Ce,Oe){for(var we=Ce+(-2&Oe)*D;Ce!=we;)C(M[z+0],Z[re+0],se[ce+0],ve,Ce),C(M[z+1],Z[re+0],se[ce+0],ve,Ce+D),z+=2,++re,++ce,Ce+=2*D;1&Oe&&C(M[z+0],Z[re+0],se[ce+0],ve,Ce)}}function Qo(w,C,D){return D==0?w==0?C==0?6:5:C==0?4:0:D}function ea(w,C,D,M,z){switch(w>>>30){case 3:x0(C,D,M,z,0);break;case 2:IA(C,D,M,z);break;case 1:rn(C,D,M,z)}}function Is(w,C){var D,M,z=C.M,Z=C.Nb,re=w.oc,se=w.pc+40,ce=w.oc,ve=w.pc+584,Ce=w.oc,Oe=w.pc+600;for(D=0;16>D;++D)re[se+32*D-1]=129;for(D=0;8>D;++D)ce[ve+32*D-1]=129,Ce[Oe+32*D-1]=129;for(0<z?re[se-1-32]=ce[ve-1-32]=Ce[Oe-1-32]=129:(i(re,se-32-1,127,21),i(ce,ve-32-1,127,9),i(Ce,Oe-32-1,127,9)),M=0;M<w.za;++M){var we=C.ya[C.aa+M];if(0<M){for(D=-1;16>D;++D)n(re,se+32*D-4,re,se+32*D+12,4);for(D=-1;8>D;++D)n(ce,ve+32*D-4,ce,ve+32*D+4,4),n(Ce,Oe+32*D-4,Ce,Oe+32*D+4,4)}var Te=w.Gd,Le=w.Hd+M,Ke=we.ad,Ue=we.Hc;if(0<z&&(n(re,se-32,Te[Le].y,0,16),n(ce,ve-32,Te[Le].f,0,8),n(Ce,Oe-32,Te[Le].ea,0,8)),we.Za){var We=re,Ge=se-32+16;for(0<z&&(M>=w.za-1?i(We,Ge,Te[Le].y[15],4):n(We,Ge,Te[Le+1].y,0,4)),D=0;4>D;D++)We[Ge+128+D]=We[Ge+256+D]=We[Ge+384+D]=We[Ge+0+D];for(D=0;16>D;++D,Ue<<=2)We=re,Ge=se+LD[D],dl[we.Ob[D]](We,Ge),ea(Ue,Ke,16*+D,We,Ge)}else if(We=Qo(M,z,we.Ob[0]),af[We](re,se),Ue!=0)for(D=0;16>D;++D,Ue<<=2)ea(Ue,Ke,16*+D,re,se+LD[D]);for(D=we.Gc,We=Qo(M,z,we.Dd),vu[We](ce,ve),vu[We](Ce,Oe),Ue=Ke,We=ce,Ge=ve,255&(we=0|D)&&(170&we?fc(Ue,256,We,Ge):_n(Ue,256,We,Ge)),we=Ce,Ue=Oe,255&(D>>=8)&&(170&D?fc(Ke,320,we,Ue):_n(Ke,320,we,Ue)),z<w.Ub-1&&(n(Te[Le].y,0,re,se+480,16),n(Te[Le].f,0,ce,ve+224,8),n(Te[Le].ea,0,Ce,Oe+224,8)),D=8*Z*w.B,Te=w.sa,Le=w.ta+16*M+16*Z*w.R,Ke=w.qa,we=w.ra+8*M+D,Ue=w.Ha,We=w.Ia+8*M+D,D=0;16>D;++D)n(Te,Le+D*w.R,re,se+32*D,16);for(D=0;8>D;++D)n(Ke,we+D*w.B,ce,ve+32*D,8),n(Ue,We+D*w.B,Ce,Oe+32*D,8)}}function fl(w,C,D,M,z,Z,re,se,ce){var ve=[0],Ce=[0],Oe=0,we=ce!=null?ce.kd:0,Te=ce??new ze;if(w==null||12>D)return 7;Te.data=w,Te.w=C,Te.ha=D,C=[C],D=[D],Te.gb=[Te.gb];e:{var Le=C,Ke=D,Ue=Te.gb;if(e(w!=null),e(Ke!=null),e(Ue!=null),Ue[0]=0,12<=Ke[0]&&!t(w,Le[0],"RIFF")){if(t(w,Le[0]+8,"WEBP")){Ue=3;break e}var We=Be(w,Le[0]+4);if(12>We||4294967286<We){Ue=3;break e}if(we&&We>Ke[0]-8){Ue=7;break e}Ue[0]=We,Le[0]+=12,Ke[0]-=12}Ue=0}if(Ue!=0)return Ue;for(We=0<Te.gb[0],D=D[0];;){e:{var Ge=w;Ke=C,Ue=D;var rt=ve,Ze=Ce,Qt=Le=[0];if((Dt=Oe=[Oe])[0]=0,8>Ue[0])Ue=7;else{if(!t(Ge,Ke[0],"VP8X")){if(Be(Ge,Ke[0]+4)!=10){Ue=3;break e}if(18>Ue[0]){Ue=7;break e}var It=Be(Ge,Ke[0]+8),mr=1+$e(Ge,Ke[0]+12);if(2147483648<=mr*(Ge=1+$e(Ge,Ke[0]+15))){Ue=3;break e}Qt!=null&&(Qt[0]=It),rt!=null&&(rt[0]=mr),Ze!=null&&(Ze[0]=Ge),Ke[0]+=18,Ue[0]-=18,Dt[0]=1}Ue=0}}if(Oe=Oe[0],Le=Le[0],Ue!=0)return Ue;if(Ke=!!(2&Le),!We&&Oe)return 3;if(Z!=null&&(Z[0]=!!(16&Le)),re!=null&&(re[0]=Ke),se!=null&&(se[0]=0),re=ve[0],Le=Ce[0],Oe&&Ke&&ce==null){Ue=0;break}if(4>D){Ue=7;break}if(We&&Oe||!We&&!Oe&&!t(w,C[0],"ALPH")){D=[D],Te.na=[Te.na],Te.P=[Te.P],Te.Sa=[Te.Sa];e:{It=w,Ue=C,We=D;var Dt=Te.gb;rt=Te.na,Ze=Te.P,Qt=Te.Sa,mr=22,e(It!=null),e(We!=null),Ge=Ue[0];var Rr=We[0];for(e(rt!=null),e(Qt!=null),rt[0]=null,Ze[0]=null,Qt[0]=0;;){if(Ue[0]=Ge,We[0]=Rr,8>Rr){Ue=7;break e}var Yi=Be(It,Ge+4);if(4294967286<Yi){Ue=3;break e}var vr=8+Yi+1&-2;if(mr+=vr,0<Dt&&mr>Dt){Ue=3;break e}if(!t(It,Ge,"VP8 ")||!t(It,Ge,"VP8L")){Ue=0;break e}if(Rr[0]<vr){Ue=7;break e}t(It,Ge,"ALPH")||(rt[0]=It,Ze[0]=Ge+8,Qt[0]=Yi),Ge+=vr,Rr-=vr}}if(D=D[0],Te.na=Te.na[0],Te.P=Te.P[0],Te.Sa=Te.Sa[0],Ue!=0)break}D=[D],Te.Ja=[Te.Ja],Te.xa=[Te.xa];e:if(Dt=w,Ue=C,We=D,rt=Te.gb[0],Ze=Te.Ja,Qt=Te.xa,It=Ue[0],Ge=!t(Dt,It,"VP8 "),mr=!t(Dt,It,"VP8L"),e(Dt!=null),e(We!=null),e(Ze!=null),e(Qt!=null),8>We[0])Ue=7;else{if(Ge||mr){if(Dt=Be(Dt,It+4),12<=rt&&Dt>rt-12){Ue=3;break e}if(we&&Dt>We[0]-8){Ue=7;break e}Ze[0]=Dt,Ue[0]+=8,We[0]-=8,Qt[0]=mr}else Qt[0]=5<=We[0]&&Dt[It+0]==47&&!(Dt[It+4]>>5),Ze[0]=We[0];Ue=0}if(D=D[0],Te.Ja=Te.Ja[0],Te.xa=Te.xa[0],C=C[0],Ue!=0)break;if(4294967286<Te.Ja)return 3;if(se==null||Ke||(se[0]=Te.xa?2:1),re=[re],Le=[Le],Te.xa){if(5>D){Ue=7;break}se=re,we=Le,Ke=Z,w==null||5>D?w=0:5<=D&&w[C+0]==47&&!(w[C+4]>>5)?(We=[0],Dt=[0],rt=[0],W(Ze=new O,w,C,D),lo(Ze,We,Dt,rt)?(se!=null&&(se[0]=We[0]),we!=null&&(we[0]=Dt[0]),Ke!=null&&(Ke[0]=rt[0]),w=1):w=0):w=0}else{if(10>D){Ue=7;break}se=Le,w==null||10>D||!c0(w,C+3,D-3)?w=0:(we=w[C+0]|w[C+1]<<8|w[C+2]<<16,Ke=16383&(w[C+7]<<8|w[C+6]),w=16383&(w[C+9]<<8|w[C+8]),1&we||3<(we>>1&7)||!(we>>4&1)||we>>5>=Te.Ja||!Ke||!w?w=0:(re&&(re[0]=Ke),se&&(se[0]=w),w=1))}if(!w||(re=re[0],Le=Le[0],Oe&&(ve[0]!=re||Ce[0]!=Le)))return 3;ce!=null&&(ce[0]=Te,ce.offset=C-ce.w,e(4294967286>C-ce.w),e(ce.offset==ce.ha-D));break}return Ue==0||Ue==7&&Oe&&ce==null?(Z!=null&&(Z[0]|=Te.na!=null&&0<Te.na.length),M!=null&&(M[0]=re),z!=null&&(z[0]=Le),0):Ue}function Aw(w,C,D){var M=C.width,z=C.height,Z=0,re=0,se=M,ce=z;if(C.Da=w!=null&&0<w.Da,C.Da&&(se=w.cd,ce=w.bd,Z=w.v,re=w.j,11>D||(Z&=-2,re&=-2),0>Z||0>re||0>=se||0>=ce||Z+se>M||re+ce>z))return 0;if(C.v=Z,C.j=re,C.va=Z+se,C.o=re+ce,C.U=se,C.T=ce,C.da=w!=null&&0<w.da,C.da){if(!qe(se,ce,D=[w.ib],Z=[w.hb]))return 0;C.ib=D[0],C.hb=Z[0]}return C.ob=w!=null&&w.ob,C.Kb=w==null||!w.Sd,C.da&&(C.ob=C.ib<3*M/4&&C.hb<3*z/4,C.Kb=0),1}function lw(w){if(w==null)return 2;if(11>w.S){var C=w.f.RGBA;C.fb+=(w.height-1)*C.A,C.A=-C.A}else C=w.f.kb,w=w.height,C.O+=(w-1)*C.fa,C.fa=-C.fa,C.N+=(w-1>>1)*C.Ab,C.Ab=-C.Ab,C.W+=(w-1>>1)*C.Db,C.Db=-C.Db,C.F!=null&&(C.J+=(w-1)*C.lb,C.lb=-C.lb);return 0}function Jh(w,C,D,M){if(M==null||0>=w||0>=C)return 2;if(D!=null){if(D.Da){var z=D.cd,Z=D.bd,re=-2&D.v,se=-2&D.j;if(0>re||0>se||0>=z||0>=Z||re+z>w||se+Z>C)return 2;w=z,C=Z}if(D.da){if(!qe(w,C,z=[D.ib],Z=[D.hb]))return 2;w=z[0],C=Z[0]}}M.width=w,M.height=C;e:{var ce=M.width,ve=M.height;if(w=M.S,0>=ce||0>=ve||!(w>=Eb&&13>w))w=2;else{if(0>=M.Rd&&M.sd==null){re=Z=z=C=0;var Ce=(se=ce*PD[w])*ve;if(11>w||(Z=(ve+1)/2*(C=(ce+1)/2),w==12&&(re=(z=ce)*ve)),(ve=s(Ce+2*Z+re))==null){w=1;break e}M.sd=ve,11>w?((ce=M.f.RGBA).eb=ve,ce.fb=0,ce.A=se,ce.size=Ce):((ce=M.f.kb).y=ve,ce.O=0,ce.fa=se,ce.Fd=Ce,ce.f=ve,ce.N=0+Ce,ce.Ab=C,ce.Cd=Z,ce.ea=ve,ce.W=0+Ce+Z,ce.Db=C,ce.Ed=Z,w==12&&(ce.F=ve,ce.J=0+Ce+2*Z),ce.Tc=re,ce.lb=z)}if(C=1,z=M.S,Z=M.width,re=M.height,z>=Eb&&13>z)if(11>z)w=M.f.RGBA,C&=(se=Math.abs(w.A))*(re-1)+Z<=w.size,C&=se>=Z*PD[z],C&=w.eb!=null;else{w=M.f.kb,se=(Z+1)/2,Ce=(re+1)/2,ce=Math.abs(w.fa),ve=Math.abs(w.Ab);var Oe=Math.abs(w.Db),we=Math.abs(w.lb),Te=we*(re-1)+Z;C&=ce*(re-1)+Z<=w.Fd,C&=ve*(Ce-1)+se<=w.Cd,C=(C&=Oe*(Ce-1)+se<=w.Ed)&ce>=Z&ve>=se&Oe>=se,C&=w.y!=null,C&=w.f!=null,C&=w.ea!=null,z==12&&(C&=we>=Z,C&=Te<=w.Tc,C&=w.F!=null)}else C=0;w=C?0:2}}return w!=0||D!=null&&D.fd&&(w=lw(M)),w}var w0=64,Ho=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Vo=24,Zh=32,gu=8,ef=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];nt("Predictor0","PredictorAdd0"),_.Predictor0=function(){return 4278190080},_.Predictor1=function(w){return w},_.Predictor2=function(w,C,D){return C[D+0]},_.Predictor3=function(w,C,D){return C[D+1]},_.Predictor4=function(w,C,D){return C[D-1]},_.Predictor5=function(w,C,D){return gt(gt(w,C[D+1]),C[D+0])},_.Predictor6=function(w,C,D){return gt(w,C[D-1])},_.Predictor7=function(w,C,D){return gt(w,C[D+0])},_.Predictor8=function(w,C,D){return gt(C[D-1],C[D+0])},_.Predictor9=function(w,C,D){return gt(C[D+0],C[D+1])},_.Predictor10=function(w,C,D){return gt(gt(w,C[D-1]),gt(C[D+0],C[D+1]))},_.Predictor11=function(w,C,D){var M=C[D+0];return 0>=At(M>>24&255,w>>24&255,(C=C[D-1])>>24&255)+At(M>>16&255,w>>16&255,C>>16&255)+At(M>>8&255,w>>8&255,C>>8&255)+At(255&M,255&w,255&C)?M:w},_.Predictor12=function(w,C,D){var M=C[D+0];return(Bt((w>>24&255)+(M>>24&255)-((C=C[D-1])>>24&255))<<24|Bt((w>>16&255)+(M>>16&255)-(C>>16&255))<<16|Bt((w>>8&255)+(M>>8&255)-(C>>8&255))<<8|Bt((255&w)+(255&M)-(255&C)))>>>0},_.Predictor13=function(w,C,D){var M=C[D-1];return(Et((w=gt(w,C[D+0]))>>24&255,M>>24&255)<<24|Et(w>>16&255,M>>16&255)<<16|Et(w>>8&255,M>>8&255)<<8|Et(255&w,255&M))>>>0};var cw=_.PredictorAdd0;_.PredictorAdd1=Ft,nt("Predictor2","PredictorAdd2"),nt("Predictor3","PredictorAdd3"),nt("Predictor4","PredictorAdd4"),nt("Predictor5","PredictorAdd5"),nt("Predictor6","PredictorAdd6"),nt("Predictor7","PredictorAdd7"),nt("Predictor8","PredictorAdd8"),nt("Predictor9","PredictorAdd9"),nt("Predictor10","PredictorAdd10"),nt("Predictor11","PredictorAdd11"),nt("Predictor12","PredictorAdd12"),nt("Predictor13","PredictorAdd13");var Xg=_.PredictorAdd2;ct("ColorIndexInverseTransform","MapARGB","32b",function(w){return w>>8&255},function(w){return w}),ct("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(w){return w},function(w){return w>>8&255});var xi,xb=_.ColorIndexInverseTransform,uc=_.MapARGB,hc=_.VP8LColorIndexInverseTransformAlpha,uw=_.MapAlpha,hw=_.VP8LPredictorsAdd=[];hw.length=16,(_.VP8LPredictors=[]).length=16,(_.VP8LPredictorsAdd_C=[]).length=16,(_.VP8LPredictors_C=[]).length=16;var fw,dw,tf,rf,nf,y0,sf,x0,IA,fc,rn,_n,_i,Xi,mu,pw,Yg,_b,AD,lD,cD,uD,hD,fD,gw,dD,pD,gD,mD=s(511),vD=s(2041),wD=s(225),yD=s(767),xD=0,HT=vD,bb=wD,jo=yD,kA=mD,Eb=0,Cb=1,_D=2,Bb=3,Sb=4,VT=5,bD=6,jT=7,KT=8,Tb=9,zT=10,oJ=[2,3,7],AJ=[3,3,11],ED=[280,256,256,256,40],lJ=[0,1,1,1,0],cJ=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],uJ=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],hJ=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],fJ=8,WT=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],GT=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],mw=null,dJ=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],pJ=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],CD=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],gJ=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],mJ=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],vJ=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],wJ=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],af=[],dl=[],vu=[],yJ=1,BD=2,of=[],LA=[];Fs("UpsampleRgbLinePair",ae,3),Fs("UpsampleBgrLinePair",ke,3),Fs("UpsampleRgbaLinePair",Er,4),Fs("UpsampleBgraLinePair",ti,4),Fs("UpsampleArgbLinePair",Pr,4),Fs("UpsampleRgba4444LinePair",ot,2),Fs("UpsampleRgb565LinePair",Qe,2);var xJ=_.UpsampleRgbLinePair,_J=_.UpsampleBgrLinePair,SD=_.UpsampleRgbaLinePair,TD=_.UpsampleBgraLinePair,FD=_.UpsampleArgbLinePair,ID=_.UpsampleRgba4444LinePair,bJ=_.UpsampleRgb565LinePair,Fb=16,Ib=1<<Fb-1,vw=-227,$T=482,EJ=6,kD=0,CJ=s(256),BJ=s(256),SJ=s(256),TJ=s(256),FJ=s($T-vw),IJ=s($T-vw);Tn("YuvToRgbRow",ae,3),Tn("YuvToBgrRow",ke,3),Tn("YuvToRgbaRow",Er,4),Tn("YuvToBgraRow",ti,4),Tn("YuvToArgbRow",Pr,4),Tn("YuvToRgba4444Row",ot,2),Tn("YuvToRgb565Row",Qe,2);var LD=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],kb=[0,2,8],kJ=[8,7,6,4,4,2,2,2,1,1,1,1],LJ=1;this.WebPDecodeRGBA=function(w,C,D,M,z){var Z=Cb,re=new Ie,se=new jr;re.ba=se,se.S=Z,se.width=[se.width],se.height=[se.height];var ce=se.width,ve=se.height,Ce=new Gt;if(Ce==null||w==null)var Oe=2;else e(Ce!=null),Oe=fl(w,C,D,Ce.width,Ce.height,Ce.Pd,Ce.Qd,Ce.format,null);if(Oe!=0?ce=0:(ce!=null&&(ce[0]=Ce.width[0]),ve!=null&&(ve[0]=Ce.height[0]),ce=1),ce){se.width=se.width[0],se.height=se.height[0],M!=null&&(M[0]=se.width),z!=null&&(z[0]=se.height);e:{if(M=new Mi,(z=new ze).data=w,z.w=C,z.ha=D,z.kd=1,C=[0],e(z!=null),((w=fl(z.data,z.w,z.ha,null,null,null,C,null,z))==0||w==7)&&C[0]&&(w=4),(C=w)==0){if(e(re!=null),M.data=z.data,M.w=z.w+z.offset,M.ha=z.ha-z.offset,M.put=zt,M.ac=fs,M.bc=xn,M.ma=re,z.xa){if((w=Re())==null){re=1;break e}if(function(we,Te){var Le=[0],Ke=[0],Ue=[0];t:for(;;){if(we==null)return 0;if(Te==null)return we.a=2,0;if(we.l=Te,we.a=0,W(we.m,Te.data,Te.w,Te.ha),!lo(we.m,Le,Ke,Ue)){we.a=3;break t}if(we.xb=BD,Te.width=Le[0],Te.height=Ke[0],!Ne(Le[0],Ke[0],1,we,null))break t;return 1}return e(we.a!=0),0}(w,M)){if(M=(C=Jh(M.width,M.height,re.Oa,re.ba))==0){t:{M=w;r:for(;;){if(M==null){M=0;break t}if(e(M.s.yc!=null),e(M.s.Ya!=null),e(0<M.s.Wb),e((D=M.l)!=null),e((z=D.ma)!=null),M.xb!=0){if(M.ca=z.ba,M.tb=z.tb,e(M.ca!=null),!Aw(z.Oa,D,Bb)){M.a=2;break r}if(!Me(M,D.width)||D.da)break r;if((D.da||Zt(M.ca.S))&&Sn(),11>M.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),M.ca.f.kb.F!=null&&Sn()),M.Pb&&0<M.s.ua&&M.s.vb.X==null&&!ue(M.s.vb,M.s.Wa.Xa)){M.a=1;break r}M.xb=0}if(!Pe(M,M.V,M.Ba,M.c,M.i,D.o,Ae))break r;z.Dc=M.Ma,M=1;break t}e(M.a!=0),M=0}M=!M}M&&(C=w.a)}else C=w.a}else{if((w=new l0)==null){re=1;break e}if(w.Fa=z.na,w.P=z.P,w.qc=z.Sa,Gg(w,M)){if((C=Jh(M.width,M.height,re.Oa,re.ba))==0){if(w.Aa=0,D=re.Oa,e((z=w)!=null),D!=null){if(0<(ce=0>(ce=D.Md)?0:100<ce?255:255*ce/100)){for(ve=Ce=0;4>ve;++ve)12>(Oe=z.pb[ve]).lc&&(Oe.ia=ce*kJ[0>Oe.lc?0:Oe.lc]>>3),Ce|=Oe.ia;Ce&&(alert("todo:VP8InitRandom"),z.ia=1)}z.Ga=D.Id,100<z.Ga?z.Ga=100:0>z.Ga&&(z.Ga=0)}(function(we,Te){if(we==null)return 0;if(Te==null)return Jn(we,2,"NULL VP8Io parameter in VP8Decode().");if(!we.cb&&!Gg(we,Te))return 0;if(e(we.cb),Te.ac==null||Te.ac(Te)){Te.ob&&(we.L=0);var Le=kb[we.L];if(we.L==2?(we.yb=0,we.zb=0):(we.yb=Te.v-Le>>4,we.zb=Te.j-Le>>4,0>we.yb&&(we.yb=0),0>we.zb&&(we.zb=0)),we.Va=Te.o+15+Le>>4,we.Hb=Te.va+15+Le>>4,we.Hb>we.za&&(we.Hb=we.za),we.Va>we.Ub&&(we.Va=we.Ub),0<we.L){var Ke=we.ed;for(Le=0;4>Le;++Le){var Ue;if(we.Qa.Cb){var We=we.Qa.Lb[Le];we.Qa.Fb||(We+=Ke.Tb)}else We=Ke.Tb;for(Ue=0;1>=Ue;++Ue){var Ge=we.gd[Le][Ue],rt=We;if(Ke.Pc&&(rt+=Ke.vd[0],Ue&&(rt+=Ke.od[0])),0<(rt=0>rt?0:63<rt?63:rt)){var Ze=rt;0<Ke.wb&&(Ze=4<Ke.wb?Ze>>2:Ze>>1)>9-Ke.wb&&(Ze=9-Ke.wb),1>Ze&&(Ze=1),Ge.dd=Ze,Ge.tc=2*rt+Ze,Ge.ld=40<=rt?2:15<=rt?1:0}else Ge.tc=0;Ge.La=Ue}}}Le=0}else Jn(we,6,"Frame setup failed"),Le=we.a;if(Le=Le==0){if(Le){we.$c=0,0<we.Aa||(we.Ic=LJ);t:{Le=we.Ic,Ke=4*(Ze=we.za);var Qt=32*Ze,It=Ze+1,mr=0<we.L?Ze*(0<we.Aa?2:1):0,Dt=(we.Aa==2?2:1)*Ze;if((Ge=Ke+832+(Ue=3*(16*Le+kb[we.L])/2*Qt)+(We=we.Fa!=null&&0<we.Fa.length?we.Kc.c*we.Kc.i:0))!=Ge)Le=0;else{if(Ge>we.Vb){if(we.Vb=0,we.Ec=s(Ge),we.Fc=0,we.Ec==null){Le=Jn(we,1,"no memory during frame initialization.");break t}we.Vb=Ge}Ge=we.Ec,rt=we.Fc,we.Ac=Ge,we.Bc=rt,rt+=Ke,we.Gd=a(Qt,Da),we.Hd=0,we.rb=a(It+1,tn),we.sb=1,we.wa=mr?a(mr,dr):null,we.Y=0,we.D.Nb=0,we.D.wa=we.wa,we.D.Y=we.Y,0<we.Aa&&(we.D.Y+=Ze),e(!0),we.oc=Ge,we.pc=rt,rt+=832,we.ya=a(Dt,Do),we.aa=0,we.D.ya=we.ya,we.D.aa=we.aa,we.Aa==2&&(we.D.aa+=Ze),we.R=16*Ze,we.B=8*Ze,Ze=(Qt=kb[we.L])*we.R,Qt=Qt/2*we.B,we.sa=Ge,we.ta=rt+Ze,we.qa=we.sa,we.ra=we.ta+16*Le*we.R+Qt,we.Ha=we.qa,we.Ia=we.ra+8*Le*we.B+Qt,we.$c=0,rt+=Ue,we.mb=We?Ge:null,we.nb=We?rt:null,e(rt+We<=we.Fc+we.Vb),ic(we),i(we.Ac,we.Bc,0,Ke),Le=1}}if(Le){if(Te.ka=0,Te.y=we.sa,Te.O=we.ta,Te.f=we.qa,Te.N=we.ra,Te.ea=we.Ha,Te.Vd=we.Ia,Te.fa=we.R,Te.Rc=we.B,Te.F=null,Te.J=0,!xD){for(Le=-255;255>=Le;++Le)mD[255+Le]=0>Le?-Le:Le;for(Le=-1020;1020>=Le;++Le)vD[1020+Le]=-128>Le?-128:127<Le?127:Le;for(Le=-112;112>=Le;++Le)wD[112+Le]=-16>Le?-16:15<Le?15:Le;for(Le=-255;510>=Le;++Le)yD[255+Le]=0>Le?0:255<Le?255:Le;xD=1}sf=sc,x0=Wh,fc=$g,rn=Fr,_n=uu,IA=zh,_i=g0,Xi=Yh,mu=k,pw=K,Yg=FA,_b=m0,AD=ge,lD=Ee,cD=lc,uD=cc,hD=po,fD=p0,dl[0]=sw,dl[1]=u0,dl[2]=oc,dl[3]=iw,dl[4]=aw,dl[5]=cl,dl[6]=ds,dl[7]=ow,dl[8]=ul,dl[9]=$h,af[0]=fo,af[1]=rw,af[2]=nw,af[3]=h0,af[4]=SA,af[5]=ac,af[6]=Gh,vu[0]=fu,vu[1]=qg,vu[2]=qh,vu[3]=Mo,vu[4]=pn,vu[5]=f0,vu[6]=d0,Le=1}else Le=0}Le&&(Le=function(Rr,Yi){for(Rr.M=0;Rr.M<Rr.Va;++Rr.M){var vr,Ut=Rr.Jc[Rr.M&Rr.Xb],ft=Rr.m,bi=Rr;for(vr=0;vr<bi.za;++vr){var hr=ft,Or=bi,Nn=Or.Ac,ks=Or.Bc+4*vr,Oa=Or.zc,fi=Or.ya[Or.aa+vr];if(Or.Qa.Bb?fi.$b=_e(hr,Or.Pa.jb[0])?2+_e(hr,Or.Pa.jb[2]):_e(hr,Or.Pa.jb[1]):fi.$b=0,Or.kc&&(fi.Ad=_e(hr,Or.Bd)),fi.Za=!_e(hr,145)+0,fi.Za){var ta=fi.Ob,Qa=0;for(Or=0;4>Or;++Or){var Ji,Kr=Oa[0+Or];for(Ji=0;4>Ji;++Ji){Kr=mJ[Nn[ks+Ji]][Kr];for(var on=CD[_e(hr,Kr[0])];0<on;)on=CD[2*on+_e(hr,Kr[on])];Kr=-on,Nn[ks+Ji]=Kr}n(ta,Qa,Nn,ks,4),Qa+=4,Oa[0+Or]=Kr}}else Kr=_e(hr,156)?_e(hr,128)?1:3:_e(hr,163)?2:0,fi.Ob[0]=Kr,i(Nn,ks,Kr,4),i(Oa,0,Kr,4);fi.Dd=_e(hr,142)?_e(hr,114)?_e(hr,183)?1:3:2:0}if(bi.m.Ka)return Jn(Rr,7,"Premature end-of-partition0 encountered.");for(;Rr.ja<Rr.za;++Rr.ja){if(bi=Ut,hr=(ft=Rr).rb[ft.sb-1],Nn=ft.rb[ft.sb+ft.ja],vr=ft.ya[ft.aa+ft.ja],ks=ft.kc?vr.Ad:0)hr.la=Nn.la=0,vr.Za||(hr.Na=Nn.Na=0),vr.Hc=0,vr.Gc=0,vr.ia=0;else{var di,An;if(hr=Nn,Nn=bi,ks=ft.Pa.Xc,Oa=ft.ya[ft.aa+ft.ja],fi=ft.pb[Oa.$b],Or=Oa.ad,ta=0,Qa=ft.rb[ft.sb-1],Kr=Ji=0,i(Or,ta,0,384),Oa.Za)var Ls=0,pl=ks[3];else{on=s(16);var Ei=hr.Na+Qa.Na;if(Ei=mw(Nn,ks[1],Ei,fi.Eb,0,on,0),hr.Na=Qa.Na=(0<Ei)+0,1<Ei)sf(on,0,Or,ta);else{var go=on[0]+3>>3;for(on=0;256>on;on+=16)Or[ta+on]=go}Ls=1,pl=ks[0]}var bn=15&hr.la,Zi=15&Qa.la;for(on=0;4>on;++on){var Ko=1&Zi;for(go=An=0;4>go;++go)bn=bn>>1|(Ko=(Ei=mw(Nn,pl,Ei=Ko+(1&bn),fi.Sc,Ls,Or,ta))>Ls)<<7,An=An<<2|(3<Ei?3:1<Ei?2:Or[ta+0]!=0),ta+=16;bn>>=4,Zi=Zi>>1|Ko<<7,Ji=(Ji<<8|An)>>>0}for(pl=bn,Ls=Zi>>4,di=0;4>di;di+=2){for(An=0,bn=hr.la>>4+di,Zi=Qa.la>>4+di,on=0;2>on;++on){for(Ko=1&Zi,go=0;2>go;++go)Ei=Ko+(1&bn),bn=bn>>1|(Ko=0<(Ei=mw(Nn,ks[2],Ei,fi.Qc,0,Or,ta)))<<3,An=An<<2|(3<Ei?3:1<Ei?2:Or[ta+0]!=0),ta+=16;bn>>=2,Zi=Zi>>1|Ko<<5}Kr|=An<<4*di,pl|=bn<<4<<di,Ls|=(240&Zi)<<di}hr.la=pl,Qa.la=Ls,Oa.Hc=Ji,Oa.Gc=Kr,Oa.ia=43690&Kr?0:fi.ia,ks=!(Ji|Kr)}if(0<ft.L&&(ft.wa[ft.Y+ft.ja]=ft.gd[vr.$b][vr.Za],ft.wa[ft.Y+ft.ja].La|=!ks),bi.Ka)return Jn(Rr,7,"Premature end-of-file encountered.")}if(ic(Rr),ft=Yi,bi=1,vr=(Ut=Rr).D,hr=0<Ut.L&&Ut.M>=Ut.zb&&Ut.M<=Ut.Va,Ut.Aa==0)t:{if(vr.M=Ut.M,vr.uc=hr,Is(Ut,vr),bi=1,vr=(An=Ut.D).Nb,hr=(Kr=kb[Ut.L])*Ut.R,Nn=Kr/2*Ut.B,on=16*vr*Ut.R,go=8*vr*Ut.B,ks=Ut.sa,Oa=Ut.ta-hr+on,fi=Ut.qa,Or=Ut.ra-Nn+go,ta=Ut.Ha,Qa=Ut.Ia-Nn+go,Zi=(bn=An.M)==0,Ji=bn>=Ut.Va-1,Ut.Aa==2&&Is(Ut,An),An.uc)for(Ko=(Ei=Ut).D.M,e(Ei.D.uc),An=Ei.yb;An<Ei.Hb;++An){Ls=An,pl=Ko;var Ha=(zo=(Ps=Ei).D).Nb;di=Ps.R;var zo=zo.wa[zo.Y+Ls],Wo=Ps.sa,mo=Ps.ta+16*Ha*di+16*Ls,Go=zo.dd,Fn=zo.tc;if(Fn!=0)if(e(3<=Fn),Ps.L==1)0<Ls&&uD(Wo,mo,di,Fn+4),zo.La&&fD(Wo,mo,di,Fn),0<pl&&cD(Wo,mo,di,Fn+4),zo.La&&hD(Wo,mo,di,Fn);else{var $o=Ps.B,gl=Ps.qa,_0=Ps.ra+8*Ha*$o+8*Ls,wu=Ps.Ha,Ps=Ps.Ia+8*Ha*$o+8*Ls;Ha=zo.ld,0<Ls&&(Xi(Wo,mo,di,Fn+4,Go,Ha),pw(gl,_0,wu,Ps,$o,Fn+4,Go,Ha)),zo.La&&(_b(Wo,mo,di,Fn,Go,Ha),lD(gl,_0,wu,Ps,$o,Fn,Go,Ha)),0<pl&&(_i(Wo,mo,di,Fn+4,Go,Ha),mu(gl,_0,wu,Ps,$o,Fn+4,Go,Ha)),zo.La&&(Yg(Wo,mo,di,Fn,Go,Ha),AD(gl,_0,wu,Ps,$o,Fn,Go,Ha))}}if(Ut.ia&&alert("todo:DitherRow"),ft.put!=null){if(An=16*bn,bn=16*(bn+1),Zi?(ft.y=Ut.sa,ft.O=Ut.ta+on,ft.f=Ut.qa,ft.N=Ut.ra+go,ft.ea=Ut.Ha,ft.W=Ut.Ia+go):(An-=Kr,ft.y=ks,ft.O=Oa,ft.f=fi,ft.N=Or,ft.ea=ta,ft.W=Qa),Ji||(bn-=Kr),bn>ft.o&&(bn=ft.o),ft.F=null,ft.J=null,Ut.Fa!=null&&0<Ut.Fa.length&&An<bn&&(ft.J=Zn(Ut,ft,An,bn-An),ft.F=Ut.mb,ft.F==null&&ft.F.length==0)){bi=Jn(Ut,3,"Could not decode alpha data.");break t}An<ft.j&&(Kr=ft.j-An,An=ft.j,e(!(1&Kr)),ft.O+=Ut.R*Kr,ft.N+=Ut.B*(Kr>>1),ft.W+=Ut.B*(Kr>>1),ft.F!=null&&(ft.J+=ft.width*Kr)),An<bn&&(ft.O+=ft.v,ft.N+=ft.v>>1,ft.W+=ft.v>>1,ft.F!=null&&(ft.J+=ft.v),ft.ka=An-ft.j,ft.U=ft.va-ft.v,ft.T=bn-An,bi=ft.put(ft))}vr+1!=Ut.Ic||Ji||(n(Ut.sa,Ut.ta-hr,ks,Oa+16*Ut.R,hr),n(Ut.qa,Ut.ra-Nn,fi,Or+8*Ut.B,Nn),n(Ut.Ha,Ut.Ia-Nn,ta,Qa+8*Ut.B,Nn))}if(!bi)return Jn(Rr,6,"Output aborted.")}return 1}(we,Te)),Te.bc!=null&&Te.bc(Te),Le&=1}return Le?(we.cb=0,Le):0})(w,M)||(C=w.a)}}else C=w.a}C==0&&re.Oa!=null&&re.Oa.fd&&(C=lw(re.ba))}re=C}Z=re!=0?null:11>Z?se.f.RGBA.eb:se.f.kb.y}else Z=null;return Z};var PD=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function l(_,I){for(var S="",F=0;F<4;F++)S+=String.fromCharCode(_[I++]);return S}function c(_,I){return _[I+0]|_[I+1]<<8}function u(_,I){return(_[I+0]|_[I+1]<<8|_[I+2]<<16)>>>0}function h(_,I){return(_[I+0]|_[I+1]<<8|_[I+2]<<16|_[I+3]<<24)>>>0}new A;var f=[0],d=[0],p=[],v=new A,m=r,x=function(_,I){var S={},F=0,N=!1,G=0,le=0;if(S.frames=[],!function(L,O){for(var H=0;H<4;H++)if(L[O+H]!="RIFF".charCodeAt(H))return!0;return!1}(_,I)){for(h(_,I+=4),I+=8;I<_.length;){var ie=l(_,I),te=h(_,I+=4);I+=4;var J=te+(1&te);switch(ie){case"VP8 ":case"VP8L":S.frames[F]===void 0&&(S.frames[F]={}),(xe=S.frames[F]).src_off=N?le:I-8,xe.src_size=G+te+8,F++,N&&(N=!1,G=0,le=0);break;case"VP8X":(xe=S.header={}).feature_flags=_[I];var W=I+4;xe.canvas_width=1+u(_,W),W+=3,xe.canvas_height=1+u(_,W),W+=3;break;case"ALPH":N=!0,G=J+8,le=I-8;break;case"ANIM":(xe=S.header).bgcolor=h(_,I),W=I+4,xe.loop_count=c(_,W),W+=2;break;case"ANMF":var be,xe;(xe=S.frames[F]={}).offset_x=2*u(_,I),I+=3,xe.offset_y=2*u(_,I),I+=3,xe.width=1+u(_,I),I+=3,xe.height=1+u(_,I),I+=3,xe.duration=u(_,I),I+=3,be=_[I++],xe.dispose=1&be,xe.blend=be>>1&1}ie!="ANMF"&&(I+=J)}return S}}(m,0);x.response=m,x.rgbaoutput=!0,x.dataurl=!1;var b=x.header?x.header:null,T=x.frames?x.frames:null;if(b){b.loop_counter=b.loop_count,f=[b.canvas_height],d=[b.canvas_width];for(var R=0;R<T.length&&T[R].blend!=0;R++);}var P=T[0],B=v.WebPDecodeRGBA(m,P.src_off,P.src_size,d,f);P.rgba=B,P.imgwidth=d[0],P.imgheight=f[0];for(var E=0;E<d[0]*f[0]*4;E++)p[E]=B[E];return this.width=d,this.height=f,this.data=p,this}(function(r){var e,t,n,i,s,a,o,A,l,c=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new A,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new a,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new a,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new u(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,A=this.internal.Matrix,l=new c}]);var u=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var O=L;Object.defineProperty(this,"pdf",{get:function(){return O}});var H=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return H},set:function(Be){H=!!Be}});var Q=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Q},set:function(Be){Q=!!Be}});var Y=0;Object.defineProperty(this,"posX",{get:function(){return Y},set:function(Be){isNaN(Be)||(Y=Be)}});var oe=0;Object.defineProperty(this,"posY",{get:function(){return oe},set:function(Be){isNaN(Be)||(oe=Be)}}),Object.defineProperty(this,"margin",{get:function(){return l.margin},set:function(Be){var ue;typeof Be=="number"?ue=[Be,Be,Be,Be]:((ue=new Array(4))[0]=Be[0],ue[1]=Be.length>=2?Be[1]:ue[0],ue[2]=Be.length>=3?Be[2]:ue[0],ue[3]=Be.length>=4?Be[3]:ue[1]),l.margin=ue}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function(Be){de=Be}});var fe=0;Object.defineProperty(this,"lastBreak",{get:function(){return fe},set:function(Be){fe=Be}});var _e=[];Object.defineProperty(this,"pageBreaks",{get:function(){return _e},set:function(Be){_e=Be}}),Object.defineProperty(this,"ctx",{get:function(){return l},set:function(Be){Be instanceof c&&(l=Be)}}),Object.defineProperty(this,"path",{get:function(){return l.path},set:function(Be){l.path=Be}});var Se=[];Object.defineProperty(this,"ctxStack",{get:function(){return Se},set:function(Be){Se=Be}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Be){var ue;ue=h(Be),this.ctx.fillStyle=ue.style,this.ctx.isFillTransparent=ue.a===0,this.ctx.fillOpacity=ue.a,this.pdf.setFillColor(ue.r,ue.g,ue.b,{a:ue.a}),this.pdf.setTextColor(ue.r,ue.g,ue.b,{a:ue.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Be){var ue=h(Be);this.ctx.strokeStyle=ue.style,this.ctx.isStrokeTransparent=ue.a===0,this.ctx.strokeOpacity=ue.a,ue.a===0?this.pdf.setDrawColor(255,255,255):(ue.a,this.pdf.setDrawColor(ue.r,ue.g,ue.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Be){["butt","round","square"].indexOf(Be)!==-1&&(this.ctx.lineCap=Be,this.pdf.setLineCap(Be))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Be){isNaN(Be)||(this.ctx.lineWidth=Be,this.pdf.setLineWidth(Be))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Be){["bevel","round","miter"].indexOf(Be)!==-1&&(this.ctx.lineJoin=Be,this.pdf.setLineJoin(Be))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Be){isNaN(Be)||(this.ctx.miterLimit=Be,this.pdf.setMiterLimit(Be))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Be){this.ctx.textBaseline=Be}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Be){["right","end","center","left","start"].indexOf(Be)!==-1&&(this.ctx.textAlign=Be)}});var ne=null,$e=null;Object.defineProperty(this,"fontFaces",{get:function(){return $e},set:function(Be){ne=null,$e=Be}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Be){var ue;if(this.ctx.font=Be,(ue=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Be))!==null){var Xe=ue[1];ue[2];var je=ue[3],qe=ue[4];ue[5];var Ve=ue[6],ht=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(qe)[2];qe=Math.floor(ht==="px"?parseFloat(qe)*this.pdf.internal.scaleFactor:ht==="em"?parseFloat(qe)*this.pdf.getFontSize():parseFloat(qe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(qe);var nt=function(at){var ct,jt,Mt=[],wt=at.trim();if(wt==="")return sI;if(wt in l7)return[l7[wt]];for(;wt!=="";){switch(jt=null,ct=(wt=u7(wt)).charAt(0)){case'"':case"'":jt=rFe(wt.substring(1),ct);break;default:jt=nFe(wt)}if(jt===null||(Mt.push(jt[0]),(wt=u7(jt[1]))!==""&&wt.charAt(0)!==","))return sI;wt=wt.replace(/^,/,"")}return Mt}(Ve);if(this.fontFaces){var Nt=function(at,ct){if(ne===null){var jt=function(Mt){var wt=[];return Object.keys(Mt).forEach(function(Jt){Mt[Jt].forEach(function(Jr){var Wt=null;switch(Jr){case"bold":Wt={family:Jt,weight:"bold"};break;case"italic":Wt={family:Jt,style:"italic"};break;case"bolditalic":Wt={family:Jt,weight:"bold",style:"italic"};break;case"":case"normal":Wt={family:Jt}}Wt!==null&&(Wt.ref={name:Jt,style:Jr},wt.push(Wt))})}),wt}(at.getFontList());ne=function(Mt){for(var wt={},Jt=0;Jt<Mt.length;++Jt){var Jr=iI(Mt[Jt]),Wt=Jr.family,fr=Jr.stretch,Zt=Jr.style,wn=Jr.weight;wt[Wt]=wt[Wt]||{},wt[Wt][fr]=wt[Wt][fr]||{},wt[Wt][fr][Zt]=wt[Wt][fr][Zt]||{},wt[Wt][fr][Zt][wn]=Jr}return wt}(jt.concat(ct))}return ne}(this.pdf,this.fontFaces),gt=nt.map(function(at){return{family:at,stretch:"normal",weight:je,style:Xe}}),Bt=function(at,ct,jt){for(var Mt=(jt=jt||{}).defaultFontFamily||"times",wt=Object.assign({},tFe,jt.genericFontFamilies||{}),Jt=null,Jr=null,Wt=0;Wt<ct.length;++Wt)if(wt[(Jt=iI(ct[Wt])).family]&&(Jt.family=wt[Jt.family]),at.hasOwnProperty(Jt.family)){Jr=at[Jt.family];break}if(!(Jr=Jr||at[Mt]))throw new Error("Could not find a font-family for the rule '"+c7(Jt)+"' and default family '"+Mt+"'.");if(Jr=function(fr,Zt){if(Zt[fr])return Zt[fr];var wn=ZL[fr],yn=wn<=ZL.normal?-1:1,jr=A7(Zt,HY,wn,yn);if(!jr)throw new Error("Could not find a matching font-stretch value for "+fr);return jr}(Jt.stretch,Jr),Jr=function(fr,Zt){if(Zt[fr])return Zt[fr];for(var wn=QY[fr],yn=0;yn<wn.length;++yn)if(Zt[wn[yn]])return Zt[wn[yn]];throw new Error("Could not find a matching font-style for "+fr)}(Jt.style,Jr),!(Jr=function(fr,Zt){if(Zt[fr])return Zt[fr];if(fr===400&&Zt[500])return Zt[500];if(fr===500&&Zt[400])return Zt[400];var wn=eFe[fr],yn=A7(Zt,VY,wn,fr<400?-1:1);if(!yn)throw new Error("Could not find a matching font-weight for value "+fr);return yn}(Jt.weight,Jr)))throw new Error("Failed to resolve a font for the rule '"+c7(Jt)+"'.");return Jr}(Nt,gt);this.pdf.setFont(Bt.ref.name,Bt.ref.style)}else{var Et="";(je==="bold"||parseInt(je,10)>=700||Xe==="bold")&&(Et="bold"),Xe==="italic"&&(Et+="italic"),Et.length===0&&(Et="normal");for(var At="",Ft={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},mt=0;mt<nt.length;mt++){if(this.pdf.internal.getFont(nt[mt],Et,{noFallback:!0,disableWarning:!0})!==void 0){At=nt[mt];break}if(Et==="bolditalic"&&this.pdf.internal.getFont(nt[mt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)At=nt[mt],Et="bold";else if(this.pdf.internal.getFont(nt[mt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){At=nt[mt],Et="normal";break}}if(At===""){for(var vt=0;vt<nt.length;vt++)if(Ft[nt[vt]]){At=Ft[nt[vt]];break}}At=At===""?"Times":At,this.pdf.setFont(At,Et)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Be){this.ctx.globalCompositeOperation=Be}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Be){this.ctx.globalAlpha=Be}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Be){this.ctx.lineDashOffset=Be,xe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Be){this.ctx.lineDash=Be,xe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Be){this.ctx.ignoreClearRect=!!Be}})};u.prototype.setLineDash=function(L){this.lineDash=L},u.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},u.prototype.fill=function(){T.call(this,"fill",!1)},u.prototype.stroke=function(){T.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(L,O){if(isNaN(L)||isNaN(O))throw En.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var H=this.ctx.transform.applyToPoint(new a(L,O));this.path.push({type:"mt",x:H.x,y:H.y}),this.ctx.lastPoint=new a(L,O)},u.prototype.closePath=function(){var L=new a(0,0),O=0;for(O=this.path.length-1;O!==-1;O--)if(this.path[O].type==="begin"&&hn(this.path[O+1])==="object"&&typeof this.path[O+1].x=="number"){L=new a(this.path[O+1].x,this.path[O+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(L.x,L.y)},u.prototype.lineTo=function(L,O){if(isNaN(L)||isNaN(O))throw En.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var H=this.ctx.transform.applyToPoint(new a(L,O));this.path.push({type:"lt",x:H.x,y:H.y}),this.ctx.lastPoint=new a(H.x,H.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),T.call(this,null,!0)},u.prototype.quadraticCurveTo=function(L,O,H,Q){if(isNaN(H)||isNaN(Q)||isNaN(L)||isNaN(O))throw En.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Y=this.ctx.transform.applyToPoint(new a(H,Q)),oe=this.ctx.transform.applyToPoint(new a(L,O));this.path.push({type:"qct",x1:oe.x,y1:oe.y,x:Y.x,y:Y.y}),this.ctx.lastPoint=new a(Y.x,Y.y)},u.prototype.bezierCurveTo=function(L,O,H,Q,Y,oe){if(isNaN(Y)||isNaN(oe)||isNaN(L)||isNaN(O)||isNaN(H)||isNaN(Q))throw En.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new a(Y,oe)),fe=this.ctx.transform.applyToPoint(new a(L,O)),_e=this.ctx.transform.applyToPoint(new a(H,Q));this.path.push({type:"bct",x1:fe.x,y1:fe.y,x2:_e.x,y2:_e.y,x:de.x,y:de.y}),this.ctx.lastPoint=new a(de.x,de.y)},u.prototype.arc=function(L,O,H,Q,Y,oe){if(isNaN(L)||isNaN(O)||isNaN(H)||isNaN(Q)||isNaN(Y))throw En.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(oe=!!oe,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new a(L,O));L=de.x,O=de.y;var fe=this.ctx.transform.applyToPoint(new a(0,H)),_e=this.ctx.transform.applyToPoint(new a(0,0));H=Math.sqrt(Math.pow(fe.x-_e.x,2)+Math.pow(fe.y-_e.y,2))}Math.abs(Y-Q)>=2*Math.PI&&(Q=0,Y=2*Math.PI),this.path.push({type:"arc",x:L,y:O,radius:H,startAngle:Q,endAngle:Y,counterclockwise:oe})},u.prototype.arcTo=function(L,O,H,Q,Y){throw new Error("arcTo not implemented.")},u.prototype.rect=function(L,O,H,Q){if(isNaN(L)||isNaN(O)||isNaN(H)||isNaN(Q))throw En.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,O),this.lineTo(L+H,O),this.lineTo(L+H,O+Q),this.lineTo(L,O+Q),this.lineTo(L,O),this.lineTo(L+H,O),this.lineTo(L,O)},u.prototype.fillRect=function(L,O,H,Q){if(isNaN(L)||isNaN(O)||isNaN(H)||isNaN(Q))throw En.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var Y={};this.lineCap!=="butt"&&(Y.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Y.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,O,H,Q),this.fill(),Y.hasOwnProperty("lineCap")&&(this.lineCap=Y.lineCap),Y.hasOwnProperty("lineJoin")&&(this.lineJoin=Y.lineJoin)}},u.prototype.strokeRect=function(L,O,H,Q){if(isNaN(L)||isNaN(O)||isNaN(H)||isNaN(Q))throw En.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");d.call(this)||(this.beginPath(),this.rect(L,O,H,Q),this.stroke())},u.prototype.clearRect=function(L,O,H,Q){if(isNaN(L)||isNaN(O)||isNaN(H)||isNaN(Q))throw En.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,O,H,Q))},u.prototype.save=function(L){L=typeof L!="boolean"||L;for(var O=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("q");if(this.pdf.setPage(O),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var Q=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Q}},u.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var O=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("Q");this.pdf.setPage(O),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},u.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(L){var O,H,Q,Y;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))O=0,H=0,Q=0,Y=0;else{var oe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(oe!==null)O=parseInt(oe[1]),H=parseInt(oe[2]),Q=parseInt(oe[3]),Y=1;else if((oe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)O=parseInt(oe[1]),H=parseInt(oe[2]),Q=parseInt(oe[3]),Y=parseFloat(oe[4]);else{if(Y=1,typeof L=="string"&&L.charAt(0)!=="#"){var de=new PY(L);L=de.ok?de.toHex():"#000000"}L.length===4?(O=L.substring(1,2),O+=O,H=L.substring(2,3),H+=H,Q=L.substring(3,4),Q+=Q):(O=L.substring(1,3),H=L.substring(3,5),Q=L.substring(5,7)),O=parseInt(O,16),H=parseInt(H,16),Q=parseInt(Q,16)}}return{r:O,g:H,b:Q,a:Y,style:L}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},d=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};u.prototype.fillText=function(L,O,H,Q){if(isNaN(O)||isNaN(H)||typeof L!="string")throw En.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Q=isNaN(Q)?void 0:Q,!f.call(this)){var Y=J(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;F.call(this,{text:L,x:O,y:H,scale:oe,angle:Y,align:this.textAlign,maxWidth:Q})}},u.prototype.strokeText=function(L,O,H,Q){if(isNaN(O)||isNaN(H)||typeof L!="string")throw En.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!d.call(this)){Q=isNaN(Q)?void 0:Q;var Y=J(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;F.call(this,{text:L,x:O,y:H,scale:oe,renderingMode:"stroke",angle:Y,align:this.textAlign,maxWidth:Q})}},u.prototype.measureText=function(L){if(typeof L!="string")throw En.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var O=this.pdf,H=this.pdf.internal.scaleFactor,Q=O.internal.getFontSize(),Y=O.getStringUnitWidth(L)*Q/O.internal.scaleFactor;return new function(oe){var de=(oe=oe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return de}}),this}({width:Y*=Math.round(96*H/72*1e4)/1e4})},u.prototype.scale=function(L,O){if(isNaN(L)||isNaN(O))throw En.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var H=new A(L,0,0,O,0,0);this.ctx.transform=this.ctx.transform.multiply(H)},u.prototype.rotate=function(L){if(isNaN(L))throw En.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var O=new A(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(O)},u.prototype.translate=function(L,O){if(isNaN(L)||isNaN(O))throw En.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var H=new A(1,0,0,1,L,O);this.ctx.transform=this.ctx.transform.multiply(H)},u.prototype.transform=function(L,O,H,Q,Y,oe){if(isNaN(L)||isNaN(O)||isNaN(H)||isNaN(Q)||isNaN(Y)||isNaN(oe))throw En.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new A(L,O,H,Q,Y,oe);this.ctx.transform=this.ctx.transform.multiply(de)},u.prototype.setTransform=function(L,O,H,Q,Y,oe){L=isNaN(L)?1:L,O=isNaN(O)?0:O,H=isNaN(H)?0:H,Q=isNaN(Q)?1:Q,Y=isNaN(Y)?0:Y,oe=isNaN(oe)?0:oe,this.ctx.transform=new A(L,O,H,Q,Y,oe)};var p=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};u.prototype.drawImage=function(L,O,H,Q,Y,oe,de,fe,_e){var Se=this.pdf.getImageProperties(L),ne=1,$e=1,Be=1,ue=1;Q!==void 0&&fe!==void 0&&(Be=fe/Q,ue=_e/Y,ne=Se.width/Q*fe/Q,$e=Se.height/Y*_e/Y),oe===void 0&&(oe=O,de=H,O=0,H=0),Q!==void 0&&fe===void 0&&(fe=Q,_e=Y),Q===void 0&&fe===void 0&&(fe=Se.width,_e=Se.height);for(var Xe,je=this.ctx.transform.decompose(),qe=J(je.rotate.shx),Ve=new A,ht=(Ve=(Ve=(Ve=Ve.multiply(je.translate)).multiply(je.skew)).multiply(je.scale)).applyToRectangle(new o(oe-O*Be,de-H*ue,Q*ne,Y*$e)),nt=v.call(this,ht),Nt=[],gt=0;gt<nt.length;gt+=1)Nt.indexOf(nt[gt])===-1&&Nt.push(nt[gt]);if(b(Nt),this.autoPaging)for(var Bt=Nt[0],Et=Nt[Nt.length-1],At=Bt;At<Et+1;At++){this.pdf.setPage(At);var Ft=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],mt=At===1?this.posY+this.margin[0]:this.margin[0],vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],at=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ct=At===1?0:vt+(At-2)*at;if(this.ctx.clip_path.length!==0){var jt=this.path;Xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(Xe,this.posX+this.margin[3],-ct+mt+this.ctx.prevPageLastElemOffset),R.call(this,"fill",!0),this.path=jt}var Mt=JSON.parse(JSON.stringify(ht));Mt=x([Mt],this.posX+this.margin[3],-ct+mt+this.ctx.prevPageLastElemOffset)[0];var wt=(At>Bt||At<Et)&&p.call(this);wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ft,at,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",Mt.x,Mt.y,Mt.w,Mt.h,null,null,qe),wt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(L,"JPEG",ht.x,ht.y,ht.w,ht.h,null,null,qe)};var v=function(L,O,H){var Q=[];O=O||this.pdf.internal.pageSize.width,H=H||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Y=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":Q.push(Math.floor((L.y+Y)/H)+1);break;case"arc":Q.push(Math.floor((L.y+Y-L.radius)/H)+1),Q.push(Math.floor((L.y+Y+L.radius)/H)+1);break;case"qct":var oe=W(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);Q.push(Math.floor((oe.y+Y)/H)+1),Q.push(Math.floor((oe.y+oe.h+Y)/H)+1);break;case"bct":var de=be(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);Q.push(Math.floor((de.y+Y)/H)+1),Q.push(Math.floor((de.y+de.h+Y)/H)+1);break;case"rect":Q.push(Math.floor((L.y+Y)/H)+1),Q.push(Math.floor((L.y+L.h+Y)/H)+1)}for(var fe=0;fe<Q.length;fe+=1)for(;this.pdf.internal.getNumberOfPages()<Q[fe];)m.call(this);return Q},m=function(){var L=this.fillStyle,O=this.strokeStyle,H=this.font,Q=this.lineCap,Y=this.lineWidth,oe=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=O,this.font=H,this.lineCap=Q,this.lineWidth=Y,this.lineJoin=oe},x=function(L,O,H){for(var Q=0;Q<L.length;Q++)switch(L[Q].type){case"bct":L[Q].x2+=O,L[Q].y2+=H;case"qct":L[Q].x1+=O,L[Q].y1+=H;default:L[Q].x+=O,L[Q].y+=H}return L},b=function(L){return L.sort(function(O,H){return O-H})},T=function(L,O){for(var H,Q,Y=this.fillStyle,oe=this.strokeStyle,de=this.lineCap,fe=this.lineWidth,_e=Math.abs(fe*this.ctx.transform.scaleX),Se=this.lineJoin,ne=JSON.parse(JSON.stringify(this.path)),$e=JSON.parse(JSON.stringify(this.path)),Be=[],ue=0;ue<$e.length;ue++)if($e[ue].x!==void 0)for(var Xe=v.call(this,$e[ue]),je=0;je<Xe.length;je+=1)Be.indexOf(Xe[je])===-1&&Be.push(Xe[je]);for(var qe=0;qe<Be.length;qe++)for(;this.pdf.internal.getNumberOfPages()<Be[qe];)m.call(this);if(b(Be),this.autoPaging)for(var Ve=Be[0],ht=Be[Be.length-1],nt=Ve;nt<ht+1;nt++){this.pdf.setPage(nt),this.fillStyle=Y,this.strokeStyle=oe,this.lineCap=de,this.lineWidth=_e,this.lineJoin=Se;var Nt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],gt=nt===1?this.posY+this.margin[0]:this.margin[0],Bt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Et=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],At=nt===1?0:Bt+(nt-2)*Et;if(this.ctx.clip_path.length!==0){var Ft=this.path;H=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(H,this.posX+this.margin[3],-At+gt+this.ctx.prevPageLastElemOffset),R.call(this,L,!0),this.path=Ft}if(Q=JSON.parse(JSON.stringify(ne)),this.path=x(Q,this.posX+this.margin[3],-At+gt+this.ctx.prevPageLastElemOffset),O===!1||nt===0){var mt=(nt>Ve||nt<ht)&&p.call(this);mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nt,Et,null).clip().discardPath()),R.call(this,L,O),mt&&this.pdf.restoreGraphicsState()}this.lineWidth=fe}else this.lineWidth=_e,R.call(this,L,O),this.lineWidth=fe;this.path=ne},R=function(L,O){if((L!=="stroke"||O||!d.call(this))&&(L==="stroke"||O||!f.call(this))){for(var H,Q,Y=[],oe=this.path,de=0;de<oe.length;de++){var fe=oe[de];switch(fe.type){case"begin":Y.push({begin:!0});break;case"close":Y.push({close:!0});break;case"mt":Y.push({start:fe,deltas:[],abs:[]});break;case"lt":var _e=Y.length;if(oe[de-1]&&!isNaN(oe[de-1].x)&&(H=[fe.x-oe[de-1].x,fe.y-oe[de-1].y],_e>0)){for(;_e>=0;_e--)if(Y[_e-1].close!==!0&&Y[_e-1].begin!==!0){Y[_e-1].deltas.push(H),Y[_e-1].abs.push(fe);break}}break;case"bct":H=[fe.x1-oe[de-1].x,fe.y1-oe[de-1].y,fe.x2-oe[de-1].x,fe.y2-oe[de-1].y,fe.x-oe[de-1].x,fe.y-oe[de-1].y],Y[Y.length-1].deltas.push(H);break;case"qct":var Se=oe[de-1].x+2/3*(fe.x1-oe[de-1].x),ne=oe[de-1].y+2/3*(fe.y1-oe[de-1].y),$e=fe.x+2/3*(fe.x1-fe.x),Be=fe.y+2/3*(fe.y1-fe.y),ue=fe.x,Xe=fe.y;H=[Se-oe[de-1].x,ne-oe[de-1].y,$e-oe[de-1].x,Be-oe[de-1].y,ue-oe[de-1].x,Xe-oe[de-1].y],Y[Y.length-1].deltas.push(H);break;case"arc":Y.push({deltas:[],abs:[],arc:!0}),Array.isArray(Y[Y.length-1].abs)&&Y[Y.length-1].abs.push(fe)}}Q=O?null:L==="stroke"?"stroke":"fill";for(var je=!1,qe=0;qe<Y.length;qe++)if(Y[qe].arc)for(var Ve=Y[qe].abs,ht=0;ht<Ve.length;ht++){var nt=Ve[ht];nt.type==="arc"?E.call(this,nt.x,nt.y,nt.radius,nt.startAngle,nt.endAngle,nt.counterclockwise,void 0,O,!je):N.call(this,nt.x,nt.y),je=!0}else if(Y[qe].close===!0)this.pdf.internal.out("h"),je=!1;else if(Y[qe].begin!==!0){var Nt=Y[qe].start.x,gt=Y[qe].start.y;G.call(this,Y[qe].deltas,Nt,gt),je=!0}Q&&_.call(this,Q),O&&I.call(this)}},P=function(L){var O=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,H=O*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-H;case"top":return L+O-H;case"hanging":return L+O-2*H;case"middle":return L+O/2-H;default:return L}},B=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};u.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(O,H){this.colorStops.push([O,H])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function(L,O,H,Q,Y,oe,de,fe,_e){for(var Se=ie.call(this,H,Q,Y,oe),ne=0;ne<Se.length;ne++){var $e=Se[ne];ne===0&&(_e?S.call(this,$e.x1+L,$e.y1+O):N.call(this,$e.x1+L,$e.y1+O)),le.call(this,L,O,$e.x2,$e.y2,$e.x3,$e.y3,$e.x4,$e.y4)}fe?I.call(this):_.call(this,de)},_=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},I=function(){this.pdf.clip(),this.pdf.discardPath()},S=function(L,O){this.pdf.internal.out(t(L)+" "+n(O)+" m")},F=function(L){var O;switch(L.align){case"right":case"end":O="right";break;case"center":O="center";break;default:O="left"}var H=this.pdf.getTextDimensions(L.text),Q=P.call(this,L.y),Y=B.call(this,Q)-H.h,oe=this.ctx.transform.applyToPoint(new a(L.x,Q)),de=this.ctx.transform.decompose(),fe=new A;fe=(fe=(fe=fe.multiply(de.translate)).multiply(de.skew)).multiply(de.scale);for(var _e,Se,ne,$e=this.ctx.transform.applyToRectangle(new o(L.x,Q,H.w,H.h)),Be=fe.applyToRectangle(new o(L.x,Y,H.w,H.h)),ue=v.call(this,Be),Xe=[],je=0;je<ue.length;je+=1)Xe.indexOf(ue[je])===-1&&Xe.push(ue[je]);if(b(Xe),this.autoPaging)for(var qe=Xe[0],Ve=Xe[Xe.length-1],ht=qe;ht<Ve+1;ht++){this.pdf.setPage(ht);var nt=ht===1?this.posY+this.margin[0]:this.margin[0],Nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gt=this.pdf.internal.pageSize.height-this.margin[2],Bt=gt-this.margin[0],Et=this.pdf.internal.pageSize.width-this.margin[1],At=Et-this.margin[3],Ft=ht===1?0:Nt+(ht-2)*Bt;if(this.ctx.clip_path.length!==0){var mt=this.path;_e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(_e,this.posX+this.margin[3],-1*Ft+nt),R.call(this,"fill",!0),this.path=mt}var vt=x([JSON.parse(JSON.stringify(Be))],this.posX+this.margin[3],-Ft+nt+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(Se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Se*L.scale),ne=this.lineWidth,this.lineWidth=ne*L.scale);var at=this.autoPaging!=="text";if(at||vt.y+vt.h<=gt){if(at||vt.y>=nt&&vt.x<=Et){var ct=at?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||Et-vt.x)[0],jt=x([JSON.parse(JSON.stringify($e))],this.posX+this.margin[3],-Ft+nt+this.ctx.prevPageLastElemOffset)[0],Mt=at&&(ht>qe||ht<Ve)&&p.call(this);Mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],At,Bt,null).clip().discardPath()),this.pdf.text(ct,jt.x,jt.y,{angle:L.angle,align:O,renderingMode:L.renderingMode}),Mt&&this.pdf.restoreGraphicsState()}}else vt.y<gt&&(this.ctx.prevPageLastElemOffset+=gt-vt.y);L.scale>=.01&&(this.pdf.setFontSize(Se),this.lineWidth=ne)}else L.scale>=.01&&(Se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Se*L.scale),ne=this.lineWidth,this.lineWidth=ne*L.scale),this.pdf.text(L.text,oe.x+this.posX,oe.y+this.posY,{angle:L.angle,align:O,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(Se),this.lineWidth=ne)},N=function(L,O,H,Q){H=H||0,Q=Q||0,this.pdf.internal.out(t(L+H)+" "+n(O+Q)+" l")},G=function(L,O,H){return this.pdf.lines(L,O,H,null,null)},le=function(L,O,H,Q,Y,oe,de,fe){this.pdf.internal.out([e(i(H+L)),e(s(Q+O)),e(i(Y+L)),e(s(oe+O)),e(i(de+L)),e(s(fe+O)),"c"].join(" "))},ie=function(L,O,H,Q){for(var Y=2*Math.PI,oe=Math.PI/2;O>H;)O-=Y;var de=Math.abs(H-O);de<Y&&Q&&(de=Y-de);for(var fe=[],_e=Q?-1:1,Se=O;de>1e-5;){var ne=Se+_e*Math.min(de,oe);fe.push(te.call(this,L,Se,ne)),de-=Math.abs(ne-Se),Se=ne}return fe},te=function(L,O,H){var Q=(H-O)/2,Y=L*Math.cos(Q),oe=L*Math.sin(Q),de=Y,fe=-oe,_e=de*de+fe*fe,Se=_e+de*Y+fe*oe,ne=4/3*(Math.sqrt(2*_e*Se)-Se)/(de*oe-fe*Y),$e=de-ne*fe,Be=fe+ne*de,ue=$e,Xe=-Be,je=Q+O,qe=Math.cos(je),Ve=Math.sin(je);return{x1:L*Math.cos(O),y1:L*Math.sin(O),x2:$e*qe-Be*Ve,y2:$e*Ve+Be*qe,x3:ue*qe-Xe*Ve,y3:ue*Ve+Xe*qe,x4:L*Math.cos(H),y4:L*Math.sin(H)}},J=function(L){return 180*L/Math.PI},W=function(L,O,H,Q,Y,oe){var de=L+.5*(H-L),fe=O+.5*(Q-O),_e=Y+.5*(H-Y),Se=oe+.5*(Q-oe),ne=Math.min(L,Y,de,_e),$e=Math.max(L,Y,de,_e),Be=Math.min(O,oe,fe,Se),ue=Math.max(O,oe,fe,Se);return new o(ne,Be,$e-ne,ue-Be)},be=function(L,O,H,Q,Y,oe,de,fe){var _e,Se,ne,$e,Be,ue,Xe,je,qe,Ve,ht,nt,Nt,gt,Bt=H-L,Et=Q-O,At=Y-H,Ft=oe-Q,mt=de-Y,vt=fe-oe;for(Se=0;Se<41;Se++)qe=(Xe=(ne=L+(_e=Se/40)*Bt)+_e*((Be=H+_e*At)-ne))+_e*(Be+_e*(Y+_e*mt-Be)-Xe),Ve=(je=($e=O+_e*Et)+_e*((ue=Q+_e*Ft)-$e))+_e*(ue+_e*(oe+_e*vt-ue)-je),Se==0?(ht=qe,nt=Ve,Nt=qe,gt=Ve):(ht=Math.min(ht,qe),nt=Math.min(nt,Ve),Nt=Math.max(Nt,qe),gt=Math.max(gt,Ve));return new o(Math.round(ht),Math.round(nt),Math.round(Nt-ht),Math.round(gt-nt))},xe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,O,H=(L=this.ctx.lineDash,O=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:O}));this.prevLineDash!==H&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=H)}}})(Ht.API),function(r){var e=function(a){var o,A,l,c,u,h,f,d,p,v;for(A=[],l=0,c=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;c>l;l+=4)(u=(a.charCodeAt(l)<<24)+(a.charCodeAt(l+1)<<16)+(a.charCodeAt(l+2)<<8)+a.charCodeAt(l+3))!==0?(h=(u=((u=((u=((u=(u-(v=u%85))/85)-(p=u%85))/85)-(d=u%85))/85)-(f=u%85))/85)%85,A.push(h+33,f+33,d+33,p+33,v+33)):A.push(122);return function(m,x){for(var b=x;b>0;b--)m.pop()}(A,o.length),String.fromCharCode.apply(String,A)+"~>"},t=function(a){var o,A,l,c,u,h=String,f="length",d=255,p="charCodeAt",v="slice",m="replace";for(a[v](-2),a=a[v](0,-2)[m](/\s/g,"")[m]("z","!!!!!"),l=[],c=0,u=(a+=o="uuuuu"[v](a[f]%5||5))[f];u>c;c+=5)A=52200625*(a[p](c)-33)+614125*(a[p](c+1)-33)+7225*(a[p](c+2)-33)+85*(a[p](c+3)-33)+(a[p](c+4)-33),l.push(d&A>>24,d&A>>16,d&A>>8,d&A);return function(x,b){for(var T=b;T>0;T--)x.pop()}(l,o[f]),h.fromCharCode.apply(h,l)},n=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var A="",l=0;l<a.length;l+=2)A+=String.fromCharCode("0x"+(a[l]+a[l+1]));return A},s=function(a){for(var o=new Uint8Array(a.length),A=a.length;A--;)o[A]=a.charCodeAt(A);return(o=WL(o)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};r.processDataByFilters=function(a,o){var A=0,l=a||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),A=0;A<o.length;A+=1)switch(o[A]){case"ASCII85Decode":case"/ASCII85Decode":l=t(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=i(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=n(l),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=s(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[A]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(Ht.API),function(r){r.loadFile=function(e,t,n){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(A,l,c){var u=new XMLHttpRequest,h=0,f=function(d){var p=d.length,v=[],m=String.fromCharCode;for(h=0;h<p;h+=1)v.push(m(255&d.charCodeAt(h)));return v.join("")};if(u.open("GET",A,!l),u.overrideMimeType("text/plain; charset=x-user-defined"),l===!1&&(u.onload=function(){u.status===200?c(f(this.responseText)):c(void 0)}),u.send(null),l&&u.status===200)return f(u.responseText)}(i,s,a)}catch{}return o}(e,t,n)},r.loadImageFile=r.loadFile}(Ht.API),function(r){function e(){return(nr.html2canvas?Promise.resolve(nr.html2canvas):Q4(()=>Promise.resolve().then(()=>LSe),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function t(){return(nr.DOMPurify?Promise.resolve(nr.DOMPurify):Q4(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var A=hn(o);return A==="undefined"?"undefined":A==="string"||o instanceof String?"string":A==="number"||o instanceof Number?"number":A==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":A==="object"?"object":"unknown"},i=function(o,A){var l=document.createElement(o);for(var c in A.className&&(l.className=A.className),A.innerHTML&&A.dompurify&&(l.innerHTML=A.dompurify.sanitize(A.innerHTML)),A.style)l.style[c]=A.style[c];return l},s=function o(A,l){for(var c=A.nodeType===3?document.createTextNode(A.nodeValue):A.cloneNode(!1),u=A.firstChild;u;u=u.nextSibling)l!==!0&&u.nodeType===1&&u.nodeName==="SCRIPT"||c.appendChild(o(u,l));return A.nodeType===1&&(A.nodeName==="CANVAS"?(c.width=A.width,c.height=A.height,c.getContext("2d").drawImage(A,0,0)):A.nodeName!=="TEXTAREA"&&A.nodeName!=="SELECT"||(c.value=A.value),c.addEventListener("load",function(){c.scrollTop=A.scrollTop,c.scrollLeft=A.scrollLeft},!0)),c},a=function o(A){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),l);return(c=c.setProgress(1,o,1,[o])).set(A)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,A){return o.__proto__=A||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,A){return this.then(function(){switch(A=A||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),A){case"string":return this.then(t).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},A=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);A.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(A),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(A){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,A(this.prop.container,l)}).then(function(A){(this.opt.html2canvas.onrendered||function(){})(A),this.prop.canvas=A,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(A){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var f=0;f<c.length;++f){var d=c[f],p=d.src.find(function(v){return v.format==="truetype"});p&&l.addFont(p.url,d.ref.name,d.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,l.context2d.save(!0),A(this.prop.container,h)}).then(function(A){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(A),this.prop.canvas=A,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,A,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,A):this.outputPdf(o,A)},a.prototype.outputPdf=function(o,A){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,A)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(n(o)!=="object")return this;var A=Object.keys(o||{}).map(function(l){if(l in a.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(A)})},a.prototype.get=function(o,A){return this.then(function(){var l=o in a.template.prop?this.prop[o]:this.opt[o];return A?A(l):l})},a.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function A(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(o=o||Ht.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:A(o.inner.width,o.k),height:A(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,A,l,c){return o!=null&&(this.progress.val=o),A!=null&&(this.progress.state=A),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,A,l,c){return this.setProgress(o?this.progress.val+o:null,A||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},a.prototype.then=function(o,A){var l=this;return this.thenCore(o,A,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(h){return l.updateProgress(null,c),h}).then(c,u).then(function(h){return l.updateProgress(1),h})})},a.prototype.thenCore=function(o,A,l){l=l||Promise.prototype.then;var c=this;o&&(o=o.bind(c)),A&&(A=A.bind(c));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?c:a.convert(Object.assign({},c),Promise.prototype),h=l.call(u,o,A);return a.convert(h,c.__proto__)},a.prototype.thenExternal=function(o,A){return Promise.prototype.then.call(this,o,A)},a.prototype.thenList=function(o){var A=this;return o.forEach(function(l){A=A.thenCore(l)}),A},a.prototype.catch=function(o){o&&(o=o.bind(this));var A=Promise.prototype.catch.call(this,o);return a.convert(A,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Ht.getPageSize=function(o,A,l){if(hn(o)==="object"){var c=o;o=c.orientation,A=c.unit||A,l=c.format||l}A=A||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var u,h=(""+l).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(A){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+A}var d,p=0,v=0;if(f.hasOwnProperty(h))p=f[h][1]/u,v=f[h][0]/u;else try{p=l[1],v=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",v>p&&(d=v,v=p,p=d);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",p>v&&(d=v,v=p,p=d)}return{width:v,height:p,unit:A,k:u,orientation:o}},r.html=function(o,A){(A=A||{}).callback=A.callback||function(){},A.html2canvas=A.html2canvas||{},A.html2canvas.canvas=A.html2canvas.canvas||this.canvas,A.jsPDF=A.jsPDF||this,A.fontFaces=A.fontFaces?A.fontFaces.map(iI):null;var l=new a(A);return A.worker?l:l.from(o).doCallback()}}(Ht.API),Ht.API.addJS=function(r){return f7=r,this.internal.events.subscribe("postPutResources",function(){lC=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(lC+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),h7=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+f7+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){lC!==void 0&&h7!==void 0&&this.internal.out("/Names <</JavaScript "+lC+" 0 R>>")}),this},function(r){var e;r.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=n.exec(a);if(o!=null){var A=o[1];t.internal.newObjectDeferredBegin(A,!1)}t.internal.write(a)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,c=[];for(s=0;s<l;s++){var u=t.internal.newObject();c.push(u);var h=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var f=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<c.length;s++)t.internal.write("(page_"+(s+1)+")"+c[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+f+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,i,s){var a={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(a),a},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var a=n.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var A=t.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+A.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var l=0;l<n.children.length;l++)this.renderItems(n.children[l])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(Ht.API),function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,n,i,s,a,o){var A,l=this.decode.DCT_DECODE,c=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=a||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,A=function(u){for(var h,f=256*u.charCodeAt(4)+u.charCodeAt(5),d=u.length,p={width:0,height:0,numcomponents:1},v=4;v<d;v+=2){if(v+=f,e.indexOf(u.charCodeAt(v+1))!==-1){h=256*u.charCodeAt(v+5)+u.charCodeAt(v+6),p={width:256*u.charCodeAt(v+7)+u.charCodeAt(v+8),height:h,numcomponents:u.charCodeAt(v+9)};break}f=256*u.charCodeAt(v+2)+u.charCodeAt(v+3)}return p}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),A.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}c={data:t,width:A.width,height:A.height,colorSpace:o,bitsPerComponent:8,filter:l,index:n,alias:i}}return c}}(Ht.API),Ht.API.processPNG=function(r,e,t,n){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var i,s=QTe(r,{checkCrc:!0}),a=s.width,o=s.height,A=s.channels,l=s.palette,c=s.depth;i=l&&A===1?function(E){for(var _=E.width,I=E.height,S=E.data,F=E.palette,N=E.depth,G=!1,le=[],ie=[],te=void 0,J=!1,W=0,be=0;be<F.length;be++){var xe=mH(F[be],4),L=xe[0],O=xe[1],H=xe[2],Q=xe[3];le.push(L,O,H),Q!=null&&(Q===0?(W++,ie.length<1&&ie.push(be)):Q<255&&(J=!0))}if(J||W>1){G=!0,ie=void 0;var Y=_*I;te=new Uint8Array(Y);for(var oe=new DataView(S.buffer),de=0;de<Y;de++){var fe=aI(oe,de,N),_e=mH(F[fe],4)[3];te[de]=_e}}else W===0&&(ie=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:G?8:void 0,colorBytes:S,alphaBytes:te,needSMask:G,palette:le,mask:ie}}(s):A===2||A===4?function(E){for(var _=E.data,I=E.width,S=E.height,F=E.channels,N=E.depth,G=F===2?"DeviceGray":"DeviceRGB",le=F-1,ie=I*S,te=le,J=ie*te,W=1*ie,be=Math.ceil(J*N/8),xe=Math.ceil(W*N/8),L=new Uint8Array(be),O=new Uint8Array(xe),H=new DataView(_.buffer),Q=new DataView(L.buffer),Y=new DataView(O.buffer),oe=!1,de=0;de<ie;de++){for(var fe=de*F,_e=0;_e<te;_e++)_7(Q,aI(H,fe+_e,N),de*te+_e,N);var Se=aI(H,fe+te,N);Se<(1<<N)-1&&(oe=!0),_7(Y,Se,1*de,N)}return{colorSpace:G,colorsPerPixel:le,sMaskBitsPerComponent:oe?N:void 0,colorBytes:L,alphaBytes:O,needSMask:oe}}(s):function(E){var _=E.data,I=E.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:I,colorsPerPixel:I==="DeviceGray"?1:3,colorBytes:_ instanceof Uint16Array?function(S){for(var F=S.length,N=new Uint8Array(2*F),G=new DataView(N.buffer,N.byteOffset,N.byteLength),le=0;le<F;le++)G.setUint16(2*le,S[le],!1);return N}(_):_,needSMask:!1}}(s);var u,h,f,d=i,p=d.colorSpace,v=d.colorsPerPixel,m=d.sMaskBitsPerComponent,x=d.colorBytes,b=d.alphaBytes,T=d.needSMask,R=d.palette,P=d.mask,B=null;return n!==Ht.API.image_compression.NONE&&typeof WL=="function"?(B=function(E){var _;switch(E){case Ht.API.image_compression.FAST:_=11;break;case Ht.API.image_compression.MEDIUM:_=13;break;case Ht.API.image_compression.SLOW:_=14;break;default:_=12}return _}(n),u=this.decode.FLATE_DECODE,h="/Predictor ".concat(B," /Colors ").concat(v," /BitsPerComponent ").concat(c," /Columns ").concat(a),r=m7(x,Math.ceil(a*v*c/8),v,c,n),T&&(f=m7(b,Math.ceil(a*m/8),1,m,n))):(u=void 0,h=void 0,r=x,T&&(f=b)),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:t,data:r,index:e,filter:u,decodeParameters:h,transparency:P,palette:R,sMask:f,predictor:B,width:a,height:o,bitsPerComponent:c,sMaskBitsPerComponent:m,colorSpace:p}}},function(r){r.processGIF89A=function(e,t,n,i){var s=new oFe(e),a=s.width,o=s.height,A=[];s.decodeAndBlitFrameRGBA(0,A);var l={data:A,width:a,height:o},c=new oI(100).encode(l,100);return r.processJPEG.call(this,c,t,n,i)},r.processGIF87A=r.processGIF89A}(Ht.API),yl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},yl.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){En.log("bit decode error:"+t)}},yl.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var A=this.palette[s>>7-o&1];this.data[a+4*o]=A.blue,this.data[a+4*o+1]=A.green,this.data[a+4*o+2]=A.red,this.data[a+4*o+3]=255}t!==0&&(this.pos+=4-t)}},yl.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<r;i++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*i*4,o=s>>4,A=15&s,l=this.palette[o];if(this.data[a]=l.blue,this.data[a+1]=l.green,this.data[a+2]=l.red,this.data[a+3]=255,2*i+1>=this.width)break;l=this.palette[A],this.data[a+4]=l.blue,this.data[a+4+1]=l.green,this.data[a+4+2]=l.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},yl.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}r!==0&&(this.pos+=4-r)}},yl.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,A=(s>>10&e)/e*255|0,l=s>>15?255:0,c=n*this.width*4+4*i;this.data[c]=A,this.data[c+1]=o,this.data[c+2]=a,this.data[c+3]=l}this.pos+=r}},yl.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,A=(a>>5&t)/t*255|0,l=(a>>11)/e*255|0,c=i*this.width*4+4*s;this.data[c]=l,this.data[c+1]=A,this.data[c+2]=o,this.data[c+3]=255}this.pos+=r}},yl.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},yl.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=a}},yl.prototype.getData=function(){return this.data},function(r){r.processBMP=function(e,t,n,i){var s=new yl(e,!1),a=s.width,o=s.height,A={data:s.getData(),width:a,height:o},l=new oI(100).encode(A,100);return r.processJPEG.call(this,l,t,n,i)}}(Ht.API),E7.prototype.getData=function(){return this.data},function(r){r.processWEBP=function(e,t,n,i){var s=new E7(e),a=s.width,o=s.height,A={data:s.getData(),width:a,height:o},l=new oI(100).encode(A,100);return r.processJPEG.call(this,l,t,n,i)}}(Ht.API),Ht.API.processRGBA=function(r,e,t){for(var n=r.data,i=n.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,A=0,l=0;l<i;l+=4){var c=n[l],u=n[l+1],h=n[l+2],f=n[l+3];s[o++]=c,s[o++]=u,s[o++]=h,a[A++]=f}var d=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:d,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},Ht.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},um=Ht.API,cC=um.getCharWidthsArray=function(r,e){var t,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,A=o.fof?o.fof:1,l=e.kerning?e.kerning:i.metadata.Unicode.kerning,c=l.fof?l.fof:1,u=e.doKerning!==!1,h=0,f=r.length,d=0,p=o[0]||A,v=[];for(t=0;t<f;t++)n=r.charCodeAt(t),typeof i.metadata.widthOfString=="function"?v.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+a*(1e3/s)||0)/1e3):(h=u&&hn(l[n])==="object"&&!isNaN(parseInt(l[n][d],10))?l[n][d]/c:0,v.push((o[n]||p)/A+h)),d=n;return v},d7=um.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return um.processArabic&&(r=um.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,t,i)/t:cC.apply(this,arguments).reduce(function(s,a){return s+a},0)},p7=function(r,e,t,n){for(var i=[],s=0,a=r.length,o=0;s!==a&&o+e[s]<t;)o+=e[s],s++;i.push(r.slice(0,s));var A=s;for(o=0;s!==a;)o+e[s]>n&&(i.push(r.slice(A,s)),o=0,A=s),o+=e[s],s++;return A!==s&&i.push(r.slice(A,s)),i},g7=function(r,e,t){t||(t={});var n,i,s,a,o,A,l,c=[],u=[c],h=t.textIndent||0,f=0,d=0,p=r.split(" "),v=cC.apply(this,[" ",t])[0];if(A=t.lineIndent===-1?p[0].length+2:t.lineIndent||0){var m=Array(A).join(" "),x=[];p.map(function(T){(T=T.split(/\s*\n/)).length>1?x=x.concat(T.map(function(R,P){return(P&&R.length?`
`:"")+R})):x.push(T[0])}),p=x,A=d7.apply(this,[m,t])}for(s=0,a=p.length;s<a;s++){var b=0;if(n=p[s],A&&n[0]==`
`&&(n=n.substr(1),b=1),h+f+(d=(i=cC.apply(this,[n,t])).reduce(function(T,R){return T+R},0))>e||b){if(d>e){for(o=p7.apply(this,[n,i,e-(h+f),e]),c.push(o.shift()),c=[o.pop()];o.length;)u.push([o.shift()]);d=i.slice(n.length-(c[0]?c[0].length:0)).reduce(function(T,R){return T+R},0)}else c=[n];u.push(c),h=d+A,f=v}else c.push(n),h+=f+d,f=v}return l=A?function(T,R){return(R?m:"")+T.join(" ")}:function(T){return T.join(" ")},u.map(l)},um.splitTextToSize=function(r,e,t){var n,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var u=this.internal.getFont(c.fontName,c.fontStyle),h="Unicode";return u.metadata[h]?{widths:u.metadata[h].widths||{0:1},kerning:u.metadata[h].kerning||{}}:{font:u.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var o,A,l=[];for(o=0,A=n.length;o<A;o++)l=l.concat(g7.apply(this,[n[o],a,s]));return l},function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",n={},i={},s=0;s<16;s++)n[t[s]]=e[s],i[e[s]]=t[s];var a=function(h){return"0x"+parseInt(h,10).toString(16)},o=r.__fontmetrics__.compress=function(h){var f,d,p,v,m=["{"];for(var x in h){if(f=h[x],isNaN(parseInt(x,10))?d="'"+x+"'":(x=parseInt(x,10),d=(d=a(x).slice(2)).slice(0,-1)+i[d.slice(-1)]),typeof f=="number")f<0?(p=a(f).slice(3),v="-"):(p=a(f).slice(2),v=""),p=v+p.slice(0,-1)+i[p.slice(-1)];else{if(hn(f)!=="object")throw new Error("Don't know what to do with value type "+hn(f)+".");p=o(f)}m.push(d+p)}return m.push("}"),m.join("")},A=r.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,d,p,v,m={},x=1,b=m,T=[],R="",P="",B=h.length-1,E=1;E<B;E+=1)(v=h[E])=="'"?f?(p=f.join(""),f=void 0):f=[]:f?f.push(v):v=="{"?(T.push([b,p]),b={},p=void 0):v=="}"?((d=T.pop())[0][d[1]]=b,p=void 0,b=d[0]):v=="-"?x=-1:p===void 0?n.hasOwnProperty(v)?(R+=n[v],p=parseInt(R,16)*x,x=1,R=""):R+=v:n.hasOwnProperty(v)?(P+=n[v],b[p]=parseInt(P,16)*x,x=1,p=void 0,P=""):P+=v;return m},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:A("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":A("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":A("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":A("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:A("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:A("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":A("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:A("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":A("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":A("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":A("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(h){var f=h.font,d=u.Unicode[f.postScriptName];d&&(f.metadata.Unicode={},f.metadata.Unicode.widths=d.widths,f.metadata.Unicode.kerning=d.kerning);var p=c.Unicode[f.postScriptName];p&&(f.metadata.Unicode.encoding=p,f.encoding=p.codePages[0])}])}(Ht.API),function(r){var e=function(t){for(var n=t.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=t.charCodeAt(s);return i};r.API.events.push(["addFont",function(t){var n=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(_B(o)),a.metadata=r.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,n)}}])}(Ht),Ht.API.addSvgAsImage=function(r,e,t,n,i,s,a,o){if(isNaN(e)||isNaN(t))throw En.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw En.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var A=document.createElement("canvas");A.width=n,A.height=i;var l=A.getContext("2d");l.fillStyle="#fff",l.fillRect(0,0,A.width,A.height);var c={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},u=this;return(nr.canvg?Promise.resolve(nr.canvg):Q4(()=>import("./index.es-DqkG-2y2.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load canvg: "+h))}).then(function(h){return h.default?h.default:h}).then(function(h){return h.fromString(l,r,c)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(h){return h.render(c)}).then(function(){u.addImage(A.toDataURL("image/jpeg",1),e,t,n,i,a,o)})},Ht.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,t);return this},Ht.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var n,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),A=[],l=0,c=0,u=0;function h(d,p){var v,m=!1;for(v=0;v<d.length;v+=1)d[v]===p&&(m=!0);return m}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var f=o.length;for(u=0;u<f;u+=1)t[o[u]].value=t[o[u]].defaultValue,t[o[u]].explicitSet=!1}if(hn(r)==="object"){for(i in r)if(s=r[i],h(o,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&h(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(l=0;l<s.length;l+=1)if(n=!0,s[l].length===1&&typeof s[l][0]=="number")A.push(String(s[l]-1));else if(s[l].length>1){for(c=0;c<s[l].length;c+=1)typeof s[l][c]!="number"&&(n=!1);n===!0&&A.push([s[l][0]-1,s[l][1]-1].join(" "))}t[i].value="["+A.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var d,p=[];for(d in t)t[d].explicitSet===!0&&(t[d].type==="name"?p.push("/"+d+" /"+t[d].value):p.push("/"+d+" "+t[d].value));p.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+p.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(r){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),A=unescape(encodeURIComponent("</x:xmpmeta>")),l=s.length+a.length+o.length+i.length+A.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+l+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+A),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(Ht.API),function(r){var e=r.API,t=e.pdfEscape16=function(s,a){for(var o,A=a.metadata.Unicode.widths,l=["","0","00","000","0000"],c=[""],u=0,h=s.length;u<h;++u){if(o=a.metadata.characterToGlyph(s.charCodeAt(u)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(u),A.indexOf(o)==-1&&(A.push(o),A.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return c.join("");o=o.toString(16),c.push(l[4-o.length],o)}return c.join("")},n=function(s){var a,o,A,l,c,u,h;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,A=[],u=0,h=(o=Object.keys(s).sort(function(f,d){return f-d})).length;u<h;u++)a=o[u],A.length>=100&&(c+=`
`+A.length+` beginbfchar
`+A.join(`
`)+`
endbfchar`,A=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(l=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),A.push("<"+a+"><"+l+">"));return A.length&&(c+=`
`+A.length+` beginbfchar
`+A.join(`
`)+`
endbfchar
`),c+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,A=a.out,l=a.newObject,c=a.putStream;if(o.metadata instanceof r.API.TTFFont&&o.encoding==="Identity-H"){for(var u=o.metadata.Unicode.widths,h=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),f="",d=0;d<h.length;d++)f+=String.fromCharCode(h[d]);var p=l();c({data:f,addLength1:!0,objectId:p}),A("endobj");var v=l();c({data:n(o.metadata.toUnicode),addLength1:!0,objectId:v}),A("endobj");var m=l();A("<<"),A("/Type /FontDescriptor"),A("/FontName /"+Sm(o.fontName)),A("/FontFile2 "+p+" 0 R"),A("/FontBBox "+r.API.PDFObject.convert(o.metadata.bbox)),A("/Flags "+o.metadata.flags),A("/StemV "+o.metadata.stemV),A("/ItalicAngle "+o.metadata.italicAngle),A("/Ascent "+o.metadata.ascender),A("/Descent "+o.metadata.decender),A("/CapHeight "+o.metadata.capHeight),A(">>"),A("endobj");var x=l();A("<<"),A("/Type /Font"),A("/BaseFont /"+Sm(o.fontName)),A("/FontDescriptor "+m+" 0 R"),A("/W "+r.API.PDFObject.convert(u)),A("/CIDToGIDMap /Identity"),A("/DW 1000"),A("/Subtype /CIDFontType2"),A("/CIDSystemInfo"),A("<<"),A("/Supplement 0"),A("/Registry (Adobe)"),A("/Ordering ("+o.encoding+")"),A(">>"),A(">>"),A("endobj"),o.objectNumber=l(),A("<<"),A("/Type /Font"),A("/Subtype /Type0"),A("/ToUnicode "+v+" 0 R"),A("/BaseFont /"+Sm(o.fontName)),A("/Encoding /"+o.encoding),A("/DescendantFonts ["+x+" 0 R]"),A(">>"),A("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,A=a.out,l=a.newObject,c=a.putStream;if(o.metadata instanceof r.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var u=o.metadata.rawData,h="",f=0;f<u.length;f++)h+=String.fromCharCode(u[f]);var d=l();c({data:h,addLength1:!0,objectId:d}),A("endobj");var p=l();c({data:n(o.metadata.toUnicode),addLength1:!0,objectId:p}),A("endobj");var v=l();A("<<"),A("/Descent "+o.metadata.decender),A("/CapHeight "+o.metadata.capHeight),A("/StemV "+o.metadata.stemV),A("/Type /FontDescriptor"),A("/FontFile2 "+d+" 0 R"),A("/Flags 96"),A("/FontBBox "+r.API.PDFObject.convert(o.metadata.bbox)),A("/FontName /"+Sm(o.fontName)),A("/ItalicAngle "+o.metadata.italicAngle),A("/Ascent "+o.metadata.ascender),A(">>"),A("endobj"),o.objectNumber=l();for(var m=0;m<o.metadata.hmtx.widths.length;m++)o.metadata.hmtx.widths[m]=parseInt(o.metadata.hmtx.widths[m]*(1e3/o.metadata.head.unitsPerEm));A("<</Subtype/TrueType/Type/Font/ToUnicode "+p+" 0 R/BaseFont/"+Sm(o.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),A("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",A=s.x,l=s.y,c=s.options||{},u=s.mutex||{},h=u.pdfEscape,f=u.activeFontKey,d=u.fonts,p=f,v="",m=0,x="",b=d[p].encoding;if(d[p].encoding!=="Identity-H")return{text:o,x:A,y:l,options:c,mutex:u};for(x=o,p=f,Array.isArray(o)&&(x=o[0]),m=0;m<x.length;m+=1)d[p].metadata.hasOwnProperty("cmap")&&(a=d[p].metadata.cmap.unicode.codeMap[x[m].charCodeAt(0)]),a||x[m].charCodeAt(0)<256&&d[p].metadata.hasOwnProperty("Unicode")?v+=x[m]:v+="";var T="";return parseInt(p.slice(1))<14||b==="WinAnsiEncoding"?T=h(v,p).split("").map(function(R){return R.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(T=t(v,d[p])),u.isHex=!0,{text:T,x:A,y:l,options:c,mutex:u}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],A={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var l=0;for(l=0;l<a.length;l+=1)Array.isArray(a[l])&&a[l].length===3?o.push([i(Object.assign({},A,{text:a[l][0]})).text,a[l][1],a[l][2]]):o.push(i(Object.assign({},A,{text:a[l]})).text);s.text=o}else s.text=i(Object.assign({},A,{text:a})).text}])}(Ht),function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(Ht.API),function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var i,s,a,o,A,l,c,u=e,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],d={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],m=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,b=0;this.__bidiEngine__={};var T=function(S){var F=S.charCodeAt(),N=F>>8,G=p[N];return G!==void 0?u[256*G+(255&F)]:N===252||N===253?"AL":m.test(N)?"L":N===8?"R":"N"},R=function(S){for(var F,N=0;N<S.length;N++){if((F=T(S.charAt(N)))==="L")return!1;if(F==="R")return!0}return!1},P=function(S,F,N,G){var le,ie,te,J,W=F[G];switch(W){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"N":case"AN":break;case"EN":x&&(W="AN");break;case"AL":x=!0,W="R";break;case"WS":case"BN":W="N";break;case"CS":G<1||G+1>=F.length||(le=N[G-1])!=="EN"&&le!=="AN"||(ie=F[G+1])!=="EN"&&ie!=="AN"?W="N":x&&(ie="AN"),W=ie===le?ie:"N";break;case"ES":W=(le=G>0?N[G-1]:"B")==="EN"&&G+1<F.length&&F[G+1]==="EN"?"EN":"N";break;case"ET":if(G>0&&N[G-1]==="EN"){W="EN";break}if(x){W="N";break}for(te=G+1,J=F.length;te<J&&F[te]==="ET";)te++;W=te<J&&F[te]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(J=F.length,te=G+1;te<J&&F[te]==="NSM";)te++;if(te<J){var be=S[G],xe=be>=1425&&be<=2303||be===64286;if(le=F[te],xe&&(le==="R"||le==="AL")){W="R";break}}}W=G<1||(le=F[G-1])==="B"?"N":N[G-1];break;case"B":x=!1,i=!0,W=b;break;case"S":s=!0,W="N"}return W},B=function(S,F,N){var G=S.split("");return N&&E(G,N,{hiLevel:b}),G.reverse(),F&&F.reverse(),G.join("")},E=function(S,F,N){var G,le,ie,te,J,W=-1,be=S.length,xe=0,L=[],O=b?f:h,H=[];for(x=!1,i=!1,s=!1,le=0;le<be;le++)H[le]=T(S[le]);for(ie=0;ie<be;ie++){if(J=xe,L[ie]=P(S,H,L,ie),G=240&(xe=O[J][d[L[ie]]]),xe&=15,F[ie]=te=O[xe][5],G>0)if(G===16){for(le=W;le<ie;le++)F[le]=1;W=-1}else W=-1;if(O[xe][6])W===-1&&(W=ie);else if(W>-1){for(le=W;le<ie;le++)F[le]=te;W=-1}H[ie]==="B"&&(F[ie]=0),N.hiLevel|=te}s&&function(Q,Y,oe){for(var de=0;de<oe;de++)if(Q[de]==="S"){Y[de]=b;for(var fe=de-1;fe>=0&&Q[fe]==="WS";fe--)Y[fe]=b}}(H,F,be)},_=function(S,F,N,G,le){if(!(le.hiLevel<S)){if(S===1&&b===1&&!i)return F.reverse(),void(N&&N.reverse());for(var ie,te,J,W,be=F.length,xe=0;xe<be;){if(G[xe]>=S){for(J=xe+1;J<be&&G[J]>=S;)J++;for(W=xe,te=J-1;W<te;W++,te--)ie=F[W],F[W]=F[te],F[te]=ie,N&&(ie=N[W],N[W]=N[te],N[te]=ie);xe=J}xe++}}},I=function(S,F,N){var G=S.split(""),le={hiLevel:b};return N||(N=[]),E(G,N,le),function(ie,te,J){if(J.hiLevel!==0&&c)for(var W,be=0;be<ie.length;be++)te[be]===1&&(W=v.indexOf(ie[be]))>=0&&(ie[be]=v[W+1])}(G,N,le),_(2,G,F,N,le),_(1,G,F,N,le),G.join("")};return this.__bidiEngine__.doBidiReorder=function(S,F,N){if(function(le,ie){if(ie)for(var te=0;te<le.length;te++)ie[te]=te;o===void 0&&(o=R(le)),l===void 0&&(l=R(le))}(S,F),a||!A||l)if(a&&A&&o^l)b=o?1:0,S=B(S,F,N);else if(!a&&A&&l)b=o?1:0,S=I(S,F,N),S=B(S,F);else if(!a||o||A||l){if(a&&!A&&o^l)S=B(S,F),o?(b=0,S=I(S,F,N)):(b=1,S=I(S,F,N),S=B(S,F));else if(a&&o&&!A&&l)b=1,S=I(S,F,N),S=B(S,F);else if(!a&&!A&&o^l){var G=c;o?(b=1,S=I(S,F,N),b=0,c=!1,S=I(S,F,N),c=G):(b=0,S=I(S,F,N),S=B(S,F),b=1,c=!1,S=I(S,F,N),c=G,S=B(S,F))}}else b=0,S=I(S,F,N);else b=o?1:0,S=I(S,F,N);return S},this.__bidiEngine__.setOptions=function(S){S&&(a=S.isInputVisual,A=S.isOutputVisual,o=S.isInputRtl,l=S.isOutputRtl,c=S.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([t.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([t.doBidiReorder(i[o])]);n.text=a}else n.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(Ht),Ht.API.TTFFont=function(){function r(e){var t;if(this.rawData=e,t=this.contents=new Zd(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new _Fe(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new AFe(this.contents),this.head=new cFe(this),this.name=new pFe(this),this.cmap=new KY(this),this.toUnicode={},this.hhea=new uFe(this),this.maxp=new gFe(this),this.hmtx=new mFe(this),this.post=new fFe(this),this.os2=new hFe(this),this.loca=new xFe(this),this.glyf=new vFe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,A,l;for(l=[],a=0,o=(A=this.bbox).length;a<o;a++)e=A[a],l.push(Math.round(e*this.scaleFactor));return l}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,n){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/t)||0;return a*(t/1e3)},r.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},r}();var nc,Zd=function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(e){var t,n,i;for(i=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,n,i,s,a,o,A;return e=this.readByte(),t=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),A=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^A)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*i+16777216*s+65536*a+256*o+A},r.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},r.prototype.write=function(e){var t,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)t=e[n],s.push(this.writeByte(t));return s},r}(),AFe=function(){var r;function e(t){var n,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,i,s,a,o,A,l,c,u,h,f,d,p;for(p in f=Object.keys(t).length,A=Math.log(2),u=16*Math.floor(Math.log(f)/A),a=Math.floor(u/A),c=16*f-u,(i=new Zd).writeInt(this.scalarType),i.writeShort(f),i.writeShort(u),i.writeShort(a),i.writeShort(c),s=16*f,l=i.pos+s,o=null,d=[],t)for(h=t[p],i.writeString(p),i.writeInt(r(h)),i.writeInt(l),i.writeInt(h.length),d=d.concat(h),p==="head"&&(o=l),l+=h.length;l%4;)d.push(0),l++;return i.write(d),n=2981146554-r(i.data),i.pos=o+8,i.writeUInt32(n),i.data},r=function(t){var n,i,s,a;for(t=zY.call(t);t.length%4;)t.push(0);for(s=new Zd(t),i=0,n=0,a=t.length;n<a;n=n+=4)i+=s.readUInt32();return 4294967295&i},e}(),lFe={}.hasOwnProperty,Au=function(r,e){for(var t in e)lFe.call(e,t)&&(r[t]=e[t]);function n(){this.constructor=r}return n.prototype=e.prototype,r.prototype=new n,r.__super__=e.prototype,r};nc=function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r}();var cFe=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Au(r,nc),r.prototype.tag="head",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},r.prototype.encode=function(e){var t;return(t=new Zd).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},r}(),C7=function(){function r(e,t){var n,i,s,a,o,A,l,c,u,h,f,d,p,v,m,x,b;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),u=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(A=0;A<256;++A)this.codeMap[A]=e.readByte();break;case 4:for(f=e.readUInt16(),h=f/2,e.pos+=6,s=function(){var T,R;for(R=[],A=T=0;0<=h?T<h:T>h;A=0<=h?++T:--T)R.push(e.readUInt16());return R}(),e.pos+=2,p=function(){var T,R;for(R=[],A=T=0;0<=h?T<h:T>h;A=0<=h?++T:--T)R.push(e.readUInt16());return R}(),l=function(){var T,R;for(R=[],A=T=0;0<=h?T<h:T>h;A=0<=h?++T:--T)R.push(e.readUInt16());return R}(),c=function(){var T,R;for(R=[],A=T=0;0<=h?T<h:T>h;A=0<=h?++T:--T)R.push(e.readUInt16());return R}(),i=(this.length-e.pos+this.offset)/2,o=function(){var T,R;for(R=[],A=T=0;0<=i?T<i:T>i;A=0<=i?++T:--T)R.push(e.readUInt16());return R}(),A=m=0,b=s.length;m<b;A=++m)for(v=s[A],n=x=d=p[A];d<=v?x<=v:x>=v;n=d<=v?++x:--x)c[A]===0?a=n+l[A]:(a=o[c[A]/2+(n-d)-(h-A)]||0)!==0&&(a+=l[A]),this.codeMap[n]=65535&a}e.pos=u}return r.encode=function(e,t){var n,i,s,a,o,A,l,c,u,h,f,d,p,v,m,x,b,T,R,P,B,E,_,I,S,F,N,G,le,ie,te,J,W,be,xe,L,O,H,Q,Y,oe,de,fe,_e,Se,ne;switch(G=new Zd,a=Object.keys(e).sort(function($e,Be){return $e-Be}),t){case"macroman":for(p=0,v=function(){var $e=[];for(d=0;d<256;++d)$e.push(0);return $e}(),x={0:0},s={},le=0,W=a.length;le<W;le++)x[fe=e[i=a[le]]]==null&&(x[fe]=++p),s[i]={old:e[i],new:x[e[i]]},v[i]=x[e[i]];return G.writeUInt16(1),G.writeUInt16(0),G.writeUInt32(12),G.writeUInt16(0),G.writeUInt16(262),G.writeUInt16(0),G.write(v),{charMap:s,subtable:G.data,maxGlyphID:p+1};case"unicode":for(F=[],u=[],b=0,x={},n={},m=l=null,ie=0,be=a.length;ie<be;ie++)x[R=e[i=a[ie]]]==null&&(x[R]=++b),n[i]={old:R,new:x[R]},o=x[R]-i,m!=null&&o===l||(m&&u.push(m),F.push(i),l=o),m=i;for(m&&u.push(m),u.push(65535),F.push(65535),I=2*(_=F.length),E=2*Math.pow(Math.log(_)/Math.LN2,2),h=Math.log(E/2)/Math.LN2,B=2*_-E,A=[],P=[],f=[],d=te=0,xe=F.length;te<xe;d=++te){if(S=F[d],c=u[d],S===65535){A.push(0),P.push(0);break}if(S-(N=n[S].new)>=32768)for(A.push(0),P.push(2*(f.length+_-d)),i=J=S;S<=c?J<=c:J>=c;i=S<=c?++J:--J)f.push(n[i].new);else A.push(N-S),P.push(0)}for(G.writeUInt16(3),G.writeUInt16(1),G.writeUInt32(12),G.writeUInt16(4),G.writeUInt16(16+8*_+2*f.length),G.writeUInt16(0),G.writeUInt16(I),G.writeUInt16(E),G.writeUInt16(h),G.writeUInt16(B),oe=0,L=u.length;oe<L;oe++)i=u[oe],G.writeUInt16(i);for(G.writeUInt16(0),de=0,O=F.length;de<O;de++)i=F[de],G.writeUInt16(i);for(_e=0,H=A.length;_e<H;_e++)o=A[_e],G.writeUInt16(o);for(Se=0,Q=P.length;Se<Q;Se++)T=P[Se],G.writeUInt16(T);for(ne=0,Y=f.length;ne<Y;ne++)p=f[ne],G.writeUInt16(p);return{charMap:n,subtable:G.data,maxGlyphID:b+1}}},r}(),KY=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Au(r,nc),r.prototype.tag="cmap",r.prototype.parse=function(e){var t,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)t=new C7(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},r.encode=function(e,t){var n,i;return t==null&&(t="macroman"),n=C7.encode(e,t),(i=new Zd).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},r}(),uFe=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Au(r,nc),r.prototype.tag="hhea",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},r}(),hFe=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Au(r,nc),r.prototype.tag="OS/2",r.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n}(),this.charRange=function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},r}(),fFe=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Au(r,nc),r.prototype.tag="post",r.prototype.parse=function(e){var t,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)t=e.readByte(),i.push(this.names.push(e.readString(t)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var a,o,A;for(A=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)A.push(e.readUInt32());return A}).call(this)}},r}(),dFe=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},pFe=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Au(r,nc),r.prototype.tag="name",r.prototype.parse=function(e){var t,n,i,s,a,o,A,l,c,u,h;for(e.pos=this.offset,e.readShort(),t=e.readShort(),o=e.readShort(),n=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(A={},s=c=0,u=n.length;c<u;s=++c)i=n[s],e.pos=i.offset,l=e.readString(i.length),a=new dFe(l,i),A[h=i.nameID]==null&&(A[h]=[]),A[i.nameID].push(a);this.strings=A,this.copyright=A[0],this.fontFamily=A[1],this.fontSubfamily=A[2],this.uniqueSubfamily=A[3],this.fontName=A[4],this.version=A[5];try{this.postscriptName=A[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=A[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=A[7],this.manufacturer=A[8],this.designer=A[9],this.description=A[10],this.vendorUrl=A[11],this.designerUrl=A[12],this.license=A[13],this.licenseUrl=A[14],this.preferredFamily=A[15],this.preferredSubfamily=A[17],this.compatibleFull=A[18],this.sampleText=A[19]},r}(),gFe=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Au(r,nc),r.prototype.tag="maxp",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},r}(),mFe=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Au(r,nc),r.prototype.tag="hmtx",r.prototype.parse=function(e){var t,n,i,s,a,o,A;for(e.pos=this.offset,this.metrics=[],t=0,o=this.file.hhea.numberOfMetrics;0<=o?t<o:t>o;t=0<=o?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var l,c;for(c=[],t=l=0;0<=i?l<i:l>i;t=0<=i?++l:--l)c.push(e.readInt16());return c}(),this.widths=(function(){var l,c,u,h;for(h=[],l=0,c=(u=this.metrics).length;l<c;l++)s=u[l],h.push(s.advance);return h}).call(this),n=this.widths[this.widths.length-1],A=[],t=a=0;0<=i?a<i:a>i;t=0<=i?++a:--a)A.push(this.widths.push(n));return A},r.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},r}(),zY=[].slice,vFe=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Au(r,nc),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(e){var t,n,i,s,a,o,A,l,c,u;return e in this.cache?this.cache[e]:(s=this.file.loca,t=this.file.contents,n=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+n,a=(o=new Zd(t.read(i))).readShort(),l=o.readShort(),u=o.readShort(),A=o.readShort(),c=o.readShort(),this.cache[e]=a===-1?new yFe(o,l,u,A,c):new wFe(o,a,l,u,A,c),this.cache[e]))},r.prototype.encode=function(e,t,n){var i,s,a,o,A;for(a=[],s=[],o=0,A=t.length;o<A;o++)i=e[t[o]],s.push(a.length),i&&(a=a.concat(i.encode(n)));return s.push(a.length),{table:a,offsets:s}},r}(),wFe=function(){function r(e,t,n,i,s,a){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r}(),yFe=function(){function r(e,t,n,i,s){var a,o;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return r.prototype.encode=function(){var e,t,n;for(t=new Zd(zY.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},r}(),xFe=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Au(r,nc),r.prototype.tag="loca",r.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=4)s.push(e.readUInt32());return s}).call(this)},r.prototype.indexOf=function(e){return this.offsets[e]},r.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},r.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),i=0,s=0,a=0;a<n.length;++a)if(n[a]=i,s<t.length&&t[s]==a){++s,n[a]=i;var o=this.offsets[a],A=this.offsets[a+1]-o;A>0&&(i+=A)}for(var l=new Array(4*n.length),c=0;c<n.length;++c)l[4*c+3]=255&n[c],l[4*c+2]=(65280&n[c])>>8,l[4*c+1]=(16711680&n[c])>>16,l[4*c]=(4278190080&n[c])>>24;return l},r}(),_Fe=function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,n,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[t],e[t]=i[n];return e},r.prototype.glyphsFor=function(e){var t,n,i,s,a,o,A;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(n=i[s])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(s in A=this.glyphsFor(t))n=A[s],i[s]=n;return i},r.prototype.encode=function(e,t){var n,i,s,a,o,A,l,c,u,h,f,d,p,v,m;for(i in n=KY.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),f={0:0},m=n.charMap)f[(A=m[i]).old]=A.new;for(d in h=n.maxGlyphID,a)d in f||(f[d]=h++);return c=function(x){var b,T;for(b in T={},x)T[x[b]]=b;return T}(f),u=Object.keys(c).sort(function(x,b){return x-b}),p=function(){var x,b,T;for(T=[],x=0,b=u.length;x<b;x++)o=u[x],T.push(c[o]);return T}(),s=this.font.glyf.encode(a,p,f),l=this.font.loca.encode(s.offsets,p),v={cmap:this.font.cmap.raw(),glyf:s.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},r}();Ht.API.PDFObject=function(){var r;function e(){}return r=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,i,s,a;if(Array.isArray(t))return"["+function(){var o,A,l;for(l=[],o=0,A=t.length;o<A;o++)n=t[o],l.push(e.convert(n));return l}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)a=t[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+t},e}();function WY(r,e,t,n,i){n=n||{};var s=1.15,a=i.internal.scaleFactor,o=i.internal.getFontSize()/a,A=i.getLineHeightFactor?i.getLineHeightFactor():s,l=o*A,c=/\r\n|\r|\n/g,u="",h=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(u=typeof r=="string"?r.split(c):r,h=u.length||1),t+=o*(2-s),n.valign==="middle"?t-=h/2*l:n.valign==="bottom"&&(t-=h*l),n.halign==="center"||n.halign==="right"){var f=o;if(n.halign==="center"&&(f*=.5),u&&h>=1){for(var d=0;d<u.length;d++)i.text(u[d],e-i.getStringUnitWidth(u[d])*f,t),t+=l;return i}e-=i.getStringUnitWidth(r)*f}return n.halign==="justify"?i.text(r,e,t,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(r,e,t),i}var B7={},d1=function(){function r(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return r.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:B7=e},r.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},r.prototype.applyStyles=function(e,t){var n,i,s;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var a=this.jsPDFDocument.internal.getFont(),o=a.fontStyle,A=a.fontName;if(e.font&&(A=e.font),e.fontStyle){o=e.fontStyle;var l=this.getFontList()[A];l&&l.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(l[0]),o=l[0])}if(this.jsPDFDocument.setFont(A,o),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var c=r.unifyColor(e.fillColor);c&&(n=this.jsPDFDocument).setFillColor.apply(n,c),c=r.unifyColor(e.textColor),c&&(i=this.jsPDFDocument).setTextColor.apply(i,c),c=r.unifyColor(e.lineColor),c&&(s=this.jsPDFDocument).setDrawColor.apply(s,c),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},r.prototype.splitTextToSize=function(e,t,n){return this.jsPDFDocument.splitTextToSize(e,t,n)},r.prototype.rect=function(e,t,n,i,s){return this.jsPDFDocument.rect(e,t,n,i,s)},r.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},r.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},r.prototype.getDocument=function(){return this.jsPDFDocument},r.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},r.prototype.addPage=function(){return this.jsPDFDocument.addPage()},r.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},r.prototype.getGlobalOptions=function(){return B7||{}},r.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},r.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},r.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},r.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},r.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},r.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},r}(),eP=function(r,e){return eP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},eP(r,e)};function GY(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");eP(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var $Y=function(r){GY(e,r);function e(t){var n=r.call(this)||this;return n._element=t,n}return e}(Array);function bFe(r){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/r,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function EFe(r){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[r]}function r5(r,e,t){t.applyStyles(e,!0);var n=Array.isArray(r)?r:[r],i=n.map(function(s){return t.getTextWidth(s)}).reduce(function(s,a){return Math.max(s,a)},0);return i}function qY(r,e,t,n){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;r.applyStyles({lineWidth:i,lineColor:s});var a=XY(i,!1);a&&r.rect(t.x,t.y,e.getWidth(r.pageSize().width),n.y-t.y,a)}function XY(r,e){var t=r>0,n=e||e===0;return t&&n?"DF":t?"S":n?"F":null}function OT(r,e){var t,n,i,s;if(r=r||e,Array.isArray(r)){if(r.length>=4)return{top:r[0],right:r[1],bottom:r[2],left:r[3]};if(r.length===3)return{top:r[0],right:r[1],bottom:r[2],left:r[1]};if(r.length===2)return{top:r[0],right:r[1],bottom:r[0],left:r[1]};r.length===1?r=r[0]:r=e}return typeof r=="object"?(typeof r.vertical=="number"&&(r.top=r.vertical,r.bottom=r.vertical),typeof r.horizontal=="number"&&(r.right=r.horizontal,r.left=r.horizontal),{left:(t=r.left)!==null&&t!==void 0?t:e,top:(n=r.top)!==null&&n!==void 0?n:e,right:(i=r.right)!==null&&i!==void 0?i:e,bottom:(s=r.bottom)!==null&&s!==void 0?s:e}):(typeof r!="number"&&(r=e),{top:r,right:r,bottom:r,left:r})}function YY(r,e){var t=OT(e.settings.margin,0);return r.pageSize().width-(t.left+t.right)}function CFe(r,e,t,n,i){var s={},a=1.3333333333333333,o=AI(e,function(b){return i.getComputedStyle(b).backgroundColor});o!=null&&(s.fillColor=o);var A=AI(e,function(b){return i.getComputedStyle(b).color});A!=null&&(s.textColor=A);var l=SFe(n,t);l&&(s.cellPadding=l);var c="borderTopColor",u=a*t,h=n.borderTopWidth;if(n.borderBottomWidth===h&&n.borderRightWidth===h&&n.borderLeftWidth===h){var f=(parseFloat(h)||0)/u;f&&(s.lineWidth=f)}else s.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/u,right:(parseFloat(n.borderRightWidth)||0)/u,bottom:(parseFloat(n.borderBottomWidth)||0)/u,left:(parseFloat(n.borderLeftWidth)||0)/u},s.lineWidth.top||(s.lineWidth.right?c="borderRightColor":s.lineWidth.bottom?c="borderBottomColor":s.lineWidth.left&&(c="borderLeftColor"));var d=AI(e,function(b){return i.getComputedStyle(b)[c]});d!=null&&(s.lineColor=d);var p=["left","right","center","justify"];p.indexOf(n.textAlign)!==-1&&(s.halign=n.textAlign),p=["middle","bottom","top"],p.indexOf(n.verticalAlign)!==-1&&(s.valign=n.verticalAlign);var v=parseInt(n.fontSize||"");isNaN(v)||(s.fontSize=v/a);var m=BFe(n);m&&(s.fontStyle=m);var x=(n.fontFamily||"").toLowerCase();return r.indexOf(x)!==-1&&(s.font=x),s}function BFe(r){var e="";return(r.fontWeight==="bold"||r.fontWeight==="bolder"||parseInt(r.fontWeight)>=700)&&(e="bold"),(r.fontStyle==="italic"||r.fontStyle==="oblique")&&(e+="italic"),e}function AI(r,e){var t=JY(r,e);if(!t)return null;var n=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],s=parseInt(n[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function JY(r,e){var t=e(r);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?r.parentElement==null?null:JY(r.parentElement,e):t}function SFe(r,e){var t=[r.paddingTop,r.paddingRight,r.paddingBottom,r.paddingLeft],n=96/(72/e),i=(parseInt(r.lineHeight)-parseInt(r.fontSize))/e/2,s=t.map(function(o){return parseInt(o||"0")/n}),a=OT(s,0);return i>a.top&&(a.top=i),i>a.bottom&&(a.bottom=i),a}function ZY(r,e,t,n,i){var s,a;n===void 0&&(n=!1),i===void 0&&(i=!1);var o;typeof e=="string"?o=t.document.querySelector(e):o=e;var A=Object.keys(r.getFontList()),l=r.scaleFactor(),c=[],u=[],h=[];if(!o)return console.error("Html table could not be found with input: ",e),{head:c,body:u,foot:h};for(var f=0;f<o.rows.length;f++){var d=o.rows[f],p=(a=(s=d==null?void 0:d.parentElement)===null||s===void 0?void 0:s.tagName)===null||a===void 0?void 0:a.toLowerCase(),v=TFe(A,l,t,d,n,i);v&&(p==="thead"?c.push(v):p==="tfoot"?h.push(v):u.push(v))}return{head:c,body:u,foot:h}}function TFe(r,e,t,n,i,s){for(var a=new $Y(n),o=0;o<n.cells.length;o++){var A=n.cells[o],l=t.getComputedStyle(A);if(i||l.display!=="none"){var c=void 0;s&&(c=CFe(r,A,e,l,t)),a.push({rowSpan:A.rowSpan,colSpan:A.colSpan,styles:c,_element:A,content:FFe(A)})}}var u=t.getComputedStyle(n);if(a.length>0&&(i||u.display!=="none"))return a}function FFe(r){var e=r.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function IFe(r,e,t){for(var n=0,i=[r,e,t];n<i.length;n++){var s=i[n];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function yh(r,e,t,n,i){if(r==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(r),a=1;a<arguments.length;a++){var o=arguments[a];if(o!=null)for(var A in o)Object.prototype.hasOwnProperty.call(o,A)&&(s[A]=o[A])}return s}function eJ(r,e){var t=new d1(r),n=t.getDocumentOptions(),i=t.getGlobalOptions();IFe(i,n,e);var s=yh({},i,n,e),a;typeof window<"u"&&(a=window);var o=kFe(i,n,e),A=LFe(i,n,e),l=PFe(t,s),c=NFe(t,s,a);return{id:e.tableId,content:c,hooks:A,styles:o,settings:l}}function kFe(r,e,t){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(A){if(A==="columnStyles"){var l=r[A],c=e[A],u=t[A];n.columnStyles=yh({},l,c,u)}else{var h=[r,e,t],f=h.map(function(d){return d[A]||{}});n[A]=yh({},f[0],f[1],f[2])}},s=0,a=Object.keys(n);s<a.length;s++){var o=a[s];i(o)}return n}function LFe(r,e,t){for(var n=[r,e,t],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,a=n;s<a.length;s++){var o=a[s];o.didParseCell&&i.didParseCell.push(o.didParseCell),o.willDrawCell&&i.willDrawCell.push(o.willDrawCell),o.didDrawCell&&i.didDrawCell.push(o.didDrawCell),o.willDrawPage&&i.willDrawPage.push(o.willDrawPage),o.didDrawPage&&i.didDrawPage.push(o.didDrawPage)}return i}function PFe(r,e){var t,n,i,s,a,o,A,l,c,u,h,f,d=OT(e.margin,40/r.scaleFactor()),p=(t=RFe(r,e.startY))!==null&&t!==void 0?t:d.top,v;e.showFoot===!0?v="everyPage":e.showFoot===!1?v="never":v=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var m;e.showHead===!0?m="everyPage":e.showHead===!1?m="never":m=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var x=(s=e.useCss)!==null&&s!==void 0?s:!1,b=e.theme||(x?"plain":"striped"),T=!!e.horizontalPageBreak,R=(a=e.horizontalPageBreakRepeat)!==null&&a!==void 0?a:null;return{includeHiddenHtml:(o=e.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:x,theme:b,startY:p,margin:d,pageBreak:(A=e.pageBreak)!==null&&A!==void 0?A:"auto",rowPageBreak:(l=e.rowPageBreak)!==null&&l!==void 0?l:"auto",tableWidth:(c=e.tableWidth)!==null&&c!==void 0?c:"auto",showHead:m,showFoot:v,tableLineWidth:(u=e.tableLineWidth)!==null&&u!==void 0?u:0,tableLineColor:(h=e.tableLineColor)!==null&&h!==void 0?h:200,horizontalPageBreak:T,horizontalPageBreakRepeat:R,horizontalPageBreakBehaviour:(f=e.horizontalPageBreakBehaviour)!==null&&f!==void 0?f:"afterAllRows"}}function RFe(r,e){var t=r.getLastAutoTable(),n=r.scaleFactor(),i=r.pageNumber(),s=!1;if(t&&t.startPageNumber){var a=t.startPageNumber+t.pageNumber-1;s=a===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&(t==null?void 0:t.finalY)!=null?t.finalY+20/n:null}function NFe(r,e,t){var n=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var a=e.includeHiddenHtml;if(t){var o=ZY(r,e.html,t,a,e.useCss)||{};n=o.head||n,i=o.body||n,s=o.foot||n}else console.error("Cannot parse html in non browser environment")}var A=e.columns||DFe(n,i,s);return{columns:A,head:n,body:i,foot:s}}function DFe(r,e,t){var n=r[0]||e[0]||t[0]||[],i=[];return Object.keys(n).filter(function(s){return s!=="_element"}).forEach(function(s){var a=1,o;Array.isArray(n)?o=n[parseInt(s)]:o=n[s],typeof o=="object"&&!Array.isArray(o)&&(a=(o==null?void 0:o.colSpan)||1);for(var A=0;A<a;A++){var l=void 0;Array.isArray(n)?l=i.length:l=s+(A>0?"_".concat(A):"");var c={dataKey:l};i.push(c)}}),i}var tP=function(){function r(e,t,n){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=n,this.doc=e.getDocument()}return r}(),UFe=function(r){GY(e,r);function e(t,n,i,s,a,o){var A=r.call(this,t,n,o)||this;return A.cell=i,A.row=s,A.column=a,A.section=s.section,A}return e}(tP),MFe=function(){function r(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return r.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,n){return t+n.getMaxCellHeight(e)},0)},r.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,n){return t+n.getMaxCellHeight(e)},0)},r.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},r.prototype.callCellHooks=function(e,t,n,i,s,a){for(var o=0,A=t;o<A.length;o++){var l=A[o],c=new UFe(e,this,n,i,s,a),u=l(c)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],u)return!1}return!0},r.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var n=0,i=this.hooks.didDrawPage;n<i.length;n++){var s=i[n];s(new tP(e,this,t))}},r.prototype.callWillDrawPageHooks=function(e,t){for(var n=0,i=this.hooks.willDrawPage;n<i.length;n++){var s=i[n];s(new tP(e,this,t))}},r.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return t}else{var n=this.settings.margin;return e-n.left-n.right}},r}(),tJ=function(){function r(e,t,n,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof $Y&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=n,this.cells=i,this.spansMultiplePages=s}return r.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(n,i){var s;return Math.max(n,((s=t.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},r.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(n){var i=t.cells[n.index];return i?i.rowSpan>1:!1}).length>0},r.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},r.prototype.getMinimumRowHeight=function(e,t){var n=this;return e.reduce(function(i,s){var a=n.cells[s.index];if(!a)return 0;var o=t.getLineHeight(a.styles.fontSize),A=a.padding("vertical"),l=A+o;return l>i?l:i},0)},r}(),rJ=function(){function r(e,t,n){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=n,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var a=s!=null?""+s:"",o=/\r\n|\r|\n/g;this.text=a.split(o)}return r.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");n=this.x+i/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},r.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var n=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*t,s=n*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},r.prototype.padding=function(e){var t=OT(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},r}(),OFe=function(){function r(e,t,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=n}return r.prototype.getMaxCustomCellWidth=function(e){for(var t=0,n=0,i=e.allRows();n<i.length;n++){var s=i[n],a=s.cells[this.index];a&&typeof a.styles.cellWidth=="number"&&(t=Math.max(t,a.styles.cellWidth))}return t},r}();function QFe(r,e){HFe(r,e);var t=[],n=0;e.columns.forEach(function(s){var a=s.getMaxCustomCellWidth(e);a?s.width=a:(s.width=s.wrappedWidth,t.push(s)),n+=s.width});var i=e.getWidth(r.pageSize().width)-n;i&&(i=rP(t,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=rP(t,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/r.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),jFe(e),KFe(e,r),VFe(e)}function HFe(r,e){var t=r.scaleFactor(),n=e.settings.horizontalPageBreak,i=YY(r,e);e.allRows().forEach(function(s){for(var a=0,o=e.columns;a<o.length;a++){var A=o[a],l=s.cells[A.index];if(l){var c=e.hooks.didParseCell;e.callCellHooks(r,c,l,s,A,null);var u=l.padding("horizontal");l.contentWidth=r5(l.text,l.styles,r)+u;var h=r5(l.text.join(" ").split(/[^\S\u00A0]+/),l.styles,r);if(l.minReadableWidth=h+l.padding("horizontal"),typeof l.styles.cellWidth=="number")l.minWidth=l.styles.cellWidth,l.wrappedWidth=l.styles.cellWidth;else if(l.styles.cellWidth==="wrap"||n===!0)l.contentWidth>i?(l.minWidth=i,l.wrappedWidth=i):(l.minWidth=l.contentWidth,l.wrappedWidth=l.contentWidth);else{var f=10/t;l.minWidth=l.styles.minCellWidth||f,l.wrappedWidth=l.contentWidth,l.minWidth>l.wrappedWidth&&(l.wrappedWidth=l.minWidth)}}}}),e.allRows().forEach(function(s){for(var a=0,o=e.columns;a<o.length;a++){var A=o[a],l=s.cells[A.index];if(l&&l.colSpan===1)A.wrappedWidth=Math.max(A.wrappedWidth,l.wrappedWidth),A.minWidth=Math.max(A.minWidth,l.minWidth),A.minReadableWidth=Math.max(A.minReadableWidth,l.minReadableWidth);else{var c=e.styles.columnStyles[A.dataKey]||e.styles.columnStyles[A.index]||{},u=c.cellWidth||c.minCellWidth;u&&typeof u=="number"&&(A.minWidth=u,A.wrappedWidth=u)}l&&(l.colSpan>1&&!A.minWidth&&(A.minWidth=l.minWidth),l.colSpan>1&&!A.wrappedWidth&&(A.wrappedWidth=l.minWidth))}})}function rP(r,e,t){for(var n=e,i=r.reduce(function(f,d){return f+d.wrappedWidth},0),s=0;s<r.length;s++){var a=r[s],o=a.wrappedWidth/i,A=n*o,l=a.width+A,c=t(a),u=l<c?c:l;e-=u-a.width,a.width=u}if(e=Math.round(e*1e10)/1e10,e){var h=r.filter(function(f){return e<0?f.width>t(f):!0});h.length&&(e=rP(h,e,t))}return e}function VFe(r){for(var e={},t=1,n=r.allRows(),i=0;i<n.length;i++)for(var s=n[i],a=0,o=r.columns;a<o.length;a++){var A=o[a],l=e[A.index];if(t>1)t--,delete s.cells[A.index];else if(l)l.cell.height+=s.height,t=l.cell.colSpan,delete s.cells[A.index],l.left--,l.left<=1&&delete e[A.index];else{var c=s.cells[A.index];if(!c)continue;if(c.height=s.height,c.rowSpan>1){var u=n.length-i,h=c.rowSpan>u?u:c.rowSpan;e[A.index]={cell:c,left:h,row:s}}}}}function jFe(r){for(var e=r.allRows(),t=0;t<e.length;t++)for(var n=e[t],i=null,s=0,a=0,o=0;o<r.columns.length;o++){var A=r.columns[o];if(a-=1,a>1&&r.columns[o+1])s+=A.width,delete n.cells[A.index];else if(i){var l=i;delete n.cells[A.index],i=null,l.width=A.width+s}else{var l=n.cells[A.index];if(!l)continue;if(a=l.colSpan,s=0,l.colSpan>1){i=l,s+=A.width;continue}l.width=A.width+s}}}function KFe(r,e){for(var t={count:0,height:0},n=0,i=r.allRows();n<i.length;n++){for(var s=i[n],a=0,o=r.columns;a<o.length;a++){var A=o[a],l=s.cells[A.index];if(l){e.applyStyles(l.styles,!0);var c=l.width-l.padding("horizontal");if(l.styles.overflow==="linebreak")l.text=e.splitTextToSize(l.text,c+1/e.scaleFactor(),{fontSize:l.styles.fontSize});else if(l.styles.overflow==="ellipsize")l.text=S7(l.text,c,l.styles,e,"...");else if(l.styles.overflow==="hidden")l.text=S7(l.text,c,l.styles,e,"");else if(typeof l.styles.overflow=="function"){var u=l.styles.overflow(l.text,c);typeof u=="string"?l.text=[u]:l.text=u}l.contentHeight=l.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var h=l.contentHeight/l.rowSpan;l.rowSpan>1&&t.count*t.height<h*l.rowSpan?t={height:h,count:l.rowSpan}:t&&t.count>0&&t.height>h&&(h=t.height),h>s.height&&(s.height=h)}}t.count--}}function S7(r,e,t,n,i){return r.map(function(s){return zFe(s,e,t,n,i)})}function zFe(r,e,t,n,i){var s=1e4*n.scaleFactor();if(e=Math.ceil(e*s)/s,e>=r5(r,t,n))return r;for(;e<r5(r+i,t,n)&&!(r.length<=1);)r=r.substring(0,r.length-1);return r.trim()+i}function nJ(r,e){var t=new d1(r),n=WFe(e,t.scaleFactor()),i=new MFe(e,n);return QFe(t,i),t.applyStyles(t.userStyles),i}function WFe(r,e){var t=r.content,n=$Fe(t.columns);if(t.head.length===0){var i=T7(n,"head");i&&t.head.push(i)}if(t.foot.length===0){var i=T7(n,"foot");i&&t.foot.push(i)}var s=r.settings.theme,a=r.styles;return{columns:n,head:lI("head",t.head,n,a,s,e),body:lI("body",t.body,n,a,s,e),foot:lI("foot",t.foot,n,a,s,e)}}function lI(r,e,t,n,i,s){var a={},o=e.map(function(A,l){for(var c=0,u={},h=0,f=0,d=0,p=t;d<p.length;d++){var v=p[d];if(a[v.index]==null||a[v.index].left===0)if(f===0){var m=void 0;Array.isArray(A)?m=A[v.index-h-c]:m=A[v.dataKey];var x={};typeof m=="object"&&!Array.isArray(m)&&(x=(m==null?void 0:m.styles)||{});var b=qFe(r,v,l,i,n,s,x),T=new rJ(m,b,r);u[v.dataKey]=T,u[v.index]=T,f=T.colSpan-1,a[v.index]={left:T.rowSpan-1,times:f}}else f--,h++;else a[v.index].left--,f=a[v.index].times,c++}return new tJ(A,l,r,u)});return o}function T7(r,e){var t={};return r.forEach(function(n){if(n.raw!=null){var i=GFe(e,n.raw);i!=null&&(t[n.dataKey]=i)}}),Object.keys(t).length>0?t:null}function GFe(r,e){if(r==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(r==="foot"&&typeof e=="object")return e.footer;return null}function $Fe(r){return r.map(function(e,t){var n,i;return typeof e=="object"?i=(n=e.dataKey)!==null&&n!==void 0?n:t:i=t,new OFe(i,e,t)})}function qFe(r,e,t,n,i,s,a){var o=EFe(n),A;r==="head"?A=i.headStyles:r==="body"?A=i.bodyStyles:r==="foot"&&(A=i.footStyles);var l=yh({},o.table,o[r],i.styles,A),c=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},u=r==="body"?c:{},h=r==="body"&&t%2===0?yh({},o.alternateRow,i.alternateRowStyles):{},f=bFe(s),d=yh({},f,l,h,u);return yh(d,a)}function XFe(r,e,t){var n;t===void 0&&(t={});var i=YY(r,e),s=new Map,a=[],o=[],A=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?A=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(A=[e.settings.horizontalPageBreakRepeat]),A.forEach(function(h){var f=e.columns.find(function(d){return d.dataKey===h||d.index===h});f&&!s.has(f.index)&&(s.set(f.index,!0),a.push(f.index),o.push(e.columns[f.index]),i-=f.wrappedWidth)});for(var l=!0,c=(n=t==null?void 0:t.start)!==null&&n!==void 0?n:0;c<e.columns.length;){if(s.has(c)){c++;continue}var u=e.columns[c].wrappedWidth;if(l||i>=u)l=!1,a.push(c),o.push(e.columns[c]),i-=u;else break;c++}return{colIndexes:a,columns:o,lastIndex:c-1}}function YFe(r,e){for(var t=[],n=0;n<e.columns.length;n++){var i=XFe(r,e,{start:n});i.columns.length&&(t.push(i),n=i.lastIndex)}return t}function iJ(r,e){var t=e.settings,n=t.startY,i=t.margin,s={x:i.left,y:n},a=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),o=n+i.bottom+a;if(t.pageBreak==="avoid"){var A=e.body,l=A.reduce(function(h,f){return h+f.height},0);o+=l}var c=new d1(r);(t.pageBreak==="always"||t.startY!=null&&o>c.pageSize().height)&&(aJ(c),s.y=i.top),e.callWillDrawPageHooks(c,s);var u=yh({},s);e.startPageNumber=c.pageNumber(),t.horizontalPageBreak?JFe(c,e,u,s):(c.applyStyles(c.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(h){return Qh(c,e,h,s,e.columns)}),c.applyStyles(c.userStyles),e.body.forEach(function(h,f){var d=f===e.body.length-1;n5(c,e,h,d,u,s,e.columns)}),c.applyStyles(c.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(h){return Qh(c,e,h,s,e.columns)})),qY(c,e,u,s),e.callEndPageHooks(c,s),e.finalY=s.y,r.lastAutoTable=e,c.applyStyles(c.userStyles)}function JFe(r,e,t,n){var i=YFe(r,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(l,c){r.applyStyles(r.userStyles),c>0?p2(r,e,t,n,l.columns,!0):F7(r,e,n,l.columns),ZFe(r,e,t,n,l.columns),cI(r,e,n,l.columns)});else for(var a=-1,o=i[0],A=function(){var l=a;if(o){r.applyStyles(r.userStyles);var c=o.columns;a>=0?p2(r,e,t,n,c,!0):F7(r,e,n,c),l=I7(r,e,a+1,n,c),cI(r,e,n,c)}var u=l-a;i.slice(1).forEach(function(h){r.applyStyles(r.userStyles),p2(r,e,t,n,h.columns,!0),I7(r,e,a+1,n,h.columns,u),cI(r,e,n,h.columns)}),a=l};a<e.body.length-1;)A()}function F7(r,e,t,n){var i=e.settings;r.applyStyles(r.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return Qh(r,e,s,t,n)})}function ZFe(r,e,t,n,i){r.applyStyles(r.userStyles),e.body.forEach(function(s,a){var o=a===e.body.length-1;n5(r,e,s,o,t,n,i)})}function I7(r,e,t,n,i,s){r.applyStyles(r.userStyles),s=s??e.body.length;var a=Math.min(t+s,e.body.length),o=-1;return e.body.slice(t,a).forEach(function(A,l){var c=t+l===e.body.length-1,u=sJ(r,e,c,n);A.canEntireRowFit(u,i)&&(Qh(r,e,A,n,i),o=t+l)}),o}function cI(r,e,t,n){var i=e.settings;r.applyStyles(r.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return Qh(r,e,s,t,n)})}function e4e(r,e,t){var n=t.getLineHeight(r.styles.fontSize),i=r.padding("vertical"),s=Math.floor((e-i)/n);return Math.max(0,s)}function t4e(r,e,t,n){var i={};r.spansMultiplePages=!0,r.height=0;for(var s=0,a=0,o=t.columns;a<o.length;a++){var A=o[a],l=r.cells[A.index];if(l){Array.isArray(l.text)||(l.text=[l.text]);var c=new rJ(l.raw,l.styles,l.section);c=yh(c,l),c.text=[];var u=e4e(l,e,n);l.text.length>u&&(c.text=l.text.splice(u,l.text.length));var h=n.scaleFactor(),f=n.getLineHeightFactor();l.contentHeight=l.getContentHeight(h,f),l.contentHeight>=e&&(l.contentHeight=e,c.styles.minCellHeight-=e),l.contentHeight>r.height&&(r.height=l.contentHeight),c.contentHeight=c.getContentHeight(h,f),c.contentHeight>s&&(s=c.contentHeight),i[A.index]=c}}var d=new tJ(r.raw,-1,r.section,i,!0);d.height=s;for(var p=0,v=t.columns;p<v.length;p++){var A=v[p],c=d.cells[A.index];c&&(c.height=d.height);var l=r.cells[A.index];l&&(l.height=r.height)}return d}function r4e(r,e,t,n){var i=r.pageSize().height,s=n.settings.margin,a=s.top+s.bottom,o=i-a;e.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var A=e.getMinimumRowHeight(n.columns,r),l=A<t;if(A>o)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!l)return!1;var c=e.hasRowSpan(n.columns),u=e.getMaxCellHeight(n.columns)>o;return u?(c&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(c||n.settings.rowPageBreak==="avoid")}function n5(r,e,t,n,i,s,a){var o=sJ(r,e,n,s);if(t.canEntireRowFit(o,a))Qh(r,e,t,s,a);else if(r4e(r,t,o,e)){var A=t4e(t,o,e,r);Qh(r,e,t,s,a),p2(r,e,i,s,a),n5(r,e,A,n,i,s,a)}else p2(r,e,i,s,a),n5(r,e,t,n,i,s,a)}function Qh(r,e,t,n,i){n.x=e.settings.margin.left;for(var s=0,a=i;s<a.length;s++){var o=a[s],A=t.cells[o.index];if(!A){n.x+=o.width;continue}r.applyStyles(A.styles),A.x=n.x,A.y=n.y;var l=e.callCellHooks(r,e.hooks.willDrawCell,A,t,o,n);if(l===!1){n.x+=o.width;continue}n4e(r,A,n);var c=A.getTextPos();WY(A.text,c.x,c.y,{halign:A.styles.halign,valign:A.styles.valign,maxWidth:Math.ceil(A.width-A.padding("left")-A.padding("right"))},r.getDocument()),e.callCellHooks(r,e.hooks.didDrawCell,A,t,o,n),n.x+=o.width}n.y+=t.height}function n4e(r,e,t){var n=e.styles;if(r.getDocument().setFillColor(r.getDocument().getFillColor()),typeof n.lineWidth=="number"){var i=XY(n.lineWidth,n.fillColor);i&&r.rect(e.x,t.y,e.width,e.height,i)}else typeof n.lineWidth=="object"&&(n.fillColor&&r.rect(e.x,t.y,e.width,e.height,"F"),i4e(r,e,t,n.lineWidth))}function i4e(r,e,t,n){var i,s,a,o;n.top&&(i=t.x,s=t.y,a=t.x+e.width,o=t.y,n.right&&(a+=.5*n.right),n.left&&(i-=.5*n.left),A(n.top,i,s,a,o)),n.bottom&&(i=t.x,s=t.y+e.height,a=t.x+e.width,o=t.y+e.height,n.right&&(a+=.5*n.right),n.left&&(i-=.5*n.left),A(n.bottom,i,s,a,o)),n.left&&(i=t.x,s=t.y,a=t.x,o=t.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),A(n.left,i,s,a,o)),n.right&&(i=t.x+e.width,s=t.y,a=t.x+e.width,o=t.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),A(n.right,i,s,a,o));function A(l,c,u,h,f){r.getDocument().setLineWidth(l),r.getDocument().line(c,u,h,f,"S")}}function sJ(r,e,t,n){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&t)&&(i+=e.getFootHeight(e.columns)),r.pageSize().height-n.y-i}function p2(r,e,t,n,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),r.applyStyles(r.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(o){return Qh(r,e,o,n,i)}),e.callEndPageHooks(r,n);var a=e.settings.margin;qY(r,e,t,n),aJ(r),e.pageNumber++,n.x=a.left,n.y=a.top,t.y=a.top,e.callWillDrawPageHooks(r,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(o){return Qh(r,e,o,n,i)}),r.applyStyles(r.userStyles))}function aJ(r){var e=r.pageNumber();r.setPage(e+1);var t=r.pageNumber();return t===e?(r.addPage(),!0):!1}function s4e(r){r.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0],i=eJ(this,n),s=nJ(this,i);return iJ(this,s),this},r.API.lastAutoTable=!1,r.API.autoTableText=function(e,t,n,i){WY(e,t,n,i,this)},r.API.autoTableSetDefaults=function(e){return d1.setDefaults(e,this),this},r.autoTableSetDefaults=function(e,t){d1.setDefaults(e,t)},r.API.autoTableHtmlToJson=function(e,t){var n;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new d1(this),s=ZY(i,e,window,t,!1),a=s.head,o=s.body,A=((n=a[0])===null||n===void 0?void 0:n.map(function(l){return l.content}))||[];return{columns:A,rows:o,data:o}}}var uI;function hI(r,e){var t=eJ(r,e),n=nJ(r,t);iJ(r,n)}try{if(typeof window<"u"&&window){var k7=window,L7=k7.jsPDF||((uI=k7.jspdf)===null||uI===void 0?void 0:uI.jsPDF);L7&&s4e(L7)}}catch(r){console.error("Could not apply autoTable plugin",r)}let fI=null;async function a4e(){if(fI)return fI;try{const r=await fetch("/NotoSansKR-Regular.ttf");if(!r.ok)throw new Error("NotoSansKR-Regular.ttf   /public    .");const e=await r.blob();return new Promise((t,n)=>{const i=new FileReader;i.onloadend=()=>{const s=i.result.split(",")[1];fI=s,t(s)},i.onerror=n,i.readAsDataURL(e)})}catch(r){throw console.error("  :",r),new Error("PDF    (NotoSansKR-Regular.ttf) /public    .")}}async function o4e(){const r=new Ht("p","mm","a4");if(r.getFontList().NotoSansKR===void 0){const e=await a4e();if(!e)throw new Error("PDF   .");try{r.addFileToVFS("NotoSansKR-Regular.ttf",e),r.addFont("NotoSansKR-Regular.ttf","NotoSansKR","normal")}catch(t){throw console.error("Failed to add font to jsPDF:",t),new Error(`PDF   : ${t.message}.`)}}return r.setFont("NotoSansKR","normal"),r}function hm(r,e,t){r.setFontSize(22),r.setFont("NotoSansKR","normal"),r.setTextColor(0,0,0),r.text(e,105,20,{align:"center"}),t&&(r.setFontSize(14),r.setTextColor(100),r.text(t,105,30,{align:"center"}))}function Bu(r,e,t){r.setFontSize(16),r.setFont("NotoSansKR","normal"),r.setTextColor(29,78,216),r.text(e,15,t);const n=r.getTextDimensions(e).h;return t+n+4}function xd(r,e,t,n={}){const{x:i=15,maxWidth:s=180,fontSize:a=10,color:o=[40,40,40],lineSpacing:A=1.6}=n;r.setFontSize(a),r.setTextColor(o[0],o[1],o[2]),r.setFont("NotoSansKR","normal");const l=r.splitTextToSize(e||" ",s);r.text(l,i,t,{lineHeightFactor:A});const c=l.length*a*.352778*A;return t+c>280?(r.addPage(),20):t+c+2}function P7(r,e,t){if(!e||!e.students)return console.error("addFeaturesSection: Invalid data"),t;const i=e.students.filter(te=>te.submitted).map(te=>te.score).filter(te=>typeof te=="number"),s=i.length>0?Math.max.apply(null,i):"N/A",a=i.length>0?Math.min.apply(null,i):"N/A",o=e.classAverage??"N/A",A=[];e.answerRates.forEach((te,J)=>{te===100&&A.push(J+1)});const l=[];e.answerRates.forEach((te,J)=>{te<=40&&l.push({qNum:J+1,rate:te})});const c=58,u=7.5,h=15,f=25,d=55,p=6,v=2,m=6;r.setFont("NotoSansKR","normal"),r.setFontSize(11);const x=r.getTextDimensions("M").h,b=(te,J,W,be)=>(r.setFontSize(J),r.splitTextToSize(te,be).length*J*.352778*W),T=` ${s},  ${a},  ${o}`,R=b(T,10,1.6,c-10),P=p+x+v+R+m,B=A.length>0?A.map(te=>`${te}`).join(", "):"",E=b(B,10,1.6,c-10),_=p+x+v+E+m,I=l.length>0?l.map(te=>`${te.qNum} (${te.rate}%)`).join(", "):"",S=b(I,9,1.6,c-10),F=p+x+v+S+m;let N=Math.max(P,_,F);N=Math.max(f,Math.min(N,d)),r.setLineWidth(.5);const G=t+p+11*.352778,le=t+p+x+v+10*.352778,ie=t+p+x+v+9*.352778;return r.setFillColor(239,246,255),r.setDrawColor(224,231,255),r.rect(h,t,c,N,"FD"),r.setFontSize(11),r.setTextColor(49,46,129),r.text("  ",h+5,G),r.setFontSize(10),r.setTextColor(67,56,202),xd(r,T,le,{x:h+5,maxWidth:c-10,fontSize:10,color:[67,56,202]}),r.setFillColor(240,253,244),r.setDrawColor(220,252,231),r.rect(h+c+u,t,c,N,"FD"),r.setFontSize(11),r.setTextColor(22,101,52),r.text("   ",h+c+u+5,G),r.setFontSize(10),r.setTextColor(21,128,61),xd(r,B,le,{x:h+c+u+5,maxWidth:c-10,fontSize:10,color:[21,128,61]}),r.setFillColor(254,242,242),r.setDrawColor(254,226,226),r.rect(h+(c+u)*2,t,c,N,"FD"),r.setFontSize(11),r.setTextColor(153,27,27),r.text("    (40% )",h+(c+u)*2+5,G),r.setFontSize(9),xd(r,I,ie,{x:h+(c+u)*2+5,maxWidth:c-10,fontSize:9,color:[185,28,28]}),t+N+10}function T0(r,e,t,n,i="gray"){const a={gray:{bg:[243,244,246],border:[229,231,235],text:[55,65,81],title:[17,24,39]},blue:{bg:[239,246,255],border:[219,234,254],text:[30,64,175],title:[30,58,138]},red:{bg:[254,242,242],border:[254,226,226],text:[185,28,28],title:[153,27,27]},green:{bg:[240,253,244],border:[220,252,231],text:[21,128,61],title:[22,101,52]}}[i];let o=t;t===void 0?o="AI   ...":t===null?o="AI    .":typeof t=="string"&&t.trim()===""&&(o="( )"),typeof o=="string"&&(o=o.replace(/<br\s*\/?>/gi," "),o=o.replace(/\n/g," "),o=o.replace(/\s+/g," "),o=o.trim()),r.setFont("NotoSansKR","normal"),r.setFontSize(11);const A=r.getTextDimensions(e).h,l=r.splitTextToSize(o,170);r.setFontSize(10);const c=l.length*10*.352778*1.6,u=6,h=2,f=6,d=c>0&&o.length>0?c:0,p=u+A+(d>0?h+d:0)+f;n+p>280&&(r.addPage(),n=20),r.setDrawColor(a.border[0],a.border[1],a.border[2]),r.setFillColor(a.bg[0],a.bg[1],a.bg[2]),r.rect(15,n,180,p,"FD"),r.setFontSize(11),r.setTextColor(a.title[0],a.title[1],a.title[2]),r.text(e,20,n+u+11*.352778);const v=n+u+A+h+10*.352778;return xd(r,o,v,{x:20,maxWidth:170,color:a.text,fontSize:10,lineSpacing:1.6}),n+p+5}const A4e=()=>{const{currentPage:r,currentReportData:e,selectedClass:t,selectedDate:n,selectedStudent:i,aiLoading:s,reportHTML:a,activeChart:o,setActiveChart:A,setErrorMessage:l,reportCurrentPage:c}=ec(),u=Kt.useRef(null);return Kt.useEffect(()=>{const f=e;if(!f||!f.students||!a||s)return;const d=i?f.students.find(v=>v.name===i):null;u.current&&u.current.destroy();const p=document.getElementById("scoreChart");if(p){const v={students:f.students,classAverage:f.classAverage};u.current=uQ(p,v,d,!0),u.current&&A(u.current)}return()=>{u.current&&(u.current.destroy(),u.current=null)}},[a,s,e,t,n,i,A,r,c]),{handlePdfSave:Kt.useCallback(async()=>{var x,b,T,R,P,B,E;const f=document.getElementById("savePdfBtn");if(!f)return;f.textContent=" ...",f.disabled=!0;let d=u.current;if(!d){const _=document.getElementById("scoreChart"),I=e;if(_&&(I!=null&&I.students)){f.textContent="  ...",console.warn("PDF       (ref is null)");const S=jc.getChart(_);S&&S.destroy();const F=I.students.find(le=>le.name===i)||null,N={students:I.students,classAverage:I.classAverage},G=uQ(_,N,F,!1);G&&(await G.draw(),console.log("  .")),d=G,u.current=G,A(G)}}f.textContent=" ...";let p;try{p=await o4e()}catch(_){console.error(_),l(_.message),f.innerHTML='<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="16" width="16" xmlns="http://www.w3.org/2000/svg" style="margin-right: 8px;"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg> PDF ',f.disabled=!1;return}const v=f.dataset.reportType,m=f.dataset.studentName;try{const _=e;if(!_)throw new Error("PDF      .");const I=i?(x=_.students)==null?void 0:x.find(be=>be.name===i):null,S=_.aiOverallAnalysis,F=I==null?void 0:I.aiAnalysis,N=be=>be==null?" ":String(be).replace(/\n/g," "),G=new Map,le=new Map;(T=(b=_.questionUnitMap)==null?void 0:b.question_units)==null||T.forEach(be=>{G.set(be.qNum,be.unit),le.set(be.qNum,be.difficulty)}),(R=F==null?void 0:F.incorrect_analysis)==null||R.forEach(be=>{be.unit&&G.set(be.qNum,be.unit)});let ie=null;const te=document.getElementById("scoreChart");if(te)try{d&&typeof d.toBase64Image=="function"?ie=d.toBase64Image("image/png",1):(console.warn("currentActiveChart(ref)  . html2canvas fallback "),ie=await eY(te,{scale:2,logging:!1,useCORS:!0,backgroundColor:null}).then(be=>be.toDataURL("image/png",1)))}catch(be){console.error("   (scoreChart):",be),ie=null}let J=40;if(v==="individual"){if(!I)throw new Error("    .");hm(p,`${n} Weekly Test`,`${t} / ${I.name}`),J=Bu(p,"   ",40),J=P7(p,_,J);const be=((P=document.getElementById("instructorComment"))==null?void 0:P.value)??"";J=Bu(p,"   ",J+5),p.setDrawColor(107,114,128),p.setFillColor(243,244,246);const L=p.splitTextToSize(be||" ",170).length*10*.352778*1.6+12;if(p.rect(15,J,180,Math.max(30,L),"FD"),xd(p,be||"(  )",J+6,{x:20,maxWidth:170,color:[55,65,81]}),J+=Math.max(30,L)+10,ie)try{J=Bu(p," "+t+"  ",J);const H=p.getImageProperties(ie),Q=180;let Y=H.height*Q/H.width;Y=Math.min(Y,100);const oe=(p.internal.pageSize.getWidth()-Q)/2;J+Y>280&&(p.addPage(),J=20),p.addImage(ie,"PNG",oe,J,Q,Y,void 0,"FAST"),J+=Y+10}catch(H){console.error("PDF addImage  (scoreChart Page 1):",H),J=xd(p,"(   )",J,{color:[220,38,38]})}else J=xd(p,"(    .)",J,{color:[220,38,38]});p.addPage(),p.setFont("NotoSansKR","normal"),hm(p,`${n} Weekly Test`,`${t} / ${I.name} (AI )`),J=Bu(p," AI  ",40),J>250&&(p.addPage(),J=20),I.submitted?(J=T0(p,"  (Strengths)",F==null?void 0:F.strengths,J,"blue"),J=T0(p,"  (Weaknesses)",F==null?void 0:F.weaknesses,J,"red"),J=T0(p,"   (Recommendations)",F==null?void 0:F.recommendations,J,"green")):J=T0(p,"","    AI    .",J,"gray"),p.addPage(),p.setFont("NotoSansKR","normal"),hm(p,`${n} Weekly Test`,`${t} / ${I.name} ( )`),J=Bu(p,"  ",40);const O=I.answers.map((H,Q)=>[`${H.qNum}`,G.get(H.qNum)||"",le.get(H.qNum)||"N/A",H.isCorrect?"O":"X",`${_.answerRates[Q]??"N/A"}%`]);if(hI(p,{startY:J,head:[["","   (AI )"," (AI)","","  (%)"]],body:O,theme:"grid",styles:{font:"NotoSansKR",fontStyle:"normal",fontSize:8,cellPadding:1.5},headStyles:{font:"NotoSansKR",fontStyle:"normal",fillColor:[248,250,252],textColor:[55,65,81],fontSize:9},didDrawCell:H=>{H.section==="body"&&H.column.index===3&&(H.cell.text[0]==="X"?(H.cell.styles.textColor=[220,38,38],H.cell.styles.fillColor=[254,242,242]):H.cell.styles.textColor=[37,99,235])}}),((B=F==null?void 0:F.incorrect_analysis)==null?void 0:B.length)>0){p.addPage(),p.setFont("NotoSansKR","normal"),hm(p,`${n} Weekly Test`,`${t} / ${I.name} ( )`),J=Bu(p,"      (AI )",40);const H=F.incorrect_analysis.map(Q=>[`${Q.qNum}`,G.get(Q.qNum)||" ",le.get(Q.qNum)||"N/A",N(Q.analysis_point),N(Q.solution)]);hI(p,{startY:J,head:[["","  "," (AI)","  (AI)","  (AI)"]],body:H,theme:"grid",styles:{font:"NotoSansKR",fontStyle:"normal",fontSize:8,cellPadding:1.5},headStyles:{font:"NotoSansKR",fontStyle:"normal",fillColor:[248,250,252],textColor:[55,65,81],fontSize:9},columnStyles:{3:{cellWidth:50},4:{cellWidth:50}},didDrawCell:Q=>{Q.section==="body"&&(Q.cell.styles.fillColor=[254,242,242])}})}}else{if(hm(p,`${t} ${n}   ( )`),J=Bu(p,"    ",40),J=P7(p,_,J),J=Bu(p,"   AI  ",J+5),ie)try{const be=p.getImageProperties(ie),xe=180;let L=be.height*xe/be.width;L=Math.min(L,100);const O=(p.internal.pageSize.getWidth()-xe)/2;p.addImage(ie,"PNG",O,J,xe,L,void 0,"FAST"),J+=L+10}catch(be){console.error("PDF addImage/getImageProperties :",be),J+=10}else J=xd(p,"(    .   .)",J,{color:[220,38,38]}),J+=5;if(J=T0(p,"  ",S==null?void 0:S.summary,J,"gray"),J=T0(p,"   ",S==null?void 0:S.common_weaknesses,J,"red"),J=T0(p,"   ",S==null?void 0:S.recommendations,J,"green"),((E=S==null?void 0:S.question_analysis)==null?void 0:E.length)>0){p.addPage(),p.setFont("NotoSansKR","normal"),hm(p,`${t} ${n}   ( )`),J=Bu(p,"     (AI )",40);const be=S.question_analysis.map(xe=>[`${xe.qNum}`,N(xe.unit),N(xe.analysis_point),N(xe.solution)]);hI(p,{startY:J,head:[["","   (AI)"," "," "]],body:be,theme:"grid",styles:{font:"NotoSansKR",fontStyle:"normal",fontSize:8,cellPadding:1.5},headStyles:{font:"NotoSansKR",fontStyle:"normal",fillColor:[248,250,252],textColor:[55,65,81],fontSize:9},columnStyles:{2:{cellWidth:55},3:{cellWidth:55}},didDrawCell:xe=>{xe.section==="body"&&(xe.cell.styles.fillColor=[254,242,242])}})}}const W=v==="individual"?`${t}_${n}_${m}_.pdf`:`${t}_${n}__.pdf`;p.save(W)}catch(_){console.error("PDF  :",_),l(`PDF    : ${_.message}.`)}finally{f.innerHTML='<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="16" width="16" xmlns="http://www.w3.org/2000/svg" style="margin-right: 8px;"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg> PDF ',f.disabled=!1}},[e,t,n,i,l,c,A])}},l4e=()=>{const{currentPage:r,reportCurrentPage:e,setReportCurrentPage:t,reportHTML:n,aiLoading:i}=ec(),s=Kt.useRef(null);return Kt.useEffect(()=>{const a=s.current;if(r!=="page5"||!a||i)return;const o=a.querySelectorAll(".report-page"),A=a.querySelector("#pageIndicator"),l=a.querySelector("#prevPageBtn"),c=a.querySelector("#nextPageBtn"),u=a.querySelector("#pagination-controls");if(!A||!l||!c||!u)return;(p=>{o.forEach((v,m)=>{v.style.display=m===p-1?"block":"none"}),A.textContent=`${p} / ${o.length}`,l.disabled=p===1,c.disabled=p===o.length,u.style.display=o.length>1?"flex":"none"})(e);const f=()=>t(p=>p>1?p-1:p),d=()=>t(p=>p<o.length?p+1:p);l.onclick=null,c.onclick=null,l.onclick=f,c.onclick=d},[r,e,n,i,t]),s},c4e=()=>{const{currentPage:r,showPage:e,setSelectedClass:t,setSelectedDate:n,setSelectedStudent:i}=ec(),s=Kt.useCallback(()=>{r==="page5"?(e("page4"),i(null)):r==="page4"?(e("page2"),t("")):r==="page2"?(e("page3"),n("")):r==="page3"&&e("page1")},[r,e,t,n,i]),a=Kt.useCallback(()=>{e("page1"),t(""),n(""),i(null)},[e,t,n,i]);return{goBack:s,goHome:a,showPage:e}};/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var u4e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4e=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=(r,e)=>{const t=Kt.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:A,...l},c)=>Kt.createElement("svg",{ref:c,...u4e,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${h4e(r)}`,o].join(" "),...l},[...e.map(([u,h])=>Kt.createElement(u,h)),...Array.isArray(A)?A:[A]]));return t.displayName=`${r}`,t};/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4e=lu("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4e=lu("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4e=lu("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4e=lu("CloudUpload",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4e=lu("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4e=lu("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4e=lu("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=lu("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4e=lu("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4e=lu("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),R7=({handleFileChange:r,handleFileProcess:e,fileInputRef:t,selectedFiles:n,handleFileDrop:i})=>{const{processing:s,errorMessage:a,uploadDate:o,setUploadDate:A,showPage:l,reportSummaries:c,setSelectedDate:u,setErrorMessage:h}=ec(),[f,d]=Kt.useState(!1),[p,v]=Kt.useState("file"),[m,x]=Kt.useState(""),[b,T]=Kt.useState(20),[R,P]=Kt.useState([]),[B,E]=Kt.useState({name:"",score:"",answers:""}),[_,I]=Kt.useState(""),S=[{key:"MID_3",label:" 3 "},{key:"HIGH_1_1",label:"1  1"},{key:"HIGH_1_2",label:"1  2"},{key:"HIGH_1_MIXED",label:"1  ( 1+2)"},{key:"HIGH_2_SU1",label:"2 1"},{key:"HIGH_2_SU2",label:"2 2"},{key:"HIGH_2_DAESU",label:"2  (1+2)"}],F=Q=>{Q.preventDefault(),Q.stopPropagation(),f||d(!0)},N=Q=>{Q.preventDefault(),Q.stopPropagation(),d(!1)},G=Q=>{Q.preventDefault(),Q.stopPropagation(),d(!1),Q.dataTransfer.files&&Q.dataTransfer.files.length>0&&(i(Q.dataTransfer.files),Q.dataTransfer.clearData())},le=()=>new Date().toISOString().split("T")[0],ie=Q=>{if(!Q)return"";try{const[Y,oe,de]=Q.split("-");return`${parseInt(oe,10)} ${parseInt(de,10)}`}catch{return""}},te=Q=>{if(!Q)return le();const Y=Q.match(/(\d+) (\d+)/);if(Y){const oe=new Date().getFullYear(),de=Y[1].padStart(2,"0"),fe=Y[2].padStart(2,"0");return`${oe}-${de}-${fe}`}return le()},[J,W]=Kt.useState(()=>te(o));Kt.useEffect(()=>{if(!o){const Q=le();W(Q),A(ie(Q))}},[o,A]);const be=Q=>{const Y=Q.target.value;W(Y),A(ie(Y))},xe=()=>{if(!o){h("   .");return}new Set(c.map(Y=>Y.date)).has(o)?(h(""),u(o),l("page2")):h(`'${o}'    . 
   '  ' .`)},L=Q=>{Q.preventDefault(),h("");const{name:Y,score:oe,answers:de}=B,fe=parseInt(b);if(!Y||!oe||!de||fe<=0){h(", ,   ,    .");return}const _e=de.trim().toUpperCase().split(/[\s,]+/);if(_e.length!==fe){h(` (${_e.length})   (${fe})  .`);return}const Se={:Y,:parseFloat(oe)};_e.forEach((ne,$e)=>{Se[$e+1]=ne}),P(ne=>[...ne,Se]),E({name:"",score:"",answers:""})},O=Q=>{P(Y=>Y.filter((oe,de)=>de!==Q))},H=()=>{if(!_){h("   AI     .");return}e(p,{className:m,students:R},_)};return Fe.jsxs("div",{id:"fileUploadCard",className:"card",children:[Fe.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-gray-700",children:"AI   "}),Fe.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[Fe.jsxs("div",{children:[Fe.jsx("label",{htmlFor:"dateInput",className:"block text-sm font-medium text-gray-700 mb-1",children:"  ()"}),Fe.jsx("input",{type:"date",id:"dateInput",className:"w-full px-4 py-2 border border-gray-300 rounded-lg",value:J,onChange:be})]}),Fe.jsxs("div",{children:[Fe.jsx("label",{htmlFor:"subjectSelect",className:"block text-sm font-medium text-gray-700 mb-1",children:"  ()"}),Fe.jsxs("select",{id:"subjectSelect",className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-white",value:_,onChange:Q=>I(Q.target.value),children:[Fe.jsx("option",{value:"",disabled:!0,children:"--    --"}),S.map(Q=>Fe.jsx("option",{value:Q.key,children:Q.label},Q.key))]})]})]}),Fe.jsx("p",{className:"text-center text-gray-600 mb-6",children:" **PDF  ** ,    ."}),Fe.jsx("div",{className:`p-6 border-2 border-dashed rounded-xl transition-colors mb-4 ${f?"border-indigo-500 bg-indigo-50":"border-gray-300 hover:border-gray-400"}`,onDragOver:F,onDragEnter:F,onDragLeave:N,onDrop:G,children:Fe.jsxs("div",{className:"flex flex-col items-center justify-center space-y-3",children:[Fe.jsx(g4e,{size:30,className:`text-gray-400 transition-colors ${f?"text-indigo-600":""}`}),Fe.jsx("p",{className:`text-lg font-semibold transition-colors ${f?"text-indigo-600":"text-gray-500"}`,children:"PDF    "}),Fe.jsx("label",{htmlFor:"fileInput",className:"btn btn-primary cursor-pointer max-w-xs",children:Fe.jsx("span",{children:n.some(Q=>Q.name.endsWith(".pdf"))?"PDF  ":"PDF  "})}),Fe.jsx("input",{type:"file",id:"fileInput",ref:t,className:"hidden",multiple:!0,accept:".pdf,.csv,.xlsx",onChange:r})]})}),Fe.jsxs("div",{className:"mb-4",children:[Fe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"   ()"}),Fe.jsxs("div",{className:"flex justify-center gap-4",children:[Fe.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[Fe.jsx("input",{type:"radio",name:"inputType",value:"file",checked:p==="file",onChange:()=>v("file"),className:"radio radio-primary"}),Fe.jsx("span",{className:"label-text",children:"/CSV  "})]}),Fe.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[Fe.jsx("input",{type:"radio",name:"inputType",value:"direct",checked:p==="direct",onChange:()=>v("direct"),className:"radio radio-primary"}),Fe.jsx("span",{className:"label-text",children:"  "})]})]})]}),p==="file"&&Fe.jsxs("div",{className:"mb-4",children:[Fe.jsx("p",{className:"text-center text-gray-600 mb-4",children:"(  ** **  PDF /CSV   )"}),n.length>0&&Fe.jsxs("div",{id:"fileListContainer",className:"mb-4",children:[Fe.jsx("h4",{className:"font-semibold mb-2 text-gray-600",children:" :"}),Fe.jsx("ul",{id:"fileList",className:"list-disc list-inside bg-gray-50 p-4 rounded-lg text-sm text-gray-700 max-h-40 overflow-y-auto",children:n.map((Q,Y)=>Fe.jsx("li",{children:Q.name},Y))})]})]}),p==="direct"&&Fe.jsxs("div",{className:"mb-4 p-4 border rounded-lg bg-gray-50 space-y-4",children:[Fe.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Fe.jsxs("div",{children:[Fe.jsx("label",{htmlFor:"directClassName",className:"block text-sm font-medium text-gray-700 mb-1",children:"  ()"}),Fe.jsx("input",{type:"text",id:"directClassName",className:"w-full px-4 py-2 border border-gray-300 rounded-lg",value:m,onChange:Q=>x(Q.target.value),placeholder:": 1A"})]}),Fe.jsxs("div",{children:[Fe.jsx("label",{htmlFor:"directQuestionCount",className:"block text-sm font-medium text-gray-700 mb-1",children:"   ()"}),Fe.jsx("input",{type:"number",id:"directQuestionCount",className:"w-full px-4 py-2 border border-gray-300 rounded-lg",value:b,onChange:Q=>T(parseInt(Q.target.value)),min:"1"})]})]}),Fe.jsxs("form",{onSubmit:L,className:"space-y-3 p-3 border-t",children:[Fe.jsx("h4",{className:"font-semibold text-gray-700",children:" "}),Fe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[Fe.jsx("input",{type:"text",placeholder:" ",className:"w-full px-4 py-2 border border-gray-300 rounded-lg",value:B.name,onChange:Q=>E(Y=>({...Y,name:Q.target.value}))}),Fe.jsx("input",{type:"number",placeholder:"",className:"w-full px-4 py-2 border border-gray-300 rounded-lg",value:B.score,onChange:Q=>E(Y=>({...Y,score:Q.target.value}))}),Fe.jsx("input",{type:"text",placeholder:" (: O,X,O,X...)",className:"w-full px-4 py-2 border border-gray-300 rounded-lg",value:B.answers,onChange:Q=>E(Y=>({...Y,answers:Q.target.value}))})]}),Fe.jsx("button",{type:"submit",className:"btn btn-secondary btn-sm w-full",children:" "})]}),R.length>0&&Fe.jsx("div",{className:"overflow-x-auto max-h-48 border-t pt-2",children:Fe.jsxs("table",{className:"table table-zebra table-xs w-full",children:[Fe.jsx("thead",{children:Fe.jsxs("tr",{children:[Fe.jsx("th",{children:""}),Fe.jsx("th",{children:""}),Fe.jsxs("th",{children:["(1~",b,")"]}),Fe.jsx("th",{})]})}),Fe.jsx("tbody",{children:R.map((Q,Y)=>Fe.jsxs("tr",{children:[Fe.jsx("td",{children:Q.}),Fe.jsx("td",{children:Q.}),Fe.jsx("td",{className:"truncate max-w-xs",children:Array.from({length:b},(oe,de)=>Q[de+1]).join(", ")}),Fe.jsx("td",{children:Fe.jsx("button",{onClick:()=>O(Y),className:"btn btn-ghost btn-xs text-red-500",children:Fe.jsx(QT,{size:14})})})]},Y))})]})})]}),a&&Fe.jsx("div",{id:"error-message",className:"text-red-600 bg-red-100 p-3 rounded-lg mb-4 text-sm",dangerouslySetInnerHTML:{__html:a.replace(/\n/g,"<br>")}}),Fe.jsxs("button",{id:"processBtn",className:"btn btn-primary w-full text-lg",disabled:s,onClick:H,children:[s&&Fe.jsx("span",{id:"loader",className:"spinner",style:{borderColor:"white",borderBottomColor:"transparent",width:"20px",height:"20px",marginRight:"8px"}}),Fe.jsx("span",{children:s?" ...":" "})]}),Fe.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[Fe.jsxs("button",{className:"btn btn-primary w-full text-md",onClick:xe,disabled:s,children:[Fe.jsx(d4e,{size:18,className:"mr-2"}),"   "]}),Fe.jsx("button",{className:"btn btn-secondary w-full text-md",onClick:()=>{h(""),l("page3")},disabled:s,children:"  "})]})]})},_4e=({handleDeleteClass:r,selectedDate:e,handleSelectReport:t})=>{const{reportSummaries:n,setSelectedClass:i,showPage:s,setSelectedReportId:a}=ec(),o=n.filter(l=>l.date===e).map(l=>l.className),A=[...new Set(o)];return Fe.jsxs("div",{className:"card",children:[Fe.jsxs("h2",{className:"text-2xl font-bold text-center mb-6",children:[e," -  "]}),Fe.jsx("div",{id:"classButtons",className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:A.length>0?A.map(l=>Fe.jsxs("div",{className:"relative flex w-full",children:[Fe.jsx("button",{className:"btn btn-secondary w-full text-left pr-12",onClick:()=>{const c=n.find(u=>u.date===e&&u.className===l);c&&(a(c.id),i(l),t(c.id,"page4"))},children:l}),Fe.jsx("button",{className:"absolute right-1 top-1 bottom-1 btn btn-secondary h-auto px-2 text-red-500 hover:bg-red-100 hover:border-red-300",onClick:c=>{c.stopPropagation();const u=n.find(h=>h.date===e&&h.className===l);u&&r(u.id,l,e)},title:`${l}  `,children:Fe.jsx(QT,{size:18})})]},l)):Fe.jsx("p",{className:"text-center text-gray-500 col-span-full",children:"    ."})})]})},b4e=({handleDeleteDate:r})=>{const{reportSummaries:e,setSelectedDate:t,showPage:n}=ec(),i=new Set(e.map(a=>a.date)),s=Array.from(i);return Fe.jsxs("div",{className:"card",children:[Fe.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-gray-700",children:"  "}),Fe.jsx("div",{id:"dateButtons",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.length>0?s.map(a=>Fe.jsxs("div",{className:"relative flex w-full",children:[Fe.jsx("button",{className:"btn btn-secondary w-full text-left pr-12",onClick:()=>{t(a),n("page2")},children:a}),Fe.jsx("button",{className:"absolute right-1 top-1 bottom-1 btn btn-secondary h-auto px-2 text-red-500 hover:bg-red-100 hover:border-red-300",onClick:o=>{o.stopPropagation(),r(a)},title:`${a}  `,children:Fe.jsx(QT,{size:18})})]},a)):Fe.jsxs("p",{className:"text-center text-gray-500 col-span-full py-8",children:["  . ",Fe.jsx("br",{})," ''    ."]})})]})},E4e=({isOpen:r,onClose:e,onSubmit:t,questionCount:n,setErrorMessage:i})=>{if(!r)return null;const[s,a]=Kt.useState({name:"",score:"",answers:""}),o=A=>{A.preventDefault(),i("");const{name:l,score:c,answers:u}=s;if(!l||!c||!u||n<=0){i(", ,    .");return}const h=u.trim().toUpperCase().split(/[\s,]+/);if(h.length!==n){i(` (${h.length})   (${n})  .`);return}const f={:l,:parseFloat(c)};h.forEach((d,p)=>{f[p+1]=d}),t(f),e()};return Fe.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 flex justify-center items-center",children:Fe.jsxs("div",{className:"card w-full max-w-lg bg-white p-6 rounded-lg shadow-xl",children:[Fe.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:" "}),Fe.jsxs("form",{onSubmit:o,className:"space-y-4",children:[Fe.jsxs("div",{children:[Fe.jsx("label",{htmlFor:"studentName",className:"block text-sm font-medium text-gray-700",children:" "}),Fe.jsx("input",{type:"text",id:"studentName",className:"w-full px-4 py-2 border border-gray-300 rounded-lg",value:s.name,onChange:A=>a(l=>({...l,name:A.target.value})),required:!0})]}),Fe.jsxs("div",{children:[Fe.jsx("label",{htmlFor:"studentScore",className:"block text-sm font-medium text-gray-700",children:""}),Fe.jsx("input",{type:"number",id:"studentScore",className:"w-full px-4 py-2 border border-gray-300 rounded-lg",value:s.score,onChange:A=>a(l=>({...l,score:A.target.value})),required:!0})]}),Fe.jsxs("div",{children:[Fe.jsxs("label",{htmlFor:"studentAnswers",className:"block text-sm font-medium text-gray-700",children:["  (",n,")"]}),Fe.jsx("textarea",{id:"studentAnswers",className:"w-full px-4 py-2 border border-gray-300 rounded-lg h-24",placeholder:"O, X, O, O...",value:s.answers,onChange:A=>a(l=>({...l,answers:A.target.value})),required:!0}),Fe.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[" ",n,"   (O)  (X) (,)    ."]})]}),Fe.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[Fe.jsx("button",{type:"button",className:"btn btn-secondary",onClick:e,children:""}),Fe.jsx("button",{type:"submit",className:"btn btn-primary",children:""})]})]})]})})},C4e=({handleDeleteStudent:r,selectedClass:e,selectedDate:t,handleSelectReport:n,handleAddStudent:i})=>{const{currentReportData:s,selectedStudent:a,setSelectedStudent:o,showPage:A,selectedReportId:l,setErrorMessage:c}=ec(),[u,h]=Kt.useState(!1),f=(s==null?void 0:s.students)||[],d=(s==null?void 0:s.questionCount)||0;return Fe.jsxs(Fe.Fragment,{children:[Fe.jsx(E4e,{isOpen:u,onClose:()=>h(!1),onSubmit:i,questionCount:d,setErrorMessage:c}),Fe.jsxs("div",{className:"card",children:[Fe.jsxs("div",{className:"flex justify-between items-center mb-6",children:[Fe.jsx("h2",{className:"text-2xl font-bold text-center",children:" "}),Fe.jsxs("button",{className:"btn btn-primary btn-sm",onClick:()=>h(!0),children:[Fe.jsx(p4e,{size:16,className:"mr-2"})," "]})]}),Fe.jsxs("div",{id:"reportSelectionButtons",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[Fe.jsx("button",{className:`btn btn-secondary w-full ${a===null?"btn-nav-active":""}`,onClick:()=>{o(null),n(l,"page5")},children:" "}),f.map(p=>Fe.jsxs("div",{className:"relative flex",children:[Fe.jsx("button",{className:`btn btn-secondary w-full text-left pr-10 ${a===p.name?"btn-nav-active":""}`,onClick:()=>{o(p.name),n(l,"page5")},children:p.name}),Fe.jsx("button",{className:"absolute right-1 top-1 bottom-1 btn btn-secondary h-auto px-2 text-red-500 hover:bg-red-100 hover:border-red-300",onClick:v=>{v.stopPropagation(),r(p.name,e,t)},title:`${p.name}   `,children:Fe.jsx(QT,{size:16})})]},p.name))]})]})]})},B4e=()=>{const{reportHTML:r}=ec(),e=l4e();return Fe.jsxs("div",{id:"reportContainer",ref:e,children:[Fe.jsx("div",{id:"reportContent",className:"space-y-6",dangerouslySetInnerHTML:{__html:r}}),Fe.jsxs("div",{id:"pagination-controls",className:"flex justify-center items-center space-x-4 mt-4 print:hidden",style:{display:"none"},children:[Fe.jsx("button",{id:"prevPageBtn",className:"btn btn-secondary",children:"< "}),Fe.jsx("span",{id:"pageIndicator",children:"1 / 3"}),Fe.jsx("button",{id:"nextPageBtn",className:"btn btn-secondary",children:" >"})]})]})},S4e=({onLogin:r,onRegister:e,loginError:t,isLoggingIn:n,setLoginError:i})=>{const[s,a]=Kt.useState(""),[o,A]=Kt.useState(""),[l,c]=Kt.useState(!1),u=h=>{if(h.preventDefault(),!s||!o){alert("   4 .");return}l?e(s,o):r(s,o)};return Fe.jsxs("div",{className:"card max-w-md mx-auto mt-20",children:[Fe.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-gray-700",children:l?" ":"AI   "}),Fe.jsx("p",{className:"text-center text-gray-600 mb-6",children:l?"    4 .":" . ()"}),Fe.jsxs("form",{onSubmit:u,className:"space-y-4",children:[Fe.jsxs("div",{children:[Fe.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:""}),Fe.jsx("input",{type:"text",id:"name",className:"w-full px-4 py-2 border border-gray-300 rounded-lg",value:s,onChange:h=>a(h.target.value),placeholder:": ",disabled:n})]}),Fe.jsxs("div",{children:[Fe.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"  4"}),Fe.jsx("input",{type:"tel",id:"phone",className:"w-full px-4 py-2 border border-gray-300 rounded-lg",value:o,onChange:h=>A(h.target.value.replace(/\D/g,"")),placeholder:": 1775",maxLength:4,pattern:"\\d{4}",disabled:n})]}),t&&Fe.jsxs("div",{className:"text-red-600 bg-red-100 p-3 rounded-lg text-sm",children:[Fe.jsx(y4e,{className:"w-4 h-4 mr-2 inline"}),t]}),Fe.jsxs("button",{type:"submit",className:"btn btn-primary w-full text-lg",disabled:n||!s||!o,children:[n&&Fe.jsx("span",{className:"spinner",style:{borderColor:"white",borderBottomColor:"transparent",width:"20px",height:"20px",marginRight:"8px"}}),Fe.jsx("span",{children:n?" ...":l?"":""})]})]}),Fe.jsx("div",{className:"text-center mt-6",children:Fe.jsx("button",{onClick:()=>{c(!l),i("")},className:"text-sm text-indigo-600 hover:text-indigo-800 font-medium",disabled:n,children:l?"  ? ":" ? "})})]})},T4e=()=>{const{currentPage:r,selectedClass:e,selectedDate:t,selectedStudent:n,initialLoading:i,setInitialLoading:s,errorMessage:a,setErrorMessage:o,currentTeacher:A,setCurrentTeacher:l,reportSummaries:c,setReportSummaries:u,setCurrentReportData:h,selectedReportId:f,setSelectedReportId:d,showPage:p,resetSelections:v,selectedFiles:m}=ec(),[x,b]=Kt.useState(!0),[T,R]=Kt.useState(!1),[P,B]=Kt.useState(""),{fileInputRef:E,handleFileChange:_,handleFileProcess:I,handleFileDrop:S}=X1e(),{goBack:F,goHome:N}=c4e();o_e();const{handlePdfSave:G}=A4e();Kt.useEffect(()=>{},[o]),Kt.useEffect(()=>{(async()=>{try{dO.currentUser||await Oae(dO),b(!1)}catch(de){B("Firebase  . "+de.message),b(!1)}})()},[]);const le=async(oe,de)=>{R(!0),B("");try{const fe=await iAe(oe,de);fe?await te(fe):(B("   .   ."),R(!1))}catch(fe){B(fe.message),R(!1)}},ie=async(oe,de)=>{R(!0),B("");try{const fe=await sAe(oe,de);alert(" .  ."),await te(fe)}catch(fe){B(fe.message),R(!1)}},te=async oe=>{l(oe),s(!0);try{const de=await aAe();u(de||[])}catch(de){console.error("   :",de),B("    : "+de.message),u([])}finally{s(!1),R(!1)}},J=()=>{l(null),u([]),v(),p("page1"),o("")},W=Kt.useCallback(async(oe,de)=>{if(oe){s(!0);try{const fe=await oAe(oe);h(fe),p(de)}catch(fe){o("    : "+fe.message),p("page3")}finally{s(!1)}}},[h,s,o,p]),be=async oe=>{if(!window.confirm(`'${oe}'     ?     .`))return;o(" ..."),s(!0);const de=c.filter(fe=>fe.date===oe);try{await Promise.all(de.map(fe=>gO(fe.id))),u(fe=>fe.filter(_e=>_e.date!==oe)),o("")}catch(fe){console.error("  :",fe),o("    : "+fe.message)}finally{s(!1)}},xe=async(oe,de,fe)=>{if(window.confirm(`'${fe}' '${de}'   ?`)){s(!0);try{await gO(oe),u(_e=>_e.filter(Se=>Se.id!==oe))}catch(_e){o("    : "+_e.message)}finally{s(!1)}}},L=async(oe,de,fe)=>{if(window.confirm(`'${fe}' - '${de}' '${oe}'    ?`)){if(!f){o(":  ID  .");return}s(!0);try{const _e=await lAe(f,oe);h(Se=>({...Se,students:Se.students.filter(ne=>ne.name!==oe),studentCount:_e.studentCount,classAverage:_e.classAverage,answerRates:_e.answerRates}))}catch(_e){o("    : "+_e.message)}finally{s(!1)}}},O=async oe=>{if(!f){o(":  ID  .");return}s(!0);try{const de=CN([oe]);if(!de||!de.students||de.students.length===0)throw new Error("   . (processStudentData)");const fe=de.students[0],_e=await cAe(f,fe);h(Se=>({...Se,students:[...Se.students,fe],studentCount:_e.studentCount,classAverage:_e.classAverage,answerRates:_e.answerRates}))}catch(de){console.error("   :",de),o("    : "+de.message)}finally{s(!1)}},H=()=>!A||r==="page1"?null:Fe.jsx("nav",{id:"navigation",className:"fixed top-0 left-0 right-0 bg-white shadow-md p-4 z-10 flex items-center h-16 print:hidden",children:Fe.jsxs("div",{className:"container mx-auto max-w-5xl flex justify-between items-center",children:[Fe.jsxs("div",{className:"flex items-center space-x-2",children:[Fe.jsxs("button",{id:"navHome",className:"btn btn-primary",onClick:N,children:[Fe.jsx(v4e,{size:20}),Fe.jsx("span",{className:"hidden sm:inline ml-2",children:""})]}),Fe.jsxs("button",{id:"navBack",className:"btn btn-secondary",onClick:F,children:[Fe.jsx(f4e,{size:20}),Fe.jsx("span",{className:"hidden sm:inline ml-2",children:""})]}),Fe.jsxs("div",{className:"text-sm text-gray-500 hidden sm:flex items-center",children:[["page2","page4","page5"].includes(r)&&Fe.jsx("span",{id:"navDateName",className:"font-semibold",children:`> ${t}`}),["page4","page5"].includes(r)&&Fe.jsx("span",{id:"navClassName",className:"font-semibold",children:`> ${e}`}),r==="page5"&&Fe.jsx("span",{id:"navReportName",className:"font-semibold",children:`> ${n||" "}`})]})]}),Fe.jsxs("div",{id:"navActions",className:"flex items-center space-x-3",children:[r==="page5"&&Fe.jsxs("button",{id:"savePdfBtn",className:"btn btn-secondary btn-sm",onClick:G,"data-report-type":n?"individual":"overall","data-student-name":n||"",children:[Fe.jsx(m4e,{size:16,className:"mr-2"})," PDF "]}),Fe.jsxs("span",{className:"text-sm font-medium text-gray-700 hidden sm:flex items-center",children:[Fe.jsx(x4e,{size:16,className:"mr-1.5"})," ",A.name,""]}),Fe.jsxs("button",{id:"logoutBtn",className:"btn btn-secondary btn-sm",onClick:J,children:[Fe.jsx(w4e,{size:16,className:"mr-0 sm:mr-2"}),Fe.jsx("span",{className:"hidden sm:inline",children:""})]})]})]})}),Q=()=>{if(x)return Fe.jsxs("div",{id:"initialLoader",className:"card p-8 text-center mt-20",children:[Fe.jsx("div",{className:"spinner mx-auto"}),Fe.jsx("p",{className:"mt-4 text-gray-600",children:"Firebase  ..."})]});if(!A)return Fe.jsx(S4e,{onLogin:le,onRegister:ie,loginError:P,isLoggingIn:T,setLoginError:B});if(i)return Fe.jsxs("div",{id:"initialLoader",className:"card p-8 text-center mt-20",children:[Fe.jsx("div",{className:"spinner mx-auto"}),Fe.jsx("p",{className:"mt-4 text-gray-600",children:"  ..."})]});switch(r){case"page1":return Fe.jsx(R7,{handleFileChange:_,handleFileProcess:I,fileInputRef:E,selectedFiles:m,handleFileDrop:S});case"page2":return Fe.jsx(_4e,{handleDeleteClass:xe,selectedDate:t,handleSelectReport:W});case"page3":return Fe.jsx(b4e,{handleDeleteDate:be});case"page4":return Fe.jsx(C4e,{handleDeleteStudent:L,handleAddStudent:O,selectedClass:e,selectedDate:t,handleSelectReport:W});case"page5":return Fe.jsx(B4e,{});default:return Fe.jsx(R7,{handleFileChange:_,handleFileProcess:I,fileInputRef:E,selectedFiles:m,handleFileDrop:S})}},Y=()=>!a||r==="page1"?null:Fe.jsx("div",{id:"global-error-message",children:" "});return Fe.jsxs("div",{className:"container mx-auto p-4 max-w-5xl",children:[H(),Y(),Fe.jsx("main",{className:A&&r!=="page1"?"mt-16 pt-8":"",children:Q()})]})};dI.createRoot(document.getElementById("root")).render(Fe.jsx(AZ.StrictMode,{children:Fe.jsx(yte,{children:Fe.jsx(T4e,{})})}));export{hn as _,WJ as c,D7 as g};
